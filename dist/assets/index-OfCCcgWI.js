(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const K of document.querySelectorAll('link[rel="modulepreload"]'))Z(K);new MutationObserver(K=>{for(const Re of K)if(Re.type==="childList")for(const nt of Re.addedNodes)nt.tagName==="LINK"&&nt.rel==="modulepreload"&&Z(nt)}).observe(document,{childList:!0,subtree:!0});function I(K){const Re={};return K.integrity&&(Re.integrity=K.integrity),K.referrerPolicy&&(Re.referrerPolicy=K.referrerPolicy),K.crossOrigin==="use-credentials"?Re.credentials="include":K.crossOrigin==="anonymous"?Re.credentials="omit":Re.credentials="same-origin",Re}function Z(K){if(K.ep)return;K.ep=!0;const Re=I(K);fetch(K.href,Re)}})();function vf(s,x){const I=Object.create(null),Z=s.split(",");for(let K=0;K<Z.length;K++)I[Z[K]]=!0;return x?K=>!!I[K.toLowerCase()]:K=>!!I[K]}const ba={},tl=[],ws=()=>{},Qy=()=>!1,od=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),yf=s=>s.startsWith("onUpdate:"),oo=Object.assign,bf=(s,x)=>{const I=s.indexOf(x);I>-1&&s.splice(I,1)},e8=Object.prototype.hasOwnProperty,$r=(s,x)=>e8.call(s,x),Sr=Array.isArray,il=s=>sd(s)==="[object Map]",Bx=s=>sd(s)==="[object Set]",Br=s=>typeof s=="function",Za=s=>typeof s=="string",fl=s=>typeof s=="symbol",Ta=s=>s!==null&&typeof s=="object",Lx=s=>(Ta(s)||Br(s))&&Br(s.then)&&Br(s.catch),Fx=Object.prototype.toString,sd=s=>Fx.call(s),t8=s=>sd(s).slice(8,-1),Ox=s=>sd(s)==="[object Object]",Sf=s=>Za(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,Vc=vf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ld=s=>{const x=Object.create(null);return I=>x[I]||(x[I]=s(I))},i8=/-(\w)/g,al=ld(s=>s.replace(i8,(x,I)=>I?I.toUpperCase():"")),n8=/\B([A-Z])/g,hl=ld(s=>s.replace(n8,"-$1").toLowerCase()),zx=ld(s=>s.charAt(0).toUpperCase()+s.slice(1)),Mu=ld(s=>s?`on${zx(s)}`:""),L0=(s,x)=>!Object.is(s,x),Gc=(s,x)=>{for(let I=0;I<s.length;I++)s[I](x)},$c=(s,x,I)=>{Object.defineProperty(s,x,{configurable:!0,enumerable:!1,value:I})},Ju=s=>{const x=parseFloat(s);return isNaN(x)?s:x};let P2;const Ku=()=>P2||(P2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cd(s){if(Sr(s)){const x={};for(let I=0;I<s.length;I++){const Z=s[I],K=Za(Z)?s8(Z):cd(Z);if(K)for(const Re in K)x[Re]=K[Re]}return x}else if(Za(s)||Ta(s))return s}const r8=/;(?![^(]*\))/g,a8=/:([^]+)/,o8=/\/\*[^]*?\*\//g;function s8(s){const x={};return s.replace(o8,"").split(r8).forEach(I=>{if(I){const Z=I.split(a8);Z.length>1&&(x[Z[0].trim()]=Z[1].trim())}}),x}function Cf(s){let x="";if(Za(s))x=s;else if(Sr(s))for(let I=0;I<s.length;I++){const Z=Cf(s[I]);Z&&(x+=Z+" ")}else if(Ta(s))for(const I in s)s[I]&&(x+=I+" ");return x.trim()}const l8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",c8=vf(l8);function Nx(s){return!!s||s===""}const Al=s=>Za(s)?s:s==null?"":Sr(s)||Ta(s)&&(s.toString===Fx||!Br(s.toString))?JSON.stringify(s,jx,2):String(s),jx=(s,x)=>x&&x.__v_isRef?jx(s,x.value):il(x)?{[`Map(${x.size})`]:[...x.entries()].reduce((I,[Z,K],Re)=>(I[Bu(Z,Re)+" =>"]=K,I),{})}:Bx(x)?{[`Set(${x.size})`]:[...x.values()].map(I=>Bu(I))}:fl(x)?Bu(x):Ta(x)&&!Sr(x)&&!Ox(x)?String(x):x,Bu=(s,x="")=>{var I;return fl(s)?`Symbol(${(I=s.description)!=null?I:x})`:s};let ns;class d8{constructor(x=!1){this.detached=x,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ns,!x&&ns&&(this.index=(ns.scopes||(ns.scopes=[])).push(this)-1)}get active(){return this._active}run(x){if(this._active){const I=ns;try{return ns=this,x()}finally{ns=I}}}on(){ns=this}off(){ns=this.parent}stop(x){if(this._active){let I,Z;for(I=0,Z=this.effects.length;I<Z;I++)this.effects[I].stop();for(I=0,Z=this.cleanups.length;I<Z;I++)this.cleanups[I]();if(this.scopes)for(I=0,Z=this.scopes.length;I<Z;I++)this.scopes[I].stop(!0);if(!this.detached&&this.parent&&!x){const K=this.parent.scopes.pop();K&&K!==this&&(this.parent.scopes[this.index]=K,K.index=this.index)}this.parent=void 0,this._active=!1}}}function u8(s,x=ns){x&&x.active&&x.effects.push(s)}function f8(){return ns}const Tf=s=>{const x=new Set(s);return x.w=0,x.n=0,x},Ux=s=>(s.w&m0)>0,Hx=s=>(s.n&m0)>0,h8=({deps:s})=>{if(s.length)for(let x=0;x<s.length;x++)s[x].w|=m0},x8=s=>{const{deps:x}=s;if(x.length){let I=0;for(let Z=0;Z<x.length;Z++){const K=x[Z];Ux(K)&&!Hx(K)?K.delete(s):x[I++]=K,K.w&=~m0,K.n&=~m0}x.length=I}},$u=new WeakMap;let zl=0,m0=1;const Qu=30;let as;const A0=Symbol(""),ef=Symbol("");class Pf{constructor(x,I=null,Z){this.fn=x,this.scheduler=I,this.active=!0,this.deps=[],this.parent=void 0,u8(this,Z)}run(){if(!this.active)return this.fn();let x=as,I=x0;for(;x;){if(x===this)return;x=x.parent}try{return this.parent=as,as=this,x0=!0,m0=1<<++zl,zl<=Qu?h8(this):w2(this),this.fn()}finally{zl<=Qu&&x8(this),m0=1<<--zl,as=this.parent,x0=I,this.parent=void 0,this.deferStop&&this.stop()}}stop(){as===this?this.deferStop=!0:this.active&&(w2(this),this.onStop&&this.onStop(),this.active=!1)}}function w2(s){const{deps:x}=s;if(x.length){for(let I=0;I<x.length;I++)x[I].delete(s);x.length=0}}let x0=!0;const Vx=[];function xl(){Vx.push(x0),x0=!1}function pl(){const s=Vx.pop();x0=s===void 0?!0:s}function Do(s,x,I){if(x0&&as){let Z=$u.get(s);Z||$u.set(s,Z=new Map);let K=Z.get(I);K||Z.set(I,K=Tf()),Gx(K)}}function Gx(s,x){let I=!1;zl<=Qu?Hx(s)||(s.n|=m0,I=!Ux(s)):I=!s.has(as),I&&(s.add(as),as.deps.push(s))}function qs(s,x,I,Z,K,Re){const nt=$u.get(s);if(!nt)return;let xt=[];if(x==="clear")xt=[...nt.values()];else if(I==="length"&&Sr(s)){const _t=Number(Z);nt.forEach((Jt,Wt)=>{(Wt==="length"||!fl(Wt)&&Wt>=_t)&&xt.push(Jt)})}else switch(I!==void 0&&xt.push(nt.get(I)),x){case"add":Sr(s)?Sf(I)&&xt.push(nt.get("length")):(xt.push(nt.get(A0)),il(s)&&xt.push(nt.get(ef)));break;case"delete":Sr(s)||(xt.push(nt.get(A0)),il(s)&&xt.push(nt.get(ef)));break;case"set":il(s)&&xt.push(nt.get(A0));break}if(xt.length===1)xt[0]&&tf(xt[0]);else{const _t=[];for(const Jt of xt)Jt&&_t.push(...Jt);tf(Tf(_t))}}function tf(s,x){const I=Sr(s)?s:[...s];for(const Z of I)Z.computed&&E2(Z);for(const Z of I)Z.computed||E2(Z)}function E2(s,x){(s!==as||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}const p8=vf("__proto__,__v_isRef,__isVue"),Wx=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(fl)),R2=m8();function m8(){const s={};return["includes","indexOf","lastIndexOf"].forEach(x=>{s[x]=function(...I){const Z=oa(this);for(let Re=0,nt=this.length;Re<nt;Re++)Do(Z,"get",Re+"");const K=Z[x](...I);return K===-1||K===!1?Z[x](...I.map(oa)):K}}),["push","pop","shift","unshift","splice"].forEach(x=>{s[x]=function(...I){xl();const Z=oa(this)[x].apply(this,I);return pl(),Z}}),s}function _8(s){const x=oa(this);return Do(x,"has",s),x.hasOwnProperty(s)}class Zx{constructor(x=!1,I=!1){this._isReadonly=x,this._shallow=I}get(x,I,Z){const K=this._isReadonly,Re=this._shallow;if(I==="__v_isReactive")return!K;if(I==="__v_isReadonly")return K;if(I==="__v_isShallow")return Re;if(I==="__v_raw")return Z===(K?Re?I8:Jx:Re?qx:Xx).get(x)||Object.getPrototypeOf(x)===Object.getPrototypeOf(Z)?x:void 0;const nt=Sr(x);if(!K){if(nt&&$r(R2,I))return Reflect.get(R2,I,Z);if(I==="hasOwnProperty")return _8}const xt=Reflect.get(x,I,Z);return(fl(I)?Wx.has(I):p8(I))||(K||Do(x,"get",I),Re)?xt:Ao(xt)?nt&&Sf(I)?xt:xt.value:Ta(xt)?K?$x(xt):ud(xt):xt}}class Yx extends Zx{constructor(x=!1){super(!1,x)}set(x,I,Z,K){let Re=x[I];if(!this._shallow){const _t=ol(Re);if(!Qc(Z)&&!ol(Z)&&(Re=oa(Re),Z=oa(Z)),!Sr(x)&&Ao(Re)&&!Ao(Z))return _t?!1:(Re.value=Z,!0)}const nt=Sr(x)&&Sf(I)?Number(I)<x.length:$r(x,I),xt=Reflect.set(x,I,Z,K);return x===oa(K)&&(nt?L0(Z,Re)&&qs(x,"set",I,Z):qs(x,"add",I,Z)),xt}deleteProperty(x,I){const Z=$r(x,I);x[I];const K=Reflect.deleteProperty(x,I);return K&&Z&&qs(x,"delete",I,void 0),K}has(x,I){const Z=Reflect.has(x,I);return(!fl(I)||!Wx.has(I))&&Do(x,"has",I),Z}ownKeys(x){return Do(x,"iterate",Sr(x)?"length":A0),Reflect.ownKeys(x)}}class g8 extends Zx{constructor(x=!1){super(!0,x)}set(x,I){return!0}deleteProperty(x,I){return!0}}const v8=new Yx,y8=new g8,b8=new Yx(!0),wf=s=>s,dd=s=>Reflect.getPrototypeOf(s);function Oc(s,x,I=!1,Z=!1){s=s.__v_raw;const K=oa(s),Re=oa(x);I||(L0(x,Re)&&Do(K,"get",x),Do(K,"get",Re));const{has:nt}=dd(K),xt=Z?wf:I?kf:Gl;if(nt.call(K,x))return xt(s.get(x));if(nt.call(K,Re))return xt(s.get(Re));s!==K&&s.get(x)}function zc(s,x=!1){const I=this.__v_raw,Z=oa(I),K=oa(s);return x||(L0(s,K)&&Do(Z,"has",s),Do(Z,"has",K)),s===K?I.has(s):I.has(s)||I.has(K)}function Nc(s,x=!1){return s=s.__v_raw,!x&&Do(oa(s),"iterate",A0),Reflect.get(s,"size",s)}function k2(s){s=oa(s);const x=oa(this);return dd(x).has.call(x,s)||(x.add(s),qs(x,"add",s,s)),this}function I2(s,x){x=oa(x);const I=oa(this),{has:Z,get:K}=dd(I);let Re=Z.call(I,s);Re||(s=oa(s),Re=Z.call(I,s));const nt=K.call(I,s);return I.set(s,x),Re?L0(x,nt)&&qs(I,"set",s,x):qs(I,"add",s,x),this}function D2(s){const x=oa(this),{has:I,get:Z}=dd(x);let K=I.call(x,s);K||(s=oa(s),K=I.call(x,s)),Z&&Z.call(x,s);const Re=x.delete(s);return K&&qs(x,"delete",s,void 0),Re}function A2(){const s=oa(this),x=s.size!==0,I=s.clear();return x&&qs(s,"clear",void 0,void 0),I}function jc(s,x){return function(Z,K){const Re=this,nt=Re.__v_raw,xt=oa(nt),_t=x?wf:s?kf:Gl;return!s&&Do(xt,"iterate",A0),nt.forEach((Jt,Wt)=>Z.call(K,_t(Jt),_t(Wt),Re))}}function Uc(s,x,I){return function(...Z){const K=this.__v_raw,Re=oa(K),nt=il(Re),xt=s==="entries"||s===Symbol.iterator&&nt,_t=s==="keys"&&nt,Jt=K[s](...Z),Wt=I?wf:x?kf:Gl;return!x&&Do(Re,"iterate",_t?ef:A0),{next(){const{value:ei,done:Mi}=Jt.next();return Mi?{value:ei,done:Mi}:{value:xt?[Wt(ei[0]),Wt(ei[1])]:Wt(ei),done:Mi}},[Symbol.iterator](){return this}}}}function c0(s){return function(...x){return s==="delete"?!1:s==="clear"?void 0:this}}function S8(){const s={get(Re){return Oc(this,Re)},get size(){return Nc(this)},has:zc,add:k2,set:I2,delete:D2,clear:A2,forEach:jc(!1,!1)},x={get(Re){return Oc(this,Re,!1,!0)},get size(){return Nc(this)},has:zc,add:k2,set:I2,delete:D2,clear:A2,forEach:jc(!1,!0)},I={get(Re){return Oc(this,Re,!0)},get size(){return Nc(this,!0)},has(Re){return zc.call(this,Re,!0)},add:c0("add"),set:c0("set"),delete:c0("delete"),clear:c0("clear"),forEach:jc(!0,!1)},Z={get(Re){return Oc(this,Re,!0,!0)},get size(){return Nc(this,!0)},has(Re){return zc.call(this,Re,!0)},add:c0("add"),set:c0("set"),delete:c0("delete"),clear:c0("clear"),forEach:jc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Re=>{s[Re]=Uc(Re,!1,!1),I[Re]=Uc(Re,!0,!1),x[Re]=Uc(Re,!1,!0),Z[Re]=Uc(Re,!0,!0)}),[s,I,x,Z]}const[C8,T8,P8,w8]=S8();function Ef(s,x){const I=x?s?w8:P8:s?T8:C8;return(Z,K,Re)=>K==="__v_isReactive"?!s:K==="__v_isReadonly"?s:K==="__v_raw"?Z:Reflect.get($r(I,K)&&K in Z?I:Z,K,Re)}const E8={get:Ef(!1,!1)},R8={get:Ef(!1,!0)},k8={get:Ef(!0,!1)},Xx=new WeakMap,qx=new WeakMap,Jx=new WeakMap,I8=new WeakMap;function D8(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function A8(s){return s.__v_skip||!Object.isExtensible(s)?0:D8(t8(s))}function ud(s){return ol(s)?s:Rf(s,!1,v8,E8,Xx)}function Kx(s){return Rf(s,!1,b8,R8,qx)}function $x(s){return Rf(s,!0,y8,k8,Jx)}function Rf(s,x,I,Z,K){if(!Ta(s)||s.__v_raw&&!(x&&s.__v_isReactive))return s;const Re=K.get(s);if(Re)return Re;const nt=A8(s);if(nt===0)return s;const xt=new Proxy(s,nt===2?Z:I);return K.set(s,xt),xt}function nl(s){return ol(s)?nl(s.__v_raw):!!(s&&s.__v_isReactive)}function ol(s){return!!(s&&s.__v_isReadonly)}function Qc(s){return!!(s&&s.__v_isShallow)}function Qx(s){return nl(s)||ol(s)}function oa(s){const x=s&&s.__v_raw;return x?oa(x):s}function ep(s){return $c(s,"__v_skip",!0),s}const Gl=s=>Ta(s)?ud(s):s,kf=s=>Ta(s)?$x(s):s;function tp(s){x0&&as&&(s=oa(s),Gx(s.dep||(s.dep=Tf())))}function ip(s,x){s=oa(s);const I=s.dep;I&&tf(I)}function Ao(s){return!!(s&&s.__v_isRef===!0)}function K0(s){return np(s,!1)}function M8(s){return np(s,!0)}function np(s,x){return Ao(s)?s:new B8(s,x)}class B8{constructor(x,I){this.__v_isShallow=I,this.dep=void 0,this.__v_isRef=!0,this._rawValue=I?x:oa(x),this._value=I?x:Gl(x)}get value(){return tp(this),this._value}set value(x){const I=this.__v_isShallow||Qc(x)||ol(x);x=I?x:oa(x),L0(x,this._rawValue)&&(this._rawValue=x,this._value=I?x:Gl(x),ip(this))}}function M0(s){return Ao(s)?s.value:s}const L8={get:(s,x,I)=>M0(Reflect.get(s,x,I)),set:(s,x,I,Z)=>{const K=s[x];return Ao(K)&&!Ao(I)?(K.value=I,!0):Reflect.set(s,x,I,Z)}};function rp(s){return nl(s)?s:new Proxy(s,L8)}class F8{constructor(x,I,Z,K){this._setter=I,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Pf(x,()=>{this._dirty||(this._dirty=!0,ip(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!K,this.__v_isReadonly=Z}get value(){const x=oa(this);return tp(x),(x._dirty||!x._cacheable)&&(x._dirty=!1,x._value=x.effect.run()),x._value}set value(x){this._setter(x)}}function O8(s,x,I=!1){let Z,K;const Re=Br(s);return Re?(Z=s,K=ws):(Z=s.get,K=s.set),new F8(Z,K,Re||!K,I)}function p0(s,x,I,Z){let K;try{K=Z?s(...Z):s()}catch(Re){fd(Re,x,I)}return K}function cs(s,x,I,Z){if(Br(s)){const Re=p0(s,x,I,Z);return Re&&Lx(Re)&&Re.catch(nt=>{fd(nt,x,I)}),Re}const K=[];for(let Re=0;Re<s.length;Re++)K.push(cs(s[Re],x,I,Z));return K}function fd(s,x,I,Z=!0){const K=x?x.vnode:null;if(x){let Re=x.parent;const nt=x.proxy,xt=I;for(;Re;){const Jt=Re.ec;if(Jt){for(let Wt=0;Wt<Jt.length;Wt++)if(Jt[Wt](s,nt,xt)===!1)return}Re=Re.parent}const _t=x.appContext.config.errorHandler;if(_t){p0(_t,null,10,[s,nt,xt]);return}}z8(s,I,K,Z)}function z8(s,x,I,Z=!0){console.error(s)}let Wl=!1,nf=!1;const po=[];let Ts=0;const rl=[];let Xs=null,k0=0;const ap=Promise.resolve();let If=null;function op(s){const x=If||ap;return s?x.then(this?s.bind(this):s):x}function N8(s){let x=Ts+1,I=po.length;for(;x<I;){const Z=x+I>>>1,K=po[Z],Re=Zl(K);Re<s||Re===s&&K.pre?x=Z+1:I=Z}return x}function Df(s){(!po.length||!po.includes(s,Wl&&s.allowRecurse?Ts+1:Ts))&&(s.id==null?po.push(s):po.splice(N8(s.id),0,s),sp())}function sp(){!Wl&&!nf&&(nf=!0,If=ap.then(cp))}function j8(s){const x=po.indexOf(s);x>Ts&&po.splice(x,1)}function U8(s){Sr(s)?rl.push(...s):(!Xs||!Xs.includes(s,s.allowRecurse?k0+1:k0))&&rl.push(s),sp()}function M2(s,x,I=Wl?Ts+1:0){for(;I<po.length;I++){const Z=po[I];if(Z&&Z.pre){if(s&&Z.id!==s.uid)continue;po.splice(I,1),I--,Z()}}}function lp(s){if(rl.length){const x=[...new Set(rl)];if(rl.length=0,Xs){Xs.push(...x);return}for(Xs=x,Xs.sort((I,Z)=>Zl(I)-Zl(Z)),k0=0;k0<Xs.length;k0++)Xs[k0]();Xs=null,k0=0}}const Zl=s=>s.id==null?1/0:s.id,H8=(s,x)=>{const I=Zl(s)-Zl(x);if(I===0){if(s.pre&&!x.pre)return-1;if(x.pre&&!s.pre)return 1}return I};function cp(s){nf=!1,Wl=!0,po.sort(H8);try{for(Ts=0;Ts<po.length;Ts++){const x=po[Ts];x&&x.active!==!1&&p0(x,null,14)}}finally{Ts=0,po.length=0,lp(),Wl=!1,If=null,(po.length||rl.length)&&cp()}}function V8(s,x,...I){if(s.isUnmounted)return;const Z=s.vnode.props||ba;let K=I;const Re=x.startsWith("update:"),nt=Re&&x.slice(7);if(nt&&nt in Z){const Wt=`${nt==="modelValue"?"model":nt}Modifiers`,{number:ei,trim:Mi}=Z[Wt]||ba;Mi&&(K=I.map(tn=>Za(tn)?tn.trim():tn)),ei&&(K=I.map(Ju))}let xt,_t=Z[xt=Mu(x)]||Z[xt=Mu(al(x))];!_t&&Re&&(_t=Z[xt=Mu(hl(x))]),_t&&cs(_t,s,6,K);const Jt=Z[xt+"Once"];if(Jt){if(!s.emitted)s.emitted={};else if(s.emitted[xt])return;s.emitted[xt]=!0,cs(Jt,s,6,K)}}function dp(s,x,I=!1){const Z=x.emitsCache,K=Z.get(s);if(K!==void 0)return K;const Re=s.emits;let nt={},xt=!1;if(!Br(s)){const _t=Jt=>{const Wt=dp(Jt,x,!0);Wt&&(xt=!0,oo(nt,Wt))};!I&&x.mixins.length&&x.mixins.forEach(_t),s.extends&&_t(s.extends),s.mixins&&s.mixins.forEach(_t)}return!Re&&!xt?(Ta(s)&&Z.set(s,null),null):(Sr(Re)?Re.forEach(_t=>nt[_t]=null):oo(nt,Re),Ta(s)&&Z.set(s,nt),nt)}function hd(s,x){return!s||!od(x)?!1:(x=x.slice(2).replace(/Once$/,""),$r(s,x[0].toLowerCase()+x.slice(1))||$r(s,hl(x))||$r(s,x))}let ss=null,xd=null;function ed(s){const x=ss;return ss=s,xd=s&&s.type.__scopeId||null,x}function G8(s){xd=s}function W8(){xd=null}function Z8(s,x=ss,I){if(!x||s._n)return s;const Z=(...K)=>{Z._d&&V2(-1);const Re=ed(x);let nt;try{nt=s(...K)}finally{ed(Re),Z._d&&V2(1)}return nt};return Z._n=!0,Z._c=!0,Z._d=!0,Z}function Lu(s){const{type:x,vnode:I,proxy:Z,withProxy:K,props:Re,propsOptions:[nt],slots:xt,attrs:_t,emit:Jt,render:Wt,renderCache:ei,data:Mi,setupState:tn,ctx:ln,inheritAttrs:hn}=s;let Gn,Fn;const Zn=ed(s);try{if(I.shapeFlag&4){const qn=K||Z,ia=qn;Gn=Cs(Wt.call(ia,qn,ei,Re,tn,Mi,ln)),Fn=_t}else{const qn=x;Gn=Cs(qn.length>1?qn(Re,{attrs:_t,slots:xt,emit:Jt}):qn(Re,null)),Fn=x.props?_t:Y8(_t)}}catch(qn){Ul.length=0,fd(qn,s,1),Gn=Zo(Yl)}let vr=Gn;if(Fn&&hn!==!1){const qn=Object.keys(Fn),{shapeFlag:ia}=vr;qn.length&&ia&7&&(nt&&qn.some(yf)&&(Fn=X8(Fn,nt)),vr=sl(vr,Fn))}return I.dirs&&(vr=sl(vr),vr.dirs=vr.dirs?vr.dirs.concat(I.dirs):I.dirs),I.transition&&(vr.transition=I.transition),Gn=vr,ed(Zn),Gn}const Y8=s=>{let x;for(const I in s)(I==="class"||I==="style"||od(I))&&((x||(x={}))[I]=s[I]);return x},X8=(s,x)=>{const I={};for(const Z in s)(!yf(Z)||!(Z.slice(9)in x))&&(I[Z]=s[Z]);return I};function q8(s,x,I){const{props:Z,children:K,component:Re}=s,{props:nt,children:xt,patchFlag:_t}=x,Jt=Re.emitsOptions;if(x.dirs||x.transition)return!0;if(I&&_t>=0){if(_t&1024)return!0;if(_t&16)return Z?B2(Z,nt,Jt):!!nt;if(_t&8){const Wt=x.dynamicProps;for(let ei=0;ei<Wt.length;ei++){const Mi=Wt[ei];if(nt[Mi]!==Z[Mi]&&!hd(Jt,Mi))return!0}}}else return(K||xt)&&(!xt||!xt.$stable)?!0:Z===nt?!1:Z?nt?B2(Z,nt,Jt):!0:!!nt;return!1}function B2(s,x,I){const Z=Object.keys(x);if(Z.length!==Object.keys(s).length)return!0;for(let K=0;K<Z.length;K++){const Re=Z[K];if(x[Re]!==s[Re]&&!hd(I,Re))return!0}return!1}function J8({vnode:s,parent:x},I){for(;x&&x.subTree===s;)(s=x.vnode).el=I,x=x.parent}const K8=Symbol.for("v-ndc"),$8=s=>s.__isSuspense;function Q8(s,x){x&&x.pendingBranch?Sr(s)?x.effects.push(...s):x.effects.push(s):U8(s)}const Hc={};function Wc(s,x,I){return up(s,x,I)}function up(s,x,{immediate:I,deep:Z,flush:K,onTrack:Re,onTrigger:nt}=ba){var xt;const _t=f8()===((xt=mo)==null?void 0:xt.scope)?mo:null;let Jt,Wt=!1,ei=!1;if(Ao(s)?(Jt=()=>s.value,Wt=Qc(s)):nl(s)?(Jt=()=>s,Z=!0):Sr(s)?(ei=!0,Wt=s.some(qn=>nl(qn)||Qc(qn)),Jt=()=>s.map(qn=>{if(Ao(qn))return qn.value;if(nl(qn))return D0(qn);if(Br(qn))return p0(qn,_t,2)})):Br(s)?x?Jt=()=>p0(s,_t,2):Jt=()=>{if(!(_t&&_t.isUnmounted))return Mi&&Mi(),cs(s,_t,3,[tn])}:Jt=ws,x&&Z){const qn=Jt;Jt=()=>D0(qn())}let Mi,tn=qn=>{Mi=Zn.onStop=()=>{p0(qn,_t,4),Mi=Zn.onStop=void 0}},ln;if(ql)if(tn=ws,x?I&&cs(x,_t,3,[Jt(),ei?[]:void 0,tn]):Jt(),K==="sync"){const qn=Y6();ln=qn.__watcherHandles||(qn.__watcherHandles=[])}else return ws;let hn=ei?new Array(s.length).fill(Hc):Hc;const Gn=()=>{if(Zn.active)if(x){const qn=Zn.run();(Z||Wt||(ei?qn.some((ia,cr)=>L0(ia,hn[cr])):L0(qn,hn)))&&(Mi&&Mi(),cs(x,_t,3,[qn,hn===Hc?void 0:ei&&hn[0]===Hc?[]:hn,tn]),hn=qn)}else Zn.run()};Gn.allowRecurse=!!x;let Fn;K==="sync"?Fn=Gn:K==="post"?Fn=()=>Io(Gn,_t&&_t.suspense):(Gn.pre=!0,_t&&(Gn.id=_t.uid),Fn=()=>Df(Gn));const Zn=new Pf(Jt,Fn);x?I?Gn():hn=Zn.run():K==="post"?Io(Zn.run.bind(Zn),_t&&_t.suspense):Zn.run();const vr=()=>{Zn.stop(),_t&&_t.scope&&bf(_t.scope.effects,Zn)};return ln&&ln.push(vr),vr}function e6(s,x,I){const Z=this.proxy,K=Za(s)?s.includes(".")?fp(Z,s):()=>Z[s]:s.bind(Z,Z);let Re;Br(x)?Re=x:(Re=x.handler,I=x);const nt=mo;ll(this);const xt=up(K,Re.bind(Z),I);return nt?ll(nt):B0(),xt}function fp(s,x){const I=x.split(".");return()=>{let Z=s;for(let K=0;K<I.length&&Z;K++)Z=Z[I[K]];return Z}}function D0(s,x){if(!Ta(s)||s.__v_skip||(x=x||new Set,x.has(s)))return s;if(x.add(s),Ao(s))D0(s.value,x);else if(Sr(s))for(let I=0;I<s.length;I++)D0(s[I],x);else if(Bx(s)||il(s))s.forEach(I=>{D0(I,x)});else if(Ox(s))for(const I in s)D0(s[I],x);return s}function Fu(s,x){const I=ss;if(I===null)return s;const Z=gd(I)||I.proxy,K=s.dirs||(s.dirs=[]);for(let Re=0;Re<x.length;Re++){let[nt,xt,_t,Jt=ba]=x[Re];nt&&(Br(nt)&&(nt={mounted:nt,updated:nt}),nt.deep&&D0(xt),K.push({dir:nt,instance:Z,value:xt,oldValue:void 0,arg:_t,modifiers:Jt}))}return s}function E0(s,x,I,Z){const K=s.dirs,Re=x&&x.dirs;for(let nt=0;nt<K.length;nt++){const xt=K[nt];Re&&(xt.oldValue=Re[nt].value);let _t=xt.dir[Z];_t&&(xl(),cs(_t,I,8,[s.el,xt,s,x]),pl())}}/*! #__NO_SIDE_EFFECTS__ */function Af(s,x){return Br(s)?oo({name:s.name},x,{setup:s}):s}const Zc=s=>!!s.type.__asyncLoader,hp=s=>s.type.__isKeepAlive;function t6(s,x){xp(s,"a",x)}function i6(s,x){xp(s,"da",x)}function xp(s,x,I=mo){const Z=s.__wdc||(s.__wdc=()=>{let K=I;for(;K;){if(K.isDeactivated)return;K=K.parent}return s()});if(pd(x,Z,I),I){let K=I.parent;for(;K&&K.parent;)hp(K.parent.vnode)&&n6(Z,x,I,K),K=K.parent}}function n6(s,x,I,Z){const K=pd(x,s,Z,!0);pp(()=>{bf(Z[x],K)},I)}function pd(s,x,I=mo,Z=!1){if(I){const K=I[s]||(I[s]=[]),Re=x.__weh||(x.__weh=(...nt)=>{if(I.isUnmounted)return;xl(),ll(I);const xt=cs(x,I,s,nt);return B0(),pl(),xt});return Z?K.unshift(Re):K.push(Re),Re}}const $s=s=>(x,I=mo)=>(!ql||s==="sp")&&pd(s,(...Z)=>x(...Z),I),r6=$s("bm"),a6=$s("m"),o6=$s("bu"),s6=$s("u"),l6=$s("bum"),pp=$s("um"),c6=$s("sp"),d6=$s("rtg"),u6=$s("rtc");function f6(s,x=mo){pd("ec",s,x)}function h6(s,x,I,Z){let K;const Re=I&&I[Z];if(Sr(s)||Za(s)){K=new Array(s.length);for(let nt=0,xt=s.length;nt<xt;nt++)K[nt]=x(s[nt],nt,void 0,Re&&Re[nt])}else if(typeof s=="number"){K=new Array(s);for(let nt=0;nt<s;nt++)K[nt]=x(nt+1,nt,void 0,Re&&Re[nt])}else if(Ta(s))if(s[Symbol.iterator])K=Array.from(s,(nt,xt)=>x(nt,xt,void 0,Re&&Re[xt]));else{const nt=Object.keys(s);K=new Array(nt.length);for(let xt=0,_t=nt.length;xt<_t;xt++){const Jt=nt[xt];K[xt]=x(s[Jt],Jt,xt,Re&&Re[xt])}}else K=[];return I&&(I[Z]=K),K}const rf=s=>s?wp(s)?gd(s)||s.proxy:rf(s.parent):null,jl=oo(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>rf(s.parent),$root:s=>rf(s.root),$emit:s=>s.emit,$options:s=>Mf(s),$forceUpdate:s=>s.f||(s.f=()=>Df(s.update)),$nextTick:s=>s.n||(s.n=op.bind(s.proxy)),$watch:s=>e6.bind(s)}),Ou=(s,x)=>s!==ba&&!s.__isScriptSetup&&$r(s,x),x6={get({_:s},x){const{ctx:I,setupState:Z,data:K,props:Re,accessCache:nt,type:xt,appContext:_t}=s;let Jt;if(x[0]!=="$"){const tn=nt[x];if(tn!==void 0)switch(tn){case 1:return Z[x];case 2:return K[x];case 4:return I[x];case 3:return Re[x]}else{if(Ou(Z,x))return nt[x]=1,Z[x];if(K!==ba&&$r(K,x))return nt[x]=2,K[x];if((Jt=s.propsOptions[0])&&$r(Jt,x))return nt[x]=3,Re[x];if(I!==ba&&$r(I,x))return nt[x]=4,I[x];af&&(nt[x]=0)}}const Wt=jl[x];let ei,Mi;if(Wt)return x==="$attrs"&&Do(s,"get",x),Wt(s);if((ei=xt.__cssModules)&&(ei=ei[x]))return ei;if(I!==ba&&$r(I,x))return nt[x]=4,I[x];if(Mi=_t.config.globalProperties,$r(Mi,x))return Mi[x]},set({_:s},x,I){const{data:Z,setupState:K,ctx:Re}=s;return Ou(K,x)?(K[x]=I,!0):Z!==ba&&$r(Z,x)?(Z[x]=I,!0):$r(s.props,x)||x[0]==="$"&&x.slice(1)in s?!1:(Re[x]=I,!0)},has({_:{data:s,setupState:x,accessCache:I,ctx:Z,appContext:K,propsOptions:Re}},nt){let xt;return!!I[nt]||s!==ba&&$r(s,nt)||Ou(x,nt)||(xt=Re[0])&&$r(xt,nt)||$r(Z,nt)||$r(jl,nt)||$r(K.config.globalProperties,nt)},defineProperty(s,x,I){return I.get!=null?s._.accessCache[x]=0:$r(I,"value")&&this.set(s,x,I.value,null),Reflect.defineProperty(s,x,I)}};function L2(s){return Sr(s)?s.reduce((x,I)=>(x[I]=null,x),{}):s}let af=!0;function p6(s){const x=Mf(s),I=s.proxy,Z=s.ctx;af=!1,x.beforeCreate&&F2(x.beforeCreate,s,"bc");const{data:K,computed:Re,methods:nt,watch:xt,provide:_t,inject:Jt,created:Wt,beforeMount:ei,mounted:Mi,beforeUpdate:tn,updated:ln,activated:hn,deactivated:Gn,beforeDestroy:Fn,beforeUnmount:Zn,destroyed:vr,unmounted:qn,render:ia,renderTracked:cr,renderTriggered:Ea,errorCaptured:No,serverPrefetch:Rs,expose:so,inheritAttrs:us,components:ks,directives:_o,filters:Nn}=x;if(Jt&&m6(Jt,Z,null),nt)for(const Lr in nt){const Vr=nt[Lr];Br(Vr)&&(Z[Lr]=Vr.bind(I))}if(K){const Lr=K.call(I,I);Ta(Lr)&&(s.data=ud(Lr))}if(af=!0,Re)for(const Lr in Re){const Vr=Re[Lr],Xo=Br(Vr)?Vr.bind(I,I):Br(Vr.get)?Vr.get.bind(I,I):ws,Va=!Br(Vr)&&Br(Vr.set)?Vr.set.bind(I):ws,Mo=os({get:Xo,set:Va});Object.defineProperty(Z,Lr,{enumerable:!0,configurable:!0,get:()=>Mo.value,set:lo=>Mo.value=lo})}if(xt)for(const Lr in xt)mp(xt[Lr],Z,I,Lr);if(_t){const Lr=Br(_t)?_t.call(I):_t;Reflect.ownKeys(Lr).forEach(Vr=>{Yc(Vr,Lr[Vr])})}Wt&&F2(Wt,s,"c");function Na(Lr,Vr){Sr(Vr)?Vr.forEach(Xo=>Lr(Xo.bind(I))):Vr&&Lr(Vr.bind(I))}if(Na(r6,ei),Na(a6,Mi),Na(o6,tn),Na(s6,ln),Na(t6,hn),Na(i6,Gn),Na(f6,No),Na(u6,cr),Na(d6,Ea),Na(l6,Zn),Na(pp,qn),Na(c6,Rs),Sr(so))if(so.length){const Lr=s.exposed||(s.exposed={});so.forEach(Vr=>{Object.defineProperty(Lr,Vr,{get:()=>I[Vr],set:Xo=>I[Vr]=Xo})})}else s.exposed||(s.exposed={});ia&&s.render===ws&&(s.render=ia),us!=null&&(s.inheritAttrs=us),ks&&(s.components=ks),_o&&(s.directives=_o)}function m6(s,x,I=ws){Sr(s)&&(s=of(s));for(const Z in s){const K=s[Z];let Re;Ta(K)?"default"in K?Re=Js(K.from||Z,K.default,!0):Re=Js(K.from||Z):Re=Js(K),Ao(Re)?Object.defineProperty(x,Z,{enumerable:!0,configurable:!0,get:()=>Re.value,set:nt=>Re.value=nt}):x[Z]=Re}}function F2(s,x,I){cs(Sr(s)?s.map(Z=>Z.bind(x.proxy)):s.bind(x.proxy),x,I)}function mp(s,x,I,Z){const K=Z.includes(".")?fp(I,Z):()=>I[Z];if(Za(s)){const Re=x[s];Br(Re)&&Wc(K,Re)}else if(Br(s))Wc(K,s.bind(I));else if(Ta(s))if(Sr(s))s.forEach(Re=>mp(Re,x,I,Z));else{const Re=Br(s.handler)?s.handler.bind(I):x[s.handler];Br(Re)&&Wc(K,Re,s)}}function Mf(s){const x=s.type,{mixins:I,extends:Z}=x,{mixins:K,optionsCache:Re,config:{optionMergeStrategies:nt}}=s.appContext,xt=Re.get(x);let _t;return xt?_t=xt:!K.length&&!I&&!Z?_t=x:(_t={},K.length&&K.forEach(Jt=>td(_t,Jt,nt,!0)),td(_t,x,nt)),Ta(x)&&Re.set(x,_t),_t}function td(s,x,I,Z=!1){const{mixins:K,extends:Re}=x;Re&&td(s,Re,I,!0),K&&K.forEach(nt=>td(s,nt,I,!0));for(const nt in x)if(!(Z&&nt==="expose")){const xt=_6[nt]||I&&I[nt];s[nt]=xt?xt(s[nt],x[nt]):x[nt]}return s}const _6={data:O2,props:z2,emits:z2,methods:Nl,computed:Nl,beforeCreate:So,created:So,beforeMount:So,mounted:So,beforeUpdate:So,updated:So,beforeDestroy:So,beforeUnmount:So,destroyed:So,unmounted:So,activated:So,deactivated:So,errorCaptured:So,serverPrefetch:So,components:Nl,directives:Nl,watch:v6,provide:O2,inject:g6};function O2(s,x){return x?s?function(){return oo(Br(s)?s.call(this,this):s,Br(x)?x.call(this,this):x)}:x:s}function g6(s,x){return Nl(of(s),of(x))}function of(s){if(Sr(s)){const x={};for(let I=0;I<s.length;I++)x[s[I]]=s[I];return x}return s}function So(s,x){return s?[...new Set([].concat(s,x))]:x}function Nl(s,x){return s?oo(Object.create(null),s,x):x}function z2(s,x){return s?Sr(s)&&Sr(x)?[...new Set([...s,...x])]:oo(Object.create(null),L2(s),L2(x??{})):x}function v6(s,x){if(!s)return x;if(!x)return s;const I=oo(Object.create(null),s);for(const Z in x)I[Z]=So(s[Z],x[Z]);return I}function _p(){return{app:null,config:{isNativeTag:Qy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let y6=0;function b6(s,x){return function(Z,K=null){Br(Z)||(Z=oo({},Z)),K!=null&&!Ta(K)&&(K=null);const Re=_p(),nt=new WeakSet;let xt=!1;const _t=Re.app={_uid:y6++,_component:Z,_props:K,_container:null,_context:Re,_instance:null,version:X6,get config(){return Re.config},set config(Jt){},use(Jt,...Wt){return nt.has(Jt)||(Jt&&Br(Jt.install)?(nt.add(Jt),Jt.install(_t,...Wt)):Br(Jt)&&(nt.add(Jt),Jt(_t,...Wt))),_t},mixin(Jt){return Re.mixins.includes(Jt)||Re.mixins.push(Jt),_t},component(Jt,Wt){return Wt?(Re.components[Jt]=Wt,_t):Re.components[Jt]},directive(Jt,Wt){return Wt?(Re.directives[Jt]=Wt,_t):Re.directives[Jt]},mount(Jt,Wt,ei){if(!xt){const Mi=Zo(Z,K);return Mi.appContext=Re,Wt&&x?x(Mi,Jt):s(Mi,Jt,ei),xt=!0,_t._container=Jt,Jt.__vue_app__=_t,gd(Mi.component)||Mi.component.proxy}},unmount(){xt&&(s(null,_t._container),delete _t._container.__vue_app__)},provide(Jt,Wt){return Re.provides[Jt]=Wt,_t},runWithContext(Jt){id=_t;try{return Jt()}finally{id=null}}};return _t}}let id=null;function Yc(s,x){if(mo){let I=mo.provides;const Z=mo.parent&&mo.parent.provides;Z===I&&(I=mo.provides=Object.create(Z)),I[s]=x}}function Js(s,x,I=!1){const Z=mo||ss;if(Z||id){const K=Z?Z.parent==null?Z.vnode.appContext&&Z.vnode.appContext.provides:Z.parent.provides:id._context.provides;if(K&&s in K)return K[s];if(arguments.length>1)return I&&Br(x)?x.call(Z&&Z.proxy):x}}function S6(s,x,I,Z=!1){const K={},Re={};$c(Re,_d,1),s.propsDefaults=Object.create(null),gp(s,x,K,Re);for(const nt in s.propsOptions[0])nt in K||(K[nt]=void 0);I?s.props=Z?K:Kx(K):s.type.props?s.props=K:s.props=Re,s.attrs=Re}function C6(s,x,I,Z){const{props:K,attrs:Re,vnode:{patchFlag:nt}}=s,xt=oa(K),[_t]=s.propsOptions;let Jt=!1;if((Z||nt>0)&&!(nt&16)){if(nt&8){const Wt=s.vnode.dynamicProps;for(let ei=0;ei<Wt.length;ei++){let Mi=Wt[ei];if(hd(s.emitsOptions,Mi))continue;const tn=x[Mi];if(_t)if($r(Re,Mi))tn!==Re[Mi]&&(Re[Mi]=tn,Jt=!0);else{const ln=al(Mi);K[ln]=sf(_t,xt,ln,tn,s,!1)}else tn!==Re[Mi]&&(Re[Mi]=tn,Jt=!0)}}}else{gp(s,x,K,Re)&&(Jt=!0);let Wt;for(const ei in xt)(!x||!$r(x,ei)&&((Wt=hl(ei))===ei||!$r(x,Wt)))&&(_t?I&&(I[ei]!==void 0||I[Wt]!==void 0)&&(K[ei]=sf(_t,xt,ei,void 0,s,!0)):delete K[ei]);if(Re!==xt)for(const ei in Re)(!x||!$r(x,ei))&&(delete Re[ei],Jt=!0)}Jt&&qs(s,"set","$attrs")}function gp(s,x,I,Z){const[K,Re]=s.propsOptions;let nt=!1,xt;if(x)for(let _t in x){if(Vc(_t))continue;const Jt=x[_t];let Wt;K&&$r(K,Wt=al(_t))?!Re||!Re.includes(Wt)?I[Wt]=Jt:(xt||(xt={}))[Wt]=Jt:hd(s.emitsOptions,_t)||(!(_t in Z)||Jt!==Z[_t])&&(Z[_t]=Jt,nt=!0)}if(Re){const _t=oa(I),Jt=xt||ba;for(let Wt=0;Wt<Re.length;Wt++){const ei=Re[Wt];I[ei]=sf(K,_t,ei,Jt[ei],s,!$r(Jt,ei))}}return nt}function sf(s,x,I,Z,K,Re){const nt=s[I];if(nt!=null){const xt=$r(nt,"default");if(xt&&Z===void 0){const _t=nt.default;if(nt.type!==Function&&!nt.skipFactory&&Br(_t)){const{propsDefaults:Jt}=K;I in Jt?Z=Jt[I]:(ll(K),Z=Jt[I]=_t.call(null,x),B0())}else Z=_t}nt[0]&&(Re&&!xt?Z=!1:nt[1]&&(Z===""||Z===hl(I))&&(Z=!0))}return Z}function vp(s,x,I=!1){const Z=x.propsCache,K=Z.get(s);if(K)return K;const Re=s.props,nt={},xt=[];let _t=!1;if(!Br(s)){const Wt=ei=>{_t=!0;const[Mi,tn]=vp(ei,x,!0);oo(nt,Mi),tn&&xt.push(...tn)};!I&&x.mixins.length&&x.mixins.forEach(Wt),s.extends&&Wt(s.extends),s.mixins&&s.mixins.forEach(Wt)}if(!Re&&!_t)return Ta(s)&&Z.set(s,tl),tl;if(Sr(Re))for(let Wt=0;Wt<Re.length;Wt++){const ei=al(Re[Wt]);N2(ei)&&(nt[ei]=ba)}else if(Re)for(const Wt in Re){const ei=al(Wt);if(N2(ei)){const Mi=Re[Wt],tn=nt[ei]=Sr(Mi)||Br(Mi)?{type:Mi}:oo({},Mi);if(tn){const ln=H2(Boolean,tn.type),hn=H2(String,tn.type);tn[0]=ln>-1,tn[1]=hn<0||ln<hn,(ln>-1||$r(tn,"default"))&&xt.push(ei)}}}const Jt=[nt,xt];return Ta(s)&&Z.set(s,Jt),Jt}function N2(s){return s[0]!=="$"}function j2(s){const x=s&&s.toString().match(/^\s*(function|class) (\w+)/);return x?x[2]:s===null?"null":""}function U2(s,x){return j2(s)===j2(x)}function H2(s,x){return Sr(x)?x.findIndex(I=>U2(I,s)):Br(x)&&U2(x,s)?0:-1}const yp=s=>s[0]==="_"||s==="$stable",Bf=s=>Sr(s)?s.map(Cs):[Cs(s)],T6=(s,x,I)=>{if(x._n)return x;const Z=Z8((...K)=>Bf(x(...K)),I);return Z._c=!1,Z},bp=(s,x,I)=>{const Z=s._ctx;for(const K in s){if(yp(K))continue;const Re=s[K];if(Br(Re))x[K]=T6(K,Re,Z);else if(Re!=null){const nt=Bf(Re);x[K]=()=>nt}}},Sp=(s,x)=>{const I=Bf(x);s.slots.default=()=>I},P6=(s,x)=>{if(s.vnode.shapeFlag&32){const I=x._;I?(s.slots=oa(x),$c(x,"_",I)):bp(x,s.slots={})}else s.slots={},x&&Sp(s,x);$c(s.slots,_d,1)},w6=(s,x,I)=>{const{vnode:Z,slots:K}=s;let Re=!0,nt=ba;if(Z.shapeFlag&32){const xt=x._;xt?I&&xt===1?Re=!1:(oo(K,x),!I&&xt===1&&delete K._):(Re=!x.$stable,bp(x,K)),nt=x}else x&&(Sp(s,x),nt={default:1});if(Re)for(const xt in K)!yp(xt)&&nt[xt]==null&&delete K[xt]};function lf(s,x,I,Z,K=!1){if(Sr(s)){s.forEach((Mi,tn)=>lf(Mi,x&&(Sr(x)?x[tn]:x),I,Z,K));return}if(Zc(Z)&&!K)return;const Re=Z.shapeFlag&4?gd(Z.component)||Z.component.proxy:Z.el,nt=K?null:Re,{i:xt,r:_t}=s,Jt=x&&x.r,Wt=xt.refs===ba?xt.refs={}:xt.refs,ei=xt.setupState;if(Jt!=null&&Jt!==_t&&(Za(Jt)?(Wt[Jt]=null,$r(ei,Jt)&&(ei[Jt]=null)):Ao(Jt)&&(Jt.value=null)),Br(_t))p0(_t,xt,12,[nt,Wt]);else{const Mi=Za(_t),tn=Ao(_t);if(Mi||tn){const ln=()=>{if(s.f){const hn=Mi?$r(ei,_t)?ei[_t]:Wt[_t]:_t.value;K?Sr(hn)&&bf(hn,Re):Sr(hn)?hn.includes(Re)||hn.push(Re):Mi?(Wt[_t]=[Re],$r(ei,_t)&&(ei[_t]=Wt[_t])):(_t.value=[Re],s.k&&(Wt[s.k]=_t.value))}else Mi?(Wt[_t]=nt,$r(ei,_t)&&(ei[_t]=nt)):tn&&(_t.value=nt,s.k&&(Wt[s.k]=nt))};nt?(ln.id=-1,Io(ln,I)):ln()}}}const Io=Q8;function E6(s){return R6(s)}function R6(s,x){const I=Ku();I.__VUE__=!0;const{insert:Z,remove:K,patchProp:Re,createElement:nt,createText:xt,createComment:_t,setText:Jt,setElementText:Wt,parentNode:ei,nextSibling:Mi,setScopeId:tn=ws,insertStaticContent:ln}=s,hn=(ii,ui,Ui,nn=null,gn=null,Tn=null,On=!1,wn=null,An=!!ui.dynamicChildren)=>{if(ii===ui)return;ii&&!Bl(ii,ui)&&(nn=un(ii),lo(ii,gn,Tn,!0),ii=null),ui.patchFlag===-2&&(An=!1,ui.dynamicChildren=null);const{type:Pn,ref:ir,shapeFlag:Yn}=ui;switch(Pn){case md:Gn(ii,ui,Ui,nn);break;case Yl:Fn(ii,ui,Ui,nn);break;case zu:ii==null&&Zn(ui,Ui,nn,On);break;case rs:ks(ii,ui,Ui,nn,gn,Tn,On,wn,An);break;default:Yn&1?ia(ii,ui,Ui,nn,gn,Tn,On,wn,An):Yn&6?_o(ii,ui,Ui,nn,gn,Tn,On,wn,An):(Yn&64||Yn&128)&&Pn.process(ii,ui,Ui,nn,gn,Tn,On,wn,An,Mn)}ir!=null&&gn&&lf(ir,ii&&ii.ref,Tn,ui||ii,!ui)},Gn=(ii,ui,Ui,nn)=>{if(ii==null)Z(ui.el=xt(ui.children),Ui,nn);else{const gn=ui.el=ii.el;ui.children!==ii.children&&Jt(gn,ui.children)}},Fn=(ii,ui,Ui,nn)=>{ii==null?Z(ui.el=_t(ui.children||""),Ui,nn):ui.el=ii.el},Zn=(ii,ui,Ui,nn)=>{[ii.el,ii.anchor]=ln(ii.children,ui,Ui,nn,ii.el,ii.anchor)},vr=({el:ii,anchor:ui},Ui,nn)=>{let gn;for(;ii&&ii!==ui;)gn=Mi(ii),Z(ii,Ui,nn),ii=gn;Z(ui,Ui,nn)},qn=({el:ii,anchor:ui})=>{let Ui;for(;ii&&ii!==ui;)Ui=Mi(ii),K(ii),ii=Ui;K(ui)},ia=(ii,ui,Ui,nn,gn,Tn,On,wn,An)=>{On=On||ui.type==="svg",ii==null?cr(ui,Ui,nn,gn,Tn,On,wn,An):Rs(ii,ui,gn,Tn,On,wn,An)},cr=(ii,ui,Ui,nn,gn,Tn,On,wn)=>{let An,Pn;const{type:ir,props:Yn,shapeFlag:nr,transition:Cr,dirs:Nr}=ii;if(An=ii.el=nt(ii.type,Tn,Yn&&Yn.is,Yn),nr&8?Wt(An,ii.children):nr&16&&No(ii.children,An,null,nn,gn,Tn&&ir!=="foreignObject",On,wn),Nr&&E0(ii,null,nn,"created"),Ea(An,ii,ii.scopeId,On,nn),Yn){for(const na in Yn)na!=="value"&&!Vc(na)&&Re(An,na,null,Yn[na],Tn,ii.children,nn,gn,Pr);"value"in Yn&&Re(An,"value",null,Yn.value),(Pn=Yn.onVnodeBeforeMount)&&Ss(Pn,nn,ii)}Nr&&E0(ii,null,nn,"beforeMount");const sa=k6(gn,Cr);sa&&Cr.beforeEnter(An),Z(An,ui,Ui),((Pn=Yn&&Yn.onVnodeMounted)||sa||Nr)&&Io(()=>{Pn&&Ss(Pn,nn,ii),sa&&Cr.enter(An),Nr&&E0(ii,null,nn,"mounted")},gn)},Ea=(ii,ui,Ui,nn,gn)=>{if(Ui&&tn(ii,Ui),nn)for(let Tn=0;Tn<nn.length;Tn++)tn(ii,nn[Tn]);if(gn){let Tn=gn.subTree;if(ui===Tn){const On=gn.vnode;Ea(ii,On,On.scopeId,On.slotScopeIds,gn.parent)}}},No=(ii,ui,Ui,nn,gn,Tn,On,wn,An=0)=>{for(let Pn=An;Pn<ii.length;Pn++){const ir=ii[Pn]=wn?f0(ii[Pn]):Cs(ii[Pn]);hn(null,ir,ui,Ui,nn,gn,Tn,On,wn)}},Rs=(ii,ui,Ui,nn,gn,Tn,On)=>{const wn=ui.el=ii.el;let{patchFlag:An,dynamicChildren:Pn,dirs:ir}=ui;An|=ii.patchFlag&16;const Yn=ii.props||ba,nr=ui.props||ba;let Cr;Ui&&R0(Ui,!1),(Cr=nr.onVnodeBeforeUpdate)&&Ss(Cr,Ui,ui,ii),ir&&E0(ui,ii,Ui,"beforeUpdate"),Ui&&R0(Ui,!0);const Nr=gn&&ui.type!=="foreignObject";if(Pn?so(ii.dynamicChildren,Pn,wn,Ui,nn,Nr,Tn):On||Vr(ii,ui,wn,null,Ui,nn,Nr,Tn,!1),An>0){if(An&16)us(wn,ui,Yn,nr,Ui,nn,gn);else if(An&2&&Yn.class!==nr.class&&Re(wn,"class",null,nr.class,gn),An&4&&Re(wn,"style",Yn.style,nr.style,gn),An&8){const sa=ui.dynamicProps;for(let na=0;na<sa.length;na++){const Ra=sa[na],co=Yn[Ra],e0=nr[Ra];(e0!==co||Ra==="value")&&Re(wn,Ra,co,e0,gn,ii.children,Ui,nn,Pr)}}An&1&&ii.children!==ui.children&&Wt(wn,ui.children)}else!On&&Pn==null&&us(wn,ui,Yn,nr,Ui,nn,gn);((Cr=nr.onVnodeUpdated)||ir)&&Io(()=>{Cr&&Ss(Cr,Ui,ui,ii),ir&&E0(ui,ii,Ui,"updated")},nn)},so=(ii,ui,Ui,nn,gn,Tn,On)=>{for(let wn=0;wn<ui.length;wn++){const An=ii[wn],Pn=ui[wn],ir=An.el&&(An.type===rs||!Bl(An,Pn)||An.shapeFlag&70)?ei(An.el):Ui;hn(An,Pn,ir,null,nn,gn,Tn,On,!0)}},us=(ii,ui,Ui,nn,gn,Tn,On)=>{if(Ui!==nn){if(Ui!==ba)for(const wn in Ui)!Vc(wn)&&!(wn in nn)&&Re(ii,wn,Ui[wn],null,On,ui.children,gn,Tn,Pr);for(const wn in nn){if(Vc(wn))continue;const An=nn[wn],Pn=Ui[wn];An!==Pn&&wn!=="value"&&Re(ii,wn,Pn,An,On,ui.children,gn,Tn,Pr)}"value"in nn&&Re(ii,"value",Ui.value,nn.value)}},ks=(ii,ui,Ui,nn,gn,Tn,On,wn,An)=>{const Pn=ui.el=ii?ii.el:xt(""),ir=ui.anchor=ii?ii.anchor:xt("");let{patchFlag:Yn,dynamicChildren:nr,slotScopeIds:Cr}=ui;Cr&&(wn=wn?wn.concat(Cr):Cr),ii==null?(Z(Pn,Ui,nn),Z(ir,Ui,nn),No(ui.children,Ui,ir,gn,Tn,On,wn,An)):Yn>0&&Yn&64&&nr&&ii.dynamicChildren?(so(ii.dynamicChildren,nr,Ui,gn,Tn,On,wn),(ui.key!=null||gn&&ui===gn.subTree)&&Cp(ii,ui,!0)):Vr(ii,ui,Ui,ir,gn,Tn,On,wn,An)},_o=(ii,ui,Ui,nn,gn,Tn,On,wn,An)=>{ui.slotScopeIds=wn,ii==null?ui.shapeFlag&512?gn.ctx.activate(ui,Ui,nn,On,An):Nn(ui,Ui,nn,gn,Tn,On,An):Is(ii,ui,An)},Nn=(ii,ui,Ui,nn,gn,Tn,On)=>{const wn=ii.component=j6(ii,nn,gn);if(hp(ii)&&(wn.ctx.renderer=Mn),U6(wn),wn.asyncDep){if(gn&&gn.registerDep(wn,Na),!ii.el){const An=wn.subTree=Zo(Yl);Fn(null,An,ui,Ui)}return}Na(wn,ii,ui,Ui,gn,Tn,On)},Is=(ii,ui,Ui)=>{const nn=ui.component=ii.component;if(q8(ii,ui,Ui))if(nn.asyncDep&&!nn.asyncResolved){Lr(nn,ui,Ui);return}else nn.next=ui,j8(nn.update),nn.update();else ui.el=ii.el,nn.vnode=ui},Na=(ii,ui,Ui,nn,gn,Tn,On)=>{const wn=()=>{if(ii.isMounted){let{next:ir,bu:Yn,u:nr,parent:Cr,vnode:Nr}=ii,sa=ir,na;R0(ii,!1),ir?(ir.el=Nr.el,Lr(ii,ir,On)):ir=Nr,Yn&&Gc(Yn),(na=ir.props&&ir.props.onVnodeBeforeUpdate)&&Ss(na,Cr,ir,Nr),R0(ii,!0);const Ra=Lu(ii),co=ii.subTree;ii.subTree=Ra,hn(co,Ra,ei(co.el),un(co),ii,gn,Tn),ir.el=Ra.el,sa===null&&J8(ii,Ra.el),nr&&Io(nr,gn),(na=ir.props&&ir.props.onVnodeUpdated)&&Io(()=>Ss(na,Cr,ir,Nr),gn)}else{let ir;const{el:Yn,props:nr}=ui,{bm:Cr,m:Nr,parent:sa}=ii,na=Zc(ui);if(R0(ii,!1),Cr&&Gc(Cr),!na&&(ir=nr&&nr.onVnodeBeforeMount)&&Ss(ir,sa,ui),R0(ii,!0),Yn&&Qr){const Ra=()=>{ii.subTree=Lu(ii),Qr(Yn,ii.subTree,ii,gn,null)};na?ui.type.__asyncLoader().then(()=>!ii.isUnmounted&&Ra()):Ra()}else{const Ra=ii.subTree=Lu(ii);hn(null,Ra,Ui,nn,ii,gn,Tn),ui.el=Ra.el}if(Nr&&Io(Nr,gn),!na&&(ir=nr&&nr.onVnodeMounted)){const Ra=ui;Io(()=>Ss(ir,sa,Ra),gn)}(ui.shapeFlag&256||sa&&Zc(sa.vnode)&&sa.vnode.shapeFlag&256)&&ii.a&&Io(ii.a,gn),ii.isMounted=!0,ui=Ui=nn=null}},An=ii.effect=new Pf(wn,()=>Df(Pn),ii.scope),Pn=ii.update=()=>An.run();Pn.id=ii.uid,R0(ii,!0),Pn()},Lr=(ii,ui,Ui)=>{ui.component=ii;const nn=ii.vnode.props;ii.vnode=ui,ii.next=null,C6(ii,ui.props,nn,Ui),w6(ii,ui.children,Ui),xl(),M2(ii),pl()},Vr=(ii,ui,Ui,nn,gn,Tn,On,wn,An=!1)=>{const Pn=ii&&ii.children,ir=ii?ii.shapeFlag:0,Yn=ui.children,{patchFlag:nr,shapeFlag:Cr}=ui;if(nr>0){if(nr&128){Va(Pn,Yn,Ui,nn,gn,Tn,On,wn,An);return}else if(nr&256){Xo(Pn,Yn,Ui,nn,gn,Tn,On,wn,An);return}}Cr&8?(ir&16&&Pr(Pn,gn,Tn),Yn!==Pn&&Wt(Ui,Yn)):ir&16?Cr&16?Va(Pn,Yn,Ui,nn,gn,Tn,On,wn,An):Pr(Pn,gn,Tn,!0):(ir&8&&Wt(Ui,""),Cr&16&&No(Yn,Ui,nn,gn,Tn,On,wn,An))},Xo=(ii,ui,Ui,nn,gn,Tn,On,wn,An)=>{ii=ii||tl,ui=ui||tl;const Pn=ii.length,ir=ui.length,Yn=Math.min(Pn,ir);let nr;for(nr=0;nr<Yn;nr++){const Cr=ui[nr]=An?f0(ui[nr]):Cs(ui[nr]);hn(ii[nr],Cr,Ui,null,gn,Tn,On,wn,An)}Pn>ir?Pr(ii,gn,Tn,!0,!1,Yn):No(ui,Ui,nn,gn,Tn,On,wn,An,Yn)},Va=(ii,ui,Ui,nn,gn,Tn,On,wn,An)=>{let Pn=0;const ir=ui.length;let Yn=ii.length-1,nr=ir-1;for(;Pn<=Yn&&Pn<=nr;){const Cr=ii[Pn],Nr=ui[Pn]=An?f0(ui[Pn]):Cs(ui[Pn]);if(Bl(Cr,Nr))hn(Cr,Nr,Ui,null,gn,Tn,On,wn,An);else break;Pn++}for(;Pn<=Yn&&Pn<=nr;){const Cr=ii[Yn],Nr=ui[nr]=An?f0(ui[nr]):Cs(ui[nr]);if(Bl(Cr,Nr))hn(Cr,Nr,Ui,null,gn,Tn,On,wn,An);else break;Yn--,nr--}if(Pn>Yn){if(Pn<=nr){const Cr=nr+1,Nr=Cr<ir?ui[Cr].el:nn;for(;Pn<=nr;)hn(null,ui[Pn]=An?f0(ui[Pn]):Cs(ui[Pn]),Ui,Nr,gn,Tn,On,wn,An),Pn++}}else if(Pn>nr)for(;Pn<=Yn;)lo(ii[Pn],gn,Tn,!0),Pn++;else{const Cr=Pn,Nr=Pn,sa=new Map;for(Pn=Nr;Pn<=nr;Pn++){const Ya=ui[Pn]=An?f0(ui[Pn]):Cs(ui[Pn]);Ya.key!=null&&sa.set(Ya.key,Pn)}let na,Ra=0;const co=nr-Nr+1;let e0=!1,_l=0;const tt=new Array(co);for(Pn=0;Pn<co;Pn++)tt[Pn]=0;for(Pn=Cr;Pn<=Yn;Pn++){const Ya=ii[Pn];if(Ra>=co){lo(Ya,gn,Tn,!0);continue}let ja;if(Ya.key!=null)ja=sa.get(Ya.key);else for(na=Nr;na<=nr;na++)if(tt[na-Nr]===0&&Bl(Ya,ui[na])){ja=na;break}ja===void 0?lo(Ya,gn,Tn,!0):(tt[ja-Nr]=Pn+1,ja>=_l?_l=ja:e0=!0,hn(Ya,ui[ja],Ui,null,gn,Tn,On,wn,An),Ra++)}const la=e0?I6(tt):tl;for(na=la.length-1,Pn=co-1;Pn>=0;Pn--){const Ya=Nr+Pn,ja=ui[Ya],ec=Ya+1<ir?ui[Ya+1].el:nn;tt[Pn]===0?hn(null,ja,Ui,ec,gn,Tn,On,wn,An):e0&&(na<0||Pn!==la[na]?Mo(ja,Ui,ec,2):na--)}}},Mo=(ii,ui,Ui,nn,gn=null)=>{const{el:Tn,type:On,transition:wn,children:An,shapeFlag:Pn}=ii;if(Pn&6){Mo(ii.component.subTree,ui,Ui,nn);return}if(Pn&128){ii.suspense.move(ui,Ui,nn);return}if(Pn&64){On.move(ii,ui,Ui,Mn);return}if(On===rs){Z(Tn,ui,Ui);for(let Yn=0;Yn<An.length;Yn++)Mo(An[Yn],ui,Ui,nn);Z(ii.anchor,ui,Ui);return}if(On===zu){vr(ii,ui,Ui);return}if(nn!==2&&Pn&1&&wn)if(nn===0)wn.beforeEnter(Tn),Z(Tn,ui,Ui),Io(()=>wn.enter(Tn),gn);else{const{leave:Yn,delayLeave:nr,afterLeave:Cr}=wn,Nr=()=>Z(Tn,ui,Ui),sa=()=>{Yn(Tn,()=>{Nr(),Cr&&Cr()})};nr?nr(Tn,Nr,sa):sa()}else Z(Tn,ui,Ui)},lo=(ii,ui,Ui,nn=!1,gn=!1)=>{const{type:Tn,props:On,ref:wn,children:An,dynamicChildren:Pn,shapeFlag:ir,patchFlag:Yn,dirs:nr}=ii;if(wn!=null&&lf(wn,null,Ui,ii,!0),ir&256){ui.ctx.deactivate(ii);return}const Cr=ir&1&&nr,Nr=!Zc(ii);let sa;if(Nr&&(sa=On&&On.onVnodeBeforeUnmount)&&Ss(sa,ui,ii),ir&6)F0(ii.component,Ui,nn);else{if(ir&128){ii.suspense.unmount(Ui,nn);return}Cr&&E0(ii,null,ui,"beforeUnmount"),ir&64?ii.type.remove(ii,ui,Ui,gn,Mn,nn):Pn&&(Tn!==rs||Yn>0&&Yn&64)?Pr(Pn,ui,Ui,!1,!0):(Tn===rs&&Yn&384||!gn&&ir&16)&&Pr(An,ui,Ui),nn&&Qs(ii)}(Nr&&(sa=On&&On.onVnodeUnmounted)||Cr)&&Io(()=>{sa&&Ss(sa,ui,ii),Cr&&E0(ii,null,ui,"unmounted")},Ui)},Qs=ii=>{const{type:ui,el:Ui,anchor:nn,transition:gn}=ii;if(ui===rs){qo(Ui,nn);return}if(ui===zu){qn(ii);return}const Tn=()=>{K(Ui),gn&&!gn.persisted&&gn.afterLeave&&gn.afterLeave()};if(ii.shapeFlag&1&&gn&&!gn.persisted){const{leave:On,delayLeave:wn}=gn,An=()=>On(Ui,Tn);wn?wn(ii.el,Tn,An):An()}else Tn()},qo=(ii,ui)=>{let Ui;for(;ii!==ui;)Ui=Mi(ii),K(ii),ii=Ui;K(ui)},F0=(ii,ui,Ui)=>{const{bum:nn,scope:gn,update:Tn,subTree:On,um:wn}=ii;nn&&Gc(nn),gn.stop(),Tn&&(Tn.active=!1,lo(On,ii,ui,Ui)),wn&&Io(wn,ui),Io(()=>{ii.isUnmounted=!0},ui),ui&&ui.pendingBranch&&!ui.isUnmounted&&ii.asyncDep&&!ii.asyncResolved&&ii.suspenseId===ui.pendingId&&(ui.deps--,ui.deps===0&&ui.resolve())},Pr=(ii,ui,Ui,nn=!1,gn=!1,Tn=0)=>{for(let On=Tn;On<ii.length;On++)lo(ii[On],ui,Ui,nn,gn)},un=ii=>ii.shapeFlag&6?un(ii.component.subTree):ii.shapeFlag&128?ii.suspense.next():Mi(ii.anchor||ii.el),Vn=(ii,ui,Ui)=>{ii==null?ui._vnode&&lo(ui._vnode,null,null,!0):hn(ui._vnode||null,ii,ui,null,null,null,Ui),M2(),lp(),ui._vnode=ii},Mn={p:hn,um:lo,m:Mo,r:Qs,mt:Nn,mc:No,pc:Vr,pbc:so,n:un,o:s};let er,Qr;return x&&([er,Qr]=x(Mn)),{render:Vn,hydrate:er,createApp:b6(Vn,er)}}function R0({effect:s,update:x},I){s.allowRecurse=x.allowRecurse=I}function k6(s,x){return(!s||s&&!s.pendingBranch)&&x&&!x.persisted}function Cp(s,x,I=!1){const Z=s.children,K=x.children;if(Sr(Z)&&Sr(K))for(let Re=0;Re<Z.length;Re++){const nt=Z[Re];let xt=K[Re];xt.shapeFlag&1&&!xt.dynamicChildren&&((xt.patchFlag<=0||xt.patchFlag===32)&&(xt=K[Re]=f0(K[Re]),xt.el=nt.el),I||Cp(nt,xt)),xt.type===md&&(xt.el=nt.el)}}function I6(s){const x=s.slice(),I=[0];let Z,K,Re,nt,xt;const _t=s.length;for(Z=0;Z<_t;Z++){const Jt=s[Z];if(Jt!==0){if(K=I[I.length-1],s[K]<Jt){x[Z]=K,I.push(Z);continue}for(Re=0,nt=I.length-1;Re<nt;)xt=Re+nt>>1,s[I[xt]]<Jt?Re=xt+1:nt=xt;Jt<s[I[Re]]&&(Re>0&&(x[Z]=I[Re-1]),I[Re]=Z)}}for(Re=I.length,nt=I[Re-1];Re-- >0;)I[Re]=nt,nt=x[nt];return I}const D6=s=>s.__isTeleport,rs=Symbol.for("v-fgt"),md=Symbol.for("v-txt"),Yl=Symbol.for("v-cmt"),zu=Symbol.for("v-stc"),Ul=[];let ls=null;function $0(s=!1){Ul.push(ls=s?null:[])}function A6(){Ul.pop(),ls=Ul[Ul.length-1]||null}let Xl=1;function V2(s){Xl+=s}function Tp(s){return s.dynamicChildren=Xl>0?ls||tl:null,A6(),Xl>0&&ls&&ls.push(s),s}function Ml(s,x,I,Z,K,Re){return Tp(Jr(s,x,I,Z,K,Re,!0))}function M6(s,x,I,Z,K){return Tp(Zo(s,x,I,Z,K,!0))}function cf(s){return s?s.__v_isVNode===!0:!1}function Bl(s,x){return s.type===x.type&&s.key===x.key}const _d="__vInternal",Pp=({key:s})=>s??null,Xc=({ref:s,ref_key:x,ref_for:I})=>(typeof s=="number"&&(s=""+s),s!=null?Za(s)||Ao(s)||Br(s)?{i:ss,r:s,k:x,f:!!I}:s:null);function Jr(s,x=null,I=null,Z=0,K=null,Re=s===rs?0:1,nt=!1,xt=!1){const _t={__v_isVNode:!0,__v_skip:!0,type:s,props:x,key:x&&Pp(x),ref:x&&Xc(x),scopeId:xd,slotScopeIds:null,children:I,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Re,patchFlag:Z,dynamicProps:K,dynamicChildren:null,appContext:null,ctx:ss};return xt?(Lf(_t,I),Re&128&&s.normalize(_t)):I&&(_t.shapeFlag|=Za(I)?8:16),Xl>0&&!nt&&ls&&(_t.patchFlag>0||Re&6)&&_t.patchFlag!==32&&ls.push(_t),_t}const Zo=B6;function B6(s,x=null,I=null,Z=0,K=null,Re=!1){if((!s||s===K8)&&(s=Yl),cf(s)){const xt=sl(s,x,!0);return I&&Lf(xt,I),Xl>0&&!Re&&ls&&(xt.shapeFlag&6?ls[ls.indexOf(s)]=xt:ls.push(xt)),xt.patchFlag|=-2,xt}if(W6(s)&&(s=s.__vccOpts),x){x=L6(x);let{class:xt,style:_t}=x;xt&&!Za(xt)&&(x.class=Cf(xt)),Ta(_t)&&(Qx(_t)&&!Sr(_t)&&(_t=oo({},_t)),x.style=cd(_t))}const nt=Za(s)?1:$8(s)?128:D6(s)?64:Ta(s)?4:Br(s)?2:0;return Jr(s,x,I,Z,K,nt,Re,!0)}function L6(s){return s?Qx(s)||_d in s?oo({},s):s:null}function sl(s,x,I=!1){const{props:Z,ref:K,patchFlag:Re,children:nt}=s,xt=x?O6(Z||{},x):Z;return{__v_isVNode:!0,__v_skip:!0,type:s.type,props:xt,key:xt&&Pp(xt),ref:x&&x.ref?I&&K?Sr(K)?K.concat(Xc(x)):[K,Xc(x)]:Xc(x):K,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:nt,target:s.target,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:x&&s.type!==rs?Re===-1?16:Re|16:Re,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:s.transition,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&sl(s.ssContent),ssFallback:s.ssFallback&&sl(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce}}function F6(s=" ",x=0){return Zo(md,null,s,x)}function Cs(s){return s==null||typeof s=="boolean"?Zo(Yl):Sr(s)?Zo(rs,null,s.slice()):typeof s=="object"?f0(s):Zo(md,null,String(s))}function f0(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:sl(s)}function Lf(s,x){let I=0;const{shapeFlag:Z}=s;if(x==null)x=null;else if(Sr(x))I=16;else if(typeof x=="object")if(Z&65){const K=x.default;K&&(K._c&&(K._d=!1),Lf(s,K()),K._c&&(K._d=!0));return}else{I=32;const K=x._;!K&&!(_d in x)?x._ctx=ss:K===3&&ss&&(ss.slots._===1?x._=1:(x._=2,s.patchFlag|=1024))}else Br(x)?(x={default:x,_ctx:ss},I=32):(x=String(x),Z&64?(I=16,x=[F6(x)]):I=8);s.children=x,s.shapeFlag|=I}function O6(...s){const x={};for(let I=0;I<s.length;I++){const Z=s[I];for(const K in Z)if(K==="class")x.class!==Z.class&&(x.class=Cf([x.class,Z.class]));else if(K==="style")x.style=cd([x.style,Z.style]);else if(od(K)){const Re=x[K],nt=Z[K];nt&&Re!==nt&&!(Sr(Re)&&Re.includes(nt))&&(x[K]=Re?[].concat(Re,nt):nt)}else K!==""&&(x[K]=Z[K])}return x}function Ss(s,x,I,Z=null){cs(s,x,7,[I,Z])}const z6=_p();let N6=0;function j6(s,x,I){const Z=s.type,K=(x?x.appContext:s.appContext)||z6,Re={uid:N6++,vnode:s,type:Z,parent:x,appContext:K,root:null,next:null,subTree:null,effect:null,update:null,scope:new d8(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:x?x.provides:Object.create(K.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vp(Z,K),emitsOptions:dp(Z,K),emit:null,emitted:null,propsDefaults:ba,inheritAttrs:Z.inheritAttrs,ctx:ba,data:ba,props:ba,attrs:ba,slots:ba,refs:ba,setupState:ba,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:I,suspenseId:I?I.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Re.ctx={_:Re},Re.root=x?x.root:Re,Re.emit=V8.bind(null,Re),s.ce&&s.ce(Re),Re}let mo=null,Ff,J0,G2="__VUE_INSTANCE_SETTERS__";(J0=Ku()[G2])||(J0=Ku()[G2]=[]),J0.push(s=>mo=s),Ff=s=>{J0.length>1?J0.forEach(x=>x(s)):J0[0](s)};const ll=s=>{Ff(s),s.scope.on()},B0=()=>{mo&&mo.scope.off(),Ff(null)};function wp(s){return s.vnode.shapeFlag&4}let ql=!1;function U6(s,x=!1){ql=x;const{props:I,children:Z}=s.vnode,K=wp(s);S6(s,I,K,x),P6(s,Z);const Re=K?H6(s,x):void 0;return ql=!1,Re}function H6(s,x){const I=s.type;s.accessCache=Object.create(null),s.proxy=ep(new Proxy(s.ctx,x6));const{setup:Z}=I;if(Z){const K=s.setupContext=Z.length>1?G6(s):null;ll(s),xl();const Re=p0(Z,s,0,[s.props,K]);if(pl(),B0(),Lx(Re)){if(Re.then(B0,B0),x)return Re.then(nt=>{W2(s,nt,x)}).catch(nt=>{fd(nt,s,0)});s.asyncDep=Re}else W2(s,Re,x)}else Ep(s,x)}function W2(s,x,I){Br(x)?s.type.__ssrInlineRender?s.ssrRender=x:s.render=x:Ta(x)&&(s.setupState=rp(x)),Ep(s,I)}let Z2;function Ep(s,x,I){const Z=s.type;if(!s.render){if(!x&&Z2&&!Z.render){const K=Z.template||Mf(s).template;if(K){const{isCustomElement:Re,compilerOptions:nt}=s.appContext.config,{delimiters:xt,compilerOptions:_t}=Z,Jt=oo(oo({isCustomElement:Re,delimiters:xt},nt),_t);Z.render=Z2(K,Jt)}}s.render=Z.render||ws}{ll(s),xl();try{p6(s)}finally{pl(),B0()}}}function V6(s){return s.attrsProxy||(s.attrsProxy=new Proxy(s.attrs,{get(x,I){return Do(s,"get","$attrs"),x[I]}}))}function G6(s){const x=I=>{s.exposed=I||{}};return{get attrs(){return V6(s)},slots:s.slots,emit:s.emit,expose:x}}function gd(s){if(s.exposed)return s.exposeProxy||(s.exposeProxy=new Proxy(rp(ep(s.exposed)),{get(x,I){if(I in x)return x[I];if(I in jl)return jl[I](s)},has(x,I){return I in x||I in jl}}))}function W6(s){return Br(s)&&"__vccOpts"in s}const os=(s,x)=>O8(s,x,ql);function Rp(s,x,I){const Z=arguments.length;return Z===2?Ta(x)&&!Sr(x)?cf(x)?Zo(s,null,[x]):Zo(s,x):Zo(s,null,x):(Z>3?I=Array.prototype.slice.call(arguments,2):Z===3&&cf(I)&&(I=[I]),Zo(s,x,I))}const Z6=Symbol.for("v-scx"),Y6=()=>Js(Z6),X6="3.3.13",q6="http://www.w3.org/2000/svg",I0=typeof document<"u"?document:null,Y2=I0&&I0.createElement("template"),J6={insert:(s,x,I)=>{x.insertBefore(s,I||null)},remove:s=>{const x=s.parentNode;x&&x.removeChild(s)},createElement:(s,x,I,Z)=>{const K=x?I0.createElementNS(q6,s):I0.createElement(s,I?{is:I}:void 0);return s==="select"&&Z&&Z.multiple!=null&&K.setAttribute("multiple",Z.multiple),K},createText:s=>I0.createTextNode(s),createComment:s=>I0.createComment(s),setText:(s,x)=>{s.nodeValue=x},setElementText:(s,x)=>{s.textContent=x},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>I0.querySelector(s),setScopeId(s,x){s.setAttribute(x,"")},insertStaticContent(s,x,I,Z,K,Re){const nt=I?I.previousSibling:x.lastChild;if(K&&(K===Re||K.nextSibling))for(;x.insertBefore(K.cloneNode(!0),I),!(K===Re||!(K=K.nextSibling)););else{Y2.innerHTML=Z?`<svg>${s}</svg>`:s;const xt=Y2.content;if(Z){const _t=xt.firstChild;for(;_t.firstChild;)xt.appendChild(_t.firstChild);xt.removeChild(_t)}x.insertBefore(xt,I)}return[nt?nt.nextSibling:x.firstChild,I?I.previousSibling:x.lastChild]}},K6=Symbol("_vtc");function $6(s,x,I){const Z=s[K6];Z&&(x=(x?[x,...Z]:[...Z]).join(" ")),x==null?s.removeAttribute("class"):I?s.setAttribute("class",x):s.className=x}const Of=Symbol("_vod"),X2={beforeMount(s,{value:x},{transition:I}){s[Of]=s.style.display==="none"?"":s.style.display,I&&x?I.beforeEnter(s):Ll(s,x)},mounted(s,{value:x},{transition:I}){I&&x&&I.enter(s)},updated(s,{value:x,oldValue:I},{transition:Z}){!x!=!I&&(Z?x?(Z.beforeEnter(s),Ll(s,!0),Z.enter(s)):Z.leave(s,()=>{Ll(s,!1)}):Ll(s,x))},beforeUnmount(s,{value:x}){Ll(s,x)}};function Ll(s,x){s.style.display=x?s[Of]:"none"}const Q6=Symbol("");function e9(s,x,I){const Z=s.style,K=Za(I);if(I&&!K){if(x&&!Za(x))for(const Re in x)I[Re]==null&&df(Z,Re,"");for(const Re in I)df(Z,Re,I[Re])}else{const Re=Z.display;if(K){if(x!==I){const nt=Z[Q6];nt&&(I+=";"+nt),Z.cssText=I}}else x&&s.removeAttribute("style");Of in s&&(Z.display=Re)}}const q2=/\s*!important$/;function df(s,x,I){if(Sr(I))I.forEach(Z=>df(s,x,Z));else if(I==null&&(I=""),x.startsWith("--"))s.setProperty(x,I);else{const Z=t9(s,x);q2.test(I)?s.setProperty(hl(Z),I.replace(q2,""),"important"):s[Z]=I}}const J2=["Webkit","Moz","ms"],Nu={};function t9(s,x){const I=Nu[x];if(I)return I;let Z=al(x);if(Z!=="filter"&&Z in s)return Nu[x]=Z;Z=zx(Z);for(let K=0;K<J2.length;K++){const Re=J2[K]+Z;if(Re in s)return Nu[x]=Re}return x}const K2="http://www.w3.org/1999/xlink";function i9(s,x,I,Z,K){if(Z&&x.startsWith("xlink:"))I==null?s.removeAttributeNS(K2,x.slice(6,x.length)):s.setAttributeNS(K2,x,I);else{const Re=c8(x);I==null||Re&&!Nx(I)?s.removeAttribute(x):s.setAttribute(x,Re?"":I)}}function n9(s,x,I,Z,K,Re,nt){if(x==="innerHTML"||x==="textContent"){Z&&nt(Z,K,Re),s[x]=I??"";return}const xt=s.tagName;if(x==="value"&&xt!=="PROGRESS"&&!xt.includes("-")){s._value=I;const Jt=xt==="OPTION"?s.getAttribute("value"):s.value,Wt=I??"";Jt!==Wt&&(s.value=Wt),I==null&&s.removeAttribute(x);return}let _t=!1;if(I===""||I==null){const Jt=typeof s[x];Jt==="boolean"?I=Nx(I):I==null&&Jt==="string"?(I="",_t=!0):Jt==="number"&&(I=0,_t=!0)}try{s[x]=I}catch{}_t&&s.removeAttribute(x)}function Q0(s,x,I,Z){s.addEventListener(x,I,Z)}function r9(s,x,I,Z){s.removeEventListener(x,I,Z)}const $2=Symbol("_vei");function a9(s,x,I,Z,K=null){const Re=s[$2]||(s[$2]={}),nt=Re[x];if(Z&&nt)nt.value=Z;else{const[xt,_t]=o9(x);if(Z){const Jt=Re[x]=c9(Z,K);Q0(s,xt,Jt,_t)}else nt&&(r9(s,xt,nt,_t),Re[x]=void 0)}}const Q2=/(?:Once|Passive|Capture)$/;function o9(s){let x;if(Q2.test(s)){x={};let Z;for(;Z=s.match(Q2);)s=s.slice(0,s.length-Z[0].length),x[Z[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):hl(s.slice(2)),x]}let ju=0;const s9=Promise.resolve(),l9=()=>ju||(s9.then(()=>ju=0),ju=Date.now());function c9(s,x){const I=Z=>{if(!Z._vts)Z._vts=Date.now();else if(Z._vts<=I.attached)return;cs(d9(Z,I.value),x,5,[Z])};return I.value=s,I.attached=l9(),I}function d9(s,x){if(Sr(x)){const I=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{I.call(s),s._stopped=!0},x.map(Z=>K=>!K._stopped&&Z&&Z(K))}else return x}const ex=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,u9=(s,x,I,Z,K=!1,Re,nt,xt,_t)=>{x==="class"?$6(s,Z,K):x==="style"?e9(s,I,Z):od(x)?yf(x)||a9(s,x,I,Z,nt):(x[0]==="."?(x=x.slice(1),!0):x[0]==="^"?(x=x.slice(1),!1):f9(s,x,Z,K))?n9(s,x,Z,Re,nt,xt,_t):(x==="true-value"?s._trueValue=Z:x==="false-value"&&(s._falseValue=Z),i9(s,x,Z,K))};function f9(s,x,I,Z){if(Z)return!!(x==="innerHTML"||x==="textContent"||x in s&&ex(x)&&Br(I));if(x==="spellcheck"||x==="draggable"||x==="translate"||x==="form"||x==="list"&&s.tagName==="INPUT"||x==="type"&&s.tagName==="TEXTAREA")return!1;if(x==="width"||x==="height"){const K=s.tagName;if(K==="IMG"||K==="VIDEO"||K==="CANVAS"||K==="SOURCE")return!1}return ex(x)&&Za(I)?!1:x in s}const tx=s=>{const x=s.props["onUpdate:modelValue"]||!1;return Sr(x)?I=>Gc(x,I):x};function h9(s){s.target.composing=!0}function ix(s){const x=s.target;x.composing&&(x.composing=!1,x.dispatchEvent(new Event("input")))}const Uu=Symbol("_assign"),x9={created(s,{modifiers:{lazy:x,trim:I,number:Z}},K){s[Uu]=tx(K);const Re=Z||K.props&&K.props.type==="number";Q0(s,x?"change":"input",nt=>{if(nt.target.composing)return;let xt=s.value;I&&(xt=xt.trim()),Re&&(xt=Ju(xt)),s[Uu](xt)}),I&&Q0(s,"change",()=>{s.value=s.value.trim()}),x||(Q0(s,"compositionstart",h9),Q0(s,"compositionend",ix),Q0(s,"change",ix))},mounted(s,{value:x}){s.value=x??""},beforeUpdate(s,{value:x,modifiers:{lazy:I,trim:Z,number:K}},Re){if(s[Uu]=tx(Re),s.composing)return;const nt=K||s.type==="number"?Ju(s.value):s.value,xt=x??"";nt!==xt&&(document.activeElement===s&&s.type!=="range"&&(I||Z&&s.value.trim()===xt)||(s.value=xt))}},p9=oo({patchProp:u9},J6);let nx;function m9(){return nx||(nx=E6(p9))}const _9=(...s)=>{const x=m9().createApp(...s),{mount:I}=x;return x.mount=Z=>{const K=g9(Z);if(!K)return;const Re=x._component;!Br(Re)&&!Re.render&&!Re.template&&(Re.template=K.innerHTML),K.innerHTML="";const nt=I(K,!1,K instanceof SVGElement);return K instanceof Element&&(K.removeAttribute("v-cloak"),K.setAttribute("data-v-app","")),nt},x};function g9(s){return Za(s)?document.querySelector(s):s}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const el=typeof window<"u";function v9(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const ha=Object.assign;function Hu(s,x){const I={};for(const Z in x){const K=x[Z];I[Z]=ds(K)?K.map(s):s(K)}return I}const Hl=()=>{},ds=Array.isArray,y9=/\/$/,b9=s=>s.replace(y9,"");function Vu(s,x,I="/"){let Z,K={},Re="",nt="";const xt=x.indexOf("#");let _t=x.indexOf("?");return xt<_t&&xt>=0&&(_t=-1),_t>-1&&(Z=x.slice(0,_t),Re=x.slice(_t+1,xt>-1?xt:x.length),K=s(Re)),xt>-1&&(Z=Z||x.slice(0,xt),nt=x.slice(xt,x.length)),Z=P9(Z??x,I),{fullPath:Z+(Re&&"?")+Re+nt,path:Z,query:K,hash:nt}}function S9(s,x){const I=x.query?s(x.query):"";return x.path+(I&&"?")+I+(x.hash||"")}function rx(s,x){return!x||!s.toLowerCase().startsWith(x.toLowerCase())?s:s.slice(x.length)||"/"}function C9(s,x,I){const Z=x.matched.length-1,K=I.matched.length-1;return Z>-1&&Z===K&&cl(x.matched[Z],I.matched[K])&&kp(x.params,I.params)&&s(x.query)===s(I.query)&&x.hash===I.hash}function cl(s,x){return(s.aliasOf||s)===(x.aliasOf||x)}function kp(s,x){if(Object.keys(s).length!==Object.keys(x).length)return!1;for(const I in s)if(!T9(s[I],x[I]))return!1;return!0}function T9(s,x){return ds(s)?ax(s,x):ds(x)?ax(x,s):s===x}function ax(s,x){return ds(x)?s.length===x.length&&s.every((I,Z)=>I===x[Z]):s.length===1&&s[0]===x}function P9(s,x){if(s.startsWith("/"))return s;if(!s)return x;const I=x.split("/"),Z=s.split("/"),K=Z[Z.length-1];(K===".."||K===".")&&Z.push("");let Re=I.length-1,nt,xt;for(nt=0;nt<Z.length;nt++)if(xt=Z[nt],xt!==".")if(xt==="..")Re>1&&Re--;else break;return I.slice(0,Re).join("/")+"/"+Z.slice(nt-(nt===Z.length?1:0)).join("/")}var Jl;(function(s){s.pop="pop",s.push="push"})(Jl||(Jl={}));var Vl;(function(s){s.back="back",s.forward="forward",s.unknown=""})(Vl||(Vl={}));function w9(s){if(!s)if(el){const x=document.querySelector("base");s=x&&x.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),b9(s)}const E9=/^[^#]+#/;function R9(s,x){return s.replace(E9,"#")+x}function k9(s,x){const I=document.documentElement.getBoundingClientRect(),Z=s.getBoundingClientRect();return{behavior:x.behavior,left:Z.left-I.left-(x.left||0),top:Z.top-I.top-(x.top||0)}}const vd=()=>({left:window.pageXOffset,top:window.pageYOffset});function I9(s){let x;if("el"in s){const I=s.el,Z=typeof I=="string"&&I.startsWith("#"),K=typeof I=="string"?Z?document.getElementById(I.slice(1)):document.querySelector(I):I;if(!K)return;x=k9(K,s)}else x=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(x):window.scrollTo(x.left!=null?x.left:window.pageXOffset,x.top!=null?x.top:window.pageYOffset)}function ox(s,x){return(history.state?history.state.position-x:-1)+s}const uf=new Map;function D9(s,x){uf.set(s,x)}function A9(s){const x=uf.get(s);return uf.delete(s),x}let M9=()=>location.protocol+"//"+location.host;function Ip(s,x){const{pathname:I,search:Z,hash:K}=x,Re=s.indexOf("#");if(Re>-1){let xt=K.includes(s.slice(Re))?s.slice(Re).length:1,_t=K.slice(xt);return _t[0]!=="/"&&(_t="/"+_t),rx(_t,"")}return rx(I,s)+Z+K}function B9(s,x,I,Z){let K=[],Re=[],nt=null;const xt=({state:Mi})=>{const tn=Ip(s,location),ln=I.value,hn=x.value;let Gn=0;if(Mi){if(I.value=tn,x.value=Mi,nt&&nt===ln){nt=null;return}Gn=hn?Mi.position-hn.position:0}else Z(tn);K.forEach(Fn=>{Fn(I.value,ln,{delta:Gn,type:Jl.pop,direction:Gn?Gn>0?Vl.forward:Vl.back:Vl.unknown})})};function _t(){nt=I.value}function Jt(Mi){K.push(Mi);const tn=()=>{const ln=K.indexOf(Mi);ln>-1&&K.splice(ln,1)};return Re.push(tn),tn}function Wt(){const{history:Mi}=window;Mi.state&&Mi.replaceState(ha({},Mi.state,{scroll:vd()}),"")}function ei(){for(const Mi of Re)Mi();Re=[],window.removeEventListener("popstate",xt),window.removeEventListener("beforeunload",Wt)}return window.addEventListener("popstate",xt),window.addEventListener("beforeunload",Wt,{passive:!0}),{pauseListeners:_t,listen:Jt,destroy:ei}}function sx(s,x,I,Z=!1,K=!1){return{back:s,current:x,forward:I,replaced:Z,position:window.history.length,scroll:K?vd():null}}function L9(s){const{history:x,location:I}=window,Z={value:Ip(s,I)},K={value:x.state};K.value||Re(Z.value,{back:null,current:Z.value,forward:null,position:x.length-1,replaced:!0,scroll:null},!0);function Re(_t,Jt,Wt){const ei=s.indexOf("#"),Mi=ei>-1?(I.host&&document.querySelector("base")?s:s.slice(ei))+_t:M9()+s+_t;try{x[Wt?"replaceState":"pushState"](Jt,"",Mi),K.value=Jt}catch(tn){console.error(tn),I[Wt?"replace":"assign"](Mi)}}function nt(_t,Jt){const Wt=ha({},x.state,sx(K.value.back,_t,K.value.forward,!0),Jt,{position:K.value.position});Re(_t,Wt,!0),Z.value=_t}function xt(_t,Jt){const Wt=ha({},K.value,x.state,{forward:_t,scroll:vd()});Re(Wt.current,Wt,!0);const ei=ha({},sx(Z.value,_t,null),{position:Wt.position+1},Jt);Re(_t,ei,!1),Z.value=_t}return{location:Z,state:K,push:xt,replace:nt}}function F9(s){s=w9(s);const x=L9(s),I=B9(s,x.state,x.location,x.replace);function Z(Re,nt=!0){nt||I.pauseListeners(),history.go(Re)}const K=ha({location:"",base:s,go:Z,createHref:R9.bind(null,s)},x,I);return Object.defineProperty(K,"location",{enumerable:!0,get:()=>x.location.value}),Object.defineProperty(K,"state",{enumerable:!0,get:()=>x.state.value}),K}function O9(s){return typeof s=="string"||s&&typeof s=="object"}function Dp(s){return typeof s=="string"||typeof s=="symbol"}const d0={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ap=Symbol("");var lx;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(lx||(lx={}));function dl(s,x){return ha(new Error,{type:s,[Ap]:!0},x)}function Ys(s,x){return s instanceof Error&&Ap in s&&(x==null||!!(s.type&x))}const cx="[^/]+?",z9={sensitive:!1,strict:!1,start:!0,end:!0},N9=/[.+*?^${}()[\]/\\]/g;function j9(s,x){const I=ha({},z9,x),Z=[];let K=I.start?"^":"";const Re=[];for(const Jt of s){const Wt=Jt.length?[]:[90];I.strict&&!Jt.length&&(K+="/");for(let ei=0;ei<Jt.length;ei++){const Mi=Jt[ei];let tn=40+(I.sensitive?.25:0);if(Mi.type===0)ei||(K+="/"),K+=Mi.value.replace(N9,"\\$&"),tn+=40;else if(Mi.type===1){const{value:ln,repeatable:hn,optional:Gn,regexp:Fn}=Mi;Re.push({name:ln,repeatable:hn,optional:Gn});const Zn=Fn||cx;if(Zn!==cx){tn+=10;try{new RegExp(`(${Zn})`)}catch(qn){throw new Error(`Invalid custom RegExp for param "${ln}" (${Zn}): `+qn.message)}}let vr=hn?`((?:${Zn})(?:/(?:${Zn}))*)`:`(${Zn})`;ei||(vr=Gn&&Jt.length<2?`(?:/${vr})`:"/"+vr),Gn&&(vr+="?"),K+=vr,tn+=20,Gn&&(tn+=-8),hn&&(tn+=-20),Zn===".*"&&(tn+=-50)}Wt.push(tn)}Z.push(Wt)}if(I.strict&&I.end){const Jt=Z.length-1;Z[Jt][Z[Jt].length-1]+=.7000000000000001}I.strict||(K+="/?"),I.end?K+="$":I.strict&&(K+="(?:/|$)");const nt=new RegExp(K,I.sensitive?"":"i");function xt(Jt){const Wt=Jt.match(nt),ei={};if(!Wt)return null;for(let Mi=1;Mi<Wt.length;Mi++){const tn=Wt[Mi]||"",ln=Re[Mi-1];ei[ln.name]=tn&&ln.repeatable?tn.split("/"):tn}return ei}function _t(Jt){let Wt="",ei=!1;for(const Mi of s){(!ei||!Wt.endsWith("/"))&&(Wt+="/"),ei=!1;for(const tn of Mi)if(tn.type===0)Wt+=tn.value;else if(tn.type===1){const{value:ln,repeatable:hn,optional:Gn}=tn,Fn=ln in Jt?Jt[ln]:"";if(ds(Fn)&&!hn)throw new Error(`Provided param "${ln}" is an array but it is not repeatable (* or + modifiers)`);const Zn=ds(Fn)?Fn.join("/"):Fn;if(!Zn)if(Gn)Mi.length<2&&(Wt.endsWith("/")?Wt=Wt.slice(0,-1):ei=!0);else throw new Error(`Missing required param "${ln}"`);Wt+=Zn}}return Wt||"/"}return{re:nt,score:Z,keys:Re,parse:xt,stringify:_t}}function U9(s,x){let I=0;for(;I<s.length&&I<x.length;){const Z=x[I]-s[I];if(Z)return Z;I++}return s.length<x.length?s.length===1&&s[0]===80?-1:1:s.length>x.length?x.length===1&&x[0]===80?1:-1:0}function H9(s,x){let I=0;const Z=s.score,K=x.score;for(;I<Z.length&&I<K.length;){const Re=U9(Z[I],K[I]);if(Re)return Re;I++}if(Math.abs(K.length-Z.length)===1){if(dx(Z))return 1;if(dx(K))return-1}return K.length-Z.length}function dx(s){const x=s[s.length-1];return s.length>0&&x[x.length-1]<0}const V9={type:0,value:""},G9=/[a-zA-Z0-9_]/;function W9(s){if(!s)return[[]];if(s==="/")return[[V9]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function x(tn){throw new Error(`ERR (${I})/"${Jt}": ${tn}`)}let I=0,Z=I;const K=[];let Re;function nt(){Re&&K.push(Re),Re=[]}let xt=0,_t,Jt="",Wt="";function ei(){Jt&&(I===0?Re.push({type:0,value:Jt}):I===1||I===2||I===3?(Re.length>1&&(_t==="*"||_t==="+")&&x(`A repeatable param (${Jt}) must be alone in its segment. eg: '/:ids+.`),Re.push({type:1,value:Jt,regexp:Wt,repeatable:_t==="*"||_t==="+",optional:_t==="*"||_t==="?"})):x("Invalid state to consume buffer"),Jt="")}function Mi(){Jt+=_t}for(;xt<s.length;){if(_t=s[xt++],_t==="\\"&&I!==2){Z=I,I=4;continue}switch(I){case 0:_t==="/"?(Jt&&ei(),nt()):_t===":"?(ei(),I=1):Mi();break;case 4:Mi(),I=Z;break;case 1:_t==="("?I=2:G9.test(_t)?Mi():(ei(),I=0,_t!=="*"&&_t!=="?"&&_t!=="+"&&xt--);break;case 2:_t===")"?Wt[Wt.length-1]=="\\"?Wt=Wt.slice(0,-1)+_t:I=3:Wt+=_t;break;case 3:ei(),I=0,_t!=="*"&&_t!=="?"&&_t!=="+"&&xt--,Wt="";break;default:x("Unknown state");break}}return I===2&&x(`Unfinished custom RegExp for param "${Jt}"`),ei(),nt(),K}function Z9(s,x,I){const Z=j9(W9(s.path),I),K=ha(Z,{record:s,parent:x,children:[],alias:[]});return x&&!K.record.aliasOf==!x.record.aliasOf&&x.children.push(K),K}function Y9(s,x){const I=[],Z=new Map;x=hx({strict:!1,end:!0,sensitive:!1},x);function K(Wt){return Z.get(Wt)}function Re(Wt,ei,Mi){const tn=!Mi,ln=X9(Wt);ln.aliasOf=Mi&&Mi.record;const hn=hx(x,Wt),Gn=[ln];if("alias"in Wt){const vr=typeof Wt.alias=="string"?[Wt.alias]:Wt.alias;for(const qn of vr)Gn.push(ha({},ln,{components:Mi?Mi.record.components:ln.components,path:qn,aliasOf:Mi?Mi.record:ln}))}let Fn,Zn;for(const vr of Gn){const{path:qn}=vr;if(ei&&qn[0]!=="/"){const ia=ei.record.path,cr=ia[ia.length-1]==="/"?"":"/";vr.path=ei.record.path+(qn&&cr+qn)}if(Fn=Z9(vr,ei,hn),Mi?Mi.alias.push(Fn):(Zn=Zn||Fn,Zn!==Fn&&Zn.alias.push(Fn),tn&&Wt.name&&!fx(Fn)&&nt(Wt.name)),ln.children){const ia=ln.children;for(let cr=0;cr<ia.length;cr++)Re(ia[cr],Fn,Mi&&Mi.children[cr])}Mi=Mi||Fn,(Fn.record.components&&Object.keys(Fn.record.components).length||Fn.record.name||Fn.record.redirect)&&_t(Fn)}return Zn?()=>{nt(Zn)}:Hl}function nt(Wt){if(Dp(Wt)){const ei=Z.get(Wt);ei&&(Z.delete(Wt),I.splice(I.indexOf(ei),1),ei.children.forEach(nt),ei.alias.forEach(nt))}else{const ei=I.indexOf(Wt);ei>-1&&(I.splice(ei,1),Wt.record.name&&Z.delete(Wt.record.name),Wt.children.forEach(nt),Wt.alias.forEach(nt))}}function xt(){return I}function _t(Wt){let ei=0;for(;ei<I.length&&H9(Wt,I[ei])>=0&&(Wt.record.path!==I[ei].record.path||!Mp(Wt,I[ei]));)ei++;I.splice(ei,0,Wt),Wt.record.name&&!fx(Wt)&&Z.set(Wt.record.name,Wt)}function Jt(Wt,ei){let Mi,tn={},ln,hn;if("name"in Wt&&Wt.name){if(Mi=Z.get(Wt.name),!Mi)throw dl(1,{location:Wt});hn=Mi.record.name,tn=ha(ux(ei.params,Mi.keys.filter(Zn=>!Zn.optional).map(Zn=>Zn.name)),Wt.params&&ux(Wt.params,Mi.keys.map(Zn=>Zn.name))),ln=Mi.stringify(tn)}else if("path"in Wt)ln=Wt.path,Mi=I.find(Zn=>Zn.re.test(ln)),Mi&&(tn=Mi.parse(ln),hn=Mi.record.name);else{if(Mi=ei.name?Z.get(ei.name):I.find(Zn=>Zn.re.test(ei.path)),!Mi)throw dl(1,{location:Wt,currentLocation:ei});hn=Mi.record.name,tn=ha({},ei.params,Wt.params),ln=Mi.stringify(tn)}const Gn=[];let Fn=Mi;for(;Fn;)Gn.unshift(Fn.record),Fn=Fn.parent;return{name:hn,path:ln,params:tn,matched:Gn,meta:J9(Gn)}}return s.forEach(Wt=>Re(Wt)),{addRoute:Re,resolve:Jt,removeRoute:nt,getRoutes:xt,getRecordMatcher:K}}function ux(s,x){const I={};for(const Z of x)Z in s&&(I[Z]=s[Z]);return I}function X9(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:q9(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function q9(s){const x={},I=s.props||!1;if("component"in s)x.default=I;else for(const Z in s.components)x[Z]=typeof I=="object"?I[Z]:I;return x}function fx(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function J9(s){return s.reduce((x,I)=>ha(x,I.meta),{})}function hx(s,x){const I={};for(const Z in s)I[Z]=Z in x?x[Z]:s[Z];return I}function Mp(s,x){return x.children.some(I=>I===s||Mp(s,I))}const Bp=/#/g,K9=/&/g,$9=/\//g,Q9=/=/g,eb=/\?/g,Lp=/\+/g,tb=/%5B/g,ib=/%5D/g,Fp=/%5E/g,nb=/%60/g,Op=/%7B/g,rb=/%7C/g,zp=/%7D/g,ab=/%20/g;function zf(s){return encodeURI(""+s).replace(rb,"|").replace(tb,"[").replace(ib,"]")}function ob(s){return zf(s).replace(Op,"{").replace(zp,"}").replace(Fp,"^")}function ff(s){return zf(s).replace(Lp,"%2B").replace(ab,"+").replace(Bp,"%23").replace(K9,"%26").replace(nb,"`").replace(Op,"{").replace(zp,"}").replace(Fp,"^")}function sb(s){return ff(s).replace(Q9,"%3D")}function lb(s){return zf(s).replace(Bp,"%23").replace(eb,"%3F")}function cb(s){return s==null?"":lb(s).replace($9,"%2F")}function nd(s){try{return decodeURIComponent(""+s)}catch{}return""+s}function db(s){const x={};if(s===""||s==="?")return x;const Z=(s[0]==="?"?s.slice(1):s).split("&");for(let K=0;K<Z.length;++K){const Re=Z[K].replace(Lp," "),nt=Re.indexOf("="),xt=nd(nt<0?Re:Re.slice(0,nt)),_t=nt<0?null:nd(Re.slice(nt+1));if(xt in x){let Jt=x[xt];ds(Jt)||(Jt=x[xt]=[Jt]),Jt.push(_t)}else x[xt]=_t}return x}function xx(s){let x="";for(let I in s){const Z=s[I];if(I=sb(I),Z==null){Z!==void 0&&(x+=(x.length?"&":"")+I);continue}(ds(Z)?Z.map(Re=>Re&&ff(Re)):[Z&&ff(Z)]).forEach(Re=>{Re!==void 0&&(x+=(x.length?"&":"")+I,Re!=null&&(x+="="+Re))})}return x}function ub(s){const x={};for(const I in s){const Z=s[I];Z!==void 0&&(x[I]=ds(Z)?Z.map(K=>K==null?null:""+K):Z==null?Z:""+Z)}return x}const fb=Symbol(""),px=Symbol(""),Nf=Symbol(""),Np=Symbol(""),hf=Symbol("");function Fl(){let s=[];function x(Z){return s.push(Z),()=>{const K=s.indexOf(Z);K>-1&&s.splice(K,1)}}function I(){s=[]}return{add:x,list:()=>s.slice(),reset:I}}function h0(s,x,I,Z,K){const Re=Z&&(Z.enterCallbacks[K]=Z.enterCallbacks[K]||[]);return()=>new Promise((nt,xt)=>{const _t=ei=>{ei===!1?xt(dl(4,{from:I,to:x})):ei instanceof Error?xt(ei):O9(ei)?xt(dl(2,{from:x,to:ei})):(Re&&Z.enterCallbacks[K]===Re&&typeof ei=="function"&&Re.push(ei),nt())},Jt=s.call(Z&&Z.instances[K],x,I,_t);let Wt=Promise.resolve(Jt);s.length<3&&(Wt=Wt.then(_t)),Wt.catch(ei=>xt(ei))})}function Gu(s,x,I,Z){const K=[];for(const Re of s)for(const nt in Re.components){let xt=Re.components[nt];if(!(x!=="beforeRouteEnter"&&!Re.instances[nt]))if(hb(xt)){const Jt=(xt.__vccOpts||xt)[x];Jt&&K.push(h0(Jt,I,Z,Re,nt))}else{let _t=xt();K.push(()=>_t.then(Jt=>{if(!Jt)return Promise.reject(new Error(`Couldn't resolve component "${nt}" at "${Re.path}"`));const Wt=v9(Jt)?Jt.default:Jt;Re.components[nt]=Wt;const Mi=(Wt.__vccOpts||Wt)[x];return Mi&&h0(Mi,I,Z,Re,nt)()}))}}return K}function hb(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function mx(s){const x=Js(Nf),I=Js(Np),Z=os(()=>x.resolve(M0(s.to))),K=os(()=>{const{matched:_t}=Z.value,{length:Jt}=_t,Wt=_t[Jt-1],ei=I.matched;if(!Wt||!ei.length)return-1;const Mi=ei.findIndex(cl.bind(null,Wt));if(Mi>-1)return Mi;const tn=_x(_t[Jt-2]);return Jt>1&&_x(Wt)===tn&&ei[ei.length-1].path!==tn?ei.findIndex(cl.bind(null,_t[Jt-2])):Mi}),Re=os(()=>K.value>-1&&_b(I.params,Z.value.params)),nt=os(()=>K.value>-1&&K.value===I.matched.length-1&&kp(I.params,Z.value.params));function xt(_t={}){return mb(_t)?x[M0(s.replace)?"replace":"push"](M0(s.to)).catch(Hl):Promise.resolve()}return{route:Z,href:os(()=>Z.value.href),isActive:Re,isExactActive:nt,navigate:xt}}const xb=Af({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mx,setup(s,{slots:x}){const I=ud(mx(s)),{options:Z}=Js(Nf),K=os(()=>({[gx(s.activeClass,Z.linkActiveClass,"router-link-active")]:I.isActive,[gx(s.exactActiveClass,Z.linkExactActiveClass,"router-link-exact-active")]:I.isExactActive}));return()=>{const Re=x.default&&x.default(I);return s.custom?Re:Rp("a",{"aria-current":I.isExactActive?s.ariaCurrentValue:null,href:I.href,onClick:I.navigate,class:K.value},Re)}}}),pb=xb;function mb(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const x=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(x))return}return s.preventDefault&&s.preventDefault(),!0}}function _b(s,x){for(const I in x){const Z=x[I],K=s[I];if(typeof Z=="string"){if(Z!==K)return!1}else if(!ds(K)||K.length!==Z.length||Z.some((Re,nt)=>Re!==K[nt]))return!1}return!0}function _x(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const gx=(s,x,I)=>s??x??I,gb=Af({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:x,slots:I}){const Z=Js(hf),K=os(()=>s.route||Z.value),Re=Js(px,0),nt=os(()=>{let Jt=M0(Re);const{matched:Wt}=K.value;let ei;for(;(ei=Wt[Jt])&&!ei.components;)Jt++;return Jt}),xt=os(()=>K.value.matched[nt.value]);Yc(px,os(()=>nt.value+1)),Yc(fb,xt),Yc(hf,K);const _t=K0();return Wc(()=>[_t.value,xt.value,s.name],([Jt,Wt,ei],[Mi,tn,ln])=>{Wt&&(Wt.instances[ei]=Jt,tn&&tn!==Wt&&Jt&&Jt===Mi&&(Wt.leaveGuards.size||(Wt.leaveGuards=tn.leaveGuards),Wt.updateGuards.size||(Wt.updateGuards=tn.updateGuards))),Jt&&Wt&&(!tn||!cl(Wt,tn)||!Mi)&&(Wt.enterCallbacks[ei]||[]).forEach(hn=>hn(Jt))},{flush:"post"}),()=>{const Jt=K.value,Wt=s.name,ei=xt.value,Mi=ei&&ei.components[Wt];if(!Mi)return vx(I.default,{Component:Mi,route:Jt});const tn=ei.props[Wt],ln=tn?tn===!0?Jt.params:typeof tn=="function"?tn(Jt):tn:null,Gn=Rp(Mi,ha({},ln,x,{onVnodeUnmounted:Fn=>{Fn.component.isUnmounted&&(ei.instances[Wt]=null)},ref:_t}));return vx(I.default,{Component:Gn,route:Jt})||Gn}}});function vx(s,x){if(!s)return null;const I=s(x);return I.length===1?I[0]:I}const jp=gb;function vb(s){const x=Y9(s.routes,s),I=s.parseQuery||db,Z=s.stringifyQuery||xx,K=s.history,Re=Fl(),nt=Fl(),xt=Fl(),_t=M8(d0);let Jt=d0;el&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const Wt=Hu.bind(null,un=>""+un),ei=Hu.bind(null,cb),Mi=Hu.bind(null,nd);function tn(un,Vn){let Mn,er;return Dp(un)?(Mn=x.getRecordMatcher(un),er=Vn):er=un,x.addRoute(er,Mn)}function ln(un){const Vn=x.getRecordMatcher(un);Vn&&x.removeRoute(Vn)}function hn(){return x.getRoutes().map(un=>un.record)}function Gn(un){return!!x.getRecordMatcher(un)}function Fn(un,Vn){if(Vn=ha({},Vn||_t.value),typeof un=="string"){const Ui=Vu(I,un,Vn.path),nn=x.resolve({path:Ui.path},Vn),gn=K.createHref(Ui.fullPath);return ha(Ui,nn,{params:Mi(nn.params),hash:nd(Ui.hash),redirectedFrom:void 0,href:gn})}let Mn;if("path"in un)Mn=ha({},un,{path:Vu(I,un.path,Vn.path).path});else{const Ui=ha({},un.params);for(const nn in Ui)Ui[nn]==null&&delete Ui[nn];Mn=ha({},un,{params:ei(Ui)}),Vn.params=ei(Vn.params)}const er=x.resolve(Mn,Vn),Qr=un.hash||"";er.params=Wt(Mi(er.params));const ii=S9(Z,ha({},un,{hash:ob(Qr),path:er.path})),ui=K.createHref(ii);return ha({fullPath:ii,hash:Qr,query:Z===xx?ub(un.query):un.query||{}},er,{redirectedFrom:void 0,href:ui})}function Zn(un){return typeof un=="string"?Vu(I,un,_t.value.path):ha({},un)}function vr(un,Vn){if(Jt!==un)return dl(8,{from:Vn,to:un})}function qn(un){return Ea(un)}function ia(un){return qn(ha(Zn(un),{replace:!0}))}function cr(un){const Vn=un.matched[un.matched.length-1];if(Vn&&Vn.redirect){const{redirect:Mn}=Vn;let er=typeof Mn=="function"?Mn(un):Mn;return typeof er=="string"&&(er=er.includes("?")||er.includes("#")?er=Zn(er):{path:er},er.params={}),ha({query:un.query,hash:un.hash,params:"path"in er?{}:un.params},er)}}function Ea(un,Vn){const Mn=Jt=Fn(un),er=_t.value,Qr=un.state,ii=un.force,ui=un.replace===!0,Ui=cr(Mn);if(Ui)return Ea(ha(Zn(Ui),{state:typeof Ui=="object"?ha({},Qr,Ui.state):Qr,force:ii,replace:ui}),Vn||Mn);const nn=Mn;nn.redirectedFrom=Vn;let gn;return!ii&&C9(Z,er,Mn)&&(gn=dl(16,{to:nn,from:er}),Mo(er,er,!0,!1)),(gn?Promise.resolve(gn):so(nn,er)).catch(Tn=>Ys(Tn)?Ys(Tn,2)?Tn:Va(Tn):Vr(Tn,nn,er)).then(Tn=>{if(Tn){if(Ys(Tn,2))return Ea(ha({replace:ui},Zn(Tn.to),{state:typeof Tn.to=="object"?ha({},Qr,Tn.to.state):Qr,force:ii}),Vn||nn)}else Tn=ks(nn,er,!0,ui,Qr);return us(nn,er,Tn),Tn})}function No(un,Vn){const Mn=vr(un,Vn);return Mn?Promise.reject(Mn):Promise.resolve()}function Rs(un){const Vn=qo.values().next().value;return Vn&&typeof Vn.runWithContext=="function"?Vn.runWithContext(un):un()}function so(un,Vn){let Mn;const[er,Qr,ii]=yb(un,Vn);Mn=Gu(er.reverse(),"beforeRouteLeave",un,Vn);for(const Ui of er)Ui.leaveGuards.forEach(nn=>{Mn.push(h0(nn,un,Vn))});const ui=No.bind(null,un,Vn);return Mn.push(ui),Pr(Mn).then(()=>{Mn=[];for(const Ui of Re.list())Mn.push(h0(Ui,un,Vn));return Mn.push(ui),Pr(Mn)}).then(()=>{Mn=Gu(Qr,"beforeRouteUpdate",un,Vn);for(const Ui of Qr)Ui.updateGuards.forEach(nn=>{Mn.push(h0(nn,un,Vn))});return Mn.push(ui),Pr(Mn)}).then(()=>{Mn=[];for(const Ui of ii)if(Ui.beforeEnter)if(ds(Ui.beforeEnter))for(const nn of Ui.beforeEnter)Mn.push(h0(nn,un,Vn));else Mn.push(h0(Ui.beforeEnter,un,Vn));return Mn.push(ui),Pr(Mn)}).then(()=>(un.matched.forEach(Ui=>Ui.enterCallbacks={}),Mn=Gu(ii,"beforeRouteEnter",un,Vn),Mn.push(ui),Pr(Mn))).then(()=>{Mn=[];for(const Ui of nt.list())Mn.push(h0(Ui,un,Vn));return Mn.push(ui),Pr(Mn)}).catch(Ui=>Ys(Ui,8)?Ui:Promise.reject(Ui))}function us(un,Vn,Mn){xt.list().forEach(er=>Rs(()=>er(un,Vn,Mn)))}function ks(un,Vn,Mn,er,Qr){const ii=vr(un,Vn);if(ii)return ii;const ui=Vn===d0,Ui=el?history.state:{};Mn&&(er||ui?K.replace(un.fullPath,ha({scroll:ui&&Ui&&Ui.scroll},Qr)):K.push(un.fullPath,Qr)),_t.value=un,Mo(un,Vn,Mn,ui),Va()}let _o;function Nn(){_o||(_o=K.listen((un,Vn,Mn)=>{if(!F0.listening)return;const er=Fn(un),Qr=cr(er);if(Qr){Ea(ha(Qr,{replace:!0}),er).catch(Hl);return}Jt=er;const ii=_t.value;el&&D9(ox(ii.fullPath,Mn.delta),vd()),so(er,ii).catch(ui=>Ys(ui,12)?ui:Ys(ui,2)?(Ea(ui.to,er).then(Ui=>{Ys(Ui,20)&&!Mn.delta&&Mn.type===Jl.pop&&K.go(-1,!1)}).catch(Hl),Promise.reject()):(Mn.delta&&K.go(-Mn.delta,!1),Vr(ui,er,ii))).then(ui=>{ui=ui||ks(er,ii,!1),ui&&(Mn.delta&&!Ys(ui,8)?K.go(-Mn.delta,!1):Mn.type===Jl.pop&&Ys(ui,20)&&K.go(-1,!1)),us(er,ii,ui)}).catch(Hl)}))}let Is=Fl(),Na=Fl(),Lr;function Vr(un,Vn,Mn){Va(un);const er=Na.list();return er.length?er.forEach(Qr=>Qr(un,Vn,Mn)):console.error(un),Promise.reject(un)}function Xo(){return Lr&&_t.value!==d0?Promise.resolve():new Promise((un,Vn)=>{Is.add([un,Vn])})}function Va(un){return Lr||(Lr=!un,Nn(),Is.list().forEach(([Vn,Mn])=>un?Mn(un):Vn()),Is.reset()),un}function Mo(un,Vn,Mn,er){const{scrollBehavior:Qr}=s;if(!el||!Qr)return Promise.resolve();const ii=!Mn&&A9(ox(un.fullPath,0))||(er||!Mn)&&history.state&&history.state.scroll||null;return op().then(()=>Qr(un,Vn,ii)).then(ui=>ui&&I9(ui)).catch(ui=>Vr(ui,un,Vn))}const lo=un=>K.go(un);let Qs;const qo=new Set,F0={currentRoute:_t,listening:!0,addRoute:tn,removeRoute:ln,hasRoute:Gn,getRoutes:hn,resolve:Fn,options:s,push:qn,replace:ia,go:lo,back:()=>lo(-1),forward:()=>lo(1),beforeEach:Re.add,beforeResolve:nt.add,afterEach:xt.add,onError:Na.add,isReady:Xo,install(un){const Vn=this;un.component("RouterLink",pb),un.component("RouterView",jp),un.config.globalProperties.$router=Vn,Object.defineProperty(un.config.globalProperties,"$route",{enumerable:!0,get:()=>M0(_t)}),el&&!Qs&&_t.value===d0&&(Qs=!0,qn(K.location).catch(Qr=>{}));const Mn={};for(const Qr in d0)Object.defineProperty(Mn,Qr,{get:()=>_t.value[Qr],enumerable:!0});un.provide(Nf,Vn),un.provide(Np,Kx(Mn)),un.provide(hf,_t);const er=un.unmount;qo.add(un),un.unmount=function(){qo.delete(un),qo.size<1&&(Jt=d0,_o&&_o(),_o=null,_t.value=d0,Qs=!1,Lr=!1),er()}}};function Pr(un){return un.reduce((Vn,Mn)=>Vn.then(()=>Rs(Mn)),Promise.resolve())}return F0}function yb(s,x){const I=[],Z=[],K=[],Re=Math.max(x.matched.length,s.matched.length);for(let nt=0;nt<Re;nt++){const xt=x.matched[nt];xt&&(s.matched.find(Jt=>cl(Jt,xt))?Z.push(xt):I.push(xt));const _t=s.matched[nt];_t&&(x.matched.find(Jt=>cl(Jt,_t))||K.push(_t))}return[I,Z,K]}const Up=(s,x)=>{const I=s.__vccOpts||s;for(const[Z,K]of x)I[Z]=K;return I},bb=Af({__name:"App",setup(s){return(x,I)=>($0(),M6(M0(jp)))}}),Sb=Up(bb,[["__scopeId","data-v-aed637db"]]),Cb="modulepreload",Tb=function(s){return"/"+s},yx={},Pb=function(x,I,Z){let K=Promise.resolve();if(I&&I.length>0){const Re=document.getElementsByTagName("link");K=Promise.all(I.map(nt=>{if(nt=Tb(nt),nt in yx)return;yx[nt]=!0;const xt=nt.endsWith(".css"),_t=xt?'[rel="stylesheet"]':"";if(!!Z)for(let ei=Re.length-1;ei>=0;ei--){const Mi=Re[ei];if(Mi.href===nt&&(!xt||Mi.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${nt}"]${_t}`))return;const Wt=document.createElement("link");if(Wt.rel=xt?"stylesheet":Cb,xt||(Wt.as="script",Wt.crossOrigin=""),Wt.href=nt,document.head.appendChild(Wt),xt)return new Promise((ei,Mi)=>{Wt.addEventListener("load",ei),Wt.addEventListener("error",()=>Mi(new Error(`Unable to preload CSS for ${nt}`)))})}))}return K.then(()=>x()).catch(Re=>{const nt=new Event("vite:preloadError",{cancelable:!0});if(nt.payload=Re,window.dispatchEvent(nt),!nt.defaultPrevented)throw Re})},wb="/assets/avator-nUHq_lbQ.jpg",Eb="/assets/设置-XAIfFPgX.png",bx="/assets/箭头--9SWawRd.png",Rb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAiZJREFUWEftV4FtAjEMtDcpkxQmaZmkdJLCJKWTtJu4f6/45TiOE1FVqFIjIR74ty/n88Uw3XnxnfPT3wIgIg9E9EREeyLCNV5fhUW8X4nog5nxPrWmGCiJ30piGxhJAcIvfH+cATIEICIvS/ST2eW5XG87LQDByqNhB7edmPk1oyIFICLvZtfDYEhkyrSBZuZdD0QXgEk+TadNUoBgAyjRlZkPEYgQgIig3s8QWIZ+pDKnnTMzH/0zDQARQS2BHOswI6QMSAHx2YsXAdC6VzVXoTGzijDMW0R7YWZtT+hChdyUIgIgiLyot/pNRFASlKZbFqObim5XiorVXpKmXi5IA8IkDwVnWKiY9QBUfDCRhuoeiFHy0p6qrQqgBwCxoG12toZBe6kros54IXi31Yw/IH7FXgjA19+rLbDmNLk+v5QB+koBNDdEUg8ATPlFAVAJ3DOgLdjtf5dcTz2UIAVh/CBlIAXgk8NeR91h6Nc2rjrMM6CG0Rw8UXITHMLdhBnZt7H3qsM8AARqlFpU3HUzo3IFEW0g7LDMiiM322dWbOYCdMXNVryxMDvVDA6j9HDrHcdK91R7DQCEh5s+0wNQieoWJn40kBhRgYl1MFksGppI5zvTFXaOTF1yNBPqGG6H0nX0LsazGpGZA/ERgHVSDqcgW7LhVBy0mH2+N5YDGPp964SeTqYAOMOBqvHnBGu14HKtf0yqaSgT6Dr4jG747d//AXwDKgNlMIs4UW4AAAAASUVORK5CYII=";var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var rd={exports:{}};rd.exports;(function(s,x){(function(I,Z){s.exports=Z()})(Wu,function(){function I(J,g){var t=Object.keys(J);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(J);g&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(J,o).enumerable})),t.push.apply(t,n)}return t}function Z(J){for(var g=1;g<arguments.length;g++){var t=arguments[g]!=null?arguments[g]:{};g%2?I(Object(t),!0).forEach(function(n){_t(J,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(n){Object.defineProperty(J,n,Object.getOwnPropertyDescriptor(t,n))})}return J}function K(J){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},K(J)}function Re(J,g){if(!(J instanceof g))throw new TypeError("Cannot call a class as a function")}function nt(J,g){for(var t=0;t<g.length;t++){var n=g[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(J,Fn(n.key),n)}}function xt(J,g,t){return g&&nt(J.prototype,g),t&&nt(J,t),Object.defineProperty(J,"prototype",{writable:!1}),J}function _t(J,g,t){return g=Fn(g),g in J?Object.defineProperty(J,g,{value:t,enumerable:!0,configurable:!0,writable:!0}):J[g]=t,J}function Jt(J){return Wt(J)||ei(J)||Mi(J)||ln()}function Wt(J){if(Array.isArray(J))return tn(J)}function ei(J){if(typeof Symbol<"u"&&J[Symbol.iterator]!=null||J["@@iterator"]!=null)return Array.from(J)}function Mi(J,g){if(J){if(typeof J=="string")return tn(J,g);var t=Object.prototype.toString.call(J).slice(8,-1);if(t==="Object"&&J.constructor&&(t=J.constructor.name),t==="Map"||t==="Set")return Array.from(J);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tn(J,g)}}function tn(J,g){(g==null||g>J.length)&&(g=J.length);for(var t=0,n=new Array(g);t<g;t++)n[t]=J[t];return n}function ln(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hn(J,g){var t=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!t){if(Array.isArray(J)||(t=Mi(J))||g&&J&&typeof J.length=="number"){t&&(J=t);var n=0,o=function(){};return{s:o,n:function(){return n>=J.length?{done:!0}:{done:!1,value:J[n++]}},e:function(k){throw k},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,d=!1,u;return{s:function(){t=t.call(J)},n:function(){var k=t.next();return c=k.done,k},e:function(k){d=!0,u=k},f:function(){try{!c&&t.return!=null&&t.return()}finally{if(d)throw u}}}}function Gn(J,g){if(typeof J!="object"||J===null)return J;var t=J[Symbol.toPrimitive];if(t!==void 0){var n=t.call(J,g||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(J)}function Fn(J){var g=Gn(J,"string");return typeof g=="symbol"?g:String(g)}var Zn=function(){function J(g,t){Re(this,J),this.coreX=g,this.coreY=t}return xt(J,[{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}}]),J}();Date.prototype.Format=function(J){var g={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(J)&&(J=J.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var t in g)new RegExp("("+t+")").test(J)&&(J=J.replace(RegExp.$1,RegExp.$1.length==1?g[t]:("00"+g[t]).substr((""+g[t]).length)));return J};var vr=function(g,t,n,o){var c=document.getElementsByTagName("head")[0].getElementsByTagName("script"),d=!1;if(n)d=n();else for(var u=0;u<c.length;u++)c[u].getAttribute("src")==g&&(d=!0,c[u].readyState?c[u].onreadystatechange=function(){(c[u].readyState=="complete"||c[u].readyState=="loaded")&&(c[u].onreadystatechange=null,t(o))}:c[u].onload=function(){t(o)});if(d)setTimeout(function(){t(o)},15);else{var k=document.createElement("script");k.setAttribute("src",g),k.setAttribute("crossorigin",!0),k.onload=function(){return t(o)},document.getElementsByTagName("head")[0].appendChild(k)}},qn=function(g,t){for(var n=document.getElementsByTagName("head")[0].getElementsByTagName("link"),o=!1,c=0;c<n.length;c++)n[c].getAttribute("href")==g&&(o=!0);if(!o){var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.href=g,d.onload=t,document.getElementsByTagName("head")[0].appendChild(d)}},ia=function(g){return!!g&&(K(g)==="object"||typeof g=="function")&&typeof g.then=="function"},cr=function(g,t){var n=new RegExp("(\\?|#|&)"+g+"=(.*?)(#|&|$)"),o=(t||window.location.href).match(n);return decodeURIComponent(o?o[2]:"")},Ea=function(g,t){var n=t.parentNode;n.lastChild==t?n.appendChild(g):n.insertBefore(g,t.nextSibling)},No=function(g){if(console.log("requestFullScreen",document.getElementById(g)),navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1)g.webkitRequestFullScreen();else{var t=g.requestFullScreen||g.webkitRequestFullScreen||g.mozRequestFullScreen||g.msRequestFullScreen;if(t)t.call(g);else if(typeof window.ActiveXObject<"u"){var n=new window.ActiveXObject("WScript.Shell");n!==null&&n.SendKeys("{F11}")}}},Rs=function(g){var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,o=g,c="";c+="width:"+n+"px;",c+="height:"+t+"px;",c+="-webkit-transform: rotate(90.001deg); transform: rotate(90.001deg);",c+="-webkit-transform-origin: "+t/2+"px "+t/2+"px;",c+="transform-origin: "+t/2+"px "+t/2+"px;",c+="position: fixed;top: 0;left: 0;z-index:10",o.style.cssText=c},so=function(g){No(g);var t=new Promise(function(n,o){var c=setInterval(function(){var u=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;if(u)return clearInterval(c),n(!0)},100),d=setTimeout(function(){var u=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;u||o(!1),clearTimeout(d)},2e3)});return t},us=function(g,t,n){var o="";o+="width:"+t+"px;",o+="height:"+n+"px;",o+="-webkit-transform: none; transform: none;",o+="-webkit-transform-origin: 0 0;",o+="transform-origin: 0 0;",g.style.cssText=o},ks=function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()},_o=function(g){ks();var t=new Promise(function(n,o){var c=setInterval(function(){var u=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;if(!u)return clearInterval(c),n(!0)},50),d=setTimeout(function(){var u=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;u&&o(!1),clearTimeout(d)},2e3)});return t},Nn=function(g){var t=g.split("/")[3],n=g.split("/")[4].split(".")[0],o=g.split("/")[2].split("@").length===2?g.split("/")[2].split("@")[0]:"",c=g.indexOf(".hd")!==-1,d=g.split("/")[4].split(".")[g.split("/")[4].split(".").length-1].split("?")[0];return d==="rec"&&g.indexOf(".cloud.rec")!==-1&&(d="cloud.rec"),{deviceSerial:t,channelNo:n,validCode:o,hd:c,type:d}},Is=function(g){var t=/\/([A-Za-z\d]{9})\_(\d)\_(\d)/,n=g.match(t);if(n.length>3){var o=n[1],c=n[2],d=n[3]==="1",u="live";return g.indexOf("rec=local")>-1?u="rec":g.indexOf("rec=cloud")>-1&&(u="cloud.rec"),{deviceSerial:o,channelNo:c,hd:d,type:u}}return{}};function Na(J){if(typeof J=="string")try{var g=JSON.parse(J);return!!(K(g)==="object"&&g)}catch{return!1}console.log("It is not a string!")}var Lr=function(g,t,n,o,c,d){var u=g,k=new XMLHttpRequest;k.onreadystatechange=function(){if(k.readyState==4&&k.status==200)if(Na(k.responseText)){var R=JSON.parse(k.responseText);c(R)}else c(k.responseText)},k.open(t,u,!0);var P=new FormData;for(var S in n)P.append(S,n[S]);if(o&&K(o)==="object")for(var S in o)k.setRequestHeader(S,o[S]);k.send(P)},Vr=function(){return window?navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone|Opera Mini)/i):!1},Xo=function(){function J(g,t){var n=this;Re(this,J),vr("https://open.ys7.com/assets/ezuikit_v3.4/js/hls.js",function(){console.log("加载hls.min.js成功",window.Hls),console.log("isSupportHls",window.Hls.isSupported()),window.Hls.isSupported()&&n.initHLS(g,t)},function(){return!!window.Hls})}return xt(J,[{key:"toString",value:function(){return"hls ".concat(this.coreX,"-").concat(this.coreY)}},{key:"initHLS",value:function(t,n){var o=Is(n),c=o.deviceSerial,d=o.channelNo;o.hd,window.ezuikitMonitor.report({protocol:"hls",url:n,serial:c,no:d,action:1});var u=document.getElementById(t),k=new window.Hls({defaultAudioCodec:"mp4a.40.2"});k.loadSource(n),k.attachMedia(u),k.on(window.Hls.Events.MANIFEST_PARSED,function(){u.play()}),k.on(window.Hls.Events.ERROR,function(P,S){if(S.fatal)switch(S.type){case window.Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover"),k.startLoad();break;case window.Hls.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover"),k.recoverMediaError();break;default:k.destroy();break}}),this.hls=k,this.video=u,this.hlsUrl=n}},{key:"play",value:function(){console.log("执行hls播放",this.video),this.hls.startLoad(),this.video.play()}},{key:"stop",value:function(){this.video.pause(),this.hls.stopLoad()}}]),J}(),Va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Wu<"u"?Wu:typeof self<"u"?self:{};function Mo(J){return J&&J.__esModule&&Object.prototype.hasOwnProperty.call(J,"default")?J.default:J}var lo={exports:{}};(function(J,g){(function(t,n){J.exports=n()})(self,()=>(()=>{var t={99:c=>{var d,u=typeof Reflect=="object"?Reflect:null,k=u&&typeof u.apply=="function"?u.apply:function(m,U,le){return Function.prototype.apply.call(m,U,le)};d=u&&typeof u.ownKeys=="function"?u.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var P=Number.isNaN||function(m){return m!=m};function S(){S.init.call(this)}c.exports=S,c.exports.once=function(m,U){return new Promise(function(le,re){function Pe($e){m.removeListener(U,fe),re($e)}function fe(){typeof m.removeListener=="function"&&m.removeListener("error",Pe),le([].slice.call(arguments))}me(m,U,fe,{once:!0}),U!=="error"&&function($e,ot,F){typeof $e.on=="function"&&me($e,"error",ot,F)}(m,Pe,{once:!0})})},S.EventEmitter=S,S.prototype._events=void 0,S.prototype._eventsCount=0,S.prototype._maxListeners=void 0;var R=10;function b(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function _(m){return m._maxListeners===void 0?S.defaultMaxListeners:m._maxListeners}function oe(m,U,le,re){var Pe,fe,$e,ot;if(b(le),(fe=m._events)===void 0?(fe=m._events=Object.create(null),m._eventsCount=0):(fe.newListener!==void 0&&(m.emit("newListener",U,le.listener?le.listener:le),fe=m._events),$e=fe[U]),$e===void 0)$e=fe[U]=le,++m._eventsCount;else if(typeof $e=="function"?$e=fe[U]=re?[le,$e]:[$e,le]:re?$e.unshift(le):$e.push(le),(Pe=_(m))>0&&$e.length>Pe&&!$e.warned){$e.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+$e.length+" "+String(U)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=m,F.type=U,F.count=$e.length,ot=F,console&&console.warn&&console.warn(ot)}return m}function de(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xe(m,U,le){var re={fired:!1,wrapFn:void 0,target:m,type:U,listener:le},Pe=de.bind(re);return Pe.listener=le,re.wrapFn=Pe,Pe}function se(m,U,le){var re=m._events;if(re===void 0)return[];var Pe=re[U];return Pe===void 0?[]:typeof Pe=="function"?le?[Pe.listener||Pe]:[Pe]:le?function(fe){for(var $e=new Array(fe.length),ot=0;ot<$e.length;++ot)$e[ot]=fe[ot].listener||fe[ot];return $e}(Pe):qe(Pe,Pe.length)}function Ae(m){var U=this._events;if(U!==void 0){var le=U[m];if(typeof le=="function")return 1;if(le!==void 0)return le.length}return 0}function qe(m,U){for(var le=new Array(U),re=0;re<U;++re)le[re]=m[re];return le}function me(m,U,le,re){if(typeof m.on=="function")re.once?m.once(U,le):m.on(U,le);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(U,function Pe(fe){re.once&&m.removeEventListener(U,Pe),le(fe)})}}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return R},set:function(m){if(typeof m!="number"||m<0||P(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");R=m}}),S.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},S.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||P(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},S.prototype.getMaxListeners=function(){return _(this)},S.prototype.emit=function(m){for(var U=[],le=1;le<arguments.length;le++)U.push(arguments[le]);var re=m==="error",Pe=this._events;if(Pe!==void 0)re=re&&Pe.error===void 0;else if(!re)return!1;if(re){var fe;if(U.length>0&&(fe=U[0]),fe instanceof Error)throw fe;var $e=new Error("Unhandled error."+(fe?" ("+fe.message+")":""));throw $e.context=fe,$e}var ot=Pe[m];if(ot===void 0)return!1;if(typeof ot=="function")k(ot,this,U);else{var F=ot.length,Ie=qe(ot,F);for(le=0;le<F;++le)k(Ie[le],this,U)}return!0},S.prototype.addListener=function(m,U){return oe(this,m,U,!1)},S.prototype.on=S.prototype.addListener,S.prototype.prependListener=function(m,U){return oe(this,m,U,!0)},S.prototype.once=function(m,U){return b(U),this.on(m,xe(this,m,U)),this},S.prototype.prependOnceListener=function(m,U){return b(U),this.prependListener(m,xe(this,m,U)),this},S.prototype.removeListener=function(m,U){var le,re,Pe,fe,$e;if(b(U),(re=this._events)===void 0)return this;if((le=re[m])===void 0)return this;if(le===U||le.listener===U)--this._eventsCount==0?this._events=Object.create(null):(delete re[m],re.removeListener&&this.emit("removeListener",m,le.listener||U));else if(typeof le!="function"){for(Pe=-1,fe=le.length-1;fe>=0;fe--)if(le[fe]===U||le[fe].listener===U){$e=le[fe].listener,Pe=fe;break}if(Pe<0)return this;Pe===0?le.shift():function(ot,F){for(;F+1<ot.length;F++)ot[F]=ot[F+1];ot.pop()}(le,Pe),le.length===1&&(re[m]=le[0]),re.removeListener!==void 0&&this.emit("removeListener",m,$e||U)}return this},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(m){var U,le,re;if((le=this._events)===void 0)return this;if(le.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):le[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete le[m]),this;if(arguments.length===0){var Pe,fe=Object.keys(le);for(re=0;re<fe.length;++re)(Pe=fe[re])!=="removeListener"&&this.removeAllListeners(Pe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(U=le[m])=="function")this.removeListener(m,U);else if(U!==void 0)for(re=U.length-1;re>=0;re--)this.removeListener(m,U[re]);return this},S.prototype.listeners=function(m){return se(this,m,!0)},S.prototype.rawListeners=function(m){return se(this,m,!1)},S.listenerCount=function(m,U){return typeof m.listenerCount=="function"?m.listenerCount(U):Ae.call(m,U)},S.prototype.listenerCount=Ae,S.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},994:(c,d,u)=>{u.d(d,{Z:()=>k});const k=class{constructor(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}isComplete(){const P=!this.hasAudio||this.hasAudio&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,S=!this.hasVideo||this.hasVideo&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&P&&S}isSeekable(){return this.hasKeyframesIndex}getNearestKeyframe(P){if(this.keyframesIndex==null)return null;const S=this.keyframesIndex,R=this._search(S.times,P);return{index:R,milliseconds:S.times[R],fileposition:S.filepositions[R]}}_search(P,S){let R=0;const b=P.length-1;let _=0,oe=0,de=b;for(S<P[0]&&(R=0,oe=de+1);oe<=de;){if(_=oe+Math.floor((de-oe)/2),_===b||S>=P[_]&&S<P[_+1]){R=_;break}P[_]<S?oe=_+1:de=_-1}return R}}},68:(c,d,u)=>{u.d(d,{J1:()=>R,Vn:()=>S,Wk:()=>k,Yy:()=>P});class k{constructor(_,oe,de,xe,se){this.dts=_,this.pts=oe,this.duration=de,this.originalDts=xe,this.isSyncPoint=se,this.fileposition=null}}class P{constructor(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}appendSyncPoint(_){_.isSyncPoint=!0,this.syncPoints.push(_)}}class S{constructor(){this._list=[]}clear(){this._list=[]}appendArray(_){const oe=this._list;_.length!==0&&(oe.length>0&&_[0].originalDts<oe[oe.length-1].originalDts&&this.clear(),Array.prototype.push.apply(oe,_))}getLastSyncPointBeforeDts(_){if(this._list.length===0)return null;const oe=this._list;let de=0;const xe=oe.length-1;let se=0,Ae=0,qe=xe;for(_<oe[0].dts&&(de=0,Ae=qe+1);Ae<=qe;){if(se=Ae+Math.floor((qe-Ae)/2),se===xe||_>=oe[se].dts&&_<oe[se+1].dts){de=se;break}oe[se].dts<_?Ae=se+1:qe=se-1}return this._list[de]}}class R{constructor(_){this._type=_,this._list=[],this._lastAppendLocation=-1}get type(){return this._type}get length(){return this._list.length}isEmpty(){return this._list.length===0}clear(){this._list=[],this._lastAppendLocation=-1}_searchNearestSegmentBefore(_){var oe;const de=this._list;if(de.length===0)return-2;const xe=de.length-1;let se=0,Ae=0,qe=xe,me=0;if(_<de[0].originalBeginDts)return me=-1,me;for(;Ae<=qe;){if(se=Ae+Math.floor((qe-Ae)/2),se===xe||_>(((oe=de[se].lastSample)===null||oe===void 0?void 0:oe.originalDts)||0)&&_<de[se+1].originalBeginDts){me=se;break}de[se].originalBeginDts<_?Ae=se+1:qe=se-1}return me}_searchNearestSegmentAfter(_){return this._searchNearestSegmentBefore(_)+1}append(_){var oe,de;const xe=this._list,se=_,Ae=this._lastAppendLocation;let qe=0;Ae!==-1&&Ae<xe.length&&se.originalBeginDts>=(((de=(oe=xe[Ae])===null||oe===void 0?void 0:oe.lastSample)===null||de===void 0?void 0:de.originalDts)||0)&&(Ae===xe.length-1||Ae<xe.length-1&&se.originalBeginDts<xe[Ae+1].originalBeginDts)?qe=Ae+1:xe.length>0&&(qe=this._searchNearestSegmentBefore(se.originalBeginDts)+1),this._lastAppendLocation=qe,this._list.splice(qe,0,se)}getLastSegmentBefore(_){const oe=this._searchNearestSegmentBefore(_);return oe>=0?this._list[oe]:null}getLastSampleBefore(_){const oe=this.getLastSegmentBefore(_);return oe!=null?oe.lastSample:null}getLastSyncPointBefore(_){let oe=this._searchNearestSegmentBefore(_),de=this._list[oe].syncPoints;for(;de.length===0&&oe>0;)oe--,de=this._list[oe].syncPoints;return de.length>0?de[de.length-1]:null}}},943:(c,d,u)=>{u.d(d,{Z:()=>Ut});var k=u(99),P=u(645),S=u(479),R=u(994);function b(V,w,N){const T=V;if(w+N<T.length){for(;N--;)if((192&T[++w])!=128)return!1;return!0}return!1}const _=function(V){const w=[],N=V;let T=0;const we=V.length;for(;T<we;)if(N[T]<128)w.push(String.fromCharCode(N[T])),++T;else{if(!(N[T]<192)){if(N[T]<224){if(b(N,T,1)){const Se=(31&N[T])<<6|63&N[T+1];if(Se>=128){w.push(String.fromCharCode(65535&Se)),T+=2;continue}}}else if(N[T]<240){if(b(N,T,2)){const Se=(15&N[T])<<12|(63&N[T+1])<<6|63&N[T+2];if(Se>=2048&&(63488&Se)!=55296){w.push(String.fromCharCode(65535&Se)),T+=3;continue}}}else if(N[T]<248&&b(N,T,3)){let Se=(7&N[T])<<18|(63&N[T+1])<<12|(63&N[T+2])<<6|63&N[T+3];if(Se>65536&&Se<1114112){Se-=65536,w.push(String.fromCharCode(Se>>>10|55296)),w.push(String.fromCharCode(1023&Se|56320)),T+=4;continue}}}w.push("�"),++T}return w.join("")};var oe=u(411);const de=function(){const V=new ArrayBuffer(2);return new DataView(V).setInt16(0,256,!0),new Int16Array(V)[0]===256}();class xe{static parseScriptData(w,N,T){const we={};try{const Se=xe.parseValue(w,N,T),Ne=xe.parseValue(w,N+Se.size,T-Se.size);we[Se.data]=Ne.data}catch(Se){P.Z.e("AMF",Se.toString())}return we}static parseObject(w,N,T){if(T<3)throw new oe.rT("Data not enough when parse ScriptDataObject");const we=xe.parseString(w,N,T),Se=xe.parseValue(w,N+we.size,T-we.size),Ne=Se.objectEnd;return{data:{name:we.data,value:Se.data},size:we.size+Se.size,objectEnd:Ne}}static parseVariable(w,N,T){return xe.parseObject(w,N,T)}static parseString(w,N,T){if(T<2)throw new oe.rT("Data not enough when parse String");const we=new DataView(w,N,T).getUint16(0,!de);let Se;return Se=we>0?_(new Uint8Array(w,N+2,we)):"",{data:Se,size:2+we}}static parseLongString(w,N,T){if(T<4)throw new oe.rT("Data not enough when parse LongString");const we=new DataView(w,N,T).getUint32(0,!de);let Se;return Se=we>0?_(new Uint8Array(w,N+4,we)):"",{data:Se,size:4+we}}static parseDate(w,N,T){if(T<10)throw new oe.rT("Data size invalid when parse Date");const we=new DataView(w,N,T);let Se=we.getFloat64(0,!de);return Se+=60*we.getInt16(8,!de)*1e3,{data:new Date(Se),size:10}}static parseValue(w,N,T){if(T<1)throw new oe.rT("Data not enough when parse Value");const we=new DataView(w,N,T);let Se=1;const Ne=we.getUint8(0);let Ye,bt=!1;try{switch(Ne){case 0:Ye=we.getFloat64(1,!de),Se+=8;break;case 1:Ye=!!we.getUint8(1),Se+=1;break;case 2:{const ni=xe.parseString(w,N+1,T-1);Ye=ni.data,Se+=ni.size;break}case 3:{Ye={};let ni=0;for((16777215&we.getUint32(T-4,!de))==9&&(ni=3);Se<T-4;){const Zt=xe.parseObject(w,N+Se,T-Se-ni);if(Zt.objectEnd)break;Ye[Zt.data.name]=Zt.data.value,Se+=Zt.size}Se<=T-3&&(16777215&we.getUint32(Se-1,!de))===9&&(Se+=3);break}case 8:{Ye={},Se+=4;let ni=0;for((16777215&we.getUint32(T-4,!de))==9&&(ni=3);Se<T-8;){const Zt=xe.parseVariable(w,N+Se,T-Se-ni);if(Zt.objectEnd)break;Ye[Zt.data.name]=Zt.data.value,Se+=Zt.size}Se<=T-3&&(16777215&we.getUint32(Se-1,!de))===9&&(Se+=3);break}case 9:Ye=void 0,Se=1,bt=!0;break;case 10:{Ye=[];const ni=we.getUint32(1,!de);Se+=4;for(let Zt=0;Zt<ni;Zt++){const Me=xe.parseValue(w,N+Se,T-Se);Ye.push(Me.data),Se+=Me.size}break}case 11:{const ni=xe.parseDate(w,N+1,T-1);Ye=ni.data,Se+=ni.size;break}case 12:{const ni=xe.parseString(w,N+1,T-1);Ye=ni.data,Se+=ni.size;break}default:Se=T,P.Z.w("AMF","Unsupported AMF value type "+Ne.toString())}}catch(ni){P.Z.e("AMF",ni.toString())}return{data:Ye,size:Se,objectEnd:bt}}}const se=xe,Ae=class{constructor(V){this.TAG="ExpGolomb",this._buffer=V,this._buffer_index=0,this._total_bytes=V.byteLength,this._total_bits=8*V.byteLength,this._current_word=0,this._current_word_bits_left=0}destroy(){this._buffer=null}_fillCurrentWord(){var V;const w=this._total_bytes-this._buffer_index;if(w<=0)throw new oe.rT("ExpGolomb: _fillCurrentWord() but no bytes available");const N=Math.min(4,w),T=new Uint8Array(4);T.set((V=this._buffer)===null||V===void 0?void 0:V.subarray(this._buffer_index,this._buffer_index+N)),this._current_word=new DataView(T.buffer).getUint32(0,!1),this._buffer_index+=N,this._current_word_bits_left=8*N}readBits(V){if(V>32)throw new oe.OC("ExpGolomb: readBits() bits exceeded max 32bits!");if(V<=this._current_word_bits_left){const Se=this._current_word>>>32-V;return this._current_word<<=V,this._current_word_bits_left-=V,Se}let w=this._current_word_bits_left?this._current_word:0;w>>>=32-this._current_word_bits_left;const N=V-this._current_word_bits_left;this._fillCurrentWord();const T=Math.min(N,this._current_word_bits_left),we=this._current_word>>>32-T;return this._current_word<<=T,this._current_word_bits_left-=T,w=w<<T|we,w}readBool(){return this.readBits(1)===1}readByte(){return this.readBits(8)}_skipLeadingZero(){let V;for(V=0;V<this._current_word_bits_left;V++)if(this._current_word&2147483648>>>V)return this._current_word<<=V,this._current_word_bits_left-=V,V;return this._fillCurrentWord(),V+this._skipLeadingZero()}readUEG(){const V=this._skipLeadingZero();return this.readBits(V+1)-1}readSEG(){const V=this.readUEG();return 1&V?V+1>>>1:-1*(V>>>1)}};class qe{static _ebsp2rbsp(w){const N=w,T=N.byteLength,we=new Uint8Array(T);let Se=0;for(let Ne=0;Ne<T;Ne++)Ne>=2&&N[Ne]===3&&N[Ne-1]===0&&N[Ne-2]===0||(we[Se]=N[Ne],Se++);return new Uint8Array(we.buffer,0,Se)}static parseSPS(w){const N=w.subarray(1,4);let T="avc1.";for(let Un=0;Un<3;Un++){let ar=N[Un].toString(16);ar.length<2&&(ar="0"+ar),T+=ar}const we=qe._ebsp2rbsp(w);let Se=new Ae(we);Se.readByte();const Ne=Se.readByte();Se.readByte();const Ye=Se.readByte();Se.readUEG();const bt=qe.getProfileString(Ne),ni=qe.getLevelString(Ye);let Zt=1,Me=420;const dt=[0,420,422,444];let ai=8,Fi=8;if((Ne===100||Ne===110||Ne===122||Ne===244||Ne===44||Ne===83||Ne===86||Ne===118||Ne===128||Ne===138||Ne===144)&&(Zt=Se.readUEG(),Zt===3&&Se.readBits(1),Zt<=3&&(Me=dt[Zt]),ai=Se.readUEG()+8,Fi=Se.readUEG()+8,Se.readBits(1),Se.readBool())){const Un=Zt!==3?8:12;for(let ar=0;ar<Un;ar++)Se.readBool()&&(ar<6?qe._skipScalingList(Se,16):qe._skipScalingList(Se,64))}Se.readUEG();const di=Se.readUEG();if(di===0)Se.readUEG();else if(di===1){Se.readBits(1),Se.readSEG(),Se.readSEG();const Un=Se.readUEG();for(let ar=0;ar<Un;ar++)Se.readSEG()}const gi=Se.readUEG();Se.readBits(1);const Ki=Se.readUEG(),Si=Se.readUEG(),Ht=Se.readBits(1);Ht===0&&Se.readBits(1),Se.readBits(1);let qt=0,vi=0,rn=0,En=0;Se.readBool()&&(qt=Se.readUEG(),vi=Se.readUEG(),rn=Se.readUEG(),En=Se.readUEG());let an=1,cn=1,Rn=0,fn=!0,xn=0,tr=0;if(Se.readBool()){if(Se.readBool()){const Un=Se.readByte();Un>0&&Un<16?(an=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Un-1],cn=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Un-1]):Un===255&&(an=Se.readByte()<<8|Se.readByte(),cn=Se.readByte()<<8|Se.readByte())}if(Se.readBool()&&Se.readBool(),Se.readBool()&&(Se.readBits(4),Se.readBool()&&Se.readBits(24)),Se.readBool()&&(Se.readUEG(),Se.readUEG()),Se.readBool()){const Un=Se.readBits(32),ar=Se.readBits(32);fn=Se.readBool(),xn=ar,tr=2*Un,Rn=xn/tr}}let $n=1;an===1&&cn===1||($n=an/cn);let Tr=0,jn=0;Zt===0?(Tr=1,jn=2-Ht):(Tr=Zt===3?1:2,jn=(Zt===1?2:1)*(2-Ht));let wr=16*(Ki+1),Er=16*(Si+1)*(2-Ht);wr-=(qt+vi)*Tr,Er-=(rn+En)*jn;const Qn=Math.ceil(wr*$n);return Se.destroy(),Se=null,{codec_mimetype:T,profile_idc:Ne,level_idc:Ye,profile_string:bt,level_string:ni,chroma_format_idc:Zt,bit_depth:ai,bit_depth_luma:ai,bit_depth_chroma:Fi,ref_frames:gi,chroma_format:Me,chroma_format_string:qe.getChromaFormatString(Me),frame_rate:{fixed:fn,fps:Rn,fps_den:tr,fps_num:xn},sar_ratio:{width:an,height:cn},codec_size:{width:wr,height:Er},present_size:{width:Qn,height:Er}}}static _skipScalingList(w,N){let T=8,we=8,Se=0;for(let Ne=0;Ne<N;Ne++)we!==0&&(Se=w.readSEG(),we=(T+Se+256)%256),T=we===0?T:we}static getProfileString(w){switch(w){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}static getLevelString(w){return(w/10).toFixed(1)}static getChromaFormatString(w){switch(w){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}const me=qe;var m=u(898);class U{static _ebsp2rbsp(w){const N=w,T=N.byteLength,we=new Uint8Array(T);let Se=0;for(let Ne=0;Ne<T;Ne++)Ne>=2&&N[Ne]===3&&N[Ne-1]===0&&N[Ne-2]===0||(we[Se]=N[Ne],Se++);return new Uint8Array(we.buffer,0,Se)}static parseVPS(w){const N=U._ebsp2rbsp(w),T=new Ae(N);return T.readByte(),T.readByte(),T.readBits(4),T.readBits(2),T.readBits(6),{num_temporal_layers:T.readBits(3)+1,temporal_id_nested:T.readBool()}}static parseSPS(w){const N=U._ebsp2rbsp(w);let T=new Ae(N);T.readByte(),T.readByte();let we=0,Se=0,Ne=0,Ye=0;T.readBits(4);const bt=T.readBits(3),ni=(T.readBool(),T.readBits(2)),Zt=T.readBool(),Me=T.readBits(5),dt=T.readByte(),ai=T.readByte(),Fi=T.readByte(),di=T.readByte(),gi=T.readByte(),Ki=T.readByte(),Si=T.readByte(),Ht=T.readByte(),qt=T.readByte(),vi=T.readByte(),rn=T.readByte(),En=[],an=[];for(let Jn=0;Jn<bt;Jn++)En.push(T.readBool()),an.push(T.readBool());if(bt>0)for(let Jn=bt;Jn<8;Jn++)T.readBits(2);for(let Jn=0;Jn<bt;Jn++)En[Jn]&&(T.readByte(),T.readByte(),T.readByte(),T.readByte(),T.readByte(),T.readByte(),T.readByte(),T.readByte(),T.readByte(),T.readByte(),T.readByte()),an[Jn]&&T.readByte();T.readUEG();const cn=T.readUEG();cn===3&&T.readBits(1);const Rn=T.readUEG(),fn=T.readUEG();T.readBool()&&(we+=T.readUEG(),Se+=T.readUEG(),Ne+=T.readUEG(),Ye+=T.readUEG());const xn=T.readUEG(),tr=T.readUEG(),$n=T.readUEG();for(let Jn=T.readBool()?0:bt;Jn<=bt;Jn++)T.readUEG(),T.readUEG(),T.readUEG();if(T.readUEG(),T.readUEG(),T.readUEG(),T.readUEG(),T.readUEG(),T.readUEG(),T.readBool()&&T.readBool())for(let Jn=0;Jn<4;Jn++)for(let ca=0;ca<(Jn===3?2:6);ca++)if(T.readBool()){const Or=Math.min(64,1<<4+(Jn<<1));Jn>1&&T.readSEG();for(let dr=0;dr<Or;dr++)T.readSEG()}else T.readUEG();T.readBool(),T.readBool(),T.readBool()&&(T.readByte(),T.readUEG(),T.readUEG(),T.readBool());const Tr=T.readUEG();let jn=0;for(let Jn=0;Jn<Tr;Jn++){let ca=!1;if(Jn!==0&&(ca=T.readBool()),ca){Jn===Tr&&T.readUEG(),T.readBool(),T.readUEG();let Or=0;for(let dr=0;dr<=jn;dr++){const xa=T.readBool();let Ar=!1;xa||(Ar=T.readBool()),(xa||Ar)&&Or++}jn=Or}else{const Or=T.readUEG(),dr=T.readUEG();jn=Or+dr;for(let xa=0;xa<Or;xa++)T.readUEG(),T.readBool();for(let xa=0;xa<dr;xa++)T.readUEG(),T.readBool()}}if(T.readBool()){const Jn=T.readUEG();for(let ca=0;ca<Jn;ca++){for(let Or=0;Or<$n+4;Or++)T.readBits(1);T.readBits(1)}}let wr=!1,Er=0,Qn=1,Un=1,ar=!1,Sa=1,Gr=1;if(T.readBool(),T.readBool(),T.readBool()){if(T.readBool()){const Jn=T.readByte();Jn>0&&Jn<=16?(Qn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Jn-1],Un=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Jn-1]):Jn===255&&(Qn=T.readBits(16),Un=T.readBits(16))}if(T.readBool()&&T.readBool(),T.readBool()&&(T.readBits(3),T.readBool(),T.readBool()&&(T.readByte(),T.readByte(),T.readByte())),T.readBool()&&(T.readUEG(),T.readUEG()),T.readBool(),T.readBool(),T.readBool(),wr=T.readBool(),wr&&(T.readUEG(),T.readUEG(),T.readUEG(),T.readUEG()),T.readBool()&&(Sa=T.readBits(32),Gr=T.readBits(32),T.readBool()&&T.readUEG(),T.readBool())){let Jn=!1,ca=!1,Or=!1;Jn=T.readBool(),ca=T.readBool(),(Jn||ca)&&(Or=T.readBool(),Or&&(T.readByte(),T.readBits(5),T.readBool(),T.readBits(5)),T.readBits(4),T.readBits(4),Or&&T.readBits(4),T.readBits(5),T.readBits(5),T.readBits(5));for(let dr=0;dr<=bt;dr++){const xa=T.readBool();ar=xa;let Ar=!1,Ia=1;xa||(Ar=T.readBool());let uo=!1;if(Ar?T.readSEG():uo=T.readBool(),uo||(Ia=T.readUEG()+1),Jn)for(let Xa=0;Xa<Ia;Xa++)T.readUEG(),T.readUEG(),Or&&(T.readUEG(),T.readUEG());if(ca)for(let Xa=0;Xa<Ia;Xa++)T.readUEG(),T.readUEG(),Or&&(T.readUEG(),T.readUEG())}}T.readBool()&&(T.readBool(),T.readBool(),T.readBool(),Er=T.readUEG(),T.readUEG(),T.readUEG(),T.readUEG(),T.readUEG())}T.readBool();const br=`hvc1.${Me}.1.L${rn}.B0`,ea=Rn-(we+Se)*(cn===1||cn===2?2:1),Fa=fn-(Ne+Ye)*(cn===1?2:1);let ka=1;return Qn!==1&&Un!==1&&(ka=Qn/Un),T.destroy(),T=null,{codec_mimetype:br,level_string:U.getLevelString(rn),profile_idc:Me,bit_depth:xn+8,ref_frames:1,chroma_format:cn,chroma_format_string:U.getChromaFormatString(cn),general_level_idc:rn,general_profile_space:ni,general_tier_flag:Zt,general_profile_idc:Me,general_profile_compatibility_flags_1:dt,general_profile_compatibility_flags_2:ai,general_profile_compatibility_flags_3:Fi,general_profile_compatibility_flags_4:di,general_constraint_indicator_flags_1:gi,general_constraint_indicator_flags_2:Ki,general_constraint_indicator_flags_3:Si,general_constraint_indicator_flags_4:Ht,general_constraint_indicator_flags_5:qt,general_constraint_indicator_flags_6:vi,min_spatial_segmentation_idc:Er,constant_frame_rate:0,chroma_format_idc:cn,bit_depth_luma_minus8:xn,bit_depth_chroma_minus8:tr,frame_rate:{fixed:ar,fps:Gr/Sa,fps_den:Sa,fps_num:Gr},sar_ratio:{width:Qn,height:Un},codec_size:{width:ea,height:Fa},present_size:{width:ea*ka,height:Fa}}}static parsePPS(w){const N=U._ebsp2rbsp(w),T=new Ae(N);T.readByte(),T.readByte(),T.readUEG(),T.readUEG(),T.readBool(),T.readBool(),T.readBits(3),T.readBool(),T.readBool(),T.readUEG(),T.readUEG(),T.readSEG(),T.readBool(),T.readBool(),T.readBool()&&T.readUEG(),T.readSEG(),T.readSEG(),T.readBool(),T.readBool(),T.readBool(),T.readBool();const we=T.readBool(),Se=T.readBool();let Ne=1;return Se&&we?Ne=0:Se?Ne=3:we&&(Ne=2),{parallelismType:Ne}}static getChromaFormatString(w){switch(w){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}}static getProfileString(w){switch(w){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}}static getLevelString(w){return(w/30).toFixed(1)}}const le=U;function re(V){return V.byteOffset%2==0&&V.byteLength%2==0}function Pe(V){return V.byteOffset%4==0&&V.byteLength%4==0}function fe(V,w){for(let N=0;N<V.length;N++)if(V[N]!==w[N])return!1;return!0}const $e=function(V,w){return V.byteLength===w.byteLength&&(Pe(V)&&Pe(w)?function(N,T){return fe(new Uint32Array(N.buffer,N.byteOffset,N.byteLength/4),new Uint32Array(T.buffer,T.byteOffset,T.byteLength/4))}(V,w):re(V)&&re(w)?function(N,T){return fe(new Uint16Array(N.buffer,N.byteOffset,N.byteLength/2),new Uint16Array(T.buffer,T.byteOffset,T.byteLength/2))}(V,w):function(N,T){return fe(N,T)}(V,w))};class ot{static parseOBUs(w){let N=null;for(let T=0;T<w.byteLength;){w[T];const we=(120&w[T])>>3,Se=(4&w[T])!=0,Ne=(2&w[T])!=0;w[T],T+=1,Se&&(T+=1);let Ye=Number.POSITIVE_INFINITY;if(Ne){Ye=0;for(let bt=0;Ye|=(127&w[T])<<7*bt,T+=1,(128&w[T])!=0;bt++);}we===1&&(N=ot.parseSeuqneceHeader(w.subarray(T,T+Ye))),T+=Ye}return N}static parseSeuqneceHeader(w){let N=new Ae(w);const T=N.readBits(3),we=(N.readBool(),N.readBool());let Se=!0,Ne=0,Ye=0;const bt=[];if(we)bt.push({operating_point_idc:0,level:N.readBits(5),tier:0});else{if(N.readBool()){const Rn=N.readBits(32),fn=N.readBits(32),xn=N.readBool();if(xn){let tr=0;for(;N.readBits(1)===0;)tr+=1;tr>=32||(1<<tr)-1+N.readBits(tr)}Ye=Rn,Ne=fn,Se=xn,N.readBool()&&(N.readBits(5),N.readBits(32),N.readBits(5),N.readBits(5))}const an=N.readBool(),cn=N.readBits(5);for(let Rn=0;Rn<=cn;Rn++){const fn=N.readBits(12),xn=N.readBits(5),tr=xn>7?N.readBits(1):0;bt.push({operating_point_idc:fn,level:xn,tier:tr}),an&&N.readBool()&&N.readBits(4)}}const{level:ni,tier:Zt}=bt[0],Me=N.readBits(4),dt=N.readBits(4),ai=N.readBits(Me+1)+1,Fi=N.readBits(dt+1)+1;let di=!1;we||(di=N.readBool()),di&&(N.readBits(4),N.readBits(4)),N.readBool(),N.readBool(),N.readBool();let gi=!1,Ki=2;we||(N.readBool(),N.readBool(),N.readBool(),N.readBool(),gi=N.readBool(),gi&&(N.readBool(),N.readBool()),Ki=N.readBool()?2:N.readBits(1),Ki&&(N.readBool()||N.readBits(1)),gi&&N.readBits(3)+1),N.readBool(),N.readBool(),N.readBool();const Si=N.readBool();let Ht=8;T===2&&Si?Ht=N.readBool()?12:10:Ht=Si?10:8;let qt=!1;T!==1&&(qt=N.readBool()),N.readBool()&&(N.readBits(8),N.readBits(8),N.readBits(8));let vi=1,rn=1;return qt?(N.readBits(1),vi=1,rn=1):(N.readBits(1),T===0?(vi=1,rn=1):T===1?(vi=0,rn=0):Ht===12?N.readBits(1)&&N.readBits(1):(vi=1,rn=0),vi&&rn&&N.readBits(2),N.readBits(1)),N.readBool(),N.destroy(),N=null,{codec_mimetype:`av01.${T}.${ot.getLevelString(ni,Zt)}.${Ht.toString(10).padStart(2,"0")}`,level:ni,tier:Zt,level_string:ot.getLevelString(ni,Zt),profile_idc:T,profile_string:`${T}`,bit_depth:Ht,ref_frames:1,chroma_format:ot.getChromaFormat(qt,vi,rn),chroma_format_string:ot.getChromaFormatString(qt,vi,rn),frame_rate:{fixed:Se,fps:Ne/Ye,fps_den:Ye,fps_num:Ne},sar_ratio:{width:1,height:1},codec_size:{width:ai,height:Fi},present_size:{width:1*ai,height:Fi}}}static getLevelString(w,N){return`${w.toString(10).padStart(2,"0")}${N===0?"M":"H"}`}static getChromaFormat(w,N,T){return w?0:N===0&&T===0?3:N===1&&T===0?2:N===1&&T===1?1:Number.NaN}static getChromaFormatString(w,N,T){return w?"4:0:0":N===0&&T===0?"4:4:4":N===1&&T===0?"4:2:2":N===1&&T===1?"4:2:0":"Unknown"}}const F=ot;class Ie{constructor(w,N){this.TAG="FLVDemuxer",this._config=N,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=w.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=w.hasAudioTrack,this._hasVideo=w.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new R.Z,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){const T=new ArrayBuffer(2);return new DataView(T).setInt16(0,256,!0),new Int16Array(T)[0]===256}()}destroy(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null}static probe(w){const N=new Uint8Array(w);if(N.byteLength<9)return{needMoreData:!0};const T={match:!1};if(N[0]!==70||N[1]!==76||N[2]!==86||N[3]!==1)return T;const we=(4&N[4])>>>2!=0,Se=(1&N[4])!=0,Ne=(Ye=N)[bt=5]<<24|Ye[bt+1]<<16|Ye[bt+2]<<8|Ye[bt+3];var Ye,bt;return Ne<9?T:{match:!0,consumed:Ne,dataOffset:Ne,hasAudioTrack:we,hasVideoTrack:Se}}bindDataSource(w){return w.onDataArrival=this.parseChunks.bind(this),this}get onTrackMetadata(){return this._onTrackMetadata}set onTrackMetadata(w){this._onTrackMetadata=w}get onMediaInfo(){return this._onMediaInfo}set onMediaInfo(w){this._onMediaInfo=w}get onMetaDataArrived(){return this._onMetaDataArrived}set onMetaDataArrived(w){this._onMetaDataArrived=w}get onScriptDataArrived(){return this._onScriptDataArrived}set onScriptDataArrived(w){this._onScriptDataArrived=w}get onError(){return this._onError}set onError(w){this._onError=w}get onDataAvailable(){return this._onDataAvailable}set onDataAvailable(w){this._onDataAvailable=w}get timestampBase(){return this._timestampBase}set timestampBase(w){this._timestampBase=w}get overridedDuration(){return this._duration}set overridedDuration(w){this._durationOverrided=!0,this._duration=w,this._mediaInfo&&(this._mediaInfo.duration=w)}set overridedHasAudio(w){this._hasAudioFlagOverrided=!0,this._hasAudio=w,this._mediaInfo&&(this._mediaInfo.hasAudio=w)}set overridedHasVideo(w){this._hasVideoFlagOverrided=!0,this._hasVideo=w,this._mediaInfo&&(this._mediaInfo.hasVideo=w)}resetMediaInfo(){this._mediaInfo=new R.Z}_isInitialMetadataDispatched(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}parseChunks(w,N){var T,we;if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new oe.rT("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");let Se=0;const Ne=this._littleEndian;if(N===0){if(!(w.byteLength>13))return 0;{const Ye=Ie.probe(w);Se=(Ye==null?void 0:Ye.dataOffset)||0}}for(this._firstParse&&(this._firstParse=!1,N+Se!==this._dataOffset&&P.Z.w(this.TAG,"First time parsing but chunk byteStart invalid!"),new DataView(w,Se).getUint32(0,!Ne)!==0&&P.Z.w(this.TAG,"PrevTagSize0 !== 0 !!!"),Se+=4);Se<w.byteLength;){this._dispatch=!0;const Ye=new DataView(w,Se);if(Se+11+4>w.byteLength)break;const bt=Ye.getUint8(0),ni=16777215&Ye.getUint32(0,!Ne);if(Se+11+ni+4>w.byteLength)break;if(bt!==8&&bt!==9&&bt!==18){P.Z.w(this.TAG,`Unsupported tag type ${bt}, skipped`),Se+=11+ni+4;continue}const Zt=Ye.getUint8(4),Me=Ye.getUint8(5),dt=Ye.getUint8(6)|Me<<8|Zt<<16|Ye.getUint8(7)<<24;16777215&Ye.getUint32(7,!Ne)&&P.Z.w(this.TAG,"Meet tag which has StreamID != 0!");const ai=Se+11;switch(bt){case 8:this._parseAudioData(w,ai,ni,dt);break;case 9:this._parseVideoData(w,ai,ni,dt,N+Se);break;case 18:this._parseScriptData(w,ai,ni)}const Fi=Ye.getUint32(11+ni,!Ne);Fi!==11+ni&&P.Z.w(this.TAG,`Invalid PrevTagSize ${Fi}`),Se+=11+ni+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(!((T=this._audioTrack)===null||T===void 0)&&T.length||!((we=this._videoTrack)===null||we===void 0)&&we.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),Se}_parseScriptData(w,N,T){var we,Se,Ne;const Ye=se.parseScriptData(w,N,T);if(Ye.hasOwnProperty("onMetaData")){if(Ye.onMetaData==null||typeof Ye.onMetaData!="object")return void P.Z.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&P.Z.w(this.TAG,"Found another onMetaData tag!"),this._metadata=Ye;const bt=(we=this._metadata)===null||we===void 0?void 0:we.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},bt)),typeof(bt==null?void 0:bt.hasAudio)=="boolean"&&(this._hasAudioFlagOverrided||(this._hasAudio=bt.hasAudio,this._mediaInfo&&(this._mediaInfo.hasAudio=this._hasAudio))),typeof(bt==null?void 0:bt.hasVideo)=="boolean"&&(this._hasVideoFlagOverrided||(this._hasVideo=bt.hasVideo,this._mediaInfo&&(this._mediaInfo.hasVideo=this._hasVideo))),typeof(bt==null?void 0:bt.audiodatarate)=="number"&&this._mediaInfo&&(this._mediaInfo.audioDataRate=bt.audiodatarate),typeof(bt==null?void 0:bt.videodatarate)=="number"&&this._mediaInfo&&(this._mediaInfo.videoDataRate=bt.videodatarate),typeof(bt==null?void 0:bt.width)=="number"&&this._mediaInfo&&(this._mediaInfo.width=bt.width),typeof(bt==null?void 0:bt.height)=="number"&&this._mediaInfo&&(this._mediaInfo.height=bt.height),typeof(bt==null?void 0:bt.duration)=="number"){if(!this._durationOverrided){const ni=Math.floor(bt.duration*this._timescale);this._duration=ni,this._mediaInfo&&(this._mediaInfo.duration=ni)}}else this._mediaInfo&&(this._mediaInfo.duration=0);if(typeof(bt==null?void 0:bt.framerate)=="number"){const ni=Math.floor(1e3*bt.framerate);if(ni>0){const Zt=ni/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=Zt,this._referenceFrameRate.fps_num=ni,this._referenceFrameRate.fps_den=1e3,this._mediaInfo&&(this._mediaInfo.fps=Zt)}}if(typeof(bt==null?void 0:bt.keyframes)=="object"){this._mediaInfo&&(this._mediaInfo.hasKeyframesIndex=!0);const ni=bt.keyframes;this._mediaInfo&&(this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(ni)),bt.keyframes=null}else this._mediaInfo&&(this._mediaInfo.hasKeyframesIndex=!1);this._dispatch=!1,this._mediaInfo&&(this._mediaInfo.metadata=bt),P.Z.v(this.TAG,"Parsed onMetaData"),!((Se=this._mediaInfo)===null||Se===void 0)&&Se.isComplete()&&((Ne=this._onMediaInfo)===null||Ne===void 0||Ne.call(this,this._mediaInfo))}Object.keys(Ye).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},Ye))}_parseKeyframesIndex(w){const N=[],T=[];for(let we=1;we<w.times.length;we++){const Se=this._timestampBase+Math.floor(1e3*w.times[we]);N.push(Se),T.push(w.filepositions[we])}return{times:N,filepositions:T}}_parseAudioData(w,N,T,we){var Se,Ne,Ye,bt,ni,Zt,Me,dt,ai,Fi;if(T<=1)return void P.Z.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");if(this._hasAudioFlagOverrided&&this._hasAudio===!1)return;this._littleEndian;const di=new DataView(w,N,T).getUint8(0),gi=di>>>4;if(gi!==2&&gi!==10)return void((Se=this._onError)===null||Se===void 0||Se.call(this,m.Z.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+gi));let Ki=0;const Si=(12&di)>>>2;if(!(Si>=0&&Si<=4))return void((Ne=this._onError)===null||Ne===void 0||Ne.call(this,m.Z.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+Si));Ki=this._flvSoundRateTable[Si];const Ht=1&di;let qt=this._audioMetadata;const vi=this._audioTrack;if(qt||(this._hasAudio!==!1||this._hasAudioFlagOverrided||(this._hasAudio=!0,this._mediaInfo&&(this._mediaInfo.hasAudio=!0)),qt=this._audioMetadata={},qt.type="audio",qt.id=vi==null?void 0:vi.id,qt.timescale=this._timescale,qt.duration=this._duration,qt.audioSampleRate=Ki,qt.channelCount=Ht===0?1:2),gi===10){const rn=this._parseAACAudioData(w,N+1,T-1);if(rn===void 0)return;if((rn==null?void 0:rn.packetType)===0){if(qt!=null&&qt.config){if($e(rn.data.config,qt==null?void 0:qt.config))return;P.Z.w(this.TAG,"AudioSpecificConfig has been changed, re-generate initialization segment")}const En=rn.data;qt.audioSampleRate=En==null?void 0:En.samplingRate,qt.channelCount=En==null?void 0:En.channelCount,qt.codec=En==null?void 0:En.codec,qt.originalCodec=En==null?void 0:En.originalCodec,qt.config=En==null?void 0:En.config,qt.refSampleDuration=1024/qt.audioSampleRate*qt.timescale,P.Z.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(!((Ye=this._audioTrack)===null||Ye===void 0)&&Ye.length||!((bt=this._videoTrack)===null||bt===void 0)&&bt.length)&&((ni=this._onDataAvailable)===null||ni===void 0||ni.call(this,this._audioTrack,this._videoTrack)):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,(Zt=this._onTrackMetadata)===null||Zt===void 0||Zt.call(this,"audio",qt);const an=this._mediaInfo;an.audioCodec=qt.originalCodec||"",an.audioSampleRate=qt.audioSampleRate,an.audioChannelCount=qt.channelCount,an.hasVideo?an.videoCodec!=null&&(an.mimeType='video/x-flv; codecs="'+an.videoCodec+","+an.audioCodec+'"'):an.mimeType='video/x-flv; codecs="'+an.audioCodec+'"',an!=null&&an.isComplete()&&((Me=this._onMediaInfo)===null||Me===void 0||Me.call(this,an))}else if(rn.packetType===1){const En=this._timestampBase+we,an={unit:rn.data,length:rn.data.byteLength,dts:En,pts:En};vi&&(vi==null||vi.samples.push(an),vi.length+=((dt=rn==null?void 0:rn.data)===null||dt===void 0?void 0:dt.length)||0)}else P.Z.e(this.TAG,`Flv: Unsupported AAC data type ${rn.packetType}`)}else if(gi===2){if(!qt.codec){const cn=this._parseMP3AudioData(w,N+1,T-1,!0);if(cn===void 0)return;qt.audioSampleRate=cn.samplingRate,qt.channelCount=cn.channelCount,qt.codec=cn.codec,qt.originalCodec=cn.originalCodec,qt.refSampleDuration=1152/qt.audioSampleRate*qt.timescale,P.Z.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,(ai=this._onTrackMetadata)===null||ai===void 0||ai.call(this,"audio",qt);const Rn=this._mediaInfo;Rn.audioCodec=qt.codec,Rn.audioSampleRate=qt.audioSampleRate,Rn.audioChannelCount=qt.channelCount,Rn.audioDataRate=cn.bitRate,Rn!=null&&Rn.hasVideo?Rn.videoCodec!=null&&(Rn.mimeType='video/x-flv; codecs="'+Rn.videoCodec+","+Rn.audioCodec+'"'):Rn.mimeType='video/x-flv; codecs="'+Rn.audioCodec+'"',Rn.isComplete()&&((Fi=this._onMediaInfo)===null||Fi===void 0||Fi.call(this,Rn))}const rn=this._parseMP3AudioData(w,N+1,T-1,!1);if(rn===void 0)return;const En=this._timestampBase+we,an={unit:rn,length:rn.byteLength,dts:En,pts:En};vi==null||vi.samples.push(an),vi&&(vi.length+=rn.length)}}_parseAACAudioData(w,N,T){if(T<=1)return void P.Z.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");const we={},Se=new Uint8Array(w,N,T);return we.packetType=Se[0],Se[0]===0?we.data=this._parseAACAudioSpecificConfig(w,N+1,T-1):we.data=Se.subarray(1),we}_parseAACAudioSpecificConfig(w,N,T){var we,Se;const Ne=new Uint8Array(w,N,T);let Ye=null,bt=0,ni=0,Zt=0,Me=null;if(bt=ni=Ne[0]>>>3,Zt=(7&Ne[0])<<1|Ne[1]>>>7,Zt<0||Zt>=this._mpegSamplingRates.length)return void((we=this._onError)===null||we===void 0||we.call(this,m.Z.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!"));const dt=this._mpegSamplingRates[Zt],ai=(120&Ne[1])>>>3;if(ai<0||ai>=8)return void((Se=this._onError)===null||Se===void 0||Se.call(this,m.Z.FORMAT_ERROR,"Flv: AAC invalid channel configuration"));bt===5&&(Me=(7&Ne[1])<<1|Ne[2]>>>7,(124&Ne[2])>>>2);const Fi=self.navigator.userAgent.toLowerCase();return Fi.includes("firefox")?Zt>=6?(bt=5,Ye=new Array(4),Me=Zt-3):(bt=2,Ye=new Array(2),Me=Zt):Fi.includes("android")?(bt=2,Ye=new Array(2),Me=Zt):(bt=5,Me=Zt,Ye=new Array(4),Zt>=6?Me=Zt-3:ai===1&&(bt=2,Ye=new Array(2),Me=Zt)),Ye[0]=bt<<3,Ye[0]|=(15&Zt)>>>1,Ye[1]=(15&Zt)<<7,Ye[1]|=(15&ai)<<3,bt===5&&(Ye[1]|=(15&Me)>>>1,Ye[2]=(1&Me)<<7,Ye[2]|=8,Ye[3]=0),{config:Ye,samplingRate:dt,channelCount:ai,codec:"mp4a.40."+bt,originalCodec:"mp4a.40."+ni}}_parseMP3AudioData(w,N,T,we){if(T<4)return void P.Z.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");this._littleEndian;const Se=new Uint8Array(w,N,T);let Ne;if(we){if(Se[0]!==255)return;const Ye=Se[1]>>>3&3,bt=(6&Se[1])>>1,ni=(240&Se[2])>>>4,Zt=(12&Se[2])>>>2,Me=(Se[3]>>>6&3)!==3?2:1;let dt=0,ai=0;const Fi="mp3";switch(Ye){case 0:dt=this._mpegAudioV25SampleRateTable[Zt];break;case 2:dt=this._mpegAudioV20SampleRateTable[Zt];break;case 3:dt=this._mpegAudioV10SampleRateTable[Zt]}switch(bt){case 1:ni<this._mpegAudioL3BitRateTable.length&&(ai=this._mpegAudioL3BitRateTable[ni]);break;case 2:ni<this._mpegAudioL2BitRateTable.length&&(ai=this._mpegAudioL2BitRateTable[ni]);break;case 3:ni<this._mpegAudioL1BitRateTable.length&&(ai=this._mpegAudioL1BitRateTable[ni])}Ne={bitRate:ai,samplingRate:dt,channelCount:Me,codec:Fi,originalCodec:Fi}}else Ne=Se;return Ne}_parseVideoData(w,N,T,we,Se){var Ne,Ye;if(T<=1)return void P.Z.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");if(this._hasVideoFlagOverrided&&this._hasVideo===!1)return;const bt=new Uint8Array(w,N,T)[0],ni=(112&bt)>>>4;if(128&bt){const Zt=15&bt,Me=String.fromCharCode(...new Uint8Array(w,N,T).slice(1,5));Me==="hvc1"?this._parseEnhancedHEVCVideoPacket(w,N+5,T-5,we,Se,ni,Zt):Me==="av01"?this._parseEnhancedAV1VideoPacket(w,N+5,T-5,we,Se,ni,Zt):(Ye=this._onError)===null||Ye===void 0||Ye.call(this,m.Z.CODEC_UNSUPPORTED,`Flv: Unsupported codec in video frame: ${Me}`)}else{const Zt=15&bt;Zt===7?this._parseAVCVideoPacket(w,N+1,T-1,we,Se,ni):Zt===12?this._parseHEVCVideoPacket(w,N+1,T-1,we,Se,ni):(Ne=this._onError)===null||Ne===void 0||Ne.call(this,m.Z.CODEC_UNSUPPORTED,`Flv: Unsupported codec in video frame: ${Zt}`)}}_parseAVCVideoPacket(w,N,T,we,Se,Ne){var Ye;if(T<4)return void P.Z.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");const bt=this._littleEndian,ni=new DataView(w,N,T),Zt=ni.getUint8(0),Me=(16777215&ni.getUint32(0,!bt))<<8>>8;Zt===0?this._parseAVCDecoderConfigurationRecord(w,N+4,T-4):Zt===1?this._parseAVCVideoData(w,N+4,T-4,we,Se,Ne,Me):Zt===2||(Ye=this._onError)===null||Ye===void 0||Ye.call(this,m.Z.FORMAT_ERROR,`Flv: Invalid video packet type ${Zt}`)}_parseHEVCVideoPacket(w,N,T,we,Se,Ne){var Ye;if(T<4)return void P.Z.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");const bt=this._littleEndian,ni=new DataView(w,N,T),Zt=ni.getUint8(0),Me=(16777215&ni.getUint32(0,!bt))<<8>>8;Zt===0?this._parseHEVCDecoderConfigurationRecord(w,N+4,T-4):Zt===1?this._parseHEVCVideoData(w,N+4,T-4,we,Se,Ne,Me):Zt===2||(Ye=this._onError)===null||Ye===void 0||Ye.call(this,m.Z.FORMAT_ERROR,`Flv: Invalid video packet type ${Zt}`)}_parseEnhancedHEVCVideoPacket(w,N,T,we,Se,Ne,Ye){var bt;const ni=this._littleEndian,Zt=new DataView(w,N,T);if(Ye===0)this._parseHEVCDecoderConfigurationRecord(w,N,T);else if(Ye===1){const Me=(4294967040&Zt.getUint32(0,!ni))>>8;this._parseHEVCVideoData(w,N+3,T-3,we,Se,Ne,Me)}else Ye===3?this._parseHEVCVideoData(w,N,T,we,Se,Ne,0):Ye===2||(bt=this._onError)===null||bt===void 0||bt.call(this,m.Z.FORMAT_ERROR,`Flv: Invalid video packet type ${Ye}`)}_parseEnhancedAV1VideoPacket(w,N,T,we,Se,Ne,Ye){var bt,ni;this._littleEndian,Ye===0?this._parseAV1CodecConfigurationRecord(w,N,T):Ye===1?this._parseAV1VideoData(w,N,T,we,Se,Ne,0):Ye===5?(bt=this._onError)===null||bt===void 0||bt.call(this,m.Z.FORMAT_ERROR,`Flv: Not Suported MP2T AV1 video packet type ${Ye}`):Ye===2||(ni=this._onError)===null||ni===void 0||ni.call(this,m.Z.FORMAT_ERROR,`Flv: Invalid video packet type ${Ye}`)}_parseAVCDecoderConfigurationRecord(w,N,T){var we,Se,Ne,Ye,bt,ni,Zt,Me,dt,ai,Fi;if(T<7)return void P.Z.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");let di=this._videoMetadata;const gi=this._videoTrack,Ki=this._littleEndian,Si=new DataView(w,N,T);if(di){if(di.avcc!==void 0){const an=new Uint8Array(w,N,T);if($e(an,di.avcc))return;P.Z.w(this.TAG,"AVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else this._hasVideo!==!1||this._hasVideoFlagOverrided||(this._hasVideo=!0,this._mediaInfo&&(this._mediaInfo.hasVideo=!0)),di=this._videoMetadata={},di.type="video",di.id=gi==null?void 0:gi.id,di.timescale=this._timescale,di.duration=this._duration;const Ht=Si.getUint8(0),qt=Si.getUint8(1);if(Si.getUint8(2),Si.getUint8(3),Ht!==1||qt===0)return void((we=this._onError)===null||we===void 0||we.call(this,m.Z.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord"));if(this._naluLengthSize=1+(3&Si.getUint8(4)),this._naluLengthSize!==3&&this._naluLengthSize!==4)return void((Se=this._onError)===null||Se===void 0||Se.call(this,m.Z.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1)));const vi=31&Si.getUint8(5);if(vi===0)return void((Ne=this._onError)===null||Ne===void 0||Ne.call(this,m.Z.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS"));vi>1&&P.Z.w(this.TAG,`Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ${vi}`);let rn=6;for(let an=0;an<vi;an++){const cn=Si.getUint16(rn,!Ki);if(rn+=2,cn===0)continue;const Rn=new Uint8Array(w,N+rn,cn);rn+=cn;const fn=me.parseSPS(Rn);if(an!==0)continue;di.codecWidth=fn.codec_size.width,di.codecHeight=fn.codec_size.height,di.presentWidth=fn.present_size.width,di.presentHeight=fn.present_size.height,di.profile=fn.profile_string,di.level=fn.level_string,di.bitDepth=fn.bit_depth,di.chromaFormat=fn.chroma_format,di.sarRatio=fn.sar_ratio,di.frameRate=fn.frame_rate,fn.frame_rate.fixed&&fn.frame_rate.fps_num!==0&&fn.frame_rate.fps_den!==0||(di.frameRate=this._referenceFrameRate);const xn=(Ye=di.frameRate)===null||Ye===void 0?void 0:Ye.fps_den,tr=(bt=di.frameRate)===null||bt===void 0?void 0:bt.fps_num;di.refSampleDuration=di.timescale*(xn/tr);const $n=Rn.subarray(1,4);let Tr="avc1.";for(let wr=0;wr<3;wr++){let Er=$n[wr].toString(16);Er.length<2&&(Er="0"+Er),Tr+=Er}di.codec=Tr;const jn=this._mediaInfo;jn.width=di.codecWidth,jn.height=di.codecHeight,jn.fps=di.frameRate.fps,jn.profile=di.profile,jn.level=di.level,jn.refFrames=fn.ref_frames,jn.chromaFormat=fn.chroma_format_string,jn.sarNum=di.sarRatio.width,jn.sarDen=di.sarRatio.height,jn.videoCodec=Tr,jn.hasAudio?jn.audioCodec!=null&&(jn.mimeType='video/x-flv; codecs="'+jn.videoCodec+","+jn.audioCodec+'"'):jn.mimeType='video/x-flv; codecs="'+jn.videoCodec+'"',jn.isComplete()&&((ni=this._onMediaInfo)===null||ni===void 0||ni.call(this,jn))}const En=Si.getUint8(rn);if(En!==0){En>1&&P.Z.w(this.TAG,`Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ${En}`),rn++;for(let an=0;an<En;an++){const cn=Si.getUint16(rn,!Ki);rn+=2,cn!==0&&(rn+=cn)}di.avcc=new Uint8Array(T),di.avcc.set(new Uint8Array(w,N,T),0),P.Z.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(!((Me=this._audioTrack)===null||Me===void 0)&&Me.length||!((dt=this._videoTrack)===null||dt===void 0)&&dt.length)&&((ai=this._onDataAvailable)===null||ai===void 0||ai.call(this,this._audioTrack,this._videoTrack)):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,(Fi=this._onTrackMetadata)===null||Fi===void 0||Fi.call(this,"video",di)}else(Zt=this._onError)===null||Zt===void 0||Zt.call(this,m.Z.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}_parseHEVCDecoderConfigurationRecord(w,N,T){var we,Se,Ne,Ye,bt,ni,Zt;if(T<22)return void P.Z.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");let Me=this._videoMetadata;const dt=this._videoTrack,ai=this._littleEndian,Fi=new DataView(w,N,T);if(Me){if(Me.hvcc!==void 0){const Si=new Uint8Array(w,N,T);if($e(Si,Me.hvcc))return;P.Z.w(this.TAG,"HEVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else this._hasVideo!==!1||this._hasVideoFlagOverrided||(this._hasVideo=!0,this._mediaInfo&&(this._mediaInfo.hasVideo=!0)),Me=this._videoMetadata={},Me.type="video",Me.id=dt==null?void 0:dt.id,Me.timescale=this._timescale,Me.duration=this._duration;const di=Fi.getUint8(0),gi=31&Fi.getUint8(1);if(di!==1||gi===0)return void((we=this._onError)===null||we===void 0||we.call(this,m.Z.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord"));if(this._naluLengthSize=1+(3&Fi.getUint8(21)),this._naluLengthSize!==3&&this._naluLengthSize!==4)return void((Se=this._onError)===null||Se===void 0||Se.call(this,m.Z.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1)));const Ki=Fi.getUint8(22);for(let Si=0,Ht=23;Si<Ki;Si++){const qt=63&Fi.getUint8(Ht+0),vi=Fi.getUint16(Ht+1,!ai);Ht+=3;for(let rn=0;rn<vi;rn++){const En=Fi.getUint16(Ht+0,!ai);if(rn===0)if(qt===33){Ht+=2;const an=new Uint8Array(w,N+Ht,En),cn=le.parseSPS(an);Me.codecWidth=cn.codec_size.width,Me.codecHeight=cn.codec_size.height,Me.presentWidth=cn.present_size.width,Me.presentHeight=cn.present_size.height,Me.profile=cn==null?void 0:cn.profile_string,Me.level=cn.level_string,Me.bitDepth=cn.bit_depth,Me.chromaFormat=cn.chroma_format,Me.sarRatio=cn.sar_ratio,Me.frameRate=cn.frame_rate,cn.frame_rate.fixed&&cn.frame_rate.fps_num!==0&&cn.frame_rate.fps_den!==0||(Me.frameRate=this._referenceFrameRate);const Rn=Me.frameRate.fps_den,fn=Me.frameRate.fps_num;Me.refSampleDuration=Me.timescale*(Rn/fn),Me.codec=cn.codec_mimetype;const xn=this._mediaInfo;xn.width=Me.codecWidth,xn.height=Me.codecHeight,xn.fps=Me.frameRate.fps,xn.profile=Me.profile,xn.level=Me.level,xn.refFrames=cn.ref_frames,xn.chromaFormat=cn.chroma_format_string,xn.sarNum=Me.sarRatio.width,xn.sarDen=Me.sarRatio.height,xn.videoCodec=cn.codec_mimetype,xn.hasAudio?xn.audioCodec!=null&&(xn.mimeType='video/x-flv; codecs="'+xn.videoCodec+","+xn.audioCodec+'"'):xn.mimeType='video/x-flv; codecs="'+xn.videoCodec+'"',xn.isComplete()&&((Ne=this._onMediaInfo)===null||Ne===void 0||Ne.call(this,xn)),Ht+=En}else Ht+=2+En;else Ht+=2+En}}Me.hvcc=new Uint8Array(T),Me.hvcc.set(new Uint8Array(w,N,T),0),P.Z.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(!((Ye=this._audioTrack)===null||Ye===void 0)&&Ye.length||!((bt=this._videoTrack)===null||bt===void 0)&&bt.length)&&((ni=this._onDataAvailable)===null||ni===void 0||ni.call(this,this._audioTrack,this._videoTrack)):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,(Zt=this._onTrackMetadata)===null||Zt===void 0||Zt.call(this,"video",Me)}_parseAV1CodecConfigurationRecord(w,N,T){var we,Se,Ne,Ye,bt,ni,Zt,Me,dt,ai,Fi;if(T<4)return void P.Z.w(this.TAG,"Flv: Invalid AV1CodecConfigurationRecord, lack of data!");let di=this._videoMetadata;const gi=this._videoTrack,Ki=(this._littleEndian,new DataView(w,N,T));di?di.av1c!==void 0&&P.Z.w(this.TAG,"Found another AV1CodecConfigurationRecord!"):(this._hasVideo!==!1||this._hasVideoFlagOverrided||(this._hasVideo=!0,this._mediaInfo&&(this._mediaInfo.hasVideo=!0)),di=this._videoMetadata={},di.type="video",di.id=gi==null?void 0:gi.id,di.timescale=this._timescale,di.duration=this._duration);const Si=127&Ki.getUint8(0);if(Ki.getUint8(1),Ki.getUint8(1),Ki.getUint8(2),Si!==1)return void((we=this._onError)===null||we===void 0||we.call(this,m.Z.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord"));const Ht=F.parseOBUs(new Uint8Array(w,N+4,T-4));if(Ht==null)return void((Se=this._onError)===null||Se===void 0||Se.call(this,m.Z.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord"));di.codecWidth=(Ne=Ht==null?void 0:Ht.codec_size)===null||Ne===void 0?void 0:Ne.width,di.codecHeight=(Ye=Ht==null?void 0:Ht.codec_size)===null||Ye===void 0?void 0:Ye.height,di.presentWidth=(bt=Ht==null?void 0:Ht.present_size)===null||bt===void 0?void 0:bt.width,di.presentHeight=(ni=Ht==null?void 0:Ht.present_size)===null||ni===void 0?void 0:ni.height,di.profile=Ht.profile_string,di.level=Ht.level_string,di.bitDepth=Ht.bit_depth,di.chromaFormat=Ht.chroma_format,di.sarRatio=Ht.sar_ratio,di.frameRate=Ht.frame_rate,Ht.frame_rate.fixed&&Ht.frame_rate.fps_num!==0&&Ht.frame_rate.fps_den!==0||(di.frameRate=this._referenceFrameRate);const qt=di.frameRate.fps_den,vi=di.frameRate.fps_num;di.refSampleDuration=di.timescale*(qt/vi),di.codec=Ht.codec_mimetype;const rn=this._mediaInfo;rn.width=di.codecWidth,rn.height=di.codecHeight,rn.fps=di.frameRate.fps,rn.profile=di.profile,rn.level=di.level,rn.refFrames=Ht.ref_frames,rn.chromaFormat=Ht.chroma_format_string,rn.sarNum=di.sarRatio.width,rn.sarDen=di.sarRatio.height,rn.videoCodec=Ht.codec_mimetype,rn.hasAudio?rn.audioCodec!=null&&(rn.mimeType='video/x-flv; codecs="'+rn.videoCodec+","+rn.audioCodec+'"'):rn.mimeType='video/x-flv; codecs="'+rn.videoCodec+'"',rn.isComplete()&&((Zt=this._onMediaInfo)===null||Zt===void 0||Zt.call(this,rn)),di.av1c=new Uint8Array(T),di.av1c.set(new Uint8Array(w,N,T),0),P.Z.v(this.TAG,"Parsed AV1CodecConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(!((Me=this._audioTrack)===null||Me===void 0)&&Me.length||!((dt=this._videoTrack)===null||dt===void 0)&&dt.length)&&((ai=this._onDataAvailable)===null||ai===void 0||ai.call(this,this._audioTrack,this._videoTrack)):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,(Fi=this._onTrackMetadata)===null||Fi===void 0||Fi.call(this,"video",di)}_parseAVCVideoData(w,N,T,we,Se,Ne,Ye){const bt=this._littleEndian,ni=new DataView(w,N,T),Zt=[];let Me=0,dt=0;const ai=this._naluLengthSize,Fi=this._timestampBase+we;let di=Ne===1;for(;dt<T;){if(dt+4>=T){P.Z.w(this.TAG,`Malformed Nalu near timestamp ${Fi}, offset = ${dt}, dataSize = ${T}`);break}let gi=ni.getUint32(dt,!bt);if(ai===3&&(gi>>>=8),gi>T-ai)return void P.Z.w(this.TAG,`Malformed Nalus near timestamp ${Fi}, NaluSize > DataSize!`);const Ki=31&ni.getUint8(dt+ai);Ki===5&&(di=!0);const Si=new Uint8Array(w,N+dt,ai+gi),Ht={type:Ki,data:Si};Zt.push(Ht),Me+=Si.byteLength,dt+=ai+gi}if(Zt.length){const gi=this._videoTrack,Ki={units:Zt,length:Me,isKeyframe:di,dts:Fi,cts:Ye,pts:Fi+Ye};di&&(Ki.fileposition=Se),gi&&(gi.samples.push(Ki),gi.length+=Me)}}_parseHEVCVideoData(w,N,T,we,Se,Ne,Ye){const bt=this._littleEndian,ni=new DataView(w,N,T),Zt=[];let Me=0,dt=0;const ai=this._naluLengthSize,Fi=this._timestampBase+we;let di=Ne===1;for(;dt<T;){if(dt+4>=T){P.Z.w(this.TAG,`Malformed Nalu near timestamp ${Fi}, offset = ${dt}, dataSize = ${T}`);break}let gi=ni.getUint32(dt,!bt);if(ai===3&&(gi>>>=8),gi>T-ai)return void P.Z.w(this.TAG,`Malformed Nalus near timestamp ${Fi}, NaluSize > DataSize!`);const Ki=31&ni.getUint8(dt+ai);Ki!==19&&Ki!==20||(di=!0);const Si=new Uint8Array(w,N+dt,ai+gi),Ht={type:Ki,data:Si};Zt.push(Ht),Me+=Si.byteLength,dt+=ai+gi}if(Zt.length){const gi=this._videoTrack,Ki={units:Zt,length:Me,isKeyframe:di,dts:Fi,cts:Ye,pts:Fi+Ye};di&&(Ki.fileposition=Se),gi&&(gi==null||gi.samples.push(Ki),gi.length+=Me)}}_parseAV1VideoData(w,N,T,we,Se,Ne,Ye){this._littleEndian;const bt=[];let ni=0;const Zt=this._timestampBase+we,Me=Ne===1;if(ni=T,bt.push({unitType:0,data:new Uint8Array(w,N+0,T)}),bt.length){const dt=this._videoTrack,ai={units:bt,length:ni,isKeyframe:Me,dts:Zt,cts:Ye,pts:Zt+Ye};Me&&(ai.fileposition=Se),dt&&(dt==null||dt.samples.push(ai),dt.length+=ni)}}}const Ve=Ie;class yi{constructor(){}destroy(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSMPTE2038Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null}}class Hi{constructor(){this.program_pmt_pid={}}}var Pi,Ci,Qi,at;(function(V){V[V.kMPEG1Audio=3]="kMPEG1Audio",V[V.kMPEG2Audio=4]="kMPEG2Audio",V[V.kPESPrivateData=6]="kPESPrivateData",V[V.kADTSAAC=15]="kADTSAAC",V[V.kLOASAAC=17]="kLOASAAC",V[V.kAC3=129]="kAC3",V[V.kEAC3=135]="kEAC3",V[V.kID3=21]="kID3",V[V.kSCTE35=134]="kSCTE35",V[V.kH264=27]="kH264",V[V.kH265=36]="kH265"})(Pi||(Pi={}));class pt{constructor(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,eac3:void 0,mp3:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.scte_35_pids={},this.smpte2038_pids={}}}class rt{}class We{}class ft{constructor(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0,this.random_access_indicator=0}}(function(V){V[V.kUnspecified=0]="kUnspecified",V[V.kSliceNonIDR=1]="kSliceNonIDR",V[V.kSliceDPA=2]="kSliceDPA",V[V.kSliceDPB=3]="kSliceDPB",V[V.kSliceDPC=4]="kSliceDPC",V[V.kSliceIDR=5]="kSliceIDR",V[V.kSliceSEI=6]="kSliceSEI",V[V.kSliceSPS=7]="kSliceSPS",V[V.kSlicePPS=8]="kSlicePPS",V[V.kSliceAUD=9]="kSliceAUD",V[V.kEndOfSequence=10]="kEndOfSequence",V[V.kEndOfStream=11]="kEndOfStream",V[V.kFiller=12]="kFiller",V[V.kSPSExt=13]="kSPSExt",V[V.kReserved0=14]="kReserved0"})(Ci||(Ci={}));class $t{}class ri{constructor(w){const N=w.data.byteLength;this.type=w.type,this.data=new Uint8Array(4+N),new DataView(this.data.buffer).setUint32(0,N),this.data.set(w.data,4)}}class zt{constructor(w){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=w,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&P.Z.e(this.TAG,"Could not find H264 startcode until payload end!")}findNextStartCodeOffset(w){let N=w;const T=this.data_;for(;;){if(N+3>=T.byteLength)return this.eof_flag_=!0,T.byteLength;const we=T[N+0]<<24|T[N+1]<<16|T[N+2]<<8|T[N+3],Se=T[N+0]<<16|T[N+1]<<8|T[N+2];if(we===1||Se===1)return N;N++}}readNextNaluPayload(){const w=this.data_;let N=null;for(;N==null&&!this.eof_flag_;){let T=this.current_startcode_offset_;T+=(w[T]<<24|w[T+1]<<16|w[T+2]<<8|w[T+3])===1?4:3;const we=31&w[T],Se=(128&w[T])>>>7,Ne=this.findNextStartCodeOffset(T);if(this.current_startcode_offset_=Ne,we>=Ci.kReserved0||Se!==0)continue;const Ye=w.subarray(T,Ne);N=new $t,N.type=we,N.data=Ye}return N}}class ae{constructor(w,N,T){let we=8+w.byteLength+1+2+N.byteLength,Se=!1;w[3]!==66&&w[3]!==77&&w[3]!==88&&(Se=!0,we+=4);const Ne=this.data=new Uint8Array(we);Ne[0]=1,Ne[1]=w[1],Ne[2]=w[2],Ne[3]=w[3],Ne[4]=255,Ne[5]=225;const Ye=w.byteLength;Ne[6]=Ye>>>8,Ne[7]=255&Ye;let bt=8;Ne.set(w,8),bt+=Ye,Ne[bt]=1;const ni=N.byteLength;Ne[bt+1]=ni>>>8,Ne[bt+2]=255&ni,Ne.set(N,bt+3),bt+=3+ni,Se&&(Ne[bt]=252|T.chroma_format_idc,Ne[bt+1]=248|T.bit_depth_luma-8,Ne[bt+2]=248|T.bit_depth_chroma-8,Ne[bt+3]=0,bt+=4)}getData(){return this.data}}(function(V){V[V.kNull=0]="kNull",V[V.kAACMain=1]="kAACMain",V[V.kAAC_LC=2]="kAAC_LC",V[V.kAAC_SSR=3]="kAAC_SSR",V[V.kAAC_LTP=4]="kAAC_LTP",V[V.kAAC_SBR=5]="kAAC_SBR",V[V.kAAC_Scalable=6]="kAAC_Scalable",V[V.kLayer1=32]="kLayer1",V[V.kLayer2=33]="kLayer2",V[V.kLayer3=34]="kLayer3"})(Qi||(Qi={})),function(V){V[V.k96000Hz=0]="k96000Hz",V[V.k88200Hz=1]="k88200Hz",V[V.k64000Hz=2]="k64000Hz",V[V.k48000Hz=3]="k48000Hz",V[V.k44100Hz=4]="k44100Hz",V[V.k32000Hz=5]="k32000Hz",V[V.k24000Hz=6]="k24000Hz",V[V.k22050Hz=7]="k22050Hz",V[V.k16000Hz=8]="k16000Hz",V[V.k12000Hz=9]="k12000Hz",V[V.k11025Hz=10]="k11025Hz",V[V.k8000Hz=11]="k8000Hz",V[V.k7350Hz=12]="k7350Hz"}(at||(at={}));const be=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];class E{}class Q extends E{}class Ge{constructor(w){this.TAG="AACADTSParser",this.data_=w,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&P.Z.e(this.TAG,"Could not found ADTS syncword until payload end")}findNextSyncwordOffset(w){let N=w;const T=this.data_;for(;;){if(N+7>=T.byteLength)return this.eof_flag_=!0,T.byteLength;if((T[N+0]<<8|T[N+1])>>>4===4095)return N;N++}}readNextAACFrame(){const w=this.data_;let N=null;for(;N==null&&!this.eof_flag_;){let T=this.current_syncword_offset_;const we=(8&w[T+1])>>>3,Se=(6&w[T+1])>>>1,Ne=1&w[T+1],Ye=(192&w[T+2])>>>6,bt=(60&w[T+2])>>>2,ni=(1&w[T+2])<<2|(192&w[T+3])>>>6,Zt=(3&w[T+3])<<11|w[T+4]<<3|(224&w[T+5])>>>5;if(w[T+6],T+Zt>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}const Me=Ne===1?7:9,dt=Zt-Me;T+=Me;const ai=this.findNextSyncwordOffset(T+dt);if(this.current_syncword_offset_=ai,we!==0&&we!==1||Se!==0)continue;const Fi=w.subarray(T,T+dt);N=new E,N.audio_object_type=Ye+1,N.sampling_freq_index=bt,N.sampling_frequency=be[bt],N.channel_config=ni,N.data=Fi}return N}hasIncompleteData(){return this.has_last_incomplete_data}getIncompleteData(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null}}class H{constructor(w){this.TAG="AACLOASParser",this.data_=w,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&P.Z.e(this.TAG,"Could not found LOAS syncword until payload end")}findNextSyncwordOffset(w){let N=w;const T=this.data_;for(;;){if(N+1>=T.byteLength)return this.eof_flag_=!0,T.byteLength;if((T[N+0]<<3|T[N+1]>>>5)===695)return N;N++}}getLATMValue(w){const N=w.readBits(2);let T=0;for(let we=0;we<=N;we++)T<<=8,T|=w.readByte();return T}readNextAACFrame(w){const N=this.data_;let T=null;for(;T==null&&!this.eof_flag_;){const we=this.current_syncword_offset_,Se=(31&N[we+1])<<8|N[we+2];if(we+3+Se>=this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}const Ne=new Ae(N.subarray(we+3,we+3+Se));let Ye=null;if(Ne.readBool()){if(w==null){P.Z.w(this.TAG,"StreamMuxConfig Missing"),this.current_syncword_offset_=this.findNextSyncwordOffset(we+3+Se),Ne.destroy();continue}Ye=w}else{const Zt=Ne.readBool();if(Zt&&Ne.readBool()){P.Z.e(this.TAG,"audioMuxVersionA is Not Supported"),Ne.destroy();break}if(Zt&&this.getLATMValue(Ne),!Ne.readBool()){P.Z.e(this.TAG,"allStreamsSameTimeFraming zero is Not Supported"),Ne.destroy();break}if(Ne.readBits(6)!==0){P.Z.e(this.TAG,"more than 2 numSubFrames Not Supported"),Ne.destroy();break}if(Ne.readBits(4)!==0){P.Z.e(this.TAG,"more than 2 numProgram Not Supported"),Ne.destroy();break}if(Ne.readBits(3)!==0){P.Z.e(this.TAG,"more than 2 numLayer Not Supported"),Ne.destroy();break}let Me=Zt?this.getLATMValue(Ne):0;const dt=Ne.readBits(5);Me-=5;const ai=Ne.readBits(4);Me-=4;const Fi=Ne.readBits(4);Me-=4,Ne.readBits(3),Me-=3,Me>0&&Ne.readBits(Me);const di=Ne.readBits(3);if(di!==0){P.Z.e(this.TAG,`frameLengthType = ${di}. Only frameLengthType = 0 Supported`),Ne.destroy();break}Ne.readByte();const gi=Ne.readBool();if(gi)if(Zt)this.getLATMValue(Ne);else{let Ki=0;for(;;){Ki<<=8;const Si=Ne.readBool();if(Ki+=Ne.readByte(),!Si)break}console.log(Ki)}Ne.readBool()&&Ne.readByte(),Ye=new Q,Ye.audio_object_type=dt,Ye.sampling_freq_index=ai,Ye.sampling_frequency=be[Ye.sampling_freq_index],Ye.channel_config=Fi,Ye.other_data_present=gi}let bt=0;for(;;){const Zt=Ne.readByte();if(bt+=Zt,Zt!==255)break}const ni=new Uint8Array(bt);for(let Zt=0;Zt<bt;Zt++)ni[Zt]=Ne.readByte();T=new Q,T.audio_object_type=Ye.audio_object_type,T.sampling_freq_index=Ye.sampling_freq_index,T.sampling_frequency=be[Ye.sampling_freq_index],T.channel_config=Ye.channel_config,T.other_data_present=Ye.other_data_present,T.data=ni,this.current_syncword_offset_=this.findNextSyncwordOffset(we+3+Se)}return T}hasIncompleteData(){return this.has_last_incomplete_data}getIncompleteData(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null}}class _e{constructor(w){let N=[];const T=w.audio_object_type;let we=w.audio_object_type;const Se=w.sampling_freq_index,Ne=w.channel_config;let Ye=0;const bt=navigator.userAgent.toLowerCase();bt.includes("firefox")?Se>=6?(we=5,N=new Array(4),Ye=Se-3):(we=2,N=new Array(2),Ye=Se):bt.includes("android")?(we=2,N=new Array(2),Ye=Se):(we=5,Ye=Se,N=new Array(4),Se>=6?Ye=Se-3:Ne===1&&(we=2,N=new Array(2),Ye=Se)),N[0]=we<<3,N[0]|=(15&Se)>>>1,N[1]=(15&Se)<<7,N[1]|=(15&Ne)<<3,we===5&&(N[1]|=(15&Ye)>>>1,N[2]=(1&Ye)<<7,N[2]|=8,N[3]=0),this.config=N,this.sampling_rate=be[Se],this.channel_count=Ne,this.codec_mimetype="mp4a.40."+we.toString(),this.original_codec_mimetype="mp4a.40."+T.toString()}}class M{}class z{}var ce;(function(V){V[V.kSpliceNull=0]="kSpliceNull",V[V.kSpliceSchedule=4]="kSpliceSchedule",V[V.kSpliceInsert=5]="kSpliceInsert",V[V.kTimeSignal=6]="kTimeSignal",V[V.kBandwidthReservation=7]="kBandwidthReservation",V[V.kPrivateCommand=255]="kPrivateCommand"})(ce||(ce={}));const ie=V=>{const w=V.readBool();return w?(V.readBits(6),{time_specified_flag:w,pts_time:4*V.readBits(31)+V.readBits(2)}):(V.readBits(7),{time_specified_flag:w})},Oe=V=>{const w=V.readBool();return V.readBits(6),{auto_return:w,duration:4*V.readBits(31)+V.readBits(2)}},Qe=(V,w)=>{const N=w.readBits(8);return V?{component_tag:N}:{component_tag:N,splice_time:ie(w)}},st=V=>({component_tag:V.readBits(8),utc_splice_time:V.readBits(32)}),D=V=>{const w=V.readBits(32),N=V.readBool();V.readBits(7);const T={splice_event_id:w,splice_event_cancel_indicator:N};if(N)return T;if(T.out_of_network_indicator=V.readBool(),T.program_splice_flag=V.readBool(),T.duration_flag=V.readBool(),V.readBits(5),T.program_splice_flag)T.utc_splice_time=V.readBits(32);else{T.component_count=V.readBits(8),T.components=[];for(let we=0;we<T.component_count;we++)T.components.push(st(V))}return T.duration_flag&&(T.break_duration=Oe(V)),T.unique_program_id=V.readBits(16),T.avail_num=V.readBits(8),T.avails_expected=V.readBits(8),T},Xe=(V,w,N,T)=>({descriptor_tag:V,descriptor_length:w,identifier:N,provider_avail_id:T.readBits(32)}),X=(V,w,N,T)=>{const we=T.readBits(8),Se=T.readBits(3);T.readBits(5);let Ne="";for(let Ye=0;Ye<Se;Ye++)Ne+=String.fromCharCode(T.readBits(8));return{descriptor_tag:V,descriptor_length:w,identifier:N,preroll:we,dtmf_count:Se,DTMF_char:Ne}},Ce=V=>{const w=V.readBits(8);return V.readBits(7),{component_tag:w,pts_offset:4*V.readBits(31)+V.readBits(2)}},ve=(V,w,N,T)=>{const we=T.readBits(32),Se=T.readBool();T.readBits(7);const Ne={descriptor_tag:V,descriptor_length:w,identifier:N,segmentation_event_id:we,segmentation_event_cancel_indicator:Se};if(Se)return Ne;if(Ne.program_segmentation_flag=T.readBool(),Ne.segmentation_duration_flag=T.readBool(),Ne.delivery_not_restricted_flag=T.readBool(),Ne.delivery_not_restricted_flag?T.readBits(5):(Ne.web_delivery_allowed_flag=T.readBool(),Ne.no_regional_blackout_flag=T.readBool(),Ne.archive_allowed_flag=T.readBool(),Ne.device_restrictions=T.readBits(2)),!Ne.program_segmentation_flag){Ne.component_count=T.readBits(8),Ne.components=[];for(let Ye=0;Ye<Ne.component_count;Ye++)Ne.components.push(Ce(T))}Ne.segmentation_duration_flag&&(Ne.segmentation_duration=T.readBits(40)),Ne.segmentation_upid_type=T.readBits(8),Ne.segmentation_upid_length=T.readBits(8);{const Ye=new Uint8Array(Ne.segmentation_upid_length);for(let bt=0;bt<Ne.segmentation_upid_length;bt++)Ye[bt]=T.readBits(8);Ne.segmentation_upid=Ye.buffer}return Ne.segmentation_type_id=T.readBits(8),Ne.segment_num=T.readBits(8),Ne.segments_expected=T.readBits(8),Ne.segmentation_type_id!==52&&Ne.segmentation_type_id!==54&&Ne.segmentation_type_id!==56&&Ne.segmentation_type_id!==58||(Ne.sub_segment_num=T.readBits(8),Ne.sub_segments_expected=T.readBits(8)),Ne},Le=(V,w,N,T)=>({descriptor_tag:V,descriptor_length:w,identifier:N,TAI_seconds:T.readBits(48),TAI_ns:T.readBits(32),UTC_offset:T.readBits(16)}),pe=V=>({component_tag:V.readBits(8),ISO_code:String.fromCharCode(V.readBits(8),V.readBits(8),V.readBits(8)),Bit_Stream_Mode:V.readBits(3),Num_Channels:V.readBits(4),Full_Srvc_Audio:V.readBool()}),ee=(V,w,N,T)=>{const we=T.readBits(4),Se=[];for(let Ne=0;Ne<we;Ne++)Se.push(pe(T));return{descriptor_tag:V,descriptor_length:w,identifier:N,audio_count:we,components:Se}},je=V=>{var w,N,T,we,Se,Ne;const Ye=new Ae(V),bt=Ye.readBits(8),ni=Ye.readBool(),Zt=Ye.readBool();Ye.readBits(2);const Me=Ye.readBits(12),dt=Ye.readBits(8),ai=Ye.readBool(),Fi=Ye.readBits(6),di=4*Ye.readBits(31)+Ye.readBits(2),gi=Ye.readBits(8),Ki=Ye.readBits(12),Si=Ye.readBits(12),Ht=Ye.readBits(8);let qt=null;Ht===ce.kSpliceNull?qt={}:Ht===ce.kSpliceSchedule?qt=(an=>{const cn=an.readBits(8),Rn=[];for(let fn=0;fn<cn;fn++)Rn.push(D(an));return{splice_count:cn,events:Rn}})(Ye):Ht===ce.kSpliceInsert?qt=(an=>{const cn=an.readBits(32),Rn=an.readBool();an.readBits(7);const fn={splice_event_id:cn,splice_event_cancel_indicator:Rn};if(Rn)return fn;if(fn.out_of_network_indicator=an.readBool(),fn.program_splice_flag=an.readBool(),fn.duration_flag=an.readBool(),fn.splice_immediate_flag=an.readBool(),an.readBits(4),fn.program_splice_flag&&!fn.splice_immediate_flag&&(fn.splice_time=ie(an)),!fn.program_splice_flag){fn.component_count=an.readBits(8),fn.components=[];for(let xn=0;xn<fn.component_count;xn++)fn.components.push(Qe(fn.splice_immediate_flag,an))}return fn.duration_flag&&(fn.break_duration=Oe(an)),fn.unique_program_id=an.readBits(16),fn.avail_num=an.readBits(8),fn.avails_expected=an.readBits(8),fn})(Ye):Ht===ce.kTimeSignal?qt=(an=>({splice_time:ie(an)}))(Ye):Ht===ce.kBandwidthReservation?qt={}:Ht===ce.kPrivateCommand?qt=((an,cn)=>{const Rn=String.fromCharCode(cn.readBits(8),cn.readBits(8),cn.readBits(8),cn.readBits(8)),fn=new Uint8Array(an-4);for(let xn=0;xn<an-4;xn++)fn[xn]=cn.readBits(8);return{identifier:Rn,private_data:fn.buffer}})(Si,Ye):Ye.readBits(8*Si);const vi=[],rn=Ye.readBits(16);for(let an=0;an<rn;){const cn=Ye.readBits(8),Rn=Ye.readBits(8),fn=String.fromCharCode(Ye.readBits(8),Ye.readBits(8),Ye.readBits(8),Ye.readBits(8));cn===0?vi.push(Xe(cn,Rn,fn,Ye)):cn===1?vi.push(X(cn,Rn,fn,Ye)):cn===2?vi.push(ve(cn,Rn,fn,Ye)):cn===3?vi.push(Le(cn,Rn,fn,Ye)):cn===4?vi.push(ee(cn,Rn,fn,Ye)):Ye.readBits(8*(Rn-4)),an+=2+Rn}const En={table_id:bt,section_syntax_indicator:ni,private_indicator:Zt,section_length:Me,protocol_version:dt,encrypted_packet:ai,encryption_algorithm:Fi,pts_adjustment:di,cw_index:gi,tier:Ki,splice_command_length:Si,splice_command_type:Ht,splice_command:qt,descriptor_loop_length:rn,splice_descriptors:vi,E_CRC32:ai?Ye.readBits(32):void 0,CRC32:Ye.readBits(32)};if(Ht===ce.kSpliceInsert){const an=qt;if(an.splice_event_cancel_indicator)return{splice_command_type:Ht,detail:En,data:V};if(an.program_splice_flag&&!an.splice_immediate_flag){const cn=an.duration_flag?(w=an==null?void 0:an.break_duration)===null||w===void 0?void 0:w.auto_return:void 0,Rn=an.duration_flag?(((N=an==null?void 0:an.break_duration)===null||N===void 0?void 0:N.duration)||0)/90:void 0;return!((T=an.splice_time)===null||T===void 0)&&T.time_specified_flag?{splice_command_type:Ht,pts:(di+(((we=an==null?void 0:an.splice_time)===null||we===void 0?void 0:we.pts_time)||0))%Math.pow(2,33),auto_return:cn,duraiton:Rn,detail:En,data:V}:{splice_command_type:Ht,auto_return:cn,duraiton:Rn,detail:En,data:V}}return{splice_command_type:Ht,auto_return:an.duration_flag?(Se=an.break_duration)===null||Se===void 0?void 0:Se.auto_return:void 0,duraiton:an.duration_flag?(((Ne=an.break_duration)===null||Ne===void 0?void 0:Ne.duration)||0)/90:void 0,detail:En,data:V}}if(Ht===ce.kTimeSignal){const an=qt;return an.splice_time.time_specified_flag?{splice_command_type:Ht,pts:(di+(an.splice_time.pts_time||0))%Math.pow(2,33),detail:En,data:V}:{splice_command_type:Ht,detail:En,data:V}}return{splice_command_type:Ht,detail:En,data:V}};var mt;(function(V){V[V.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",V[V.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",V[V.kSliceCRA_NUT=21]="kSliceCRA_NUT",V[V.kSliceVPS=32]="kSliceVPS",V[V.kSliceSPS=33]="kSliceSPS",V[V.kSlicePPS=34]="kSlicePPS",V[V.kSliceAUD=35]="kSliceAUD"})(mt||(mt={}));class gt{}class Gt{constructor(w){const N=w.data.byteLength;this.type=w.type,this.data=new Uint8Array(4+N),new DataView(this.data.buffer).setUint32(0,N),this.data.set(w.data,4)}}class li{constructor(w){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=w,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&P.Z.e(this.TAG,"Could not find H265 startcode until payload end!")}findNextStartCodeOffset(w){let N=w;const T=this.data_;for(;;){if(N+3>=T.byteLength)return this.eof_flag_=!0,T.byteLength;const we=T[N+0]<<24|T[N+1]<<16|T[N+2]<<8|T[N+3],Se=T[N+0]<<16|T[N+1]<<8|T[N+2];if(we===1||Se===1)return N;N++}}readNextNaluPayload(){const w=this.data_;let N=null;for(;N==null&&!this.eof_flag_;){let T=this.current_startcode_offset_;T+=(w[T]<<24|w[T+1]<<16|w[T+2]<<8|w[T+3])===1?4:3;const we=w[T]>>1&63,Se=(128&w[T])>>>7,Ne=this.findNextStartCodeOffset(T);if(this.current_startcode_offset_=Ne,Se!==0)continue;const Ye=w.subarray(T,Ne);N=new gt,N.type=we,N.data=Ye}return N}}class Oi{constructor(w,N,T,we){const Se=23+(5+w.byteLength)+(5+N.byteLength)+(5+T.byteLength),Ne=this.data=new Uint8Array(Se);Ne[0]=1,Ne[1]=(3&we.general_profile_space)<<6|(we.general_tier_flag?1:0)<<5|31&we.general_profile_idc,Ne[2]=we.general_profile_compatibility_flags_1,Ne[3]=we.general_profile_compatibility_flags_2,Ne[4]=we.general_profile_compatibility_flags_3,Ne[5]=we.general_profile_compatibility_flags_4,Ne[6]=we.general_constraint_indicator_flags_1,Ne[7]=we.general_constraint_indicator_flags_2,Ne[8]=we.general_constraint_indicator_flags_3,Ne[9]=we.general_constraint_indicator_flags_4,Ne[10]=we.general_constraint_indicator_flags_5,Ne[11]=we.general_constraint_indicator_flags_6,Ne[12]=we.general_level_idc,Ne[13]=240|(3840&we.min_spatial_segmentation_idc)>>8,Ne[14]=255&we.min_spatial_segmentation_idc,Ne[15]=252|3&we.parallelismType,Ne[16]=252|3&we.chroma_format_idc,Ne[17]=248|7&we.bit_depth_luma_minus8,Ne[18]=248|7&we.bit_depth_chroma_minus8,Ne[19]=0,Ne[20]=0,Ne[21]=(3&we.constant_frame_rate)<<6|(7&we.num_temporal_layers)<<3|(we.temporal_id_nested?1:0)<<2|3,Ne[22]=3,Ne[23]=128|mt.kSliceVPS,Ne[24]=0,Ne[25]=1,Ne[26]=(65280&w.byteLength)>>8,Ne[27]=(255&w.byteLength)>>0,Ne.set(w,28),Ne[23+(5+w.byteLength)+0]=128|mt.kSliceSPS,Ne[23+(5+w.byteLength)+1]=0,Ne[23+(5+w.byteLength)+2]=1,Ne[23+(5+w.byteLength)+3]=(65280&N.byteLength)>>8,Ne[23+(5+w.byteLength)+4]=(255&N.byteLength)>>0,Ne.set(N,23+(5+w.byteLength)+5),Ne[23+(5+w.byteLength+5+N.byteLength)+0]=128|mt.kSlicePPS,Ne[23+(5+w.byteLength+5+N.byteLength)+1]=0,Ne[23+(5+w.byteLength+5+N.byteLength)+2]=1,Ne[23+(5+w.byteLength+5+N.byteLength)+3]=(65280&T.byteLength)>>8,Ne[23+(5+w.byteLength+5+N.byteLength)+4]=(255&T.byteLength)>>0,Ne.set(T,23+(5+w.byteLength+5+N.byteLength)+5)}getData(){return this.data}}class ge{}class Ji{}class kt{}const Lt=[[64,64,80,80,96,96,112,112,128,128,160,160,192,192,224,224,256,256,320,320,384,384,448,448,512,512,640,640,768,768,896,896,1024,1024,1152,1152,1280,1280],[69,70,87,88,104,105,121,122,139,140,174,175,208,209,243,244,278,279,348,349,417,418,487,488,557,558,696,697,835,836,975,976,1114,1115,1253,1254,1393,1394],[96,96,120,120,144,144,168,168,192,192,240,240,288,288,336,336,384,384,480,480,576,576,672,672,768,768,960,960,1152,1152,1344,1344,1536,1536,1728,1728,1920,1920]];class Tt{constructor(w){this.TAG="AC3Parser",this.data_=w,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&P.Z.e(this.TAG,"Could not found AC3 syncword until payload end")}findNextSyncwordOffset(w){let N=w;const T=this.data_;for(;;){if(N+7>=T.byteLength)return this.eof_flag_=!0,T.byteLength;if((T[N+0]<<8|T[N+1]<<0)===2935)return N;N++}}readNextAC3Frame(){const w=this.data_;let N=null;for(;N==null&&!this.eof_flag_;){const T=this.current_syncword_offset_,we=w[T+4]>>6,Se=[48e3,44200,33e3][we],Ne=63&w[T+4],Ye=2*Lt[we][Ne];if(T+Ye>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}const bt=this.findNextSyncwordOffset(T+Ye);this.current_syncword_offset_=bt;const ni=w[T+5]>>3,Zt=7&w[T+5],Me=w[T+6]>>5;let dt=0;1&Me&&Me!==1&&(dt+=2),4&Me&&(dt+=2),Me===2&&(dt+=2);const ai=(w[T+6]<<8|w[T+7]<<0)>>12-dt&1,Fi=[2,1,2,3,3,4,4,5][Me]+ai;N=new kt,N.sampling_frequency=Se,N.channel_count=Fi,N.channel_mode=Me,N.bit_stream_identification=ni,N.low_frequency_effects_channel_on=ai,N.bit_stream_mode=Zt,N.frame_size_code=Ne,N.data=w.subarray(T,T+Ye)}return N}hasIncompleteData(){return this.has_last_incomplete_data}getIncompleteData(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null}}class jt{constructor(w){let N=[];N=[w.sampling_rate_code<<6|w.bit_stream_identification<<1|w.bit_stream_mode>>2,(3&w.bit_stream_mode)<<6|w.channel_mode<<3|w.low_frequency_effects_channel_on<<2|w.frame_size_code>>4,w.frame_size_code<<4&224],this.config=N,this.sampling_rate=w.sampling_frequency,this.bit_stream_identification=w.bit_stream_identification,this.bit_stream_mode=w.bit_stream_mode,this.low_frequency_effects_channel_on=w.low_frequency_effects_channel_on,this.channel_count=w.channel_count,this.channel_mode=w.channel_mode,this.codec_mimetype="ac-3",this.original_codec_mimetype="ac-3"}}class Dt{}class Ft{constructor(w){this.TAG="EAC3Parser",this.data_=w,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&P.Z.e(this.TAG,"Could not found AC3 syncword until payload end")}findNextSyncwordOffset(w){let N=w;const T=this.data_;for(;;){if(N+7>=T.byteLength)return this.eof_flag_=!0,T.byteLength;if((T[N+0]<<8|T[N+1]<<0)===2935)return N;N++}}readNextEAC3Frame(){const w=this.data_;let N=null;for(;N==null&&!this.eof_flag_;){const T=this.current_syncword_offset_,we=new Ae(w.subarray(T+2)),Se=(we.readBits(2),we.readBits(3),we.readBits(11)+1<<1);let Ne=we.readBits(2),Ye=null,bt=null;Ne===3?(Ne=we.readBits(2),Ye=[24e3,22060,16e3][Ne],bt=3):(Ye=[48e3,44100,32e3][Ne],bt=we.readBits(2));const ni=we.readBits(3),Zt=we.readBits(1),Me=we.readBits(5);if(T+Se>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}const dt=this.findNextSyncwordOffset(T+Se);this.current_syncword_offset_=dt;const ai=[2,1,2,3,3,4,4,5][ni]+Zt;we.destroy(),N=new Dt,N.sampling_frequency=Ye,N.channel_count=ai,N.channel_mode=ni,N.bit_stream_identification=Me,N.low_frequency_effects_channel_on=Zt,N.frame_size=Se,N.num_blks=[1,2,3,6][bt],N.data=w.subarray(T,T+Se)}return N}hasIncompleteData(){return this.has_last_incomplete_data}getIncompleteData(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null}}class Kt{constructor(w){let N=[];const T=Math.floor(w.frame_size*w.sampling_frequency/(16*w.num_blks));N=[255&T,248&T,w.sampling_rate_code<<6|w.bit_stream_identification<<1|0,0|w.channel_mode<<1|w.low_frequency_effects_channel_on<<0,0],this.config=N,this.sampling_rate=w.sampling_frequency,this.bit_stream_identification=w.bit_stream_identification,this.num_blks=w.num_blks,this.low_frequency_effects_channel_on=w.low_frequency_effects_channel_on,this.channel_count=w.channel_count,this.channel_mode=w.channel_mode,this.codec_mimetype="ec-3",this.original_codec_mimetype="ec-3"}}const wt=class extends yi{constructor(V,w){super(),this.TAG="TSDemuxer",this.first_parse_=!0,this.media_info_=new R.Z,this.timescale_=90,this.duration_=0,this.current_pmt_pid_=-1,this.program_pmt_map_={},this.pes_slice_queues_={},this.section_slice_queues_={},this.video_metadata_={vps:void 0,sps:void 0,pps:void 0,details:void 0},this.audio_metadata_={codec:void 0,audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},this.aac_last_sample_pts_=void 0,this.aac_last_incomplete_data_=null,this.has_video_=!1,this.has_audio_=!1,this.video_init_segment_dispatched_=!1,this.audio_init_segment_dispatched_=!1,this.video_metadata_changed_=!1,this.audio_metadata_changed_=!1,this.loas_previous_frame=null,this.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this.ts_packet_size_=V.ts_packet_size,this.sync_offset_=V.sync_offset,this.config_=w}destroy(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,super.destroy()}static probe(V){const w=new Uint8Array(V);let N=-1,T=188;if(w.byteLength<=3*T)return{needMoreData:!0};for(;N===-1;){const we=Math.min(1e3,w.byteLength-3*T);for(let Se=0;Se<we;){if(w[Se]===71&&w[Se+T]===71&&w[Se+2*T]===71){N=Se;break}Se++}if(N===-1)if(T===188)T=192;else{if(T!==192)break;T=204}}return N===-1?{match:!1}:(T===192&&N>=4?(P.Z.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),N-=4):T===204&&P.Z.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:T,sync_offset:N})}bindDataSource(V){return V.onDataArrival=this.parseChunks.bind(this),this}resetMediaInfo(){this.media_info_=new R.Z}parseChunks(V,w){var N;if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new oe.rT("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");let T=0;for(this.first_parse_&&(this.first_parse_=!1,T=this.sync_offset_);T+this.ts_packet_size_<=V.byteLength;){const we=w+T;this.ts_packet_size_===192&&(T+=4);const Se=new Uint8Array(V,T,188),Ne=Se[0];if(Ne!==71){P.Z.e(this.TAG,`sync_byte = ${Ne}, not 0x47`);break}const Ye=(64&Se[1])>>>6,bt=(Se[1],(31&Se[1])<<8|Se[2]),ni=(48&Se[3])>>>4,Zt=15&Se[3];let Me={},dt=4;if(ni===2||ni===3){const ai=Se[4];if(5+ai===188){T+=188,this.ts_packet_size_===204&&(T+=16);continue}ai>0&&(Me=this.parseAdaptationField(V,T+4,1+ai)),dt=5+ai}if(ni===1||ni===3){if(bt===0||bt===this.current_pmt_pid_||this.pmt_!==void 0&&this.pmt_.pid_stream_type[bt]===Pi.kSCTE35){const ai=188-dt;this.handleSectionSlice(V,T+dt,ai,{pid:bt,file_position:we,payload_unit_start_indicator:Ye,continuity_conunter:Zt,random_access_indicator:Me.random_access_indicator})}else if(((N=this.pmt_)===null||N===void 0?void 0:N.pid_stream_type[bt])!==void 0){const ai=188-dt,Fi=this.pmt_.pid_stream_type[bt];(bt===this.pmt_.common_pids.h264||bt===this.pmt_.common_pids.h265||bt===this.pmt_.common_pids.adts_aac||bt===this.pmt_.common_pids.loas_aac||bt===this.pmt_.common_pids.ac3||bt===this.pmt_.common_pids.eac3||bt===this.pmt_.common_pids.opus||bt===this.pmt_.common_pids.mp3||this.pmt_.pes_private_data_pids[bt]||this.pmt_.timed_id3_pids[bt])&&this.handlePESSlice(V,T+dt,ai,{pid:bt,stream_type:Fi,file_position:we,payload_unit_start_indicator:Ye,continuity_conunter:Zt,random_access_indicator:Me.random_access_indicator})}}T+=188,this.ts_packet_size_===204&&(T+=16)}return this.dispatchAudioVideoMediaSegment(),T}parseAdaptationField(V,w,N){const T=new Uint8Array(V,w,N),we=T[0];return we>0?we>183?(P.Z.w(this.TAG,`Illegal adaptation_field_length: ${we}`),{}):{discontinuity_indicator:(128&T[1])>>>7,random_access_indicator:(64&T[1])>>>6,elementary_stream_priority_indicator:(32&T[1])>>>5}:{}}handleSectionSlice(V,w,N,T){const we=new Uint8Array(V,w,N);let Se=this.section_slice_queues_?this.section_slice_queues_[T.pid]:{};if(T.payload_unit_start_indicator){const Ne=we[0];if(Se!==void 0&&(Se==null?void 0:Se.total_length)!==0){const Ye=new Uint8Array(V,w+1,Math.min(N,Ne));Se.slices.push(Ye),Se.total_length+=Ye.byteLength,Se.total_length===Se.expected_length?this.emitSectionSlices(Se,T):this.clearSlices(Se,T)}for(let Ye=1+Ne;Ye<we.byteLength&&we[Ye+0]!==255;){const bt=(15&we[Ye+1])<<8|we[Ye+2];this.section_slice_queues_&&(this.section_slice_queues_[T.pid]=new ft,Se=this.section_slice_queues_[T.pid]),Se.expected_length=bt+3,Se.file_position=T.file_position,Se.random_access_indicator=T.random_access_indicator;const ni=new Uint8Array(V,w+Ye,Math.min(N-Ye,Se.expected_length-Se.total_length));Se.slices.push(ni),Se.total_length+=ni.byteLength,Se.total_length===Se.expected_length?this.emitSectionSlices(Se,T):Se.total_length>=Se.expected_length&&this.clearSlices(Se,T),Ye+=ni.byteLength}}else if(Se!==void 0&&Se.total_length!==0){const Ne=new Uint8Array(V,w,Math.min(N,Se.expected_length-Se.total_length));Se.slices.push(Ne),Se.total_length+=Ne.byteLength,Se.total_length===Se.expected_length?this.emitSectionSlices(Se,T):Se.total_length>=Se.expected_length&&this.clearSlices(Se,T)}}handlePESSlice(V,w,N,T){const we=new Uint8Array(V,w,N),Se=we[0]<<16|we[1]<<8|we[2],Ne=(we[3],we[4]<<8|we[5]);if(T.payload_unit_start_indicator){if(Se!==1)return void P.Z.e(this.TAG,`handlePESSlice: packet_start_code_prefix should be 1 but with value ${Se}`);const bt=this.pes_slice_queues_[T.pid];bt&&(bt.expected_length===0||bt.expected_length===bt.total_length?this.emitPESSlices(bt,T):this.clearSlices(bt,T)),this.pes_slice_queues_&&(this.pes_slice_queues_[T.pid]=new ft,this.pes_slice_queues_[T.pid].file_position=T.file_position,this.pes_slice_queues_[T.pid].random_access_indicator=T.random_access_indicator)}if(this.pes_slice_queues_[T.pid]===void 0)return;const Ye=this.pes_slice_queues_[T.pid];Ye.slices.push(we),T.payload_unit_start_indicator&&(Ye.expected_length=Ne===0?0:Ne+6),Ye.total_length+=we.byteLength,Ye.expected_length>0&&Ye.expected_length===Ye.total_length?this.emitPESSlices(Ye,T):Ye.expected_length>0&&Ye.expected_length<Ye.total_length&&this.clearSlices(Ye,T)}emitSectionSlices(V,w){const N=new Uint8Array(V.total_length);for(let we=0,Se=0;we<V.slices.length;we++){const Ne=V.slices[we];N.set(Ne,Se),Se+=Ne.byteLength}V.slices=[],V.expected_length=-1,V.total_length=0;const T=new We;T.pid=w.pid,T.data=N,T.file_position=V.file_position,T.random_access_indicator=V.random_access_indicator,this.parseSection(T)}emitPESSlices(V,w){const N=new Uint8Array(V.total_length);for(let we=0,Se=0;we<V.slices.length;we++){const Ne=V.slices[we];N.set(Ne,Se),Se+=Ne.byteLength}V.slices=[],V.expected_length=-1,V.total_length=0;const T=new rt;T.pid=w.pid,T.data=N,T.stream_type=w.stream_type,T.file_position=V.file_position,T.random_access_indicator=V.random_access_indicator,this.parsePES(T)}clearSlices(V,w){V.slices=[],V.expected_length=-1,V.total_length=0}parseSection(V){var w;const N=V.data,T=V.pid;T===0?this.parsePAT(N):T===this.current_pmt_pid_?this.parsePMT(N):!((w=this.pmt_)===null||w===void 0)&&w.scte_35_pids[T]&&this.parseSCTE35(N)}parsePES(V){const w=V.data,N=w[0]<<16|w[1]<<8|w[2],T=w[3],we=w[4]<<8|w[5];if(N===1){if(T!==188&&T!==190&&T!==191&&T!==240&&T!==241&&T!==255&&T!==242&&T!==248){w[6];const Se=(192&w[7])>>>6,Ne=w[8];let Ye,bt;Se!==2&&Se!==3||(Ye=536870912*(14&w[9])+4194304*(255&w[10])+16384*(254&w[11])+128*(255&w[12])+(254&w[13])/2,bt=Se===3?536870912*(14&w[14])+4194304*(255&w[15])+16384*(254&w[16])+128*(255&w[17])+(254&w[18])/2:Ye);const ni=9+Ne;let Zt;if(we!==0){if(we<3+Ne)return void P.Z.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");Zt=we-3-Ne}else Zt=w.byteLength-ni;const Me=w.subarray(ni,ni+Zt);switch(V.stream_type){case Pi.kMPEG1Audio:case Pi.kMPEG2Audio:this.parseMP3Payload(Me,Ye);break;case Pi.kPESPrivateData:this.pmt_.common_pids.opus===V.pid?this.parseOpusPayload(Me,Ye):this.pmt_.common_pids.ac3===V.pid?this.parseAC3Payload(Me,Ye):this.pmt_.common_pids.eac3===V.pid?this.parseEAC3Payload(Me,Ye):this.pmt_.smpte2038_pids[V.pid]?this.parseSMPTE2038MetadataPayload(Me,Ye,bt,V.pid,T):this.parsePESPrivateDataPayload(Me,Ye,bt,V.pid,T);break;case Pi.kADTSAAC:this.parseADTSAACPayload(Me,Ye);break;case Pi.kLOASAAC:this.parseLOASAACPayload(Me,Ye);break;case Pi.kAC3:this.parseAC3Payload(Me,Ye);break;case Pi.kEAC3:this.parseEAC3Payload(Me,Ye);break;case Pi.kID3:this.parseTimedID3MetadataPayload(Me,Ye,bt,V.pid,T);break;case Pi.kH264:this.parseH264Payload(Me,Ye,bt,V.file_position,V.random_access_indicator);break;case Pi.kH265:this.parseH265Payload(Me,Ye,bt,V.file_position,V.random_access_indicator)}}else if((T===188||T===191||T===240||T===241||T===255||T===242||T===248)&&V.stream_type===Pi.kPESPrivateData){let Ne;Ne=we!==0?we:w.byteLength-6;const Ye=w.subarray(6,6+Ne);this.parsePESPrivateDataPayload(Ye,void 0,void 0,V.pid,T)}}else P.Z.e(this.TAG,`parsePES: packet_start_code_prefix should be 1 but with value ${N}`)}parsePAT(V){const w=V[0];if(w!==0)return void P.Z.e(this.TAG,`parsePAT: table_id ${w} is not corresponded to PAT!`);const N=(15&V[1])<<8|V[2],T=(V[3],V[4],(62&V[5])>>>1),we=1&V[5],Se=V[6];V[7];let Ne=null;if(we===1&&Se===0)Ne=new Hi,Ne.version_number=T;else if(Ne=this.pat_,Ne==null)return;const Ye=N-5-4;let bt=-1,ni=-1;for(let Zt=8;Zt<8+Ye;Zt+=4){const Me=V[Zt]<<8|V[Zt+1],dt=(31&V[Zt+2])<<8|V[Zt+3];Me===0?Ne.network_pid=dt:(Ne.program_pmt_pid[Me]=dt,bt===-1&&(bt=Me),ni===-1&&(ni=dt))}we===1&&Se===0&&(this.pat_===void 0&&P.Z.v(this.TAG,`Parsed first PAT: ${JSON.stringify(Ne)}`),this.pat_=Ne,this.current_program_=bt,this.current_pmt_pid_=ni)}parsePMT(V){const w=V[0];if(w!==2)return void P.Z.e(this.TAG,`parsePMT: table_id ${w} is not corresponded to PMT!`);const N=(15&V[1])<<8|V[2],T=V[3]<<8|V[4],we=(62&V[5])>>>1,Se=1&V[5],Ne=V[6];V[7];let Ye=null;if(Se===1&&Ne===0)Ye=new pt,Ye.program_number=T,Ye.version_number=we,this.program_pmt_map_[T]=Ye;else if(Ye=this.program_pmt_map_[T],Ye==null)return;V[8],V[9];const bt=(15&V[10])<<8|V[11],ni=12+bt,Zt=N-9-bt-4;for(let Me=ni;Me<ni+Zt;){const dt=V[Me],ai=(31&V[Me+1])<<8|V[Me+2],Fi=(15&V[Me+3])<<8|V[Me+4];Ye.pid_stream_type[ai]=dt;const di=Ye.common_pids.h264||Ye.common_pids.h265,gi=Ye.common_pids.adts_aac||Ye.common_pids.loas_aac||Ye.common_pids.ac3||Ye.common_pids.eac3||Ye.common_pids.opus||Ye.common_pids.mp3;if(dt!==Pi.kH264||di)if(dt!==Pi.kH265||di)if(dt!==Pi.kADTSAAC||gi)if(dt!==Pi.kLOASAAC||gi)if(dt!==Pi.kAC3||gi)if(dt!==Pi.kEAC3||gi)if(dt!==Pi.kMPEG1Audio&&dt!==Pi.kMPEG2Audio||gi)if(dt===Pi.kPESPrivateData){if(Ye.pes_private_data_pids[ai]=!0,Fi>0){for(let Si=Me+5;Si<Me+5+Fi;){const Ht=V[Si+0],qt=V[Si+1];if(Ht===5){const vi=String.fromCharCode(...Array.from(V.subarray(Si+2,Si+2+qt)));vi==="VANC"?Ye.smpte2038_pids[ai]=!0:vi==="Opus"&&(Ye.common_pids.opus=ai)}else if(Ht===127&&ai===Ye.common_pids.opus){let vi=null;if(V[Si+2]===128&&(vi=V[Si+3]),vi==null){P.Z.e(this.TAG,"Not Supported Opus channel count.");continue}const rn={codec:"opus",channel_count:15&vi?15&vi:2,channel_config_code:vi,sample_rate:48e3},En={codec:"opus",meta:rn};this.audio_init_segment_dispatched_?this.detectAudioMetadataChange(En)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(En)):(this.audio_metadata_=rn,this.dispatchAudioInitSegment(En))}Si+=2+qt}const Ki=V.subarray(Me+5,Me+5+Fi);this.dispatchPESPrivateDataDescriptor(ai,dt,Ki)}}else dt===Pi.kID3?Ye.timed_id3_pids[ai]=!0:dt===Pi.kSCTE35&&(Ye.scte_35_pids[ai]=!0);else Ye.common_pids.mp3=ai;else Ye.common_pids.eac3=ai;else Ye.common_pids.ac3=ai;else Ye.common_pids.loas_aac=ai;else Ye.common_pids.adts_aac=ai;else Ye.common_pids.h265=ai;else Ye.common_pids.h264=ai;Me+=5+Fi}T===this.current_program_&&(this.pmt_===void 0&&P.Z.v(this.TAG,`Parsed first PMT: ${JSON.stringify(Ye)}`),this.pmt_=Ye,(Ye.common_pids.h264||Ye.common_pids.h265)&&(this.has_video_=!0),(Ye.common_pids.adts_aac||Ye.common_pids.loas_aac||Ye.common_pids.ac3||Ye.common_pids.opus||Ye.common_pids.mp3)&&(this.has_audio_=!0))}parseSCTE35(V){const w=je(V);if(w.pts!==void 0){const N=Math.floor(w.pts/this.timescale_);w.pts=N}else w.nearest_pts=this.aac_last_sample_pts_;this.onSCTE35Metadata&&this.onSCTE35Metadata(w)}parseH264Payload(V,w,N,T,we){var Se,Ne;const Ye=new zt(V);let bt=null;const ni=[];let Zt=0,Me=!1;for(;(bt=Ye.readNextNaluPayload())!=null;){const Fi=new ri(bt);if(Fi.type===Ci.kSliceSPS){const di=me.parseSPS(bt.data);this.video_init_segment_dispatched_?this.detectVideoMetadataChange(Fi,di)&&(P.Z.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:Fi,pps:void 0,details:di}):this.video_metadata_&&(this.video_metadata_.sps=Fi,this.video_metadata_.details=di)}else Fi.type===Ci.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_&&(this.video_metadata_.pps=Fi),!((Se=this.video_metadata_)===null||Se===void 0)&&Se.sps&&(!((Ne=this.video_metadata_)===null||Ne===void 0)&&Ne.pps)&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(Fi.type===Ci.kSliceIDR||Fi.type===Ci.kSliceNonIDR&&we===1)&&(Me=!0);this.video_init_segment_dispatched_&&(ni.push(Fi),Zt+=Fi.data.byteLength)}const dt=Math.floor(w/this.timescale_),ai=Math.floor(N/this.timescale_);if(ni.length){const Fi=this.video_track_,di={units:ni,length:Zt,isKeyframe:Me,dts:ai,pts:dt,cts:dt-ai,file_position:T};Fi&&(Fi.samples.push(di),Fi.length+=Zt)}}parseH265Payload(V,w,N,T,we){var Se,Ne,Ye,bt,ni,Zt,Me;const dt=new li(V);let ai=null;const Fi=[];let di=0,gi=!1;for(;(ai=dt.readNextNaluPayload())!=null;){const Ht=new Gt(ai);if(Ht.type===mt.kSliceVPS){if(!this.video_init_segment_dispatched_){const qt=le.parseVPS(ai.data);this.video_metadata_&&(this.video_metadata_.vps=Ht,this.video_metadata_.details=Object.assign(Object.assign({},(Se=this.video_metadata_)===null||Se===void 0?void 0:Se.details),qt))}}else if(Ht.type===mt.kSliceSPS){const qt=le.parseSPS(ai.data);this.video_init_segment_dispatched_?this.detectVideoMetadataChange(Ht,qt)&&(P.Z.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:Ht,pps:void 0,details:qt}):this.video_metadata_&&(this.video_metadata_.sps=Ht,this.video_metadata_.details=Object.assign(Object.assign({},(Ne=this.video_metadata_)===null||Ne===void 0?void 0:Ne.details),qt))}else if(Ht.type===mt.kSlicePPS){if(!this.video_init_segment_dispatched_||this.video_metadata_changed_){const qt=le.parsePPS(ai.data);this.video_metadata_&&(this.video_metadata_.pps=Ht,this.video_metadata_.details=Object.assign(Object.assign({},(Ye=this.video_metadata_)===null||Ye===void 0?void 0:Ye.details),qt)),!((bt=this.video_metadata_)===null||bt===void 0)&&bt.vps&&(!((ni=this.video_metadata_)===null||ni===void 0)&&ni.sps)&&(!((Zt=this.video_metadata_)===null||Zt===void 0)&&Zt.pps)&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())}}else Ht.type!==mt.kSliceIDR_W_RADL&&Ht.type!==mt.kSliceIDR_N_LP&&Ht.type!==mt.kSliceCRA_NUT||(gi=!0);this.video_init_segment_dispatched_&&(Fi.push(Ht),di+=Ht.data.byteLength)}const Ki=Math.floor(w/this.timescale_),Si=Math.floor(N/this.timescale_);if(Fi.length){const Ht=this.video_track_,qt={units:Fi,length:di,isKeyframe:gi,dts:Si,pts:Ki,cts:Ki-Si,file_position:T};Ht&&((Me=Ht.samples)===null||Me===void 0||Me.push(qt),Ht.length+=di)}}detectVideoMetadataChange(V,w){var N,T,we,Se,Ne,Ye,bt,ni,Zt,Me;if(w.codec_mimetype!==((T=(N=this.video_metadata_)===null||N===void 0?void 0:N.details)===null||T===void 0?void 0:T.codec_mimetype))return P.Z.v(this.TAG,`Video: Codec mimeType changed from ${(we=this.video_metadata_)===null||we===void 0?void 0:we.details.codec_mimetype} to ${w==null?void 0:w.codec_mimetype}`),!0;if(w.codec_size.width!==((Ne=(Se=this.video_metadata_)===null||Se===void 0?void 0:Se.details)===null||Ne===void 0?void 0:Ne.codec_size.width)||w.codec_size.height!==((bt=(Ye=this.video_metadata_)===null||Ye===void 0?void 0:Ye.details)===null||bt===void 0?void 0:bt.codec_size.height)){const dt=(ni=this.video_metadata_)===null||ni===void 0?void 0:ni.details.codec_size,ai=w.codec_size;return P.Z.v(this.TAG,`Video: Coded Resolution changed from ${dt.width}x${dt.height} to ${ai.width}x${ai.height}`),!0}return w.present_size.width!==((Zt=this.video_metadata_)===null||Zt===void 0?void 0:Zt.details.present_size.width)&&(P.Z.v(this.TAG,`Video: Present resolution width changed from ${(Me=this.video_metadata_)===null||Me===void 0?void 0:Me.details.present_size.width} to ${w==null?void 0:w.present_size.width}`),!0)}isInitSegmentDispatched(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_}dispatchVideoInitSegment(){var V,w,N,T,we,Se,Ne,Ye,bt,ni,Zt,Me;const dt=(V=this.video_metadata_)===null||V===void 0?void 0:V.details,ai={type:"video"};ai.id=(w=this.video_track_)===null||w===void 0?void 0:w.id,ai.timescale=1e3,ai.duration=this.duration_,ai.codecWidth=dt.codec_size.width,ai.codecHeight=dt.codec_size.height,ai.presentWidth=dt.present_size.width,ai.presentHeight=dt.present_size.height,ai.profile=dt.profile_string,ai.level=dt.level_string,ai.bitDepth=dt.bit_depth,ai.chromaFormat=dt.chroma_format,ai.sarRatio=dt.sar_ratio,ai.frameRate=dt.frame_rate;const Fi=ai.frameRate.fps_den,di=ai.frameRate.fps_num;if(ai.refSampleDuration=Fi/di*1e3,ai.codec=dt.codec_mimetype,(N=this.video_metadata_)===null||N===void 0?void 0:N.vps){const Ki=(T=this.video_metadata_)===null||T===void 0?void 0:T.vps.data.subarray(4),Si=(Se=(we=this.video_metadata_)===null||we===void 0?void 0:we.sps)===null||Se===void 0?void 0:Se.data.subarray(4),Ht=(Ye=(Ne=this.video_metadata_)===null||Ne===void 0?void 0:Ne.pps)===null||Ye===void 0?void 0:Ye.data.subarray(4),qt=new Oi(Ki,Si,Ht,dt);ai.hvcc=qt.getData(),this.video_init_segment_dispatched_||P.Z.v(this.TAG,`Generated first HEVCDecoderConfigurationRecord for mimeType: ${ai.codec}`)}else{const Ki=(ni=(bt=this.video_metadata_)===null||bt===void 0?void 0:bt.sps)===null||ni===void 0?void 0:ni.data.subarray(4),Si=(Me=(Zt=this.video_metadata_)===null||Zt===void 0?void 0:Zt.pps)===null||Me===void 0?void 0:Me.data.subarray(4),Ht=new ae(Ki,Si,dt);ai.avcc=Ht.getData(),this.video_init_segment_dispatched_||P.Z.v(this.TAG,`Generated first AVCDecoderConfigurationRecord for mimeType: ${ai.codec}`)}this.onTrackMetadata&&this.onTrackMetadata("video",ai),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;const gi=this.media_info_;gi.hasVideo=!0,gi.width=ai.codecWidth,gi.height=ai.codecHeight,gi.fps=ai.frameRate.fps,gi.profile=ai.profile,gi.level=ai.level,gi.refFrames=dt.ref_frames,gi.chromaFormat=dt.chroma_format_string,gi.sarNum=ai.sarRatio.width,gi.sarDen=ai.sarRatio.height,gi.videoCodec=ai.codec,gi.hasAudio&&gi.audioCodec?gi.mimeType=`video/mp2t; codecs="${gi.videoCodec},${gi.audioCodec}"`:gi.mimeType=`video/mp2t; codecs="${gi.videoCodec}"`,gi.isComplete()&&this.onMediaInfo&&this.onMediaInfo(gi)}dispatchVideoMediaSegment(){var V;this.isInitSegmentDispatched()&&(!((V=this.video_track_)===null||V===void 0)&&V.length)&&this.onDataAvailable&&this.onDataAvailable(null,this.video_track_)}dispatchAudioMediaSegment(){var V;this.isInitSegmentDispatched()&&(!((V=this.audio_track_)===null||V===void 0)&&V.length)&&this.onDataAvailable&&this.onDataAvailable(this.audio_track_,null)}dispatchAudioVideoMediaSegment(){var V,w;this.isInitSegmentDispatched()&&(!((V=this.audio_track_)===null||V===void 0)&&V.length||!((w=this.video_track_)===null||w===void 0)&&w.length)&&this.onDataAvailable&&this.onDataAvailable(this.audio_track_,this.video_track_)}parseADTSAACPayload(V,w){var N,T,we;if(this.has_video_&&!this.video_init_segment_dispatched_)return;if(this.aac_last_incomplete_data_){const Me=new Uint8Array(V.byteLength+this.aac_last_incomplete_data_.byteLength);Me.set(this.aac_last_incomplete_data_,0),Me.set(V,this.aac_last_incomplete_data_.byteLength),V=Me}let Se,Ne=0;if(w!==void 0&&(Ne=w/this.timescale_),((N=this.audio_metadata_)===null||N===void 0?void 0:N.codec)==="aac"){if(w===void 0&&this.aac_last_sample_pts_!==void 0)Se=1024/((T=this.audio_metadata_)===null||T===void 0?void 0:T.sampling_frequency)*1e3,Ne=this.aac_last_sample_pts_+Se;else if(w===void 0)return void P.Z.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.aac_last_sample_pts_){Se=1024/this.audio_metadata_.sampling_frequency*1e3;const Me=this.aac_last_sample_pts_+Se;Math.abs(Me-Ne)>1&&(P.Z.w(this.TAG,`AAC: Detected pts overlapped, expected: ${Me}ms, PES pts: ${Ne}ms`),Ne=Me)}}const Ye=new Ge(V);let bt=null,ni=Ne,Zt=0;for(;(bt=Ye.readNextAACFrame())!=null;){Se=1024/bt.sampling_frequency*1e3;const Me={codec:"aac",data:bt};this.audio_init_segment_dispatched_?this.detectAudioMetadataChange(Me)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Me)):(this.audio_metadata_={codec:"aac",audio_object_type:bt.audio_object_type,sampling_freq_index:bt.sampling_freq_index,sampling_frequency:bt.sampling_frequency,channel_config:bt.channel_config},this.dispatchAudioInitSegment(Me)),Zt=ni;const dt=Math.floor(ni),ai={unit:bt.data,length:bt.data.byteLength,pts:dt,dts:dt};this.audio_track_&&((we=this.audio_track_)===null||we===void 0||we.samples.push(ai),this.audio_track_.length+=bt.data.byteLength),ni+=Se}Ye.hasIncompleteData()&&(this.aac_last_incomplete_data_=Ye.getIncompleteData()),Zt&&(this.aac_last_sample_pts_=Zt)}parseLOASAACPayload(V,w){var N,T,we;if(this.has_video_&&!this.video_init_segment_dispatched_)return;if(this.aac_last_incomplete_data_){const Me=new Uint8Array(V.byteLength+this.aac_last_incomplete_data_.byteLength);Me.set(this.aac_last_incomplete_data_,0),Me.set(V,this.aac_last_incomplete_data_.byteLength),V=Me}let Se,Ne=0;if(w!==void 0&&(Ne=w/this.timescale_),((N=this.audio_metadata_)===null||N===void 0?void 0:N.codec)==="aac"){if(w===void 0&&this.aac_last_sample_pts_!==void 0)Se=1024/this.audio_metadata_.sampling_frequency*1e3,Ne=this.aac_last_sample_pts_+Se;else if(w===void 0)return void P.Z.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.aac_last_sample_pts_){Se=1024/this.audio_metadata_.sampling_frequency*1e3;const Me=this.aac_last_sample_pts_+Se;Math.abs(Me-Ne)>1&&(P.Z.w(this.TAG,`AAC: Detected pts overlapped, expected: ${Me}ms, PES pts: ${Ne}ms`),Ne=Me)}}const Ye=new H(V);let bt=null,ni=Ne,Zt=0;for(;(bt=Ye.readNextAACFrame((T=this.loas_previous_frame)!==null&&T!==void 0?T:void 0))!=null;){this.loas_previous_frame=bt,Se=1024/bt.sampling_frequency*1e3;const Me={codec:"aac",data:bt};this.audio_init_segment_dispatched_?this.detectAudioMetadataChange(Me)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Me)):(this.audio_metadata_={codec:"aac",audio_object_type:bt.audio_object_type,sampling_freq_index:bt.sampling_freq_index,sampling_frequency:bt.sampling_frequency,channel_config:bt.channel_config},this.dispatchAudioInitSegment(Me)),Zt=ni;const dt=Math.floor(ni),ai={unit:bt.data,length:bt.data.byteLength,pts:dt,dts:dt};this.audio_track_&&((we=this.audio_track_)===null||we===void 0||we.samples.push(ai),this.audio_track_.length+=bt.data.byteLength),ni+=Se}Ye.hasIncompleteData()&&(this.aac_last_incomplete_data_=Ye.getIncompleteData()),Zt&&(this.aac_last_sample_pts_=Zt)}parseAC3Payload(V,w){var N,T;if(this.has_video_&&!this.video_init_segment_dispatched_)return;let we,Se=0;if(w!==void 0&&(Se=w/this.timescale_),((N=this.audio_metadata_)===null||N===void 0?void 0:N.codec)==="ac-3"){if(w===void 0&&this.aac_last_sample_pts_!==void 0)we=1536/this.audio_metadata_.sampling_frequency*1e3,Se=this.aac_last_sample_pts_+we;else if(w===void 0)return void P.Z.w(this.TAG,"AC3: Unknown pts")}const Ne=new Tt(V);let Ye=null,bt=Se,ni=0;for(;(Ye=Ne.readNextAC3Frame())!=null;){we=1536/Ye.sampling_frequency*1e3;const Zt={codec:"ac-3",data:Ye};this.audio_init_segment_dispatched_?this.detectAudioMetadataChange(Zt)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Zt)):(this.audio_metadata_={codec:"ac-3",sampling_frequency:Ye.sampling_frequency,bit_stream_identification:Ye.bit_stream_identification,bit_stream_mode:Ye.bit_stream_mode,low_frequency_effects_channel_on:Ye.low_frequency_effects_channel_on,channel_mode:Ye.channel_mode},this.dispatchAudioInitSegment(Zt)),ni=bt;const Me=Math.floor(bt),dt={unit:Ye.data,length:Ye.data.byteLength,pts:Me,dts:Me};this.audio_track_&&((T=this.audio_track_)===null||T===void 0||T.samples.push(dt),this.audio_track_.length+=Ye.data.byteLength),bt+=we}ni&&(this.aac_last_sample_pts_=ni)}parseEAC3Payload(V,w){var N,T;if(this.has_video_&&!this.video_init_segment_dispatched_)return;let we,Se=0;if(w!==void 0&&(Se=w/this.timescale_),((N=this.audio_metadata_)===null||N===void 0?void 0:N.codec)==="ec-3"){if(w===void 0&&this.aac_last_sample_pts_!==void 0)we=256*(this.audio_metadata_.num_blks||0)/(this.audio_metadata_.sampling_frequency||0)*1e3,Se=this.aac_last_sample_pts_+we;else if(w===void 0)return void P.Z.w(this.TAG,"EAC3: Unknown pts")}const Ne=new Ft(V);let Ye=null,bt=Se,ni=0;for(;(Ye=Ne.readNextEAC3Frame())!=null;){we=1536/Ye.sampling_frequency*1e3;const Zt={codec:"ec-3",data:Ye};this.audio_init_segment_dispatched_?this.detectAudioMetadataChange(Zt)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Zt)):(this.audio_metadata_={codec:"ec-3",sampling_frequency:Ye.sampling_frequency,bit_stream_identification:Ye.bit_stream_identification,low_frequency_effects_channel_on:Ye.low_frequency_effects_channel_on,num_blks:Ye.num_blks,channel_mode:Ye.channel_mode},this.dispatchAudioInitSegment(Zt)),ni=bt;const Me=Math.floor(bt),dt={unit:Ye.data,length:Ye.data.byteLength,pts:Me,dts:Me};this.audio_track_&&((T=this.audio_track_)===null||T===void 0||T.samples.push(dt),this.audio_track_.length+=Ye.data.byteLength),bt+=we}ni&&(this.aac_last_sample_pts_=ni)}parseOpusPayload(V,w){var N,T;if(this.has_video_&&!this.video_init_segment_dispatched_)return;let we,Se=0;if(w!==void 0&&(Se=w/this.timescale_),((N=this.audio_metadata_)===null||N===void 0?void 0:N.codec)==="opus"){if(w===void 0&&this.aac_last_sample_pts_!==void 0)we=20,Se=this.aac_last_sample_pts_+we;else if(w===void 0)return void P.Z.w(this.TAG,"Opus: Unknown pts")}let Ne=Se,Ye=0;for(let bt=0;bt<V.length;){we=20;const ni=(16&V[bt+1])!=0,Zt=(8&V[bt+1])!=0;let Me=bt+2,dt=0;for(;V[Me]===255;)dt+=255,Me+=1;dt+=V[Me],Me+=1,Me+=ni?2:0,Me+=Zt?2:0,Ye=Ne;const ai=Math.floor(Ne),Fi=V.slice(Me,Me+dt),di={unit:Fi,length:Fi.byteLength,pts:ai,dts:ai};this.audio_track_&&((T=this.audio_track_)===null||T===void 0||T.samples.push(di),this.audio_track_.length+=Fi.byteLength),Ne+=we,bt=Me+dt}Ye&&(this.aac_last_sample_pts_=Ye)}parseMP3Payload(V,w){var N;if(this.has_video_&&!this.video_init_segment_dispatched_)return;const T=[44100,48e3,32e3,0],we=[22050,24e3,16e3,0],Se=[11025,12e3,8e3,0],Ne=V[1]>>>3&3,Ye=(6&V[1])>>1;(240&V[2])>>>4;const bt=(12&V[2])>>>2,ni=(V[3]>>>6&3)!==3?2:1;let Zt=0,Me=34;switch(Ne){case 0:Zt=Se[bt];break;case 2:Zt=we[bt];break;case 3:Zt=T[bt]}switch(Ye){case 1:Me=34;break;case 2:Me=33;break;case 3:Me=32}const dt=new Ji;dt.object_type=Me,dt.sample_rate=Zt,dt.channel_count=ni,dt.data=V;const ai={codec:"mp3",data:dt};this.audio_init_segment_dispatched_?this.detectAudioMetadataChange(ai)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(ai)):(this.audio_metadata_={codec:"mp3",object_type:Me,sample_rate:Zt,channel_count:ni},this.dispatchAudioInitSegment(ai));const Fi={unit:V,length:V.byteLength,pts:w/this.timescale_,dts:w/this.timescale_};this.audio_track_&&((N=this.audio_track_)===null||N===void 0||N.samples.push(Fi),this.audio_track_.length+=V.byteLength)}detectAudioMetadataChange(V){var w,N,T,we;if(V.codec!==((w=this.audio_metadata_)===null||w===void 0?void 0:w.codec))return P.Z.v(this.TAG,`Audio: Audio Codecs changed from ${(N=this.audio_metadata_)===null||N===void 0?void 0:N.codec} to ${V.codec}`),!0;if(V.codec==="aac"&&this.audio_metadata_.codec==="aac"){const Se=V.data;if(Se.audio_object_type!==this.audio_metadata_.audio_object_type)return P.Z.v(this.TAG,`AAC: AudioObjectType changed from ${this.audio_metadata_.audio_object_type} to ${Se.audio_object_type}`),!0;if(Se.sampling_freq_index!==this.audio_metadata_.sampling_freq_index)return P.Z.v(this.TAG,`AAC: SamplingFrequencyIndex changed from ${this.audio_metadata_.sampling_freq_index} to ${Se.sampling_freq_index}`),!0;if(Se.channel_config!==this.audio_metadata_.channel_config)return P.Z.v(this.TAG,`AAC: Channel configuration changed from ${(T=this.audio_metadata_)===null||T===void 0?void 0:T.channel_config} to ${Se.channel_config}`),!0}else if(V.codec==="ac-3"&&this.audio_metadata_.codec==="ac-3"){const Se=V.data;if(Se.sampling_frequency!==this.audio_metadata_.sampling_frequency)return P.Z.v(this.TAG,`AC3: Sampling Frequency changed from ${(we=this.audio_metadata_)===null||we===void 0?void 0:we.sampling_frequency} to ${Se.sampling_frequency}`),!0;if(Se.bit_stream_identification!==this.audio_metadata_.bit_stream_identification)return P.Z.v(this.TAG,`AC3: Bit Stream Identification changed from ${this.audio_metadata_.bit_stream_identification} to ${Se.bit_stream_identification}`),!0;if(Se.bit_stream_mode!==this.audio_metadata_.bit_stream_mode)return P.Z.v(this.TAG,`AC3: BitStream Mode changed from ${this.audio_metadata_.bit_stream_mode} to ${Se.bit_stream_mode}`),!0;if(Se.channel_mode!==this.audio_metadata_.channel_mode)return P.Z.v(this.TAG,`AC3: Channel Mode changed from ${this.audio_metadata_.channel_mode} to ${Se.channel_mode}`),!0;if(Se.low_frequency_effects_channel_on!==this.audio_metadata_.low_frequency_effects_channel_on)return P.Z.v(this.TAG,`AC3: Low Frequency Effects Channel On changed from ${this.audio_metadata_.low_frequency_effects_channel_on} to ${Se.low_frequency_effects_channel_on}`),!0}else if(V.codec==="opus"&&this.audio_metadata_.codec==="opus"){const Se=V.meta;if(Se.sample_rate!==this.audio_metadata_.sample_rate)return P.Z.v(this.TAG,`Opus: SamplingFrequencyIndex changed from ${this.audio_metadata_.sample_rate} to ${Se.sample_rate}`),!0;if(Se.channel_count!==this.audio_metadata_.channel_count)return P.Z.v(this.TAG,`Opus: Channel count changed from ${this.audio_metadata_.channel_count} to ${Se.channel_count}`),!0}else if(V.codec==="mp3"&&this.audio_metadata_.codec==="mp3"){const Se=V.data;if(Se.object_type!==this.audio_metadata_.object_type)return P.Z.v(this.TAG,`MP3: AudioObjectType changed from ${this.audio_metadata_.object_type} to ${Se.object_type}`),!0;if(Se.sample_rate!==this.audio_metadata_.sample_rate)return P.Z.v(this.TAG,`MP3: SamplingFrequencyIndex changed from ${this.audio_metadata_.sample_rate} to ${Se.sample_rate}`),!0;if(Se.channel_count!==this.audio_metadata_.channel_count)return P.Z.v(this.TAG,`MP3: Channel count changed from ${this.audio_metadata_.channel_count} to ${Se.channel_count}`),!0}return!1}dispatchAudioInitSegment(V){var w,N,T,we,Se,Ne;const Ye={type:"audio"};if(Ye.id=(w=this.audio_track_)===null||w===void 0?void 0:w.id,Ye.timescale=1e3,Ye.duration=this.duration_,((N=this.audio_metadata_)===null||N===void 0?void 0:N.codec)==="aac"){const ni=V.codec==="aac"?V.data:null,Zt=new _e(ni);Ye.audioSampleRate=Zt.sampling_rate,Ye.channelCount=Zt.channel_count,Ye.codec=Zt.codec_mimetype,Ye.originalCodec=Zt.original_codec_mimetype,Ye.config=Zt.config,Ye.refSampleDuration=1024/Ye.audioSampleRate*Ye.timescale}else if(((T=this.audio_metadata_)===null||T===void 0?void 0:T.codec)==="ac-3"){const ni=V.codec==="ac-3"?V.data:null,Zt=new jt(ni);Ye.audioSampleRate=Zt.sampling_rate,Ye.channelCount=Zt.channel_count,Ye.codec=Zt.codec_mimetype,Ye.originalCodec=Zt.original_codec_mimetype,Ye.config=Zt.config,Ye.refSampleDuration=1536/Ye.audioSampleRate*Ye.timescale}else if(((we=this.audio_metadata_)===null||we===void 0?void 0:we.codec)==="ec-3"){const ni=V.codec==="ec-3"?V.data:null,Zt=new Kt(ni);Ye.audioSampleRate=Zt.sampling_rate,Ye.channelCount=Zt.channel_count,Ye.codec=Zt.codec_mimetype,Ye.originalCodec=Zt.original_codec_mimetype,Ye.config=Zt.config,Ye.refSampleDuration=256*Zt.num_blks/Ye.audioSampleRate*Ye.timescale}else((Se=this.audio_metadata_)===null||Se===void 0?void 0:Se.codec)==="opus"?(Ye.audioSampleRate=this.audio_metadata_.sample_rate,Ye.channelCount=this.audio_metadata_.channel_count,Ye.channelConfigCode=this.audio_metadata_.channel_config_code,Ye.codec="opus",Ye.originalCodec="opus",Ye.config=void 0,Ye.refSampleDuration=20):((Ne=this.audio_metadata_)===null||Ne===void 0?void 0:Ne.codec)==="mp3"&&(Ye.audioSampleRate=this.audio_metadata_.sample_rate,Ye.channelCount=this.audio_metadata_.channel_count,Ye.codec="mp3",Ye.originalCodec="mp3",Ye.config=void 0);this.audio_init_segment_dispatched_||P.Z.v(this.TAG,`Generated first AudioSpecificConfig for mimeType: ${Ye.codec}`),this.onTrackMetadata&&this.onTrackMetadata("audio",Ye),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;const bt=this.media_info_;bt.hasAudio=!0,bt.audioCodec=Ye.originalCodec,bt.audioSampleRate=Ye.audioSampleRate,bt.audioChannelCount=Ye.channelCount,bt.hasVideo&&bt.videoCodec?bt.mimeType=`video/mp2t; codecs="${bt.videoCodec},${bt.audioCodec}"`:bt.mimeType=`video/mp2t; codecs="${bt.audioCodec}"`,bt.isComplete()&&this.onMediaInfo&&this.onMediaInfo(bt)}dispatchPESPrivateDataDescriptor(V,w,N){const T=new z;T.pid=V,T.stream_type=w,T.descriptor=N,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(T)}parsePESPrivateDataPayload(V,w,N,T,we){const Se=new M;if(Se.pid=T,Se.stream_id=we,Se.len=V.byteLength,Se.data=V,w!==void 0){const Ne=Math.floor(w/this.timescale_);Se.pts=Ne}else Se.nearest_pts=this.aac_last_sample_pts_;if(N!==void 0){const Ne=Math.floor(N/this.timescale_);Se.dts=Ne}this.onPESPrivateData&&this.onPESPrivateData(Se)}parseTimedID3MetadataPayload(V,w,N,T,we){const Se=new M;if(Se.pid=T,Se.stream_id=we,Se.len=V.byteLength,Se.data=V,w!==void 0){const Ne=Math.floor(w/this.timescale_);Se.pts=Ne}if(N!==void 0){const Ne=Math.floor(N/this.timescale_);Se.dts=Ne}this.onTimedID3Metadata&&this.onTimedID3Metadata(Se)}parseSMPTE2038MetadataPayload(V,w,N,T,we){const Se=new ge;if(Se.pid=T,Se.stream_id=we,Se.len=V.byteLength,Se.data=V,w!==void 0){const Ne=Math.floor(w/this.timescale_);Se.pts=Ne}if(Se.nearest_pts=this.aac_last_sample_pts_,N!==void 0){const Ne=Math.floor(N/this.timescale_);Se.dts=Ne}Se.ancillaries=(Ne=>{let Ye=new Ae(Ne),bt=0;const ni=[];for(;bt+=6,Ye.readBits(6)===0;){const Zt=Ye.readBool();bt+=1;const Me=Ye.readBits(11);bt+=11;const dt=Ye.readBits(12);bt+=12;const ai=255&Ye.readBits(10);bt+=10;const Fi=255&Ye.readBits(10);bt+=10;const di=255&Ye.readBits(10);bt+=10;const gi=new Uint8Array(di);for(let Ht=0;Ht<di;Ht++){const qt=255&Ye.readBits(10);bt+=10,gi[Ht]=qt}Ye.readBits(10),bt+=10;let Ki="User Defined";const Si={};ai===65?Fi===7&&(Ki="SCTE-104"):ai===95?Fi===220?Ki="ARIB STD-B37 (1SEG)":Fi===221?Ki="ARIB STD-B37 (ANALOG)":Fi===222?Ki="ARIB STD-B37 (SD)":Fi===223&&(Ki="ARIB STD-B37 (HD)"):ai===97&&(Fi===1?Ki="EIA-708":Fi===2&&(Ki="EIA-608")),ni.push({yc_indicator:Zt,line_number:Me,horizontal_offset:dt,did:ai,sdid:Fi,user_data:gi,description:Ki,information:Si}),Ye.readBits(8-(bt-Math.floor(bt/8))%8),bt+=(8-(bt-Math.floor(bt/8)))%8}return Ye.destroy(),Ye=null,ni})(V),this.onSMPTE2038Metadata&&this.onSMPTE2038Metadata(Se)}},si=new Uint8Array([0,0,0,0,0,0,0,0]);class ht{static init(){ht.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],av01:[],av1C:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[],"ec-3":[],dec3:[]};for(const w in ht.types)ht.types.hasOwnProperty(w)&&(ht.types[w]=[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)])}static box(w,...N){let T=8,we=null;const Se=Array.prototype.slice.call(arguments,1),Ne=Se.length;for(let bt=0;bt<Ne;bt++)T+=Se[bt].byteLength;we=new Uint8Array(T),we[0]=T>>>24&255,we[1]=T>>>16&255,we[2]=T>>>8&255,we[3]=255&T,we.set(w,4);let Ye=8;for(let bt=0;bt<Ne;bt++)we.set(Se[bt],Ye),Ye+=Se[bt].byteLength;return we}static generateInitSegment(w){const N=ht.box(ht.types.ftyp,ht.constants.FTYP),T=ht.moov(w),we=new Uint8Array(N.byteLength+T.byteLength);return we.set(N,0),we.set(T,N.byteLength),we}static moov(w){const N=ht.mvhd(w.timescale,w.duration),T=ht.trak(w),we=ht.mvex(w);return ht.box(ht.types.moov,N,T,we)}static mvhd(w,N){return ht.box(ht.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,w>>>24&255,w>>>16&255,w>>>8&255,255&w,N>>>24&255,N>>>16&255,N>>>8&255,255&N,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}static trak(w){return ht.box(ht.types.trak,ht.tkhd(w),ht.mdia(w))}static tkhd(w){const N=w.id,T=w.duration,we=w.presentWidth,Se=w.presentHeight;return ht.box(ht.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,255&N,0,0,0,0,T>>>24&255,T>>>16&255,T>>>8&255,255&T,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,we>>>8&255,255&we,0,0,Se>>>8&255,255&Se,0,0]))}static mdia(w){return ht.box(ht.types.mdia,ht.mdhd(w),ht.hdlr(w),ht.minf(w))}static mdhd(w){const N=w.timescale,T=w.duration;return ht.box(ht.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,255&N,T>>>24&255,T>>>16&255,T>>>8&255,255&T,85,196,0,0]))}static hdlr(w){let N=null;return N=w.type==="audio"?ht.constants.HDLR_AUDIO:ht.constants.HDLR_VIDEO,ht.box(ht.types.hdlr,N)}static minf(w){let N=null;return N=w.type==="audio"?ht.box(ht.types.smhd,ht.constants.SMHD):ht.box(ht.types.vmhd,ht.constants.VMHD),ht.box(ht.types.minf,N,ht.dinf(),ht.stbl(w))}static dinf(){return ht.box(ht.types.dinf,ht.box(ht.types.dref,ht.constants.DREF))}static stbl(w){return ht.box(ht.types.stbl,ht.stsd(w),ht.box(ht.types.stts,ht.constants.STTS),ht.box(ht.types.stsc,ht.constants.STSC),ht.box(ht.types.stsz,ht.constants.STSZ),ht.box(ht.types.stco,ht.constants.STCO))}static stsd(w){return w.type==="audio"?w.codec==="mp3"?ht.box(ht.types.stsd,ht.constants.STSD_PREFIX,ht.mp3(w)):w.codec==="ac-3"?ht.box(ht.types.stsd,ht.constants.STSD_PREFIX,ht.ac3(w)):w.codec==="ec-3"?ht.box(ht.types.stsd,ht.constants.STSD_PREFIX,ht.ec3(w)):w.codec==="opus"?ht.box(ht.types.stsd,ht.constants.STSD_PREFIX,ht.Opus(w)):ht.box(ht.types.stsd,ht.constants.STSD_PREFIX,ht.mp4a(w)):w.type==="video"&&w.codec.startsWith("hvc1")?ht.box(ht.types.stsd,ht.constants.STSD_PREFIX,ht.hvc1(w)):w.type==="video"&&w.codec.startsWith("av01")?ht.box(ht.types.stsd,ht.constants.STSD_PREFIX,ht.av01(w)):ht.box(ht.types.stsd,ht.constants.STSD_PREFIX,ht.avc1(w))}static mp3(w){const N=w.channelCount,T=w.audioSampleRate,we=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,N,0,16,0,0,0,0,T>>>8&255,255&T,0,0]);return ht.box(ht.types[".mp3"],we)}static mp4a(w){const N=w.channelCount,T=w.audioSampleRate,we=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,N,0,16,0,0,0,0,T>>>8&255,255&T,0,0]);return ht.box(ht.types.mp4a,we,ht.esds(w))}static ac3(w){var N;const T=w.channelCount,we=w.audioSampleRate,Se=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,T,0,16,0,0,0,0,we>>>8&255,255&we,0,0]);return ht.box(ht.types["ac-3"],Se,ht.box(ht.types.dac3,new Uint8Array((N=w.config)!==null&&N!==void 0?N:[])))}static ec3(w){var N;const T=w.channelCount,we=w.audioSampleRate,Se=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,T,0,16,0,0,0,0,we>>>8&255,255&we,0,0]);return ht.box(ht.types["ec-3"],Se,ht.box(ht.types.dec3,new Uint8Array((N=w.config)!==null&&N!==void 0?N:[])))}static esds(w){var N;const T=(N=w.config)!==null&&N!==void 0?N:[],we=T.length,Se=new Uint8Array([0,0,0,0,3,23+we,0,1,0,4,15+we,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([we]).concat(T).concat([6,1,2]));return ht.box(ht.types.esds,Se)}static Opus(w){const N=w.channelCount,T=w.audioSampleRate,we=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,N,0,16,0,0,0,0,T>>>8&255,255&T,0,0]);return ht.box(ht.types.Opus,we,ht.dOps(w))}static dOps(w){const N=w.channelCount,T=w.channelConfigCode,we=w.audioSampleRate;let Se=[];switch(T){case 1:case 2:Se=[0];break;case 0:Se=[255,1,1,0,1];break;case 128:Se=[255,2,0,0,1];break;case 3:Se=[1,2,1,0,2,1];break;case 4:Se=[1,2,2,0,1,2,3];break;case 5:Se=[1,3,2,0,4,1,2,3];break;case 6:Se=[1,4,2,0,4,1,2,3,5];break;case 7:Se=[1,4,2,0,4,1,2,3,5,6];break;case 8:Se=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:Se=[1,1,2,0,1];break;case 131:Se=[1,1,3,0,1,2];break;case 132:Se=[1,1,4,0,1,2,3];break;case 133:Se=[1,1,5,0,1,2,3,4];break;case 134:Se=[1,1,6,0,1,2,3,4,5];break;case 135:Se=[1,1,7,0,1,2,3,4,5,6];break;case 136:Se=[1,1,8,0,1,2,3,4,5,6,7]}const Ne=new Uint8Array([0,N,0,0,we>>>24&255,we>>>17&255,we>>>8&255,we>>>0&255,0,0,...Se]);return ht.box(ht.types.dOps,Ne)}static avc1(w){const N=w.avcc,T=w.codecWidth,we=w.codecHeight,Se=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,T>>>8&255,255&T,we>>>8&255,255&we,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return ht.box(ht.types.avc1,Se,ht.box(ht.types.avcC,N))}static hvc1(w){const N=w.hvcc,T=w.codecWidth,we=w.codecHeight,Se=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,T>>>8&255,255&T,we>>>8&255,255&we,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return ht.box(ht.types.hvc1,Se,ht.box(ht.types.hvcC,N))}static av01(w){var N,T;const we=w.av1c,Se=(N=w.codecWidth)!==null&&N!==void 0?N:192,Ne=(T=w.codecHeight)!==null&&T!==void 0?T:108,Ye=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Se>>>8&255,255&Se,Ne>>>8&255,255&Ne,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return ht.box(ht.types.av01,Ye,ht.box(ht.types.av1C,we))}static mvex(w){return ht.box(ht.types.mvex,ht.trex(w))}static trex(w){const N=w.id,T=new Uint8Array([0,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,255&N,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return ht.box(ht.types.trex,T)}static moof(w,N){return ht.box(ht.types.moof,ht.mfhd(w.sequenceNumber),ht.traf(w,N))}static mfhd(w){const N=new Uint8Array([0,0,0,0,w>>>24&255,w>>>16&255,w>>>8&255,255&w]);return ht.box(ht.types.mfhd,N)}static traf(w,N){const T=w.id,we=ht.box(ht.types.tfhd,new Uint8Array([0,0,0,0,T>>>24&255,T>>>16&255,T>>>8&255,255&T])),Se=ht.box(ht.types.tfdt,new Uint8Array([0,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,255&N])),Ne=ht.sdtp(w),Ye=ht.trun(w,Ne.byteLength+16+16+8+16+8+8);return ht.box(ht.types.traf,we,Se,Ye,Ne)}static sdtp(w){const N=w.samples||[],T=N.length,we=new Uint8Array(4+T);for(let Se=0;Se<T;Se++){const Ne=N[Se].flags;we[Se+4]=Ne.isLeading<<6|Ne.dependsOn<<4|Ne.isDependedOn<<2|Ne.hasRedundancy}return ht.box(ht.types.sdtp,we)}static trun(w,N){const T=w.samples||[],we=T.length,Se=12+16*we,Ne=new Uint8Array(Se);N+=8+Se,Ne.set([0,0,15,1,we>>>24&255,we>>>16&255,we>>>8&255,255&we,N>>>24&255,N>>>16&255,N>>>8&255,255&N],0);for(let Ye=0;Ye<we;Ye++){const bt=T[Ye].duration,ni=T[Ye].size,Zt=T[Ye].flags,Me=T[Ye].cts;Ne.set([bt>>>24&255,bt>>>16&255,bt>>>8&255,255&bt,ni>>>24&255,ni>>>16&255,ni>>>8&255,255&ni,Zt.isLeading<<2|Zt.dependsOn,Zt.isDependedOn<<6|Zt.hasRedundancy<<4|Zt.isNonSync,0,0,Me>>>24&255,Me>>>16&255,Me>>>8&255,255&Me],12+16*Ye)}return ht.box(ht.types.trun,Ne)}static mdat(w){return ht.box(ht.types.mdat,w)}}ht.constants={FTYP:new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),STSD_PREFIX:new Uint8Array([0,0,0,0,0,0,0,1]),STTS:si,STSC:si,STCO:si,STSZ:new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),HDLR_VIDEO:new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),HDLR_AUDIO:new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),DREF:new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),SMHD:new Uint8Array([0,0,0,0,0,0,0,0]),VMHD:new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},ht.init();const Ii=ht,ji=class{static getSilentFrame(V,w){if(V==="mp4a.40.2"){if(w===1)return new Uint8Array([0,200,0,128,35,128]);if(w===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(w===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(w===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(w===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(w===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(w===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(w===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(w===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}};var Zi=u(68);const pi=class{constructor(V){var w;this.TAG="MP4Remuxer",this._fillSilentAfterSeek=!1,this._config=V,this._isLive=!!V.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new Zi.J1("audio"),this._videoSegmentInfoList=new Zi.J1("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!S.Z.chrome||!(S.Z.version&&S.Z.version.major<50||S.Z.version&&S.Z.version.major===50&&(((w=S.Z.version)===null||w===void 0?void 0:w.build)||0)<2661)),this._fillSilentAfterSeek=!(!S.Z.msedge&&!S.Z.msie),this._mp3UseMpegAudio=!S.Z.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}destroy(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}bindDataSource(V){var w;return V.onDataAvailable=(w=this.remux)===null||w===void 0?void 0:w.bind(this),V.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}get onInitSegment(){return this._onInitSegment}set onInitSegment(V){this._onInitSegment=V}get onMediaSegment(){return this._onMediaSegment}set onMediaSegment(V){this._onMediaSegment=V}insertDiscontinuity(){this._audioNextDts=this._videoNextDts=void 0}seek(V){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}remux(V,w){if(!this._onMediaSegment)throw new oe.rT("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(V,w),w&&this._remuxVideo(w),V&&this._remuxAudio(V)}_onTrackMetadataReceived(V,w){let N=null,T="mp4",we=w.codec;if(V==="audio")this._audioMeta=w,w.codec==="mp3"&&this._mp3UseMpegAudio?(T="mpeg",we="",N=new Uint8Array):N=Ii.generateInitSegment(w);else{if(V!=="video")return;this._videoMeta=w,N=Ii.generateInitSegment(w)}if(!this._onInitSegment)throw new oe.rT("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(V,{type:V,data:N.buffer,codec:we,container:`${V}/${T}`,mediaDuration:w.duration})}_calculateDtsBase(V,w){var N,T;this._dtsBaseInited||(!((N=V==null?void 0:V.samples)===null||N===void 0)&&N.length&&(this._audioDtsBase=V.samples[0].dts),!((T=w==null?void 0:w.samples)===null||T===void 0)&&T.length&&(this._videoDtsBase=w.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}getTimestampBase(){if(this._dtsBaseInited)return this._dtsBase}flushStashedSamples(){const V=this._videoStashedLastSample,w=this._audioStashedLastSample,N={type:"video",id:1,sequenceNumber:0,samples:[],length:0};V!=null&&(N.samples.push(V),N.length=V==null?void 0:V.length);const T={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};w!=null&&(T.samples.push(w),T.length=w==null?void 0:w.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(N,!0),this._remuxAudio(T,!0)}_remuxAudio(V,w){var N,T,we,Se,Ne,Ye,bt;if(this._audioMeta==null)return;const ni=V,Zt=ni.samples;let Me,dt=-1,ai=-1;const Fi=this._audioMeta.refSampleDuration,di=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,gi=this._dtsBaseInited&&this._audioNextDts===void 0;let Ki=!1;if(!Zt||Zt.length===0||Zt.length===1&&!w)return;let Si=0,Ht=null,qt=0;di?(Si=0,qt=ni.length):(Si=8,qt=8+ni.length);let vi=null;if(Zt.length>1&&(vi=Zt.pop(),qt-=vi.length),this._audioStashedLastSample!=null){const xn=this._audioStashedLastSample;this._audioStashedLastSample=null,Zt.unshift(xn),qt+=xn.length}vi!=null&&(this._audioStashedLastSample=vi);const rn=Zt[0].dts-this._dtsBase;if(this._audioNextDts)Me=rn-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())Me=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(Ki=!0);else{const xn=this._audioSegmentInfoList.getLastSampleBefore(rn);if(xn!=null){let tr=rn-(xn.originalDts+xn.duration);tr<=3&&(tr=0),Me=rn-(xn.dts+xn.duration+tr)}else Me=0}if(Ki){const xn=rn-Me,tr=this._videoSegmentInfoList.getLastSegmentBefore(rn);if(tr!=null&&tr.beginDts<xn){const $n=ji.getSilentFrame((N=this._audioMeta)===null||N===void 0?void 0:N.originalCodec,(T=this._audioMeta)===null||T===void 0?void 0:T.channelCount);if($n){const Tr=tr.beginDts,jn=xn-tr.beginDts;P.Z.v(this.TAG,`InsertPrefixSilentAudio: dts: ${Tr}, duration: ${jn}`),Zt.unshift({unit:$n,dts:Tr,pts:Tr}),qt+=$n.byteLength}}else Ki=!1}const En=[];for(let xn=0;xn<Zt.length;xn++){const tr=Zt[xn],$n=tr.unit,Tr=tr.dts-this._dtsBase;let jn=Tr,wr=!1,Er=null,Qn=0;if(!(Tr<-.001)){if(this._audioMeta.codec!=="mp3"){let Un=Tr;const ar=3;if(this._audioNextDts&&(Un=this._audioNextDts),Me=Tr-Un,Me<=-ar*(Fi||0)){P.Z.w(this.TAG,`Dropping 1 audio frame (originalDts: ${Tr} ms ,curRefDts: ${Un} ms)  due to dtsCorrection: ${Me} ms overlap.`);continue}if(Me>=ar*(Fi||0)&&this._fillAudioTimestampGap&&!S.Z.safari){wr=!0;const Sa=Math.floor(Me/(Fi||0));P.Z.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
originalDts: ${Tr} ms, curRefDts: ${Un} ms, dtsCorrection: ${Math.round(Me)} ms, generate: ${Sa} frames`),jn=Math.floor(Un),Qn=Math.floor(Un+(Fi||0))-jn;let Gr=ji.getSilentFrame((we=this._audioMeta)===null||we===void 0?void 0:we.originalCodec,this._audioMeta.channelCount);Gr==null&&(P.Z.w(this.TAG,`Unable to generate silent frame for ${(Se=this._audioMeta)===null||Se===void 0?void 0:Se.originalCodec} with ${this._audioMeta.channelCount} channels, repeat last frame`),Gr=$n),Er=[];for(let br=0;br<Sa;br++){Un+=Fi||0;const ea=Math.floor(Un),Fa=Math.floor(Un+(Fi||0))-ea,ka={dts:ea,pts:ea,cts:0,unit:Gr,size:Gr.byteLength,duration:Fa,originalDts:Tr,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Er.push(ka),qt+=ka.size}this._audioNextDts=Un+(Fi||0)}else jn=Math.floor(Un),Qn=Math.floor(Un+(Fi||0))-jn,this._audioNextDts=Un+(Fi||0)}else jn=Tr-Me,xn!==Zt.length-1?Qn=Zt[xn+1].dts-this._dtsBase-Me-jn:vi!=null?Qn=vi.dts-this._dtsBase-Me-jn:Qn=En.length>=1?(Ne=En[En.length-1])===null||Ne===void 0?void 0:Ne.duration:Math.floor(Fi||0),this._audioNextDts=jn+Qn;dt===-1&&(dt=jn),En.push({dts:jn,pts:jn,cts:0,unit:tr.unit,size:(Ye=tr.unit)===null||Ye===void 0?void 0:Ye.byteLength,duration:Qn,originalDts:Tr,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),wr&&En.push.apply(En,Er)}}if(En.length===0)return ni.samples=[],void(ni.length=0);di?Ht=new Uint8Array(qt):(Ht=new Uint8Array(qt),Ht[0]=qt>>>24&255,Ht[1]=qt>>>16&255,Ht[2]=qt>>>8&255,Ht[3]=255&qt,Ht.set(Ii.types.mdat,4));for(let xn=0;xn<En.length;xn++){const tr=En[xn].unit;Ht.set(tr,Si),Si+=tr.byteLength||0}const an=En[En.length-1];ai=an.dts+an.duration;const cn=new Zi.Yy;cn.beginDts=dt,cn.endDts=ai,cn.beginPts=dt,cn.endPts=ai,cn.originalBeginDts=En[0].originalDts,cn.originalEndDts=an.originalDts+an.duration,cn.firstSample=new Zi.Wk(En[0].dts,En[0].pts,En[0].duration,En[0].originalDts,!1),cn.lastSample=new Zi.Wk(an.dts,an.pts,an.duration,an.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(cn),ni.samples=En,ni.sequenceNumber++;let Rn=null;Rn=di?new Uint8Array:Ii.moof(ni,dt),ni.samples=[],ni.length=0;const fn={type:"audio",data:this._mergeBoxes(Rn,Ht).buffer,sampleCount:En.length,info:cn};di&&gi&&fn&&(fn.timestampOffset=dt),(bt=this._onMediaSegment)===null||bt===void 0||bt.call(this,"audio",fn)}_remuxVideo(V,w){var N,T;if(this._videoMeta==null)return;const we=V,Se=we.samples;let Ne,Ye=-1,bt=-1,ni=-1,Zt=-1;if(!Se||Se.length===0||Se.length===1&&!w)return;let Me=8,dt=null,ai=8+V.length,Fi=null;if(Se.length>1&&(Fi=Se.pop(),ai-=Fi.length),this._videoStashedLastSample!=null){const qt=this._videoStashedLastSample;this._videoStashedLastSample=null,Se.unshift(qt),ai+=(qt==null?void 0:qt.length)||0}Fi!=null&&(this._videoStashedLastSample=Fi);const di=Se[0].dts-this._dtsBase;if(this._videoNextDts)Ne=di-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())Ne=0;else{const qt=this._videoSegmentInfoList.getLastSampleBefore(di);if(qt!=null){let vi=di-(qt.originalDts+qt.duration);vi<=3&&(vi=0),Ne=di-(qt.dts+qt.duration+vi)}else Ne=0}const gi=new Zi.Yy,Ki=[];for(let qt=0;qt<Se.length;qt++){const vi=Se[qt],rn=vi.dts-this._dtsBase,En=vi.isKeyframe,an=rn-Ne,cn=vi.cts,Rn=an+cn;Ye===-1&&(Ye=an,ni=Rn);let fn=0;if(qt!==Se.length-1?fn=Se[qt+1].dts-this._dtsBase-Ne-an:Fi!=null?fn=Fi.dts-this._dtsBase-Ne-an:fn=Ki.length>=1?Ki[Ki.length-1].duration:Math.floor(((N=this._videoMeta)===null||N===void 0?void 0:N.refSampleDuration)||0),En){const xn=new Zi.Wk(an,Rn,fn,vi.dts,!0);xn.fileposition=vi.fileposition,gi.appendSyncPoint(xn)}Ki.push({dts:an,pts:Rn,cts:cn,units:vi.units,size:vi.length,isKeyframe:En,duration:fn,originalDts:rn,flags:{isLeading:0,dependsOn:En?2:1,isDependedOn:En?1:0,hasRedundancy:0,isNonSync:En?0:1}})}dt=new Uint8Array(ai),dt[0]=ai>>>24&255,dt[1]=ai>>>16&255,dt[2]=ai>>>8&255,dt[3]=255&ai,dt.set(Ii.types.mdat,4);for(let qt=0;qt<Ki.length;qt++){const vi=Ki[qt].units;for(;vi!=null&&vi.length;){const rn=vi.shift(),En=rn==null?void 0:rn.data;dt.set(En,Me),Me+=En.byteLength}}const Si=Ki[Ki.length-1];if(bt=Si.dts+Si.duration,Zt=Si.pts+Si.duration,this._videoNextDts=bt,gi.beginDts=Ye,gi.endDts=bt,gi.beginPts=ni,gi.endPts=Zt,gi.originalBeginDts=Ki[0].originalDts,gi.originalEndDts=Si.originalDts+Si.duration,gi.firstSample=new Zi.Wk(Ki[0].dts,Ki[0].pts,Ki[0].duration,Ki[0].originalDts,!!Ki[0].isKeyframe),gi.lastSample=new Zi.Wk(Si.dts,Si.pts,Si.duration,Si.originalDts,!!Si.isKeyframe),this._isLive||this._videoSegmentInfoList.append(gi),we.samples=Ki,we.sequenceNumber++,this._forceFirstIDR){const qt=Ki[0].flags;qt.dependsOn=2,qt.isNonSync=0}const Ht=Ii.moof(we,Ye);we.samples=[],we.length=0,(T=this._onMediaSegment)===null||T===void 0||T.call(this,"video",{type:"video",data:this._mergeBoxes(Ht,dt).buffer,sampleCount:Ki.length,info:gi})}_mergeBoxes(V,w){const N=new Uint8Array(V.byteLength+w.byteLength);return N.set(V,0),N.set(w,V.byteLength),N}};var sn=u(575),ci=u(473);const Ut=class{constructor(V,w){var N;this.TAG="TransmuxingController",this._emitter=new k.EventEmitter,this._config=w,V.segments||(V.segments=[{duration:V.duration,filesize:V.filesize,url:V.url}]),typeof V.cors!="boolean"&&(V.cors=!0),typeof V.withCredentials!="boolean"&&(V.withCredentials=!1),this._mediaDataSource=V,this._currentSegmentIndex=0;let T=0;(N=this._mediaDataSource.segments)===null||N===void 0||N.forEach(we=>{we.timestampBase=T,T+=we.duration,we.cors=V.cors,we.withCredentials=V.withCredentials,w.referrerPolicy&&(we.referrerPolicy=w.referrerPolicy)}),isNaN(T)||this._mediaDataSource.duration===T||(this._mediaDataSource.duration=T),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}destroy(){var V,w,N;this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&((V=this._ioctl)===null||V===void 0||V.destroy(),this._ioctl=null),this._demuxer&&((w=this._demuxer)===null||w===void 0||w.destroy(),this._demuxer=null),this._remuxer&&((N=this._remuxer)===null||N===void 0||N.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}on(V,w){this._emitter.addListener(V,w)}off(V,w){this._emitter.removeListener(V,w)}start(){this._loadSegment(0),this._enableStatisticsReporter()}_loadSegment(V,w){var N,T,we;if(this._currentSegmentIndex=V,(N=this._mediaDataSource)===null||N===void 0?void 0:N.segments){const Se=(T=this._mediaDataSource)===null||T===void 0?void 0:T.segments[V],Ne=this._ioctl=new sn.Z(Se,this._config,V);Ne.onError=this._onIOException.bind(this),Ne.onSeeked=this._onIOSeeked.bind(this),Ne.onComplete=this._onIOComplete.bind(this),Ne.onRedirect=this._onIORedirect.bind(this),Ne.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),w?(we=this._demuxer)===null||we===void 0||we.bindDataSource(this._ioctl):Ne.onDataArrival=this._onInitChunkArrival.bind(this),Ne.open(w)}}stop(){this._internalAbort(),this._disableStatisticsReporter()}_internalAbort(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}pause(){var V;!((V=this._ioctl)===null||V===void 0)&&V.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}resume(){var V;!((V=this._ioctl)===null||V===void 0)&&V.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}seek(V){var w,N,T,we,Se,Ne,Ye,bt,ni,Zt,Me,dt,ai,Fi;if(this._mediaInfo==null||!(!((w=this._mediaInfo)===null||w===void 0)&&w.isSeekable()))return;const di=this._searchSegmentIndexContains(V);if(di===this._currentSegmentIndex){const gi=!((N=this._mediaInfo)===null||N===void 0)&&N.segments?(T=this._mediaInfo)===null||T===void 0?void 0:T.segments[di]:{};if(gi===void 0)this._pendingSeekTime=V;else{const Ki=gi==null?void 0:gi.getNearestKeyframe(V);(we=this._remuxer)===null||we===void 0||we.seek(Ki==null?void 0:Ki.milliseconds),(Se=this._ioctl)===null||Se===void 0||Se.seek(Ki==null?void 0:Ki.fileposition),this._pendingResolveSeekPoint=Ki==null?void 0:Ki.milliseconds}}else{const gi=!((Ne=this._mediaInfo)===null||Ne===void 0)&&Ne.segments?(Ye=this._mediaInfo)===null||Ye===void 0?void 0:Ye.segments[di]:{};if(gi===void 0)this._pendingSeekTime=V,this._internalAbort(),(bt=this._remuxer)===null||bt===void 0||bt.seek(),(ni=this._remuxer)===null||ni===void 0||ni.insertDiscontinuity(),this._loadSegment(di);else{const Ki=gi.getNearestKeyframe(V);this._internalAbort(),(Zt=this._remuxer)===null||Zt===void 0||Zt.seek(V),(Me=this._remuxer)===null||Me===void 0||Me.insertDiscontinuity(),this._demuxer&&((dt=this._demuxer)===null||dt===void 0||dt.resetMediaInfo(),this._demuxer.timestampBase=!((ai=this._mediaDataSource)===null||ai===void 0)&&ai.segments?(Fi=this._mediaDataSource)===null||Fi===void 0?void 0:Fi.segments[di].timestampBase:0),this._loadSegment(di,Ki==null?void 0:Ki.fileposition),this._pendingResolveSeekPoint=Ki==null?void 0:Ki.milliseconds,this._reportSegmentMediaInfo(di)}}this._enableStatisticsReporter()}_searchSegmentIndexContains(V){var w;const N=this._mediaDataSource.segments;let T=((N==null?void 0:N.length)||0)-1;if(((N==null?void 0:N.length)||0)===0)return T;for(let we=0;we<((N==null?void 0:N.length)||0);we++)if(N&&V<(((w=N[we])===null||w===void 0?void 0:w.timestampBase)||0)){T=we-1;break}return T}_onInitChunkArrival(V,w){var N,T,we,Se,Ne;let Ye=0;if(w>0)(N=this._demuxer)===null||N===void 0||N.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments?(T=this._mediaDataSource.segments[this._currentSegmentIndex])===null||T===void 0?void 0:T.timestampBase:0,Ye=((we=this._demuxer)===null||we===void 0?void 0:we.parseChunks(V,w))||0;else{let bt=null;bt=Ve.probe(V),bt.match&&(this._setupFLVDemuxerRemuxer(bt),Ye=((Se=this._demuxer)===null||Se===void 0?void 0:Se.parseChunks(V,w))||0),bt.match||bt!=null&&bt.needMoreData||(bt=wt.probe(V),bt.match&&(this._setupTSDemuxerRemuxer(bt),Ye=((Ne=this._demuxer)===null||Ne===void 0?void 0:Ne.parseChunks(V,w))||0)),bt.match||bt!=null&&bt.needMoreData||(bt=null,P.Z.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then(()=>{this._internalAbort()}),this._emitter.emit(ci.Z.DEMUX_ERROR,m.Z.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"))}return Ye}_setupFLVDemuxerRemuxer(V){var w;this._demuxer=new Ve(V,this._config),this._remuxer||(this._remuxer=new pi(this._config));const N=this._mediaDataSource;N.duration===void 0||isNaN(N.duration)||(this._demuxer.overridedDuration=N.duration),typeof N.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=N.hasAudio),typeof N.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=N.hasVideo),N.segments&&this._demuxer&&this._remuxer&&(this._demuxer.timestampBase=(w=N==null?void 0:N.segments[this._currentSegmentIndex])===null||w===void 0?void 0:w.timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this))}_setupTSDemuxerRemuxer(V){const w=this._demuxer=new wt(V,this._config);this._remuxer||(this._remuxer=new pi(this._config)),w.onError=this._onDemuxException.bind(this),w.onMediaInfo=this._onMediaInfo.bind(this),w.onMetaDataArrived=this._onMetaDataArrived.bind(this),w.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),w.onSMPTE2038Metadata=this._onSMPTE2038Metadata.bind(this),w.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),w.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),w.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)}_onMediaInfo(V){var w,N;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},V),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=((N=(w=this._mediaDataSource)===null||w===void 0?void 0:w.segments)===null||N===void 0?void 0:N.length)||0,Object.setPrototypeOf(this._mediaInfo,R.Z.prototype));const T=Object.assign({},V);Object.setPrototypeOf(T,R.Z.prototype),this._mediaInfo.segments&&(this._mediaInfo.segments[this._currentSegmentIndex]=T),this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(()=>{const we=this._pendingSeekTime;this._pendingSeekTime=null,this.seek(we)})}_onMetaDataArrived(V){this._emitter.emit(ci.Z.METADATA_ARRIVED,V)}_onScriptDataArrived(V){this._emitter.emit(ci.Z.SCRIPTDATA_ARRIVED,V)}_onTimedID3Metadata(V){var w;const N=(w=this._remuxer)===null||w===void 0?void 0:w.getTimestampBase();N!==void 0&&(V.pts!==void 0&&(V.pts-=N),V.dts!==void 0&&(V.dts-=N),this._emitter.emit(ci.Z.TIMED_ID3_METADATA_ARRIVED,V))}_onSMPTE2038Metadata(V){var w;const N=(w=this._remuxer)===null||w===void 0?void 0:w.getTimestampBase();N!==void 0&&(V.pts!==void 0&&(V.pts-=N),V.dts!==void 0&&(V.dts-=N),V.nearest_pts!==void 0&&(V.nearest_pts-=N),this._emitter.emit(ci.Z.SMPTE2038_METADATA_ARRIVED,V))}_onSCTE35Metadata(V){var w;const N=(w=this._remuxer)===null||w===void 0?void 0:w.getTimestampBase();N!==void 0&&(V.pts!==void 0&&(V.pts-=N),V.nearest_pts!==void 0&&(V.nearest_pts-=N),this._emitter.emit(ci.Z.SCTE35_METADATA_ARRIVED,V))}_onPESPrivateDataDescriptor(V){this._emitter.emit(ci.Z.PES_PRIVATE_DATA_DESCRIPTOR,V)}_onPESPrivateData(V){var w;const N=(w=this._remuxer)===null||w===void 0?void 0:w.getTimestampBase();N!==void 0&&(V.pts!==void 0&&(V.pts-=N),V.nearest_pts!==void 0&&(V.nearest_pts-=N),V.dts!==void 0&&(V.dts-=N),this._emitter.emit(ci.Z.PES_PRIVATE_DATA_ARRIVED,V))}_onIOSeeked(){var V;(V=this._remuxer)===null||V===void 0||V.insertDiscontinuity()}_onIOComplete(V){var w,N;const T=V+1;T<(((N=(w=this._mediaDataSource)===null||w===void 0?void 0:w.segments)===null||N===void 0?void 0:N.length)||0)?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(T)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(ci.Z.LOADING_COMPLETE),this._disableStatisticsReporter())}_onIORedirect(V){var w;const N=(w=this._ioctl)===null||w===void 0?void 0:w.extraData;this._mediaDataSource.segments&&(this._mediaDataSource.segments[N].redirectedURL=V)}_onIORecoveredEarlyEof(){this._emitter.emit(ci.Z.RECOVERED_EARLY_EOF)}_onIOException(V,w){P.Z.e(this.TAG,`IOException: type = ${V}, code = ${w.code}, msg = ${w.msg}`),this._emitter.emit(ci.Z.IO_ERROR,V,w),this._disableStatisticsReporter()}_onDemuxException(V,w){P.Z.e(this.TAG,`DemuxException: type = ${V}, info = ${w}`),this._emitter.emit(ci.Z.DEMUX_ERROR,V,w)}_onRemuxerInitSegmentArrival(V,w){this._emitter.emit(ci.Z.INIT_SEGMENT,V,w)}_onRemuxerMediaSegmentArrival(V,w){if(this._pendingSeekTime==null&&(this._emitter.emit(ci.Z.MEDIA_SEGMENT,V,w),this._pendingResolveSeekPoint!=null&&V==="video")){const N=w.info.syncPoints;let T=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,S.Z.safari&&N.length>0&&N[0].originalDts===T&&(T=N[0].pts),this._emitter.emit(ci.Z.RECOMMEND_SEEKPOINT,T)}}_enableStatisticsReporter(){this._statisticsReporter==null&&this._reportStatisticsInfo&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}_disableStatisticsReporter(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}_reportSegmentMediaInfo(V){var w,N,T,we;const Se=!((w=this._mediaInfo)===null||w===void 0)&&w.segments?(N=this._mediaInfo)===null||N===void 0?void 0:N.segments[V]:{},Ne=Object.assign({},Se);Ne.duration=(T=this._mediaInfo)===null||T===void 0?void 0:T.duration,Ne.segmentCount=(we=this._mediaInfo)===null||we===void 0?void 0:we.segmentCount,delete Ne.segments,delete Ne.keyframesIndex,this._emitter.emit(ci.Z.MEDIA_INFO,Ne)}_reportStatisticsInfo(){var V,w,N,T,we,Se;const Ne={};Ne.url=(V=this._ioctl)===null||V===void 0?void 0:V.currentURL,Ne.hasRedirect=(w=this._ioctl)===null||w===void 0?void 0:w.hasRedirect,Ne.hasRedirect&&(Ne.redirectedURL=(N=this._ioctl)===null||N===void 0?void 0:N.currentRedirectedURL),Ne.speed=(T=this._ioctl)===null||T===void 0?void 0:T.currentSpeed,Ne.loaderType=(we=this._ioctl)===null||we===void 0?void 0:we.loaderType,Ne.currentSegmentIndex=this._currentSegmentIndex,Ne.totalSegmentCount=(Se=this._mediaDataSource.segments)===null||Se===void 0?void 0:Se.length,this._emitter.emit(ci.Z.STATISTICS_INFO,Ne)}}},473:(c,d,u)=>{u.d(d,{Z:()=>k});const k={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SMPTE2038_METADATA_ARRIVED:"smpte2038_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},638:(c,d,u)=>{var k=u(278),P=u(943),S=u(473);let R=null;const b=function(F,Ie){self.postMessage({msg:"logcat_callback",data:{type:F,logcat:Ie}})};function _(F,Ie){const Ve={msg:S.Z.INIT_SEGMENT,data:{type:F,data:Ie}};self.postMessage(Ve,[Ie.data])}function oe(F,Ie){const Ve={msg:S.Z.MEDIA_SEGMENT,data:{type:F,data:Ie}};self.postMessage(Ve,[Ie.data])}function de(){const F={msg:S.Z.LOADING_COMPLETE};self.postMessage(F)}function xe(){const F={msg:S.Z.RECOVERED_EARLY_EOF};self.postMessage(F)}function se(F){const Ie={msg:S.Z.MEDIA_INFO,data:F};self.postMessage(Ie)}function Ae(F){const Ie={msg:S.Z.METADATA_ARRIVED,data:F};self.postMessage(Ie)}function qe(F){const Ie={msg:S.Z.SCRIPTDATA_ARRIVED,data:F};self.postMessage(Ie)}function me(F){const Ie={msg:S.Z.TIMED_ID3_METADATA_ARRIVED,data:F};self.postMessage(Ie)}function m(F){const Ie={msg:S.Z.SMPTE2038_METADATA_ARRIVED,data:F};self.postMessage(Ie)}function U(F){const Ie={msg:S.Z.SCTE35_METADATA_ARRIVED,data:F};self.postMessage(Ie)}function le(F){const Ie={msg:S.Z.PES_PRIVATE_DATA_DESCRIPTOR,data:F};self.postMessage(Ie)}function re(F){const Ie={msg:S.Z.PES_PRIVATE_DATA_ARRIVED,data:F};self.postMessage(Ie)}function Pe(F){const Ie={msg:S.Z.STATISTICS_INFO,data:F};self.postMessage(Ie)}function fe(F,Ie){self.postMessage({msg:S.Z.IO_ERROR,data:{type:F,info:Ie}})}function $e(F,Ie){self.postMessage({msg:S.Z.DEMUX_ERROR,data:{type:F,info:Ie}})}function ot(F){self.postMessage({msg:S.Z.RECOMMEND_SEEKPOINT,data:F})}self.addEventListener("message",function(F){switch(F.data.cmd){case"init":R=new P.Z(F.data.param[0],F.data.param[1]),R.on(S.Z.IO_ERROR,fe),R.on(S.Z.DEMUX_ERROR,$e),R.on(S.Z.INIT_SEGMENT,_),R.on(S.Z.MEDIA_SEGMENT,oe),R.on(S.Z.LOADING_COMPLETE,de),R.on(S.Z.RECOVERED_EARLY_EOF,xe),R.on(S.Z.MEDIA_INFO,se),R.on(S.Z.METADATA_ARRIVED,Ae),R.on(S.Z.SCRIPTDATA_ARRIVED,qe),R.on(S.Z.TIMED_ID3_METADATA_ARRIVED,me),R.on(S.Z.SMPTE2038_METADATA_ARRIVED,m),R.on(S.Z.SCTE35_METADATA_ARRIVED,U),R.on(S.Z.PES_PRIVATE_DATA_DESCRIPTOR,le),R.on(S.Z.PES_PRIVATE_DATA_ARRIVED,re),R.on(S.Z.STATISTICS_INFO,Pe),R.on(S.Z.RECOMMEND_SEEKPOINT,ot);break;case"destroy":R&&(R.destroy(),R=null),self.postMessage({msg:"destroyed"});break;case"start":R==null||R.start();break;case"stop":R==null||R.stop();break;case"seek":R==null||R.seek(F.data.param);break;case"pause":R==null||R.pause();break;case"resume":R==null||R.resume();break;case"logging_config":{const Ie=F.data.param;k.Z.applyConfig(Ie),Ie.enableCallback===!0?k.Z.addLogListener(b):k.Z.removeLogListener(b);break}}})},898:(c,d,u)=>{u.d(d,{Z:()=>k});const k={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},578:(c,d,u)=>{u.d(d,{default:()=>be});var k=u(575);const P={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0,url:void 0,redirectedURL:void 0,cors:!1};function S(){return Object.assign({},P)}class R{static supportMSEH264Playback(){var Q;return(Q=window.MediaSource)===null||Q===void 0?void 0:Q.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}static supportMSEH265Playback(){var Q;return(Q=window.MediaSource)===null||Q===void 0?void 0:Q.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"')}static supportNetworkStreamIO(){const Q=new k.Z({},S()),Ge=Q.loaderType;return Q.destroy(),Ge==="fetch-stream-loader"||Ge==="xhr-moz-chunked-loader"}static getNetworkLoaderTypeName(){const Q=new k.Z({},S()),Ge=Q.loaderType;return Q.destroy(),Ge}static supportNativeMediaPlayback(Q){R.videoElement===void 0&&(R.videoElement=window.document.createElement("video"));const Ge=R.videoElement.canPlayType(Q);return Ge==="probably"||Ge==="maybe"}static getFeatureList(){const Q={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return Q.msePlayback=R.supportMSEH264Playback(),Q.networkStreamIO=R.supportNetworkStreamIO(),Q.networkLoaderName=R.getNetworkLoaderTypeName()||"",Q.mseLivePlayback=Q.msePlayback&&Q.networkStreamIO,Q.mseH265Playback=R.supportMSEH265Playback(),Q.nativeMP4H264Playback=R.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),Q.nativeMP4H265Playback=R.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),Q.nativeWebmVP8Playback=R.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),Q.nativeWebmVP9Playback=R.supportNativeMediaPlayback('video/webm; codecs="vp9"'),Q}}const b=R;var _=u(108),oe=u(99),de=u(645),xe=u(479);const se={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SMPTE2038_METADATA_ARRIVED:"smpte2038_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info"},Ae=function(){const E=ENTRY_MODULE,Q={};function Ge(_e){if(Q[_e])return Q[_e].exports;const M=Q[_e]={exports:{}};return E[_e](M,M.exports,Ge),M.exports}Ge.m=E,Ge.n=_e=>{const M=_e&&_e.__esModule?()=>_e.default:()=>_e;return Ge.d(M,{a:M}),M},Ge.d=(_e,M)=>{for(const z in M)Ge.o(M,z)&&!Ge.o(_e,z)&&Object.defineProperty(_e,z,{enumerable:!0,get:M[z]})},Ge.g=function(){if(Object.prototype.toString.call(globalThis)==="[object Object]")return globalThis;try{return this||new Function("return this")()}catch{if(Object.prototype.toString.call(window)==="[object Object]")return window}}(),Ge.o=(_e,M)=>Object.prototype.hasOwnProperty.call(_e,M),Ge.r=_e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_e,"__esModule",{value:!0})};const H=Ge(ENTRY_MODULE);return H.default||H};Ae.toString();const qe="[\\.|\\-|\\+|\\w|/|@]+",me="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+qe+").*?\\)";function m(E){return(E+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function U(E,Q,Ge){const H={};H[Ge]=[];const _e=Q.toString(),M=_e.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||_e.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!M)return H;const z=M[1];let ce,ie=new RegExp("(\\\\n|\\W)"+m(z)+me,"g");for(;ce=ie.exec(_e);)ce[3]!=="dll-reference"&&H[Ge].push(ce[3]);for(ie=new RegExp("\\("+m(z)+'\\("(dll-reference\\s('+qe+'))"\\)\\)'+me,"g");ce=ie.exec(_e);)E[ce[2]]||(H[Ge].push(ce[1]),E[ce[2]]=u(ce[1]).m),H[ce[2]]=H[ce[2]]||[],H[ce[2]].push(ce[4]);const Oe=Object.keys(H);for(let st=0;st<Oe.length;st++)for(let D=0;D<H[Oe[st]].length;D++)Qe=H[Oe[st]][D],isNaN(1*Qe)||(H[Oe[st]][D]=1*H[Oe[st]][D]);var Qe;return H}function le(E){return Object.keys(E).reduce((Q,Ge)=>Q||E[Ge].length>0,!1)}function re(E,Q,Ge,H){const _e=E[H].map(z=>`"${z}": ${Q[H][z].toString()}`).join(","),M=Ae.toString().split("ENTRY_MODULE");return`${M[0]}{${_e}}${M[1]}"${Ge}"${M[2]}`}function Pe(E,Q){Q=Q||{};const Ge={main:u.m},H=Q.all?{main:Object.keys(Ge.main)}:function(ie,Oe){const Qe={main:[Oe]},st={main:[]},D={main:{}};for(;le(Qe);){const Xe=Object.keys(Qe);for(let X=0;X<Xe.length;X++){const Ce=Xe[X],ve=Qe[Ce].pop();if(D[Ce]=D[Ce]||{},D[Ce][ve]||!ie[Ce][ve])continue;D[Ce][ve]=!0,st[Ce]=st[Ce]||[],st[Ce].push(ve);const Le=U(ie,ie[Ce][ve],Ce),pe=Object.keys(Le);for(let ee=0;ee<pe.length;ee++)Qe[pe[ee]]=Qe[pe[ee]]||[],Qe[pe[ee]]=Qe[pe[ee]].concat(Le[pe[ee]])}}return st}(Ge,E);let _e="";Object.keys(H).filter(ie=>ie!=="main").forEach(ie=>{let Oe=0;for(;H[ie][Oe];)Oe++;H[ie].push(Oe),Ge[ie][Oe]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",_e+=`var ${ie} = (${re(H,Ge,Oe,modules)})();
`}),_e+=`(${re(H,Ge,E,"main")})();`;const M=new window.Blob([_e],{type:"text/javascript"});if(Q.bare)return M;const z=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(M),ce=new window.Worker(z);return ce.objectURL=z,ce}var fe=u(278),$e=u(943),ot=u(473),F=u(994);const Ie=class{constructor(E,Q){if(this.TAG="Transmuxer",this._workerDestroying=!1,this._controller=null,this._emitter=new oe.EventEmitter,Q.enableWorker&&typeof Worker<"u")try{this._worker=this._worker=Pe(638),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[E,Q]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},fe.Z.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:fe.Z.getConfig()})}catch{de.Z.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new $e.Z(E,Q)}else this._controller=new $e.Z(E,Q);if(this._controller){const Ge=this._controller;Ge==null||Ge.on(ot.Z.IO_ERROR,this._onIOError.bind(this)),Ge==null||Ge.on(ot.Z.DEMUX_ERROR,this._onDemuxError.bind(this)),Ge==null||Ge.on(ot.Z.INIT_SEGMENT,this._onInitSegment.bind(this)),Ge==null||Ge.on(ot.Z.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),Ge==null||Ge.on(ot.Z.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),Ge==null||Ge.on(ot.Z.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),Ge==null||Ge.on(ot.Z.MEDIA_INFO,this._onMediaInfo.bind(this)),Ge==null||Ge.on(ot.Z.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),Ge==null||Ge.on(ot.Z.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),Ge==null||Ge.on(ot.Z.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),Ge==null||Ge.on(ot.Z.SMPTE2038_METADATA_ARRIVED,this._onSMPTE2038MetadataArrived.bind(this)),Ge==null||Ge.on(ot.Z.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),Ge==null||Ge.on(ot.Z.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),Ge==null||Ge.on(ot.Z.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),Ge==null||Ge.on(ot.Z.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),Ge==null||Ge.on(ot.Z.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}destroy(){var E;this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),fe.Z.removeListener(this.e.onLoggingConfigChanged),this.e=null):((E=this._controller)===null||E===void 0||E.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}on(E,Q){this._emitter.addListener(E,Q)}off(E,Q){this._emitter.removeListener(E,Q)}hasWorker(){return this._worker!=null}open(){var E;this._worker?this._worker.postMessage({cmd:"start"}):(E=this._controller)===null||E===void 0||E.start()}close(){var E;this._worker?this._worker.postMessage({cmd:"stop"}):(E=this._controller)===null||E===void 0||E.stop()}seek(E){var Q;this._worker?this._worker.postMessage({cmd:"seek",param:E}):(Q=this._controller)===null||Q===void 0||Q.seek(E)}pause(){var E;this._worker?this._worker.postMessage({cmd:"pause"}):(E=this._controller)===null||E===void 0||E.pause()}resume(){var E;this._worker?this._worker.postMessage({cmd:"resume"}):(E=this._controller)===null||E===void 0||E.resume()}_onInitSegment(E,Q){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.INIT_SEGMENT,E,Q)})}_onMediaSegment(E,Q){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.MEDIA_SEGMENT,E,Q)})}_onLoadingComplete(){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.LOADING_COMPLETE)})}_onRecoveredEarlyEof(){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.RECOVERED_EARLY_EOF)})}_onMediaInfo(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.MEDIA_INFO,E)})}_onMetaDataArrived(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.METADATA_ARRIVED,E)})}_onScriptDataArrived(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.SCRIPTDATA_ARRIVED,E)})}_onTimedID3MetadataArrived(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.TIMED_ID3_METADATA_ARRIVED,E)})}_onSMPTE2038MetadataArrived(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.SMPTE2038_METADATA_ARRIVED,E)})}_onSCTE35MetadataArrived(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.SCTE35_METADATA_ARRIVED,E)})}_onPESPrivateDataDescriptor(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.PES_PRIVATE_DATA_DESCRIPTOR,E)})}_onPESPrivateDataArrived(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.PES_PRIVATE_DATA_ARRIVED,E)})}_onStatisticsInfo(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.STATISTICS_INFO,E)})}_onIOError(E,Q){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.IO_ERROR,E,Q)})}_onDemuxError(E,Q){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.DEMUX_ERROR,E,Q)})}_onRecommendSeekpoint(E){Promise.resolve().then(()=>{this._emitter.emit(ot.Z.RECOMMEND_SEEKPOINT,E)})}_onLoggingConfigChanged(E){this._worker&&this._worker.postMessage({cmd:"logging_config",param:E})}_onWorkerMessage(E){const Q=E.data,Ge=Q==null?void 0:Q.data;if(Q.msg==="destroyed"||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(Q.msg){case ot.Z.INIT_SEGMENT:case ot.Z.MEDIA_SEGMENT:this._emitter.emit(Q.msg,Ge.type,Ge.data);break;case ot.Z.LOADING_COMPLETE:case ot.Z.RECOVERED_EARLY_EOF:this._emitter.emit(Q.msg);break;case ot.Z.MEDIA_INFO:Object.setPrototypeOf(Ge,F.Z.prototype),this._emitter.emit(Q.msg,Ge);break;case ot.Z.METADATA_ARRIVED:case ot.Z.SCRIPTDATA_ARRIVED:case ot.Z.TIMED_ID3_METADATA_ARRIVED:case ot.Z.SMPTE2038_METADATA_ARRIVED:case ot.Z.SCTE35_METADATA_ARRIVED:case ot.Z.PES_PRIVATE_DATA_DESCRIPTOR:case ot.Z.PES_PRIVATE_DATA_ARRIVED:case ot.Z.STATISTICS_INFO:this._emitter.emit(Q.msg,Ge);break;case ot.Z.IO_ERROR:case ot.Z.DEMUX_ERROR:this._emitter.emit(Q.msg,Ge.type,Ge.info);break;case ot.Z.RECOMMEND_SEEKPOINT:this._emitter.emit(Q.msg,Ge);break;case"logcat_callback":de.Z.emitter.emit("log",Ge.type,Ge.logcat)}}},Ve={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};var yi=u(68),Hi=u(411);const Pi=class{constructor(E){this.TAG="MSEController",this._config=E,this._emitter=new oe.EventEmitter,this._config.isLive&&this._config.autoCleanupSourceBuffer===void 0&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new yi.Vn}destroy(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}on(E,Q){this._emitter.addListener(E,Q)}off(E,Q){this._emitter.removeListener(E,Q)}attachMediaElement(E){if(this._mediaSource)throw new Hi.rT("MediaSource has been attached to an HTMLMediaElement!");const Q=this._mediaSource=new window.MediaSource;Q.addEventListener("sourceopen",this.e.onSourceOpen),Q.addEventListener("sourceended",this.e.onSourceEnded),Q.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=E,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),E.src=this._mediaSourceObjectURL}detachMediaElement(){if(this._mediaSource){const E=this._mediaSource;for(const Q in this._sourceBuffers){const Ge=this._pendingSegments[Q];Ge.splice(0,Ge.length),this._pendingSegments[Q]=null,this._pendingRemoveRanges[Q]=null,this._lastInitSegments[Q]=null;const H=this._sourceBuffers[Q];if(H){if(E.readyState!=="closed"){try{E.removeSourceBuffer(H)}catch(_e){de.Z.e(this.TAG,_e.message)}H==null||H.removeEventListener("error",this.e.onSourceBufferError),H==null||H.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[Q]=null,this._sourceBuffers[Q]=null}}if(E.readyState==="open")try{E.endOfStream()}catch(Q){de.Z.e(this.TAG,Q.message)}E.removeEventListener("sourceopen",this.e.onSourceOpen),E.removeEventListener("sourceended",this.e.onSourceEnded),E.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}appendInitSegment(E,Q){var Ge;if(!this._mediaSource||this._mediaSource.readyState!=="open")return this._pendingSourceBufferInit.push(E),void this._pendingSegments[E.type].push(E);const H=E;let _e=`${H.container}`;H.codec&&H.codec.length>0&&(_e+=`;codecs=${H.codec}`);let M=!1;if(de.Z.v(this.TAG,"Received Initialization Segment, mimeType: "+_e),this._lastInitSegments[H.type]=H,_e!==this._mimeTypes[H.type]){if(this._mimeTypes[H.type])de.Z.v(this.TAG,`Notice: ${H.type} mimeType changed, origin: ${this._mimeTypes[H.type]||""}, target: ${_e}`);else{M=!0;try{const z=this._sourceBuffers[H.type]=this._mediaSource.addSourceBuffer(_e);z.addEventListener("error",this.e.onSourceBufferError),z.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(z){return de.Z.e(this.TAG,z.message),void this._emitter.emit(Ve.ERROR,{code:z.code,msg:z.message})}}this._mimeTypes[H.type]=_e}Q||this._pendingSegments[H.type].push(H),M||this._sourceBuffers[H.type]&&!(!((Ge=this._sourceBuffers[H.type])===null||Ge===void 0)&&Ge.updating)&&this._doAppendSegments(),xe.Z.safari&&H.container==="audio/mpeg"&&H.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=H.mediaDuration/1e3,this._updateMediaSourceDuration())}appendMediaSegment(E){const Q=E;this._pendingSegments[Q.type].push(Q),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();const Ge=this._sourceBuffers[Q.type];!Ge||Ge.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}seek(E){var Q,Ge;for(const H in this._sourceBuffers){if(!this._sourceBuffers[H])continue;const _e=this._sourceBuffers[H];if(((Q=this._mediaSource)===null||Q===void 0?void 0:Q.readyState)==="open")try{_e==null||_e.abort()}catch(z){de.Z.e(this.TAG,z.message)}this._idrList.clear();const M=this._pendingSegments[H];if(M.splice(0,M.length),((Ge=this._mediaSource)===null||Ge===void 0?void 0:Ge.readyState)!=="closed"){if(_e){for(let z=0;z<_e.buffered.length;z++){const ce=_e.buffered.start(z),ie=_e.buffered.end(z);this._pendingRemoveRanges[H].push({start:ce,end:ie})}_e!=null&&_e.updating||this._doRemoveRanges()}if(xe.Z.safari){const z=this._lastInitSegments[H];z&&(this._pendingSegments[H].push(z),_e!=null&&_e.updating||this._doAppendSegments())}}}}endOfStream(){var E,Q;const Ge=this._mediaSource,H=this._sourceBuffers;Ge&&Ge.readyState==="open"?!((E=H.video)===null||E===void 0)&&E.updating||!((Q=H.audio)===null||Q===void 0)&&Q.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,Ge.endOfStream()):Ge&&Ge.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}getNearestKeyframe(E){return this._idrList.getLastSyncPointBeforeDts(E)}_needCleanupSourceBuffer(){var E,Q;if(!this._config.autoCleanupSourceBuffer)return!1;const Ge=(E=this._mediaElement)===null||E===void 0?void 0:E.currentTime;for(const H in this._sourceBuffers){const _e=this._sourceBuffers[H];if(_e){const M=_e.buffered;if(M.length>=1&&Ge-M.start(0)>=(((Q=this._config)===null||Q===void 0?void 0:Q.autoCleanupMaxBackwardDuration)||0))return!0}}return!1}_doCleanupSourceBuffer(){var E,Q,Ge;const H=(E=this._mediaElement)===null||E===void 0?void 0:E.currentTime;for(const _e in this._sourceBuffers){const M=this._sourceBuffers[_e];if(M){const z=M.buffered;let ce=!1;for(let ie=0;ie<z.length;ie++){const Oe=z.start(ie),Qe=z.end(ie);if(Oe<=H&&H<Qe+3){if(H-Oe>=(((Q=this._config)===null||Q===void 0?void 0:Q.autoCleanupMaxBackwardDuration)||0)){ce=!0;const st=H-(((Ge=this._config)===null||Ge===void 0?void 0:Ge.autoCleanupMinBackwardDuration)||0);this._pendingRemoveRanges[_e].push({start:Oe,end:st})}}else Qe<H&&(ce=!0,this._pendingRemoveRanges[_e].push({start:Oe,end:Qe}))}ce&&!M.updating&&this._doRemoveRanges()}}}_updateMediaSourceDuration(){var E,Q,Ge,H;const _e=this._sourceBuffers;if(((E=this._mediaElement)===null||E===void 0?void 0:E.readyState)===0||((Q=this._mediaSource)===null||Q===void 0?void 0:Q.readyState)!=="open"||!((Ge=_e.video)===null||Ge===void 0)&&Ge.updating||!((H=_e.audio)===null||H===void 0)&&H.updating)return;const M=this._mediaSource.duration,z=this._pendingMediaDuration;z>0&&(isNaN(M)||z>M)&&(de.Z.v(this.TAG,`Update MediaSource duration from ${M} to ${z}`),this._mediaSource.duration=z),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}_doRemoveRanges(){var E;for(const Q in this._pendingRemoveRanges){if(!this._sourceBuffers[Q]||!((E=this._sourceBuffers[Q])===null||E===void 0)&&E.updating)continue;const Ge=this._sourceBuffers[Q],H=this._pendingRemoveRanges[Q];for(;H.length&&!(Ge!=null&&Ge.updating);){const _e=H.shift();Ge==null||Ge.remove(_e.start,_e.end)}}}_doAppendSegments(){var E,Q,Ge;const H=this._pendingSegments;for(const _e in H)if(this._sourceBuffers[_e]&&!(!((E=this._sourceBuffers[_e])===null||E===void 0)&&E.updating)&&H[_e].length>0){const M=H[_e].shift();if(M!=null&&M.timestampOffset){const z=((Q=this._sourceBuffers[_e])===null||Q===void 0?void 0:Q.timestampOffset)||0,ce=M.timestampOffset/1e3;Math.abs(z-ce)>.1&&(de.Z.v(this.TAG,`Update MPEG audio timestampOffset from ${z} to ${ce}`),this._sourceBuffers[_e]&&(this._sourceBuffers[_e].timestampOffset=ce)),delete M.timestampOffset}if(!M.data||M.data.byteLength===0)continue;try{(Ge=this._sourceBuffers[_e])===null||Ge===void 0||Ge.appendBuffer(M.data),this._isBufferFull=!1,_e==="video"&&M.hasOwnProperty("info")&&this._idrList.appendArray(M.info.syncPoints)}catch(z){this._pendingSegments[_e].unshift(M),z.code===22?(this._isBufferFull||this._emitter.emit(Ve.BUFFER_FULL),this._isBufferFull=!0):(de.Z.e(this.TAG,z.message),this._emitter.emit(Ve.ERROR,{code:z.code,msg:z.message}))}}}_onSourceOpen(){var E;if(de.Z.v(this.TAG,"MediaSource onSourceOpen"),(E=this._mediaSource)===null||E===void 0||E.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0){const Q=this._pendingSourceBufferInit;for(;Q.length;){const Ge=Q.shift();this.appendInitSegment(Ge,!0)}}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(Ve.SOURCE_OPEN)}_onSourceEnded(){de.Z.v(this.TAG,"MediaSource onSourceEnded")}_onSourceClose(){de.Z.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}_hasPendingSegments(){const E=this._pendingSegments;return E.video.length>0||E.audio.length>0}_hasPendingRemoveRanges(){const E=this._pendingRemoveRanges;return E.video.length>0||E.audio.length>0}_onSourceBufferUpdateEnd(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(Ve.UPDATE_END)}_onSourceBufferError(E){de.Z.e(this.TAG,`SourceBuffer Error: ${E}`)}};var Ci=u(898);const Qi={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},at={NETWORK_EXCEPTION:_.nm.EXCEPTION,NETWORK_STATUS_CODE_INVALID:_.nm.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:_.nm.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:_.nm.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:Ci.Z.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:Ci.Z.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:Ci.Z.CODEC_UNSUPPORTED};var pt=function(E,Q,Ge,H){return new(Ge||(Ge=Promise))(function(_e,M){function z(Oe){try{ie(H.next(Oe))}catch(Qe){M(Qe)}}function ce(Oe){try{ie(H.throw(Oe))}catch(Qe){M(Qe)}}function ie(Oe){var Qe;Oe.done?_e(Oe.value):(Qe=Oe.value,Qe instanceof Ge?Qe:new Ge(function(st){st(Qe)})).then(z,ce)}ie((H=H.apply(E,Q||[])).next())})};const rt=class{constructor(E,Q){var Ge,H,_e;this.TAG="MSEPlayer",this._type="MSEPlayer",this._emitter=new oe.EventEmitter,this._config=S(),typeof Q=="object"&&Object.assign(this._config,Q);const M=E.type.toLowerCase();if(M!=="mse"&&M!=="mpegts"&&M!=="m2ts"&&M!=="flv")throw new Hi.OC("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");E.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=E,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;const z=xe.Z.chrome&&(xe.Z.version&&((Ge=xe.Z.version)===null||Ge===void 0?void 0:Ge.major)<50||xe.Z.version&&((H=xe.Z===null||xe.Z===void 0?void 0:xe.Z.version)===null||H===void 0?void 0:H.major)===50&&(((_e=xe.Z===null||xe.Z===void 0?void 0:xe.Z.version)===null||_e===void 0?void 0:_e.build)||-1)<2661);this._alwaysSeekKeyframe=!!(z||xe.Z.msedge||xe.Z.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}destroy(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(E,Q){E===se.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(()=>{this._emitter.emit(se.MEDIA_INFO,this.mediaInfo)}):E===se.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(()=>{this._emitter.emit(se.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(E,Q)}off(E,Q){this._emitter.removeListener(E,Q)}attachMediaElement(E){var Q,Ge,H,_e,M;if(this._mediaElement=E,E.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),E.addEventListener("seeking",this.e.onvSeeking),E.addEventListener("canplay",this.e.onvCanPlay),E.addEventListener("stalled",this.e.onvStalled),E.addEventListener("progress",this.e.onvProgress),this._msectl=new Pi(this._config),(Q=this._msectl)===null||Q===void 0||Q.on(Ve.UPDATE_END,this._onmseUpdateEnd.bind(this)),(Ge=this._msectl)===null||Ge===void 0||Ge.on(Ve.BUFFER_FULL,this._onmseBufferFull.bind(this)),(H=this._msectl)===null||H===void 0||H.on(Ve.SOURCE_OPEN,()=>{this._mseSourceOpened=!0,this._hasPendingLoad&&(this._hasPendingLoad=!1,this.load())}),(_e=this._msectl)===null||_e===void 0||_e.on(Ve.ERROR,z=>{this._emitter.emit(se.ERROR,Qi.MEDIA_ERROR,at.MEDIA_MSE_ERROR,z)}),(M=this._msectl)===null||M===void 0||M.attachMediaElement(E),this._pendingSeekTime!=null)try{E.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}}detachMediaElement(){var E;this._mediaElement&&((E=this._msectl)===null||E===void 0||E.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}load(){if(!this._mediaElement)throw new Hi.rT("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new Hi.rT("MSEPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(!this._config.deferLoadAfterSourceOpen||this._mseSourceOpened?(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new Ie(this._mediaDataSource,this._config),this._transmuxer.on(ot.Z.INIT_SEGMENT,(E,Q)=>{var Ge;(Ge=this._msectl)===null||Ge===void 0||Ge.appendInitSegment(Q)}),this._transmuxer.on(ot.Z.MEDIA_SEGMENT,(E,Q)=>{var Ge,H,_e;if((Ge=this._msectl)===null||Ge===void 0||Ge.appendMediaSegment(Q),this._config.lazyLoad&&!this._config.isLive){const M=(H=this._mediaElement)===null||H===void 0?void 0:H.currentTime;Q.info.endDts>=1e3*(M+(((_e=this._config)===null||_e===void 0?void 0:_e.lazyLoadMaxDuration)||0))&&this._progressChecker==null&&(de.Z.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}),this._transmuxer.on(ot.Z.LOADING_COMPLETE,()=>{var E;(E=this._msectl)===null||E===void 0||E.endOfStream(),this._emitter.emit(se.LOADING_COMPLETE)}),this._transmuxer.on(ot.Z.RECOVERED_EARLY_EOF,()=>{this._emitter.emit(se.RECOVERED_EARLY_EOF)}),this._transmuxer.on(ot.Z.IO_ERROR,(E,Q)=>{this._emitter.emit(se.ERROR,Qi.NETWORK_ERROR,E,Q)}),this._transmuxer.on(ot.Z.DEMUX_ERROR,(E,Q)=>{this._emitter.emit(se.ERROR,Qi.MEDIA_ERROR,E,{code:-1,msg:Q})}),this._transmuxer.on(ot.Z.MEDIA_INFO,E=>{this._mediaInfo=E,this._emitter.emit(se.MEDIA_INFO,Object.assign({},E))}),this._transmuxer.on(ot.Z.METADATA_ARRIVED,E=>{this._emitter.emit(se.METADATA_ARRIVED,E)}),this._transmuxer.on(ot.Z.SCRIPTDATA_ARRIVED,E=>{this._emitter.emit(se.SCRIPTDATA_ARRIVED,E)}),this._transmuxer.on(ot.Z.TIMED_ID3_METADATA_ARRIVED,E=>{this._emitter.emit(se.TIMED_ID3_METADATA_ARRIVED,E)}),this._transmuxer.on(ot.Z.SMPTE2038_METADATA_ARRIVED,E=>{this._emitter.emit(se.SMPTE2038_METADATA_ARRIVED,E)}),this._transmuxer.on(ot.Z.SCTE35_METADATA_ARRIVED,E=>{this._emitter.emit(se.SCTE35_METADATA_ARRIVED,E)}),this._transmuxer.on(ot.Z.PES_PRIVATE_DATA_DESCRIPTOR,E=>{this._emitter.emit(se.PES_PRIVATE_DATA_DESCRIPTOR,E)}),this._transmuxer.on(ot.Z.PES_PRIVATE_DATA_ARRIVED,E=>{this._emitter.emit(se.PES_PRIVATE_DATA_ARRIVED,E)}),this._transmuxer.on(ot.Z.STATISTICS_INFO,E=>{this._statisticsInfo=this._fillStatisticsInfo(E),this._emitter.emit(se.STATISTICS_INFO,Object.assign({},this._statisticsInfo))}),this._transmuxer.on(ot.Z.RECOMMEND_SEEKPOINT,E=>{this._mediaElement&&!this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=E/1e3)}),this._transmuxer.open()):this._hasPendingLoad=!0)}unload(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}play(){var E;return pt(this,void 0,void 0,function*(){return yield(E=this._mediaElement)===null||E===void 0?void 0:E.play()})}pause(){var E;(E=this._mediaElement)===null||E===void 0||E.pause()}get type(){return this._type}get buffered(){var E;return(E=this._mediaElement)===null||E===void 0?void 0:E.buffered}get duration(){var E;return(E=this._mediaElement)===null||E===void 0?void 0:E.duration}get volume(){var E;return(E=this._mediaElement)===null||E===void 0?void 0:E.volume}set volume(E){this._mediaElement&&(this._mediaElement.volume=E)}get muted(){var E;return(E=this._mediaElement)===null||E===void 0?void 0:E.muted}set muted(E){this._mediaElement&&(this._mediaElement.muted=E)}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(E){this._mediaElement?this._internalSeek(E):this._pendingSeekTime=E}get mediaInfo(){return Object.assign({},this._mediaInfo)}get statisticsInfo(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}_fillStatisticsInfo(E){if(E.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return E;let Q=!0,Ge=0,H=0;if(this._mediaElement.getVideoPlaybackQuality){const _e=this._mediaElement.getVideoPlaybackQuality();Ge=_e.totalVideoFrames,H=_e.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!==void 0?(Ge=this._mediaElement.webkitDecodedFrameCount,H=this._mediaElement.webkitDroppedFrameCount):Q=!1;return Q&&(E.decodedFrames=Ge,E.droppedFrames=H),E}_onmseUpdateEnd(){var E,Q,Ge,H;const _e=(E=this._mediaElement)===null||E===void 0?void 0:E.buffered,M=((Q=this._mediaElement)===null||Q===void 0?void 0:Q.currentTime)||0;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&(_e==null?void 0:_e.length)>0&&!(!((Ge=this._mediaElement)===null||Ge===void 0)&&Ge.paused)){const ce=_e.end(_e.length-1);if(ce>(((H=this._config)===null||H===void 0?void 0:H.liveBufferLatencyMaxLatency)||0)&&ce-M>(this._config.liveBufferLatencyMaxLatency||0)){const ie=ce-(this._config.liveBufferLatencyMinRemain||0);this.currentTime=ie}}if(!this._config.lazyLoad||this._config.isLive)return;let z=0;for(let ce=0;ce<_e.length;ce++){const ie=_e.start(ce),Oe=_e.end(ce);if(ie<=M&&M<Oe){z=Oe;break}}z>=M+(this._config.lazyLoadMaxDuration||0)&&this._progressChecker==null&&(de.Z.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}_onmseBufferFull(){de.Z.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()}_suspendTransmuxer(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}_checkProgressAndResume(){var E,Q,Ge;const H=((E=this._mediaElement)===null||E===void 0?void 0:E.currentTime)||0,_e=(Q=this._mediaElement)===null||Q===void 0?void 0:Q.buffered;let M=!1;for(let z=0;z<_e.length;z++){const ce=_e.start(z),ie=_e.end(z);if(H>=ce&&H<ie){H>=ie-(this._config.lazyLoadRecoverDuration||0)&&(M=!0);break}}M&&(window.clearInterval(this._progressChecker),this._progressChecker=null,M&&(de.Z.v(this.TAG,"Continue loading from paused position"),(Ge=this._transmuxer)===null||Ge===void 0||Ge.resume()))}_isTimepointBuffered(E){var Q;const Ge=(Q=this._mediaElement)===null||Q===void 0?void 0:Q.buffered;for(let H=0;H<Ge.length;H++){const _e=Ge.start(H),M=Ge.end(H);if(E>=_e&&E<M)return!0}return!1}_internalSeek(E){var Q,Ge,H,_e,M;const z=this._isTimepointBuffered(E);let ce=!1,ie=0;if(E<1&&((Q=this._mediaElement)===null||Q===void 0?void 0:Q.buffered).length>0){const Oe=((Ge=this._mediaElement)===null||Ge===void 0?void 0:Ge.buffered).start(0);(Oe<1&&E<Oe||xe.Z.safari)&&(ce=!0,ie=xe.Z.safari?.1:Oe)}if(ce)this._requestSetTime=!0,this._mediaElement&&(this._mediaElement.currentTime=ie);else if(z){if(this._alwaysSeekKeyframe){const Oe=(H=this._msectl)===null||H===void 0?void 0:H.getNearestKeyframe(Math.floor(1e3*E));this._requestSetTime=!0,this._mediaElement&&(this._mediaElement.currentTime=Oe!=null?Oe.dts/1e3:E)}else this._requestSetTime=!0,this._mediaElement&&(this._mediaElement.currentTime=E);this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),(_e=this._msectl)===null||_e===void 0||_e.seek(E),(M=this._transmuxer)===null||M===void 0||M.seek(Math.floor(1e3*E)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement&&(this._mediaElement.currentTime=E))}_checkAndApplyUnbufferedSeekpoint(){var E,Q,Ge,H;if(this._seekpointRecord)if((((E=this._seekpointRecord)===null||E===void 0?void 0:E.recordTime)||0)<=this._now()-100){const _e=(Q=this._mediaElement)===null||Q===void 0?void 0:Q.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(_e)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),(Ge=this._msectl)===null||Ge===void 0||Ge.seek(_e),(H=this._transmuxer)===null||H===void 0||H.seek(Math.floor(1e3*_e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement&&(this._mediaElement.currentTime=_e)))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}_checkAndResumeStuckPlayback(E){const Q=this._mediaElement;if(E||!this._receivedCanPlay||Q.readyState<2){const Ge=Q.buffered;Ge.length>0&&Q.currentTime<Ge.start(0)&&(de.Z.w(this.TAG,`Playback seems stuck at ${Q.currentTime}, seek to ${Ge.start(0)}`),this._requestSetTime=!0,this._mediaElement&&(this._mediaElement.currentTime=Ge.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress)))}else this._mediaElement&&this._mediaElement.removeEventListener("progress",this.e.onvProgress)}_onvLoadedMetadata(E){this._pendingSeekTime!=null&&(this._mediaElement&&(this._mediaElement.currentTime=this._pendingSeekTime),this._pendingSeekTime=null)}_onvSeeking(E){var Q,Ge,H;const _e=(Q=this._mediaElement)===null||Q===void 0?void 0:Q.currentTime,M=(Ge=this._mediaElement)===null||Ge===void 0?void 0:Ge.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(_e<1&&M.length>0){const z=M.start(0);if(z<1&&_e<z||xe.Z.safari)return this._requestSetTime=!0,void(this._mediaElement&&(this._mediaElement.currentTime=xe.Z.safari?.1:z))}if(this._isTimepointBuffered(_e)){if(this._alwaysSeekKeyframe){const z=(H=this._msectl)===null||H===void 0?void 0:H.getNearestKeyframe(Math.floor(1e3*_e));z!=null&&(this._requestSetTime=!0,this._mediaElement&&(this._mediaElement.currentTime=z.dts/1e3))}this._progressChecker!=null&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:_e,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}_onvCanPlay(E){var Q;this._receivedCanPlay=!0,(Q=this._mediaElement)===null||Q===void 0||Q.removeEventListener("canplay",this.e.onvCanPlay)}_onvStalled(E){this._checkAndResumeStuckPlayback(!0)}_onvProgress(E){this._checkAndResumeStuckPlayback()}};var We=function(E,Q,Ge,H){return new(Ge||(Ge=Promise))(function(_e,M){function z(Oe){try{ie(H.next(Oe))}catch(Qe){M(Qe)}}function ce(Oe){try{ie(H.throw(Oe))}catch(Qe){M(Qe)}}function ie(Oe){var Qe;Oe.done?_e(Oe.value):(Qe=Oe.value,Qe instanceof Ge?Qe:new Ge(function(st){st(Qe)})).then(z,ce)}ie((H=H.apply(E,Q||[])).next())})};const ft=class{constructor(E,Q){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new oe.EventEmitter,this._config=S(),typeof Q=="object"&&Object.assign(this._config,Q);const Ge=E.type.toLowerCase();if(Ge==="mse"||Ge==="mpegts"||Ge==="m2ts"||Ge==="flv")throw new Hi.OC("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(E.hasOwnProperty("segments"))throw new Hi.OC(`NativePlayer(${E.type}) doesn't support multipart playback!`);this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=E,this._mediaElement=null}destroy(){var E;this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,(E=this._emitter)===null||E===void 0||E.removeAllListeners(),this._emitter=null}on(E,Q){E===se.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(()=>{this._emitter.emit(se.MEDIA_INFO,this.mediaInfo)}):E===se.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(()=>{this._emitter.emit(se.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(E,Q)}off(E,Q){this._emitter.removeListener(E,Q)}attachMediaElement(E){if(this._mediaElement=E,E.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{E.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}}detachMediaElement(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}load(){var E;if(!this._mediaElement)throw new Hi.rT("HTMLMediaElement must be attached before load()!");this._mediaElement.src=((E=this._mediaDataSource)===null||E===void 0?void 0:E.url)||"",this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}unload(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}play(){var E;return We(this,void 0,void 0,function*(){return yield(E=this._mediaElement)===null||E===void 0?void 0:E.play()})}pause(){var E;(E=this._mediaElement)===null||E===void 0||E.pause()}get type(){return this._type}get buffered(){var E;return(E=this._mediaElement)===null||E===void 0?void 0:E.buffered}get duration(){var E;return(E=this._mediaElement)===null||E===void 0?void 0:E.duration}get volume(){var E;return(E=this._mediaElement)===null||E===void 0?void 0:E.volume}set volume(E){this._mediaElement&&(this._mediaElement.volume=E)}get muted(){var E;return(E=this._mediaElement)===null||E===void 0?void 0:E.muted}set muted(E){this._mediaElement&&(this._mediaElement.muted=E)}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(E){this._mediaElement?this._mediaElement.currentTime=E:this._pendingSeekTime=E}get mediaInfo(){const E={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(E.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(E.width=this._mediaElement.videoWidth,E.height=this._mediaElement.videoHeight)),E}get statisticsInfo(){const E={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return E;let Q=!0,Ge=0,H=0;if(this._mediaElement.getVideoPlaybackQuality){const _e=this._mediaElement.getVideoPlaybackQuality();Ge=_e.totalVideoFrames,H=_e.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!==void 0?(Ge=this._mediaElement.webkitDecodedFrameCount,H=this._mediaElement.webkitDroppedFrameCount):Q=!1;return Q&&(E.decodedFrames=Ge,E.droppedFrames=H),E}_onvLoadedMetadata(E){this._pendingSeekTime!=null&&(this._mediaElement&&(this._mediaElement.currentTime=this._pendingSeekTime),this._pendingSeekTime=null),this._emitter.emit(se.MEDIA_INFO,this.mediaInfo)}_reportStatisticsInfo(){this._emitter.emit(se.STATISTICS_INFO,this.statisticsInfo)}},$t={h264:1,h265:2,h266:4,vp8:8,vp9:16,av1:32},ri=["h264","h265"],zt=E=>{const Q=E.split("?"),Ge=new URLSearchParams(Q[1]);return Ge.delete("vc"),Ge.set("vc",ri.reduce((H,_e)=>H+($t[_e]||0),0).toString()),Q[0]+"?"+Ge.toString()},ae={createPlayer:function(E,Q){E!=null&&E.url&&(E.url=zt(E.url));const Ge=E;if(Ge==null||typeof Ge!="object")throw new Hi.OC("MediaDataSource must be an javascript object!");if(!Object.prototype.hasOwnProperty.call(Ge,"type"))throw new Hi.OC("MediaDataSource must has type field to indicate video file type!");switch(Ge.type){case"mse":case"mpegts":case"m2ts":case"flv":return new rt(Ge,Q);default:return new ft(Ge,Q)}},isSupported:function(){return b.supportMSEH264Playback()},getFeatureList:function(){return b.getFeatureList()},BaseLoader:_.fp,LoaderStatus:_.GM,LoaderErrors:_.nm,version:"",Events:se,ErrorTypes:Qi,ErrorDetails:at,MSEPlayer:rt,NativePlayer:ft,LoggingControl:fe.Z};Object.defineProperty(ae,"version",{enumerable:!0,get:function(){return"2.0.0"}});const be=ae},607:(c,d,u)=>{c.exports=u(578).default},575:(c,d,u)=>{u.d(d,{Z:()=>le});var k=u(645);const P=class{constructor(){var re;this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,!((re=self.performance)===null||re===void 0)&&re.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}reset(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}addBytes(re){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=re,this._totalBytes+=re):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=re,this._totalBytes+=re):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=re,this._totalBytes+=re,this._lastCheckpoint=this._now())}get currentKBps(){this.addBytes(0);let re=(this._now()-this._lastCheckpoint)/1e3;return re===0&&(re=1),this._intervalBytes/re/1024}get lastSecondKBps(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}get averageKBps(){const re=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/re/1024}};var S=u(108),R=u(479),b=u(411);class _ extends S.fp{static isSupported(){var Pe;try{const fe=R.Z.msedge&&(((Pe=R.Z===null||R.Z===void 0?void 0:R.Z.version)===null||Pe===void 0?void 0:Pe.minor)||0)>=15048&&!R.Z.webkit,$e=!R.Z.msedge||fe;return self.fetch&&self.ReadableStream&&$e}catch{return!1}}constructor(Pe,fe){super("fetch-stream-loader"),this.TAG="FetchStreamLoader",this._seekHandler=Pe,this._config=fe,this._needStash=!0,this._requestAbort=!1,this._abortController=null,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),super.destroy()}open(Pe,fe){this._dataSource=Pe,this._range=fe;let $e=Pe.url;this._config.reuseRedirectedURL&&Pe.redirectedURL!==void 0&&($e=Pe.redirectedURL);const ot=this._seekHandler.getConfig($e,fe),F=new self.Headers;if(typeof ot.headers=="object"){const Ve=ot.headers;for(const yi in Ve)Ve.hasOwnProperty(yi)&&F.append(yi,Ve[yi])}const Ie={method:"GET",headers:F,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(const Ve in this._config.headers)F.append(Ve,this._config.headers[Ve]);Pe.cors||(Ie.mode="same-origin"),Pe.withCredentials&&(Ie.credentials="include"),Pe!=null&&Pe.referrerPolicy&&(Ie.referrerPolicy=Pe.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,this._abortController&&(Ie.signal=this._abortController.signal)),this._status=S.GM.kConnecting,self.fetch(ot.url,Ie).then(Ve=>{var yi,Hi;if(this._requestAbort)return this._status=S.GM.kIdle,void((yi=Ve.body)===null||yi===void 0||yi.cancel());if(Ve.ok&&Ve.status>=200&&Ve.status<=299){if(Ve.url!==ot.url&&this._onURLRedirect){const Ci=this._seekHandler.removeURLParameters(Ve.url);this._onURLRedirect(Ci)}const Pi=Ve.headers.get("Content-Length");return Pi!=null&&(this._contentLength=parseInt(Pi),this._contentLength!==0&&this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)),this._pump.call(this,(Hi=Ve.body)===null||Hi===void 0?void 0:Hi.getReader())}if(this._status=S.GM.kError,!this._onError)throw new b.OZ("FetchStreamLoader: Http code invalid, "+Ve.status+" "+Ve.statusText);this._onError(S.nm.HTTP_STATUS_CODE_INVALID,{code:Ve.status,msg:Ve.statusText})}).catch(Ve=>{var yi;if(!(!((yi=this._abortController)===null||yi===void 0)&&yi.signal.aborted)){if(this._status=S.GM.kError,!this._onError)throw Ve;this._onError(S.nm.EXCEPTION,{code:-1,msg:Ve.message})}})}abort(){var Pe;if(this._requestAbort=!0,(this._status!==S.GM.kBuffering||!R.Z.chrome)&&this._abortController)try{(Pe=this._abortController)===null||Pe===void 0||Pe.abort()}catch{}}_pump(Pe){return Pe.read().then(fe=>{var $e,ot,F,Ie;if(fe.done)if(this._contentLength!==null&&this._receivedLength<this._contentLength){this._status=S.GM.kError;const Ve=S.nm.EARLY_EOF,yi={code:-1,msg:"Fetch stream meet Early-EOF"};if(!this._onError)throw new b.OZ(yi.msg);this._onError(Ve,yi)}else this._status=S.GM.kComplete,this._onComplete&&this._onComplete((($e=this._range)===null||$e===void 0?void 0:$e.from)||0,(((ot=this._range)===null||ot===void 0?void 0:ot.from)||0)+this._receivedLength-1);else{if(!((F=this._abortController)===null||F===void 0)&&F.signal.aborted)return void(this._status=S.GM.kComplete);if(this._requestAbort)return this._status=S.GM.kComplete,Pe.cancel();this._status=S.GM.kBuffering;const Ve=fe.value.buffer,yi=(((Ie=this._range)===null||Ie===void 0?void 0:Ie.from)||0)+this._receivedLength;this._receivedLength+=Ve.byteLength,this._onDataArrival&&this._onDataArrival(Ve,yi,this._receivedLength),this._pump(Pe)}}).catch(fe=>{var $e,ot;if(!((ot=($e=this._abortController)===null||$e===void 0?void 0:$e.signal)===null||ot===void 0)&&ot.aborted)return void(this._status=S.GM.kComplete);if(fe.code===11&&R.Z.msedge)return;this._status=S.GM.kError;let F=0,Ie=null;if(fe.code!==19&&fe.message!=="network error"||!(this._contentLength===null||this._contentLength!==null&&this._receivedLength<this._contentLength)?(F=S.nm.EXCEPTION,Ie={code:fe.code,msg:fe.message}):(F=S.nm.EARLY_EOF,Ie={code:fe.code,msg:"Fetch stream meet Early-EOF"}),!this._onError)throw new b.OZ(Ie.msg);this._onError(F,Ie)})}}const oe=_;class de extends S.fp{static isSupported(){try{const Pe=new XMLHttpRequest;return Pe.open("GET","https://example.com",!0),Pe.responseType="moz-chunked-arraybuffer",Pe.responseType==="moz-chunked-arraybuffer"}catch(Pe){return k.Z.w("MozChunkedLoader",Pe.message),!1}}constructor(Pe,fe){super("xhr-moz-chunked-loader"),this.TAG="MozChunkedLoader",this._seekHandler=Pe,this._config=fe,this._needStash=!0,this._xhr=null,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}open(Pe,fe){this._dataSource=Pe,this._range=fe;let $e=Pe.url;this._config.reuseRedirectedURL&&Pe.redirectedURL!==void 0&&($e=Pe.redirectedURL);const ot=this._seekHandler.getConfig($e,fe);this._requestURL=ot.url;const F=this._xhr=new XMLHttpRequest;if(F.open("GET",ot.url,!0),F.responseType="moz-chunked-arraybuffer",F.onreadystatechange=this._onReadyStateChange.bind(this),F.onprogress=this._onProgress.bind(this),F.onloadend=this._onLoadEnd.bind(this),F.onerror=this._onXhrError.bind(this),Pe.withCredentials&&(F.withCredentials=!0),typeof ot.headers=="object"){const Ie=ot.headers;for(const Ve in Ie)Ie.hasOwnProperty(Ve)&&F.setRequestHeader(Ve,Ie[Ve])}if(typeof this._config.headers=="object"){const Ie=this._config.headers;for(const Ve in Ie)Ie.hasOwnProperty(Ve)&&F.setRequestHeader(Ve,Ie[Ve])}this._status=S.GM.kConnecting,F.send()}abort(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=S.GM.kComplete}_onReadyStateChange(Pe){const fe=Pe.target;if(fe.readyState===2){if(fe.responseURL!==void 0&&fe.responseURL!==this._requestURL&&this._onURLRedirect){const $e=this._seekHandler.removeURLParameters(fe.responseURL);this._onURLRedirect($e)}if(fe.status!==0&&(fe.status<200||fe.status>299)){if(this._status=S.GM.kError,!this._onError)throw new b.OZ("MozChunkedLoader: Http code invalid, "+fe.status+" "+fe.statusText);this._onError(S.nm.HTTP_STATUS_CODE_INVALID,{code:fe.status,msg:fe.statusText})}else this._status=S.GM.kBuffering}}_onProgress(Pe){var fe;if(this._status===S.GM.kError)return;this._contentLength===null&&Pe.total!==null&&Pe.total!==0&&(this._contentLength=Pe.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));const $e=Pe.target.response,ot=(((fe=this._range)===null||fe===void 0?void 0:fe.from)||0)+this._receivedLength;this._receivedLength+=$e.byteLength,this._onDataArrival&&this._onDataArrival($e,ot,this._receivedLength)}_onLoadEnd(Pe){this._requestAbort?this._requestAbort=!1:this._status!==S.GM.kError&&(this._status=S.GM.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}_onXhrError(Pe){this._status=S.GM.kError;let fe=0,$e=null;if(this._contentLength&&Pe.loaded<this._contentLength?(fe=S.nm.EARLY_EOF,$e={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(fe=S.nm.EXCEPTION,$e={code:-1,msg:Pe.constructor.name+" "+Pe.type}),!this._onError)throw new b.OZ($e.msg);this._onError(fe,$e)}}const xe=de;class se extends S.fp{static isSupported(){try{const Pe=new XMLHttpRequest;return Pe.open("GET","https://example.com",!0),Pe.responseType="arraybuffer",Pe.responseType==="arraybuffer"}catch(Pe){return k.Z.w("RangeLoader",Pe.message),!1}}constructor(Pe,fe){super("xhr-range-loader"),this.TAG="RangeLoader",this._seekHandler=Pe,this._config=fe,this._needStash=!1,this._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],this._currentChunkSizeKB=384,this._currentSpeedNormalized=0,this._zeroSpeedChunkCount=0,this._xhr=null,this._speedSampler=new P,this._requestAbort=!1,this._waitForTotalLength=!1,this._totalLengthReceived=!1,this._currentRequestURL=null,this._currentRedirectedURL=null,this._currentRequestRange=null,this._totalLength=null,this._contentLength=null,this._receivedLength=0,this._lastTimeLoaded=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}get currentSpeed(){return this._speedSampler.lastSecondKBps}open(Pe,fe){this._dataSource=Pe,this._range=fe,this._status=S.GM.kConnecting;let $e=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&($e=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||$e?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}_openSubRange(){var Pe,fe;const $e=1024*this._currentChunkSizeKB,ot=(((Pe=this._range)===null||Pe===void 0?void 0:Pe.from)||0)+this._receivedLength;let F=ot+$e;this._contentLength!=null&&F-this._range.from>=this._contentLength&&(F=(((fe=this._range)===null||fe===void 0?void 0:fe.from)||0)+this._contentLength-1),this._currentRequestRange={from:ot,to:F},this._internalOpen(this._dataSource,this._currentRequestRange)}_internalOpen(Pe,fe){this._lastTimeLoaded=0;let $e=Pe.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?$e=this._currentRedirectedURL:Pe.redirectedURL!=null&&($e=Pe.redirectedURL));const ot=this._seekHandler.getConfig($e,fe);this._currentRequestURL=ot.url;const F=this._xhr=new XMLHttpRequest;if(F.open("GET",ot.url,!0),F.responseType="arraybuffer",F.onreadystatechange=this._onReadyStateChange.bind(this),F.onprogress=this._onProgress.bind(this),F.onload=this._onLoad.bind(this),F.onerror=this._onXhrError.bind(this),Pe.withCredentials&&(F.withCredentials=!0),typeof ot.headers=="object"){const Ie=ot.headers;for(const Ve in Ie)Ie.hasOwnProperty(Ve)&&F.setRequestHeader(Ve,Ie[Ve])}if(typeof this._config.headers=="object"){const Ie=this._config.headers;for(const Ve in Ie)Ie.hasOwnProperty(Ve)&&F.setRequestHeader(Ve,Ie[Ve])}F.send()}abort(){this._requestAbort=!0,this._internalAbort(),this._status=S.GM.kComplete}_internalAbort(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}_onReadyStateChange(Pe){const fe=Pe.target;if(fe.readyState===2){if(fe.responseURL!=null){const $e=this._seekHandler.removeURLParameters(fe.responseURL);fe.responseURL!==this._currentRequestURL&&$e!==this._currentRedirectedURL&&(this._currentRedirectedURL=$e,this._onURLRedirect&&this._onURLRedirect($e))}if(fe.status>=200&&fe.status<=299){if(this._waitForTotalLength)return;this._status=S.GM.kBuffering}else{if(this._status=S.GM.kError,!this._onError)throw new b.OZ("RangeLoader: Http code invalid, "+fe.status+" "+fe.statusText);this._onError(S.nm.HTTP_STATUS_CODE_INVALID,{code:fe.status,msg:fe.statusText})}}}_onProgress(Pe){if(this._status===S.GM.kError)return;if(this._contentLength===null){let $e=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,$e=!0;const ot=Pe.total;this._internalAbort(),ot!=null&&ot!==0&&(this._totalLength=ot)}if(this._range.to===-1?this._contentLength=(this._totalLength||0)-this._range.from:this._contentLength=this._range.to-this._range.from+1,$e)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}const fe=Pe.loaded-this._lastTimeLoaded;this._lastTimeLoaded=Pe.loaded,this._speedSampler.addBytes(fe)}_normalizeSpeed(Pe){const fe=this._chunkSizeKBList,$e=fe.length-1;let ot=0,F=0,Ie=$e;if(Pe<fe[0])return fe[0];for(;F<=Ie;){if(ot=F+Math.floor((Ie-F)/2),ot===$e||Pe>=fe[ot]&&Pe<fe[ot+1])return fe[ot];fe[ot]<Pe?F=ot+1:Ie=ot-1}}_onLoad(Pe){if(this._status===S.GM.kError)return;if(this._waitForTotalLength)return void(this._waitForTotalLength=!1);this._lastTimeLoaded=0;let fe=this._speedSampler.lastSecondKBps;if(fe===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(fe=this._speedSampler.currentKBps)),fe!==0){const Ie=this._normalizeSpeed(fe);this._currentSpeedNormalized!==Ie&&(this._currentSpeedNormalized=Ie,this._currentChunkSizeKB=Ie)}const $e=Pe.target.response,ot=this._range.from+this._receivedLength;this._receivedLength+=$e.byteLength;let F=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():F=!0,this._onDataArrival&&this._onDataArrival($e,ot,this._receivedLength),F&&(this._status=S.GM.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}_onXhrError(Pe){this._status=S.GM.kError;let fe=0,$e=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(fe=S.nm.EARLY_EOF,$e={code:-1,msg:"RangeLoader meet Early-Eof"}):(fe=S.nm.EXCEPTION,$e={code:-1,msg:Pe.constructor.name+" "+Pe.type}),!this._onError)throw new b.OZ($e.msg);this._onError(fe,$e)}}const Ae=se;class qe extends S.fp{static isSupported(){try{return self.WebSocket!==void 0}catch{return!1}}constructor(Pe,fe){super("websocket-loader"),this.TAG="WebSocketLoader",this._needStash=!0,this._ws=null,this._requestAbort=!1,this._receivedLength=0}destroy(){this._ws&&this.abort(),super.destroy()}open(Pe){try{const fe=this._ws=new self.WebSocket(Pe.url);fe.binaryType="arraybuffer",fe.onopen=this._onWebSocketOpen.bind(this),fe.onclose=this._onWebSocketClose.bind(this),fe.onmessage=this._onWebSocketMessage.bind(this),fe.onerror=this._onWebSocketError.bind(this),this._status=S.GM.kConnecting}catch(fe){this._status=S.GM.kError;const $e={code:fe.code,msg:fe.message};if(!this._onError)throw new b.OZ($e.msg);this._onError(S.nm.EXCEPTION,$e)}}abort(){const Pe=this._ws;!Pe||Pe.readyState!==0&&Pe.readyState!==1||(this._requestAbort=!0,Pe.close()),this._ws=null,this._status=S.GM.kComplete}_onWebSocketOpen(Pe){this._status=S.GM.kBuffering}_onWebSocketClose(Pe){this._requestAbort?this._requestAbort=!1:(this._status=S.GM.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1))}_onWebSocketMessage(Pe){if(Pe.data instanceof ArrayBuffer)this._dispatchArrayBuffer(Pe.data);else if(Pe.data instanceof Blob){const fe=new FileReader;fe.onload=()=>{this._dispatchArrayBuffer(fe==null?void 0:fe.result)},fe.readAsArrayBuffer(Pe.data)}else{this._status=S.GM.kError;const fe={code:-1,msg:"Unsupported WebSocket message type: "+Pe.data.constructor.name};if(!this._onError)throw new b.OZ(fe.msg);this._onError(S.nm.EXCEPTION,fe)}}_dispatchArrayBuffer(Pe){const fe=Pe,$e=this._receivedLength;this._receivedLength+=fe.byteLength,this._onDataArrival&&this._onDataArrival(fe,$e,this._receivedLength)}_onWebSocketError(Pe){this._status=S.GM.kError;const fe={code:Pe.code,msg:Pe.message};if(!this._onError)throw new b.OZ(fe.msg);this._onError(S.nm.EXCEPTION,fe)}}const me=qe,m=class{constructor(re){this._zeroStart=re||!1}getConfig(re,Pe){const fe={};if(Pe.from!==0||Pe.to!==-1){let $e;$e=Pe.to!==-1?`bytes=${Pe.from.toString()}-${Pe.to.toString()}`:`bytes=${Pe.from.toString()}-`,fe.Range=$e}else this._zeroStart&&(fe.Range="bytes=0-");return{url:re,headers:fe}}removeURLParameters(re){return re}},U=class{constructor(re,Pe){this._startName=re,this._endName=Pe}getConfig(re,Pe){let fe=re;if(Pe.from!==0||Pe.to!==-1){let $e=!0;fe.includes("?")||(fe+="?",$e=!1),$e&&(fe+="&"),fe+=`${this._startName}=${Pe.from.toString()}`,Pe.to!==-1&&(fe+=`&${this._endName}=${Pe.to.toString()}`)}return{url:fe,headers:{}}}removeURLParameters(re){const Pe=re.split("?")[0];let fe;const $e=re.indexOf("?");$e!==-1&&(fe=re.substring($e+1));let ot="";if(fe!==void 0&&fe.length>0){const F=fe.split("&");for(let Ie=0;Ie<F.length;Ie++){const Ve=F[Ie].split("="),yi=Ie>0;Ve[0]!==this._startName&&Ve[0]!==this._endName&&(yi&&(ot+="&"),ot+=F[Ie])}}return ot.length===0?Pe:Pe+"?"+ot}},le=class{constructor(re,Pe,fe){this.TAG="IOController",this._config=Pe,this._extraData=fe,this._stashInitialSize=65536,Pe.stashInitialSize!==void 0&&Pe.stashInitialSize>0&&(this._stashInitialSize=Pe.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,Pe.enableStashBuffer||(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=re,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(re.url||""),this._refTotalLength=re.filesize?re.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new P,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}destroy(){var re,Pe,fe;!((re=this._loader)===null||re===void 0)&&re.isWorking()&&((Pe=this._loader)===null||Pe===void 0||Pe.abort()),(fe=this._loader)===null||fe===void 0||fe.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}isWorking(){var re;return((re=this._loader)===null||re===void 0?void 0:re.isWorking())&&!this._paused}isPaused(){return this._paused}get status(){var re;return(re=this._loader)===null||re===void 0?void 0:re.status}get extraData(){return this._extraData}set extraData(re){this._extraData=re}get onDataArrival(){return this._onDataArrival}set onDataArrival(re){this._onDataArrival=re}get onSeeked(){return this._onSeeked}set onSeeked(re){this._onSeeked=re}get onError(){return this._onError}set onError(re){this._onError=re}get onComplete(){return this._onComplete}set onComplete(re){this._onComplete=re}get onRedirect(){return this._onRedirect}set onRedirect(re){this._onRedirect=re}get onRecoveredEarlyEof(){return this._onRecoveredEarlyEof}set onRecoveredEarlyEof(re){this._onRecoveredEarlyEof=re}get currentURL(){var re;return(re=this._dataSource)===null||re===void 0?void 0:re.url}get hasRedirect(){var re;return this._redirectedURL!=null||((re=this._dataSource)===null||re===void 0?void 0:re.redirectedURL)!==void 0}get currentRedirectedURL(){var re;return this._redirectedURL||((re=this._dataSource)===null||re===void 0?void 0:re.redirectedURL)}get currentSpeed(){var re,Pe;return this._loaderClass===Ae?(re=this._loader)===null||re===void 0?void 0:re.currentSpeed:(Pe=this._speedSampler)===null||Pe===void 0?void 0:Pe.lastSecondKBps}get loaderType(){var re;return(re=this._loader)===null||re===void 0?void 0:re.type}_selectSeekHandler(){const re=this._config;if(re.seekType==="range")this._seekHandler=new m(!!this._config.rangeLoadZeroStart);else if(re.seekType==="param"){const Pe=re.seekParamStart||"bstart",fe=re.seekParamEnd||"bend";this._seekHandler=new U(Pe,fe)}else{if(re.seekType!=="custom")throw new b.OC(`Invalid seekType in config: ${(re==null?void 0:re.seekType)||""}`);if(typeof re.customSeekHandler!="function")throw new b.OC("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new re.customSeekHandler}}_selectLoader(){var re;if(this._config.customLoader!=null)this._loaderClass=((re=this._config)===null||re===void 0?void 0:re.customLoader)||null;else if(this._isWebSocketURL)this._loaderClass=me;else if(oe.isSupported())this._loaderClass=oe;else if(xe.isSupported())this._loaderClass=xe;else{if(!Ae.isSupported())throw new b.OZ("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=Ae}}_createLoader(){var re;this._loaderClass&&(this._loader=new this._loaderClass(this._seekHandler,this._config),!((re=this._loader)===null||re===void 0)&&re.needStashBuffer||(this._enableStash=!1),this._loader&&(this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)))}open(re){var Pe,fe;this._currentRange={from:0,to:-1},re&&(this._currentRange.from=re),(Pe=this._speedSampler)===null||Pe===void 0||Pe.reset(),re||(this._fullRequestFlag=!0),(fe=this._loader)===null||fe===void 0||fe.open(this._dataSource,Object.assign({},this._currentRange))}abort(){var re;(re=this._loader)===null||re===void 0||re.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}pause(){var re,Pe;this.isWorking()&&((re=this._loader)===null||re===void 0||re.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange&&(this._currentRange.to=this._stashByteStart-1)):this._resumeFrom=(((Pe=this._currentRange)===null||Pe===void 0?void 0:Pe.to)||0)+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}resume(){if(this._paused){this._paused=!1;const re=this._resumeFrom;this._resumeFrom=0,this._internalSeek(re,!0)}}seek(re){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(re,!0)}_internalSeek(re,Pe){var fe,$e,ot,F;!((fe=this._loader)===null||fe===void 0)&&fe.isWorking()&&(($e=this._loader)===null||$e===void 0||$e.abort()),this._flushStashBuffer(Pe),(ot=this._loader)===null||ot===void 0||ot.destroy(),this._loader=null;const Ie={from:re,to:-1};this._currentRange={from:Ie.from,to:-1},(F=this._speedSampler)===null||F===void 0||F.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,Ie),this._onSeeked&&this._onSeeked()}updateUrl(re){if(!re||typeof re!="string"||re.length===0)throw new b.OC("Url must be a non-empty string!");this._dataSource.url=re}_expandBuffer(re){let Pe=this._stashSize;for(;Pe+1048576<re;)Pe*=2;if(Pe+=1048576,Pe===this._bufferSize)return;const fe=new ArrayBuffer(Pe);if(this._stashUsed>0){const $e=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(fe,0,Pe).set($e,0)}this._stashBuffer=fe,this._bufferSize=Pe}_normalizeSpeed(re){const Pe=this._speedNormalizeList,fe=Pe.length-1;let $e=0,ot=0,F=fe;if(re<Pe[0])return Pe[0];for(;ot<=F;){if($e=ot+Math.floor((F-ot)/2),$e===fe||re>=Pe[$e]&&re<Pe[$e+1])return Pe[$e];Pe[$e]<re?ot=$e+1:F=$e-1}}_adjustStashSize(re){let Pe=0;Pe=this._config.isLive?re/8:re<512?re:re>=512&&re<=1024?Math.floor(1.5*re):2*re,Pe>8192&&(Pe=8192);const fe=1024*Pe+1048576;this._bufferSize<fe&&this._expandBuffer(fe),this._stashSize=1024*Pe}_dispatchChunks(re,Pe){return this._currentRange&&(this._currentRange.to=Pe+re.byteLength-1),this._onDataArrival?this._onDataArrival(re,Pe):0}_onURLRedirect(re){this._redirectedURL=re,this._onRedirect&&this._onRedirect(re)}_onContentLengthKnown(re){re&&this._fullRequestFlag&&(this._totalLength=re,this._fullRequestFlag=!1)}_onLoaderChunkArrival(re,Pe,fe){var $e,ot;if(!this._onDataArrival)throw new b.rT("IOController: No existing consumer (onDataArrival) callback!");if(this._paused)return;this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),($e=this._speedSampler)===null||$e===void 0||$e.addBytes(re.byteLength);const F=(ot=this._speedSampler)===null||ot===void 0?void 0:ot.lastSecondKBps;if(F!==0){const Ie=this._normalizeSpeed(F);this._speedNormalized!==Ie&&(this._speedNormalized=Ie,this._adjustStashSize(Ie))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=Pe),this._stashUsed+re.byteLength<=this._stashSize)new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(re),this._stashUsed),this._stashUsed+=re.byteLength;else{let Ie=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){const Ve=this._stashBuffer.slice(0,this._stashUsed),yi=this._dispatchChunks(Ve,this._stashByteStart);if(yi<Ve.byteLength){if(yi>0){const Hi=new Uint8Array(Ve,yi);Ie.set(Hi,0),this._stashUsed=Hi.byteLength,this._stashByteStart+=yi}}else this._stashUsed=0,this._stashByteStart+=yi;this._stashUsed+re.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+re.byteLength),Ie=new Uint8Array(this._stashBuffer,0,this._bufferSize)),Ie.set(new Uint8Array(re),this._stashUsed),this._stashUsed+=re.byteLength}else{const Ve=this._dispatchChunks(re,Pe);if(Ve<re.byteLength){const yi=re.byteLength-Ve;yi>this._bufferSize&&(this._expandBuffer(yi),Ie=new Uint8Array(this._stashBuffer,0,this._bufferSize)),Ie.set(new Uint8Array(re,Ve),0),this._stashUsed+=yi,this._stashByteStart=Pe+Ve}}}else if(this._stashUsed===0){const Ie=this._dispatchChunks(re,Pe);if(Ie<re.byteLength){const Ve=re.byteLength-Ie;Ve>this._bufferSize&&this._expandBuffer(Ve),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(re,Ie),0),this._stashUsed+=Ve,this._stashByteStart=Pe+Ie}}else{this._stashUsed+re.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+re.byteLength);const Ie=new Uint8Array(this._stashBuffer,0,this._bufferSize);Ie.set(new Uint8Array(re),this._stashUsed),this._stashUsed+=re.byteLength;const Ve=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(Ve<this._stashUsed&&Ve>0){const yi=new Uint8Array(this._stashBuffer,Ve);Ie.set(yi,0)}this._stashUsed-=Ve,this._stashByteStart+=Ve}}_flushStashBuffer(re){if(this._stashUsed>0){const Pe=this._stashBuffer.slice(0,this._stashUsed),fe=this._dispatchChunks(Pe,this._stashByteStart),$e=Pe.byteLength-fe;if(fe<Pe.byteLength){if(!re){if(fe>0){const ot=new Uint8Array(this._stashBuffer,0,this._bufferSize),F=new Uint8Array(Pe,fe);ot.set(F,0),this._stashUsed=F.byteLength,this._stashByteStart+=fe}return 0}k.Z.w(this.TAG,`${$e} bytes unconsumed data remain when flush buffer, dropped`)}return this._stashUsed=0,this._stashByteStart=0,$e}return 0}_onLoaderComplete(re,Pe){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}_onLoaderError(re,Pe){var fe;switch(k.Z.e(this.TAG,`Loader error, code = ${Pe.code}, msg = ${Pe.msg}`),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,re=S.nm.UNRECOVERABLE_EARLY_EOF),re){case S.nm.EARLY_EOF:if(!this._config.isLive&&this._totalLength){const $e=(((fe=this._currentRange)===null||fe===void 0?void 0:fe.to)||0)+1;return void($e<this._totalLength&&(k.Z.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek($e,!1)))}re=S.nm.UNRECOVERABLE_EARLY_EOF;case S.nm.UNRECOVERABLE_EARLY_EOF:case S.nm.CONNECTING_TIMEOUT:case S.nm.HTTP_STATUS_CODE_INVALID:case S.nm.EXCEPTION:}if(!this._onError)throw new b.OZ("IOException: "+Pe.msg);this._onError(re,Pe)}}},108:(c,d,u)=>{u.d(d,{GM:()=>P,fp:()=>R,nm:()=>S});var k=u(411);const P={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},S={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"};class R{constructor(_){this._type=_||"undefined",this._status=P.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}destroy(){this._status=P.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}isWorking(){return this._status===P.kConnecting||this._status===P.kBuffering}get type(){return this._type}get status(){return this._status}get needStashBuffer(){return this._needStash}get onContentLengthKnown(){return this._onContentLengthKnown}set onContentLengthKnown(_){this._onContentLengthKnown=_}get onURLRedirect(){return this._onURLRedirect}set onURLRedirect(_){this._onURLRedirect=_}get onDataArrival(){return this._onDataArrival}set onDataArrival(_){this._onDataArrival=_}get onError(){return this._onError}set onError(_){this._onError=_}get onComplete(){return this._onComplete}set onComplete(_){this._onComplete=_}open(_,oe){throw new k.do("Unimplemented abstract function!")}abort(){throw new k.do("Unimplemented abstract function!")}}},479:(c,d,u)=>{u.d(d,{Z:()=>P});const k={};(function(){const S=self.navigator.userAgent.toLowerCase(),R=/(edge)\/([\w.]+)/.exec(S)||/(opr)[\/]([\w.]+)/.exec(S)||/(chrome)[ \/]([\w.]+)/.exec(S)||/(iemobile)[\/]([\w.]+)/.exec(S)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(S)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(S)||/(webkit)[ \/]([\w.]+)/.exec(S)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(S)||/(msie) ([\w.]+)/.exec(S)||S.includes("trident")&&/(rv)(?::| )([\w.]+)/.exec(S)||!S.includes("compatible")&&/(firefox)[ \/]([\w.]+)/.exec(S)||[],b=/(ipad)/.exec(S)||/(ipod)/.exec(S)||/(windows phone)/.exec(S)||/(iphone)/.exec(S)||/(kindle)/.exec(S)||/(android)/.exec(S)||/(windows)/.exec(S)||/(mac)/.exec(S)||/(linux)/.exec(S)||/(cros)/.exec(S)||[],_={browser:R[5]||R[3]||R[1]||"",version:R[2]||R[4]||"0",majorVersion:R[4]||R[2]||"0",platform:b[0]||""},oe={};if(_.browser){oe[_.browser]=!0;const de=_.majorVersion.split(".");oe.version={major:parseInt(_.majorVersion,10),string:_.version},de.length>1&&(oe.version.minor=parseInt(de[1],10)),de.length>2&&(oe.version.build=parseInt(de[2],10))}if(_.platform&&(oe[_.platform]=!0),(oe.chrome||oe.opr||oe.safari)&&(oe.webkit=!0),oe.rv||oe.iemobile){oe.rv&&delete oe.rv;const de="msie";_.browser=de,oe[de]=!0}if(oe.edge){delete oe.edge;const de="msedge";_.browser=de,oe[de]=!0}if(oe.opr){const de="opera";_.browser=de,oe[de]=!0}if(oe.safari&&oe.android){const de="android";_.browser=de,oe[de]=!0}oe.name=_.browser,oe.platform=_.platform;for(const de in k)Object.prototype.hasOwnProperty.call(k,de)&&delete k[de];Object.assign(k,oe)})();const P=k},411:(c,d,u)=>{u.d(d,{OC:()=>S,OZ:()=>k,do:()=>R,rT:()=>P});class k{constructor(_){this.name="RuntimeException",this._message=_}get message(){return this._message}toString(){return this.name+": "+this.message}}class P extends k{constructor(_){super(_),this.name="IllegalStateException"}}class S extends k{constructor(_){super(_),this.name="InvalidArgumentException"}}class R extends k{constructor(_){super(_),this.name="NotImplementedException"}}},645:(c,d,u)=>{u.d(d,{Z:()=>S});var k=u(99);class P{static e(b,_){var oe;b&&!P.FORCE_GLOBAL_TAG||(b=P.GLOBAL_TAG);const de=`[${b}] > ${_}`;P.ENABLE_CALLBACK&&((oe=P.emitter)===null||oe===void 0||oe.emit("log","error",de)),P.ENABLE_ERROR&&(console.error?console.error(de):console.warn?console.warn(de):console.log(de))}static i(b,_){b&&!P.FORCE_GLOBAL_TAG||(b=P.GLOBAL_TAG);const oe=`[${b}] > ${_}`;P.ENABLE_CALLBACK&&P.emitter.emit("log","info",oe),P.ENABLE_INFO&&(console.info?console.info(oe):console.log(oe))}static w(b,_){b&&!P.FORCE_GLOBAL_TAG||(b=P.GLOBAL_TAG);const oe=`[${b}] > ${_}`;P.ENABLE_CALLBACK&&P.emitter.emit("log","warn",oe),P.ENABLE_WARN&&(console.warn?console.warn(oe):console.log(oe))}static d(b,_){var oe;b&&!P.FORCE_GLOBAL_TAG||(b=P.GLOBAL_TAG);const de=`[${b}] > ${_}`;P.ENABLE_CALLBACK&&((oe=P.emitter)===null||oe===void 0||oe.emit("log","debug",de)),P.ENABLE_DEBUG&&(console.debug?console.debug(de):console.log(de))}static v(b,_){var oe;b&&!P.FORCE_GLOBAL_TAG||(b=P.GLOBAL_TAG);const de=`[${b}] > ${_}`;P.ENABLE_CALLBACK&&((oe=P.emitter)===null||oe===void 0||oe.emit("log","verbose",de)),P.ENABLE_VERBOSE&&console.log(de)}}P.FORCE_GLOBAL_TAG=!1,P.GLOBAL_TAG="mpegts.js",P.ENABLE_CALLBACK=!1,P.emitter=new k.EventEmitter,P.ENABLE_ERROR=!0,P.ENABLE_INFO=!0,P.ENABLE_WARN=!0,P.ENABLE_DEBUG=!0,P.ENABLE_VERBOSE=!0;const S=P},278:(c,d,u)=>{u.d(d,{Z:()=>R});var k=u(99),P=u(645);class S{static get forceGlobalTag(){return P.Z.FORCE_GLOBAL_TAG}static set forceGlobalTag(_){P.Z.FORCE_GLOBAL_TAG=_,S._notifyChange()}static get globalTag(){return P.Z.GLOBAL_TAG}static set globalTag(_){P.Z.GLOBAL_TAG=_,S._notifyChange()}static get enableAll(){return P.Z.ENABLE_VERBOSE&&P.Z.ENABLE_DEBUG&&P.Z.ENABLE_INFO&&P.Z.ENABLE_WARN&&P.Z.ENABLE_ERROR}static set enableAll(_){P.Z.ENABLE_VERBOSE=_,P.Z.ENABLE_DEBUG=_,P.Z.ENABLE_INFO=_,P.Z.ENABLE_WARN=_,P.Z.ENABLE_ERROR=_,S._notifyChange()}static get enableDebug(){return P.Z.ENABLE_DEBUG}static set enableDebug(_){P.Z.ENABLE_DEBUG=_,S._notifyChange()}static get enableVerbose(){return P.Z.ENABLE_VERBOSE}static set enableVerbose(_){P.Z.ENABLE_VERBOSE=_,S._notifyChange()}static get enableInfo(){return P.Z.ENABLE_INFO}static set enableInfo(_){P.Z.ENABLE_INFO=_,S._notifyChange()}static get enableWarn(){return P.Z.ENABLE_WARN}static set enableWarn(_){P.Z.ENABLE_WARN=_,S._notifyChange()}static get enableError(){return P.Z.ENABLE_ERROR}static set enableError(_){P.Z.ENABLE_ERROR=_,S._notifyChange()}static getConfig(){return{globalTag:P.Z.GLOBAL_TAG,forceGlobalTag:P.Z.FORCE_GLOBAL_TAG,enableVerbose:P.Z.ENABLE_VERBOSE,enableDebug:P.Z.ENABLE_DEBUG,enableInfo:P.Z.ENABLE_INFO,enableWarn:P.Z.ENABLE_WARN,enableError:P.Z.ENABLE_ERROR,enableCallback:P.Z.ENABLE_CALLBACK}}static applyConfig(_){P.Z.GLOBAL_TAG=_.globalTag,P.Z.FORCE_GLOBAL_TAG=_.forceGlobalTag,P.Z.ENABLE_VERBOSE=_.enableVerbose,P.Z.ENABLE_DEBUG=_.enableDebug,P.Z.ENABLE_INFO=_.enableInfo,P.Z.ENABLE_WARN=_.enableWarn,P.Z.ENABLE_ERROR=_.enableError,P.Z.ENABLE_CALLBACK=!!_.enableCallback}static _notifyChange(){const _=S.emitter;if(_.listenerCount("change")>0){const oe=S.getConfig();_.emit("change",oe)}}static registerListener(_){S.emitter.addListener("change",_)}static removeListener(_){S.emitter.removeListener("change",_)}static addLogListener(_){P.Z.emitter.addListener("log",_),P.Z.emitter.listenerCount("log")>0&&(P.Z.ENABLE_CALLBACK=!0,S._notifyChange())}static removeLogListener(_){P.Z.emitter.removeListener("log",_),P.Z.emitter.listenerCount("log")===0&&(P.Z.ENABLE_CALLBACK=!1,S._notifyChange())}}S.emitter=new k.EventEmitter;const R=S}},n={};function o(c){var d=n[c];if(d!==void 0)return d.exports;var u=n[c]={exports:{}};return t[c](u,u.exports,o),u.exports}return o.m=t,o.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return o.d(d,{a:d}),d},o.d=(c,d)=>{for(var u in d)o.o(d,u)&&!o.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:d[u]})},o.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),o(607)})())})(lo);class Qs{constructor(g,t){console.log("isSupportFlv",window.flvjs.isSupported()),window.flvjs.isSupported()&&this.initFLV(g,t)}toString(){return`Flv ${this.coreX}-${this.coreY}`}initFLV(g,t){const{deviceSerial:n,channelNo:o,hd:c,type:d}=Is(t);window.ezuikitMonitor.report({protocol:"flv",url:t,serial:n,no:o,action:1,logInfo:{type:d}});var u=document.getElementById(g),k=u.getAttribute("controls");k||u.setAttribute("controls",!0);var P=window.flvjs.createPlayer({type:"flv",url:t,isLive:!0},{enableStashBuffer:!0,stashInitialSize:128,enableWorker:!0});P.attachMediaElement(u),P.load(),P.play(),this.flvUrl=t,this.flv=P,this.video=u,this.video.addEventListener("oncanplaythrough",function(){console.log("oncanplaythrough")},!1),this.video.addEventListener("onerror",function(){console.log("onerror")},!1)}play(){console.log("执行flv播放",this.video),this.video.play()}stop(){this.video.pause(),this.flv.unload()}destroy(){this.flv===void 0||this.flv===null||(this.flv.pause(),this.flv.unload(),this.flv.detachMediaElement(),this.flv.destroy(),this.flv=null)}}var qo={exports:{}};qo.exports,function(J,g){(function(){var t,n="4.17.21",o=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",u="Invalid `variable` option passed into `_.template`",k="__lodash_hash_undefined__",P=500,S="__lodash_placeholder__",R=1,b=2,_=4,oe=1,de=2,xe=1,se=2,Ae=4,qe=8,me=16,m=32,U=64,le=128,re=256,Pe=512,fe=30,$e="...",ot=800,F=16,Ie=1,Ve=2,yi=3,Hi=1/0,Pi=9007199254740991,Ci=17976931348623157e292,Qi=NaN,at=4294967295,pt=at-1,rt=at>>>1,We=[["ary",le],["bind",xe],["bindKey",se],["curry",qe],["curryRight",me],["flip",Pe],["partial",m],["partialRight",U],["rearg",re]],ft="[object Arguments]",$t="[object Array]",ri="[object AsyncFunction]",zt="[object Boolean]",ae="[object Date]",be="[object DOMException]",E="[object Error]",Q="[object Function]",Ge="[object GeneratorFunction]",H="[object Map]",_e="[object Number]",M="[object Null]",z="[object Object]",ce="[object Promise]",ie="[object Proxy]",Oe="[object RegExp]",Qe="[object Set]",st="[object String]",D="[object Symbol]",Xe="[object Undefined]",X="[object WeakMap]",Ce="[object WeakSet]",ve="[object ArrayBuffer]",Le="[object DataView]",pe="[object Float32Array]",ee="[object Float64Array]",je="[object Int8Array]",mt="[object Int16Array]",gt="[object Int32Array]",Gt="[object Uint8Array]",li="[object Uint8ClampedArray]",Oi="[object Uint16Array]",ge="[object Uint32Array]",Ji=/\b__p \+= '';/g,kt=/\b(__p \+=) '' \+/g,Lt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,jt=/[&<>"']/g,Dt=RegExp(Tt.source),Ft=RegExp(jt.source),Kt=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,si=/<%=([\s\S]+?)%>/g,ht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ii=/^\w*$/,ji=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zi=/[\\^$.*+?()[\]{}|]/g,pi=RegExp(Zi.source),sn=/^\s+/,ci=/\s/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,V=/\{\n\/\* \[wrapped with (.+)\] \*/,w=/,? & /,N=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,T=/[()=,{}\[\]\/\s]/,we=/\\(\\)?/g,Se=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ne=/\w*$/,Ye=/^[-+]0x[0-9a-f]+$/i,bt=/^0b[01]+$/i,ni=/^\[object .+?Constructor\]$/,Zt=/^0o[0-7]+$/i,Me=/^(?:0|[1-9]\d*)$/,dt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ai=/($^)/,Fi=/['\n\r\u2028\u2029\\]/g,di="\\ud800-\\udfff",gi="\\u0300-\\u036f",Ki="\\ufe20-\\ufe2f",Si="\\u20d0-\\u20ff",Ht=gi+Ki+Si,qt="\\u2700-\\u27bf",vi="a-z\\xdf-\\xf6\\xf8-\\xff",rn="\\xac\\xb1\\xd7\\xf7",En="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",an="\\u2000-\\u206f",cn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rn="A-Z\\xc0-\\xd6\\xd8-\\xde",fn="\\ufe0e\\ufe0f",xn=rn+En+an+cn,tr="['’]",$n="["+di+"]",Tr="["+xn+"]",jn="["+Ht+"]",wr="\\d+",Er="["+qt+"]",Qn="["+vi+"]",Un="[^"+di+xn+wr+qt+vi+Rn+"]",ar="\\ud83c[\\udffb-\\udfff]",Sa="(?:"+jn+"|"+ar+")",Gr="[^"+di+"]",br="(?:\\ud83c[\\udde6-\\uddff]){2}",ea="[\\ud800-\\udbff][\\udc00-\\udfff]",Fa="["+Rn+"]",ka="\\u200d",Jn="(?:"+Qn+"|"+Un+")",ca="(?:"+Fa+"|"+Un+")",Or="(?:"+tr+"(?:d|ll|m|re|s|t|ve))?",dr="(?:"+tr+"(?:D|LL|M|RE|S|T|VE))?",xa=Sa+"?",Ar="["+fn+"]?",Ia="(?:"+ka+"(?:"+[Gr,br,ea].join("|")+")"+Ar+xa+")*",uo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ua=Ar+xa+Ia,Bo="(?:"+[Er,br,ea].join("|")+")"+Ua,To="(?:"+[Gr+jn+"?",jn,br,ea,$n].join("|")+")",jo=RegExp(tr,"g"),Wr=RegExp(jn,"g"),Mt=RegExp(ar+"(?="+ar+")|"+To+Ua,"g"),qa=RegExp([Fa+"?"+Qn+"+"+Or+"(?="+[Tr,Fa,"$"].join("|")+")",ca+"+"+dr+"(?="+[Tr,Fa+Jn,"$"].join("|")+")",Fa+"?"+Jn+"+"+Or,Fa+"+"+dr,Xa,uo,wr,Bo].join("|"),"g"),Da=RegExp("["+ka+di+Ht+fn+"]"),ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,f={};f[pe]=f[ee]=f[je]=f[mt]=f[gt]=f[Gt]=f[li]=f[Oi]=f[ge]=!0,f[ft]=f[$t]=f[ve]=f[zt]=f[Le]=f[ae]=f[E]=f[Q]=f[H]=f[_e]=f[z]=f[Oe]=f[Qe]=f[st]=f[X]=!1;var l={};l[ft]=l[$t]=l[ve]=l[Le]=l[zt]=l[ae]=l[pe]=l[ee]=l[je]=l[mt]=l[gt]=l[H]=l[_e]=l[z]=l[Oe]=l[Qe]=l[st]=l[D]=l[Gt]=l[li]=l[Oi]=l[ge]=!0,l[E]=l[Q]=l[X]=!1;var e={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},C={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},L={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ke=parseFloat,ze=parseInt,Yt=typeof Va=="object"&&Va&&Va.Object===Object&&Va,j=typeof self=="object"&&self&&self.Object===Object&&self,W=Yt||j||Function("return this")(),ne=g&&!g.nodeType&&g,he=ne&&!0&&J&&!J.nodeType&&J,et=he&&he.exports===ne,Rt=et&&Yt.process,It=function(){try{var Xt=he&&he.require&&he.require("util").types;return Xt||Rt&&Rt.binding&&Rt.binding("util")}catch{}}(),Qt=It&&It.isArrayBuffer,Ai=It&&It.isDate,on=It&&It.isMap,Ei=It&&It.isRegExp,Xi=It&&It.isSet,wi=It&&It.isTypedArray;function B(Xt,zi,St){switch(St.length){case 0:return Xt.call(zi);case 1:return Xt.call(zi,St[0]);case 2:return Xt.call(zi,St[0],St[1]);case 3:return Xt.call(zi,St[0],St[1],St[2])}return Xt.apply(zi,St)}function p(Xt,zi,St,Pt){for(var fi=-1,mi=Xt==null?0:Xt.length;++fi<mi;){var qi=Xt[fi];zi(Pt,qi,St(qi),Xt)}return Pt}function A(Xt,zi){for(var St=-1,Pt=Xt==null?0:Xt.length;++St<Pt&&zi(Xt[St],St,Xt)!==!1;);return Xt}function Y(Xt,zi){for(var St=Xt==null?0:Xt.length;St--&&zi(Xt[St],St,Xt)!==!1;);return Xt}function Te(Xt,zi){for(var St=-1,Pt=Xt==null?0:Xt.length;++St<Pt;)if(!zi(Xt[St],St,Xt))return!1;return!0}function Ze(Xt,zi){for(var St=-1,Pt=Xt==null?0:Xt.length,fi=0,mi=[];++St<Pt;){var qi=Xt[St];zi(qi,St,Xt)&&(mi[fi++]=qi)}return mi}function Ke(Xt,zi){var St=Xt==null?0:Xt.length;return!!St&&Ca(Xt,zi,0)>-1}function vt(Xt,zi,St){for(var Pt=-1,fi=Xt==null?0:Xt.length;++Pt<fi;)if(St(zi,Xt[Pt]))return!0;return!1}function Et(Xt,zi){for(var St=-1,Pt=Xt==null?0:Xt.length,fi=Array(Pt);++St<Pt;)fi[St]=zi(Xt[St],St,Xt);return fi}function Nt(Xt,zi){for(var St=-1,Pt=zi.length,fi=Xt.length;++St<Pt;)Xt[fi+St]=zi[St];return Xt}function Ri(Xt,zi,St,Pt){var fi=-1,mi=Xt==null?0:Xt.length;for(Pt&&mi&&(St=Xt[++fi]);++fi<mi;)St=zi(St,Xt[fi],fi,Xt);return St}function Li(Xt,zi,St,Pt){var fi=Xt==null?0:Xt.length;for(Pt&&fi&&(St=Xt[--fi]);fi--;)St=zi(St,Xt[fi],fi,Xt);return St}function vn(Xt,zi){for(var St=-1,Pt=Xt==null?0:Xt.length;++St<Pt;)if(zi(Xt[St],St,Xt))return!0;return!1}var Wi=or("length");function Cn(Xt){return Xt.split("")}function ur(Xt){return Xt.match(N)||[]}function yr(Xt,zi,St){var Pt;return St(Xt,function(fi,mi,qi){if(zi(fi,mi,qi))return Pt=mi,!1}),Pt}function Ur(Xt,zi,St,Pt){for(var fi=Xt.length,mi=St+(Pt?1:-1);Pt?mi--:++mi<fi;)if(zi(Xt[mi],mi,Xt))return mi;return-1}function Ca(Xt,zi,St){return zi===zi?ye(Xt,zi,St):Ur(Xt,Pa,St)}function no(Xt,zi,St,Pt){for(var fi=St-1,mi=Xt.length;++fi<mi;)if(Pt(Xt[fi],zi))return fi;return-1}function Pa(Xt){return Xt!==Xt}function _a(Xt,zi){var St=Xt==null?0:Xt.length;return St?da(Xt,zi)/St:Qi}function or(Xt){return function(zi){return zi==null?t:zi[Xt]}}function fo(Xt){return function(zi){return Xt==null?t:Xt[zi]}}function fa(Xt,zi,St,Pt,fi){return fi(Xt,function(mi,qi,Ni){St=Pt?(Pt=!1,mi):zi(St,mi,qi,Ni)}),St}function pa(Xt,zi){var St=Xt.length;for(Xt.sort(zi);St--;)Xt[St]=Xt[St].value;return Xt}function da(Xt,zi){for(var St,Pt=-1,fi=Xt.length;++Pt<fi;){var mi=zi(Xt[Pt]);mi!==t&&(St=St===t?mi:St+mi)}return St}function Ko(Xt,zi){for(var St=-1,Pt=Array(Xt);++St<Xt;)Pt[St]=zi(St);return Pt}function ro(Xt,zi){return Et(zi,function(St){return[St,Xt[St]]})}function Ja(Xt){return Xt&&Xt.slice(0,yt(Xt)+1).replace(sn,"")}function ga(Xt){return function(zi){return Xt(zi)}}function Ka(Xt,zi){return Et(zi,function(St){return Xt[St]})}function Ga(Xt,zi){return Xt.has(zi)}function va(Xt,zi){for(var St=-1,Pt=Xt.length;++St<Pt&&Ca(zi,Xt[St],0)>-1;);return St}function $a(Xt,zi){for(var St=Xt.length;St--&&Ca(zi,Xt[St],0)>-1;);return St}function Ee(Xt,zi){for(var St=Xt.length,Pt=0;St--;)Xt[St]===zi&&++Pt;return Pt}var De=fo(e),He=fo(r);function lt(Xt){return"\\"+L[Xt]}function Bt(Xt,zi){return Xt==null?t:Xt[zi]}function oi(Xt){return Da.test(Xt)}function Ti(Xt){return ue.test(Xt)}function $i(Xt){for(var zi,St=[];!(zi=Xt.next()).done;)St.push(zi.value);return St}function sr(Xt){var zi=-1,St=Array(Xt.size);return Xt.forEach(function(Pt,fi){St[++zi]=[fi,Pt]}),St}function te(Xt,zi){return function(St){return Xt(zi(St))}}function y(Xt,zi){for(var St=-1,Pt=Xt.length,fi=0,mi=[];++St<Pt;){var qi=Xt[St];(qi===zi||qi===S)&&(Xt[St]=S,mi[fi++]=St)}return mi}function G(Xt){var zi=-1,St=Array(Xt.size);return Xt.forEach(function(Pt){St[++zi]=Pt}),St}function q(Xt){var zi=-1,St=Array(Xt.size);return Xt.forEach(function(Pt){St[++zi]=[Pt,Pt]}),St}function ye(Xt,zi,St){for(var Pt=St-1,fi=Xt.length;++Pt<fi;)if(Xt[Pt]===zi)return Pt;return-1}function Fe(Xt,zi,St){for(var Pt=St+1;Pt--;)if(Xt[Pt]===zi)return Pt;return Pt}function Ue(Xt){return oi(Xt)?hi(Xt):Wi(Xt)}function ct(Xt){return oi(Xt)?Bi(Xt):Cn(Xt)}function yt(Xt){for(var zi=Xt.length;zi--&&ci.test(Xt.charAt(zi)););return zi}var Ot=fo(C);function hi(Xt){for(var zi=Mt.lastIndex=0;Mt.test(Xt);)++zi;return zi}function Bi(Xt){return Xt.match(Mt)||[]}function Yi(Xt){return Xt.match(qa)||[]}var ki=function Xt(zi){zi=zi==null?W:en.defaults(W.Object(),zi,en.pick(W,bi));var St=zi.Array,Pt=zi.Date,fi=zi.Error,mi=zi.Function,qi=zi.Math,Ni=zi.Object,kn=zi.RegExp,In=zi.String,bn=zi.TypeError,Bn=St.prototype,hr=mi.prototype,Xn=Ni.prototype,xr=zi["__core-js_shared__"],lr=hr.toString,Hn=Xn.hasOwnProperty,Zr=0,ra=function(){var a=/[^.]+$/.exec(xr&&xr.keys&&xr.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),aa=Xn.toString,ya=lr.call(Ni),Bs=W._,_s=kn("^"+lr.call(Hn).replace(Zi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Aa=et?zi.Buffer:t,jr=zi.Symbol,Ls=zi.Uint8Array,Po=Aa?Aa.allocUnsafe:t,$o=te(Ni.getPrototypeOf,Ni),fc=Ni.create,hc=Xn.propertyIsEnumerable,_0=Bn.splice,gs=jr?jr.isConcatSpreadable:t,Fs=jr?jr.iterator:t,ho=jr?jr.toStringTag:t,g0=function(){try{var a=T0(Ni,"defineProperty");return a({},"",{}),a}catch{}}(),v0=zi.clearTimeout!==W.clearTimeout&&zi.clearTimeout,j0=Pt&&Pt.now!==W.Date.now&&Pt.now,U0=zi.setTimeout!==W.setTimeout&&zi.setTimeout,i0=qi.ceil,H0=qi.floor,n0=Ni.getOwnPropertySymbols,bl=Aa?Aa.isBuffer:t,V0=zi.isFinite,Hd=Bn.join,Sl=te(Ni.keys,Ni),Ma=qi.max,_i=qi.min,Vt=Pt.now,Gi=zi.parseInt,Vi=qi.random,dn=Bn.reverse,Sn=T0(zi,"DataView"),Dn=T0(zi,"Map"),Wn=T0(zi,"Promise"),zn=T0(zi,"Set"),rr=T0(zi,"WeakMap"),pr=T0(Ni,"create"),gr=rr&&new rr,Rr={},Dr=P0(Sn),ta=P0(Dn),ma=P0(Wn),go=P0(zn),Qa=P0(rr),Wa=jr?jr.prototype:t,Qo=Wa?Wa.valueOf:t,Os=Wa?Wa.toString:t;function Ct(a){if(Ba(a)&&!kr(a)&&!(a instanceof Yr)){if(a instanceof Uo)return a;if(Hn.call(a,"__wrapped__"))return G1(a)}return new Uo(a)}var G0=function(){function a(){}return function(h){if(!wa(h))return{};if(fc)return fc(h);a.prototype=h;var O=new a;return a.prototype=t,O}}();function xc(){}function Uo(a,h){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=t}Ct.templateSettings={escape:Kt,evaluate:wt,interpolate:si,variable:"",imports:{_:Ct}},Ct.prototype=xc.prototype,Ct.prototype.constructor=Ct,Uo.prototype=G0(xc.prototype),Uo.prototype.constructor=Uo;function Yr(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=at,this.__views__=[]}function f4(){var a=new Yr(this.__wrapped__);return a.__actions__=wo(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=wo(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=wo(this.__views__),a}function h4(){if(this.__filtered__){var a=new Yr(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function x4(){var a=this.__wrapped__.value(),h=this.__dir__,O=kr(a),Be=h<0,ut=O?a.length:0,At=w3(0,ut,this.__views__),ti=At.start,xi=At.end,Di=xi-ti,pn=Be?xi:ti-1,mn=this.__iteratees__,yn=mn.length,Ln=0,Kn=_i(Di,this.__takeCount__);if(!O||!Be&&ut==Di&&Kn==Di)return h1(a,this.__actions__);var mr=[];e:for(;Di--&&Ln<Kn;){pn+=h;for(var Fr=-1,_r=a[pn];++Fr<yn;){var Hr=mn[Fr],qr=Hr.iteratee,Oo=Hr.type,bo=qr(_r);if(Oo==Ve)_r=bo;else if(!bo){if(Oo==Ie)continue e;break e}}mr[Ln++]=_r}return mr}Yr.prototype=G0(xc.prototype),Yr.prototype.constructor=Yr;function y0(a){var h=-1,O=a==null?0:a.length;for(this.clear();++h<O;){var Be=a[h];this.set(Be[0],Be[1])}}function p4(){this.__data__=pr?pr(null):{},this.size=0}function m4(a){var h=this.has(a)&&delete this.__data__[a];return this.size-=h?1:0,h}function _4(a){var h=this.__data__;if(pr){var O=h[a];return O===k?t:O}return Hn.call(h,a)?h[a]:t}function g4(a){var h=this.__data__;return pr?h[a]!==t:Hn.call(h,a)}function v4(a,h){var O=this.__data__;return this.size+=this.has(a)?0:1,O[a]=pr&&h===t?k:h,this}y0.prototype.clear=p4,y0.prototype.delete=m4,y0.prototype.get=_4,y0.prototype.has=g4,y0.prototype.set=v4;function zs(a){var h=-1,O=a==null?0:a.length;for(this.clear();++h<O;){var Be=a[h];this.set(Be[0],Be[1])}}function y4(){this.__data__=[],this.size=0}function b4(a){var h=this.__data__,O=pc(h,a);if(O<0)return!1;var Be=h.length-1;return O==Be?h.pop():_0.call(h,O,1),--this.size,!0}function S4(a){var h=this.__data__,O=pc(h,a);return O<0?t:h[O][1]}function C4(a){return pc(this.__data__,a)>-1}function T4(a,h){var O=this.__data__,Be=pc(O,a);return Be<0?(++this.size,O.push([a,h])):O[Be][1]=h,this}zs.prototype.clear=y4,zs.prototype.delete=b4,zs.prototype.get=S4,zs.prototype.has=C4,zs.prototype.set=T4;function Ns(a){var h=-1,O=a==null?0:a.length;for(this.clear();++h<O;){var Be=a[h];this.set(Be[0],Be[1])}}function P4(){this.size=0,this.__data__={hash:new y0,map:new(Dn||zs),string:new y0}}function w4(a){var h=Ec(this,a).delete(a);return this.size-=h?1:0,h}function E4(a){return Ec(this,a).get(a)}function R4(a){return Ec(this,a).has(a)}function k4(a,h){var O=Ec(this,a),Be=O.size;return O.set(a,h),this.size+=O.size==Be?0:1,this}Ns.prototype.clear=P4,Ns.prototype.delete=w4,Ns.prototype.get=E4,Ns.prototype.has=R4,Ns.prototype.set=k4;function b0(a){var h=-1,O=a==null?0:a.length;for(this.__data__=new Ns;++h<O;)this.add(a[h])}function I4(a){return this.__data__.set(a,k),this}function D4(a){return this.__data__.has(a)}b0.prototype.add=b0.prototype.push=I4,b0.prototype.has=D4;function es(a){var h=this.__data__=new zs(a);this.size=h.size}function A4(){this.__data__=new zs,this.size=0}function M4(a){var h=this.__data__,O=h.delete(a);return this.size=h.size,O}function B4(a){return this.__data__.get(a)}function L4(a){return this.__data__.has(a)}function F4(a,h){var O=this.__data__;if(O instanceof zs){var Be=O.__data__;if(!Dn||Be.length<o-1)return Be.push([a,h]),this.size=++O.size,this;O=this.__data__=new Ns(Be)}return O.set(a,h),this.size=O.size,this}es.prototype.clear=A4,es.prototype.delete=M4,es.prototype.get=B4,es.prototype.has=L4,es.prototype.set=F4;function Gh(a,h){var O=kr(a),Be=!O&&w0(a),ut=!O&&!Be&&l0(a),At=!O&&!Be&&!ut&&X0(a),ti=O||Be||ut||At,xi=ti?Ko(a.length,In):[],Di=xi.length;for(var pn in a)(h||Hn.call(a,pn))&&!(ti&&(pn=="length"||ut&&(pn=="offset"||pn=="parent")||At&&(pn=="buffer"||pn=="byteLength"||pn=="byteOffset")||Vs(pn,Di)))&&xi.push(pn);return xi}function Wh(a){var h=a.length;return h?a[Qd(0,h-1)]:t}function O4(a,h){return Rc(wo(a),S0(h,0,a.length))}function z4(a){return Rc(wo(a))}function Vd(a,h,O){(O!==t&&!ts(a[h],O)||O===t&&!(h in a))&&js(a,h,O)}function Cl(a,h,O){var Be=a[h];(!(Hn.call(a,h)&&ts(Be,O))||O===t&&!(h in a))&&js(a,h,O)}function pc(a,h){for(var O=a.length;O--;)if(ts(a[O][0],h))return O;return-1}function N4(a,h,O,Be){return r0(a,function(ut,At,ti){h(Be,ut,O(ut),ti)}),Be}function Zh(a,h){return a&&ys(h,eo(h),a)}function j4(a,h){return a&&ys(h,Ro(h),a)}function js(a,h,O){h=="__proto__"&&g0?g0(a,h,{configurable:!0,enumerable:!0,value:O,writable:!0}):a[h]=O}function Gd(a,h){for(var O=-1,Be=h.length,ut=St(Be),At=a==null;++O<Be;)ut[O]=At?t:Tu(a,h[O]);return ut}function S0(a,h,O){return a===a&&(O!==t&&(a=a<=O?a:O),h!==t&&(a=a>=h?a:h)),a}function Ho(a,h,O,Be,ut,At){var ti,xi=h&R,Di=h&b,pn=h&_;if(O&&(ti=ut?O(a,Be,ut,At):O(a)),ti!==t)return ti;if(!wa(a))return a;var mn=kr(a);if(mn){if(ti=R3(a),!xi)return wo(a,ti)}else{var yn=xo(a),Ln=yn==Q||yn==Ge;if(l0(a))return m1(a,xi);if(yn==z||yn==ft||Ln&&!ut){if(ti=Di||Ln?{}:L1(a),!xi)return Di?_3(a,j4(ti,a)):m3(a,Zh(ti,a))}else{if(!l[yn])return ut?a:{};ti=k3(a,yn,xi)}}At||(At=new es);var Kn=At.get(a);if(Kn)return Kn;At.set(a,ti),d2(a)?a.forEach(function(_r){ti.add(Ho(_r,h,O,_r,a,At))}):l2(a)&&a.forEach(function(_r,Hr){ti.set(Hr,Ho(_r,h,O,Hr,a,At))});var mr=pn?Di?du:cu:Di?Ro:eo,Fr=mn?t:mr(a);return A(Fr||a,function(_r,Hr){Fr&&(Hr=_r,_r=a[Hr]),Cl(ti,Hr,Ho(_r,h,O,Hr,a,At))}),ti}function U4(a){var h=eo(a);return function(O){return Yh(O,a,h)}}function Yh(a,h,O){var Be=O.length;if(a==null)return!Be;for(a=Ni(a);Be--;){var ut=O[Be],At=h[ut],ti=a[ut];if(ti===t&&!(ut in a)||!At(ti))return!1}return!0}function Xh(a,h,O){if(typeof a!="function")throw new bn(d);return Il(function(){a.apply(t,O)},h)}function Tl(a,h,O,Be){var ut=-1,At=Ke,ti=!0,xi=a.length,Di=[],pn=h.length;if(!xi)return Di;O&&(h=Et(h,ga(O))),Be?(At=vt,ti=!1):h.length>=o&&(At=Ga,ti=!1,h=new b0(h));e:for(;++ut<xi;){var mn=a[ut],yn=O==null?mn:O(mn);if(mn=Be||mn!==0?mn:0,ti&&yn===yn){for(var Ln=pn;Ln--;)if(h[Ln]===yn)continue e;Di.push(mn)}else At(h,yn,Be)||Di.push(mn)}return Di}var r0=b1(vs),qh=b1(Zd,!0);function H4(a,h){var O=!0;return r0(a,function(Be,ut,At){return O=!!h(Be,ut,At),O}),O}function mc(a,h,O){for(var Be=-1,ut=a.length;++Be<ut;){var At=a[Be],ti=h(At);if(ti!=null&&(xi===t?ti===ti&&!Fo(ti):O(ti,xi)))var xi=ti,Di=At}return Di}function V4(a,h,O,Be){var ut=a.length;for(O=Mr(O),O<0&&(O=-O>ut?0:ut+O),Be=Be===t||Be>ut?ut:Mr(Be),Be<0&&(Be+=ut),Be=O>Be?0:f2(Be);O<Be;)a[O++]=h;return a}function Jh(a,h){var O=[];return r0(a,function(Be,ut,At){h(Be,ut,At)&&O.push(Be)}),O}function ao(a,h,O,Be,ut){var At=-1,ti=a.length;for(O||(O=D3),ut||(ut=[]);++At<ti;){var xi=a[At];h>0&&O(xi)?h>1?ao(xi,h-1,O,Be,ut):Nt(ut,xi):Be||(ut[ut.length]=xi)}return ut}var Wd=S1(),Kh=S1(!0);function vs(a,h){return a&&Wd(a,h,eo)}function Zd(a,h){return a&&Kh(a,h,eo)}function _c(a,h){return Ze(h,function(O){return Gs(a[O])})}function C0(a,h){h=o0(h,a);for(var O=0,Be=h.length;a!=null&&O<Be;)a=a[bs(h[O++])];return O&&O==Be?a:t}function $h(a,h,O){var Be=h(a);return kr(a)?Be:Nt(Be,O(a))}function vo(a){return a==null?a===t?Xe:M:ho&&ho in Ni(a)?P3(a):z3(a)}function Yd(a,h){return a>h}function G4(a,h){return a!=null&&Hn.call(a,h)}function W4(a,h){return a!=null&&h in Ni(a)}function Z4(a,h,O){return a>=_i(h,O)&&a<Ma(h,O)}function Xd(a,h,O){for(var Be=O?vt:Ke,ut=a[0].length,At=a.length,ti=At,xi=St(At),Di=1/0,pn=[];ti--;){var mn=a[ti];ti&&h&&(mn=Et(mn,ga(h))),Di=_i(mn.length,Di),xi[ti]=!O&&(h||ut>=120&&mn.length>=120)?new b0(ti&&mn):t}mn=a[0];var yn=-1,Ln=xi[0];e:for(;++yn<ut&&pn.length<Di;){var Kn=mn[yn],mr=h?h(Kn):Kn;if(Kn=O||Kn!==0?Kn:0,!(Ln?Ga(Ln,mr):Be(pn,mr,O))){for(ti=At;--ti;){var Fr=xi[ti];if(!(Fr?Ga(Fr,mr):Be(a[ti],mr,O)))continue e}Ln&&Ln.push(mr),pn.push(Kn)}}return pn}function Y4(a,h,O,Be){return vs(a,function(ut,At,ti){h(Be,O(ut),At,ti)}),Be}function Pl(a,h,O){h=o0(h,a),a=N1(a,h);var Be=a==null?a:a[bs(Go(h))];return Be==null?t:B(Be,a,O)}function Qh(a){return Ba(a)&&vo(a)==ft}function X4(a){return Ba(a)&&vo(a)==ve}function q4(a){return Ba(a)&&vo(a)==ae}function wl(a,h,O,Be,ut){return a===h?!0:a==null||h==null||!Ba(a)&&!Ba(h)?a!==a&&h!==h:J4(a,h,O,Be,wl,ut)}function J4(a,h,O,Be,ut,At){var ti=kr(a),xi=kr(h),Di=ti?$t:xo(a),pn=xi?$t:xo(h);Di=Di==ft?z:Di,pn=pn==ft?z:pn;var mn=Di==z,yn=pn==z,Ln=Di==pn;if(Ln&&l0(a)){if(!l0(h))return!1;ti=!0,mn=!1}if(Ln&&!mn)return At||(At=new es),ti||X0(a)?A1(a,h,O,Be,ut,At):C3(a,h,Di,O,Be,ut,At);if(!(O&oe)){var Kn=mn&&Hn.call(a,"__wrapped__"),mr=yn&&Hn.call(h,"__wrapped__");if(Kn||mr){var Fr=Kn?a.value():a,_r=mr?h.value():h;return At||(At=new es),ut(Fr,_r,O,Be,At)}}return Ln?(At||(At=new es),T3(a,h,O,Be,ut,At)):!1}function K4(a){return Ba(a)&&xo(a)==H}function qd(a,h,O,Be){var ut=O.length,At=ut,ti=!Be;if(a==null)return!At;for(a=Ni(a);ut--;){var xi=O[ut];if(ti&&xi[2]?xi[1]!==a[xi[0]]:!(xi[0]in a))return!1}for(;++ut<At;){xi=O[ut];var Di=xi[0],pn=a[Di],mn=xi[1];if(ti&&xi[2]){if(pn===t&&!(Di in a))return!1}else{var yn=new es;if(Be)var Ln=Be(pn,mn,Di,a,h,yn);if(!(Ln===t?wl(mn,pn,oe|de,Be,yn):Ln))return!1}}return!0}function e1(a){if(!wa(a)||M3(a))return!1;var h=Gs(a)?_s:ni;return h.test(P0(a))}function $4(a){return Ba(a)&&vo(a)==Oe}function Q4(a){return Ba(a)&&xo(a)==Qe}function e3(a){return Ba(a)&&Bc(a.length)&&!!f[vo(a)]}function t1(a){return typeof a=="function"?a:a==null?ko:typeof a=="object"?kr(a)?r1(a[0],a[1]):n1(a):C2(a)}function Jd(a){if(!kl(a))return Sl(a);var h=[];for(var O in Ni(a))Hn.call(a,O)&&O!="constructor"&&h.push(O);return h}function t3(a){if(!wa(a))return O3(a);var h=kl(a),O=[];for(var Be in a)Be=="constructor"&&(h||!Hn.call(a,Be))||O.push(Be);return O}function Kd(a,h){return a<h}function i1(a,h){var O=-1,Be=Eo(a)?St(a.length):[];return r0(a,function(ut,At,ti){Be[++O]=h(ut,At,ti)}),Be}function n1(a){var h=fu(a);return h.length==1&&h[0][2]?O1(h[0][0],h[0][1]):function(O){return O===a||qd(O,a,h)}}function r1(a,h){return xu(a)&&F1(h)?O1(bs(a),h):function(O){var Be=Tu(O,a);return Be===t&&Be===h?Pu(O,a):wl(h,Be,oe|de)}}function gc(a,h,O,Be,ut){a!==h&&Wd(h,function(At,ti){if(ut||(ut=new es),wa(At))i3(a,h,ti,O,gc,Be,ut);else{var xi=Be?Be(mu(a,ti),At,ti+"",a,h,ut):t;xi===t&&(xi=At),Vd(a,ti,xi)}},Ro)}function i3(a,h,O,Be,ut,At,ti){var xi=mu(a,O),Di=mu(h,O),pn=ti.get(Di);if(pn){Vd(a,O,pn);return}var mn=At?At(xi,Di,O+"",a,h,ti):t,yn=mn===t;if(yn){var Ln=kr(Di),Kn=!Ln&&l0(Di),mr=!Ln&&!Kn&&X0(Di);mn=Di,Ln||Kn||mr?kr(xi)?mn=xi:Oa(xi)?mn=wo(xi):Kn?(yn=!1,mn=m1(Di,!0)):mr?(yn=!1,mn=_1(Di,!0)):mn=[]:Dl(Di)||w0(Di)?(mn=xi,w0(xi)?mn=h2(xi):(!wa(xi)||Gs(xi))&&(mn=L1(Di))):yn=!1}yn&&(ti.set(Di,mn),ut(mn,Di,Be,At,ti),ti.delete(Di)),Vd(a,O,mn)}function a1(a,h){var O=a.length;if(O)return h+=h<0?O:0,Vs(h,O)?a[h]:t}function o1(a,h,O){h.length?h=Et(h,function(At){return kr(At)?function(ti){return C0(ti,At.length===1?At[0]:At)}:At}):h=[ko];var Be=-1;h=Et(h,ga(fr()));var ut=i1(a,function(At,ti,xi){var Di=Et(h,function(pn){return pn(At)});return{criteria:Di,index:++Be,value:At}});return pa(ut,function(At,ti){return p3(At,ti,O)})}function n3(a,h){return s1(a,h,function(O,Be){return Pu(a,Be)})}function s1(a,h,O){for(var Be=-1,ut=h.length,At={};++Be<ut;){var ti=h[Be],xi=C0(a,ti);O(xi,ti)&&El(At,o0(ti,a),xi)}return At}function r3(a){return function(h){return C0(h,a)}}function $d(a,h,O,Be){var ut=Be?no:Ca,At=-1,ti=h.length,xi=a;for(a===h&&(h=wo(h)),O&&(xi=Et(a,ga(O)));++At<ti;)for(var Di=0,pn=h[At],mn=O?O(pn):pn;(Di=ut(xi,mn,Di,Be))>-1;)xi!==a&&_0.call(xi,Di,1),_0.call(a,Di,1);return a}function l1(a,h){for(var O=a?h.length:0,Be=O-1;O--;){var ut=h[O];if(O==Be||ut!==At){var At=ut;Vs(ut)?_0.call(a,ut,1):iu(a,ut)}}return a}function Qd(a,h){return a+H0(Vi()*(h-a+1))}function a3(a,h,O,Be){for(var ut=-1,At=Ma(i0((h-a)/(O||1)),0),ti=St(At);At--;)ti[Be?At:++ut]=a,a+=O;return ti}function eu(a,h){var O="";if(!a||h<1||h>Pi)return O;do h%2&&(O+=a),h=H0(h/2),h&&(a+=a);while(h);return O}function zr(a,h){return _u(z1(a,h,ko),a+"")}function o3(a){return Wh(q0(a))}function s3(a,h){var O=q0(a);return Rc(O,S0(h,0,O.length))}function El(a,h,O,Be){if(!wa(a))return a;h=o0(h,a);for(var ut=-1,At=h.length,ti=At-1,xi=a;xi!=null&&++ut<At;){var Di=bs(h[ut]),pn=O;if(Di==="__proto__"||Di==="constructor"||Di==="prototype")return a;if(ut!=ti){var mn=xi[Di];pn=Be?Be(mn,Di,xi):t,pn===t&&(pn=wa(mn)?mn:Vs(h[ut+1])?[]:{})}Cl(xi,Di,pn),xi=xi[Di]}return a}var c1=gr?function(a,h){return gr.set(a,h),a}:ko,l3=g0?function(a,h){return g0(a,"toString",{configurable:!0,enumerable:!1,value:Eu(h),writable:!0})}:ko;function c3(a){return Rc(q0(a))}function Vo(a,h,O){var Be=-1,ut=a.length;h<0&&(h=-h>ut?0:ut+h),O=O>ut?ut:O,O<0&&(O+=ut),ut=h>O?0:O-h>>>0,h>>>=0;for(var At=St(ut);++Be<ut;)At[Be]=a[Be+h];return At}function d3(a,h){var O;return r0(a,function(Be,ut,At){return O=h(Be,ut,At),!O}),!!O}function vc(a,h,O){var Be=0,ut=a==null?Be:a.length;if(typeof h=="number"&&h===h&&ut<=rt){for(;Be<ut;){var At=Be+ut>>>1,ti=a[At];ti!==null&&!Fo(ti)&&(O?ti<=h:ti<h)?Be=At+1:ut=At}return ut}return tu(a,h,ko,O)}function tu(a,h,O,Be){var ut=0,At=a==null?0:a.length;if(At===0)return 0;h=O(h);for(var ti=h!==h,xi=h===null,Di=Fo(h),pn=h===t;ut<At;){var mn=H0((ut+At)/2),yn=O(a[mn]),Ln=yn!==t,Kn=yn===null,mr=yn===yn,Fr=Fo(yn);if(ti)var _r=Be||mr;else pn?_r=mr&&(Be||Ln):xi?_r=mr&&Ln&&(Be||!Kn):Di?_r=mr&&Ln&&!Kn&&(Be||!Fr):Kn||Fr?_r=!1:_r=Be?yn<=h:yn<h;_r?ut=mn+1:At=mn}return _i(At,pt)}function d1(a,h){for(var O=-1,Be=a.length,ut=0,At=[];++O<Be;){var ti=a[O],xi=h?h(ti):ti;if(!O||!ts(xi,Di)){var Di=xi;At[ut++]=ti===0?0:ti}}return At}function u1(a){return typeof a=="number"?a:Fo(a)?Qi:+a}function Lo(a){if(typeof a=="string")return a;if(kr(a))return Et(a,Lo)+"";if(Fo(a))return Os?Os.call(a):"";var h=a+"";return h=="0"&&1/a==-Hi?"-0":h}function a0(a,h,O){var Be=-1,ut=Ke,At=a.length,ti=!0,xi=[],Di=xi;if(O)ti=!1,ut=vt;else if(At>=o){var pn=h?null:b3(a);if(pn)return G(pn);ti=!1,ut=Ga,Di=new b0}else Di=h?[]:xi;e:for(;++Be<At;){var mn=a[Be],yn=h?h(mn):mn;if(mn=O||mn!==0?mn:0,ti&&yn===yn){for(var Ln=Di.length;Ln--;)if(Di[Ln]===yn)continue e;h&&Di.push(yn),xi.push(mn)}else ut(Di,yn,O)||(Di!==xi&&Di.push(yn),xi.push(mn))}return xi}function iu(a,h){return h=o0(h,a),a=N1(a,h),a==null||delete a[bs(Go(h))]}function f1(a,h,O,Be){return El(a,h,O(C0(a,h)),Be)}function yc(a,h,O,Be){for(var ut=a.length,At=Be?ut:-1;(Be?At--:++At<ut)&&h(a[At],At,a););return O?Vo(a,Be?0:At,Be?At+1:ut):Vo(a,Be?At+1:0,Be?ut:At)}function h1(a,h){var O=a;return O instanceof Yr&&(O=O.value()),Ri(h,function(Be,ut){return ut.func.apply(ut.thisArg,Nt([Be],ut.args))},O)}function nu(a,h,O){var Be=a.length;if(Be<2)return Be?a0(a[0]):[];for(var ut=-1,At=St(Be);++ut<Be;)for(var ti=a[ut],xi=-1;++xi<Be;)xi!=ut&&(At[ut]=Tl(At[ut]||ti,a[xi],h,O));return a0(ao(At,1),h,O)}function x1(a,h,O){for(var Be=-1,ut=a.length,At=h.length,ti={};++Be<ut;){var xi=Be<At?h[Be]:t;O(ti,a[Be],xi)}return ti}function ru(a){return Oa(a)?a:[]}function au(a){return typeof a=="function"?a:ko}function o0(a,h){return kr(a)?a:xu(a,h)?[a]:V1(ua(a))}var u3=zr;function s0(a,h,O){var Be=a.length;return O=O===t?Be:O,!h&&O>=Be?a:Vo(a,h,O)}var p1=v0||function(a){return W.clearTimeout(a)};function m1(a,h){if(h)return a.slice();var O=a.length,Be=Po?Po(O):new a.constructor(O);return a.copy(Be),Be}function ou(a){var h=new a.constructor(a.byteLength);return new Ls(h).set(new Ls(a)),h}function f3(a,h){var O=h?ou(a.buffer):a.buffer;return new a.constructor(O,a.byteOffset,a.byteLength)}function h3(a){var h=new a.constructor(a.source,Ne.exec(a));return h.lastIndex=a.lastIndex,h}function x3(a){return Qo?Ni(Qo.call(a)):{}}function _1(a,h){var O=h?ou(a.buffer):a.buffer;return new a.constructor(O,a.byteOffset,a.length)}function g1(a,h){if(a!==h){var O=a!==t,Be=a===null,ut=a===a,At=Fo(a),ti=h!==t,xi=h===null,Di=h===h,pn=Fo(h);if(!xi&&!pn&&!At&&a>h||At&&ti&&Di&&!xi&&!pn||Be&&ti&&Di||!O&&Di||!ut)return 1;if(!Be&&!At&&!pn&&a<h||pn&&O&&ut&&!Be&&!At||xi&&O&&ut||!ti&&ut||!Di)return-1}return 0}function p3(a,h,O){for(var Be=-1,ut=a.criteria,At=h.criteria,ti=ut.length,xi=O.length;++Be<ti;){var Di=g1(ut[Be],At[Be]);if(Di){if(Be>=xi)return Di;var pn=O[Be];return Di*(pn=="desc"?-1:1)}}return a.index-h.index}function v1(a,h,O,Be){for(var ut=-1,At=a.length,ti=O.length,xi=-1,Di=h.length,pn=Ma(At-ti,0),mn=St(Di+pn),yn=!Be;++xi<Di;)mn[xi]=h[xi];for(;++ut<ti;)(yn||ut<At)&&(mn[O[ut]]=a[ut]);for(;pn--;)mn[xi++]=a[ut++];return mn}function y1(a,h,O,Be){for(var ut=-1,At=a.length,ti=-1,xi=O.length,Di=-1,pn=h.length,mn=Ma(At-xi,0),yn=St(mn+pn),Ln=!Be;++ut<mn;)yn[ut]=a[ut];for(var Kn=ut;++Di<pn;)yn[Kn+Di]=h[Di];for(;++ti<xi;)(Ln||ut<At)&&(yn[Kn+O[ti]]=a[ut++]);return yn}function wo(a,h){var O=-1,Be=a.length;for(h||(h=St(Be));++O<Be;)h[O]=a[O];return h}function ys(a,h,O,Be){var ut=!O;O||(O={});for(var At=-1,ti=h.length;++At<ti;){var xi=h[At],Di=Be?Be(O[xi],a[xi],xi,O,a):t;Di===t&&(Di=a[xi]),ut?js(O,xi,Di):Cl(O,xi,Di)}return O}function m3(a,h){return ys(a,hu(a),h)}function _3(a,h){return ys(a,M1(a),h)}function bc(a,h){return function(O,Be){var ut=kr(O)?p:N4,At=h?h():{};return ut(O,a,fr(Be,2),At)}}function W0(a){return zr(function(h,O){var Be=-1,ut=O.length,At=ut>1?O[ut-1]:t,ti=ut>2?O[2]:t;for(At=a.length>3&&typeof At=="function"?(ut--,At):t,ti&&yo(O[0],O[1],ti)&&(At=ut<3?t:At,ut=1),h=Ni(h);++Be<ut;){var xi=O[Be];xi&&a(h,xi,Be,At)}return h})}function b1(a,h){return function(O,Be){if(O==null)return O;if(!Eo(O))return a(O,Be);for(var ut=O.length,At=h?ut:-1,ti=Ni(O);(h?At--:++At<ut)&&Be(ti[At],At,ti)!==!1;);return O}}function S1(a){return function(h,O,Be){for(var ut=-1,At=Ni(h),ti=Be(h),xi=ti.length;xi--;){var Di=ti[a?xi:++ut];if(O(At[Di],Di,At)===!1)break}return h}}function g3(a,h,O){var Be=h&xe,ut=Rl(a);function At(){var ti=this&&this!==W&&this instanceof At?ut:a;return ti.apply(Be?O:this,arguments)}return At}function C1(a){return function(h){h=ua(h);var O=oi(h)?ct(h):t,Be=O?O[0]:h.charAt(0),ut=O?s0(O,1).join(""):h.slice(1);return Be[a]()+ut}}function Z0(a){return function(h){return Ri(b2(y2(h).replace(jo,"")),a,"")}}function Rl(a){return function(){var h=arguments;switch(h.length){case 0:return new a;case 1:return new a(h[0]);case 2:return new a(h[0],h[1]);case 3:return new a(h[0],h[1],h[2]);case 4:return new a(h[0],h[1],h[2],h[3]);case 5:return new a(h[0],h[1],h[2],h[3],h[4]);case 6:return new a(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new a(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var O=G0(a.prototype),Be=a.apply(O,h);return wa(Be)?Be:O}}function v3(a,h,O){var Be=Rl(a);function ut(){for(var At=arguments.length,ti=St(At),xi=At,Di=Y0(ut);xi--;)ti[xi]=arguments[xi];var pn=At<3&&ti[0]!==Di&&ti[At-1]!==Di?[]:y(ti,Di);if(At-=pn.length,At<O)return R1(a,h,Sc,ut.placeholder,t,ti,pn,t,t,O-At);var mn=this&&this!==W&&this instanceof ut?Be:a;return B(mn,this,ti)}return ut}function T1(a){return function(h,O,Be){var ut=Ni(h);if(!Eo(h)){var At=fr(O,3);h=eo(h),O=function(xi){return At(ut[xi],xi,ut)}}var ti=a(h,O,Be);return ti>-1?ut[At?h[ti]:ti]:t}}function P1(a){return Hs(function(h){var O=h.length,Be=O,ut=Uo.prototype.thru;for(a&&h.reverse();Be--;){var At=h[Be];if(typeof At!="function")throw new bn(d);if(ut&&!ti&&wc(At)=="wrapper")var ti=new Uo([],!0)}for(Be=ti?Be:O;++Be<O;){At=h[Be];var xi=wc(At),Di=xi=="wrapper"?uu(At):t;Di&&pu(Di[0])&&Di[1]==(le|qe|m|re)&&!Di[4].length&&Di[9]==1?ti=ti[wc(Di[0])].apply(ti,Di[3]):ti=At.length==1&&pu(At)?ti[xi]():ti.thru(At)}return function(){var pn=arguments,mn=pn[0];if(ti&&pn.length==1&&kr(mn))return ti.plant(mn).value();for(var yn=0,Ln=O?h[yn].apply(this,pn):mn;++yn<O;)Ln=h[yn].call(this,Ln);return Ln}})}function Sc(a,h,O,Be,ut,At,ti,xi,Di,pn){var mn=h&le,yn=h&xe,Ln=h&se,Kn=h&(qe|me),mr=h&Pe,Fr=Ln?t:Rl(a);function _r(){for(var Hr=arguments.length,qr=St(Hr),Oo=Hr;Oo--;)qr[Oo]=arguments[Oo];if(Kn)var bo=Y0(_r),zo=Ee(qr,bo);if(Be&&(qr=v1(qr,Be,ut,Kn)),At&&(qr=y1(qr,At,ti,Kn)),Hr-=zo,Kn&&Hr<pn){var za=y(qr,bo);return R1(a,h,Sc,_r.placeholder,O,qr,za,xi,Di,pn-Hr)}var is=yn?O:this,Zs=Ln?is[a]:a;return Hr=qr.length,xi?qr=N3(qr,xi):mr&&Hr>1&&qr.reverse(),mn&&Di<Hr&&(qr.length=Di),this&&this!==W&&this instanceof _r&&(Zs=Fr||Rl(Zs)),Zs.apply(is,qr)}return _r}function w1(a,h){return function(O,Be){return Y4(O,a,h(Be),{})}}function Cc(a,h){return function(O,Be){var ut;if(O===t&&Be===t)return h;if(O!==t&&(ut=O),Be!==t){if(ut===t)return Be;typeof O=="string"||typeof Be=="string"?(O=Lo(O),Be=Lo(Be)):(O=u1(O),Be=u1(Be)),ut=a(O,Be)}return ut}}function su(a){return Hs(function(h){return h=Et(h,ga(fr())),zr(function(O){var Be=this;return a(h,function(ut){return B(ut,Be,O)})})})}function Tc(a,h){h=h===t?" ":Lo(h);var O=h.length;if(O<2)return O?eu(h,a):h;var Be=eu(h,i0(a/Ue(h)));return oi(h)?s0(ct(Be),0,a).join(""):Be.slice(0,a)}function y3(a,h,O,Be){var ut=h&xe,At=Rl(a);function ti(){for(var xi=-1,Di=arguments.length,pn=-1,mn=Be.length,yn=St(mn+Di),Ln=this&&this!==W&&this instanceof ti?At:a;++pn<mn;)yn[pn]=Be[pn];for(;Di--;)yn[pn++]=arguments[++xi];return B(Ln,ut?O:this,yn)}return ti}function E1(a){return function(h,O,Be){return Be&&typeof Be!="number"&&yo(h,O,Be)&&(O=Be=t),h=Ws(h),O===t?(O=h,h=0):O=Ws(O),Be=Be===t?h<O?1:-1:Ws(Be),a3(h,O,Be,a)}}function Pc(a){return function(h,O){return typeof h=="string"&&typeof O=="string"||(h=Wo(h),O=Wo(O)),a(h,O)}}function R1(a,h,O,Be,ut,At,ti,xi,Di,pn){var mn=h&qe,yn=mn?ti:t,Ln=mn?t:ti,Kn=mn?At:t,mr=mn?t:At;h|=mn?m:U,h&=~(mn?U:m),h&Ae||(h&=~(xe|se));var Fr=[a,h,ut,Kn,yn,mr,Ln,xi,Di,pn],_r=O.apply(t,Fr);return pu(a)&&j1(_r,Fr),_r.placeholder=Be,U1(_r,a,h)}function lu(a){var h=qi[a];return function(O,Be){if(O=Wo(O),Be=Be==null?0:_i(Mr(Be),292),Be&&V0(O)){var ut=(ua(O)+"e").split("e"),At=h(ut[0]+"e"+(+ut[1]+Be));return ut=(ua(At)+"e").split("e"),+(ut[0]+"e"+(+ut[1]-Be))}return h(O)}}var b3=zn&&1/G(new zn([,-0]))[1]==Hi?function(a){return new zn(a)}:Iu;function k1(a){return function(h){var O=xo(h);return O==H?sr(h):O==Qe?q(h):ro(h,a(h))}}function Us(a,h,O,Be,ut,At,ti,xi){var Di=h&se;if(!Di&&typeof a!="function")throw new bn(d);var pn=Be?Be.length:0;if(pn||(h&=~(m|U),Be=ut=t),ti=ti===t?ti:Ma(Mr(ti),0),xi=xi===t?xi:Mr(xi),pn-=ut?ut.length:0,h&U){var mn=Be,yn=ut;Be=ut=t}var Ln=Di?t:uu(a),Kn=[a,h,O,Be,ut,mn,yn,At,ti,xi];if(Ln&&F3(Kn,Ln),a=Kn[0],h=Kn[1],O=Kn[2],Be=Kn[3],ut=Kn[4],xi=Kn[9]=Kn[9]===t?Di?0:a.length:Ma(Kn[9]-pn,0),!xi&&h&(qe|me)&&(h&=~(qe|me)),!h||h==xe)var mr=g3(a,h,O);else h==qe||h==me?mr=v3(a,h,xi):(h==m||h==(xe|m))&&!ut.length?mr=y3(a,h,O,Be):mr=Sc.apply(t,Kn);var Fr=Ln?c1:j1;return U1(Fr(mr,Kn),a,h)}function I1(a,h,O,Be){return a===t||ts(a,Xn[O])&&!Hn.call(Be,O)?h:a}function D1(a,h,O,Be,ut,At){return wa(a)&&wa(h)&&(At.set(h,a),gc(a,h,t,D1,At),At.delete(h)),a}function S3(a){return Dl(a)?t:a}function A1(a,h,O,Be,ut,At){var ti=O&oe,xi=a.length,Di=h.length;if(xi!=Di&&!(ti&&Di>xi))return!1;var pn=At.get(a),mn=At.get(h);if(pn&&mn)return pn==h&&mn==a;var yn=-1,Ln=!0,Kn=O&de?new b0:t;for(At.set(a,h),At.set(h,a);++yn<xi;){var mr=a[yn],Fr=h[yn];if(Be)var _r=ti?Be(Fr,mr,yn,h,a,At):Be(mr,Fr,yn,a,h,At);if(_r!==t){if(_r)continue;Ln=!1;break}if(Kn){if(!vn(h,function(Hr,qr){if(!Ga(Kn,qr)&&(mr===Hr||ut(mr,Hr,O,Be,At)))return Kn.push(qr)})){Ln=!1;break}}else if(!(mr===Fr||ut(mr,Fr,O,Be,At))){Ln=!1;break}}return At.delete(a),At.delete(h),Ln}function C3(a,h,O,Be,ut,At,ti){switch(O){case Le:if(a.byteLength!=h.byteLength||a.byteOffset!=h.byteOffset)return!1;a=a.buffer,h=h.buffer;case ve:return!(a.byteLength!=h.byteLength||!At(new Ls(a),new Ls(h)));case zt:case ae:case _e:return ts(+a,+h);case E:return a.name==h.name&&a.message==h.message;case Oe:case st:return a==h+"";case H:var xi=sr;case Qe:var Di=Be&oe;if(xi||(xi=G),a.size!=h.size&&!Di)return!1;var pn=ti.get(a);if(pn)return pn==h;Be|=de,ti.set(a,h);var mn=A1(xi(a),xi(h),Be,ut,At,ti);return ti.delete(a),mn;case D:if(Qo)return Qo.call(a)==Qo.call(h)}return!1}function T3(a,h,O,Be,ut,At){var ti=O&oe,xi=cu(a),Di=xi.length,pn=cu(h),mn=pn.length;if(Di!=mn&&!ti)return!1;for(var yn=Di;yn--;){var Ln=xi[yn];if(!(ti?Ln in h:Hn.call(h,Ln)))return!1}var Kn=At.get(a),mr=At.get(h);if(Kn&&mr)return Kn==h&&mr==a;var Fr=!0;At.set(a,h),At.set(h,a);for(var _r=ti;++yn<Di;){Ln=xi[yn];var Hr=a[Ln],qr=h[Ln];if(Be)var Oo=ti?Be(qr,Hr,Ln,h,a,At):Be(Hr,qr,Ln,a,h,At);if(!(Oo===t?Hr===qr||ut(Hr,qr,O,Be,At):Oo)){Fr=!1;break}_r||(_r=Ln=="constructor")}if(Fr&&!_r){var bo=a.constructor,zo=h.constructor;bo!=zo&&"constructor"in a&&"constructor"in h&&!(typeof bo=="function"&&bo instanceof bo&&typeof zo=="function"&&zo instanceof zo)&&(Fr=!1)}return At.delete(a),At.delete(h),Fr}function Hs(a){return _u(z1(a,t,Y1),a+"")}function cu(a){return $h(a,eo,hu)}function du(a){return $h(a,Ro,M1)}var uu=gr?function(a){return gr.get(a)}:Iu;function wc(a){for(var h=a.name+"",O=Rr[h],Be=Hn.call(Rr,h)?O.length:0;Be--;){var ut=O[Be],At=ut.func;if(At==null||At==a)return ut.name}return h}function Y0(a){var h=Hn.call(Ct,"placeholder")?Ct:a;return h.placeholder}function fr(){var a=Ct.iteratee||Ru;return a=a===Ru?t1:a,arguments.length?a(arguments[0],arguments[1]):a}function Ec(a,h){var O=a.__data__;return A3(h)?O[typeof h=="string"?"string":"hash"]:O.map}function fu(a){for(var h=eo(a),O=h.length;O--;){var Be=h[O],ut=a[Be];h[O]=[Be,ut,F1(ut)]}return h}function T0(a,h){var O=Bt(a,h);return e1(O)?O:t}function P3(a){var h=Hn.call(a,ho),O=a[ho];try{a[ho]=t;var Be=!0}catch{}var ut=aa.call(a);return Be&&(h?a[ho]=O:delete a[ho]),ut}var hu=n0?function(a){return a==null?[]:(a=Ni(a),Ze(n0(a),function(h){return hc.call(a,h)}))}:Du,M1=n0?function(a){for(var h=[];a;)Nt(h,hu(a)),a=$o(a);return h}:Du,xo=vo;(Sn&&xo(new Sn(new ArrayBuffer(1)))!=Le||Dn&&xo(new Dn)!=H||Wn&&xo(Wn.resolve())!=ce||zn&&xo(new zn)!=Qe||rr&&xo(new rr)!=X)&&(xo=function(a){var h=vo(a),O=h==z?a.constructor:t,Be=O?P0(O):"";if(Be)switch(Be){case Dr:return Le;case ta:return H;case ma:return ce;case go:return Qe;case Qa:return X}return h});function w3(a,h,O){for(var Be=-1,ut=O.length;++Be<ut;){var At=O[Be],ti=At.size;switch(At.type){case"drop":a+=ti;break;case"dropRight":h-=ti;break;case"take":h=_i(h,a+ti);break;case"takeRight":a=Ma(a,h-ti);break}}return{start:a,end:h}}function E3(a){var h=a.match(V);return h?h[1].split(w):[]}function B1(a,h,O){h=o0(h,a);for(var Be=-1,ut=h.length,At=!1;++Be<ut;){var ti=bs(h[Be]);if(!(At=a!=null&&O(a,ti)))break;a=a[ti]}return At||++Be!=ut?At:(ut=a==null?0:a.length,!!ut&&Bc(ut)&&Vs(ti,ut)&&(kr(a)||w0(a)))}function R3(a){var h=a.length,O=new a.constructor(h);return h&&typeof a[0]=="string"&&Hn.call(a,"index")&&(O.index=a.index,O.input=a.input),O}function L1(a){return typeof a.constructor=="function"&&!kl(a)?G0($o(a)):{}}function k3(a,h,O){var Be=a.constructor;switch(h){case ve:return ou(a);case zt:case ae:return new Be(+a);case Le:return f3(a,O);case pe:case ee:case je:case mt:case gt:case Gt:case li:case Oi:case ge:return _1(a,O);case H:return new Be;case _e:case st:return new Be(a);case Oe:return h3(a);case Qe:return new Be;case D:return x3(a)}}function I3(a,h){var O=h.length;if(!O)return a;var Be=O-1;return h[Be]=(O>1?"& ":"")+h[Be],h=h.join(O>2?", ":" "),a.replace(Ut,`{
/* [wrapped with `+h+`] */
`)}function D3(a){return kr(a)||w0(a)||!!(gs&&a&&a[gs])}function Vs(a,h){var O=typeof a;return h=h??Pi,!!h&&(O=="number"||O!="symbol"&&Me.test(a))&&a>-1&&a%1==0&&a<h}function yo(a,h,O){if(!wa(O))return!1;var Be=typeof h;return(Be=="number"?Eo(O)&&Vs(h,O.length):Be=="string"&&h in O)?ts(O[h],a):!1}function xu(a,h){if(kr(a))return!1;var O=typeof a;return O=="number"||O=="symbol"||O=="boolean"||a==null||Fo(a)?!0:Ii.test(a)||!ht.test(a)||h!=null&&a in Ni(h)}function A3(a){var h=typeof a;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?a!=="__proto__":a===null}function pu(a){var h=wc(a),O=Ct[h];if(typeof O!="function"||!(h in Yr.prototype))return!1;if(a===O)return!0;var Be=uu(O);return!!Be&&a===Be[0]}function M3(a){return!!ra&&ra in a}var B3=xr?Gs:Au;function kl(a){var h=a&&a.constructor,O=typeof h=="function"&&h.prototype||Xn;return a===O}function F1(a){return a===a&&!wa(a)}function O1(a,h){return function(O){return O==null?!1:O[a]===h&&(h!==t||a in Ni(O))}}function L3(a){var h=Ac(a,function(Be){return O.size===P&&O.clear(),Be}),O=h.cache;return h}function F3(a,h){var O=a[1],Be=h[1],ut=O|Be,At=ut<(xe|se|le),ti=Be==le&&O==qe||Be==le&&O==re&&a[7].length<=h[8]||Be==(le|re)&&h[7].length<=h[8]&&O==qe;if(!(At||ti))return a;Be&xe&&(a[2]=h[2],ut|=O&xe?0:Ae);var xi=h[3];if(xi){var Di=a[3];a[3]=Di?v1(Di,xi,h[4]):xi,a[4]=Di?y(a[3],S):h[4]}return xi=h[5],xi&&(Di=a[5],a[5]=Di?y1(Di,xi,h[6]):xi,a[6]=Di?y(a[5],S):h[6]),xi=h[7],xi&&(a[7]=xi),Be&le&&(a[8]=a[8]==null?h[8]:_i(a[8],h[8])),a[9]==null&&(a[9]=h[9]),a[0]=h[0],a[1]=ut,a}function O3(a){var h=[];if(a!=null)for(var O in Ni(a))h.push(O);return h}function z3(a){return aa.call(a)}function z1(a,h,O){return h=Ma(h===t?a.length-1:h,0),function(){for(var Be=arguments,ut=-1,At=Ma(Be.length-h,0),ti=St(At);++ut<At;)ti[ut]=Be[h+ut];ut=-1;for(var xi=St(h+1);++ut<h;)xi[ut]=Be[ut];return xi[h]=O(ti),B(a,this,xi)}}function N1(a,h){return h.length<2?a:C0(a,Vo(h,0,-1))}function N3(a,h){for(var O=a.length,Be=_i(h.length,O),ut=wo(a);Be--;){var At=h[Be];a[Be]=Vs(At,O)?ut[At]:t}return a}function mu(a,h){if(!(h==="constructor"&&typeof a[h]=="function")&&h!="__proto__")return a[h]}var j1=H1(c1),Il=U0||function(a,h){return W.setTimeout(a,h)},_u=H1(l3);function U1(a,h,O){var Be=h+"";return _u(a,I3(Be,j3(E3(Be),O)))}function H1(a){var h=0,O=0;return function(){var Be=Vt(),ut=F-(Be-O);if(O=Be,ut>0){if(++h>=ot)return arguments[0]}else h=0;return a.apply(t,arguments)}}function Rc(a,h){var O=-1,Be=a.length,ut=Be-1;for(h=h===t?Be:h;++O<h;){var At=Qd(O,ut),ti=a[At];a[At]=a[O],a[O]=ti}return a.length=h,a}var V1=L3(function(a){var h=[];return a.charCodeAt(0)===46&&h.push(""),a.replace(ji,function(O,Be,ut,At){h.push(ut?At.replace(we,"$1"):Be||O)}),h});function bs(a){if(typeof a=="string"||Fo(a))return a;var h=a+"";return h=="0"&&1/a==-Hi?"-0":h}function P0(a){if(a!=null){try{return lr.call(a)}catch{}try{return a+""}catch{}}return""}function j3(a,h){return A(We,function(O){var Be="_."+O[0];h&O[1]&&!Ke(a,Be)&&a.push(Be)}),a.sort()}function G1(a){if(a instanceof Yr)return a.clone();var h=new Uo(a.__wrapped__,a.__chain__);return h.__actions__=wo(a.__actions__),h.__index__=a.__index__,h.__values__=a.__values__,h}function U3(a,h,O){(O?yo(a,h,O):h===t)?h=1:h=Ma(Mr(h),0);var Be=a==null?0:a.length;if(!Be||h<1)return[];for(var ut=0,At=0,ti=St(i0(Be/h));ut<Be;)ti[At++]=Vo(a,ut,ut+=h);return ti}function H3(a){for(var h=-1,O=a==null?0:a.length,Be=0,ut=[];++h<O;){var At=a[h];At&&(ut[Be++]=At)}return ut}function V3(){var a=arguments.length;if(!a)return[];for(var h=St(a-1),O=arguments[0],Be=a;Be--;)h[Be-1]=arguments[Be];return Nt(kr(O)?wo(O):[O],ao(h,1))}var G3=zr(function(a,h){return Oa(a)?Tl(a,ao(h,1,Oa,!0)):[]}),W3=zr(function(a,h){var O=Go(h);return Oa(O)&&(O=t),Oa(a)?Tl(a,ao(h,1,Oa,!0),fr(O,2)):[]}),Z3=zr(function(a,h){var O=Go(h);return Oa(O)&&(O=t),Oa(a)?Tl(a,ao(h,1,Oa,!0),t,O):[]});function Y3(a,h,O){var Be=a==null?0:a.length;return Be?(h=O||h===t?1:Mr(h),Vo(a,h<0?0:h,Be)):[]}function X3(a,h,O){var Be=a==null?0:a.length;return Be?(h=O||h===t?1:Mr(h),h=Be-h,Vo(a,0,h<0?0:h)):[]}function q3(a,h){return a&&a.length?yc(a,fr(h,3),!0,!0):[]}function J3(a,h){return a&&a.length?yc(a,fr(h,3),!0):[]}function K3(a,h,O,Be){var ut=a==null?0:a.length;return ut?(O&&typeof O!="number"&&yo(a,h,O)&&(O=0,Be=ut),V4(a,h,O,Be)):[]}function W1(a,h,O){var Be=a==null?0:a.length;if(!Be)return-1;var ut=O==null?0:Mr(O);return ut<0&&(ut=Ma(Be+ut,0)),Ur(a,fr(h,3),ut)}function Z1(a,h,O){var Be=a==null?0:a.length;if(!Be)return-1;var ut=Be-1;return O!==t&&(ut=Mr(O),ut=O<0?Ma(Be+ut,0):_i(ut,Be-1)),Ur(a,fr(h,3),ut,!0)}function Y1(a){var h=a==null?0:a.length;return h?ao(a,1):[]}function $3(a){var h=a==null?0:a.length;return h?ao(a,Hi):[]}function Q3(a,h){var O=a==null?0:a.length;return O?(h=h===t?1:Mr(h),ao(a,h)):[]}function eg(a){for(var h=-1,O=a==null?0:a.length,Be={};++h<O;){var ut=a[h];Be[ut[0]]=ut[1]}return Be}function X1(a){return a&&a.length?a[0]:t}function tg(a,h,O){var Be=a==null?0:a.length;if(!Be)return-1;var ut=O==null?0:Mr(O);return ut<0&&(ut=Ma(Be+ut,0)),Ca(a,h,ut)}function ig(a){var h=a==null?0:a.length;return h?Vo(a,0,-1):[]}var ng=zr(function(a){var h=Et(a,ru);return h.length&&h[0]===a[0]?Xd(h):[]}),rg=zr(function(a){var h=Go(a),O=Et(a,ru);return h===Go(O)?h=t:O.pop(),O.length&&O[0]===a[0]?Xd(O,fr(h,2)):[]}),ag=zr(function(a){var h=Go(a),O=Et(a,ru);return h=typeof h=="function"?h:t,h&&O.pop(),O.length&&O[0]===a[0]?Xd(O,t,h):[]});function og(a,h){return a==null?"":Hd.call(a,h)}function Go(a){var h=a==null?0:a.length;return h?a[h-1]:t}function sg(a,h,O){var Be=a==null?0:a.length;if(!Be)return-1;var ut=Be;return O!==t&&(ut=Mr(O),ut=ut<0?Ma(Be+ut,0):_i(ut,Be-1)),h===h?Fe(a,h,ut):Ur(a,Pa,ut,!0)}function lg(a,h){return a&&a.length?a1(a,Mr(h)):t}var cg=zr(q1);function q1(a,h){return a&&a.length&&h&&h.length?$d(a,h):a}function dg(a,h,O){return a&&a.length&&h&&h.length?$d(a,h,fr(O,2)):a}function ug(a,h,O){return a&&a.length&&h&&h.length?$d(a,h,t,O):a}var fg=Hs(function(a,h){var O=a==null?0:a.length,Be=Gd(a,h);return l1(a,Et(h,function(ut){return Vs(ut,O)?+ut:ut}).sort(g1)),Be});function hg(a,h){var O=[];if(!(a&&a.length))return O;var Be=-1,ut=[],At=a.length;for(h=fr(h,3);++Be<At;){var ti=a[Be];h(ti,Be,a)&&(O.push(ti),ut.push(Be))}return l1(a,ut),O}function gu(a){return a==null?a:dn.call(a)}function xg(a,h,O){var Be=a==null?0:a.length;return Be?(O&&typeof O!="number"&&yo(a,h,O)?(h=0,O=Be):(h=h==null?0:Mr(h),O=O===t?Be:Mr(O)),Vo(a,h,O)):[]}function pg(a,h){return vc(a,h)}function mg(a,h,O){return tu(a,h,fr(O,2))}function _g(a,h){var O=a==null?0:a.length;if(O){var Be=vc(a,h);if(Be<O&&ts(a[Be],h))return Be}return-1}function gg(a,h){return vc(a,h,!0)}function vg(a,h,O){return tu(a,h,fr(O,2),!0)}function yg(a,h){var O=a==null?0:a.length;if(O){var Be=vc(a,h,!0)-1;if(ts(a[Be],h))return Be}return-1}function bg(a){return a&&a.length?d1(a):[]}function Sg(a,h){return a&&a.length?d1(a,fr(h,2)):[]}function Cg(a){var h=a==null?0:a.length;return h?Vo(a,1,h):[]}function Tg(a,h,O){return a&&a.length?(h=O||h===t?1:Mr(h),Vo(a,0,h<0?0:h)):[]}function Pg(a,h,O){var Be=a==null?0:a.length;return Be?(h=O||h===t?1:Mr(h),h=Be-h,Vo(a,h<0?0:h,Be)):[]}function wg(a,h){return a&&a.length?yc(a,fr(h,3),!1,!0):[]}function Eg(a,h){return a&&a.length?yc(a,fr(h,3)):[]}var Rg=zr(function(a){return a0(ao(a,1,Oa,!0))}),kg=zr(function(a){var h=Go(a);return Oa(h)&&(h=t),a0(ao(a,1,Oa,!0),fr(h,2))}),Ig=zr(function(a){var h=Go(a);return h=typeof h=="function"?h:t,a0(ao(a,1,Oa,!0),t,h)});function Dg(a){return a&&a.length?a0(a):[]}function Ag(a,h){return a&&a.length?a0(a,fr(h,2)):[]}function Mg(a,h){return h=typeof h=="function"?h:t,a&&a.length?a0(a,t,h):[]}function vu(a){if(!(a&&a.length))return[];var h=0;return a=Ze(a,function(O){if(Oa(O))return h=Ma(O.length,h),!0}),Ko(h,function(O){return Et(a,or(O))})}function J1(a,h){if(!(a&&a.length))return[];var O=vu(a);return h==null?O:Et(O,function(Be){return B(h,t,Be)})}var Bg=zr(function(a,h){return Oa(a)?Tl(a,h):[]}),Lg=zr(function(a){return nu(Ze(a,Oa))}),Fg=zr(function(a){var h=Go(a);return Oa(h)&&(h=t),nu(Ze(a,Oa),fr(h,2))}),Og=zr(function(a){var h=Go(a);return h=typeof h=="function"?h:t,nu(Ze(a,Oa),t,h)}),zg=zr(vu);function Ng(a,h){return x1(a||[],h||[],Cl)}function jg(a,h){return x1(a||[],h||[],El)}var Ug=zr(function(a){var h=a.length,O=h>1?a[h-1]:t;return O=typeof O=="function"?(a.pop(),O):t,J1(a,O)});function K1(a){var h=Ct(a);return h.__chain__=!0,h}function Hg(a,h){return h(a),a}function kc(a,h){return h(a)}var Vg=Hs(function(a){var h=a.length,O=h?a[0]:0,Be=this.__wrapped__,ut=function(At){return Gd(At,a)};return h>1||this.__actions__.length||!(Be instanceof Yr)||!Vs(O)?this.thru(ut):(Be=Be.slice(O,+O+(h?1:0)),Be.__actions__.push({func:kc,args:[ut],thisArg:t}),new Uo(Be,this.__chain__).thru(function(At){return h&&!At.length&&At.push(t),At}))});function Gg(){return K1(this)}function Wg(){return new Uo(this.value(),this.__chain__)}function Zg(){this.__values__===t&&(this.__values__=u2(this.value()));var a=this.__index__>=this.__values__.length,h=a?t:this.__values__[this.__index__++];return{done:a,value:h}}function Yg(){return this}function Xg(a){for(var h,O=this;O instanceof xc;){var Be=G1(O);Be.__index__=0,Be.__values__=t,h?ut.__wrapped__=Be:h=Be;var ut=Be;O=O.__wrapped__}return ut.__wrapped__=a,h}function qg(){var a=this.__wrapped__;if(a instanceof Yr){var h=a;return this.__actions__.length&&(h=new Yr(this)),h=h.reverse(),h.__actions__.push({func:kc,args:[gu],thisArg:t}),new Uo(h,this.__chain__)}return this.thru(gu)}function Jg(){return h1(this.__wrapped__,this.__actions__)}var Kg=bc(function(a,h,O){Hn.call(a,O)?++a[O]:js(a,O,1)});function $g(a,h,O){var Be=kr(a)?Te:H4;return O&&yo(a,h,O)&&(h=t),Be(a,fr(h,3))}function Qg(a,h){var O=kr(a)?Ze:Jh;return O(a,fr(h,3))}var ev=T1(W1),tv=T1(Z1);function iv(a,h){return ao(Ic(a,h),1)}function nv(a,h){return ao(Ic(a,h),Hi)}function rv(a,h,O){return O=O===t?1:Mr(O),ao(Ic(a,h),O)}function $1(a,h){var O=kr(a)?A:r0;return O(a,fr(h,3))}function Q1(a,h){var O=kr(a)?Y:qh;return O(a,fr(h,3))}var av=bc(function(a,h,O){Hn.call(a,O)?a[O].push(h):js(a,O,[h])});function ov(a,h,O,Be){a=Eo(a)?a:q0(a),O=O&&!Be?Mr(O):0;var ut=a.length;return O<0&&(O=Ma(ut+O,0)),Lc(a)?O<=ut&&a.indexOf(h,O)>-1:!!ut&&Ca(a,h,O)>-1}var sv=zr(function(a,h,O){var Be=-1,ut=typeof h=="function",At=Eo(a)?St(a.length):[];return r0(a,function(ti){At[++Be]=ut?B(h,ti,O):Pl(ti,h,O)}),At}),lv=bc(function(a,h,O){js(a,O,h)});function Ic(a,h){var O=kr(a)?Et:i1;return O(a,fr(h,3))}function cv(a,h,O,Be){return a==null?[]:(kr(h)||(h=h==null?[]:[h]),O=Be?t:O,kr(O)||(O=O==null?[]:[O]),o1(a,h,O))}var dv=bc(function(a,h,O){a[O?0:1].push(h)},function(){return[[],[]]});function uv(a,h,O){var Be=kr(a)?Ri:fa,ut=arguments.length<3;return Be(a,fr(h,4),O,ut,r0)}function fv(a,h,O){var Be=kr(a)?Li:fa,ut=arguments.length<3;return Be(a,fr(h,4),O,ut,qh)}function hv(a,h){var O=kr(a)?Ze:Jh;return O(a,Mc(fr(h,3)))}function xv(a){var h=kr(a)?Wh:o3;return h(a)}function pv(a,h,O){(O?yo(a,h,O):h===t)?h=1:h=Mr(h);var Be=kr(a)?O4:s3;return Be(a,h)}function mv(a){var h=kr(a)?z4:c3;return h(a)}function _v(a){if(a==null)return 0;if(Eo(a))return Lc(a)?Ue(a):a.length;var h=xo(a);return h==H||h==Qe?a.size:Jd(a).length}function gv(a,h,O){var Be=kr(a)?vn:d3;return O&&yo(a,h,O)&&(h=t),Be(a,fr(h,3))}var vv=zr(function(a,h){if(a==null)return[];var O=h.length;return O>1&&yo(a,h[0],h[1])?h=[]:O>2&&yo(h[0],h[1],h[2])&&(h=[h[0]]),o1(a,ao(h,1),[])}),Dc=j0||function(){return W.Date.now()};function yv(a,h){if(typeof h!="function")throw new bn(d);return a=Mr(a),function(){if(--a<1)return h.apply(this,arguments)}}function e2(a,h,O){return h=O?t:h,h=a&&h==null?a.length:h,Us(a,le,t,t,t,t,h)}function t2(a,h){var O;if(typeof h!="function")throw new bn(d);return a=Mr(a),function(){return--a>0&&(O=h.apply(this,arguments)),a<=1&&(h=t),O}}var yu=zr(function(a,h,O){var Be=xe;if(O.length){var ut=y(O,Y0(yu));Be|=m}return Us(a,Be,h,O,ut)}),i2=zr(function(a,h,O){var Be=xe|se;if(O.length){var ut=y(O,Y0(i2));Be|=m}return Us(h,Be,a,O,ut)});function n2(a,h,O){h=O?t:h;var Be=Us(a,qe,t,t,t,t,t,h);return Be.placeholder=n2.placeholder,Be}function r2(a,h,O){h=O?t:h;var Be=Us(a,me,t,t,t,t,t,h);return Be.placeholder=r2.placeholder,Be}function a2(a,h,O){var Be,ut,At,ti,xi,Di,pn=0,mn=!1,yn=!1,Ln=!0;if(typeof a!="function")throw new bn(d);h=Wo(h)||0,wa(O)&&(mn=!!O.leading,yn="maxWait"in O,At=yn?Ma(Wo(O.maxWait)||0,h):At,Ln="trailing"in O?!!O.trailing:Ln);function Kn(za){var is=Be,Zs=ut;return Be=ut=t,pn=za,ti=a.apply(Zs,is),ti}function mr(za){return pn=za,xi=Il(Hr,h),mn?Kn(za):ti}function Fr(za){var is=za-Di,Zs=za-pn,T2=h-is;return yn?_i(T2,At-Zs):T2}function _r(za){var is=za-Di,Zs=za-pn;return Di===t||is>=h||is<0||yn&&Zs>=At}function Hr(){var za=Dc();if(_r(za))return qr(za);xi=Il(Hr,Fr(za))}function qr(za){return xi=t,Ln&&Be?Kn(za):(Be=ut=t,ti)}function Oo(){xi!==t&&p1(xi),pn=0,Be=Di=ut=xi=t}function bo(){return xi===t?ti:qr(Dc())}function zo(){var za=Dc(),is=_r(za);if(Be=arguments,ut=this,Di=za,is){if(xi===t)return mr(Di);if(yn)return p1(xi),xi=Il(Hr,h),Kn(Di)}return xi===t&&(xi=Il(Hr,h)),ti}return zo.cancel=Oo,zo.flush=bo,zo}var bv=zr(function(a,h){return Xh(a,1,h)}),Sv=zr(function(a,h,O){return Xh(a,Wo(h)||0,O)});function Cv(a){return Us(a,Pe)}function Ac(a,h){if(typeof a!="function"||h!=null&&typeof h!="function")throw new bn(d);var O=function(){var Be=arguments,ut=h?h.apply(this,Be):Be[0],At=O.cache;if(At.has(ut))return At.get(ut);var ti=a.apply(this,Be);return O.cache=At.set(ut,ti)||At,ti};return O.cache=new(Ac.Cache||Ns),O}Ac.Cache=Ns;function Mc(a){if(typeof a!="function")throw new bn(d);return function(){var h=arguments;switch(h.length){case 0:return!a.call(this);case 1:return!a.call(this,h[0]);case 2:return!a.call(this,h[0],h[1]);case 3:return!a.call(this,h[0],h[1],h[2])}return!a.apply(this,h)}}function Tv(a){return t2(2,a)}var Pv=u3(function(a,h){h=h.length==1&&kr(h[0])?Et(h[0],ga(fr())):Et(ao(h,1),ga(fr()));var O=h.length;return zr(function(Be){for(var ut=-1,At=_i(Be.length,O);++ut<At;)Be[ut]=h[ut].call(this,Be[ut]);return B(a,this,Be)})}),bu=zr(function(a,h){var O=y(h,Y0(bu));return Us(a,m,t,h,O)}),o2=zr(function(a,h){var O=y(h,Y0(o2));return Us(a,U,t,h,O)}),wv=Hs(function(a,h){return Us(a,re,t,t,t,h)});function Ev(a,h){if(typeof a!="function")throw new bn(d);return h=h===t?h:Mr(h),zr(a,h)}function Rv(a,h){if(typeof a!="function")throw new bn(d);return h=h==null?0:Ma(Mr(h),0),zr(function(O){var Be=O[h],ut=s0(O,0,h);return Be&&Nt(ut,Be),B(a,this,ut)})}function kv(a,h,O){var Be=!0,ut=!0;if(typeof a!="function")throw new bn(d);return wa(O)&&(Be="leading"in O?!!O.leading:Be,ut="trailing"in O?!!O.trailing:ut),a2(a,h,{leading:Be,maxWait:h,trailing:ut})}function Iv(a){return e2(a,1)}function Dv(a,h){return bu(au(h),a)}function Av(){if(!arguments.length)return[];var a=arguments[0];return kr(a)?a:[a]}function Mv(a){return Ho(a,_)}function Bv(a,h){return h=typeof h=="function"?h:t,Ho(a,_,h)}function Lv(a){return Ho(a,R|_)}function Fv(a,h){return h=typeof h=="function"?h:t,Ho(a,R|_,h)}function Ov(a,h){return h==null||Yh(a,h,eo(h))}function ts(a,h){return a===h||a!==a&&h!==h}var zv=Pc(Yd),Nv=Pc(function(a,h){return a>=h}),w0=Qh(function(){return arguments}())?Qh:function(a){return Ba(a)&&Hn.call(a,"callee")&&!hc.call(a,"callee")},kr=St.isArray,jv=Qt?ga(Qt):X4;function Eo(a){return a!=null&&Bc(a.length)&&!Gs(a)}function Oa(a){return Ba(a)&&Eo(a)}function Uv(a){return a===!0||a===!1||Ba(a)&&vo(a)==zt}var l0=bl||Au,Hv=Ai?ga(Ai):q4;function Vv(a){return Ba(a)&&a.nodeType===1&&!Dl(a)}function Gv(a){if(a==null)return!0;if(Eo(a)&&(kr(a)||typeof a=="string"||typeof a.splice=="function"||l0(a)||X0(a)||w0(a)))return!a.length;var h=xo(a);if(h==H||h==Qe)return!a.size;if(kl(a))return!Jd(a).length;for(var O in a)if(Hn.call(a,O))return!1;return!0}function Wv(a,h){return wl(a,h)}function Zv(a,h,O){O=typeof O=="function"?O:t;var Be=O?O(a,h):t;return Be===t?wl(a,h,t,O):!!Be}function Su(a){if(!Ba(a))return!1;var h=vo(a);return h==E||h==be||typeof a.message=="string"&&typeof a.name=="string"&&!Dl(a)}function Yv(a){return typeof a=="number"&&V0(a)}function Gs(a){if(!wa(a))return!1;var h=vo(a);return h==Q||h==Ge||h==ri||h==ie}function s2(a){return typeof a=="number"&&a==Mr(a)}function Bc(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=Pi}function wa(a){var h=typeof a;return a!=null&&(h=="object"||h=="function")}function Ba(a){return a!=null&&typeof a=="object"}var l2=on?ga(on):K4;function Xv(a,h){return a===h||qd(a,h,fu(h))}function qv(a,h,O){return O=typeof O=="function"?O:t,qd(a,h,fu(h),O)}function Jv(a){return c2(a)&&a!=+a}function Kv(a){if(B3(a))throw new fi(c);return e1(a)}function $v(a){return a===null}function Qv(a){return a==null}function c2(a){return typeof a=="number"||Ba(a)&&vo(a)==_e}function Dl(a){if(!Ba(a)||vo(a)!=z)return!1;var h=$o(a);if(h===null)return!0;var O=Hn.call(h,"constructor")&&h.constructor;return typeof O=="function"&&O instanceof O&&lr.call(O)==ya}var Cu=Ei?ga(Ei):$4;function e5(a){return s2(a)&&a>=-Pi&&a<=Pi}var d2=Xi?ga(Xi):Q4;function Lc(a){return typeof a=="string"||!kr(a)&&Ba(a)&&vo(a)==st}function Fo(a){return typeof a=="symbol"||Ba(a)&&vo(a)==D}var X0=wi?ga(wi):e3;function t5(a){return a===t}function i5(a){return Ba(a)&&xo(a)==X}function n5(a){return Ba(a)&&vo(a)==Ce}var r5=Pc(Kd),a5=Pc(function(a,h){return a<=h});function u2(a){if(!a)return[];if(Eo(a))return Lc(a)?ct(a):wo(a);if(Fs&&a[Fs])return $i(a[Fs]());var h=xo(a),O=h==H?sr:h==Qe?G:q0;return O(a)}function Ws(a){if(!a)return a===0?a:0;if(a=Wo(a),a===Hi||a===-Hi){var h=a<0?-1:1;return h*Ci}return a===a?a:0}function Mr(a){var h=Ws(a),O=h%1;return h===h?O?h-O:h:0}function f2(a){return a?S0(Mr(a),0,at):0}function Wo(a){if(typeof a=="number")return a;if(Fo(a))return Qi;if(wa(a)){var h=typeof a.valueOf=="function"?a.valueOf():a;a=wa(h)?h+"":h}if(typeof a!="string")return a===0?a:+a;a=Ja(a);var O=bt.test(a);return O||Zt.test(a)?ze(a.slice(2),O?2:8):Ye.test(a)?Qi:+a}function h2(a){return ys(a,Ro(a))}function o5(a){return a?S0(Mr(a),-Pi,Pi):a===0?a:0}function ua(a){return a==null?"":Lo(a)}var s5=W0(function(a,h){if(kl(h)||Eo(h)){ys(h,eo(h),a);return}for(var O in h)Hn.call(h,O)&&Cl(a,O,h[O])}),x2=W0(function(a,h){ys(h,Ro(h),a)}),Fc=W0(function(a,h,O,Be){ys(h,Ro(h),a,Be)}),l5=W0(function(a,h,O,Be){ys(h,eo(h),a,Be)}),c5=Hs(Gd);function d5(a,h){var O=G0(a);return h==null?O:Zh(O,h)}var u5=zr(function(a,h){a=Ni(a);var O=-1,Be=h.length,ut=Be>2?h[2]:t;for(ut&&yo(h[0],h[1],ut)&&(Be=1);++O<Be;)for(var At=h[O],ti=Ro(At),xi=-1,Di=ti.length;++xi<Di;){var pn=ti[xi],mn=a[pn];(mn===t||ts(mn,Xn[pn])&&!Hn.call(a,pn))&&(a[pn]=At[pn])}return a}),f5=zr(function(a){return a.push(t,D1),B(p2,t,a)});function h5(a,h){return yr(a,fr(h,3),vs)}function x5(a,h){return yr(a,fr(h,3),Zd)}function p5(a,h){return a==null?a:Wd(a,fr(h,3),Ro)}function m5(a,h){return a==null?a:Kh(a,fr(h,3),Ro)}function _5(a,h){return a&&vs(a,fr(h,3))}function g5(a,h){return a&&Zd(a,fr(h,3))}function v5(a){return a==null?[]:_c(a,eo(a))}function y5(a){return a==null?[]:_c(a,Ro(a))}function Tu(a,h,O){var Be=a==null?t:C0(a,h);return Be===t?O:Be}function b5(a,h){return a!=null&&B1(a,h,G4)}function Pu(a,h){return a!=null&&B1(a,h,W4)}var S5=w1(function(a,h,O){h!=null&&typeof h.toString!="function"&&(h=aa.call(h)),a[h]=O},Eu(ko)),C5=w1(function(a,h,O){h!=null&&typeof h.toString!="function"&&(h=aa.call(h)),Hn.call(a,h)?a[h].push(O):a[h]=[O]},fr),T5=zr(Pl);function eo(a){return Eo(a)?Gh(a):Jd(a)}function Ro(a){return Eo(a)?Gh(a,!0):t3(a)}function P5(a,h){var O={};return h=fr(h,3),vs(a,function(Be,ut,At){js(O,h(Be,ut,At),Be)}),O}function w5(a,h){var O={};return h=fr(h,3),vs(a,function(Be,ut,At){js(O,ut,h(Be,ut,At))}),O}var E5=W0(function(a,h,O){gc(a,h,O)}),p2=W0(function(a,h,O,Be){gc(a,h,O,Be)}),R5=Hs(function(a,h){var O={};if(a==null)return O;var Be=!1;h=Et(h,function(At){return At=o0(At,a),Be||(Be=At.length>1),At}),ys(a,du(a),O),Be&&(O=Ho(O,R|b|_,S3));for(var ut=h.length;ut--;)iu(O,h[ut]);return O});function k5(a,h){return m2(a,Mc(fr(h)))}var I5=Hs(function(a,h){return a==null?{}:n3(a,h)});function m2(a,h){if(a==null)return{};var O=Et(du(a),function(Be){return[Be]});return h=fr(h),s1(a,O,function(Be,ut){return h(Be,ut[0])})}function D5(a,h,O){h=o0(h,a);var Be=-1,ut=h.length;for(ut||(ut=1,a=t);++Be<ut;){var At=a==null?t:a[bs(h[Be])];At===t&&(Be=ut,At=O),a=Gs(At)?At.call(a):At}return a}function A5(a,h,O){return a==null?a:El(a,h,O)}function M5(a,h,O,Be){return Be=typeof Be=="function"?Be:t,a==null?a:El(a,h,O,Be)}var _2=k1(eo),g2=k1(Ro);function B5(a,h,O){var Be=kr(a),ut=Be||l0(a)||X0(a);if(h=fr(h,4),O==null){var At=a&&a.constructor;ut?O=Be?new At:[]:wa(a)?O=Gs(At)?G0($o(a)):{}:O={}}return(ut?A:vs)(a,function(ti,xi,Di){return h(O,ti,xi,Di)}),O}function L5(a,h){return a==null?!0:iu(a,h)}function F5(a,h,O){return a==null?a:f1(a,h,au(O))}function O5(a,h,O,Be){return Be=typeof Be=="function"?Be:t,a==null?a:f1(a,h,au(O),Be)}function q0(a){return a==null?[]:Ka(a,eo(a))}function z5(a){return a==null?[]:Ka(a,Ro(a))}function N5(a,h,O){return O===t&&(O=h,h=t),O!==t&&(O=Wo(O),O=O===O?O:0),h!==t&&(h=Wo(h),h=h===h?h:0),S0(Wo(a),h,O)}function j5(a,h,O){return h=Ws(h),O===t?(O=h,h=0):O=Ws(O),a=Wo(a),Z4(a,h,O)}function U5(a,h,O){if(O&&typeof O!="boolean"&&yo(a,h,O)&&(h=O=t),O===t&&(typeof h=="boolean"?(O=h,h=t):typeof a=="boolean"&&(O=a,a=t)),a===t&&h===t?(a=0,h=1):(a=Ws(a),h===t?(h=a,a=0):h=Ws(h)),a>h){var Be=a;a=h,h=Be}if(O||a%1||h%1){var ut=Vi();return _i(a+ut*(h-a+ke("1e-"+((ut+"").length-1))),h)}return Qd(a,h)}var H5=Z0(function(a,h,O){return h=h.toLowerCase(),a+(O?v2(h):h)});function v2(a){return wu(ua(a).toLowerCase())}function y2(a){return a=ua(a),a&&a.replace(dt,De).replace(Wr,"")}function V5(a,h,O){a=ua(a),h=Lo(h);var Be=a.length;O=O===t?Be:S0(Mr(O),0,Be);var ut=O;return O-=h.length,O>=0&&a.slice(O,ut)==h}function G5(a){return a=ua(a),a&&Ft.test(a)?a.replace(jt,He):a}function W5(a){return a=ua(a),a&&pi.test(a)?a.replace(Zi,"\\$&"):a}var Z5=Z0(function(a,h,O){return a+(O?"-":"")+h.toLowerCase()}),Y5=Z0(function(a,h,O){return a+(O?" ":"")+h.toLowerCase()}),X5=C1("toLowerCase");function q5(a,h,O){a=ua(a),h=Mr(h);var Be=h?Ue(a):0;if(!h||Be>=h)return a;var ut=(h-Be)/2;return Tc(H0(ut),O)+a+Tc(i0(ut),O)}function J5(a,h,O){a=ua(a),h=Mr(h);var Be=h?Ue(a):0;return h&&Be<h?a+Tc(h-Be,O):a}function K5(a,h,O){a=ua(a),h=Mr(h);var Be=h?Ue(a):0;return h&&Be<h?Tc(h-Be,O)+a:a}function $5(a,h,O){return O||h==null?h=0:h&&(h=+h),Gi(ua(a).replace(sn,""),h||0)}function Q5(a,h,O){return(O?yo(a,h,O):h===t)?h=1:h=Mr(h),eu(ua(a),h)}function ey(){var a=arguments,h=ua(a[0]);return a.length<3?h:h.replace(a[1],a[2])}var ty=Z0(function(a,h,O){return a+(O?"_":"")+h.toLowerCase()});function iy(a,h,O){return O&&typeof O!="number"&&yo(a,h,O)&&(h=O=t),O=O===t?at:O>>>0,O?(a=ua(a),a&&(typeof h=="string"||h!=null&&!Cu(h))&&(h=Lo(h),!h&&oi(a))?s0(ct(a),0,O):a.split(h,O)):[]}var ny=Z0(function(a,h,O){return a+(O?" ":"")+wu(h)});function ry(a,h,O){return a=ua(a),O=O==null?0:S0(Mr(O),0,a.length),h=Lo(h),a.slice(O,O+h.length)==h}function ay(a,h,O){var Be=Ct.templateSettings;O&&yo(a,h,O)&&(h=t),a=ua(a),h=Fc({},h,Be,I1);var ut=Fc({},h.imports,Be.imports,I1),At=eo(ut),ti=Ka(ut,At),xi,Di,pn=0,mn=h.interpolate||ai,yn="__p += '",Ln=kn((h.escape||ai).source+"|"+mn.source+"|"+(mn===si?Se:ai).source+"|"+(h.evaluate||ai).source+"|$","g"),Kn="//# sourceURL="+(Hn.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Je+"]")+`
`;a.replace(Ln,function(_r,Hr,qr,Oo,bo,zo){return qr||(qr=Oo),yn+=a.slice(pn,zo).replace(Fi,lt),Hr&&(xi=!0,yn+=`' +
__e(`+Hr+`) +
'`),bo&&(Di=!0,yn+=`';
`+bo+`;
__p += '`),qr&&(yn+=`' +
((__t = (`+qr+`)) == null ? '' : __t) +
'`),pn=zo+_r.length,_r}),yn+=`';
`;var mr=Hn.call(h,"variable")&&h.variable;if(!mr)yn=`with (obj) {
`+yn+`
}
`;else if(T.test(mr))throw new fi(u);yn=(Di?yn.replace(Ji,""):yn).replace(kt,"$1").replace(Lt,"$1;"),yn="function("+(mr||"obj")+`) {
`+(mr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(xi?", __e = _.escape":"")+(Di?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+yn+`return __p
}`;var Fr=S2(function(){return mi(At,Kn+"return "+yn).apply(t,ti)});if(Fr.source=yn,Su(Fr))throw Fr;return Fr}function oy(a){return ua(a).toLowerCase()}function sy(a){return ua(a).toUpperCase()}function ly(a,h,O){if(a=ua(a),a&&(O||h===t))return Ja(a);if(!a||!(h=Lo(h)))return a;var Be=ct(a),ut=ct(h),At=va(Be,ut),ti=$a(Be,ut)+1;return s0(Be,At,ti).join("")}function cy(a,h,O){if(a=ua(a),a&&(O||h===t))return a.slice(0,yt(a)+1);if(!a||!(h=Lo(h)))return a;var Be=ct(a),ut=$a(Be,ct(h))+1;return s0(Be,0,ut).join("")}function dy(a,h,O){if(a=ua(a),a&&(O||h===t))return a.replace(sn,"");if(!a||!(h=Lo(h)))return a;var Be=ct(a),ut=va(Be,ct(h));return s0(Be,ut).join("")}function uy(a,h){var O=fe,Be=$e;if(wa(h)){var ut="separator"in h?h.separator:ut;O="length"in h?Mr(h.length):O,Be="omission"in h?Lo(h.omission):Be}a=ua(a);var At=a.length;if(oi(a)){var ti=ct(a);At=ti.length}if(O>=At)return a;var xi=O-Ue(Be);if(xi<1)return Be;var Di=ti?s0(ti,0,xi).join(""):a.slice(0,xi);if(ut===t)return Di+Be;if(ti&&(xi+=Di.length-xi),Cu(ut)){if(a.slice(xi).search(ut)){var pn,mn=Di;for(ut.global||(ut=kn(ut.source,ua(Ne.exec(ut))+"g")),ut.lastIndex=0;pn=ut.exec(mn);)var yn=pn.index;Di=Di.slice(0,yn===t?xi:yn)}}else if(a.indexOf(Lo(ut),xi)!=xi){var Ln=Di.lastIndexOf(ut);Ln>-1&&(Di=Di.slice(0,Ln))}return Di+Be}function fy(a){return a=ua(a),a&&Dt.test(a)?a.replace(Tt,Ot):a}var hy=Z0(function(a,h,O){return a+(O?" ":"")+h.toUpperCase()}),wu=C1("toUpperCase");function b2(a,h,O){return a=ua(a),h=O?t:h,h===t?Ti(a)?Yi(a):ur(a):a.match(h)||[]}var S2=zr(function(a,h){try{return B(a,t,h)}catch(O){return Su(O)?O:new fi(O)}}),xy=Hs(function(a,h){return A(h,function(O){O=bs(O),js(a,O,yu(a[O],a))}),a});function py(a){var h=a==null?0:a.length,O=fr();return a=h?Et(a,function(Be){if(typeof Be[1]!="function")throw new bn(d);return[O(Be[0]),Be[1]]}):[],zr(function(Be){for(var ut=-1;++ut<h;){var At=a[ut];if(B(At[0],this,Be))return B(At[1],this,Be)}})}function my(a){return U4(Ho(a,R))}function Eu(a){return function(){return a}}function _y(a,h){return a==null||a!==a?h:a}var gy=P1(),vy=P1(!0);function ko(a){return a}function Ru(a){return t1(typeof a=="function"?a:Ho(a,R))}function yy(a){return n1(Ho(a,R))}function by(a,h){return r1(a,Ho(h,R))}var Sy=zr(function(a,h){return function(O){return Pl(O,a,h)}}),Cy=zr(function(a,h){return function(O){return Pl(a,O,h)}});function ku(a,h,O){var Be=eo(h),ut=_c(h,Be);O==null&&!(wa(h)&&(ut.length||!Be.length))&&(O=h,h=a,a=this,ut=_c(h,eo(h)));var At=!(wa(O)&&"chain"in O)||!!O.chain,ti=Gs(a);return A(ut,function(xi){var Di=h[xi];a[xi]=Di,ti&&(a.prototype[xi]=function(){var pn=this.__chain__;if(At||pn){var mn=a(this.__wrapped__),yn=mn.__actions__=wo(this.__actions__);return yn.push({func:Di,args:arguments,thisArg:a}),mn.__chain__=pn,mn}return Di.apply(a,Nt([this.value()],arguments))})}),a}function Ty(){return W._===this&&(W._=Bs),this}function Iu(){}function Py(a){return a=Mr(a),zr(function(h){return a1(h,a)})}var wy=su(Et),Ey=su(Te),Ry=su(vn);function C2(a){return xu(a)?or(bs(a)):r3(a)}function ky(a){return function(h){return a==null?t:C0(a,h)}}var Iy=E1(),Dy=E1(!0);function Du(){return[]}function Au(){return!1}function Ay(){return{}}function My(){return""}function By(){return!0}function Ly(a,h){if(a=Mr(a),a<1||a>Pi)return[];var O=at,Be=_i(a,at);h=fr(h),a-=at;for(var ut=Ko(Be,h);++O<a;)h(O);return ut}function Fy(a){return kr(a)?Et(a,bs):Fo(a)?[a]:wo(V1(ua(a)))}function Oy(a){var h=++Zr;return ua(a)+h}var zy=Cc(function(a,h){return a+h},0),Ny=lu("ceil"),jy=Cc(function(a,h){return a/h},1),Uy=lu("floor");function Hy(a){return a&&a.length?mc(a,ko,Yd):t}function Vy(a,h){return a&&a.length?mc(a,fr(h,2),Yd):t}function Gy(a){return _a(a,ko)}function Wy(a,h){return _a(a,fr(h,2))}function Zy(a){return a&&a.length?mc(a,ko,Kd):t}function Yy(a,h){return a&&a.length?mc(a,fr(h,2),Kd):t}var Xy=Cc(function(a,h){return a*h},1),qy=lu("round"),Jy=Cc(function(a,h){return a-h},0);function Ky(a){return a&&a.length?da(a,ko):0}function $y(a,h){return a&&a.length?da(a,fr(h,2)):0}return Ct.after=yv,Ct.ary=e2,Ct.assign=s5,Ct.assignIn=x2,Ct.assignInWith=Fc,Ct.assignWith=l5,Ct.at=c5,Ct.before=t2,Ct.bind=yu,Ct.bindAll=xy,Ct.bindKey=i2,Ct.castArray=Av,Ct.chain=K1,Ct.chunk=U3,Ct.compact=H3,Ct.concat=V3,Ct.cond=py,Ct.conforms=my,Ct.constant=Eu,Ct.countBy=Kg,Ct.create=d5,Ct.curry=n2,Ct.curryRight=r2,Ct.debounce=a2,Ct.defaults=u5,Ct.defaultsDeep=f5,Ct.defer=bv,Ct.delay=Sv,Ct.difference=G3,Ct.differenceBy=W3,Ct.differenceWith=Z3,Ct.drop=Y3,Ct.dropRight=X3,Ct.dropRightWhile=q3,Ct.dropWhile=J3,Ct.fill=K3,Ct.filter=Qg,Ct.flatMap=iv,Ct.flatMapDeep=nv,Ct.flatMapDepth=rv,Ct.flatten=Y1,Ct.flattenDeep=$3,Ct.flattenDepth=Q3,Ct.flip=Cv,Ct.flow=gy,Ct.flowRight=vy,Ct.fromPairs=eg,Ct.functions=v5,Ct.functionsIn=y5,Ct.groupBy=av,Ct.initial=ig,Ct.intersection=ng,Ct.intersectionBy=rg,Ct.intersectionWith=ag,Ct.invert=S5,Ct.invertBy=C5,Ct.invokeMap=sv,Ct.iteratee=Ru,Ct.keyBy=lv,Ct.keys=eo,Ct.keysIn=Ro,Ct.map=Ic,Ct.mapKeys=P5,Ct.mapValues=w5,Ct.matches=yy,Ct.matchesProperty=by,Ct.memoize=Ac,Ct.merge=E5,Ct.mergeWith=p2,Ct.method=Sy,Ct.methodOf=Cy,Ct.mixin=ku,Ct.negate=Mc,Ct.nthArg=Py,Ct.omit=R5,Ct.omitBy=k5,Ct.once=Tv,Ct.orderBy=cv,Ct.over=wy,Ct.overArgs=Pv,Ct.overEvery=Ey,Ct.overSome=Ry,Ct.partial=bu,Ct.partialRight=o2,Ct.partition=dv,Ct.pick=I5,Ct.pickBy=m2,Ct.property=C2,Ct.propertyOf=ky,Ct.pull=cg,Ct.pullAll=q1,Ct.pullAllBy=dg,Ct.pullAllWith=ug,Ct.pullAt=fg,Ct.range=Iy,Ct.rangeRight=Dy,Ct.rearg=wv,Ct.reject=hv,Ct.remove=hg,Ct.rest=Ev,Ct.reverse=gu,Ct.sampleSize=pv,Ct.set=A5,Ct.setWith=M5,Ct.shuffle=mv,Ct.slice=xg,Ct.sortBy=vv,Ct.sortedUniq=bg,Ct.sortedUniqBy=Sg,Ct.split=iy,Ct.spread=Rv,Ct.tail=Cg,Ct.take=Tg,Ct.takeRight=Pg,Ct.takeRightWhile=wg,Ct.takeWhile=Eg,Ct.tap=Hg,Ct.throttle=kv,Ct.thru=kc,Ct.toArray=u2,Ct.toPairs=_2,Ct.toPairsIn=g2,Ct.toPath=Fy,Ct.toPlainObject=h2,Ct.transform=B5,Ct.unary=Iv,Ct.union=Rg,Ct.unionBy=kg,Ct.unionWith=Ig,Ct.uniq=Dg,Ct.uniqBy=Ag,Ct.uniqWith=Mg,Ct.unset=L5,Ct.unzip=vu,Ct.unzipWith=J1,Ct.update=F5,Ct.updateWith=O5,Ct.values=q0,Ct.valuesIn=z5,Ct.without=Bg,Ct.words=b2,Ct.wrap=Dv,Ct.xor=Lg,Ct.xorBy=Fg,Ct.xorWith=Og,Ct.zip=zg,Ct.zipObject=Ng,Ct.zipObjectDeep=jg,Ct.zipWith=Ug,Ct.entries=_2,Ct.entriesIn=g2,Ct.extend=x2,Ct.extendWith=Fc,ku(Ct,Ct),Ct.add=zy,Ct.attempt=S2,Ct.camelCase=H5,Ct.capitalize=v2,Ct.ceil=Ny,Ct.clamp=N5,Ct.clone=Mv,Ct.cloneDeep=Lv,Ct.cloneDeepWith=Fv,Ct.cloneWith=Bv,Ct.conformsTo=Ov,Ct.deburr=y2,Ct.defaultTo=_y,Ct.divide=jy,Ct.endsWith=V5,Ct.eq=ts,Ct.escape=G5,Ct.escapeRegExp=W5,Ct.every=$g,Ct.find=ev,Ct.findIndex=W1,Ct.findKey=h5,Ct.findLast=tv,Ct.findLastIndex=Z1,Ct.findLastKey=x5,Ct.floor=Uy,Ct.forEach=$1,Ct.forEachRight=Q1,Ct.forIn=p5,Ct.forInRight=m5,Ct.forOwn=_5,Ct.forOwnRight=g5,Ct.get=Tu,Ct.gt=zv,Ct.gte=Nv,Ct.has=b5,Ct.hasIn=Pu,Ct.head=X1,Ct.identity=ko,Ct.includes=ov,Ct.indexOf=tg,Ct.inRange=j5,Ct.invoke=T5,Ct.isArguments=w0,Ct.isArray=kr,Ct.isArrayBuffer=jv,Ct.isArrayLike=Eo,Ct.isArrayLikeObject=Oa,Ct.isBoolean=Uv,Ct.isBuffer=l0,Ct.isDate=Hv,Ct.isElement=Vv,Ct.isEmpty=Gv,Ct.isEqual=Wv,Ct.isEqualWith=Zv,Ct.isError=Su,Ct.isFinite=Yv,Ct.isFunction=Gs,Ct.isInteger=s2,Ct.isLength=Bc,Ct.isMap=l2,Ct.isMatch=Xv,Ct.isMatchWith=qv,Ct.isNaN=Jv,Ct.isNative=Kv,Ct.isNil=Qv,Ct.isNull=$v,Ct.isNumber=c2,Ct.isObject=wa,Ct.isObjectLike=Ba,Ct.isPlainObject=Dl,Ct.isRegExp=Cu,Ct.isSafeInteger=e5,Ct.isSet=d2,Ct.isString=Lc,Ct.isSymbol=Fo,Ct.isTypedArray=X0,Ct.isUndefined=t5,Ct.isWeakMap=i5,Ct.isWeakSet=n5,Ct.join=og,Ct.kebabCase=Z5,Ct.last=Go,Ct.lastIndexOf=sg,Ct.lowerCase=Y5,Ct.lowerFirst=X5,Ct.lt=r5,Ct.lte=a5,Ct.max=Hy,Ct.maxBy=Vy,Ct.mean=Gy,Ct.meanBy=Wy,Ct.min=Zy,Ct.minBy=Yy,Ct.stubArray=Du,Ct.stubFalse=Au,Ct.stubObject=Ay,Ct.stubString=My,Ct.stubTrue=By,Ct.multiply=Xy,Ct.nth=lg,Ct.noConflict=Ty,Ct.noop=Iu,Ct.now=Dc,Ct.pad=q5,Ct.padEnd=J5,Ct.padStart=K5,Ct.parseInt=$5,Ct.random=U5,Ct.reduce=uv,Ct.reduceRight=fv,Ct.repeat=Q5,Ct.replace=ey,Ct.result=D5,Ct.round=qy,Ct.runInContext=Xt,Ct.sample=xv,Ct.size=_v,Ct.snakeCase=ty,Ct.some=gv,Ct.sortedIndex=pg,Ct.sortedIndexBy=mg,Ct.sortedIndexOf=_g,Ct.sortedLastIndex=gg,Ct.sortedLastIndexBy=vg,Ct.sortedLastIndexOf=yg,Ct.startCase=ny,Ct.startsWith=ry,Ct.subtract=Jy,Ct.sum=Ky,Ct.sumBy=$y,Ct.template=ay,Ct.times=Ly,Ct.toFinite=Ws,Ct.toInteger=Mr,Ct.toLength=f2,Ct.toLower=oy,Ct.toNumber=Wo,Ct.toSafeInteger=o5,Ct.toString=ua,Ct.toUpper=sy,Ct.trim=ly,Ct.trimEnd=cy,Ct.trimStart=dy,Ct.truncate=uy,Ct.unescape=fy,Ct.uniqueId=Oy,Ct.upperCase=hy,Ct.upperFirst=wu,Ct.each=$1,Ct.eachRight=Q1,Ct.first=X1,ku(Ct,function(){var a={};return vs(Ct,function(h,O){Hn.call(Ct.prototype,O)||(a[O]=h)}),a}(),{chain:!1}),Ct.VERSION=n,A(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){Ct[a].placeholder=Ct}),A(["drop","take"],function(a,h){Yr.prototype[a]=function(O){O=O===t?1:Ma(Mr(O),0);var Be=this.__filtered__&&!h?new Yr(this):this.clone();return Be.__filtered__?Be.__takeCount__=_i(O,Be.__takeCount__):Be.__views__.push({size:_i(O,at),type:a+(Be.__dir__<0?"Right":"")}),Be},Yr.prototype[a+"Right"]=function(O){return this.reverse()[a](O).reverse()}}),A(["filter","map","takeWhile"],function(a,h){var O=h+1,Be=O==Ie||O==yi;Yr.prototype[a]=function(ut){var At=this.clone();return At.__iteratees__.push({iteratee:fr(ut,3),type:O}),At.__filtered__=At.__filtered__||Be,At}}),A(["head","last"],function(a,h){var O="take"+(h?"Right":"");Yr.prototype[a]=function(){return this[O](1).value()[0]}}),A(["initial","tail"],function(a,h){var O="drop"+(h?"":"Right");Yr.prototype[a]=function(){return this.__filtered__?new Yr(this):this[O](1)}}),Yr.prototype.compact=function(){return this.filter(ko)},Yr.prototype.find=function(a){return this.filter(a).head()},Yr.prototype.findLast=function(a){return this.reverse().find(a)},Yr.prototype.invokeMap=zr(function(a,h){return typeof a=="function"?new Yr(this):this.map(function(O){return Pl(O,a,h)})}),Yr.prototype.reject=function(a){return this.filter(Mc(fr(a)))},Yr.prototype.slice=function(a,h){a=Mr(a);var O=this;return O.__filtered__&&(a>0||h<0)?new Yr(O):(a<0?O=O.takeRight(-a):a&&(O=O.drop(a)),h!==t&&(h=Mr(h),O=h<0?O.dropRight(-h):O.take(h-a)),O)},Yr.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Yr.prototype.toArray=function(){return this.take(at)},vs(Yr.prototype,function(a,h){var O=/^(?:filter|find|map|reject)|While$/.test(h),Be=/^(?:head|last)$/.test(h),ut=Ct[Be?"take"+(h=="last"?"Right":""):h],At=Be||/^find/.test(h);ut&&(Ct.prototype[h]=function(){var ti=this.__wrapped__,xi=Be?[1]:arguments,Di=ti instanceof Yr,pn=xi[0],mn=Di||kr(ti),yn=function(Hr){var qr=ut.apply(Ct,Nt([Hr],xi));return Be&&Ln?qr[0]:qr};mn&&O&&typeof pn=="function"&&pn.length!=1&&(Di=mn=!1);var Ln=this.__chain__,Kn=!!this.__actions__.length,mr=At&&!Ln,Fr=Di&&!Kn;if(!At&&mn){ti=Fr?ti:new Yr(this);var _r=a.apply(ti,xi);return _r.__actions__.push({func:kc,args:[yn],thisArg:t}),new Uo(_r,Ln)}return mr&&Fr?a.apply(this,xi):(_r=this.thru(yn),mr?Be?_r.value()[0]:_r.value():_r)})}),A(["pop","push","shift","sort","splice","unshift"],function(a){var h=Bn[a],O=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",Be=/^(?:pop|shift)$/.test(a);Ct.prototype[a]=function(){var ut=arguments;if(Be&&!this.__chain__){var At=this.value();return h.apply(kr(At)?At:[],ut)}return this[O](function(ti){return h.apply(kr(ti)?ti:[],ut)})}}),vs(Yr.prototype,function(a,h){var O=Ct[h];if(O){var Be=O.name+"";Hn.call(Rr,Be)||(Rr[Be]=[]),Rr[Be].push({name:h,func:O})}}),Rr[Sc(t,se).name]=[{name:"wrapper",func:t}],Yr.prototype.clone=f4,Yr.prototype.reverse=h4,Yr.prototype.value=x4,Ct.prototype.at=Vg,Ct.prototype.chain=Gg,Ct.prototype.commit=Wg,Ct.prototype.next=Zg,Ct.prototype.plant=Xg,Ct.prototype.reverse=qg,Ct.prototype.toJSON=Ct.prototype.valueOf=Ct.prototype.value=Jg,Ct.prototype.first=Ct.prototype.head,Fs&&(Ct.prototype[Fs]=Yg),Ct},en=ki();he?((he.exports=en)._=en,ne._=en):W._=en}).call(Va)}(qo,qo.exports);var F0=qo.exports,Pr=Mo(F0),un=function(){function J(g,t){Re(this,J),this.id=t,this.jSPlugin=g,this.state={play:!1,loading:!1,text:""},this.loadingSetText=this.loadingSetText}return xt(J,[{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"setPlayStatus",value:function(t){this.state=Object.assign(this.state,t)}},{key:"loadingStart",value:function(t){var n=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(n),n.innerHTML="@keyframes antRotate {to {transform: rotate(400deg);transform-origin:50% 50%;}} .loading {display: inline-block;z-index: 1000;-webkit-animation: antRotate 1s infinite linear;animation: antRotate 1s infinite linear;}";var o=t,c=document.getElementById(o),d=c.offsetWidth,u=c.offsetHeight,k=0,P=c.offsetLeft;this.jSPlugin.isInspect&&this.jSPlugin.Theme.inspectMode=="map"&&(P=0),document.getElementById("".concat(t,"-loading-id-0"))&&document.getElementById("".concat(t,"-loading-id-0")).parentNode.removeChild(document.getElementById("".concat(t,"-loading-id-0"))),console.log("loading-id-0---------------");var S=document.createElement("div");S.setAttribute("id","".concat(t,"-loading-id-0"));var oe="position:absolute;outline:none;pointer-events:none;";console.log("this.jSPlugin",this.jSPlugin),oe+="width: 100%;background-size: cover; background-repeat:no-repeat;",oe+="height: 100%;",oe+="top:"+k+";",oe+="left:"+P+"px;",S.setAttribute("style",oe),S.style.height=u,S.setAttribute("class","loading-container"),c.style.position="relative",this.jSPlugin.isInspect&&this.jSPlugin.Theme.inspectMode=="map"&&(c.style.position="absolute"),c.appendChild(S);var R=1,b=document.createElement("div"),_=document.createElement("div");b.setAttribute("class","loading-item"),b.setAttribute("id","".concat(t,"-loading-item-0"));var oe="display:inline-flex;pointer-events:none;flex-direction:column;justify-content:center;align-items: center;width:100%;height:"+u+"px;outline:none;vertical-align: top;position:absolute;";oe+="left:"+de(u,d,R,0).left+"px;",oe+="top:"+de(u,d,R,0).top+"px;",b.setAttribute("style",oe);function de(qe,me,m,U){var le=parseInt(U/m,10)*(qe/m),re=U%m*(me/m);return{top:le,left:re}}var xe=1,se=document.createElement("div");_.innerHTML="",_.style.color="#fff",se.setAttribute("class","loading"),se.setAttribute("id","loading-icon");var Ae='<svg t="1567069979438" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399" width="24" height="24"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#ffffff" p-id="2400"></path></svg>';!this.jSPlugin.isMobile&&this.jSPlugin.isCall&&(xe=this.jSPlugin.width/1024,Ae='<svg t="1567069979438" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399" width="'.concat(40*xe,'" height="').concat(40*xe,'"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#ffffff" p-id="2400"></path></svg>')),se.innerHTML=Ae,b.appendChild(se),b.appendChild(_),S.appendChild(b)}},{key:"loadingStop",value:function(t){var n=document.getElementById("".concat(t,"-loading-item-0"));n&&n.removeChild(document.getElementById("loading-icon"))}},{key:"loadingSetText",value:function(t){var n=this;if(this.loadingClearText(),document.getElementById("".concat(this.id,"-loading-item-0"))){var o=document.getElementById("".concat(this.id,"-loading-item-0")),c=document.getElementById("".concat(this.id,"-loading-item-0")).childNodes[1];if(c||(o.style.height="100%",c=document.createElement("div"),c.innerHTML=t.text,o.appendChild(c)),c.id="".concat(this.id,"-loading-item-txt"),c.innerHTML=t.text,c.style.fontSize="14px",!this.jSPlugin.isMobile&&this.jSPlugin.isCall){var d=this.jSPlugin.width/1024;c.style.fontSize="".concat(28*d,"px"),c.style.marginTop="16px"}if(this.jSPlugin.isCall&&t.type==1){var u=document.getElementById("".concat(this.id,"-loading-item-txt")),k=document.createElement("div");k.style="margin-bottom: 8px;width:24px;height:24px;",k.innerHTML=`<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <title></title>
            <g id="gantan" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="Group">
                    <polygon id="Path" points="0 0 24.0000001 0 24.0000001 24.0000001 0 24.0000001"></polygon>
                    <path d="M12,2.25000001 C17.2781739,2.25000001 21.5934661,6.44926243 21.746085,11.7237735 L21.746085,11.7237735 L21.75,12 C21.75,17.2781739 17.5507376,21.5934661 12.2762266,21.746085 L12.2762266,21.746085 L12,21.75 C6.72182614,21.75 2.40653397,17.5507376 2.25391507,12.2762266 L2.25391507,12.2762266 L2.25000001,12 C2.25000001,6.72182617 6.44926245,2.40653397 11.7237735,2.25391507 L11.7237735,2.25391507 Z M12,3.75000001 L11.7563186,3.75352261 C7.3032926,3.88243816 3.74992165,7.53391173 3.74992165,11.9891583 L3.74992165,11.9891583 L3.75352261,12.2436814 C3.88243816,16.6967075 7.5339117,20.2500784 11.9891583,20.2500784 L11.9891583,20.2500784 L12.2436814,20.2464774 C16.6967075,20.1175619 20.2500784,16.4660884 20.2500784,12.0108417 L20.2500784,12.0108417 L20.2464774,11.7563186 C20.1175619,7.30329258 16.4660883,3.75000001 12,3.75000001 L12,3.75000001 Z M11.999,15.2500001 L12.1156933,15.25672 C12.6133664,15.3144204 12.999993,15.7366564 12.999993,16.2500001 C12.999993,16.8022157 12.5522116,17.2500001 11.999993,17.2500001 C11.4477844,17.2500001 10.999993,16.8022116 11.0000197,16.2554347 C10.9962666,15.7375014 11.3873731,15.3105316 11.8897485,15.2559043 L11.999,15.2500001 Z M12,6.75000003 C12.3796958,6.75000003 12.693491,7.03215391 12.7431534,7.39822947 L12.75,7.50000003 L12.75,12.5 C12.75,12.9142136 12.4142136,13.25 12,13.25 C11.6203043,13.25 11.3065091,12.9678461 11.2568467,12.6017706 L11.25,12.5 L11.25,7.50000003 C11.25,7.08578647 11.5857865,6.75000003 12,6.75000003 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                </g>
            </g>
        </svg>`,o.insertBefore(k,u)}if(c.style.color=t.color||"#FFFFFF",this.state.text=t.text,t.delayClear)var P=setTimeout(function(){n.loadingClearText(),clearTimeout(P)},parseInt(t.delayClear))}}},{key:"loadingSetTextWithBtn",value:function(t){var n=this;this.loadingClear(),console.log(this.jSPlugin);var o=!!this.jSPlugin.Theme.call&&this.jSPlugin.Theme.call.themeData||null;(o&&(o.customConfig.bellPoster===0||this.jSPlugin.Theme.call.bellStatus==="onCall")||t.mask)&&document.getElementById("".concat(this.id,"-loading-id-0"))&&(document.getElementById("".concat(this.id,"-loading-id-0")).style.background=t.maskStyle||"rgba(0,0,0,0.7)");var c=document.getElementById("".concat(this.id,"-loading-item-0"));if(c){c.style.height="100%",c.style["pointer-events"]="auto";var d=document.createElement("div");if(d.id="".concat(this.id,"-loading-item-txt"),d.innerHTML=t.text,d.title=t.text,d.style.color=t.color||"#FFFFFF",t.isMobile){var P=this.jSPlugin.width/375,S=14*P;d.style.fontSize=S+"px"}else{var u=this.jSPlugin.width/1024,k=28*u;d.style.fontSize=k+"px"}if(this.jSPlugin.isInspect&&(d.style="text-align: center; color: white; font-size: 14px; white-space: nowrap;overflow: hidden;text-overflow: ellipsis; width: 70%;"),c.appendChild(d),t.type&&t.type==2){var R=8,b=24;if(t.isMobile){var oe=this.jSPlugin.width/375;b=24*oe}else{var _=this.jSPlugin.width/1024;R=_<1?16*_:16,b=40*_}var de=document.getElementById("".concat(this.id,"-loading-item-txt")),xe=document.createElement("div");xe.style="margin-bottom: ".concat(R,"px;width:").concat(b,"px;height:").concat(b,"px;"),xe.innerHTML='<svg width="'.concat(b,'px" height="').concat(b,`px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <title></title>
            <g id="gantan" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="Group">
                    <polygon id="Path" points="0 0 24.0000001 0 24.0000001 24.0000001 0 24.0000001"></polygon>
                    <path d="M12,2.25000001 C17.2781739,2.25000001 21.5934661,6.44926243 21.746085,11.7237735 L21.746085,11.7237735 L21.75,12 C21.75,17.2781739 17.5507376,21.5934661 12.2762266,21.746085 L12.2762266,21.746085 L12,21.75 C6.72182614,21.75 2.40653397,17.5507376 2.25391507,12.2762266 L2.25391507,12.2762266 L2.25000001,12 C2.25000001,6.72182617 6.44926245,2.40653397 11.7237735,2.25391507 L11.7237735,2.25391507 Z M12,3.75000001 L11.7563186,3.75352261 C7.3032926,3.88243816 3.74992165,7.53391173 3.74992165,11.9891583 L3.74992165,11.9891583 L3.75352261,12.2436814 C3.88243816,16.6967075 7.5339117,20.2500784 11.9891583,20.2500784 L11.9891583,20.2500784 L12.2436814,20.2464774 C16.6967075,20.1175619 20.2500784,16.4660884 20.2500784,12.0108417 L20.2500784,12.0108417 L20.2464774,11.7563186 C20.1175619,7.30329258 16.4660883,3.75000001 12,3.75000001 L12,3.75000001 Z M11.999,15.2500001 L12.1156933,15.25672 C12.6133664,15.3144204 12.999993,15.7366564 12.999993,16.2500001 C12.999993,16.8022157 12.5522116,17.2500001 11.999993,17.2500001 C11.4477844,17.2500001 10.999993,16.8022116 11.0000197,16.2554347 C10.9962666,15.7375014 11.3873731,15.3105316 11.8897485,15.2559043 L11.999,15.2500001 Z M12,6.75000003 C12.3796958,6.75000003 12.693491,7.03215391 12.7431534,7.39822947 L12.75,7.50000003 L12.75,12.5 C12.75,12.9142136 12.4142136,13.25 12,13.25 C11.6203043,13.25 11.3065091,12.9678461 11.2568467,12.6017706 L11.25,12.5 L11.25,7.50000003 C11.25,7.08578647 11.5857865,6.75000003 12,6.75000003 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                </g>
            </g>
        </svg>`),c.insertBefore(xe,de)}else{var se=document.createElement("div");if(se.id="".concat(this.id,"-loading-item-btn-wrap"),se.innerHTML=`
          <div id="`.concat(this.id,'-loading-item-btn" style="display: ').concat(this.jSPlugin.isInspect&&this.jSPlugin.Theme.inspectMode=="map"?"none":"block",' ">').concat(t.btnName,`</div>
          <svg id="`).concat(this.id,'-loading-item-btn-svg" style="display: ').concat(this.jSPlugin.isInspect&&this.jSPlugin.Theme.inspectMode=="map"?"block":"none",` ; margin: 0 auto" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="13" height="13" xmlns:xlink="http://www.w3.org/1999/xlink">
            <path fill="#fff" d="M960 416V192l-73.056 73.056a447.712 447.712 0 0 0-373.6-201.088C265.92 63.968 65.312 264.544 65.312 512S265.92 960.032 513.344 960.032a448.064 448.064 0 0 0 415.232-279.488 38.368 38.368 0 1 0-71.136-28.896 371.36 371.36 0 0 1-344.096 231.584C308.32 883.232 142.112 717.024 142.112 512S308.32 140.768 513.344 140.768c132.448 0 251.936 70.08 318.016 179.84L736 416h224z"></path>
          </svg>
        `),t.isMobile)t.type==1?se.style="color:white;width:100px;height:30px;border-radius: 10px;background: rgba(255,255,255,0.25);text-align:center;line-height:30px;margin-top:9px;font-size:14px;-webkit-tap-highlight-color: transparent;":se.style="border: 1px solid rgba(204,204,204,1);color:white;width:80px;height:24px;border-radius: 12px;background: rgba(255,255,255,0.1);text-align:center;line-height:24px;margin-top:20px;font-size:12px;-webkit-tap-highlight-color: transparent;";else{var Ae=this.jSPlugin.width/1024;se.style="color:#648FFC;margin-top:16px;cursor: pointer;font-size:".concat(24*Ae,"px;"),this.jSPlugin.isInspect&&this.jSPlugin.Theme.inspectMode=="video"&&(se.style="border: 1px solid rgba(255,255,255,1);color:white; cursor: pointer;text-align: center;width:80px;height:32px;border-radius:2px; text-align:center;line-height:32px;margin-top:16px;font-size:14px;-webkit-tap-highlight-color: transparent;")}if(c.appendChild(se),t.isMobile&&t.type==1){var qe=document.getElementById("".concat(this.id,"-loading-item-txt")),xe=document.createElement("div");xe.style="margin-bottom: 8px;width:24px;height:24px;",xe.innerHTML=`<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <title></title>
              <g id="gantan" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="Group">
                      <polygon id="Path" points="0 0 24.0000001 0 24.0000001 24.0000001 0 24.0000001"></polygon>
                      <path d="M12,2.25000001 C17.2781739,2.25000001 21.5934661,6.44926243 21.746085,11.7237735 L21.746085,11.7237735 L21.75,12 C21.75,17.2781739 17.5507376,21.5934661 12.2762266,21.746085 L12.2762266,21.746085 L12,21.75 C6.72182614,21.75 2.40653397,17.5507376 2.25391507,12.2762266 L2.25391507,12.2762266 L2.25000001,12 C2.25000001,6.72182617 6.44926245,2.40653397 11.7237735,2.25391507 L11.7237735,2.25391507 Z M12,3.75000001 L11.7563186,3.75352261 C7.3032926,3.88243816 3.74992165,7.53391173 3.74992165,11.9891583 L3.74992165,11.9891583 L3.75352261,12.2436814 C3.88243816,16.6967075 7.5339117,20.2500784 11.9891583,20.2500784 L11.9891583,20.2500784 L12.2436814,20.2464774 C16.6967075,20.1175619 20.2500784,16.4660884 20.2500784,12.0108417 L20.2500784,12.0108417 L20.2464774,11.7563186 C20.1175619,7.30329258 16.4660883,3.75000001 12,3.75000001 L12,3.75000001 Z M11.999,15.2500001 L12.1156933,15.25672 C12.6133664,15.3144204 12.999993,15.7366564 12.999993,16.2500001 C12.999993,16.8022157 12.5522116,17.2500001 11.999993,17.2500001 C11.4477844,17.2500001 10.999993,16.8022116 11.0000197,16.2554347 C10.9962666,15.7375014 11.3873731,15.3105316 11.8897485,15.2559043 L11.999,15.2500001 Z M12,6.75000003 C12.3796958,6.75000003 12.693491,7.03215391 12.7431534,7.39822947 L12.75,7.50000003 L12.75,12.5 C12.75,12.9142136 12.4142136,13.25 12,13.25 C11.6203043,13.25 11.3065091,12.9678461 11.2568467,12.6017706 L11.25,12.5 L11.25,7.50000003 C11.25,7.08578647 11.5857865,6.75000003 12,6.75000003 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                  </g>
              </g>
          </svg>`,c.insertBefore(xe,qe)}document.getElementById("".concat(this.id,"-loading-item-btn-wrap"))&&(document.getElementById("".concat(this.id,"-loading-item-btn-wrap")).onclick=function(){n.jSPlugin.play(),n.loadingClear(),n.loadingStart(n.id),n.loadingSetText({text:"视频加载中"})})}this.state.text=t.text,t.delayClear&&setTimeout(function(){n.loadingClearText()},parseInt(t.delayClear))}}},{key:"loadingClearText",value:function(){if(document.getElementById("".concat(this.id,"-loading-item-0"))){var t=document.getElementById("".concat(this.id,"-loading-item-0")).childNodes;t.length>1?t[1].parentNode.removeChild(t[1]):t[0]&&t[0].parentNode.removeChild(t[0])}}},{key:"loadingClear",value:function(){if(document.getElementById("".concat(this.id,"-loading-item-0"))){for(var t=document.getElementById("".concat(this.id,"-loading-item-0")).childNodes,n=t.length-1;n>=0;n--)t[n].parentNode.removeChild(t[n]);document.getElementById("".concat(this.id,"-loading-id-0"))&&(document.getElementById("".concat(this.id,"-loading-id-0")).style.background="none"),document.getElementById("loading-icon")&&document.getElementById("loading-icon").parentNode.removeChild(document.getElementById("loading-icon"))}}},{key:"loadingEnd",value:function(){var t=document.getElementById("".concat(this.id,"-loading-item-0"));if(t){t.parentNode.removeChild(t);var n=document.getElementById("".concat(this.id,"-loading-id-0"));n&&n.children.length===0&&n.parentNode.removeChild(n)}document.getElementById("".concat(this.id,"-loading-item-0")).style.background="none"}}]),J}(),Vn=function(){function J(g,t){Re(this,J),this.id=t,this.jSPlugin=g,this.timer=null,this.state={play:!1,loading:!1}}return xt(J,[{key:"default",value:function(t,n){var o=this,c="msgId",d=n||document.getElementById("".concat(this.id,"-wrap"));document.getElementById("".concat(this.id,"-").concat(c))&&d.removeChild(document.getElementById("".concat(this.id,"-").concat(c)));var u=document.createElement("div");u.id="".concat(this.id,"-").concat(c),u.style="position: absolute;top: 50%;left:calc(50% - ".concat(t.length*14/2,"px);padding: 4px 16px;background: #00000080;color: #FFFFFF;font-size: 14px"),u.innerHTML=t,d.appendChild(u),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){d.removeChild(document.getElementById("".concat(o.id,"-").concat(c)))},2e3)}}]),J}(),Mn=[{moduleCode:"",detailCode:"405984",description:"",solution:"",updateTime:1559564188e3},{moduleCode:"",detailCode:"10035",description:"获取子账户AccessToken异常,子账户不存在或子账户不属于该开发者",solution:"",updateTime:1559551958e3},{moduleCode:"",detailCode:"1052674",description:"获取本地录像失败",solution:"",updateTime:1558579653e3},{moduleCode:"",detailCode:"395547",description:"",solution:"",updateTime:1557367296e3},{moduleCode:"",detailCode:"12",description:"",solution:"",updateTime:1557229476e3},{moduleCode:"",detailCode:"10052",description:"余额不足",solution:"",updateTime:1557121463e3},{moduleCode:"",detailCode:"20108",description:"当前用户和所添加用户不是好友关系",solution:"",updateTime:1556541725e3},{moduleCode:"",detailCode:"10009",description:"",solution:"",updateTime:1556422452e3},{moduleCode:"",detailCode:"320001",description:"通道不存在",solution:"请检查录像机的关联状态是否正常，没有摄像头的通道无法播放",updateTime:1556419044e3},{moduleCode:"",detailCode:"120001",description:"通道不存在",solution:"请检查录像机的关联状态是否正常，没有摄像头的通道无法播放",updateTime:155641903e4},{moduleCode:"",detailCode:"320049",description:"",solution:"",updateTime:1556272984e3},{moduleCode:"",detailCode:"380227",description:"",solution:"",updateTime:1556264379e3},{moduleCode:"",detailCode:"10033",description:"policy参数信息异常",solution:"",updateTime:1555922124e3},{moduleCode:"",detailCode:"10065",description:"weakAppKey 不属于accessToken对应的用户",solution:"",updateTime:1555497522e3},{moduleCode:"",detailCode:"100001",description:"",solution:"",updateTime:1555141776e3},{moduleCode:"",detailCode:"395558",description:"",solution:"",updateTime:1554987121e3},{moduleCode:"",detailCode:"70001",description:"智能家居买断用户设备受到限制,建议合理选择pagestart和pageSize",solution:"",updateTime:1554691023e3},{moduleCode:"",detailCode:"170001",description:"",solution:"",updateTime:1554691023e3},{moduleCode:"",detailCode:"1012",description:"重置失败",solution:"",updateTime:1554645841e3},{moduleCode:"",detailCode:"1043",description:"重置失败",solution:"",updateTime:1554645834e3},{moduleCode:"",detailCode:"60060",description:"直播功能未开通",solution:"通道未开通直播功能，请先开通直播",updateTime:1554346018e3},{moduleCode:"",detailCode:"380203",description:"",solution:"",updateTime:1554093666e3},{moduleCode:"",detailCode:"399048",description:"免费版并发数达到上限，请升级企业版使用多并发能力",solution:"升级成为企业版套餐即可取消并发数限制",updateTime:1553839878e3},{moduleCode:"",detailCode:"60007",description:"预置点个数超过最大值",solution:"",updateTime:1553671316e3},{moduleCode:"",detailCode:"1005",description:"",solution:"",updateTime:1553513701e3},{moduleCode:"",detailCode:"20605",description:"其他用户正在认证中",solution:"",updateTime:1552976317e3},{moduleCode:"",detailCode:"90004",description:"当前型号设备暂时不支持AI任务：CS-C3W-3B1WFR-YGL",solution:"",updateTime:1552898525e3},{moduleCode:"",detailCode:"60046",description:"添加的设备的IP和本设备的IP冲突",solution:"",updateTime:1552872372e3},{moduleCode:"",detailCode:"3",description:"修改视频清晰度失败!",solution:"",updateTime:1552440229e3},{moduleCode:"",detailCode:"1013",description:"",solution:"",updateTime:1552035069e3},{moduleCode:"",detailCode:"370007",description:"",solution:"",updateTime:1551852327e3},{moduleCode:"",detailCode:"-1",description:"",solution:"",updateTime:1551752889e3},{moduleCode:"",detailCode:"30005",description:"弱账户不存在",solution:"",updateTime:1551422358e3},{moduleCode:"",detailCode:"90006",description:"用户操作AI任务受限",solution:"",updateTime:155107332e4},{moduleCode:"",detailCode:"60203",description:"未开通相关服务",solution:"",updateTime:155062307e4},{moduleCode:"",detailCode:"10002",description:"accessToken过期或异常",solution:"",updateTime:1550300346e3},{moduleCode:"",detailCode:"380339",description:"",solution:"",updateTime:1549889458e3},{moduleCode:"",detailCode:"90002",description:"AI任务设备配置数达到上限：3",solution:"",updateTime:1549071664e3},{moduleCode:"",detailCode:"380008",description:"",solution:"",updateTime:1549005979e3},{moduleCode:"",detailCode:"320227",description:"",solution:"",updateTime:1548739731e3},{moduleCode:"",detailCode:"60059",description:"ezopen地址均不可用",solution:"",updateTime:154839535e4},{moduleCode:"",detailCode:"10005",description:"appKey异常",solution:"",updateTime:1548317858e3},{moduleCode:"",detailCode:"60045",description:"添加的设备的IP和其他通道的IP冲突",solution:"",updateTime:1548155085e3},{moduleCode:"",detailCode:"60047",description:"码流类型不支持",solution:"",updateTime:1547962108e3},{moduleCode:"",detailCode:"60041",description:"添加的设备被其他设备关联或响应超时",solution:"",updateTime:154796098e4},{moduleCode:"",detailCode:"110029",description:"个人用户接口调用频率超限",solution:"请升级企业版：https://open.ys7.com/price.html",updateTime:1547606859e3},{moduleCode:"",detailCode:"380355",description:"设备直连推流异常结束",solution:"",updateTime:1547106294e3},{moduleCode:"",detailCode:"320081",description:"",solution:"",updateTime:1547106279e3},{moduleCode:"",detailCode:"60035",description:"购买云存储服务失败",solution:"",updateTime:1547026959e3},{moduleCode:"",detailCode:"90005",description:"设备已存在：C75714141",solution:"",updateTime:1546940622e3},{moduleCode:"",detailCode:"1053445",description:"该时间段没有录像片段",solution:"",updateTime:1546935727e3},{moduleCode:"",detailCode:"90007",description:"设备未加入到AI任务",solution:"",updateTime:1546932948e3},{moduleCode:"",detailCode:"326000",description:"",solution:"",updateTime:1546823143e3},{moduleCode:"",detailCode:"1021",description:"重置失败",solution:"",updateTime:1546781152e3},{moduleCode:"",detailCode:"2001",description:"删除设备失败!",solution:"",updateTime:1546422886e3},{moduleCode:"",detailCode:"380425",description:"",solution:"",updateTime:1546407694e3},{moduleCode:"",detailCode:"120097",description:"",solution:"",updateTime:1546085995e3},{moduleCode:"",detailCode:"10059",description:"requestId已存在",solution:"",updateTime:1545824509e3},{moduleCode:"",detailCode:"1154723",description:"",solution:"",updateTime:1545795209e3},{moduleCode:"",detailCode:"60043",description:"添加的设备超出最大数量",solution:"",updateTime:1545493607e3},{moduleCode:"",detailCode:"1152677",description:"",solution:"",updateTime:1545313404e3},{moduleCode:"",detailCode:"20097",description:"设备添加异常,设备验证码为ABCDEF或设备被N1，R1关联",solution:"",updateTime:1545310795e3},{moduleCode:"",detailCode:"10060",description:"设备不支持该云存储类型",solution:"",updateTime:1545309064e3},{moduleCode:"",detailCode:"20102",description:"无相应邀请信息，无法接受邀请",solution:"",updateTime:1545204966e3},{moduleCode:"",detailCode:"10053",description:"云存储开通中",solution:"",updateTime:1545100293e3},{moduleCode:"",detailCode:"20401",description:"用户云空间信息不存在",solution:"",updateTime:154501788e4},{moduleCode:"",detailCode:"20600",description:"临时密码数已达上限",solution:"",updateTime:1544873457e3},{moduleCode:"",detailCode:"901",description:"",solution:"",updateTime:1544693519e3},{moduleCode:"",detailCode:"60210",description:"图片数据错误",solution:"",updateTime:1544604457e3},{moduleCode:"",detailCode:"10013",description:"您的应用没有权限调用",solution:"",updateTime:1544416237e3},{moduleCode:"",detailCode:"70007",description:"授权码不存在",solution:"",updateTime:1544179533e3},{moduleCode:"",detailCode:"10015",description:"授权地址不存在",solution:"",updateTime:154416324e4},{moduleCode:"",detailCode:"320423",description:"",solution:"",updateTime:1544100685e3},{moduleCode:"",detailCode:"370009",description:"",solution:"",updateTime:1544077151e3},{moduleCode:"",detailCode:"10031",description:"子账户或萤石用户没有权限",solution:"",updateTime:1543990462e3},{moduleCode:"",detailCode:"10055",description:"设备不支持试用云存储服务",solution:"",updateTime:1543986292e3},{moduleCode:"",detailCode:"60042",description:"添加的设备密码错误",solution:"",updateTime:1543710913e3},{moduleCode:"",detailCode:"60082",description:"设备正在响应本次声源定位",solution:"",updateTime:1543647426e3},{moduleCode:"",detailCode:"10056",description:"设备不支持云存储服务转出",solution:"",updateTime:1543558342e3},{moduleCode:"",detailCode:"20104",description:"好友不存在",solution:"",updateTime:1543492403e3},{moduleCode:"",detailCode:"20111",description:"好友不是等待验证状态，无法接受邀请",solution:"",updateTime:1543492365e3},{moduleCode:"",detailCode:"20107",description:"不能添加自己为好友",solution:"",updateTime:1543480986e3},{moduleCode:"",detailCode:"1",description:"设备返回其他错误",solution:"",updateTime:1543459921e3},{moduleCode:"",detailCode:"60084",description:"当前正在关闭隐私遮蔽",solution:"",updateTime:1543456515e3},{moduleCode:"",detailCode:"380255",description:"",solution:"",updateTime:1543411652e3},{moduleCode:"",detailCode:"20015",description:"设备不支持",solution:"",updateTime:1543390936e3},{moduleCode:"",detailCode:"30003",description:"手机验证码错误",solution:"",updateTime:1543389137e3},{moduleCode:"",detailCode:"20615",description:"锁用户已存在",solution:"",updateTime:1543388325e3},{moduleCode:"",detailCode:"60061",description:"账户流量已超出或未购买，限制开通",solution:"",updateTime:1543372581e3},{moduleCode:"",detailCode:"60020",description:"设备不支持该信令",solution:"",updateTime:1543321636e3},{moduleCode:"",detailCode:"320146",description:"",solution:"",updateTime:1543318472e3},{moduleCode:"",detailCode:"60018",description:"设备升级失败",solution:"",updateTime:1543304928e3},{moduleCode:"",detailCode:"60044",description:"添加的设备网络不可达超时",solution:"",updateTime:1543304102e3},{moduleCode:"",detailCode:"20619",description:"主用户无法删除",solution:"",updateTime:1543290219e3},{moduleCode:"",detailCode:"20608",description:"锁用户不存在",solution:"",updateTime:154328195e4},{moduleCode:"",detailCode:"20609",description:"设备响应超时,门锁通信故障或者电量不足,请重试.",solution:"",updateTime:1543281601e3},{moduleCode:"",detailCode:"1049954",description:"升级设备失败",solution:"",updateTime:1543279264e3},{moduleCode:"",detailCode:"60009",description:"正在调用预置点",solution:"",updateTime:1543238114e3},{moduleCode:"",detailCode:"1052677",description:"获取本地录像失败",solution:"",updateTime:1543207604e3},{moduleCode:"",detailCode:"327000",description:"",solution:"",updateTime:1543196609e3},{moduleCode:"",detailCode:"20021",description:"设备在线，未被用户添加",solution:"",updateTime:1543193436e3},{moduleCode:"",detailCode:"20202",description:"操作留言信息失败",solution:"",updateTime:1543191562e3},{moduleCode:"",detailCode:"1052678",description:"获取本地录像失败",solution:"",updateTime:1543132218e3},{moduleCode:"",detailCode:"1054723",description:"格式化设备失败",solution:"",updateTime:1543129833e3},{moduleCode:"",detailCode:"20109",description:"对应分享不存在",solution:"",updateTime:1543129111e3},{moduleCode:"",detailCode:"60026",description:"设备处于隐私遮蔽状态",solution:"",updateTime:1543110403e3},{moduleCode:"",detailCode:"60083",description:"当前正在开启隐私遮蔽",solution:"",updateTime:1543071148e3},{moduleCode:"",detailCode:"60001",description:"用户无云台控制权限",solution:"",updateTime:1543059167e3},{moduleCode:"",detailCode:"2003",description:"设备不在线",solution:"",updateTime:1543051046e3},{moduleCode:"",detailCode:"-24",description:"设置设备enable错误",solution:"",updateTime:1543042701e3},{moduleCode:"",detailCode:"10018",description:"",solution:"",updateTime:1543041564e3},{moduleCode:"",detailCode:"20103",description:"好友已存在",solution:"",updateTime:154303843e4},{moduleCode:"",detailCode:"70010",description:"授权异常请重试",solution:"",updateTime:154303559e4},{moduleCode:"",detailCode:"60056",description:"删除设备失败",solution:"",updateTime:1543031275e3},{moduleCode:"",detailCode:"60040",description:"添加的设备不在同一局域网",solution:"",updateTime:154303121e4},{moduleCode:"",detailCode:"60019",description:"加密已开启",solution:"",updateTime:1543029931e3},{moduleCode:"",detailCode:"1054722",description:"格式化设备失败",solution:"",updateTime:1543028537e3},{moduleCode:"",detailCode:"20016",description:"当前设备正在格式化",solution:"",updateTime:1543028537e3},{moduleCode:"",detailCode:"10024",description:"透明通道权限校验不通过",solution:"",updateTime:154302554e4},{moduleCode:"",detailCode:"6002",description:"删除设备失败!",solution:"",updateTime:1543025026e3},{moduleCode:"",detailCode:"1011",description:"验证码错误！",solution:"",updateTime:1543016865e3},{moduleCode:"",detailCode:"60032",description:"卡密已使用",solution:"",updateTime:1543006668e3},{moduleCode:"",detailCode:"10034",description:"子账号已存在",solution:"",updateTime:1542989194e3},{moduleCode:"",detailCode:"20301",description:"根据uuid查询联动信息不存在",solution:"",updateTime:1542988651e3},{moduleCode:"",detailCode:"1041",description:"获取验证码过于频繁",solution:"",updateTime:1542980953e3},{moduleCode:"",detailCode:"10012",description:"该appkey下已绑定重复的phone！",solution:"",updateTime:15429808e5},{moduleCode:"",detailCode:"1008",description:"phone不合法！",solution:"",updateTime:1542979812e3},{moduleCode:"",detailCode:"60023",description:"订阅操作失败",solution:"",updateTime:1542979006e3},{moduleCode:"",detailCode:"5",description:"设备返回其他错误",solution:"",updateTime:1542977828e3},{moduleCode:"",detailCode:"60006",description:"云台当前操作失败",solution:"",updateTime:1542977598e3},{moduleCode:"",detailCode:"131",description:"修改视频清晰度失败!",solution:"",updateTime:1542977246e3},{moduleCode:"",detailCode:"10019",description:"密码错误",solution:"",updateTime:1542976628e3},{moduleCode:"",detailCode:"10004",description:"用户不存在",solution:"",updateTime:1542976268e3},{moduleCode:"",detailCode:"20201",description:"操作报警信息失败",solution:"",updateTime:1542975906e3},{moduleCode:"",detailCode:"20024",description:"设备不在线，已经被别的用户添加",solution:"",updateTime:1542975858e3},{moduleCode:"",detailCode:"60004",description:"设备云台旋转达到左限位",solution:"",updateTime:1542975207e3},{moduleCode:"",detailCode:"1052679",description:"修改视频清晰度失败!",solution:"",updateTime:1542974886e3},{moduleCode:"",detailCode:"20031",description:"请在萤石客户端关闭终端绑定",solution:"",updateTime:1542974756e3},{moduleCode:"",detailCode:"1053825",description:"获取本地录像失败",solution:"",updateTime:1542974692e3},{moduleCode:"",detailCode:"60011",description:"预置点不存在",solution:"",updateTime:1542974414e3},{moduleCode:"",detailCode:"1052936",description:"修改视频清晰度失败!",solution:"",updateTime:154297439e4},{moduleCode:"",detailCode:"1016",description:"",solution:"",updateTime:1542974273e3},{moduleCode:"",detailCode:"10032",description:"子账号不存在",solution:"",updateTime:1542973906e3},{moduleCode:"",detailCode:"20013",description:"设备已被别人添加",solution:"",updateTime:1542973817e3},{moduleCode:"",detailCode:"50000",description:"服务器错误!",solution:"",updateTime:1542973801e3},{moduleCode:"",detailCode:"60010",description:"该预置点已经是当前位置",solution:"",updateTime:15429738e5},{moduleCode:"",detailCode:"60003",description:"设备云台旋转达到下限位",solution:"",updateTime:154297377e4},{moduleCode:"",detailCode:"4",description:"设备返回其他错误",solution:"",updateTime:1542973755e3},{moduleCode:"",detailCode:"60016",description:"加密未开启，无需关闭",solution:"",updateTime:1542973753e3},{moduleCode:"",detailCode:"60002",description:"设备云台旋转达到上限位",solution:"",updateTime:1542973742e3},{moduleCode:"",detailCode:"20023",description:"设备不在线，未被用户添加",solution:"",updateTime:1542973685e3},{moduleCode:"",detailCode:"10008",description:"",solution:"",updateTime:1542973676e3},{moduleCode:"",detailCode:"20010",description:"设备验证码错误",solution:"",updateTime:1542973658e3},{moduleCode:"",detailCode:"60005",description:"设备云台旋转达到右限位",solution:"",updateTime:1542973657e3},{moduleCode:"",detailCode:"20017",description:"设备已经被自己添加",solution:"",updateTime:1542973648e3},{moduleCode:"",detailCode:"20020",description:"设备在线，已经被自己添加",solution:"",updateTime:1542973533e3},{moduleCode:"",detailCode:"20029",description:"设备不在线，已经被自己添加",solution:"",updateTime:154297353e4},{moduleCode:"",detailCode:"10014",description:"APPKEY下对应的第三方userId和phone未绑定！",solution:"",updateTime:1542973499e3},{moduleCode:"",detailCode:"20002",description:"设备不存在",solution:"",updateTime:1542973499e3},{moduleCode:"",detailCode:"10030",description:"appkey和appsecret不匹配",solution:"",updateTime:154297349e4},{moduleCode:"",detailCode:"20022",description:"设备在线，已经被别的用户添加",solution:"",updateTime:1542973486e3},{moduleCode:"",detailCode:"20008",description:"设备响应超时",solution:"",updateTime:1542973484e3},{moduleCode:"",detailCode:"20032",description:"该用户下通道不存在",solution:"",updateTime:1542973481e3},{moduleCode:"",detailCode:"20006",description:"网络异常",solution:"",updateTime:1542973475e3},{moduleCode:"",detailCode:"20014",description:"deviceSerial不合法!",solution:"",updateTime:1542973454e3},{moduleCode:"",detailCode:"20007",description:"设备不在线",solution:"",updateTime:1542973454e3},{moduleCode:"",detailCode:"20018",description:"该用户不拥有该设备",solution:"",updateTime:1542973453e3},{moduleCode:"",detailCode:"10010",description:"",solution:"",updateTime:1542973453e3},{moduleCode:"",detailCode:"10011",description:"未绑定！",solution:"",updateTime:1542973453e3},{moduleCode:"",detailCode:"20001",description:"通道不存在!",solution:"",updateTime:1542973452e3},{moduleCode:"",detailCode:"10017",description:"appKey不存在",solution:"",updateTime:1542973451e3},{moduleCode:"",detailCode:"400259",description:"",solution:"",updateTime:1542875643e3},{moduleCode:"",detailCode:"400004",description:"",solution:"",updateTime:1542873364e3},{moduleCode:"",detailCode:"3840",description:"",solution:"",updateTime:154186e7},{moduleCode:"",detailCode:"-1017",description:"",solution:"",updateTime:1541733663e3},{moduleCode:"",detailCode:"320025",description:"",solution:"",updateTime:1541078281e3},{moduleCode:"",detailCode:"320024",description:"",solution:"",updateTime:1540801374e3},{moduleCode:"",detailCode:"321002",description:"",solution:"",updateTime:1540631734e3},{moduleCode:"",detailCode:"321000",description:"",solution:"",updateTime:1540609178e3},{moduleCode:"",detailCode:"321022",description:"",solution:"",updateTime:1540548345e3},{moduleCode:"",detailCode:"321016",description:"",solution:"",updateTime:1540287187e3},{moduleCode:"",detailCode:"320023",description:"",solution:"",updateTime:1539825993e3},{moduleCode:"",detailCode:"-1016",description:"",solution:"",updateTime:1539584931e3},{moduleCode:"",detailCode:"8",description:"",solution:"",updateTime:1539391812e3},{moduleCode:"",detailCode:"1075127593",description:"",solution:"",updateTime:1538959251e3},{moduleCode:"",detailCode:"380421",description:"",solution:"",updateTime:1537288465e3},{moduleCode:"",detailCode:"322000",description:"麦克风权限未开启",solution:"",updateTime:1536820136e3},{moduleCode:"",detailCode:"1152678",description:"",solution:"",updateTime:1536738348e3},{moduleCode:"",detailCode:"320047",description:"",solution:"",updateTime:1536664472e3},{moduleCode:"",detailCode:"327006",description:"",solution:"",updateTime:153613612e4},{moduleCode:"",detailCode:"1074807593",description:"",solution:"",updateTime:1536135035e3},{moduleCode:"",detailCode:"320291",description:"",solution:"",updateTime:1536110836e3},{moduleCode:"",detailCode:"320045",description:"",solution:"",updateTime:1535963775e3},{moduleCode:"",detailCode:"370004",description:"",solution:"",updateTime:1535883699e3},{moduleCode:"",detailCode:"1149954",description:"",solution:"",updateTime:1535700674e3},{moduleCode:"",detailCode:"320053",description:"",solution:"",updateTime:1535681079e3},{moduleCode:"",detailCode:"400000",description:"",solution:"",updateTime:1535532332e3},{moduleCode:"",detailCode:"110028",description:"个人版抓图接口日调用次数超出限制",solution:"请升级企业版：https://open.ys7.com/price.html",updateTime:1535348756e3},{moduleCode:"",detailCode:"110027",description:"个人版帐号数量超出安全限制，无法调用",solution:"请升级企业版：https://open.ys7.com/price.html",updateTime:1535348734e3},{moduleCode:"",detailCode:"110026",description:"设备数量超出个人版限制，当前设备无法操作",solution:"请升级企业版：https://open.ys7.com/price.html",updateTime:1535348588e3},{moduleCode:"",detailCode:"100000",description:"",solution:"",updateTime:1534980008e3},{moduleCode:"",detailCode:"324004",description:"",solution:"",updateTime:1534927762e3},{moduleCode:"",detailCode:"360104",description:"",solution:"",updateTime:1534761006e3},{moduleCode:"",detailCode:"320204",description:"",solution:"",updateTime:1534584221e3},{moduleCode:"",detailCode:"380001",description:"",solution:"",updateTime:1534404715e3},{moduleCode:"",detailCode:"380204",description:"",solution:"",updateTime:1534401682e3},{moduleCode:"",detailCode:"328006",description:"",solution:"",updateTime:1534144407e3},{moduleCode:"",detailCode:"321703",description:"",solution:"",updateTime:1534127274e3},{moduleCode:"",detailCode:"321510",description:"",solution:"",updateTime:1533428892e3},{moduleCode:"",detailCode:"321006",description:"",solution:"",updateTime:1533036916e3},{moduleCode:"",detailCode:"50009",description:"",solution:"",updateTime:1532078548e3},{moduleCode:"",detailCode:"50007",description:"",solution:"",updateTime:153199172e4},{moduleCode:"",detailCode:"50018",description:"",solution:"",updateTime:1531912829e3},{moduleCode:"",detailCode:"380451",description:"",solution:"",updateTime:15316157e5},{moduleCode:"",detailCode:"380336",description:"",solution:"",updateTime:1531231721e3},{moduleCode:"",detailCode:"360020",description:"",solution:"",updateTime:1531117554e3},{moduleCode:"",detailCode:"380418",description:"",solution:"",updateTime:153110707e4},{moduleCode:"",detailCode:"1153445",description:"设备在该时间段内没有录像",solution:"",updateTime:1530944007e3},{moduleCode:"",detailCode:"110007",description:"调用接口总次数达到上限",solution:"请升级企业版，获取更高能力",updateTime:1530935584e3},{moduleCode:"",detailCode:"360019",description:"",solution:"",updateTime:1530869771e3},{moduleCode:"",detailCode:"360100",description:"",solution:"",updateTime:1530786188e3},{moduleCode:"",detailCode:"380042",description:"",solution:"",updateTime:1530775199e3},{moduleCode:"",detailCode:"320355",description:"",solution:"",updateTime:1530716074e3},{moduleCode:"",detailCode:"100003",description:"",solution:"",updateTime:1530232541e3},{moduleCode:"",detailCode:"371026",description:"",solution:"",updateTime:15301926e5},{moduleCode:"",detailCode:"102",description:"",solution:"",updateTime:1529895641e3},{moduleCode:"",detailCode:"380201",description:"",solution:"",updateTime:1529740929e3},{moduleCode:"",detailCode:"320054",description:"",solution:"",updateTime:1529544875e3},{moduleCode:"",detailCode:"500101",description:"",solution:"",updateTime:1529485953e3},{moduleCode:"",detailCode:"321001",description:"",solution:"",updateTime:1529411048e3},{moduleCode:"",detailCode:"321508",description:"",solution:"",updateTime:1529393279e3},{moduleCode:"",detailCode:"405991",description:"",solution:"",updateTime:1529380238e3},{moduleCode:"",detailCode:"380461",description:"",solution:"",updateTime:1529130941e3},{moduleCode:"",detailCode:"-1019",description:"",solution:"",updateTime:1529057245e3},{moduleCode:"",detailCode:"322009",description:"",solution:"",updateTime:1528965717e3},{moduleCode:"",detailCode:"324005",description:"",solution:"",updateTime:1528950153e3},{moduleCode:"",detailCode:"325000",description:"",solution:"",updateTime:1528947143e3},{moduleCode:"",detailCode:"326032",description:"",solution:"",updateTime:1528872971e3},{moduleCode:"",detailCode:"325032",description:"",solution:"",updateTime:1528863189e3},{moduleCode:"",detailCode:"328000",description:"",solution:"",updateTime:1528794505e3},{moduleCode:"",detailCode:"53",description:"",solution:"",updateTime:1528693249e3},{moduleCode:"",detailCode:"-1020",description:"",solution:"",updateTime:152849944e4},{moduleCode:"",detailCode:"329032",description:"",solution:"",updateTime:1528446301e3},{moduleCode:"",detailCode:"-1202",description:"",solution:"",updateTime:152843982e4},{moduleCode:"",detailCode:"2",description:"",solution:"",updateTime:1528434175e3},{moduleCode:"",detailCode:"1152936",description:"",solution:"",updateTime:1528345986e3},{moduleCode:"",detailCode:"328011",description:"",solution:"",updateTime:15283386e5},{moduleCode:"",detailCode:"28",description:"",solution:"",updateTime:152833753e4},{moduleCode:"",detailCode:"320356",description:"",solution:"",updateTime:1528188693e3},{moduleCode:"",detailCode:"320357",description:"",solution:"",updateTime:1528188517e3},{moduleCode:"",detailCode:"405800",description:"",solution:"",updateTime:1528168732e3},{moduleCode:"",detailCode:"405996",description:"",solution:"",updateTime:1528168686e3},{moduleCode:"",detailCode:"380357",description:"",solution:"",updateTime:1528011565e3},{moduleCode:"",detailCode:"328022",description:"",solution:"",updateTime:1527929065e3},{moduleCode:"",detailCode:"380003",description:"",solution:"",updateTime:1527927819e3},{moduleCode:"",detailCode:"50004",description:"",solution:"",updateTime:1527770643e3},{moduleCode:"",detailCode:"50011",description:"",solution:"",updateTime:1527770635e3},{moduleCode:"",detailCode:"370017",description:"",solution:"",updateTime:1527739514e3},{moduleCode:"",detailCode:"327032",description:"",solution:"",updateTime:1527726704e3},{moduleCode:"",detailCode:"324001",description:"",solution:"",updateTime:1527681892e3},{moduleCode:"",detailCode:"405997",description:"",solution:"",updateTime:1527653408e3},{moduleCode:"",detailCode:"405995",description:"",solution:"",updateTime:1527647283e3},{moduleCode:"",detailCode:"1153825",description:"",solution:"",updateTime:1527601747e3},{moduleCode:"",detailCode:"328002",description:"",solution:"",updateTime:1527495292e3},{moduleCode:"",detailCode:"1152679",description:"",solution:"",updateTime:1527486665e3},{moduleCode:"",detailCode:"380356",description:"",solution:"",updateTime:1527125669e3},{moduleCode:"",detailCode:"328032",description:"",solution:"",updateTime:1527069382e3},{moduleCode:"",detailCode:"22",description:"",solution:"",updateTime:1527049826e3},{moduleCode:"",detailCode:"9",description:"",solution:"",updateTime:1527006778e3},{moduleCode:"",detailCode:"89",description:"",solution:"",updateTime:1526622784e3},{moduleCode:"",detailCode:"328016",description:"",solution:"",updateTime:1526452365e3},{moduleCode:"",detailCode:"368005",description:"",solution:"",updateTime:1525921264e3},{moduleCode:"",detailCode:"0",description:"",solution:"",updateTime:1525920242e3},{moduleCode:"",detailCode:"380006",description:"",solution:"",updateTime:1525918868e3},{moduleCode:"",detailCode:"310",description:"",solution:"",updateTime:1525834436e3},{moduleCode:"",detailCode:"360011",description:"",solution:"",updateTime:1525681552e3},{moduleCode:"",detailCode:"170005",description:"",solution:"",updateTime:15254339e5},{moduleCode:"",detailCode:"50023",description:"",solution:"",updateTime:1525403338e3},{moduleCode:"",detailCode:"100131",description:"",solution:"",updateTime:1525229691e3},{moduleCode:"",detailCode:"-1018",description:"",solution:"",updateTime:1525142341e3},{moduleCode:"",detailCode:"362026",description:"",solution:"",updateTime:1524882677e3},{moduleCode:"",detailCode:"368007",description:"",solution:"",updateTime:1524832269e3},{moduleCode:"",detailCode:"54",description:"",solution:"",updateTime:1524793646e3},{moduleCode:"",detailCode:"1154722",description:"",solution:"",updateTime:1524620807e3},{moduleCode:"",detailCode:"320229",description:"",solution:"",updateTime:1524551682e3},{moduleCode:"",detailCode:"360012",description:"",solution:"",updateTime:1524472094e3},{moduleCode:"",detailCode:"380229",description:"",solution:"",updateTime:1524110755e3},{moduleCode:"",detailCode:"360016",description:"",solution:"",updateTime:1523933518e3},{moduleCode:"",detailCode:"-1003",description:"",solution:"",updateTime:1523584804e3},{moduleCode:"",detailCode:"410026",description:"",solution:"",updateTime:152351743e4},{moduleCode:"",detailCode:"360102",description:"TTS初始化失败",solution:"",updateTime:1523503528e3},{moduleCode:"",detailCode:"360013",description:"设备开启了隐私保护",solution:"",updateTime:1523503507e3},{moduleCode:"",detailCode:"360010",description:"设备正在对讲中",solution:"",updateTime:1523503491e3},{moduleCode:"",detailCode:"360007",description:"TTS关闭了与客户端的连接",solution:"",updateTime:1523503475e3},{moduleCode:"",detailCode:"360006",description:"客户端接收发生错误",solution:"",updateTime:1523503457e3},{moduleCode:"",detailCode:"360005",description:"客户端发送的消息错误",solution:"",updateTime:1523503437e3},{moduleCode:"",detailCode:"360004",description:"TTS内部发生错误",solution:"",updateTime:1523503421e3},{moduleCode:"",detailCode:"360003",description:"TTS的设备端发生错误",solution:"",updateTime:1523503397e3},{moduleCode:"",detailCode:"360002",description:"对讲发起超时",solution:"",updateTime:1523503376e3},{moduleCode:"",detailCode:"360001",description:"客户端请求超时",solution:"",updateTime:1523503357e3},{moduleCode:"",detailCode:"320077",description:"",solution:"",updateTime:1523444274e3},{moduleCode:"",detailCode:"370047",description:"",solution:"",updateTime:152344048e4},{moduleCode:"",detailCode:"100002",description:"",solution:"",updateTime:1523413964e3},{moduleCode:"",detailCode:"-1004",description:"",solution:"",updateTime:1523336653e3},{moduleCode:"",detailCode:"380000",description:"",solution:"",updateTime:1523180856e3},{moduleCode:"",detailCode:"380213",description:"",solution:"",updateTime:1523180623e3},{moduleCode:"",detailCode:"380101",description:"",solution:"",updateTime:1522834231e3},{moduleCode:"",detailCode:"50047",description:"",solution:"",updateTime:1522833243e3},{moduleCode:"",detailCode:"-999",description:"",solution:"",updateTime:1522831034e3},{moduleCode:"",detailCode:"320418",description:"",solution:"",updateTime:1522829072e3},{moduleCode:"",detailCode:"-1009",description:"",solution:"",updateTime:1522746247e3},{moduleCode:"",detailCode:"320209",description:"",solution:"",updateTime:1522744395e3},{moduleCode:"",detailCode:"368006",description:"",solution:"",updateTime:15227443e5},{moduleCode:"",detailCode:"369003",description:"",solution:"",updateTime:1522736355e3},{moduleCode:"",detailCode:"405989",description:"",solution:"",updateTime:1522726571e3},{moduleCode:"",detailCode:"-1012",description:"",solution:"",updateTime:1522726203e3},{moduleCode:"",detailCode:"322016",description:"",solution:"",updateTime:1522722918e3},{moduleCode:"",detailCode:"500103",description:"",solution:"",updateTime:1522655556e3},{moduleCode:"",detailCode:"405999",description:"",solution:"",updateTime:1522654716e3},{moduleCode:"",detailCode:"321032",description:"",solution:"",updateTime:1522647732e3},{moduleCode:"",detailCode:"381101",description:"",solution:"",updateTime:1522392414e3},{moduleCode:"",detailCode:"399999",description:"",solution:"",updateTime:1522379834e3},{moduleCode:"",detailCode:"380103",description:"",solution:"",updateTime:1522312724e3},{moduleCode:"",detailCode:"360014",description:"",solution:"",updateTime:1522304341e3},{moduleCode:"",detailCode:"-1005",description:"",solution:"",updateTime:1522288195e3},{moduleCode:"",detailCode:"100005",description:"",solution:"",updateTime:1522218849e3},{moduleCode:"",detailCode:"100004",description:"",solution:"",updateTime:1522209053e3},{moduleCode:"",detailCode:"106002",description:"",solution:"",updateTime:15222062e5},{moduleCode:"",detailCode:"410030",description:"",solution:"",updateTime:1522162252e3},{moduleCode:"",detailCode:"-1002",description:"",solution:"",updateTime:152215069e4},{moduleCode:"",detailCode:"-1200",description:"",solution:"",updateTime:1522139025e3},{moduleCode:"",detailCode:"-1001",description:"",solution:"",updateTime:1522046436e3},{moduleCode:"",detailCode:"-1011",description:"",solution:"",updateTime:1522045931e3},{moduleCode:"",detailCode:"381102",description:"",solution:"",updateTime:1522044953e3},{moduleCode:"",detailCode:"381103",description:"",solution:"",updateTime:1522044953e3},{moduleCode:"",detailCode:"391205",description:"vtdu解析服务器ip失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"391206",description:"vtdu描述符select失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"391207",description:"vtdu文件描述符不在可读中",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"391208",description:"vtdu网络发生错误getsockopt",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"391209",description:"vtdu描述符select超时",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395000",description:"cas回复信令，发现内存已经释放（和设备之间异常断开）",msg:"播放失败请重试",solution:"检查设备网络；刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395400",description:"私有化协议vtm检测私有化协议中码流类型小于0或者设备序列号为空等非法参数场景返回(app不重试取流)",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395402",description:"回放找不到录像文件",msg:"回放找不到录像文件，本地存储请检查存储卡是否接触良好",solution:"检查是否有存储卡并且接触良好",updateTime:1522034841e3},{moduleCode:"",detailCode:"395403",description:"操作码或信令密钥与设备不匹配",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395404",description:"设备不在线",solution:"检查设备网络；重启设备接入萤石云",msg:"设备不在线，请检查设备网络或重启设备接入萤石云",updateTime:1522034841e3},{moduleCode:"",detailCode:"395405",description:"流媒体向设备发送或接受信令超时/cas响应超时",msg:"播放失败，请检查设备网络或重启设备",solution:"检查设备网络；重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"395406",description:"token失效",msg:"播放失败请重试或重启设备",solution:"刷新重试或者重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"395407",description:"客户端的URL格式错误",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395409",description:"预览开启隐私保护",msg:"播放失败请关闭隐私遮蔽",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395410",description:"设备达到最大连接数",solution:"请升级设备固件版本",updateTime:1522034841e3},{moduleCode:"",detailCode:"395411",description:"token无权限",msg:"播放失败",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395412",description:"session不存在",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395413",description:"验证token的他异常（不具体） ",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395415",description:"设备通道错",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395416",description:"设备资源受限",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395451",description:"设备不支持的码流类型",msg:"播放失败请重试或切换设备码流",solution:"刷新重试或者切换到高清模式",updateTime:1522034841e3},{moduleCode:"",detailCode:"395452",description:"设备链接流媒体服务器失败",msg:"播放失败，请检查设备网络或重启设备或重新加载",solution:"检查设备网络，重启设备，刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395454",description:"流媒体中关于设备取流会话不存在",msg:"播放失败请重试",solution:"流媒体中关于设备取流会话不存在",updateTime:152222018e4},{moduleCode:"",detailCode:"395455",description:"设备通道未关联",msg:"播放失败，请检查设备通道是否关联",solution:"检查设备通道是否关联",updateTime:152222018e4},{moduleCode:"",detailCode:"395456",description:"设备通道关联设备不在线",msg:"播放失败，请检查设备通道是否上线",solution:"检查设备通道是否上线",updateTime:152222018e4},{moduleCode:"",detailCode:"395457",description:"客户端不支持端到端加密",msg:"播放失败",solution:"客户端不支持端到端加密",updateTime:152222018e4},{moduleCode:"",detailCode:"395458",description:"设备不支持当前并发ECDH密",msg:"客户端不支持端到端加密",solution:"设备不支持当前并发ECDH密",updateTime:152222018e4},{moduleCode:"",detailCode:"395459",description:"VTDU 处理ECDH 加密失败",msg:"播放失败",solution:"VTDU 处理ECDH 加密失败",updateTime:152222018e4},{moduleCode:"",detailCode:"395460",description:"流媒体中关于设备取流会话不存在",msg:"播放失败请重试",solution:"流媒体中关于设备取流会话不存在",updateTime:152222018e4},{moduleCode:"",detailCode:"395492",description:"设备不支持的命令",msg:"操作失败，设备不支持",solution:"",updateTime:152222018e4},{moduleCode:"",detailCode:"395500",description:"服务器处理失败",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395501",description:"流媒体vtdu达到最大负载，请扩容",msg:"播放失败请重试",solution:"服务器负载达到上限，请稍后重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395503",description:"vtm返回分配vtdu失败",msg:"播放失败请重试",solution:"vtdu服务异常，请请稍后重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395504",description:"流媒体vtdu达到最大负载",msg:"播放失败请重试",solution:"服务器负载达到上限，请稍后重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395505",description:"vtm ecdh解密失败",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395506",description:"vtm 返回IPC不支持取流（需要IPC添加NVR后支持）",msg:"播放失败，请绑定NVR使用",solution:"IPC绑定NVR使用",updateTime:1522034841e3},{moduleCode:"",detailCode:"395544",description:"设备返回无视频源",msg:"播放失败，请检查设备接触情况",solution:"设备是否接触良好； 如果一直无法解决，请联系技术支持",updateTime:1522034841e3},{moduleCode:"",detailCode:"395545",description:"视频分享时间已经结束",msg:"视频分享时间已结束",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395546",description:"vtdu返回达到取流并发路数限制",msg:"并发上限，请升级为企业版",solution:"请升级为企业版，放开并发限制",updateTime:1522034841e3},{moduleCode:"",detailCode:"395547",description:"vtdu返回开放平台用户并发限制",msg:"并发上限，请升级为企业版",solution:"请确定开放平台用户预览是否超过用户并发数量限制",updateTime:1522034841e3},{moduleCode:"",detailCode:"395556",description:"ticket校验失败",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395557",description:"回放服务器等待流头超时",msg:"播放失败请重试",solution:"刷新重试，检测设备网络，重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"395558",description:"查找录像开始时间错误",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395560",description:"群组分享取流二次验证失败",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395561",description:"分享群组用户被锁住",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395562",description:"群组分享用户权限变更",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395563",description:"认证服务连接失败",msg:"播放失败请重试",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395564",description:"认证超时",msg:"播放失败请重试",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395566",description:"不在分享时间内预览",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395567",description:"分享通道被锁定",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395568",description:"未找到认证类型",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395569",description:"认证返回的参数异常",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395600",description:"分享设备不在分享时间内",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395601",description:"群组分享用户没权限",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395602",description:"群组分享权限变更",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395610",description:"接收流头失败",msg:"播放失败请重试并检查设备网络情况以及设备配置",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395620",description:"心跳超时",msg:"播放失败请重试并检查设备网络情况以及设备配置",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"395530",description:"机房故障不可用",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395701",description:"cas信令返回格式错误",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395702",description:"SPGW请求Cas、Status透传超时",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"395703",description:"SPGW请求http不通",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396001",description:"客户端参数出错",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396099",description:"客户端默认错误",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396101",description:"不支持的命令",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396102",description:"设备流头发送失败",msg:"播放失败请重试",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396103",description:"cas/设备返回错误1",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396104",description:"cas/设备返回错误-1",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396105",description:"设备返回错误码3",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396106",description:"设备返回错误码4",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396107",description:"设备返回错误码5",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396108",description:"cas信令回应重复",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396109",description:"视频广场取消分享",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396110",description:"设备信令默认错误",msg:"播放失败请重试",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396501",description:"设备数据链路和实际链路不匹配",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396502",description:"设备数据链路重复建立连接",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396503",description:"设备数据链路端口不匹配",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396504",description:"缓存设备数据链路失败(内存块不足)",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396505",description:"设备发送确认头消息重复",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396506",description:"设备数据先于确定头部到达",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396508",description:"设备数据头部长度非法",msg:"播放失败请重试或重启设备",solution:"刷新重试，或者重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"396509",description:"索引找不到设备数据管理块",msg:"播放失败请重试",solution:"刷新重试",updateTime:1522034841e3},{moduleCode:"",detailCode:"396510",description:"设备数据链路vtdu内存块协议状态不匹配",msg:"播放失败请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396511",description:"设备数据头部没有streamkey错误",msg:"播放失败请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396512",description:"设备数据头部非法(较笼统)",msg:"播放失败请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396513",description:"设备数据长度过小",msg:"播放失败请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396514",description:"设备老协议推流头部没有streamkey错误",msg:"播放失败请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396515",description:"设备老协议推流数据非法",msg:"播放失败请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396516",description:"设备老协议索引找不到内存管理块",msg:"播放失败请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396517",description:"设备老协议推流数据非法",msg:"播放失败请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396518",description:"设备数据包过大",msg:"播放失败请重试或重启设备",solution:"刷新重试，或者重启设备",updateTime:1522034841e3},{moduleCode:"",detailCode:"396519",description:"设备推流链路网络不稳定",msg:"播放失败，请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396520",description:"设备推流链路网络不稳定(默认)",msg:"播放失败请重试或重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396700",description:"异常数据包",msg:"播放失败，设备重启",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"396701",description:"回放结束数据包",msg:"回放结束",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"397001",description:"与相应服务连接失败",msg:"播放失败请重试，请检查设备网络情况以及连接情况",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"397002",description:"与相应服务连接失败",msg:"播放失败请重试，请检查设备网络情况以及连接情况",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"397003",description:"与相应服务连接失败",msg:"播放失败请重试，请检查设备网络情况以及连接情况",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"397004",description:"与相应服务连接失败",msg:"播放失败请重试，请检查设备网络情况以及连接情况",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"397005",description:"VTDU连接失败，或VTDU侧断开连接",msg:"播放失败请重试，请检查设备网络情况以及连接情况",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"397006",description:"vtm断开连接（无需 关注）",msg:"播放失败请重试，请检查设备网络情况以及连接情况",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"397007",description:"客户端发送缓冲区满（上行带宽太小）",msg:"播放失败，上行带宽过小请检查设备网络情况",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"399000",description:"无效包，包过大",msg:" 检查设备重启设备",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"399001",description:"地址不合法",msg:"播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"399002",description:"缺少端口",msg:" 播放失败",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"170003",description:"refreshToken不存在",solution:"建议用户重新调用logout接口，然后调用openLoginPage接口重新启动登录页面登录",updateTime:1522034841e3},{moduleCode:"",detailCode:"170004",description:"refreshToken已过期",solution:"建议用户重新调用logout接口，然后调用openLoginPage接口重新启动登录页面登录",updateTime:1522034841e3},{moduleCode:"",detailCode:"380011",description:"设备隐私保护中",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380045",description:"设备直连取流连接数量过大",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380047",description:"设备不支持该命令",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380077",description:"设备正在对讲中",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380102",description:"数据接收异常",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380205",description:"设备检测入参异常",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380209",description:"网络连接超时",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"380212",description:"设备端网络连接超时",solution:"",updateTime:1522034841e3},{moduleCode:"",detailCode:"101007",description:"手机号未注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120503",description:"正在响铃",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390016",description:"vtdu成功响应未携带流头",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101008",description:"手机号码不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120504",description:"室内机正在通话",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390017",description:"无数据流，尚未使用",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101009",description:"用户名与手机不匹配",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120505",description:"设备操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390018",description:"信令消息体PB解析失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101010",description:"获取验证码失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120506",description:"非法命令",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390019",description:"信令消息体PB封装失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101011",description:"验证码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120507",description:"智能锁密码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390020",description:"申请系统内存资源失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101012",description:"验证码失效",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120508",description:"开关锁失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390021",description:"vtdu地址尚未获取到",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101013",description:"用户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120509",description:"开关锁超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390022",description:"客户端尚未支持",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101014",description:"密码不正确或者appKey不正确",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120510",description:"智能锁设备繁忙",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390023",description:"获取系统socket资源失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101015",description:"用户被锁住",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120511",description:"远程开锁功能未打开",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390024",description:"上层填充的StreamSsnId不匹配",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101021",description:"验证参数异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120600",description:"临时密码数已达上限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390025",description:"链接服务器失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101026",description:"邮箱已经被注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120601",description:"添加临时密码失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390026",description:"客户端请求未收到服务端应答",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101031",description:"邮箱未注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120602",description:"删除临时密码失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390027",description:"链路断开",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101032",description:"邮箱不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120603",description:"该临时密码不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390028",description:"没有取流链接",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101041",description:"获取验证码过于频繁",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120604",description:"指纹锁射频通信失败,请稍后再试",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390029",description:"流成功停止",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101043",description:"手机验证码输入错误超过规定次数",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120605",description:"其他用户正在认证中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390030",description:"客户端防串流校验失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102000",description:"设备不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120606",description:"验证已启动,请在120s内进行本地验证和调用添加设备接口",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390031",description:"应用层tcp粘包处理缓冲区满",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102001",description:"摄像机不存在",solution:"摄像机未注册到萤石云平台，请仔细检查摄像机的网络配置，确保连接到网络",updateTime:152203484e4},{moduleCode:"",detailCode:"120607",description:"删除用户失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390032",description:"无效状态迁移",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102003",description:"设备不在线",solution:"参考服务中心排查方法",updateTime:152203484e4},{moduleCode:"",detailCode:"120608",description:"用户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390033",description:"无效客户端状态",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102004",description:"设备异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120609",description:"设备响应超时,门锁通信故障或者电量不足,请重试.",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390034",description:"向vtm取流流媒体信息请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102007",description:"设备序列号不正确",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120610",description:"获取临时密码列表失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390035",description:"向代理取流请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"102009",description:"设备请求响应超时异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"130001",description:"用户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390036",description:"向代理保活取流请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"105000",description:"设备已被自己添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"130002",description:"手机号码已经注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390037",description:"向vtdu取流请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"105001",description:"设备已被别人添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"130003",description:"手机验证码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390038",description:"向vtdu保活取流请求超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"105002",description:"设备验证码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"130004",description:"终端绑定操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391001",description:"vtm地址或端口非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107001",description:"邀请不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"149999",description:"数据异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391002",description:"vtm生成文件描述符失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107002",description:"邀请验证失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"150000",description:"服务器异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391003",description:"vtm设置文件描述符非阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107003",description:"邀请用户不匹配",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160000",description:"设备不支持云台控制",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391004",description:"vtm设置文件描述符阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107004",description:"云存储连接失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160001",description:"用户无云台控制权限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391005",description:"vtm解析服务器ip失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"7005",description:"VTDU主动断开连接",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107005",description:"VTDU主动断开连接",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160002",description:"设备云台旋转达到上限位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391006",description:"vtm描述符select失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107006",description:"不能邀请自己",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160003",description:"设备云台旋转达到下限位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391007",description:"vtm文件描述符不在可读中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"107007",description:"重复邀请",solution:"分享和删除分享必须全部由接口形式操作，如果与萤石客户端混用会造成这个问题，解决办法：在萤石客户端清空所有相关分享数据并重新添加设备，再通过接口操作即可",updateTime:152203484e4},{moduleCode:"",detailCode:"160004",description:"设备云台旋转达到左限位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391008",description:"vtm网络发生错误getsockopt",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110001",description:"参数错误",solution:"参数为空或者格式不对",updateTime:152203484e4},{moduleCode:"",detailCode:"160005",description:"设备云台旋转达到右限位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391009",description:"vtm描述符select超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110002",description:"accessToken异常或过期",solution:"accessToken有效期为七天，建议在accessToken即将过期或者出现10002错误码的时候重新获取accessToken",updateTime:152203484e4},{moduleCode:"",detailCode:"160006",description:"云台当前操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391101",description:"proxy地址或端口非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110004",description:"用户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160007",description:"预置点个数超过最大值",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391102",description:"proxy生成文件描述符失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110005",description:"appKey异常",solution:"确认appKey状态，不通过或者冻结状态会返回该错误码",updateTime:152203484e4},{moduleCode:"",detailCode:"160009",description:"正在调用预置点",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391103",description:"proxy设置文件描述符非阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110006",description:"ip受限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160010",description:"该预置点已经是当前位置",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391104",description:"proxy设置文件描述符阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160011",description:"预置点不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391105",description:"proxy解析服务器ip失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110008",description:"签名错误",solution:"①获取签名方式详见apidemo及[旧]API文档 ②注意编码格式为UTF-8",updateTime:152203484e4},{moduleCode:"",detailCode:"160013",description:"设备版本已是最新",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391106",description:"proxy描述符select失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110009",description:"签名参数错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160014",description:"设备正在升级",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391107",description:"proxy文件描述符不在可读中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110010",description:"签名超时",solution:"请调用同步服务器时间接口进行校时",updateTime:152203484e4},{moduleCode:"",detailCode:"160015",description:"设备正在重启",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391108",description:"proxy网络发生错误getsockopt",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110011",description:"未开通萤石云服务",solution:"参照绑定流程",updateTime:152203484e4},{moduleCode:"",detailCode:"160016",description:"加密未开启，无须关闭",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391109",description:"proxy描述符select超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110012",description:"第三方账户与萤石账号已经绑定",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160017",description:"设备抓图失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391201",description:"vtdu地址或端口非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110013",description:"应用没有权限调用此接口",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160018",description:"设备升级失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391202",description:"vtdu生成文件描述符失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110014",description:"APPKEY下对应的第三方userId和phone未绑定",solution:"获取AccessToken时所用appKey与SDK所用appKey不一致",updateTime:152203484e4},{moduleCode:"",detailCode:"160019",description:"加密已开启",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"391203",description:"vtdu设置文件描述符非阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110017",description:"appKey不存在",solution:"请填写在官网申请的应用秘钥",updateTime:152203484e4},{moduleCode:"",detailCode:"160020",description:"不支持该命令",solution:"请确认设备是否支持该命令",updateTime:152203484e4},{moduleCode:"",detailCode:"391204",description:"vtdu设置文件描述符阻塞失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110018",description:"AccessToken与Appkey不匹配",solution:"请检查获取accessToken对应的appKey和SDK中设置的appKey是否一致",updateTime:152203484e4},{moduleCode:"",detailCode:"160023",description:"订阅操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110019",description:"密码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160024",description:"取消订阅操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110020",description:"请求方法为空",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160025",description:"客流统计配置失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110021",description:"ticket校验失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160026",description:"设备处于隐私遮蔽状态",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110022",description:"透传目的地非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160027",description:"设备正在镜像操作",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110024",description:"无透传权限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160028",description:"设备正在键控动作",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110025",description:"appKey被禁止使用通明通道",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160029",description:"设备处于语音对讲状态",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160030",description:"卡密输入错误次数过多，24小时后再输入",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160031",description:"卡密信息不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160032",description:"卡密状态不对或已过期",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160033",description:"卡密非卖品，只能开通对应的绑定设备",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110030",description:"appKey和appSecret不匹配",solution:"请检查appKey和appSecret是否对应",updateTime:152203484e4},{moduleCode:"",detailCode:"160035",description:"购买云存储服务失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110031",description:"子账户或萤石用户没有权限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160040",description:"添加的设备不在同一局域网",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110032",description:"子账户不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160041",description:"添加的设备被其他设备关联或响应超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110033",description:"子账户未设置授权策略",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160042",description:"添加的设备密码错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110034",description:"子账户已存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160043",description:"添加的设备超出最大数量",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110035",description:"获取子账户AccessToken异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160044",description:"添加的设备网络不可达超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110036",description:"子账户被禁用",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160045",description:"添加的设备的IP和其他通道的IP冲突",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"110051",description:"无权限进行抓图",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160046",description:"添加的设备的IP和本设备的IP冲突",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160047",description:"码流类型不支持",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120002",description:"设备不存在",solution:"①设备没有注册到萤石云平台，请检查下设备网络参数，确保能正常连接网络②设备序列号不存在",updateTime:152203484e4},{moduleCode:"",detailCode:"160048",description:"带宽超出系统接入带宽",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120003",description:"参数异常，SDK版本过低",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160049",description:"IP或者端口不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120004",description:"参数异常，SDK版本过低",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160050",description:"添加的设备版本不支持需要升级才能接入",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120005",description:"安全认证失败，需进行SDK安全认证",solution:"已去掉安全验证",updateTime:152203484e4},{moduleCode:"",detailCode:"160051",description:"添加的设备不支持接入",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120006",description:"网络异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160052",description:"添加的设备通道号出错",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120007",description:"设备不在线",solution:"参考服务中心排查方法",updateTime:152203484e4},{moduleCode:"",detailCode:"160053",description:"添加的设备分辨率不支持",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120008",description:"设备响应超时",solution:"设备响应超时，请检测设备网络或重试",updateTime:152203484e4},{moduleCode:"",detailCode:"160054",description:"添加的设备账号被锁定",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120009",description:"子账号不能添加设备",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160055",description:"添加的设备取码流出错",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120010",description:"设备验证码错误",solution:"验证码在设备标签上，六位大写字母，注意大小写",updateTime:152203484e4},{moduleCode:"",detailCode:"160056",description:"删除设备失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120012",description:"设备添加失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160057",description:"删除的设备未关联",solution:"检查IPC与NVR是否有关联关系",updateTime:152203484e4},{moduleCode:"",detailCode:"120013",description:"设备已被别人添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160060",description:"地址未绑定",solution:"请前往官网设置直播",updateTime:152203484e4},{moduleCode:"",detailCode:"120014",description:"设备序列号不正确",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160061",description:"账户流量已超出或未购买，限制开通",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120015",description:"设备不支持该功能",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160062",description:"该通道直播已开通",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120016",description:"当前设备正在格式化",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160063",description:"直播未使用或直播已关闭",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120017",description:"设备已被自己添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160070",description:"设备不能转移给自己",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120018",description:"该用户不拥有该设备",solution:"确认设备是否属于用户",updateTime:152203484e4},{moduleCode:"",detailCode:"160071",description:"设备不能转移，设备与其他设备存在关联关系",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400001",description:"参数为空",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120019",description:"设备不支持云存储服务",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160072",description:"设备不能转移，通道被分享给其他用户或者分享到视频广场",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400002",description:"参数错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120020",description:"设备在线，被自己添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160073",description:"云存储转移失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400025",description:"设备不支持对讲",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120021",description:"设备在线，但是未被用户添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160080",description:"当前正在声源定位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400029",description:"没有初始化或资源被释放",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120022",description:"设备在线，但是已经被别的用户添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160081",description:"当前正在轨迹巡航",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400030",description:"json解析异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120023",description:"设备不在线，未被用户添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160082",description:"设备正在响应本次声源定位",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400031",description:"网络异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120024",description:"设备不在线，但是已经被别的用户添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"160083",description:"当前正在开启隐私遮蔽",solution:"设备正在操作隐私遮蔽，无法进行当前操作",updateTime:152203484e4},{moduleCode:"",detailCode:"400032",description:"设备信息异常为空",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120025",description:"重复申请分享",solution:"确认设备是否由添加过该设备且申请过分享的账户下是否还存在分享记录",updateTime:152203484e4},{moduleCode:"",detailCode:"160084",description:"当前正在关闭隐私遮蔽",solution:"设备正在操作隐私遮蔽，无法进行当前操作",updateTime:152203484e4},{moduleCode:"",detailCode:"400034",description:"取流超时",solution:"一般是由于网络状况不好导致，可以尝试下让用户重新播放",updateTime:152203484e4},{moduleCode:"",detailCode:"120026",description:"视频广场不存在该视频",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"380290",description:"　连接CAS服务器失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400035",description:"设备已加密，需要输入验证码",solution:"收到此错误码，需要让用户输入验证码后，调用EZPlayer.setPlayKey传入验证码，并重新调用播放函数",updateTime:152203484e4},{moduleCode:"",detailCode:"120027",description:"视频转码失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361001",description:"对讲服务端排队超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400036",description:"播放验证码错误",solution:"收到此错误码，需要让用户输入验证码后，调用EZPlayer.setPlayKey传入验证码，并重新调用播放函数",updateTime:152203484e4},{moduleCode:"",detailCode:"120028",description:"设备固件升级包不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361002",description:"对讲服务端处理超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400037",description:"surfacehold错误",solution:"请检查是否是播放之前销毁了surface，收到此错误也可以重新建立surface后播放",updateTime:152203484e4},{moduleCode:"",detailCode:"120029",description:"设备不在线，但是已经被自己添加",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361003",description:"设备链接对讲服务器超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400100",description:"未知错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120030",description:"该用户不拥有该视频广场视频",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361004",description:"服务器内部错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400200",description:"player sdk出错，这种错误一般开发者也是无法解决，不具体分类传出，传一个统一的inner错误码出去",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120031",description:"开启终端绑定，硬件特征码验证失败",solution:"请在萤石客户端关闭终端绑定，参考此步骤",updateTime:152203484e4},{moduleCode:"",detailCode:"361005",description:"解析消息失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400300",description:"内存溢出",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120032",description:"该用户下通道不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361006",description:"请求重定向--需要向其他服务申请对讲",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400901",description:"设备不在线，可以提示用户",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120033",description:"无法收藏自己分享的视频",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361007",description:"请求url非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400902",description:"accesstoken异常或失效，需要重新获取accesstoken，并传入到sdk",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120034",description:"该用户下无设备",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361008",description:"token失效",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400903",description:"当前账号开启了终端绑定，只允许指定设备登录操作，提示用户登录i.ys7.com解除终端绑定",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120090",description:"用户反馈失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361009",description:"设备验证码或者通信秘钥不匹配",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400904",description:"设备正在对讲中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120095",description:"APP包下载失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361010",description:"设备已经在对讲",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"400905",description:"设备开启了隐私保护，不允许预览、对讲等",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120096",description:"APP包信息删除失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361011",description:"设备10s响应超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120101",description:"视频不支持分享给本人",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361012",description:"设备不在线",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320002",description:"参数无效",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120102",description:"无相应邀请信息",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361013",description:"设备开启隐私保护拒绝对讲",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320003",description:"暂不支持此操作",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120103",description:"好友已存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361014",description:"token无权限",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320004",description:"内存溢出",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120104",description:"好友不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361015",description:"设备返回session不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320005",description:"创建CAS session失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120105",description:"好友状态错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361016",description:"验证token其他异常错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320006",description:"创建cloud session失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120106",description:"对应群组不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361017",description:"服务端监听设备建立端口超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320007",description:"token失效",solution:"重新设置token后再重试",updateTime:152203484e4},{moduleCode:"",detailCode:"120107",description:"不能添加自己为好友",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361018",description:"设备链路异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320008",description:"token池里面没有token,请传入token",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120108",description:"当前用户和所添加用户不是好友关系",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361019",description:"对讲服务端不支持的信令消息",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320009",description:"传入新的INIT_PARAM并reset(保留，目前未用)",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120109",description:"对应分享不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361020",description:"对讲服务端解析对讲请求未携带会话描述能力集",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320010",description:"请重试",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120110",description:"好友群组不属于当前用户",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361021",description:"对讲服务端优先能力集结果为空",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320011",description:"500毫秒后请重试",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120111",description:"好友不是等待验证状态",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361022",description:"cas链路异常",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320012",description:"token池已满",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120112",description:"添加应用下的用户为好友失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361023",description:"对讲服务端分配对讲会话资源失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320013",description:"P2P client超过限制",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120201",description:"操作报警信息失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"361024",description:"对讲服务端解析信令消息失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320014",description:"sdk未初始化",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120202",description:"操作留言信息失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390001",description:"通用错误返回",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320015",description:"超时",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120301",description:"根据UUID查询报警消息不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390002",description:"入参为空指针",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320016",description:"正在打洞中",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120302",description:"根据UUID查询图片不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390003",description:"入参值无效",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320017",description:"没有视频文件头(播放器层面产生和处理此错误)",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120303",description:"根据FID查询图片不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390004",description:"信令消息解析非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320018",description:"解码错误/超时(播放器层面产生和处理此错误)",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120305",description:"设备ip解析错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390005",description:"内存资源不足",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320019",description:"取消(保留，用户不用处理)",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120401",description:"用户云空间信息不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390006",description:"协议格式不对或者消息体长度超过STREAM_MAX_MSGBODY_LEN",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320020",description:"播放过程中预连接被用户清除预操作信息",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120402",description:"云空间操作失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390007",description:"设备序列号长度不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320021",description:"流加密码不对",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120403",description:"用户目录不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390008",description:"取流url长度不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"320022",description:"未传入播放窗口",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120404",description:"要操作的目标目录不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390009",description:"解析vtm返回vtdu地址不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"100200",description:"操作成功",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120405",description:"要删除的文件信息不存在",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390010",description:"解析vtm返回级联vtdu地址不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101001",description:"用户名不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120406",description:"已开通云存储",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390011",description:"解析vtm返回会话标识长度不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101002",description:"用户名已被占用",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120407",description:"开通记录失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390012",description:"vtdu返回流头长度不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101003",description:"密码不合法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120500",description:"获取数据错误",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390013",description:"vtdu会话长度非法",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101004",description:"密码为同一字符",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120501",description:"开锁失败",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390014",description:"回调函数未注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"101006",description:"手机号码已经被注册",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"120502",description:"室内机未收到呼叫",solution:"",updateTime:152203484e4},{moduleCode:"",detailCode:"390015",description:"vtdu成功响应未携带会话标识",solution:"",updateTime:152203484e4}],er="200",Qr="操作成功!",ii={data:Mn,code:er,msg:Qr},ui=function(){function J(g,t){Re(this,J),this.coreX=g,this.coreY=t,console.log("ErrorCode",ii)}return xt(J,[{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"matchErrorInfo",value:function(t){return ii.data.find(function(n){return n.detailCode.substr(-4)==t})}}]),J}(),Ui={color:"red",backgroundColor:"red",activeColor:"red",btnList:[{btnKey:"ade5d065a113432e8091a1c5bc819c57-934f270c08b14e928bf0c2ae8e1a937d-header-0",iconId:"deviceID",part:"left",defaultActive:1,isrender:1,themeId:"934f270c08b14e928bf0c2ae8e1a937d"},{btnKey:"ade5d065a113432e8091a1c5bc819c57-934f270c08b14e928bf0c2ae8e1a937d-header-1",iconId:"deviceName",part:"left",defaultActive:1,isrender:1,themeId:"934f270c08b14e928bf0c2ae8e1a937d"}]},nn={color:"blue",backgroundColor:"blue",activeColor:"blue",btnList:[{btnKey:"ade5d065a113432e8091a1c5bc819c57-934f270c08b14e928bf0c2ae8e1a937d-footer-0",iconId:"play",part:"left",defaultActive:0,isrender:0,themeId:"934f270c08b14e928bf0c2ae8e1a937d"}]},gn={header:Ui,footer:nn},Tn=function J(g){this.jsPlugin=g;var t={isMouseDown:!1,isOver:!1,mousePosition:null,oldTime:null,nowTime:g.nowTime||null,moved:null,hoverTime:"2018-12-07 12:00:00",hoverLeft:0,timeTipShow:!1,randomNum:123,timeWidthTbls:[60,1800,3600,86400],timeUnits:["范围: 1分钟; 单位: 秒","范围: 30分钟; 单位: 分钟","范围: 1小时; 单位: 分钟","范围: 1天; 单位: 小时","范围: 3天; 单位: 小时"],drawPen:null,timeSection:[],canvasWidth:null,canvasHeight:null,timeTips:null},n=this;Object.keys(t).forEach(function(o){n[o]=t[o]}),this.options={width:this.canvasWidth,height:48,time:new Date().getTime(),timeSection:[],timeWidth:0},J.prototype.subTime=function(o){return o<10?"0"+o:o},J.prototype.tranTime=function(o){var c=o;if(o){var d=new Date(o);c=d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate()+" "+this.subTime(d.getHours())+":"+this.subTime(d.getMinutes())+":"+this.subTime(d.getSeconds())}return c},J.prototype.init=function(o){var c=this,d=this.options;return new Promise(function(u,k){o.width&&document.getElementById(o.id).setAttribute("width",parseInt(o.width,10)+"px"),c.randomNum=(Math.random()+"").split(".").join(""),c.timeWidthTblIndex=d.timeWidth;var P=document.querySelector("#".concat(c.jsPlugin.id,"-canvas"));c.drawPen=P.getContext("2d"),c.nowTime=o.nowTime,c.timeSection=d.timeSection||[],c.canvasWidth=P.offsetWidth,c.canvasHeight=P.offsetHeight,c.updata(),document.getElementById("".concat(c.jsPlugin.id,"-canvas")).addEventListener("mousemove",function(S){c.options.readOnly||c.mousemove(S)}),document.getElementById("".concat(c.jsPlugin.id,"-canvas")).addEventListener("mouseover",function(S){c.options.readOnly||c.mouseover(S)}),document.getElementById("".concat(c.jsPlugin.id,"-canvas")).addEventListener("mouseleave",function(S){c.options.readOnly||c.mouseleave(S)}),document.getElementById("".concat(c.jsPlugin.id,"-canvas")).addEventListener("mousedown",function(S){c.options.readOnly||c.mousedown(S)}),document.getElementById("".concat(c.jsPlugin.id,"-canvas")).addEventListener("mouseup",function(S){if(!c.options.readOnly){var R=o.onChange;c.mouseUpFn(S,R)}}),u()})},J.prototype.setWidth=function(o){var c=this,d=this;o.width&&(document.getElementById(this.jsPlugin.id).style.width=o.width,document.getElementById("".concat(this.jsPlugin.id,"-canvas")).style.width=o.width,document.getElementById("".concat(this.jsPlugin.id,"-canvas-container")).style.width=o.width,d.canvasWidth=o.width,setTimeout(function(){c.updata({time:d.nowTime||new Date})},500))},J.prototype.mousemove=function(o){if(this.isMouseDown&&this.isOver){var c=this.mousePosition-o.pageX;if(c===0)return;var d=0;switch(this.timeWidth){case 60:d=1/10;break;case 1800:d=1/20*60;break;case 3600:d=1/20*30*60;break;case 86400:d=1/30*60*60;break}var u=new Date(this.oldTime).getTime()+c*d*1e3;this.updata({time:u}),this.moved=!0}else{var k=parseInt(document.getElementById("".concat(this.jsPlugin.id,"-canvas-container")).offsetLeft,10);this.mousePosition=o.pageX-k,this.updata()}},J.prototype.mousedown=function(o){this.isMouseDown=!0,this.mousePosition=o.pageX,this.oldTime=this.nowTime},J.prototype.mouseover=function(o){this.isOver=!0},J.prototype.mouseleave=function(o){this.isOver=!1,this.isMouseDown=!1,this.updata()},J.prototype.changeSize=function(o){console.log("changeSize",o),this.options.timeWidth=o,this.updata({timeWidth:o})},J.prototype.mouseUpFn=function(o,c){if(this.isMouseDown&&(this.isMouseDown=!1,this.moved)){this.moved=!1;var d=new Date(this.nowTime).getFullYear()+"/"+(new Date(this.nowTime).getMonth()+1)+"/"+new Date(this.nowTime).getDate()+" "+this.subTime(new Date(this.nowTime).getHours())+":"+this.subTime(new Date(this.nowTime).getMinutes())+":"+this.subTime(new Date(this.nowTime).getSeconds());this.nowTime=new Date(d),this.updata({time:this.nowTime}),this.oldTime=this.nowTime,console.log("nowTime",new Date(this.nowTime),d),c(this.nowTime)}},J.prototype.readOnly=function(o){console.log("更改为只读"),this.options.readOnly=!0,document.getElementById("".concat(this.jsPlugin.id,"-canvas")).style.cursor="not-allowed"},J.prototype.unReadOnly=function(o){console.log("更改为只读"),this.options.readOnly=!1,document.getElementById("".concat(this.jsPlugin.id,"-canvas")).style.cursor="pointer"},J.prototype.run=function(o){this.isMouseDown||this.updata(o)},J.prototype.getTime=function(o){console.log("this",this),console.log("当前时间",new Date(this.nowTime))},J.prototype.updata=function(o){var c=this;o=o||{},c.nowTime=o.time||c.nowTime,c.timeSection=o.timeSection||c.timeSection,c.timeWidthTblIndex=o.timeWidth||c.timeWidthTblIndex,c.timeWidth=c.timeWidthTbls[o.timeWidth||c.timeWidthTblIndex],c.timeUnit=c.timeUnits[o.timeWidth||c.timeWidthTblIndex],o.timeWidth===0&&(c.timeWidthTblIndex=0,c.timeWidth=c.timeWidthTbls[0],c.timeUnit=c.timeUnits[0]),c.drawPen.fillStyle="#000000",c.drawPen.fillRect(0,0,c.canvasWidth,c.canvasHeight),c.drawScale(),c.drawRecord(),c.drawOtherMsg(),document.getElementById("".concat(this.jsPlugin.id,"-canvas-container"))&&(document.getElementById("".concat(this.jsPlugin.id,"-canvas-container")).style.width=c.options.width+"px",document.getElementById("".concat(this.jsPlugin.id,"-canvas-container")).style.height=c.options.height+"px"),document.getElementById("".concat(this.jsPlugin.id,"-canvas"))&&(document.getElementById("".concat(this.jsPlugin.id,"-canvas")).style.width=c.options.width+"px",document.getElementById("".concat(this.jsPlugin.id,"-canvas")).style.height=c.options.height+"px")},J.prototype.drawSolidLine=function(o,c,d,u,k,P){this.drawPen.save(),this.drawPen.strokeStyle=P,this.drawPen.lineWidth=k,this.drawPen.beginPath(),this.drawPen.moveTo(o,c),this.drawPen.lineTo(d,u),this.drawPen.stroke(),this.drawPen.restore()},J.prototype.drawString=function(o,c,d,u,k){this.drawPen.font="12px serif",this.drawPen.fillStyle="#ffffff",this.drawPen.textAlign=u||"left",this.drawPen.fillText(o,c,d+10)},J.prototype.drawScale=function(){var o=this,c="rgba(255,255,255)",d=new Date(o.nowTime),u=d.getSeconds(),k=d.getMinutes(),P=d.getHours(),S=d.getDate(),R=0;switch(o.timeWidth){case 60:{var b=parseInt(o.canvasWidth/10);d.setSeconds(d.getSeconds()-parseInt(b/2,10)),S=d.getDate(),P=d.getHours(),k=d.getMinutes(),u=d.getSeconds();for(var _=0;_<b;_++){if(R=u+_,d.setSeconds(R),R%10===0){o.drawSolidLine(_*o.canvasWidth/b,8,_*o.canvasWidth/b,o.canvasHeight/5+8,1,c);var oe=this.subTime(d.getHours())+":"+this.subTime(d.getMinutes())+":"+this.subTime(d.getSeconds());o.drawString(oe,_*o.canvasWidth/b,o.canvasHeight/5*2.5,"center","rgba(255,255,255,0.3)")}else o.drawSolidLine(_*o.canvasWidth/b,8,_*o.canvasWidth/b,o.canvasHeight/5*.5+8,1,c);d.setDate(S),d.setHours(P),d.setMinutes(k)}break}case 1800:{var de=new Date(o.nowTime),xe=de.getHours()*3600+de.getMinutes()*60+de.getSeconds(),se=parseInt(xe/60),Ae={position:parseInt(o.canvasWidth/2),time:0,hideString:!0},qe=Math.ceil(o.canvasWidth/40)+se,me=[];me.push(Ae);for(var m=0;m<qe;m++)me.push({position:Ae.position+m*20-parseInt(xe/3),time:Ae.time+m*60}),me.unshift({position:Ae.position-m*20-parseInt(xe/3),time:Ae.time-m*60});for(var U=0;U<me.length;U++)if(o.drawSolidLine(me[U].position,8,me[U].position,o.canvasHeight/5*(me[U].time%100===0?1:.5)+8,1,c),me[U].time%100===0&&!me[U].hideString){var le=new Date(me[U].time*1e3),re=le.getUTCHours()<10?"0".concat(le.getUTCHours()):le.getUTCHours(),Pe=le.getUTCMinutes()<10?"0".concat(le.getUTCMinutes()):le.getUTCMinutes();le.getUTCSeconds()<10?"0".concat(le.getUTCSeconds()):le.getUTCSeconds();var fe="".concat(re,":").concat(Pe);o.drawString(fe,me[U].position,o.canvasHeight/5*2,"center","rgba(255,255,255,0.3)")}break}case 3600:{var $e=new Date(o.nowTime),ot=$e.getHours()*3600+$e.getMinutes()*60+$e.getSeconds(),F=parseInt(ot/1800),Ie={position:parseInt(o.canvasWidth/2),time:0,hideString:!0},Ve=Math.ceil(o.canvasWidth/40)+F,yi=[];yi.push(Ie);for(var Hi=0;Hi<Ve;Hi++)yi.push({position:Ie.position+Hi*20-parseInt(ot/90),time:Ie.time+Hi*1800}),yi.unshift({position:Ie.position-Hi*20-parseInt(ot/90),time:Ie.time-Hi*1800});for(var Pi=0;Pi<yi.length;Pi++)if(o.drawSolidLine(yi[Pi].position,8,yi[Pi].position,o.canvasHeight/5*(yi[Pi].time%9e3===0?1:.5)+8,1,c),yi[Pi].time%9e3===0&&!yi[Pi].hideString){var Ci=new Date(yi[Pi].time*1e3),Qi=Ci.getUTCHours()<10?"0".concat(Ci.getUTCHours()):Ci.getUTCHours(),at=Ci.getUTCMinutes()<10?"0".concat(Ci.getUTCMinutes()):Ci.getUTCMinutes();Ci.getUTCSeconds()<10?"0".concat(Ci.getUTCSeconds()):Ci.getUTCSeconds();var pt="".concat(Qi,":").concat(at);o.drawString(pt,yi[Pi].position,o.canvasHeight/5*2,"center","rgba(255,255,255,0.3)")}break}case 86400:{var rt=new Date(o.nowTime),We=rt.getHours()*3600+rt.getMinutes()*60+rt.getSeconds(),ft=parseInt(We/3600),$t={position:parseFloat(o.canvasWidth/2),time:0,hideString:!0},ri=Math.ceil(o.canvasWidth/60)+ft,zt=[];zt.push($t);for(var ae=0;ae<ri;ae++)zt.push({position:$t.position+ae*30-We/120,time:$t.time+ae*3600}),zt.unshift({position:$t.position-ae*30-We/120,time:$t.time-ae*3600});for(var be=0;be<zt.length;be++)if(o.drawSolidLine(zt[be].position,8,zt[be].position,o.canvasHeight/5*(zt[be].time%7200===0?1:.5)+8,1,c),zt[be].time%7200===0&&!zt[be].hideString){var E=new Date(zt[be].time*1e3),Q=E.getUTCHours()<10?"0".concat(E.getUTCHours()):E.getUTCHours(),Ge=E.getUTCMinutes()<10?"0".concat(E.getUTCMinutes()):E.getUTCMinutes();E.getUTCSeconds()<10?"0".concat(E.getUTCSeconds()):E.getUTCSeconds();var H="".concat(Q,":").concat(Ge);o.drawString(H,zt[be].position,o.canvasHeight/5*2,"center","rgba(255,255,255,0.3)")}break}}},J.prototype.getRecord=function(o,c,d){this.timeSection=o,this.drawRecord()},J.prototype.drawRecord=function(){for(var o=this.timeSection||[],c=this,d=c.drawPen,u=0;u<o.length;u++){var k=S(o[u].startTime),P=S(o[u].endTime);d.fillStyle="#1890ff80",d.fillRect(k,0,P-k,48)}function S(R){var b=10;switch(c.timeWidth){case 60:b=10;break;case 1800:b=20/60;break;case 3600:b=20/30/60;break;case 86400:b=30/60/60;break}var _=c.canvasWidth/2,oe=_+(R-c.nowTime)/1e3*b;return oe>c.canvasWidth&&(oe=c.canvasWidth),oe<=0&&(oe=0),oe}},J.prototype.drawOtherMsg=function(){this.drawSolidLine(this.canvasWidth/2,0,this.canvasWidth/2,this.canvasHeight,2,"#1890FF"),this.drawPen.shadowBlur=0,this.isOver&&!this.isMouseDown?(this.mouseTime=this.mousePosition/this.canvasWidth*this.timeWidth*1e3+this.nowTime-this.timeWidth/2*1e3,this.mouseString=this.tranTime(this.mouseTime),this.hoverTime=this.mouseString,this.hoverLeft=this.mousePosition-60,this.timeTipShow=!0):this.timeTipShow=!1}},On=function(){function J(g){if(Re(this,J),this.jSPlugin=g,!document.getElementById("".concat(this.jSPlugin.id,"-audioControls")))return!1;this.currentTimeWidth=0,this.date=new Date,this.datepickerVisible=!1,this.seekTimer=null,this.disabled=!1,this.isSeeking=!1,this.seekFrequency=2e3,this.recList=[],this.lastDate=null,this.nowTime=null,this.jSPlugin.params&&this.jSPlugin.params.seekFrequency&&(this.seekFrequency=this.jSPlugin.params.seekFrequency),this.recInit()}return xt(J,[{key:"recInit",value:function(){var t=this;if(!document.getElementById("".concat(this.jSPlugin.id,"-audioControls")))return!1;this.currentTimeWidth=0;var n=parseInt(getComputedStyle(document.getElementById(this.jSPlugin.id)).width,10)-100,o=document.createElement("div");o.style="display:inline-block;height:48px;",o.id=this.jSPlugin.id+"-canvas-container";var c=document.createElement("canvas");c.id=this.jSPlugin.id+"-canvas",c.className="time-line-body",c.height="48",c.width=n,c.style="display:inline-block;",c.innerHTML="该浏览器不支持canvas",o.appendChild(c),Ea(o,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")));var d=document.createElement("div");d.className="timeline-controls",d.style="display:flex;width:100px;height:48px;text-align:center;line-height: 48px;vertical-align: top;background: #000000;";var u=`
<div class="timeline-controls-scale" style="display: inline-flex;flex-direction: column;justify-content: center;vertical-align: top;padding: 0 20px;">
  <span style="vertical-Align: middle;line-height: 14px;height: 18px; width: 18px;cursor:pointer;" id="`.concat(this.jSPlugin.id,`-timeline-scale-add">
    <svg fill="#2C2C2C" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
      viewBox="0 0 20 20">
      <title>add</title>
      <g>
        <polygon points="0.1,0.5 15,0.5 15,15.4 0.1,15.4 	" />
      </g>
      <g>
        <path
          fill="#FFFFFF";
          d="M7.6,12.4c-0.3,0-0.5-0.2-0.5-0.5v-8c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v8C8.1,12.2,7.9,12.4,7.6,12.4z" />
      </g>
      <g>
        <path
          fill="#FFFFFF";
          d="M11.6,8.4h-8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h8c0.3,0,0.5,0.2,0.5,0.5S11.8,8.4,11.6,8.4z" />
      </g>
    </svg>
  </span>
  <span style="vertical-Align: middle;line-height: 14px;height: 18px; width: 18px;cursor:pointer;" id="`).concat(this.jSPlugin.id,`-timeline-scale-sub">
    <svg fill="#2C2C2C" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
      viewBox="0 0 20 20">
      <title>reduce</title>
      <g>
        <polygon class="st0" points="1,0.8 15.2,0.8 15.2,15 1,15 	" />
      </g>
      <g>
        <path class="st1"
          fill="#FFFFFF";
          d="M12.1,8.4h-8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h8c0.3,0,0.5,0.2,0.5,0.5S12.4,8.4,12.1,8.4z" />
      </g>
    </svg>
  </span>
</div>
<label for="`).concat(this.jSPlugin.id,`-datepicker">
  <div class="timeline-controls-date">
    <span>
      <svg fill="#2C2C2C" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
        viewBox="0 0 20 20">
        <title>ifttt</title>
        <g id="Rectangle">
          <rect x="0.6" y="0.9" class="st0" width="20" height="20" />
        </g>
        <g id="Stroke-1">
          <path fill="#FFFFFF"; class="st1"
            d="M14,7.2c-0.3,0-0.5-0.2-0.5-0.5V3.4c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v3.3C14.5,7,14.2,7.2,14,7.2z" />
        </g>
        <g id="Stroke-3">
          <path fill="#FFFFFF"; class="st1"
            d="M7.3,7.2C7,7.2,6.8,7,6.8,6.7V3.4c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v3.3C7.8,7,7.6,7.2,7.3,7.2z" />
        </g>
        <g id="Stroke-5">
          <path fill="#FFFFFF"; class="st1"
            d="M18.1,9.7h-15c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h15c0.3,0,0.5,0.2,0.5,0.5S18.4,9.7,18.1,9.7z" />
        </g>
        <g id="Stroke-7">
          <path fill="#FFFFFF"; class="st1" d="M16.5,19.7H4.8c-1.2,0-2.2-1-2.2-2.2V6.7c0-1.2,1-2.2,2.2-2.2h11.7c1.2,0,2.2,1,2.2,2.2v10.8
C18.6,18.8,17.7,19.7,16.5,19.7z M4.8,5.6c-0.6,0-1.2,0.5-1.2,1.2v10.8c0,0.6,0.5,1.2,1.2,1.2h11.7c0.6,0,1.2-0.5,1.2-1.2V6.7
c0-0.6-0.5-1.2-1.2-1.2H4.8z" />
        </g>
        <g id="Stroke-9">
          <path fill="#FFFFFF"; class="st1" d="M10.6,13.3c-0.4,0-0.7-0.3-0.7-0.7c0-0.2,0.1-0.4,0.2-0.5s0.3-0.2,0.5-0.2h0h0c0.4,0,0.7,0.3,0.7,0.7
S11,13.3,10.6,13.3z" />
        </g>
        <g id="Stroke-11">
          <path fill="#FFFFFF"; class="st1" d="M14.8,13.3c-0.4,0-0.7-0.3-0.7-0.7c0-0.2,0.1-0.4,0.2-0.5c0.1-0.1,0.3-0.2,0.5-0.2c0.4,0,0.7,0.3,0.7,0.7
S15.2,13.3,14.8,13.3z M14.8,12.3c-0.2,0-0.3,0.1-0.3,0.3c0,0.2,0.3,0.4,0.5,0.2c0.1-0.1,0.1-0.1,0.1-0.2
C15.1,12.4,15,12.3,14.8,12.3z" />
        </g>
        <g id="Stroke-13">
          <path fill="#FFFFFF"; class="st1" d="M6.5,16.6c-0.4,0-0.7-0.3-0.7-0.7c0-0.2,0.1-0.4,0.2-0.5c0.1-0.1,0.3-0.2,0.5-0.2h0h0c0.4,0,0.7,0.3,0.7,0.7
C7.2,16.3,6.9,16.6,6.5,16.6z" />
        </g>
        <g id="Stroke-15">
          <path fill="#FFFFFF"; class="st1" d="M10.6,16.6c-0.4,0-0.7-0.3-0.7-0.7c0-0.2,0.1-0.4,0.2-0.5c0.1-0.1,0.3-0.2,0.5-0.2h0h0c0.4,0,0.7,0.3,0.7,0.7
C11.4,16.3,11,16.6,10.6,16.6z" />
        </g>
      </svg>
    </span>
  </div>
</label>
<input autocomplete="off" data-toggle="`).concat(this.jSPlugin.id,'-datepicker" id="').concat(this.jSPlugin.id,'-datepicker" name="').concat(this.jSPlugin.id,`-datepicker" style="opacity:0;width:24px;margin-left:-24px;cursor:pointer;" />
`);d.innerHTML=u,Ea(d,o),this.timeLine=new Tn(this.jSPlugin);var k=this;this.timeLine.init({id:this.jSPlugin.id+"-canvas",width:n,nowTime:this.nowTime,onChange:function(de){console.log("time",de,new Date(de).Format("yyyyMMddhhmmss"));var xe=new Date(de).Format("yyyyMMddhhmmss");if(console.log("----------------this.jSPlugin.url",t.jSPlugin.url),t.jSPlugin.Theme&&t.jSPlugin.Theme.decoderState.state.recordvideo&&(t.jSPlugin.Theme.setDecoderState({recordvideo:!1}),Nn(t.jSPlugin.url).type==="cloud.rec"&&t.jSPlugin.stopSave()),Nn(t.jSPlugin.url).type==="cloud.rec")t.isSeeking||k.recList.length>0&&(new Date(de).valueOf()>=k.lastDate?t.jSPlugin.pluginStatus.loadingSetText({text:"seek回放未找到录像片段",color:"red",delayClear:2e3}):t.unSyncTimeLine().then(function(){t.isSeeking=!0,t.jSPlugin.pluginStatus.loadingStart(t.jSPlugin.id),t.jSPlugin.pluginStatus.setPlayStatus({loading:!0}),t.jSPlugin.pluginStatus.loadingSetText({text:"seek回放中，请稍后..."}),t.jSPlugin.seek(xe.substr(8,6),"235959").then(function(){var me=setInterval(function(){t.jSPlugin.getOSDTime().then(function(m){var U=new Date(de).valueOf()/1e3;console.log("seek时间同步:",m.data,U,m.data>=U),m.data>=U-2&&(t.isSeeking=!1,t.syncTimeLine(),clearInterval(me),t.jSPlugin.pluginStatus.loadingStop(t.jSPlugin.id),t.jSPlugin.pluginStatus.setPlayStatus({loading:!1}),t.jSPlugin.pluginStatus.loadingClear())})},1e3)})}));else{var se=function(){setTimeout(function(){t.disabled=!1},t.seekFrequency)},Ae=t.jSPlugin.Theme.decoderState.state.play,qe=function(m){t.disabled=!0,Ae?t.unSyncTimeLine().then(function(){t.jSPlugin.pause(xe).then(function(){console.log("暂停成功"),t.jSPlugin.resume(xe).then(function(U){console.log("恢复成功：",U),t.jSPlugin.Theme&&t.jSPlugin.Theme.setDecoderState({play:!0}),t.jSPlugin.Theme&&t.jSPlugin.Theme.decoderState.state.sound&&t.jSPlugin.openSound(),m&&m(),t.syncTimeLine()}).catch(function(U){console.log("恢复失败",U)})}).catch(function(){console.log("暂停失败"),t.jSPlugin.resume(xe).then(function(U){console.log("恢复成功"),t.jSPlugin.Theme&&t.jSPlugin.Theme.setDecoderState({play:!0}),m&&m(),t.syncTimeLine()}).catch(function(U){console.log("恢复失败",U)})})}):t.unSyncTimeLine().then(function(){t.jSPlugin.resume().then(function(){t.jSPlugin.pause(xe).then(function(){console.log("暂停成功"),t.jSPlugin.resume(xe).then(function(U){t.jSPlugin.Theme&&t.jSPlugin.Theme.setDecoderState({play:!0}),t.jSPlugin.Theme&&t.jSPlugin.Theme.decoderState.state.sound&&t.jSPlugin.openSound(),m&&m(),t.syncTimeLine()}).catch(function(U){console.log("恢复失败",U)})}).catch(function(){console.log("暂停失败"),t.jSPlugin.resume(xe).then(function(U){t.jSPlugin.Theme&&t.jSPlugin.Theme.setDecoderState({play:!0}),m&&m(),t.syncTimeLine()}).catch(function(U){console.log("恢复失败",U)})})}).catch(function(U){t.jSPlugin.resume(xe).then(function(le){t.jSPlugin.Theme&&t.jSPlugin.Theme.setDecoderState({play:!0}),t.jSPlugin.Theme&&t.jSPlugin.Theme.decoderState.state.sound&&t.jSPlugin.openSound(),m&&m(),t.syncTimeLine()}).catch(function(le){console.log("恢复失败",le)})})}),t.jSPlugin.Theme&&t.jSPlugin.Theme.decoderState&&t.jSPlugin.Theme.decoderState.state&&t.jSPlugin.Theme.decoderState.state.zoom&&(t.jSPlugin.Theme.setDecoderState({zoom:!1}),t.jSPlugin.Zoom.stopZoom())};t.disabled?(console.log("操作频繁，等待2秒后执行"),t.seekTimer&&clearTimeout(t.seekTimer),t.seekTimer=setTimeout(function(){qe(se)},t.seekFrequency)):qe(se)}}}).then(function(){t.syncTimeLine()});var P=this;function S(oe){var de=document.getElementById("".concat(oe.id,"-wrap"));qn("".concat(oe.staticPath,"/rec/datepicker.min.css")),vr("".concat(oe.staticPath,"/rec/jquery.min.js"),function(xe){vr("".concat(xe.staticPath,"/rec/datepicker.js"),function(se){vr("".concat(se.staticPath,"/rec/datepicker.zh-CN.js"),function(Ae){var qe=de.getElementsByClassName("datepicker-container")[0];!qe&&$("#".concat(Ae.id,"-datepicker")).datepicker&&$("#".concat(Ae.id,"-datepicker")).datepicker({autoShow:!1,autoHide:!0,autoPick:!0,language:"zh-CN",date:new Date(cr("begin",Ae.params.url).replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3"))||new Date,format:"yyyy-mm-dd",endDate:new Date,inline:!0,container:de}),qe=de.getElementsByClassName("datepicker-container")[0],qe&&(qe.style.display="none"),P.datepickerVisible=!1,$("#".concat(Ae.id,"-datepicker")).on("pick.datepicker",function(me){console.log("重新选择日期",me.date,new Date(me.date).Format("yyyyMMdd"),new Date(document.getElementById("".concat(Ae.id,"-datepicker")).value).Format("yyyyMMdd")),me.date>new Date||new Date(me.date).Format("yyyyMMdd")===new Date(document.getElementById("".concat(Ae.id,"-datepicker")).value).Format("yyyyMMdd")?me.preventDefault():(document.getElementById("".concat(Ae.id,"-datepicker")).value=new Date(me.date).Format("yyyy-MM-dd"),P.renderRec(me.date),Ae.Theme.decoderState&&Ae.Theme.decoderState.state?Ae.Theme.decoderState.state.cloudRec?Ae.changePlayUrl({begin:new Date(me.date).Format("yyyyMMdd"),type:"cloud.rec"},function(){},!1):Ae.Theme.decoderState.state.rec?Ae.changePlayUrl({begin:new Date(me.date).Format("yyyyMMdd"),type:"rec"},function(){},!1):Ae.changePlayUrl({begin:new Date(me.date).Format("yyyyMMdd")},function(){},!1):Ae.changePlayUrl({begin:new Date(me.date).Format("yyyyMMdd")},function(){},!1)),qe&&(qe.style.display="none"),P.datepickerVisible=!1,Ae.Theme&&Ae.Theme.decoderState&&Ae.Theme.decoderState.state&&Ae.Theme.decoderState.state.zoom&&(Ae.Theme.setDecoderState({zoom:!1}),Ae.Zoom.stopZoom())}),$("#".concat(Ae.id,"-datepicker")).off("click").on("click",function(me){console.log("点击日期"),P.datepickerVisible?qe&&(qe.style.display="none"):qe&&(qe.style.display="inline"),P.datepickerVisible=!P.datepickerVisible})},function(){},se)},function(){},xe)},function(){},oe)}S(P.jSPlugin),document.getElementById("".concat(this.jSPlugin.id,"-timeline-scale-add")).onclick=function(){t.unSyncTimeLine().then(function(){var oe=t.currentTimeWidth;oe<3&&t.timeLine.changeSize(++t.currentTimeWidth),t.syncTimeLine()})},document.getElementById("".concat(this.jSPlugin.id,"-timeline-scale-sub")).onclick=function(){t.unSyncTimeLine().then(function(){var oe=t.currentTimeWidth;oe>0&&t.timeLine.changeSize(--t.currentTimeWidth),t.syncTimeLine()})};var R=cr("begin",this.jSPlugin.url)||new Date().Format("yyyyMMdd");this.renderRec("".concat(R.slice(0,4),"-").concat(R.slice(4,6),"-").concat(R.slice(6,8))),this.observer=new MutationObserver(function(oe,de){});var b={attributes:!0,attributeOldValue:!0,attributeFilter:["style"]},_=document.getElementById("".concat(this.jSPlugin.id));this.observer.observe(_,b)}},{key:"setDatepickerDate",value:function(t){var n=document.getElementById("".concat(this.jSPlugin.id,"-wrap")),o=n.getElementsByClassName("datepicker-container")[0];if(o){var c=o,d=c.parentNode;d.removeChild(c),document.getElementById("".concat(this.jSPlugin.id,"-datepicker")).value=t.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3"),$("#".concat(this.jSPlugin.id,"-datepicker")).datepicker({autoShow:!1,autoHide:!0,autoPick:!0,language:"zh-CN",defaultDate:t,format:"yyyy-mm-dd",endDate:new Date,inline:!0,container:document.getElementById("".concat(this.jSPlugin.id,"-wrap"))})}}},{key:"datepickerHide",value:function(){var t=document.getElementById("".concat(this.jSPlugin.id,"-wrap")),n=t.getElementsByClassName("datepicker-container")[0];t&&(n.style.display="none"),this.datepickerVisible=!1}},{key:"datepickerShow",value:function(){var t=document.getElementById("".concat(this.jSPlugin.id,"-wrap")),n=t.getElementsByClassName("datepicker-container")[0];t&&(n.style.display="inline"),this.datepickerVisible=!0}},{key:"recAutoSize",value:function(t){var n=this;document.getElementById("".concat(this.jSPlugin.id,"-canvas"))&&this.unSyncTimeLine().then(function(){var o=parseInt(getComputedStyle(document.getElementById(n.jSPlugin.id)).width,10)-100;o!==parseInt(document.getElementById("".concat(n.jSPlugin.id,"-canvas")).width)&&(document.getElementById("".concat(n.jSPlugin.id,"-canvas")).width=o,n.timeLine.init({id:"".concat(n.jSPlugin.id,"-canvas"),width:o,nowTime:n.nowTime,onChange:function(d){console.log("time",d,new Date(d).Format("yyyyMMddhhmmss"));var u=new Date(d).Format("yyyyMMddhhmmss");n.jSPlugin.changePlayUrl({begin:u},function(){},!1)}}).then(function(){var c=new Date(new Date(n.date).Format("yyyy-MM-dd 00:00:00").replace(/-/g,"/")).getTime(),d=new Date(new Date(n.date).Format("yyyy-MM-dd 23:59:59").replace(/-/g,"/")).getTime();n.timeLine.setWidth({id:"".concat(n.jSPlugin.id,"-canvas"),width:o}),n.timeLine.getRecord(n.recList,c,d),setTimeout(function(){n.syncTimeLine()},100),t&&t()}))})}},{key:"syncTimeLine",value:function(){var t=this;this.jSPlugin.recTimer&&clearInterval(this.jSPlugin.recTimer);var n=this;this.jSPlugin.recTimer=setInterval(function(){var o=n.jSPlugin.getOSDTime();o.then(function(c){var d=c.data;if(d===-1)console.log("获取播放时间错误");else if(d>0){var u=new Date(d>1e12?d:d*1e3);t.nowTime=u,n.timeLine.run({time:u})}}).catch(function(c){var d=n.jSPlugin.Theme.decoderState.state.pauseDate;n.timeLine.run({time:n.timeLine.nowTime||d})})},1e3)}},{key:"unSyncTimeLine",value:function(){var t=this;return new Promise(function(n,o){t.jSPlugin.recTimer&&(clearInterval(t.jSPlugin.recTimer),t.jSPlugin.recTimer=null),n()})}},{key:"renderRec",value:function(t){var n=this;this.date=t;var o=this,c=new Date(new Date(t).Format("yyyy-MM-dd 00:00:00").replace(/-/g,"/")).getTime(),d=new Date(new Date(t).Format("yyyy-MM-dd 23:59:59").replace(/-/g,"/")).getTime();this.timeLine.getRecord([],c,d),console.log("-----------233---------this.jSPlugin.url",this.jSPlugin.url);var u={accessToken:this.jSPlugin.accessToken,recType:Nn(this.jSPlugin.url).type==="cloud.rec"?1:2,deviceSerial:Nn(this.jSPlugin.url).deviceSerial,channelNo:Nn(this.jSPlugin.url).channelNo,startTime:c,endTime:d,version:"2.0"},k=function(R){if(R.data&&R.data.files&&R.data.files.length>0){var b=R.data.files,_=new Date().getTime(),oe=R.data.isAll;if(o.recList=b,o.lastDate=b[b.length-1].endTime,oe)n.timeLine.getRecord(b,c,d);else{var de=function xe(){function se(Ae){Ae.data&&Ae.data.files&&Ae.data.files.length>0?Ae.data.isAll==!1?(Ae.data.files&&(b=b.concat(Ae.data.files),o.recList=b,o.lastDate=b[b.length-1].endTime),_=Ae.data.nextFileTime>0?Ae.data.nextFileTime:new Date().getTime(),xe()):(console.log("云存储执行渲染片段"),o.timeLine.getRecord(b,c,d)):o.timeLine.getRecord(b,c,d)}u.startTime=_,Lr(this.jSPlugin.env.domain+"/api/lapp/video/by/time","POST",u,"",se)};de()}n.timeLine.run({time:new Date(c)})}else R.data&&R.data.length>0&&(console.log("获取本地录像片段成功",R),o.recList=R.data,o.lastDate=R.data[R.data.length-1].endTime,o.timeLine.getRecord(R.data,c,d),o.timeLine.run({time:new Date(c)}))},P=this.jSPlugin.env.domain+"/api/lapp/video/by/time";Lr(P,"POST",u,"",k)}}]),J}(),wn=function(g){console.log("执行TimeLine - params",g),this.state={id:g.id,start:"00:00:00",end:"24:00:00",current:0,timelag:30,timeArr:[],availTimeLine:[],scrollTop:0,index:0,date:"",noTimeLineTxt:"",disabled:!1};var t=this;this.setState=function(n){Object.keys(n).forEach(function(o){t.state[o]=n[o],o==="scrollTop"&&document.getElementById("time-line-item").parentNode.scrollTo(0,n[o]),o==="current"&&(document.getElementById("time-line-current").innerHTML=n[o])})},this.setDisabled=function(n){this.setState({disabled:n}),document.getElementById("time-line-item").parentNode.style.overflowY=n?"hidden":"scroll"},this.timeToSecond=function(n){var o=n.split(":"),c=Number(o[0]),d=Number(o[1]),u=Number(o[2]);return c*60*60+d*60+(u||0)},this.minuteToTime=function(n){var o=Math.floor(n/60),c=n%60;return(o>9?o:"0"+o)+":"+(c>9?c:"0"+c)},this.timeToMinute=function(n){var o=n.split(":"),c=Number(o[0]),d=Number(o[1]);return c*60+d},this.getPlayParam=g.getPlayParam,this.checkIsAppleDevice=function(){var n=navigator.userAgent,o=!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),c=n.indexOf("iPad")>-1,d=n.indexOf("iPhone")>-1||n.indexOf("Mac")>-1;return!!(o||c||d)},this.checkIsHarmonyOS=function(){var n=navigator.userAgent;return n.indexOf("ohos")>-1},this.checkIsHarmonyOS()?(document.getElementById("time-line-item").parentNode.addEventListener("touchstart",function(){if(t.state.disabled)return!1;g.ontouchstart()},!1),document.getElementById("time-line-item").parentNode.addEventListener("touchmove",function(){if(t.state.disabled)return!1;g.ontouchmove()},!1),document.getElementById("time-line-item").parentNode.addEventListener("touchend",function(){if(t.state.disabled)return!1;var n,o=new Promise(function(c,d){var u=-1;n=setInterval(function(){var k=document.getElementById("time-line-item").parentNode.scrollTop;k!==u?(console.log("scolling",k,u),u=k):(console.log("scoll stop",k,u),clearInterval(n),c(k))},100)});o.then(function(c){console.log("scollPromise: then",c,t),t.rectTopTotime(c),console.log("页面滚动实际高度",c,t.state),t.getPlayParam({current:t.state.current})}),g.ontouchend()},!1)):(document.getElementById("time-line-item").parentNode.ontouchstart=function(){if(t.state.disabled)return!1;g.ontouchstart()},document.getElementById("time-line-item").parentNode.ontouchmove=function(){if(t.state.disabled)return!1;g.ontouchmove()},document.getElementById("time-line-item").parentNode.ontouchend=function(){if(t.state.disabled)return!1;var n,o=new Promise(function(c,d){var u=-1;n=setInterval(function(){var k=document.getElementById("time-line-item").parentNode.scrollTop;k!==u?(console.log("scolling",k,u),u=k):(console.log("scoll stop",k,u),clearInterval(n),c(k))},100)});o.then(function(c){console.log("scollPromise: then",c,t),t.rectTopTotime(c),console.log("页面滚动实际高度",c,t.state),t.getPlayParam({current:t.state.current})}),g.ontouchend()}),this.matchTimeDot()};wn.prototype.changeScale=function(J){this.setState({timelag:J}),this.matchTimeDot()},wn.prototype.setDateLine=function(J,g){J.length>0?(typeof g>"u"&&(g=J.length-1),this.setState({availTimeLine:J,start:J[g].st,end:J[g].et,current:J[g].st}),console.log("this.state",this.state),this.matchRecTimeDot(),this.primaryOffsetH()):(this.setState({availTimeLine:[]}),console.log("this.state",this.state),this.matchRecTimeDot())},wn.prototype.matchTimeDot=function(){var J=this.state,g=J.start,t=J.end,n=J.timelag;J.availTimeLine,console.log("start",g,"end",t);var o=[],c=this.timeToMinute(t);c=Math.floor(c/n)*n;for(var d=c;d>=0;){var u=0,k=0,P=[];d==c&&(u=70),d==0&&(k=230);var S=this.minuteToTime(d);o.push({id:d,current:S,label:"a"+d,marginTop:u,marginBottom:k,recArr:P}),d=d-n}this.setState({timeArr:o}),this.renderDateLine()},wn.prototype.matchRecTimeDot=function(){var J=this.state,g=J.start,t=J.end,n=J.timelag,o=J.availTimeLine,c=J.timeArr;console.log("start",g,"end",t);var d=[],u=o.length;if(u===0)for(var k=0;k<c.length;k++)c[k].recArr=[];else{for(var P=0;P<c.length;P++)c[P].recArr=[];for(var S=0;S<u;S++){var R=o[S],b=this.timeToSecond(R.st),_=this.timeToSecond(R.et),oe=void 0,de=void 0,xe=0,se=0;oe=Math.floor(b/(n*60))*n,xe=(b-oe*60)/n,de=Math.floor(_/(n*60))*n,se=(_-de*60)/n,d[S]={st:oe,et:de,stAvailPercent:xe,etAvailPercent:se};for(var k=0;k<c.length;k++)if(c[k].id==oe&&c[k].id==de){var Ae=se-xe,qe=60-se;c[k].recArr.push({height:Ae,top:qe})}else c[k].id==oe?c[k].recArr.push({height:60-xe,top:0}):c[k].id==de?c[k].recArr.push({height:se,top:60-se}):c[k].id>oe&&c[k].id<de&&c[k].recArr.push({height:60,top:0})}}console.log("availArr: ",d),this.setState({timeArr:c}),console.log("timeArr:",this.state),this.renderDateLine()},wn.prototype.renderDateLine=function(){var J=this.state,g=J.id,t=J.timeArr;console.log("id,timeArr",g,t);var n=document.getElementById("time-line-item");n.innerHTML="",t.forEach(function(o,c){var d=document.createElement("div");d.setAttribute("class","time-item"),d.style="margin-top: ".concat(o.marginTop,"px; margin-bottom: ").concat(o.marginBottom,"px; border-right-color: ").concat(o.borderColor,";");var u=document.createElement("div");u.setAttribute("class","scale");var k='<div class="scale"></div><div class="scale"></div><div class="scale"></div><div class="scale"></div><div class="scale"></div><div class="scale" style="width:10px"></div>';o.recArr.forEach(function(P,S){k+='<div class="item-unavail" style="height: '.concat(P.height,"px;background-color:#A8B9ED; top: ").concat(P.top,'px"></div>')}),k+="<div id=".concat(o.label,' style="position: relative; top: 51px; left: 40%"> ').concat(o.current,"</div>"),d.innerHTML=k,n.appendChild(d)})},wn.prototype.primaryOffsetH=function(){var J=this.state,g=J.start,t=J.timelag,n=J.timeArr,o=n[0].current,c=this.timeToSecond(o),d=this.timeToSecond(g),u=c-d,k=Math.ceil(u/t)+60;this.setState({scrollTop:k}),console.log("起始偏移量",k)},wn.prototype.currentOffsetH=function(){var J=this.state,g=J.current,t=J.timelag,n=J.timeArr,o=n[0].current,c=this.timeToSecond(o),d=this.timeToSecond(g),u=c-d,k=Math.ceil(u/t)+60;this.setState({scrollTop:k})},wn.prototype.rectTopTotime=function(J){var g=this.state.timelag,t=Math.floor(J/60),n=J-t*60,o,c;if(console.log("index：",t,"offsetH:",n),n==0)o=this.state.timeArr[t-1].current,c=0;else{var d=this.state.timeArr[t].current,u=this.timeToMinute(d),k=60-n,P=k*g,S=Math.floor(P/60)+u,R=Math.floor(P/60)*60;c=Math.ceil(P-R),o=this.minuteToTime(S)}this.setState({current:o+":"+(c>9?c:"0"+c),scrollTop:J})},wn.prototype.stepScrollTimeLine=function(J){this.setState({current:J}),this.currentOffsetH()},wn.prototype.secondCountDown=function(J){var g=this.state.current,t=g.split(":"),n=Number(t[0]),o=Number(t[1]),c=Number(t[2]),d=n*60*60+o*60+c+1,u=Math.floor(d/3600),k=Math.floor((d-u*3600)/60),P=d-u*3600-k*60;this.setState({current:(u>9?u:"0"+u)+":"+(k>9?k:"0"+k)+":"+(P>9?P:"0"+P)})};var An=wn;Date.prototype.Format=function(J){var g={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(J)&&(J=J.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var t in g)new RegExp("("+t+")").test(J)&&(J=J.replace(RegExp.$1,RegExp.$1.length==1?g[t]:("00"+g[t]).substr((""+g[t]).length)));return J};function Pn(J){var g=new Date(J),t=g.getHours(),n=g.getMinutes(),o=g.getSeconds();return(t>9?t:"0"+t)+":"+(n>9?n:"0"+n)+":"+(o>9?o:"0"+o)}var ir=function(){function J(g,t,n){var o=this;Re(this,J),this.changeRecSpeed=t,this.resetMobileZoomStatus=n,this.isMobile=!0,this.jSPlugin=g,this.date=new Date().Format("yyyy-MM-dd"),this.begin=(new Date().Format("yyyy-MM-dd")+" 00:00:00").replace(/-/g,"/"),this.end=(new Date().Format("yyyy-MM-dd")+" 23:59:59").replace(/-/g,"/"),this.initBegin=null,this.initEnd=null,this.type=Nn(this.jSPlugin.url).type,this.operating=!1,this.seekTimer=null,this.disabled=!1,this.seekFrequency=2e3,this.recList=[],this.isSeeking=!1,this.jSPlugin.params&&this.jSPlugin.params.seekFrequency&&(this.seekFrequency=this.jSPlugin.params.seekFrequency);var c=document.createElement("style");if(c.innerHTML=`
    body{
      padding: 0;
      margin: 0;
    }
    .time-line-container {
      text-align: left;
      height: 300px;
      /* outline: 1px solid red; */
      /* background: gray; */
      position: relative;
      /* padding-top: 60px; */
      margin-top: 20px;
    }

    .time-line-container .time-line-item-container {
      display: inline-block;
      /* height: 400px; */
      width: 30%;
      /* background: indianred; */
      overflow-y: scroll;
      overflow-x: hidden;
      /* padding-top: 60px; */
      height: 300px;
      box-sizing: border-box;
      white-space: nowrap;
      position: relative;
    }

    .time-line-container .time-line-item-container::-webkit-scrollbar {
      width: 0px;
      /*滚动条宽度*/
      height: 0px;
      /*滚动条高度*/
    }

    .time-line-item .time-item {
      position: relative;
      box-sizing: border-box;
      height: 60px;
      font-size: 12px;
      color: rgb(150, 150, 150);
      border-right: 6px solid;
      border-right-color: #ddd;
    }

    .time-line-item .time-item .scale {
      width: 6px;
      height: 9px;
      border-bottom: 1px solid #ccc;
      float: right;
      clear: both;
    }

    .time-line-item .time-item .item-unavail {
      width: 6px;
      position: absolute;
      left: 100%;
      background-color: #ddd;
    }

    .time-line-container .current-time {
      position: absolute;
      left: 0;
      top: 40px;
      height: 29px;
      /* line-height: 58px; */
      border-bottom: 1px solid #648FFC;
      width: 60%;
      margin-left: 26%;
    }

    .time-line-container .current-time .current-time-bg {
      position: relative;
      top: 15px;
      width: 100px;
      height: 29px;
      line-height: 29px;
      left: -70px;
      font-size: 12px;
      color: #2C2C2C;
    }

    .time-line-container .current-time .current-time-bg::before {
      content: '';
      display: inline-block;
      width: 6px;
      height: 6px;
      border-radius: 100%;
      background: #648FFC;
      top: 11px;
      position: absolute;
      right: 30px;
    }

    .date-switch-container {
      height: 40px;
      position: relative;
      text-align: center;
      margin: 20px 10px;
    }

    .date-switch-container .current-date {
      line-height: 40px;
      height: 22px;
      font-size: 16px;
      color: #2C2C2C;
      text-align: center;
      font-weight: bold;
    }

    .date-container {
      width: 40px;
      height: 40px;
      position: absolute;
      right: 0;
      top: 0;
    }

    .rec-type-container {
      display: flex;
      justify-content: space-between;
    }

    .rec-type-container .rec-type-text {
      padding: 0 15px;
      font-size: 12px;
      color: #2C2C2C;
    }

    .rec-type-container .rec-type-switch {
      padding: 0 20px;
    }

    .date-container input {
      position: absolute;
      opacity: 0;
      display: inline-block;
      width: 40px;
      height: 40px;
      z-index: 10;
      left: 0;
    }

    .date-container label {
      position: absolute;
      left: 0;
      top: 0;
      /* display: none; */
      z-index: 0;
    }

    .date-icon {
      display: inline-block;
      width: 40px;
      height: 40px;
      background: url('https://resource.eziot.com/group2/M00/00/6A/CtwQF2F6VieAQrU9AAABP-_Nsqo949.png') no-repeat 100% 100%;
    }
    .select-container {
      padding: 10px;
      display: flex;
      justify-content: space-between;
    }

    .advice {
      height: 24px;
      width: 70px;
      display: flex;
      justify-content: space-between;
      line-height: 24px;
      background: #F8F8F8;
      border-radius: 8px;
    }

    .advice span {
      width: 40px;
      display: inline-block;
    }

    input[type="checkbox"]:not(:checked)+.advice span:first-child {
      box-shadow: 0px 2px 5px 0px rgb(23 45 101 / 20%);
      border-radius: 8px;
      text-align: center;

    }

    input[type="checkbox"]:checked+.advice span:last-child {
      box-shadow: 0px 2px 5px 0px rgb(23 45 101 / 20%);
      border-radius: 8px;
      text-align: center;
    }

    input[type="checkbox"]:not(:checked)+.advice span:first-child svg {
      fill: #648FFC !important;
    }

    input[type="checkbox"]:checked+.advice span:last-child svg {
      fill: #648FFC !important;
    }`,document.getElementsByTagName("head")[0].appendChild(c),cr("begin",this.jSPlugin.url)){var d=cr("begin",this.jSPlugin.url);this.date=d.slice(0,4)+"/"+d.slice(4,6)+"/"+d.slice(6,8),this.begin=this.date+" ".concat(d.slice(8,10)||"00",":").concat(d.slice(10,12)||"00",":").concat(d.slice(12,14)||"00"),this.end=this.date+" 23:59:59",this.initBegin=this.begin}if(cr("end",this.jSPlugin.url)){var u=cr("end",this.jSPlugin.url);this.end=this.date+" ".concat(u.slice(8,10)||"23",":").concat(u.slice(10,12)||"59",":").concat(u.slice(12,14)||"59"),this.initEnd=this.end}var k=document.createElement("div");k.id="date-switch-container-wrap",k.className="date-switch-container-wrap",k.style="",k.innerHTML=`
      <div class="date-switch-container">
      <div class="current-date" id="current-date">今日录像</div>
      <div class="date-container">
        <label for="date">
          <div class="date-icon"></div>
        </label>
        <input type="date" name="date" id="date" value="`.concat(this.date.replace(/\//g,"-")||new Date().Format("yyyy-MM-dd"),`" />
      </div>
    </div>
        `),Ea(k,document.getElementById("".concat(this.jSPlugin.id,"-wrap")));var P=document.createElement("div");P.id="rec-type-container-wrap",P.className="rec-type-container-wrap",P.style="",P.innerHTML=`
    <div class="rec-type-container">
    <div class="rec-type-text">共<span id="recCount">0</span>个录像</div>
    <div class="rec-type-switch">
      <label>
        <input type="checkbox" name="type" id="cloudType" value="1" hidden />
        <label for="cloudType" class="advice">
          <span>
          <svg fill="#CCCCCC" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="2 0 20 20">
            <path class="st0" d="M12.6,5c-2.3,0.1-4.3,1.4-5.3,3.3L7.2,8.6c-2.4,0.5-4.1,2.5-4.1,4.9c0,2.8,2.4,5,5.2,5h9.9
            c2.4,0,4.3-1.9,4.3-4.2l0-0.2c-0.1-2-1.6-3.5-3.5-3.9l-0.1,0l0-0.2c-0.4-2.8-3-5-6.1-5L12.6,5z"/>
          </svg>
        </span>
        <span>
          <svg fill="#CCCCCC" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="2 0 20 20">
            <path id="形状结合" class="st0" d="M14.3,4c0.6,0,1.2,0.2,1.7,0.7l0,0L18.3,7C18.7,7.4,19,8,19,8.6l0,0v9c0,1.3-1.1,2.3-2.4,2.3
	l0,0H8.4C7.1,20,6,19,6,17.7l0,0V6.3C6,5,7.1,4,8.4,4l0,0H14.3z M9.7,7.2C9.3,7.2,8.9,7.6,8.9,8l0,0v2.5l0,0.1
	c0,0.4,0.4,0.6,0.7,0.6c0.4,0,0.8-0.3,0.8-0.8l0,0V8l0-0.1C10.4,7.5,10,7.2,9.7,7.2z M12.2,7.2c-0.4,0-0.8,0.3-0.8,0.8l0,0v2.5
	l0,0.1c0,0.4,0.4,0.6,0.7,0.6c0.4,0,0.8-0.3,0.8-0.8l0,0V8l0-0.1C12.9,7.5,12.5,7.2,12.2,7.2z M14.7,7.2c-0.4,0-0.8,0.3-0.8,0.8l0,0
	v2.5l0,0.1c0,0.4,0.4,0.6,0.7,0.6c0.4,0,0.8-0.3,0.8-0.8l0,0V8l0-0.1C15.4,7.5,15,7.2,14.7,7.2z"/>
          </svg>
        </span>
        </label>
      </label>
    </div>
  </div>
        `,Ea(P,k);var S=document.createElement("div");S.id="mobile-rec-wrap",S.className="mobileRec-wrap",S.style="",S.innerHTML=`
    <div class="time-line-container">
    <div class="current-time">
      <div class="current-time-bg" id="time-line-current">00:00:00</div>
    </div>
    <div class="time-line-item-container">
      <div class="time-line-item" id="time-line-item">
      </div>
    </div>
    </div>
      `,Ea(S,P);var R=function(xe){var se=o;console.log("子组件传值到父组件",xe,xe.current);var Ae=xe.current,qe=new Date(o.date).Format("yyyyMMdd").substr(0,8)+(xe.current?Ae.replace(/:/g,""):xe.current.replace(/:/g,""));if(o.type==="cloud.rec")o.isSeeking||se.recList.length>0&&(new Date("".concat(o.date," ").concat(xe.current)).valueOf()>=se.lastDate?(o.jSPlugin.pluginStatus.loadingSetText({text:"seek回放未找到录像片段",color:"red",delayClear:2e3}),o.syncTimeLine()):o.unSyncTimeLine().then(function(){o.isSeeking=!0,o.jSPlugin.pluginStatus.loadingStart(o.jSPlugin.id),o.jSPlugin.pluginStatus.setPlayStatus({loading:!0}),o.jSPlugin.pluginStatus.loadingSetText({text:"seek回放中，请稍后..."}),o.jSPlugin.seek(qe.substr(8,6),"235959").then(function(){var le=setInterval(function(){o.jSPlugin.getOSDTime().then(function(re){console.log("seek时间同步:",new Date(re.data*1e3).Format("yyyyMMddhhmmss"),qe,new Date(re.data*1e3).Format("yyyyMMddhhmmss")>=qe),new Date(re.data*1e3).Format("yyyyMMddhhmmss")>=qe&&(o.isSeeking=!1,o.syncTimeLine(),clearInterval(le),o.jSPlugin.pluginStatus.loadingStop(o.jSPlugin.id),o.jSPlugin.pluginStatus.setPlayStatus({loading:!1}),o.jSPlugin.pluginStatus.loadingClear())})},1e3)})}));else{var me=function(){setTimeout(function(){o.disabled=!1},o.seekFrequency)},m=o.jSPlugin.Theme.decoderState.state.play,U=function(re){o.disabled=!0,m?o.unSyncTimeLine().then(function(){o.jSPlugin.pause(qe).then(function(){console.log("暂停成功"),o.jSPlugin.resume(qe).then(function(Pe){console.log("恢复成功"),o.syncTimeLine(),re&&re()})}).catch(function(){console.log("暂停失败"),o.jSPlugin.resume(qe).then(function(Pe){console.log("恢复成功"),o.syncTimeLine(),re&&re()})})}):o.unSyncTimeLine().then(function(){o.jSPlugin.resume(qe).then(function(Pe){console.log("恢复成功"),o.syncTimeLine(),re&&re()})})};o.disabled?(console.log("操作频繁，等待2秒后执行"),o.seekTimer&&clearTimeout(o.seekTimer),o.seekTimer=setTimeout(function(){U(me)},o.seekFrequency)):U(me)}},b=function(){o.operating=!0,o.unSyncTimeLine()},_=function(){o.operating==!1&&(o.operating=!0,o.unSyncTimeLine())},oe=function(){o.operating=!1};this.TimeLineOBJ=new An({id:"time-line-item",getPlayParam:R,ontouchstart:b,ontouchmove:_,ontouchend:oe}),this.fetchDeviceRec(),document.getElementById("date").addEventListener("change",function(de){console.log("日期变化",de.target.value);var xe=de.target.value,se=parseInt(new Date(xe).Format("yyyy/MM/dd").replace(/\//g,"")),Ae=new Date,qe=parseInt(Ae.Format("yyyy/MM/dd").replace(/\//g,""));if(se>qe){document.getElementById("date").value=new Date(o.date.replace(/\//g,"-")||Ae.Format("yyyy-MM-dd")).Format("yyyy-MM-dd");return}o.date=new Date(xe).Format("yyyy/MM/dd"),o.begin=o.date+" 00:00:00",o.end=o.date+" 23:59:59",o.jSPlugin.changePlayUrl({type:o.type,begin:"".concat(new Date(o.date).Format("yyyyMMdd"),"000000")}).then(function(me){setTimeout(function(){var m=document.getElementById("date");m&&(m.value=xe)},0)}),o.changeRecSpeed(1),o.resetMobileZoomStatus()}),document.getElementById("cloudType").checked=this.type==="rec",document.getElementById("cloudType").addEventListener("change",function(de){var xe=de.target.checked?2:1;o.type=de.target.checked?"rec":"cloud.rec",console.log("recType",xe),o.jSPlugin.changePlayUrl({type:o.type,begin:"".concat(new Date(o.date).Format("yyyyMMdd"),"000000")}).then(function(){console.log("切换类型成功"),o.syncTimeLine(),o.changeRecSpeed(1),o.resetMobileZoomStatus()},function(se){console.log("err",se)}).catch(function(se){console.log(se)})}),this.syncTimeLine()}return xt(J,[{key:"fetchDeviceRec",value:function(){var t=this,n=function(u){var k=u.length;document.getElementById("recCount").innerHTML=k;for(var P=[],S=k-1;S>=0;S--){var R=u[S],b=Pn(R.endTime),_=Pn(R.startTime);P.push({st:_,et:b})}t.TimeLineOBJ.setDateLine(P)},o=new FormData,c=this;o.append("deviceSerial",Nn(this.jSPlugin.url).deviceSerial),o.append("channelNo",Nn(this.jSPlugin.url).channelNo),o.append("accessToken",this.jSPlugin.accessToken),o.append("recType",this.type==="cloud.rec"?1:2),o.append("startTime",new Date(this.begin).getTime()),o.append("endTime",new Date(this.end).getTime()),fetch(this.jSPlugin.env.domain+"/api/lapp/video/by/time",{method:"POST",body:o}).then(function(d){return d.json()}).then(function(d){if(d.code==200&&d.data){var u=[];u=d.data,c.recList=u,c.lastDate=u[u.length-1].endTime,n(u)}else n([])})}},{key:"syncTimeLine",value:function(){var t=this,n=function(d){var u=new Date(d),k=u.getHours(),P=u.getMinutes(),S=u.getSeconds();return(k>9?k:"0"+k)+":"+(P>9?P:"0"+P)+":"+(S>9?S:"0"+S)};this.jSPlugin.recTimer&&clearInterval(this.jSPlugin.recTimer);var o=this;this.jSPlugin.recTimer=setInterval(function(){if(t.operating)return console.log("操作中"),!1;t.jSPlugin.getOSDTime().then(function(c){c.data>0&&o.TimeLineOBJ.stepScrollTimeLine(n(c.data*1e3)),o.lastDate&&(c.data>1e12?c.data:c.data*1e3)>=o.lastDate&&o.jSPlugin.pluginStatus.loadingSetText({text:"回放结束",color:"red"})}).catch(function(c){console.log("err:-----",c),console.log("未找到当前获取播放时间，等待中...")})},1e3)}},{key:"unSyncTimeLine",value:function(){var t=this;return new Promise(function(n,o){t.jSPlugin.recTimer&&clearInterval(t.jSPlugin.recTimer),n()})}}]),J}(),Yn=[{code:200,msg:"",desc:"请求成功",text:"操作成功",type:"ptzStart"},{code:10001,msg:"操作失败",desc:"参数为空或格式不正确",text:"参数错误",type:"ptzStart"},{code:10002,msg:"账号异常，操作失败",desc:"重新获取accessToken",text:"accessToken异常或过期",type:"ptzStart"},{code:10005,msg:"账号异常，操作失败",desc:"appKey被冻结",text:"appKey异常",type:"ptzStart"},{code:20002,msg:"设备不存在，请检查设备连接情况",desc:"",text:"设备不存在",type:"ptzStart"},{code:20006,msg:"操作失败，请检查设备网络情况",desc:"检查设备网络状况，稍后再试",text:"网络异常",type:"ptzStart"},{code:20007,msg:"操作失败，请检查设备在线情况",desc:"检查设备是否在线",text:"设备不在线",type:"ptzStart"},{code:20008,msg:"操作过于频繁，稍后再试",desc:"操作过于频繁，稍后再试",text:"设备响应超时",type:"ptzStart"},{code:20014,msg:"操作失败",desc:"",text:"deviceSerial不合法",type:"ptzStart"},{code:20032,msg:"通道不存在请检查设备连接情况",desc:"该用户下通道不存在",text:"该用户下通道不存在",type:"ptzStart"},{code:49999,msg:"操作失败，请重试",desc:"接口调用异常",text:"数据异常",type:"ptzStart"},{code:6e4,msg:"操作失败，设备不支持该操作",desc:"",text:"设备不支持云台控制",type:"ptzStart"},{code:60001,msg:"操作失败，用户无权限",desc:"",text:"用户无云台控制权限",type:"ptzStart"},{code:60002,msg:"设备已旋转到上限位",desc:"",text:"设备云台旋转达到上限位",type:"ptzStart"},{code:60003,msg:"设备已旋转到下限位",desc:"",text:"设备云台旋转达到下限位",type:"ptzStart"},{code:60004,msg:"设备已旋转到左限位",desc:"",text:"设备云台旋转达到左限位",type:"ptzStart"},{code:60005,msg:"设备已旋转到右限位",desc:"",text:"设备云台旋转达到右限位",type:"ptzStart"},{code:60006,msg:"操作失败，请重试",desc:"稍候再试",text:"云台当前操作失败",type:"ptzStart"},{code:60009,msg:"设备正在操作中",desc:"",text:"正在调用预置点",type:"ptzStart"},{code:60020,msg:"操作失败",desc:"确认设备是否支持该操作",text:"不支持该命令",type:"ptzStart"}],nr=[{code:200,msg:"",desc:"请求成功",text:"操作成功",type:"ptzStop"},{code:10001,msg:"操作失败",desc:"参数为空或格式不正确",text:"参数错误",type:"ptzStop"},{code:10002,msg:"账号异常，操作失败",desc:"重新获取accessToken",text:"accessToken异常或过期",type:"ptzStop"},{code:10005,msg:"账号异常，操作失败",desc:"appKey被冻结",text:"appKey异常",type:"ptzStop"},{code:20002,msg:"设备不存在，请检查设备连接情况",desc:"",text:"设备不存在",type:"ptzStop"},{code:20006,msg:"操作失败，请检查设备网络情况",desc:"检查设备网络状况，稍后再试",text:"网络异常",type:"ptzStop"},{code:20007,msg:"操作失败，请检查设备在线情况",desc:"检查设备是否在线",text:"设备不在线",type:"ptzStop"},{code:20008,msg:"操作过于频繁，稍后再试",desc:"操作过于频繁，稍后再试",text:"设备响应超时",type:"ptzStop"},{code:20014,msg:"操作失败",desc:"",text:"deviceSerial不合法",type:"ptzStop"},{code:20032,msg:"通道不存在请检查设备连接情况",desc:"该用户下通道不存在",text:"该用户下通道不存在",type:"ptzStop"},{code:49999,msg:"操作失败，请重试",desc:"接口调用异常",text:"数据异常",type:"ptzStop"},{code:6e4,msg:"操作失败，设备不支持该操作",desc:"",text:"设备不支持云台控制",type:"ptzStop"},{code:60001,msg:"操作失败，用户无权限",desc:"",text:"用户无云台控制权限",type:"ptzStop"},{code:60006,msg:"操作失败，请重试",desc:"稍候再试",text:"云台当前操作失败",type:"ptzStop"},{code:60009,msg:"设备正在操作中",desc:"",text:"正在调用预置点",type:"ptzStop"},{code:60020,msg:"操作失败",desc:"确认设备是否支持该操作",text:"不支持该命令",type:"ptzStop"}],Cr=[{code:200,msg:"",desc:"请求成功",text:"操作成功",type:"talk"},{code:10001,msg:"播放失败",desc:"参数为空或格式不正确",text:"参数错误",type:"talk"},{code:10002,msg:"账号异常，操作失败",desc:"",text:"accessToken异常或过期",type:"talk"},{code:10031,msg:"账号异常，操作失败",desc:"",text:"子账户或萤石用户没有权限",type:"talk"},{code:20002,msg:"设备不存在请检查设备连接情况",desc:"设备序列号输入有误或者设备未被添加或者通道异常",text:"设备不存在",type:"talk"},{code:60059,msg:"播放失败",desc:"",text:"ezopen地址均不可用",type:"talk"}],Nr=[{code:200,msg:"",desc:"",text:"操作成功",type:"time"},{code:10001,msg:"播放失败",desc:"参数为空或格式不正确",text:"参数错误",type:"time"},{code:10002,msg:"账号异常，播放失败",desc:"",text:"accessToken异常或过期",type:"time"},{code:10004,msg:"账号异常，播放失败",desc:"",text:"用户不存在",type:"time"},{code:10005,msg:"账号异常，播放失败",desc:"",text:"appKey异常",type:"time"},{code:10011,msg:"播放失败",desc:"设备对应用户未注册至应用下",text:"未开通萤石服务",type:"time"},{code:10013,msg:"账号异常，播放失败",desc:"",text:"非开发者账号无权限调用",type:"time"},{code:10030,msg:"播放失败",desc:"",text:"appkey和appsecret不匹配",type:"time"},{code:20002,msg:"设备不存在请检查设备连接情况",desc:"设备序列号输入有误或者设备未被添加或者通道异常",text:"设备不存在",type:"time"},{code:20014,msg:"播放失败",desc:"",text:"deviceSerial不合法",type:"time"},{code:20032,msg:"设备不存在请检查设备连接情况",desc:"",text:"该用户下通道不存在",type:"time"},{code:60024,msg:"播放失败请重试",desc:"",text:"取消订阅操作失败",type:"time"},{code:49999,msg:"播放失败请重试",desc:"",text:"操作异常",type:"time"}],sa={ptzStart:Yn,ptzStop:nr,talk:Cr,time:Nr},na=function(){function J(g,t){Re(this,J),this.coreX=g,this.coreY=t,console.log("uikitCode",sa)}return xt(J,[{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"matchInfo",value:function(t,n){if(sa[n]){var o={};return sa[n].map(function(c){c.code==t&&(o=c)}),o}else return{code:500,msg:"未知错误",desc:"未知的错误码，或错误码类型有误",text:"",type:n}}}]),J}(),Ra=function(){function J(g){var t=this;if(Re(this,J),this.jSPlugin=g,this.codeHandler=new na,this.pluginStatus=new un(this,this.jSPlugin.id),this.showPtz=!1,console.log("云台初始化"),document.getElementById(this.jSPlugin.id+"-ez-ptz-item"))return!1;var n=document.createElement("div");n.id=this.jSPlugin.id+"-ez-ptz-item",n.className="ez-ptz-wrap",n.style="display:none";var o=document.createElement("style");o.innerHTML=`
    .ez-ptz-container {
      position: relative;
      width: 80px;
      height: 80px;
      background: rgba(255, 255, 255, 0.80);
      box-shadow: 0px 0px 33px 4px rgb(0 0 0 / 15%);
      border: 1px solid rgba(255, 255, 255, 0.80);
      border-radius: 100%;
      cursor: pointer;
      overflow: hidden;
      user-select: none;
    }
    .ez-ptz-container .ez-ptz-icon.top {
      width: 0;
      height: 0;
      border-left: 3px solid transparent;
      border-right: 3px solid transparent;
      border-bottom: 6px solid #333333;
      position: absolute;
      display: inline-block;
      left: calc(50% - 3px);
      top: 2px;
    }

    .ez-ptz-container .ez-ptz-icon.top.active {
      border-bottom-color: #1890FF;
    }

    .ez-ptz-container .ez-ptz-icon.bottom {
      width: 0;
      height: 0;
      border-left: 3px solid transparent;
      border-right: 3px solid transparent;
      border-top: 6px solid #333333;
      position: absolute;
      display: inline-block;
      left: calc(50% - 3px);
      bottom: 2px;
    }

    .ez-ptz-container .ez-ptz-icon.bottom.active {
      border-top-color: #1890FF;
    }

    .ez-ptz-container .ez-ptz-icon.right {
      width: 0;
      height: 0;
      border-top: 3px solid transparent;
      border-bottom: 3px solid transparent;
      border-left: 6px solid #333333;
      position: absolute;
      display: inline-block;
      top: calc(50% - 3px);
      right: 2px;
    }

    .ez-ptz-container .ez-ptz-icon.right.active {
      border-left-color: #1890FF;
    }

    .ez-ptz-container .ez-ptz-icon.left {
      width: 0;
      height: 0;
      border-top: 3px solid transparent;
      border-bottom: 3px solid transparent;
      border-right: 6px solid #333333;
      position: absolute;
      display: inline-block;
      top: calc(50% - 3px);
      left: 2px;
    }

    .ez-ptz-container .ez-ptz-icon.left.active {
      border-right-color: #1890FF;
    }

    .ez-ptz-container .ez-ptz-main.center {
      width: 23px;
      height: 23px;
      background: #1890FF;
      border-radius: 100%;
      top: calc(50% - 12.3px);
      left: calc(50% - 12.3px);
      position: absolute;
    }

    .ez-ptz-wrap {
      position: absolute;
      right: 20px;
      top: calc(50% - 50px);
      width: 100px;
      height: 100px;
      z-index: 999;
    }

    .ez-ptz-close {
      position: absolute;
      color: #FFFFFF;
      top: 0;
      right: 0px;
    }`,document.getElementsByTagName("head")[0].appendChild(o),n.innerHTML=`
      <div class="ez-ptz-container" id="`.concat(this.jSPlugin.id,`-ez-ptz-container" style="position: relative;width: 80px;height: 80px;background: rgba(255, 255, 255, 0.80);box-shadow: 0px 0px 33px 4px rgba(0, 0, 0, 0.15);border: 1px solid rgba(255, 255, 255, 0.80);border-radius: 100%;cursor: pointer;overflow: hidden;user-select: none;">
        <div class="ez-ptz-main center"></div>
        <div class="ez-ptz-icon top active"></div>
        <div class="ez-ptz-icon left active"></div>
        <div class="ez-ptz-icon bottom active"></div>
        <div class="ez-ptz-icon right active"></div>
      `),document.getElementById("".concat(g.id,"-wrap")).appendChild(n),document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).onmousedown=function(c){c.preventDefault(),console.log("触摸开始"),t._handlePtzTouch(c,"start")},document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).onmouseup=function(c){c.preventDefault(),console.log("触摸结束"),t._handlePtzTouch(c,"stop")},document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).ontouchstart=function(c){c.preventDefault(),console.log("触摸开始"),t._handlePtzTouch(c,"start")},document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).ontouchend=function(c){c.preventDefault(),console.log("触摸结束",c),t._handlePtzTouch(c,"stop")}}return xt(J,[{key:"show",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-item"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-item")).style="display: inline-block"),this.showPtz=!0,this.jSPlugin.eventEmitter&&this.jSPlugin.eventEmitter.emit("openPtz",{eventType:"openPtz",code:0,target:this,msg:"开启云台"})}},{key:"hide",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-item"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-item")).style="display: none"),this.showPtz=!1,this.jSPlugin.eventEmitter&&this.jSPlugin.eventEmitter.emit("closePtz",{eventType:"closePtz",code:0,target:this,msg:"关闭云台"})}},{key:"_handlePtzTouch",value:function(t,n){var o=this,c=document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).getBoundingClientRect(),d=c.left+41,u=c.top+41,k=t.x||t.changedTouches[0].clientX,P=t.y||t.changedTouches[0].clientY,S=k-d,R=P-u,b=0,_=this.jSPlugin.env.domain+"/api/lapp/device/ptz/start";if(Math.abs(S)>Math.abs(R)?S>0?b=3:b=2:R>0?b=1:b=0,/^rotate\(90/.test(document.getElementById("".concat(this.jSPlugin.id,"-wrap")).style.transform))switch(b){case 0:b=2;break;case 1:b=3;break;case 2:b=1;break;case 3:b=0;break}document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).style="background-image:linear-gradient(".concat(b===0?180:b===1?0:b===2?90:270,"deg, #1d8dd8 0%, rgba(100,143,252,0.00) 30%)"),n==="stop"&&(_=this.jSPlugin.env.domain+"/api/lapp/device/ptz/stop",document.getElementById("".concat(this.jSPlugin.id,"-ez-ptz-container")).style="");var oe=new FormData;oe.append("deviceSerial",Nn(this.jSPlugin.url).deviceSerial),oe.append("channelNo",Nn(this.jSPlugin.url).channelNo),oe.append("speed",1),oe.append("direction",b),oe.append("accessToken",this.jSPlugin.accessToken),fetch(_,{method:"POST",body:oe}).then(function(de){return de.json()}).then(function(de){de.code==200||(console.log(de.code,o.codeHandler.matchInfo(de.code,n==="start"?"ptzStart":"ptzStop")),o.pluginStatus.loadingSetText({text:o.codeHandler.matchInfo(de.code,n==="start"?"ptzStart":"ptzStop").msg,color:"red",delayClear:2e3}),(de.code==60005||de.code==60002||de.code==60003||de.code==60004)&&(document.getElementById("".concat(o.jSPlugin.id,"-ez-ptz-container")).style="background-image:linear-gradient(".concat(b===0?180:b===1?0:b===2?90:270,"deg, #f45656 0%, rgba(100,143,252,0.00) 30%)")))}).catch(function(de){console.log("云台调用异常",de)})}}]),J}();function co(J){throw new Error('Could not dynamically require "'+J+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var e0={exports:{}};(function(J,g){(function(t){J.exports=t()})(function(){return function(){function t(n,o,c){function d(P,S){if(!o[P]){if(!n[P]){var R=typeof co=="function"&&co;if(!S&&R)return R(P,!0);if(u)return u(P,!0);var b=new Error("Cannot find module '"+P+"'");throw b.code="MODULE_NOT_FOUND",b}var _=o[P]={exports:{}};n[P][0].call(_.exports,function(oe){var de=n[P][1][oe];return d(de||oe)},_,_.exports,t,n,o,c)}return o[P].exports}for(var u=typeof co=="function"&&co,k=0;k<c.length;k++)d(c[k]);return d}return t}()({1:[function(t,n,o){var c=t("./adapter_factory.js"),d=(0,c.adapterFactory)({window});window.adapter=d,n.exports=d},{"./adapter_factory.js":2}],2:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.adapterFactory=Ae;var c=t("./utils"),d=se(c),u=t("./chrome/chrome_shim"),k=se(u),P=t("./edge/edge_shim"),S=se(P),R=t("./firefox/firefox_shim"),b=se(R),_=t("./safari/safari_shim"),oe=se(_),de=t("./common_shim"),xe=se(de);function se(qe){if(qe&&qe.__esModule)return qe;var me={};if(qe!=null)for(var m in qe)Object.prototype.hasOwnProperty.call(qe,m)&&(me[m]=qe[m]);return me.default=qe,me}function Ae(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=qe.window,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},U=d.log,le=d.detectBrowser(me),re={browserDetails:le,commonShim:xe,extractVersion:d.extractVersion,disableLog:d.disableLog,disableWarnings:d.disableWarnings};switch(le.browser){case"chrome":if(!k||!k.shimPeerConnection||!m.shimChrome)return U("Chrome shim is not included in this adapter release."),re;U("adapter.js shimming chrome."),re.browserShim=k,k.shimGetUserMedia(me),k.shimMediaStream(me),k.shimPeerConnection(me),k.shimOnTrack(me),k.shimAddTrackRemoveTrack(me),k.shimGetSendersWithDtmf(me),k.shimGetStats(me),k.shimSenderReceiverGetStats(me),k.fixNegotiationNeeded(me),xe.shimRTCIceCandidate(me),xe.shimConnectionState(me),xe.shimMaxMessageSize(me),xe.shimSendThrowTypeError(me),xe.removeAllowExtmapMixed(me);break;case"firefox":if(!b||!b.shimPeerConnection||!m.shimFirefox)return U("Firefox shim is not included in this adapter release."),re;U("adapter.js shimming firefox."),re.browserShim=b,b.shimGetUserMedia(me),b.shimPeerConnection(me),b.shimOnTrack(me),b.shimRemoveStream(me),b.shimSenderGetStats(me),b.shimReceiverGetStats(me),b.shimRTCDataChannel(me),b.shimAddTransceiver(me),b.shimCreateOffer(me),b.shimCreateAnswer(me),xe.shimRTCIceCandidate(me),xe.shimConnectionState(me),xe.shimMaxMessageSize(me),xe.shimSendThrowTypeError(me);break;case"edge":if(!S||!S.shimPeerConnection||!m.shimEdge)return U("MS edge shim is not included in this adapter release."),re;U("adapter.js shimming edge."),re.browserShim=S,S.shimGetUserMedia(me),S.shimGetDisplayMedia(me),S.shimPeerConnection(me),S.shimReplaceTrack(me),xe.shimMaxMessageSize(me),xe.shimSendThrowTypeError(me);break;case"safari":if(!oe||!m.shimSafari)return U("Safari shim is not included in this adapter release."),re;U("adapter.js shimming safari."),re.browserShim=oe,oe.shimRTCIceServerUrls(me),oe.shimCreateOfferLegacy(me),oe.shimCallbacksAPI(me),oe.shimLocalStreamsAPI(me),oe.shimRemoteStreamsAPI(me),oe.shimTrackEventTransceiver(me),oe.shimGetUserMedia(me),xe.shimRTCIceCandidate(me),xe.shimMaxMessageSize(me),xe.shimSendThrowTypeError(me),xe.removeAllowExtmapMixed(me);break;default:U("Unsupported browser!");break}return re}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=o.shimGetUserMedia=void 0;var c=typeof Symbol=="function"&&K(Symbol.iterator)==="symbol"?function(m){return K(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":K(m)},d=t("./getusermedia");Object.defineProperty(o,"shimGetUserMedia",{enumerable:!0,get:function(){return d.shimGetUserMedia}});var u=t("./getdisplaymedia");Object.defineProperty(o,"shimGetDisplayMedia",{enumerable:!0,get:function(){return u.shimGetDisplayMedia}}),o.shimMediaStream=b,o.shimOnTrack=_,o.shimGetSendersWithDtmf=oe,o.shimGetStats=de,o.shimSenderReceiverGetStats=xe,o.shimAddTrackRemoveTrackWithNative=se,o.shimAddTrackRemoveTrack=Ae,o.shimPeerConnection=qe,o.fixNegotiationNeeded=me;var k=t("../utils.js"),P=S(k);function S(m){if(m&&m.__esModule)return m;var U={};if(m!=null)for(var le in m)Object.prototype.hasOwnProperty.call(m,le)&&(U[le]=m[le]);return U.default=m,U}function R(m,U,le){return U in m?Object.defineProperty(m,U,{value:le,enumerable:!0,configurable:!0,writable:!0}):m[U]=le,m}function b(m){m.MediaStream=m.MediaStream||m.webkitMediaStream}function _(m){if((typeof m>"u"?"undefined":c(m))==="object"&&m.RTCPeerConnection&&!("ontrack"in m.RTCPeerConnection.prototype)){Object.defineProperty(m.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(re){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=re)},enumerable:!0,configurable:!0});var U=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(){var re=this;return this._ontrackpoly||(this._ontrackpoly=function(Pe){Pe.stream.addEventListener("addtrack",function(fe){var $e=void 0;m.RTCPeerConnection.prototype.getReceivers?$e=re.getReceivers().find(function(F){return F.track&&F.track.id===fe.track.id}):$e={track:fe.track};var ot=new Event("track");ot.track=fe.track,ot.receiver=$e,ot.transceiver={receiver:$e},ot.streams=[Pe.stream],re.dispatchEvent(ot)}),Pe.stream.getTracks().forEach(function(fe){var $e=void 0;m.RTCPeerConnection.prototype.getReceivers?$e=re.getReceivers().find(function(F){return F.track&&F.track.id===fe.id}):$e={track:fe};var ot=new Event("track");ot.track=fe,ot.receiver=$e,ot.transceiver={receiver:$e},ot.streams=[Pe.stream],re.dispatchEvent(ot)})},this.addEventListener("addstream",this._ontrackpoly)),U.apply(this,arguments)}}else P.wrapPeerConnectionEvent(m,"track",function(le){return le.transceiver||Object.defineProperty(le,"transceiver",{value:{receiver:le.receiver}}),le})}function oe(m){if((typeof m>"u"?"undefined":c(m))==="object"&&m.RTCPeerConnection&&!("getSenders"in m.RTCPeerConnection.prototype)&&"createDTMFSender"in m.RTCPeerConnection.prototype){var U=function(F,Ie){return{track:Ie,get dtmf(){return this._dtmf===void 0&&(Ie.kind==="audio"?this._dtmf=F.createDTMFSender(Ie):this._dtmf=null),this._dtmf},_pc:F}};if(!m.RTCPeerConnection.prototype.getSenders){m.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var le=m.RTCPeerConnection.prototype.addTrack;m.RTCPeerConnection.prototype.addTrack=function(F,Ie){var Ve=le.apply(this,arguments);return Ve||(Ve=U(this,F),this._senders.push(Ve)),Ve};var re=m.RTCPeerConnection.prototype.removeTrack;m.RTCPeerConnection.prototype.removeTrack=function(F){re.apply(this,arguments);var Ie=this._senders.indexOf(F);Ie!==-1&&this._senders.splice(Ie,1)}}var Pe=m.RTCPeerConnection.prototype.addStream;m.RTCPeerConnection.prototype.addStream=function(F){var Ie=this;this._senders=this._senders||[],Pe.apply(this,[F]),F.getTracks().forEach(function(Ve){Ie._senders.push(U(Ie,Ve))})};var fe=m.RTCPeerConnection.prototype.removeStream;m.RTCPeerConnection.prototype.removeStream=function(F){var Ie=this;this._senders=this._senders||[],fe.apply(this,[F]),F.getTracks().forEach(function(Ve){var yi=Ie._senders.find(function(Hi){return Hi.track===Ve});yi&&Ie._senders.splice(Ie._senders.indexOf(yi),1)})}}else if((typeof m>"u"?"undefined":c(m))==="object"&&m.RTCPeerConnection&&"getSenders"in m.RTCPeerConnection.prototype&&"createDTMFSender"in m.RTCPeerConnection.prototype&&m.RTCRtpSender&&!("dtmf"in m.RTCRtpSender.prototype)){var $e=m.RTCPeerConnection.prototype.getSenders;m.RTCPeerConnection.prototype.getSenders=function(){var F=this,Ie=$e.apply(this,[]);return Ie.forEach(function(Ve){return Ve._pc=F}),Ie},Object.defineProperty(m.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function de(m){if(m.RTCPeerConnection){var U=m.RTCPeerConnection.prototype.getStats;m.RTCPeerConnection.prototype.getStats=function(){var re=this,Pe=Array.prototype.slice.call(arguments),fe=Pe[0],$e=Pe[1],ot=Pe[2];if(arguments.length>0&&typeof fe=="function")return U.apply(this,arguments);if(U.length===0&&(arguments.length===0||typeof fe!="function"))return U.apply(this,[]);var F=function(Hi){var Pi={},Ci=Hi.result();return Ci.forEach(function(Qi){var at={id:Qi.id,timestamp:Qi.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Qi.type]||Qi.type};Qi.names().forEach(function(pt){at[pt]=Qi.stat(pt)}),Pi[at.id]=at}),Pi},Ie=function(Hi){return new Map(Object.keys(Hi).map(function(Pi){return[Pi,Hi[Pi]]}))};if(arguments.length>=2){var Ve=function(Hi){$e(Ie(F(Hi)))};return U.apply(this,[Ve,fe])}return new Promise(function(yi,Hi){U.apply(re,[function(Pi){yi(Ie(F(Pi)))},Hi])}).then($e,ot)}}}function xe(m){if((typeof m>"u"?"undefined":c(m))==="object"&&m.RTCPeerConnection&&m.RTCRtpSender&&m.RTCRtpReceiver){if(!("getStats"in m.RTCRtpSender.prototype)){var U=m.RTCPeerConnection.prototype.getSenders;U&&(m.RTCPeerConnection.prototype.getSenders=function(){var $e=this,ot=U.apply(this,[]);return ot.forEach(function(F){return F._pc=$e}),ot});var le=m.RTCPeerConnection.prototype.addTrack;le&&(m.RTCPeerConnection.prototype.addTrack=function(){var $e=le.apply(this,arguments);return $e._pc=this,$e}),m.RTCRtpSender.prototype.getStats=function(){var $e=this;return this._pc.getStats().then(function(ot){return P.filterStats(ot,$e.track,!0)})}}if(!("getStats"in m.RTCRtpReceiver.prototype)){var re=m.RTCPeerConnection.prototype.getReceivers;re&&(m.RTCPeerConnection.prototype.getReceivers=function(){var $e=this,ot=re.apply(this,[]);return ot.forEach(function(F){return F._pc=$e}),ot}),P.wrapPeerConnectionEvent(m,"track",function(fe){return fe.receiver._pc=fe.srcElement,fe}),m.RTCRtpReceiver.prototype.getStats=function(){var $e=this;return this._pc.getStats().then(function(ot){return P.filterStats(ot,$e.track,!1)})}}if("getStats"in m.RTCRtpSender.prototype&&"getStats"in m.RTCRtpReceiver.prototype){var Pe=m.RTCPeerConnection.prototype.getStats;m.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof m.MediaStreamTrack){var $e=arguments[0],ot=void 0,F=void 0,Ie=void 0;return this.getSenders().forEach(function(Ve){Ve.track===$e&&(ot?Ie=!0:ot=Ve)}),this.getReceivers().forEach(function(Ve){return Ve.track===$e&&(F?Ie=!0:F=Ve),Ve.track===$e}),Ie||ot&&F?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):ot?ot.getStats():F?F.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return Pe.apply(this,arguments)}}}}function se(m){m.RTCPeerConnection.prototype.getLocalStreams=function(){var $e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(ot){return $e._shimmedLocalStreams[ot][0]})};var U=m.RTCPeerConnection.prototype.addTrack;m.RTCPeerConnection.prototype.addTrack=function($e,ot){if(!ot)return U.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var F=U.apply(this,arguments);return this._shimmedLocalStreams[ot.id]?this._shimmedLocalStreams[ot.id].indexOf(F)===-1&&this._shimmedLocalStreams[ot.id].push(F):this._shimmedLocalStreams[ot.id]=[ot,F],F};var le=m.RTCPeerConnection.prototype.addStream;m.RTCPeerConnection.prototype.addStream=function($e){var ot=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},$e.getTracks().forEach(function(Ve){var yi=ot.getSenders().find(function(Hi){return Hi.track===Ve});if(yi)throw new DOMException("Track already exists.","InvalidAccessError")});var F=this.getSenders();le.apply(this,arguments);var Ie=this.getSenders().filter(function(Ve){return F.indexOf(Ve)===-1});this._shimmedLocalStreams[$e.id]=[$e].concat(Ie)};var re=m.RTCPeerConnection.prototype.removeStream;m.RTCPeerConnection.prototype.removeStream=function($e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[$e.id],re.apply(this,arguments)};var Pe=m.RTCPeerConnection.prototype.removeTrack;m.RTCPeerConnection.prototype.removeTrack=function($e){var ot=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},$e&&Object.keys(this._shimmedLocalStreams).forEach(function(F){var Ie=ot._shimmedLocalStreams[F].indexOf($e);Ie!==-1&&ot._shimmedLocalStreams[F].splice(Ie,1),ot._shimmedLocalStreams[F].length===1&&delete ot._shimmedLocalStreams[F]}),Pe.apply(this,arguments)}}function Ae(m){if(!m.RTCPeerConnection)return;var U=P.detectBrowser(m);if(m.RTCPeerConnection.prototype.addTrack&&U.version>=65)return se(m);var le=m.RTCPeerConnection.prototype.getLocalStreams;m.RTCPeerConnection.prototype.getLocalStreams=function(){var Ve=this,yi=le.apply(this);return this._reverseStreams=this._reverseStreams||{},yi.map(function(Hi){return Ve._reverseStreams[Hi.id]})};var re=m.RTCPeerConnection.prototype.addStream;m.RTCPeerConnection.prototype.addStream=function(Ve){var yi=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},Ve.getTracks().forEach(function(Pi){var Ci=yi.getSenders().find(function(Qi){return Qi.track===Pi});if(Ci)throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[Ve.id]){var Hi=new m.MediaStream(Ve.getTracks());this._streams[Ve.id]=Hi,this._reverseStreams[Hi.id]=Ve,Ve=Hi}re.apply(this,[Ve])};var Pe=m.RTCPeerConnection.prototype.removeStream;m.RTCPeerConnection.prototype.removeStream=function(Ve){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},Pe.apply(this,[this._streams[Ve.id]||Ve]),delete this._reverseStreams[this._streams[Ve.id]?this._streams[Ve.id].id:Ve.id],delete this._streams[Ve.id]},m.RTCPeerConnection.prototype.addTrack=function(Ve,yi){var Hi=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var Pi=[].slice.call(arguments,1);if(Pi.length!==1||!Pi[0].getTracks().find(function(pt){return pt===Ve}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var Ci=this.getSenders().find(function(pt){return pt.track===Ve});if(Ci)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var Qi=this._streams[yi.id];if(Qi)Qi.addTrack(Ve),Promise.resolve().then(function(){Hi.dispatchEvent(new Event("negotiationneeded"))});else{var at=new m.MediaStream([Ve]);this._streams[yi.id]=at,this._reverseStreams[at.id]=yi,this.addStream(at)}return this.getSenders().find(function(pt){return pt.track===Ve})};function fe(Ie,Ve){var yi=Ve.sdp;return Object.keys(Ie._reverseStreams||[]).forEach(function(Hi){var Pi=Ie._reverseStreams[Hi],Ci=Ie._streams[Pi.id];yi=yi.replace(new RegExp(Ci.id,"g"),Pi.id)}),new RTCSessionDescription({type:Ve.type,sdp:yi})}function $e(Ie,Ve){var yi=Ve.sdp;return Object.keys(Ie._reverseStreams||[]).forEach(function(Hi){var Pi=Ie._reverseStreams[Hi],Ci=Ie._streams[Pi.id];yi=yi.replace(new RegExp(Pi.id,"g"),Ci.id)}),new RTCSessionDescription({type:Ve.type,sdp:yi})}["createOffer","createAnswer"].forEach(function(Ie){var Ve=m.RTCPeerConnection.prototype[Ie],yi=R({},Ie,function(){var Hi=this,Pi=arguments,Ci=arguments.length&&typeof arguments[0]=="function";return Ci?Ve.apply(this,[function(Qi){var at=fe(Hi,Qi);Pi[0].apply(null,[at])},function(Qi){Pi[1]&&Pi[1].apply(null,Qi)},arguments[2]]):Ve.apply(this,arguments).then(function(Qi){return fe(Hi,Qi)})});m.RTCPeerConnection.prototype[Ie]=yi[Ie]});var ot=m.RTCPeerConnection.prototype.setLocalDescription;m.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?ot.apply(this,arguments):(arguments[0]=$e(this,arguments[0]),ot.apply(this,arguments))};var F=Object.getOwnPropertyDescriptor(m.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(m.RTCPeerConnection.prototype,"localDescription",{get:function(){var Ve=F.get.apply(this);return Ve.type===""?Ve:fe(this,Ve)}}),m.RTCPeerConnection.prototype.removeTrack=function(Ve){var yi=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!Ve._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var Hi=Ve._pc===this;if(!Hi)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var Pi=void 0;Object.keys(this._streams).forEach(function(Ci){var Qi=yi._streams[Ci].getTracks().find(function(at){return Ve.track===at});Qi&&(Pi=yi._streams[Ci])}),Pi&&(Pi.getTracks().length===1?this.removeStream(this._reverseStreams[Pi.id]):Pi.removeTrack(Ve.track),this.dispatchEvent(new Event("negotiationneeded")))}}function qe(m){var U=P.detectBrowser(m);if(!m.RTCPeerConnection&&m.webkitRTCPeerConnection&&(m.RTCPeerConnection=m.webkitRTCPeerConnection),!!m.RTCPeerConnection){U.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(re){var Pe=m.RTCPeerConnection.prototype[re],fe=R({},re,function(){return arguments[0]=new(re==="addIceCandidate"?m.RTCIceCandidate:m.RTCSessionDescription)(arguments[0]),Pe.apply(this,arguments)});m.RTCPeerConnection.prototype[re]=fe[re]});var le=m.RTCPeerConnection.prototype.addIceCandidate;m.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?U.version<78&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():le.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function me(m){P.wrapPeerConnectionEvent(m,"negotiationneeded",function(U){var le=U.target;if(le.signalingState==="stable")return U})}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=c;function c(d,u){if(!(d.navigator.mediaDevices&&"getDisplayMedia"in d.navigator.mediaDevices)&&d.navigator.mediaDevices){if(typeof u!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}d.navigator.mediaDevices.getDisplayMedia=function(P){return u(P).then(function(S){var R=P.video&&P.video.width,b=P.video&&P.video.height,_=P.video&&P.video.frameRate;return P.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:S,maxFrameRate:_||3}},R&&(P.video.mandatory.maxWidth=R),b&&(P.video.mandatory.maxHeight=b),d.navigator.mediaDevices.getUserMedia(P)})}}}},{}],5:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&K(Symbol.iterator)==="symbol"?function(R){return K(R)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":K(R)};o.shimGetUserMedia=S;var d=t("../utils.js"),u=k(d);function k(R){if(R&&R.__esModule)return R;var b={};if(R!=null)for(var _ in R)Object.prototype.hasOwnProperty.call(R,_)&&(b[_]=R[_]);return b.default=R,b}var P=u.log;function S(R){var b=R&&R.navigator;if(b.mediaDevices){var _=u.detectBrowser(R),oe=function(me){if((typeof me>"u"?"undefined":c(me))!=="object"||me.mandatory||me.optional)return me;var m={};return Object.keys(me).forEach(function(U){if(!(U==="require"||U==="advanced"||U==="mediaSource")){var le=c(me[U])==="object"?me[U]:{ideal:me[U]};le.exact!==void 0&&typeof le.exact=="number"&&(le.min=le.max=le.exact);var re=function($e,ot){return $e?$e+ot.charAt(0).toUpperCase()+ot.slice(1):ot==="deviceId"?"sourceId":ot};if(le.ideal!==void 0){m.optional=m.optional||[];var Pe={};typeof le.ideal=="number"?(Pe[re("min",U)]=le.ideal,m.optional.push(Pe),Pe={},Pe[re("max",U)]=le.ideal,m.optional.push(Pe)):(Pe[re("",U)]=le.ideal,m.optional.push(Pe))}le.exact!==void 0&&typeof le.exact!="number"?(m.mandatory=m.mandatory||{},m.mandatory[re("",U)]=le.exact):["min","max"].forEach(function(fe){le[fe]!==void 0&&(m.mandatory=m.mandatory||{},m.mandatory[re(fe,U)]=le[fe])})}}),me.advanced&&(m.optional=(m.optional||[]).concat(me.advanced)),m},de=function(me,m){if(_.version>=61)return m(me);if(me=JSON.parse(JSON.stringify(me)),me&&c(me.audio)==="object"){var U=function($e,ot,F){ot in $e&&!(F in $e)&&($e[F]=$e[ot],delete $e[ot])};me=JSON.parse(JSON.stringify(me)),U(me.audio,"autoGainControl","googAutoGainControl"),U(me.audio,"noiseSuppression","googNoiseSuppression"),me.audio=oe(me.audio)}if(me&&c(me.video)==="object"){var le=me.video.facingMode;le=le&&((typeof le>"u"?"undefined":c(le))==="object"?le:{ideal:le});var re=_.version<66;if(le&&(le.exact==="user"||le.exact==="environment"||le.ideal==="user"||le.ideal==="environment")&&!(b.mediaDevices.getSupportedConstraints&&b.mediaDevices.getSupportedConstraints().facingMode&&!re)){delete me.video.facingMode;var Pe=void 0;if(le.exact==="environment"||le.ideal==="environment"?Pe=["back","rear"]:(le.exact==="user"||le.ideal==="user")&&(Pe=["front"]),Pe)return b.mediaDevices.enumerateDevices().then(function(fe){fe=fe.filter(function(ot){return ot.kind==="videoinput"});var $e=fe.find(function(ot){return Pe.some(function(F){return ot.label.toLowerCase().includes(F)})});return!$e&&fe.length&&Pe.includes("back")&&($e=fe[fe.length-1]),$e&&(me.video.deviceId=le.exact?{exact:$e.deviceId}:{ideal:$e.deviceId}),me.video=oe(me.video),P("chrome: "+JSON.stringify(me)),m(me)})}me.video=oe(me.video)}return P("chrome: "+JSON.stringify(me)),m(me)},xe=function(me){return _.version>=64?me:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[me.name]||me.name,message:me.message,constraint:me.constraint||me.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},se=function(me,m,U){de(me,function(le){b.webkitGetUserMedia(le,m,function(re){U&&U(xe(re))})})};if(b.getUserMedia=se.bind(b),b.mediaDevices.getUserMedia){var Ae=b.mediaDevices.getUserMedia.bind(b.mediaDevices);b.mediaDevices.getUserMedia=function(qe){return de(qe,function(me){return Ae(me).then(function(m){if(me.audio&&!m.getAudioTracks().length||me.video&&!m.getVideoTracks().length)throw m.getTracks().forEach(function(U){U.stop()}),new DOMException("","NotFoundError");return m},function(m){return Promise.reject(xe(m))})})}}}}},{"../utils.js":15}],6:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&K(Symbol.iterator)==="symbol"?function(se){return K(se)}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":K(se)};o.shimRTCIceCandidate=b,o.shimMaxMessageSize=_,o.shimSendThrowTypeError=oe,o.shimConnectionState=de,o.removeAllowExtmapMixed=xe;var d=t("sdp"),u=R(d),k=t("./utils"),P=S(k);function S(se){if(se&&se.__esModule)return se;var Ae={};if(se!=null)for(var qe in se)Object.prototype.hasOwnProperty.call(se,qe)&&(Ae[qe]=se[qe]);return Ae.default=se,Ae}function R(se){return se&&se.__esModule?se:{default:se}}function b(se){if(!(!se.RTCIceCandidate||se.RTCIceCandidate&&"foundation"in se.RTCIceCandidate.prototype)){var Ae=se.RTCIceCandidate;se.RTCIceCandidate=function(me){if((typeof me>"u"?"undefined":c(me))==="object"&&me.candidate&&me.candidate.indexOf("a=")===0&&(me=JSON.parse(JSON.stringify(me)),me.candidate=me.candidate.substr(2)),me.candidate&&me.candidate.length){var m=new Ae(me),U=u.default.parseCandidate(me.candidate),le=Object.assign(m,U);return le.toJSON=function(){return{candidate:le.candidate,sdpMid:le.sdpMid,sdpMLineIndex:le.sdpMLineIndex,usernameFragment:le.usernameFragment}},le}return new Ae(me)},se.RTCIceCandidate.prototype=Ae.prototype,P.wrapPeerConnectionEvent(se,"icecandidate",function(qe){return qe.candidate&&Object.defineProperty(qe,"candidate",{value:new se.RTCIceCandidate(qe.candidate),writable:"false"}),qe})}}function _(se){if(se.RTCPeerConnection){var Ae=P.detectBrowser(se);"sctp"in se.RTCPeerConnection.prototype||Object.defineProperty(se.RTCPeerConnection.prototype,"sctp",{get:function(){return typeof this._sctp>"u"?null:this._sctp}});var qe=function(Pe){if(!Pe||!Pe.sdp)return!1;var fe=u.default.splitSections(Pe.sdp);return fe.shift(),fe.some(function($e){var ot=u.default.parseMLine($e);return ot&&ot.kind==="application"&&ot.protocol.indexOf("SCTP")!==-1})},me=function(Pe){var fe=Pe.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(fe===null||fe.length<2)return-1;var $e=parseInt(fe[1],10);return $e!==$e?-1:$e},m=function(Pe){var fe=65536;return Ae.browser==="firefox"&&(Ae.version<57?Pe===-1?fe=16384:fe=2147483637:Ae.version<60?fe=Ae.version===57?65535:65536:fe=2147483637),fe},U=function(Pe,fe){var $e=65536;Ae.browser==="firefox"&&Ae.version===57&&($e=65535);var ot=u.default.matchPrefix(Pe.sdp,"a=max-message-size:");return ot.length>0?$e=parseInt(ot[0].substr(19),10):Ae.browser==="firefox"&&fe!==-1&&($e=2147483637),$e},le=se.RTCPeerConnection.prototype.setRemoteDescription;se.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,Ae.browser==="chrome"&&Ae.version>=76){var Pe=this.getConfiguration(),fe=Pe.sdpSemantics;fe==="plan-b"&&Object.defineProperty(this,"sctp",{get:function(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(qe(arguments[0])){var $e=me(arguments[0]),ot=m($e),F=U(arguments[0],$e),Ie=void 0;ot===0&&F===0?Ie=Number.POSITIVE_INFINITY:ot===0||F===0?Ie=Math.max(ot,F):Ie=Math.min(ot,F);var Ve={};Object.defineProperty(Ve,"maxMessageSize",{get:function(){return Ie}}),this._sctp=Ve}return le.apply(this,arguments)}}}function oe(se){if(!(se.RTCPeerConnection&&"createDataChannel"in se.RTCPeerConnection.prototype))return;function Ae(me,m){var U=me.send;me.send=function(){var re=arguments[0],Pe=re.length||re.size||re.byteLength;if(me.readyState==="open"&&m.sctp&&Pe>m.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+m.sctp.maxMessageSize+" bytes)");return U.apply(me,arguments)}}var qe=se.RTCPeerConnection.prototype.createDataChannel;se.RTCPeerConnection.prototype.createDataChannel=function(){var m=qe.apply(this,arguments);return Ae(m,this),m},P.wrapPeerConnectionEvent(se,"datachannel",function(me){return Ae(me.channel,me.target),me})}function de(se){if(!(!se.RTCPeerConnection||"connectionState"in se.RTCPeerConnection.prototype)){var Ae=se.RTCPeerConnection.prototype;Object.defineProperty(Ae,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(Ae,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(me){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),me&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=me)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(qe){var me=Ae[qe];Ae[qe]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(m){var U=m.target;if(U._lastConnectionState!==U.connectionState){U._lastConnectionState=U.connectionState;var le=new Event("connectionstatechange",m);U.dispatchEvent(le)}return m},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),me.apply(this,arguments)}})}}function xe(se){if(se.RTCPeerConnection){var Ae=P.detectBrowser(se);if(!(Ae.browser==="chrome"&&Ae.version>=71)){var qe=se.RTCPeerConnection.prototype.setRemoteDescription;se.RTCPeerConnection.prototype.setRemoteDescription=function(m){return m&&m.sdp&&m.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1&&(m.sdp=m.sdp.split(`
`).filter(function(U){return U.trim()!=="a=extmap-allow-mixed"}).join(`
`)),qe.apply(this,arguments)}}}}},{"./utils":15,sdp:17}],7:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=o.shimGetUserMedia=void 0;var c=t("./getusermedia");Object.defineProperty(o,"shimGetUserMedia",{enumerable:!0,get:function(){return c.shimGetUserMedia}});var d=t("./getdisplaymedia");Object.defineProperty(o,"shimGetDisplayMedia",{enumerable:!0,get:function(){return d.shimGetDisplayMedia}}),o.shimPeerConnection=oe,o.shimReplaceTrack=de;var u=t("../utils"),k=_(u),P=t("./filtericeservers"),S=t("rtcpeerconnection-shim"),R=b(S);function b(xe){return xe&&xe.__esModule?xe:{default:xe}}function _(xe){if(xe&&xe.__esModule)return xe;var se={};if(xe!=null)for(var Ae in xe)Object.prototype.hasOwnProperty.call(xe,Ae)&&(se[Ae]=xe[Ae]);return se.default=xe,se}function oe(xe){var se=k.detectBrowser(xe);if(xe.RTCIceGatherer&&(xe.RTCIceCandidate||(xe.RTCIceCandidate=function(m){return m}),xe.RTCSessionDescription||(xe.RTCSessionDescription=function(m){return m}),se.version<15025)){var Ae=Object.getOwnPropertyDescriptor(xe.MediaStreamTrack.prototype,"enabled");Object.defineProperty(xe.MediaStreamTrack.prototype,"enabled",{set:function(m){Ae.set.call(this,m);var U=new Event("enabled");U.enabled=m,this.dispatchEvent(U)}})}xe.RTCRtpSender&&!("dtmf"in xe.RTCRtpSender.prototype)&&Object.defineProperty(xe.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new xe.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),xe.RTCDtmfSender&&!xe.RTCDTMFSender&&(xe.RTCDTMFSender=xe.RTCDtmfSender);var qe=(0,R.default)(xe,se.version);xe.RTCPeerConnection=function(m){return m&&m.iceServers&&(m.iceServers=(0,P.filterIceServers)(m.iceServers,se.version),k.log("ICE servers after filtering:",m.iceServers)),new qe(m)},xe.RTCPeerConnection.prototype=qe.prototype}function de(xe){xe.RTCRtpSender&&!("replaceTrack"in xe.RTCRtpSender.prototype)&&(xe.RTCRtpSender.prototype.replaceTrack=xe.RTCRtpSender.prototype.setTrack)}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.filterIceServers=k;var c=t("../utils"),d=u(c);function u(P){if(P&&P.__esModule)return P;var S={};if(P!=null)for(var R in P)Object.prototype.hasOwnProperty.call(P,R)&&(S[R]=P[R]);return S.default=P,S}function k(P,S){var R=!1;return P=JSON.parse(JSON.stringify(P)),P.filter(function(b){if(b&&(b.urls||b.url)){var _=b.urls||b.url;b.url&&!b.urls&&d.deprecated("RTCIceServer.url","RTCIceServer.urls");var oe=typeof _=="string";return oe&&(_=[_]),_=_.filter(function(de){if(de.indexOf("stun:")===0)return!1;var xe=de.startsWith("turn")&&!de.startsWith("turn:[")&&de.includes("transport=udp");return xe&&!R?(R=!0,!0):xe&&!R}),delete b.url,b.urls=oe?_[0]:_,!!_.length}})}},{"../utils":15}],9:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=c;function c(d){"getDisplayMedia"in d.navigator&&d.navigator.mediaDevices&&(d.navigator.mediaDevices&&"getDisplayMedia"in d.navigator.mediaDevices||(d.navigator.mediaDevices.getDisplayMedia=d.navigator.getDisplayMedia.bind(d.navigator)))}},{}],10:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetUserMedia=c;function c(d){var u=d&&d.navigator,k=function(R){return{name:{PermissionDeniedError:"NotAllowedError"}[R.name]||R.name,message:R.message,constraint:R.constraint,toString:function(){return this.name}}},P=u.mediaDevices.getUserMedia.bind(u.mediaDevices);u.mediaDevices.getUserMedia=function(S){return P(S).catch(function(R){return Promise.reject(k(R))})}}},{}],11:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=o.shimGetUserMedia=void 0;var c=typeof Symbol=="function"&&K(Symbol.iterator)==="symbol"?function(m){return K(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":K(m)},d=t("./getusermedia");Object.defineProperty(o,"shimGetUserMedia",{enumerable:!0,get:function(){return d.shimGetUserMedia}});var u=t("./getdisplaymedia");Object.defineProperty(o,"shimGetDisplayMedia",{enumerable:!0,get:function(){return u.shimGetDisplayMedia}}),o.shimOnTrack=b,o.shimPeerConnection=_,o.shimSenderGetStats=oe,o.shimReceiverGetStats=de,o.shimRemoveStream=xe,o.shimRTCDataChannel=se,o.shimAddTransceiver=Ae,o.shimCreateOffer=qe,o.shimCreateAnswer=me;var k=t("../utils"),P=S(k);function S(m){if(m&&m.__esModule)return m;var U={};if(m!=null)for(var le in m)Object.prototype.hasOwnProperty.call(m,le)&&(U[le]=m[le]);return U.default=m,U}function R(m,U,le){return U in m?Object.defineProperty(m,U,{value:le,enumerable:!0,configurable:!0,writable:!0}):m[U]=le,m}function b(m){(typeof m>"u"?"undefined":c(m))==="object"&&m.RTCTrackEvent&&"receiver"in m.RTCTrackEvent.prototype&&!("transceiver"in m.RTCTrackEvent.prototype)&&Object.defineProperty(m.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function _(m){var U=P.detectBrowser(m);if(!((typeof m>"u"?"undefined":c(m))!=="object"||!(m.RTCPeerConnection||m.mozRTCPeerConnection))){if(!m.RTCPeerConnection&&m.mozRTCPeerConnection&&(m.RTCPeerConnection=m.mozRTCPeerConnection),U.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(fe){var $e=m.RTCPeerConnection.prototype[fe],ot=R({},fe,function(){return arguments[0]=new(fe==="addIceCandidate"?m.RTCIceCandidate:m.RTCSessionDescription)(arguments[0]),$e.apply(this,arguments)});m.RTCPeerConnection.prototype[fe]=ot[fe]}),U.version<68){var le=m.RTCPeerConnection.prototype.addIceCandidate;m.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&arguments[0].candidate===""?Promise.resolve():le.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var re={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},Pe=m.RTCPeerConnection.prototype.getStats;m.RTCPeerConnection.prototype.getStats=function(){var $e=Array.prototype.slice.call(arguments),ot=$e[0],F=$e[1],Ie=$e[2];return Pe.apply(this,[ot||null]).then(function(Ve){if(U.version<53&&!F)try{Ve.forEach(function(yi){yi.type=re[yi.type]||yi.type})}catch(yi){if(yi.name!=="TypeError")throw yi;Ve.forEach(function(Hi,Pi){Ve.set(Pi,Object.assign({},Hi,{type:re[Hi.type]||Hi.type}))})}return Ve}).then(F,Ie)}}}function oe(m){if((typeof m>"u"?"undefined":c(m))==="object"&&m.RTCPeerConnection&&m.RTCRtpSender&&!(m.RTCRtpSender&&"getStats"in m.RTCRtpSender.prototype)){var U=m.RTCPeerConnection.prototype.getSenders;U&&(m.RTCPeerConnection.prototype.getSenders=function(){var Pe=this,fe=U.apply(this,[]);return fe.forEach(function($e){return $e._pc=Pe}),fe});var le=m.RTCPeerConnection.prototype.addTrack;le&&(m.RTCPeerConnection.prototype.addTrack=function(){var Pe=le.apply(this,arguments);return Pe._pc=this,Pe}),m.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function de(m){if((typeof m>"u"?"undefined":c(m))==="object"&&m.RTCPeerConnection&&m.RTCRtpSender&&!(m.RTCRtpSender&&"getStats"in m.RTCRtpReceiver.prototype)){var U=m.RTCPeerConnection.prototype.getReceivers;U&&(m.RTCPeerConnection.prototype.getReceivers=function(){var re=this,Pe=U.apply(this,[]);return Pe.forEach(function(fe){return fe._pc=re}),Pe}),P.wrapPeerConnectionEvent(m,"track",function(le){return le.receiver._pc=le.srcElement,le}),m.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function xe(m){!m.RTCPeerConnection||"removeStream"in m.RTCPeerConnection.prototype||(m.RTCPeerConnection.prototype.removeStream=function(le){var re=this;P.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(Pe){Pe.track&&le.getTracks().includes(Pe.track)&&re.removeTrack(Pe)})})}function se(m){m.DataChannel&&!m.RTCDataChannel&&(m.RTCDataChannel=m.DataChannel)}function Ae(m){if((typeof m>"u"?"undefined":c(m))==="object"&&m.RTCPeerConnection){var U=m.RTCPeerConnection.prototype.addTransceiver;U&&(m.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var re=arguments[1],Pe=re&&"sendEncodings"in re;Pe&&re.sendEncodings.forEach(function(F){if("rid"in F){var Ie=/^[a-z0-9]{0,16}$/i;if(!Ie.test(F.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in F&&!(parseFloat(F.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in F&&!(parseFloat(F.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var fe=U.apply(this,arguments);if(Pe){var $e=fe.sender,ot=$e.getParameters();"encodings"in ot||(ot.encodings=re.sendEncodings,this.setParametersPromises.push($e.setParameters(ot).catch(function(){})))}return fe})}}function qe(m){if((typeof m>"u"?"undefined":c(m))==="object"&&m.RTCPeerConnection){var U=m.RTCPeerConnection.prototype.createOffer;m.RTCPeerConnection.prototype.createOffer=function(){var re=this,Pe=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return U.apply(re,Pe)}).finally(function(){re.setParametersPromises=[]}):U.apply(this,arguments)}}}function me(m){if((typeof m>"u"?"undefined":c(m))==="object"&&m.RTCPeerConnection){var U=m.RTCPeerConnection.prototype.createAnswer;m.RTCPeerConnection.prototype.createAnswer=function(){var re=this,Pe=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return U.apply(re,Pe)}).finally(function(){re.setParametersPromises=[]}):U.apply(this,arguments)}}}},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.shimGetDisplayMedia=c;function c(d,u){d.navigator.mediaDevices&&"getDisplayMedia"in d.navigator.mediaDevices||d.navigator.mediaDevices&&(d.navigator.mediaDevices.getDisplayMedia=function(P){if(!(P&&P.video)){var S=new DOMException("getDisplayMedia without video constraints is undefined");return S.name="NotFoundError",S.code=8,Promise.reject(S)}return P.video===!0?P.video={mediaSource:u}:P.video.mediaSource=u,d.navigator.mediaDevices.getUserMedia(P)})}},{}],13:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&K(Symbol.iterator)==="symbol"?function(S){return K(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":K(S)};o.shimGetUserMedia=P;var d=t("../utils"),u=k(d);function k(S){if(S&&S.__esModule)return S;var R={};if(S!=null)for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(R[b]=S[b]);return R.default=S,R}function P(S){var R=u.detectBrowser(S),b=S&&S.navigator,_=S&&S.MediaStreamTrack;if(b.getUserMedia=function(Ae,qe,me){u.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),b.mediaDevices.getUserMedia(Ae).then(qe,me)},!(R.version>55&&"autoGainControl"in b.mediaDevices.getSupportedConstraints())){var oe=function(qe,me,m){me in qe&&!(m in qe)&&(qe[m]=qe[me],delete qe[me])},de=b.mediaDevices.getUserMedia.bind(b.mediaDevices);if(b.mediaDevices.getUserMedia=function(Ae){return(typeof Ae>"u"?"undefined":c(Ae))==="object"&&c(Ae.audio)==="object"&&(Ae=JSON.parse(JSON.stringify(Ae)),oe(Ae.audio,"autoGainControl","mozAutoGainControl"),oe(Ae.audio,"noiseSuppression","mozNoiseSuppression")),de(Ae)},_&&_.prototype.getSettings){var xe=_.prototype.getSettings;_.prototype.getSettings=function(){var Ae=xe.apply(this,arguments);return oe(Ae,"mozAutoGainControl","autoGainControl"),oe(Ae,"mozNoiseSuppression","noiseSuppression"),Ae}}if(_&&_.prototype.applyConstraints){var se=_.prototype.applyConstraints;_.prototype.applyConstraints=function(Ae){return this.kind==="audio"&&(typeof Ae>"u"?"undefined":c(Ae))==="object"&&(Ae=JSON.parse(JSON.stringify(Ae)),oe(Ae,"autoGainControl","mozAutoGainControl"),oe(Ae,"noiseSuppression","mozNoiseSuppression")),se.apply(this,[Ae])}}}}},{"../utils":15}],14:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&K(Symbol.iterator)==="symbol"?function(se){return K(se)}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":K(se)};o.shimLocalStreamsAPI=P,o.shimRemoteStreamsAPI=S,o.shimCallbacksAPI=R,o.shimGetUserMedia=b,o.shimConstraints=_,o.shimRTCIceServerUrls=oe,o.shimTrackEventTransceiver=de,o.shimCreateOfferLegacy=xe;var d=t("../utils"),u=k(d);function k(se){if(se&&se.__esModule)return se;var Ae={};if(se!=null)for(var qe in se)Object.prototype.hasOwnProperty.call(se,qe)&&(Ae[qe]=se[qe]);return Ae.default=se,Ae}function P(se){if(!((typeof se>"u"?"undefined":c(se))!=="object"||!se.RTCPeerConnection)){if("getLocalStreams"in se.RTCPeerConnection.prototype||(se.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in se.RTCPeerConnection.prototype)){var Ae=se.RTCPeerConnection.prototype.addTrack;se.RTCPeerConnection.prototype.addStream=function(me){var m=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(me)||this._localStreams.push(me),me.getAudioTracks().forEach(function(U){return Ae.call(m,U,me)}),me.getVideoTracks().forEach(function(U){return Ae.call(m,U,me)})},se.RTCPeerConnection.prototype.addTrack=function(me){var m=arguments[1];return m&&(this._localStreams?this._localStreams.includes(m)||this._localStreams.push(m):this._localStreams=[m]),Ae.apply(this,arguments)}}"removeStream"in se.RTCPeerConnection.prototype||(se.RTCPeerConnection.prototype.removeStream=function(me){var m=this;this._localStreams||(this._localStreams=[]);var U=this._localStreams.indexOf(me);if(U!==-1){this._localStreams.splice(U,1);var le=me.getTracks();this.getSenders().forEach(function(re){le.includes(re.track)&&m.removeTrack(re)})}})}}function S(se){if(!((typeof se>"u"?"undefined":c(se))!=="object"||!se.RTCPeerConnection)&&("getRemoteStreams"in se.RTCPeerConnection.prototype||(se.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in se.RTCPeerConnection.prototype))){Object.defineProperty(se.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(me){var m=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=me),this.addEventListener("track",this._onaddstreampoly=function(U){U.streams.forEach(function(le){if(m._remoteStreams||(m._remoteStreams=[]),!m._remoteStreams.includes(le)){m._remoteStreams.push(le);var re=new Event("addstream");re.stream=le,m.dispatchEvent(re)}})})}});var Ae=se.RTCPeerConnection.prototype.setRemoteDescription;se.RTCPeerConnection.prototype.setRemoteDescription=function(){var me=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(m){m.streams.forEach(function(U){if(me._remoteStreams||(me._remoteStreams=[]),!(me._remoteStreams.indexOf(U)>=0)){me._remoteStreams.push(U);var le=new Event("addstream");le.stream=U,me.dispatchEvent(le)}})}),Ae.apply(me,arguments)}}}function R(se){if(!((typeof se>"u"?"undefined":c(se))!=="object"||!se.RTCPeerConnection)){var Ae=se.RTCPeerConnection.prototype,qe=Ae.createOffer,me=Ae.createAnswer,m=Ae.setLocalDescription,U=Ae.setRemoteDescription,le=Ae.addIceCandidate;Ae.createOffer=function(fe,$e){var ot=arguments.length>=2?arguments[2]:arguments[0],F=qe.apply(this,[ot]);return $e?(F.then(fe,$e),Promise.resolve()):F},Ae.createAnswer=function(fe,$e){var ot=arguments.length>=2?arguments[2]:arguments[0],F=me.apply(this,[ot]);return $e?(F.then(fe,$e),Promise.resolve()):F};var re=function(fe,$e,ot){var F=m.apply(this,[fe]);return ot?(F.then($e,ot),Promise.resolve()):F};Ae.setLocalDescription=re,re=function(fe,$e,ot){var F=U.apply(this,[fe]);return ot?(F.then($e,ot),Promise.resolve()):F},Ae.setRemoteDescription=re,re=function(fe,$e,ot){var F=le.apply(this,[fe]);return ot?(F.then($e,ot),Promise.resolve()):F},Ae.addIceCandidate=re}}function b(se){var Ae=se&&se.navigator;if(Ae.mediaDevices&&Ae.mediaDevices.getUserMedia){var qe=Ae.mediaDevices,me=qe.getUserMedia.bind(qe);Ae.mediaDevices.getUserMedia=function(m){return me(_(m))}}!Ae.getUserMedia&&Ae.mediaDevices&&Ae.mediaDevices.getUserMedia&&(Ae.getUserMedia=(function(U,le,re){Ae.mediaDevices.getUserMedia(U).then(le,re)}).bind(Ae))}function _(se){return se&&se.video!==void 0?Object.assign({},se,{video:u.compactObject(se.video)}):se}function oe(se){var Ae=se.RTCPeerConnection;se.RTCPeerConnection=function(me,m){if(me&&me.iceServers){for(var U=[],le=0;le<me.iceServers.length;le++){var re=me.iceServers[le];!re.hasOwnProperty("urls")&&re.hasOwnProperty("url")?(u.deprecated("RTCIceServer.url","RTCIceServer.urls"),re=JSON.parse(JSON.stringify(re)),re.urls=re.url,delete re.url,U.push(re)):U.push(me.iceServers[le])}me.iceServers=U}return new Ae(me,m)},se.RTCPeerConnection.prototype=Ae.prototype,"generateCertificate"in se.RTCPeerConnection&&Object.defineProperty(se.RTCPeerConnection,"generateCertificate",{get:function(){return Ae.generateCertificate}})}function de(se){(typeof se>"u"?"undefined":c(se))==="object"&&se.RTCTrackEvent&&"receiver"in se.RTCTrackEvent.prototype&&!("transceiver"in se.RTCTrackEvent.prototype)&&Object.defineProperty(se.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function xe(se){var Ae=se.RTCPeerConnection.prototype.createOffer;se.RTCPeerConnection.prototype.createOffer=function(me){if(me){typeof me.offerToReceiveAudio<"u"&&(me.offerToReceiveAudio=!!me.offerToReceiveAudio);var m=this.getTransceivers().find(function(le){return le.receiver.track.kind==="audio"});me.offerToReceiveAudio===!1&&m?m.direction==="sendrecv"?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":m.direction==="recvonly"&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):me.offerToReceiveAudio===!0&&!m&&this.addTransceiver("audio"),typeof me.offerToReceiveVideo<"u"&&(me.offerToReceiveVideo=!!me.offerToReceiveVideo);var U=this.getTransceivers().find(function(le){return le.receiver.track.kind==="video"});me.offerToReceiveVideo===!1&&U?U.direction==="sendrecv"?U.setDirection?U.setDirection("sendonly"):U.direction="sendonly":U.direction==="recvonly"&&(U.setDirection?U.setDirection("inactive"):U.direction="inactive"):me.offerToReceiveVideo===!0&&!U&&this.addTransceiver("video")}return Ae.apply(this,arguments)}}},{"../utils":15}],15:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var c=typeof Symbol=="function"&&K(Symbol.iterator)==="symbol"?function(me){return K(me)}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":K(me)};o.extractVersion=P,o.wrapPeerConnectionEvent=S,o.disableLog=R,o.disableWarnings=b,o.log=_,o.deprecated=oe,o.detectBrowser=de,o.compactObject=se,o.walkStats=Ae,o.filterStats=qe;function d(me,m,U){return m in me?Object.defineProperty(me,m,{value:U,enumerable:!0,configurable:!0,writable:!0}):me[m]=U,me}var u=!0,k=!0;function P(me,m,U){var le=me.match(m);return le&&le.length>=U&&parseInt(le[U],10)}function S(me,m,U){if(me.RTCPeerConnection){var le=me.RTCPeerConnection.prototype,re=le.addEventListener;le.addEventListener=function(fe,$e){if(fe!==m)return re.apply(this,arguments);var ot=function(Ie){var Ve=U(Ie);Ve&&$e(Ve)};return this._eventMap=this._eventMap||{},this._eventMap[$e]=ot,re.apply(this,[fe,ot])};var Pe=le.removeEventListener;le.removeEventListener=function(fe,$e){if(fe!==m||!this._eventMap||!this._eventMap[$e])return Pe.apply(this,arguments);var ot=this._eventMap[$e];return delete this._eventMap[$e],Pe.apply(this,[fe,ot])},Object.defineProperty(le,"on"+m,{get:function(){return this["_on"+m]},set:function($e){this["_on"+m]&&(this.removeEventListener(m,this["_on"+m]),delete this["_on"+m]),$e&&this.addEventListener(m,this["_on"+m]=$e)},enumerable:!0,configurable:!0})}}function R(me){return typeof me!="boolean"?new Error("Argument type: "+(typeof me>"u"?"undefined":c(me))+". Please use a boolean."):(u=me,me?"adapter.js logging disabled":"adapter.js logging enabled")}function b(me){return typeof me!="boolean"?new Error("Argument type: "+(typeof me>"u"?"undefined":c(me))+". Please use a boolean."):(k=!me,"adapter.js deprecation warnings "+(me?"disabled":"enabled"))}function _(){if((typeof window>"u"?"undefined":c(window))==="object"){if(u)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function oe(me,m){k&&console.warn(me+" is deprecated, please use "+m+" instead.")}function de(me){var m=me.navigator,U={browser:null,version:null};if(typeof me>"u"||!me.navigator)return U.browser="Not a browser.",U;if(m.mozGetUserMedia)U.browser="firefox",U.version=P(m.userAgent,/Firefox\/(\d+)\./,1);else if(m.webkitGetUserMedia||me.isSecureContext===!1&&me.webkitRTCPeerConnection&&!me.RTCIceGatherer)U.browser="chrome",U.version=P(m.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(m.mediaDevices&&m.userAgent.match(/Edge\/(\d+).(\d+)$/))U.browser="edge",U.version=P(m.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(me.RTCPeerConnection&&m.userAgent.match(/AppleWebKit\/(\d+)\./))U.browser="safari",U.version=P(m.userAgent,/AppleWebKit\/(\d+)\./,1),U.supportsUnifiedPlan=me.RTCRtpTransceiver&&"currentDirection"in me.RTCRtpTransceiver.prototype;else return U.browser="Not a supported browser.",U;return U}function xe(me){return Object.prototype.toString.call(me)==="[object Object]"}function se(me){return xe(me)?Object.keys(me).reduce(function(m,U){var le=xe(me[U]),re=le?se(me[U]):me[U],Pe=le&&!Object.keys(re).length;return re===void 0||Pe?m:Object.assign(m,d({},U,re))},{}):me}function Ae(me,m,U){!m||U.has(m.id)||(U.set(m.id,m),Object.keys(m).forEach(function(le){le.endsWith("Id")?Ae(me,me.get(m[le]),U):le.endsWith("Ids")&&m[le].forEach(function(re){Ae(me,me.get(re),U)})}))}function qe(me,m,U){var le=U?"outbound-rtp":"inbound-rtp",re=new Map;if(m===null)return re;var Pe=[];return me.forEach(function(fe){fe.type==="track"&&fe.trackIdentifier===m.id&&Pe.push(fe)}),Pe.forEach(function(fe){me.forEach(function($e){$e.type===le&&$e.trackId===fe.id&&Ae(me,$e,re)})}),re}},{}],16:[function(t,n,o){var c=t("sdp");function d(_){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[_.type]||_.type}function u(_,oe,de,xe,se){var Ae=c.writeRtpDescription(_.kind,oe);if(Ae+=c.writeIceParameters(_.iceGatherer.getLocalParameters()),Ae+=c.writeDtlsParameters(_.dtlsTransport.getLocalParameters(),de==="offer"?"actpass":se||"active"),Ae+="a=mid:"+_.mid+`\r
`,_.rtpSender&&_.rtpReceiver?Ae+=`a=sendrecv\r
`:_.rtpSender?Ae+=`a=sendonly\r
`:_.rtpReceiver?Ae+=`a=recvonly\r
`:Ae+=`a=inactive\r
`,_.rtpSender){var qe=_.rtpSender._initialTrackId||_.rtpSender.track.id;_.rtpSender._initialTrackId=qe;var me="msid:"+(xe?xe.id:"-")+" "+qe+`\r
`;Ae+="a="+me,Ae+="a=ssrc:"+_.sendEncodingParameters[0].ssrc+" "+me,_.sendEncodingParameters[0].rtx&&(Ae+="a=ssrc:"+_.sendEncodingParameters[0].rtx.ssrc+" "+me,Ae+="a=ssrc-group:FID "+_.sendEncodingParameters[0].ssrc+" "+_.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return Ae+="a=ssrc:"+_.sendEncodingParameters[0].ssrc+" cname:"+c.localCName+`\r
`,_.rtpSender&&_.sendEncodingParameters[0].rtx&&(Ae+="a=ssrc:"+_.sendEncodingParameters[0].rtx.ssrc+" cname:"+c.localCName+`\r
`),Ae}function k(_,oe){var de=!1;return _=JSON.parse(JSON.stringify(_)),_.filter(function(xe){if(xe&&(xe.urls||xe.url)){var se=xe.urls||xe.url;xe.url&&!xe.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var Ae=typeof se=="string";return Ae&&(se=[se]),se=se.filter(function(qe){var me=qe.indexOf("turn:")===0&&qe.indexOf("transport=udp")!==-1&&qe.indexOf("turn:[")===-1&&!de;return me?(de=!0,!0):qe.indexOf("stun:")===0&&oe>=14393&&qe.indexOf("?transport=udp")===-1}),delete xe.url,xe.urls=Ae?se[0]:se,!!se.length}})}function P(_,oe){var de={codecs:[],headerExtensions:[],fecMechanisms:[]},xe=function(qe,me){qe=parseInt(qe,10);for(var m=0;m<me.length;m++)if(me[m].payloadType===qe||me[m].preferredPayloadType===qe)return me[m]},se=function(qe,me,m,U){var le=xe(qe.parameters.apt,m),re=xe(me.parameters.apt,U);return le&&re&&le.name.toLowerCase()===re.name.toLowerCase()};return _.codecs.forEach(function(Ae){for(var qe=0;qe<oe.codecs.length;qe++){var me=oe.codecs[qe];if(Ae.name.toLowerCase()===me.name.toLowerCase()&&Ae.clockRate===me.clockRate){if(Ae.name.toLowerCase()==="rtx"&&Ae.parameters&&me.parameters.apt&&!se(Ae,me,_.codecs,oe.codecs))continue;me=JSON.parse(JSON.stringify(me)),me.numChannels=Math.min(Ae.numChannels,me.numChannels),de.codecs.push(me),me.rtcpFeedback=me.rtcpFeedback.filter(function(m){for(var U=0;U<Ae.rtcpFeedback.length;U++)if(Ae.rtcpFeedback[U].type===m.type&&Ae.rtcpFeedback[U].parameter===m.parameter)return!0;return!1});break}}}),_.headerExtensions.forEach(function(Ae){for(var qe=0;qe<oe.headerExtensions.length;qe++){var me=oe.headerExtensions[qe];if(Ae.uri===me.uri){de.headerExtensions.push(me);break}}}),de}function S(_,oe,de){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[oe][_].indexOf(de)!==-1}function R(_,oe){var de=_.getRemoteCandidates().find(function(xe){return oe.foundation===xe.foundation&&oe.ip===xe.ip&&oe.port===xe.port&&oe.priority===xe.priority&&oe.protocol===xe.protocol&&oe.type===xe.type});return de||_.addRemoteCandidate(oe),!de}function b(_,oe){var de=new Error(oe);return de.name=_,de.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[_],de}n.exports=function(_,oe){function de(m,U){U.addTrack(m),U.dispatchEvent(new _.MediaStreamTrackEvent("addtrack",{track:m}))}function xe(m,U){U.removeTrack(m),U.dispatchEvent(new _.MediaStreamTrackEvent("removetrack",{track:m}))}function se(m,U,le,re){var Pe=new Event("track");Pe.track=U,Pe.receiver=le,Pe.transceiver={receiver:le},Pe.streams=re,_.setTimeout(function(){m._dispatchEvent("track",Pe)})}var Ae=function(U){var le=this,re=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(fe){le[fe]=re[fe].bind(re)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",U=JSON.parse(JSON.stringify(U||{})),this.usingBundle=U.bundlePolicy==="max-bundle",U.rtcpMuxPolicy==="negotiate")throw b("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(U.rtcpMuxPolicy||(U.rtcpMuxPolicy="require"),U.iceTransportPolicy){case"all":case"relay":break;default:U.iceTransportPolicy="all";break}switch(U.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:U.bundlePolicy="balanced";break}if(U.iceServers=k(U.iceServers||[],oe),this._iceGatherers=[],U.iceCandidatePoolSize)for(var Pe=U.iceCandidatePoolSize;Pe>0;Pe--)this._iceGatherers.push(new _.RTCIceGatherer({iceServers:U.iceServers,gatherPolicy:U.iceTransportPolicy}));else U.iceCandidatePoolSize=0;this._config=U,this.transceivers=[],this._sdpSessionId=c.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(Ae.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(Ae.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),Ae.prototype.onicecandidate=null,Ae.prototype.onaddstream=null,Ae.prototype.ontrack=null,Ae.prototype.onremovestream=null,Ae.prototype.onsignalingstatechange=null,Ae.prototype.oniceconnectionstatechange=null,Ae.prototype.onconnectionstatechange=null,Ae.prototype.onicegatheringstatechange=null,Ae.prototype.onnegotiationneeded=null,Ae.prototype.ondatachannel=null,Ae.prototype._dispatchEvent=function(m,U){this._isClosed||(this.dispatchEvent(U),typeof this["on"+m]=="function"&&this["on"+m](U))},Ae.prototype._emitGatheringStateChange=function(){var m=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",m)},Ae.prototype.getConfiguration=function(){return this._config},Ae.prototype.getLocalStreams=function(){return this.localStreams},Ae.prototype.getRemoteStreams=function(){return this.remoteStreams},Ae.prototype._createTransceiver=function(m,U){var le=this.transceivers.length>0,re={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:m,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&le)re.iceTransport=this.transceivers[0].iceTransport,re.dtlsTransport=this.transceivers[0].dtlsTransport;else{var Pe=this._createIceAndDtlsTransports();re.iceTransport=Pe.iceTransport,re.dtlsTransport=Pe.dtlsTransport}return U||this.transceivers.push(re),re},Ae.prototype.addTrack=function(m,U){if(this._isClosed)throw b("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var le=this.transceivers.find(function(fe){return fe.track===m});if(le)throw b("InvalidAccessError","Track already exists.");for(var re,Pe=0;Pe<this.transceivers.length;Pe++)!this.transceivers[Pe].track&&this.transceivers[Pe].kind===m.kind&&(re=this.transceivers[Pe]);return re||(re=this._createTransceiver(m.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(U)===-1&&this.localStreams.push(U),re.track=m,re.stream=U,re.rtpSender=new _.RTCRtpSender(m,re.dtlsTransport),re.rtpSender},Ae.prototype.addStream=function(m){var U=this;if(oe>=15025)m.getTracks().forEach(function(re){U.addTrack(re,m)});else{var le=m.clone();m.getTracks().forEach(function(re,Pe){var fe=le.getTracks()[Pe];re.addEventListener("enabled",function($e){fe.enabled=$e.enabled})}),le.getTracks().forEach(function(re){U.addTrack(re,le)})}},Ae.prototype.removeTrack=function(m){if(this._isClosed)throw b("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(m instanceof _.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var U=this.transceivers.find(function(Pe){return Pe.rtpSender===m});if(!U)throw b("InvalidAccessError","Sender was not created by this connection.");var le=U.stream;U.rtpSender.stop(),U.rtpSender=null,U.track=null,U.stream=null;var re=this.transceivers.map(function(Pe){return Pe.stream});re.indexOf(le)===-1&&this.localStreams.indexOf(le)>-1&&this.localStreams.splice(this.localStreams.indexOf(le),1),this._maybeFireNegotiationNeeded()},Ae.prototype.removeStream=function(m){var U=this;m.getTracks().forEach(function(le){var re=U.getSenders().find(function(Pe){return Pe.track===le});re&&U.removeTrack(re)})},Ae.prototype.getSenders=function(){return this.transceivers.filter(function(m){return!!m.rtpSender}).map(function(m){return m.rtpSender})},Ae.prototype.getReceivers=function(){return this.transceivers.filter(function(m){return!!m.rtpReceiver}).map(function(m){return m.rtpReceiver})},Ae.prototype._createIceGatherer=function(m,U){var le=this;if(U&&m>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var re=new _.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(re,"state",{value:"new",writable:!0}),this.transceivers[m].bufferedCandidateEvents=[],this.transceivers[m].bufferCandidates=function(Pe){var fe=!Pe.candidate||Object.keys(Pe.candidate).length===0;re.state=fe?"completed":"gathering",le.transceivers[m].bufferedCandidateEvents!==null&&le.transceivers[m].bufferedCandidateEvents.push(Pe)},re.addEventListener("localcandidate",this.transceivers[m].bufferCandidates),re},Ae.prototype._gather=function(m,U){var le=this,re=this.transceivers[U].iceGatherer;if(!re.onlocalcandidate){var Pe=this.transceivers[U].bufferedCandidateEvents;this.transceivers[U].bufferedCandidateEvents=null,re.removeEventListener("localcandidate",this.transceivers[U].bufferCandidates),re.onlocalcandidate=function(fe){if(!(le.usingBundle&&U>0)){var $e=new Event("icecandidate");$e.candidate={sdpMid:m,sdpMLineIndex:U};var ot=fe.candidate,F=!ot||Object.keys(ot).length===0;if(F)(re.state==="new"||re.state==="gathering")&&(re.state="completed");else{re.state==="new"&&(re.state="gathering"),ot.component=1,ot.ufrag=re.getLocalParameters().usernameFragment;var Ie=c.writeCandidate(ot);$e.candidate=Object.assign($e.candidate,c.parseCandidate(Ie)),$e.candidate.candidate=Ie,$e.candidate.toJSON=function(){return{candidate:$e.candidate.candidate,sdpMid:$e.candidate.sdpMid,sdpMLineIndex:$e.candidate.sdpMLineIndex,usernameFragment:$e.candidate.usernameFragment}}}var Ve=c.getMediaSections(le._localDescription.sdp);F?Ve[$e.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:Ve[$e.candidate.sdpMLineIndex]+="a="+$e.candidate.candidate+`\r
`,le._localDescription.sdp=c.getDescription(le._localDescription.sdp)+Ve.join("");var yi=le.transceivers.every(function(Hi){return Hi.iceGatherer&&Hi.iceGatherer.state==="completed"});le.iceGatheringState!=="gathering"&&(le.iceGatheringState="gathering",le._emitGatheringStateChange()),F||le._dispatchEvent("icecandidate",$e),yi&&(le._dispatchEvent("icecandidate",new Event("icecandidate")),le.iceGatheringState="complete",le._emitGatheringStateChange())}},_.setTimeout(function(){Pe.forEach(function(fe){re.onlocalcandidate(fe)})},0)}},Ae.prototype._createIceAndDtlsTransports=function(){var m=this,U=new _.RTCIceTransport(null);U.onicestatechange=function(){m._updateIceConnectionState(),m._updateConnectionState()};var le=new _.RTCDtlsTransport(U);return le.ondtlsstatechange=function(){m._updateConnectionState()},le.onerror=function(){Object.defineProperty(le,"state",{value:"failed",writable:!0}),m._updateConnectionState()},{iceTransport:U,dtlsTransport:le}},Ae.prototype._disposeIceAndDtlsTransports=function(m){var U=this.transceivers[m].iceGatherer;U&&(delete U.onlocalcandidate,delete this.transceivers[m].iceGatherer);var le=this.transceivers[m].iceTransport;le&&(delete le.onicestatechange,delete this.transceivers[m].iceTransport);var re=this.transceivers[m].dtlsTransport;re&&(delete re.ondtlsstatechange,delete re.onerror,delete this.transceivers[m].dtlsTransport)},Ae.prototype._transceive=function(m,U,le){var re=P(m.localCapabilities,m.remoteCapabilities);U&&m.rtpSender&&(re.encodings=m.sendEncodingParameters,re.rtcp={cname:c.localCName,compound:m.rtcpParameters.compound},m.recvEncodingParameters.length&&(re.rtcp.ssrc=m.recvEncodingParameters[0].ssrc),m.rtpSender.send(re)),le&&m.rtpReceiver&&re.codecs.length>0&&(m.kind==="video"&&m.recvEncodingParameters&&oe<15019&&m.recvEncodingParameters.forEach(function(Pe){delete Pe.rtx}),m.recvEncodingParameters.length?re.encodings=m.recvEncodingParameters:re.encodings=[{}],re.rtcp={compound:m.rtcpParameters.compound},m.rtcpParameters.cname&&(re.rtcp.cname=m.rtcpParameters.cname),m.sendEncodingParameters.length&&(re.rtcp.ssrc=m.sendEncodingParameters[0].ssrc),m.rtpReceiver.receive(re))},Ae.prototype.setLocalDescription=function(m){var U=this;if(["offer","answer"].indexOf(m.type)===-1)return Promise.reject(b("TypeError",'Unsupported type "'+m.type+'"'));if(!S("setLocalDescription",m.type,U.signalingState)||U._isClosed)return Promise.reject(b("InvalidStateError","Can not set local "+m.type+" in state "+U.signalingState));var le,re;if(m.type==="offer")le=c.splitSections(m.sdp),re=le.shift(),le.forEach(function(fe,$e){var ot=c.parseRtpParameters(fe);U.transceivers[$e].localCapabilities=ot}),U.transceivers.forEach(function(fe,$e){U._gather(fe.mid,$e)});else if(m.type==="answer"){le=c.splitSections(U._remoteDescription.sdp),re=le.shift();var Pe=c.matchPrefix(re,"a=ice-lite").length>0;le.forEach(function(fe,$e){var ot=U.transceivers[$e],F=ot.iceGatherer,Ie=ot.iceTransport,Ve=ot.dtlsTransport,yi=ot.localCapabilities,Hi=ot.remoteCapabilities,Pi=c.isRejected(fe)&&c.matchPrefix(fe,"a=bundle-only").length===0;if(!Pi&&!ot.rejected){var Ci=c.getIceParameters(fe,re),Qi=c.getDtlsParameters(fe,re);Pe&&(Qi.role="server"),(!U.usingBundle||$e===0)&&(U._gather(ot.mid,$e),Ie.state==="new"&&Ie.start(F,Ci,Pe?"controlling":"controlled"),Ve.state==="new"&&Ve.start(Qi));var at=P(yi,Hi);U._transceive(ot,at.codecs.length>0,!1)}})}return U._localDescription={type:m.type,sdp:m.sdp},m.type==="offer"?U._updateSignalingState("have-local-offer"):U._updateSignalingState("stable"),Promise.resolve()},Ae.prototype.setRemoteDescription=function(m){var U=this;if(["offer","answer"].indexOf(m.type)===-1)return Promise.reject(b("TypeError",'Unsupported type "'+m.type+'"'));if(!S("setRemoteDescription",m.type,U.signalingState)||U._isClosed)return Promise.reject(b("InvalidStateError","Can not set remote "+m.type+" in state "+U.signalingState));var le={};U.remoteStreams.forEach(function(Ie){le[Ie.id]=Ie});var re=[],Pe=c.splitSections(m.sdp),fe=Pe.shift(),$e=c.matchPrefix(fe,"a=ice-lite").length>0,ot=c.matchPrefix(fe,"a=group:BUNDLE ").length>0;U.usingBundle=ot;var F=c.matchPrefix(fe,"a=ice-options:")[0];return F?U.canTrickleIceCandidates=F.substr(14).split(" ").indexOf("trickle")>=0:U.canTrickleIceCandidates=!1,Pe.forEach(function(Ie,Ve){var yi=c.splitLines(Ie),Hi=c.getKind(Ie),Pi=c.isRejected(Ie)&&c.matchPrefix(Ie,"a=bundle-only").length===0,Ci=yi[0].substr(2).split(" ")[2],Qi=c.getDirection(Ie,fe),at=c.parseMsid(Ie),pt=c.getMid(Ie)||c.generateIdentifier();if(Pi||Hi==="application"&&(Ci==="DTLS/SCTP"||Ci==="UDP/DTLS/SCTP")){U.transceivers[Ve]={mid:pt,kind:Hi,protocol:Ci,rejected:!0};return}!Pi&&U.transceivers[Ve]&&U.transceivers[Ve].rejected&&(U.transceivers[Ve]=U._createTransceiver(Hi,!0));var rt,We,ft,$t,ri,zt,ae,be,E,Q=c.parseRtpParameters(Ie),Ge,H;Pi||(Ge=c.getIceParameters(Ie,fe),H=c.getDtlsParameters(Ie,fe),H.role="client"),ae=c.parseRtpEncodingParameters(Ie);var _e=c.parseRtcpParameters(Ie),M=c.matchPrefix(Ie,"a=end-of-candidates",fe).length>0,z=c.matchPrefix(Ie,"a=candidate:").map(function(st){return c.parseCandidate(st)}).filter(function(st){return st.component===1});if((m.type==="offer"||m.type==="answer")&&!Pi&&ot&&Ve>0&&U.transceivers[Ve]&&(U._disposeIceAndDtlsTransports(Ve),U.transceivers[Ve].iceGatherer=U.transceivers[0].iceGatherer,U.transceivers[Ve].iceTransport=U.transceivers[0].iceTransport,U.transceivers[Ve].dtlsTransport=U.transceivers[0].dtlsTransport,U.transceivers[Ve].rtpSender&&U.transceivers[Ve].rtpSender.setTransport(U.transceivers[0].dtlsTransport),U.transceivers[Ve].rtpReceiver&&U.transceivers[Ve].rtpReceiver.setTransport(U.transceivers[0].dtlsTransport)),m.type==="offer"&&!Pi){rt=U.transceivers[Ve]||U._createTransceiver(Hi),rt.mid=pt,rt.iceGatherer||(rt.iceGatherer=U._createIceGatherer(Ve,ot)),z.length&&rt.iceTransport.state==="new"&&(M&&(!ot||Ve===0)?rt.iceTransport.setRemoteCandidates(z):z.forEach(function(st){R(rt.iceTransport,st)})),be=_.RTCRtpReceiver.getCapabilities(Hi),oe<15019&&(be.codecs=be.codecs.filter(function(st){return st.name!=="rtx"})),zt=rt.sendEncodingParameters||[{ssrc:(2*Ve+2)*1001}];var ce=!1;if(Qi==="sendrecv"||Qi==="sendonly"){if(ce=!rt.rtpReceiver,ri=rt.rtpReceiver||new _.RTCRtpReceiver(rt.dtlsTransport,Hi),ce){var ie;E=ri.track,at&&at.stream==="-"||(at?(le[at.stream]||(le[at.stream]=new _.MediaStream,Object.defineProperty(le[at.stream],"id",{get:function(){return at.stream}})),Object.defineProperty(E,"id",{get:function(){return at.track}}),ie=le[at.stream]):(le.default||(le.default=new _.MediaStream),ie=le.default)),ie&&(de(E,ie),rt.associatedRemoteMediaStreams.push(ie)),re.push([E,ri,ie])}}else rt.rtpReceiver&&rt.rtpReceiver.track&&(rt.associatedRemoteMediaStreams.forEach(function(st){var D=st.getTracks().find(function(Xe){return Xe.id===rt.rtpReceiver.track.id});D&&xe(D,st)}),rt.associatedRemoteMediaStreams=[]);rt.localCapabilities=be,rt.remoteCapabilities=Q,rt.rtpReceiver=ri,rt.rtcpParameters=_e,rt.sendEncodingParameters=zt,rt.recvEncodingParameters=ae,U._transceive(U.transceivers[Ve],!1,ce)}else if(m.type==="answer"&&!Pi){rt=U.transceivers[Ve],We=rt.iceGatherer,ft=rt.iceTransport,$t=rt.dtlsTransport,ri=rt.rtpReceiver,zt=rt.sendEncodingParameters,be=rt.localCapabilities,U.transceivers[Ve].recvEncodingParameters=ae,U.transceivers[Ve].remoteCapabilities=Q,U.transceivers[Ve].rtcpParameters=_e,z.length&&ft.state==="new"&&(($e||M)&&(!ot||Ve===0)?ft.setRemoteCandidates(z):z.forEach(function(st){R(rt.iceTransport,st)})),(!ot||Ve===0)&&(ft.state==="new"&&ft.start(We,Ge,"controlling"),$t.state==="new"&&$t.start(H));var Oe=P(rt.localCapabilities,rt.remoteCapabilities),Qe=Oe.codecs.filter(function(st){return st.name.toLowerCase()==="rtx"}).length;!Qe&&rt.sendEncodingParameters[0].rtx&&delete rt.sendEncodingParameters[0].rtx,U._transceive(rt,Qi==="sendrecv"||Qi==="recvonly",Qi==="sendrecv"||Qi==="sendonly"),ri&&(Qi==="sendrecv"||Qi==="sendonly")?(E=ri.track,at?(le[at.stream]||(le[at.stream]=new _.MediaStream),de(E,le[at.stream]),re.push([E,ri,le[at.stream]])):(le.default||(le.default=new _.MediaStream),de(E,le.default),re.push([E,ri,le.default]))):delete rt.rtpReceiver}}),U._dtlsRole===void 0&&(U._dtlsRole=m.type==="offer"?"active":"passive"),U._remoteDescription={type:m.type,sdp:m.sdp},m.type==="offer"?U._updateSignalingState("have-remote-offer"):U._updateSignalingState("stable"),Object.keys(le).forEach(function(Ie){var Ve=le[Ie];if(Ve.getTracks().length){if(U.remoteStreams.indexOf(Ve)===-1){U.remoteStreams.push(Ve);var yi=new Event("addstream");yi.stream=Ve,_.setTimeout(function(){U._dispatchEvent("addstream",yi)})}re.forEach(function(Hi){var Pi=Hi[0],Ci=Hi[1];Ve.id===Hi[2].id&&se(U,Pi,Ci,[Ve])})}}),re.forEach(function(Ie){Ie[2]||se(U,Ie[0],Ie[1],[])}),_.setTimeout(function(){U&&U.transceivers&&U.transceivers.forEach(function(Ie){Ie.iceTransport&&Ie.iceTransport.state==="new"&&Ie.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Ie.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},Ae.prototype.close=function(){this.transceivers.forEach(function(m){m.iceTransport&&m.iceTransport.stop(),m.dtlsTransport&&m.dtlsTransport.stop(),m.rtpSender&&m.rtpSender.stop(),m.rtpReceiver&&m.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},Ae.prototype._updateSignalingState=function(m){this.signalingState=m;var U=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",U)},Ae.prototype._maybeFireNegotiationNeeded=function(){var m=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,_.setTimeout(function(){if(m.needNegotiation){m.needNegotiation=!1;var U=new Event("negotiationneeded");m._dispatchEvent("negotiationneeded",U)}},0))},Ae.prototype._updateIceConnectionState=function(){var m,U={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(re){re.iceTransport&&!re.rejected&&U[re.iceTransport.state]++}),m="new",U.failed>0?m="failed":U.checking>0?m="checking":U.disconnected>0?m="disconnected":U.new>0?m="new":U.connected>0?m="connected":U.completed>0&&(m="completed"),m!==this.iceConnectionState){this.iceConnectionState=m;var le=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",le)}},Ae.prototype._updateConnectionState=function(){var m,U={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(re){re.iceTransport&&re.dtlsTransport&&!re.rejected&&(U[re.iceTransport.state]++,U[re.dtlsTransport.state]++)}),U.connected+=U.completed,m="new",U.failed>0?m="failed":U.connecting>0?m="connecting":U.disconnected>0?m="disconnected":U.new>0?m="new":U.connected>0&&(m="connected"),m!==this.connectionState){this.connectionState=m;var le=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",le)}},Ae.prototype.createOffer=function(){var m=this;if(m._isClosed)return Promise.reject(b("InvalidStateError","Can not call createOffer after close"));var U=m.transceivers.filter(function($e){return $e.kind==="audio"}).length,le=m.transceivers.filter(function($e){return $e.kind==="video"}).length,re=arguments[0];if(re){if(re.mandatory||re.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");re.offerToReceiveAudio!==void 0&&(re.offerToReceiveAudio===!0?U=1:re.offerToReceiveAudio===!1?U=0:U=re.offerToReceiveAudio),re.offerToReceiveVideo!==void 0&&(re.offerToReceiveVideo===!0?le=1:re.offerToReceiveVideo===!1?le=0:le=re.offerToReceiveVideo)}for(m.transceivers.forEach(function($e){$e.kind==="audio"?(U--,U<0&&($e.wantReceive=!1)):$e.kind==="video"&&(le--,le<0&&($e.wantReceive=!1))});U>0||le>0;)U>0&&(m._createTransceiver("audio"),U--),le>0&&(m._createTransceiver("video"),le--);var Pe=c.writeSessionBoilerplate(m._sdpSessionId,m._sdpSessionVersion++);m.transceivers.forEach(function($e,ot){var F=$e.track,Ie=$e.kind,Ve=$e.mid||c.generateIdentifier();$e.mid=Ve,$e.iceGatherer||($e.iceGatherer=m._createIceGatherer(ot,m.usingBundle));var yi=_.RTCRtpSender.getCapabilities(Ie);oe<15019&&(yi.codecs=yi.codecs.filter(function(Pi){return Pi.name!=="rtx"})),yi.codecs.forEach(function(Pi){Pi.name==="H264"&&Pi.parameters["level-asymmetry-allowed"]===void 0&&(Pi.parameters["level-asymmetry-allowed"]="1"),$e.remoteCapabilities&&$e.remoteCapabilities.codecs&&$e.remoteCapabilities.codecs.forEach(function(Ci){Pi.name.toLowerCase()===Ci.name.toLowerCase()&&Pi.clockRate===Ci.clockRate&&(Pi.preferredPayloadType=Ci.payloadType)})}),yi.headerExtensions.forEach(function(Pi){var Ci=$e.remoteCapabilities&&$e.remoteCapabilities.headerExtensions||[];Ci.forEach(function(Qi){Pi.uri===Qi.uri&&(Pi.id=Qi.id)})});var Hi=$e.sendEncodingParameters||[{ssrc:(2*ot+1)*1001}];F&&oe>=15019&&Ie==="video"&&!Hi[0].rtx&&(Hi[0].rtx={ssrc:Hi[0].ssrc+1}),$e.wantReceive&&($e.rtpReceiver=new _.RTCRtpReceiver($e.dtlsTransport,Ie)),$e.localCapabilities=yi,$e.sendEncodingParameters=Hi}),m._config.bundlePolicy!=="max-compat"&&(Pe+="a=group:BUNDLE "+m.transceivers.map(function($e){return $e.mid}).join(" ")+`\r
`),Pe+=`a=ice-options:trickle\r
`,m.transceivers.forEach(function($e,ot){Pe+=u($e,$e.localCapabilities,"offer",$e.stream,m._dtlsRole),Pe+=`a=rtcp-rsize\r
`,$e.iceGatherer&&m.iceGatheringState!=="new"&&(ot===0||!m.usingBundle)&&($e.iceGatherer.getLocalCandidates().forEach(function(F){F.component=1,Pe+="a="+c.writeCandidate(F)+`\r
`}),$e.iceGatherer.state==="completed"&&(Pe+=`a=end-of-candidates\r
`))});var fe=new _.RTCSessionDescription({type:"offer",sdp:Pe});return Promise.resolve(fe)},Ae.prototype.createAnswer=function(){var m=this;if(m._isClosed)return Promise.reject(b("InvalidStateError","Can not call createAnswer after close"));if(!(m.signalingState==="have-remote-offer"||m.signalingState==="have-local-pranswer"))return Promise.reject(b("InvalidStateError","Can not call createAnswer in signalingState "+m.signalingState));var U=c.writeSessionBoilerplate(m._sdpSessionId,m._sdpSessionVersion++);m.usingBundle&&(U+="a=group:BUNDLE "+m.transceivers.map(function(Pe){return Pe.mid}).join(" ")+`\r
`),U+=`a=ice-options:trickle\r
`;var le=c.getMediaSections(m._remoteDescription.sdp).length;m.transceivers.forEach(function(Pe,fe){if(!(fe+1>le)){if(Pe.rejected){Pe.kind==="application"?Pe.protocol==="DTLS/SCTP"?U+=`m=application 0 DTLS/SCTP 5000\r
`:U+="m=application 0 "+Pe.protocol+` webrtc-datachannel\r
`:Pe.kind==="audio"?U+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:Pe.kind==="video"&&(U+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),U+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+Pe.mid+`\r
`;return}if(Pe.stream){var $e;Pe.kind==="audio"?$e=Pe.stream.getAudioTracks()[0]:Pe.kind==="video"&&($e=Pe.stream.getVideoTracks()[0]),$e&&oe>=15019&&Pe.kind==="video"&&!Pe.sendEncodingParameters[0].rtx&&(Pe.sendEncodingParameters[0].rtx={ssrc:Pe.sendEncodingParameters[0].ssrc+1})}var ot=P(Pe.localCapabilities,Pe.remoteCapabilities),F=ot.codecs.filter(function(Ie){return Ie.name.toLowerCase()==="rtx"}).length;!F&&Pe.sendEncodingParameters[0].rtx&&delete Pe.sendEncodingParameters[0].rtx,U+=u(Pe,ot,"answer",Pe.stream,m._dtlsRole),Pe.rtcpParameters&&Pe.rtcpParameters.reducedSize&&(U+=`a=rtcp-rsize\r
`)}});var re=new _.RTCSessionDescription({type:"answer",sdp:U});return Promise.resolve(re)},Ae.prototype.addIceCandidate=function(m){var U=this,le;return m&&!(m.sdpMLineIndex!==void 0||m.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(re,Pe){if(U._remoteDescription)if(!m||m.candidate==="")for(var fe=0;fe<U.transceivers.length&&!(!U.transceivers[fe].rejected&&(U.transceivers[fe].iceTransport.addRemoteCandidate({}),le=c.getMediaSections(U._remoteDescription.sdp),le[fe]+=`a=end-of-candidates\r
`,U._remoteDescription.sdp=c.getDescription(U._remoteDescription.sdp)+le.join(""),U.usingBundle));fe++);else{var $e=m.sdpMLineIndex;if(m.sdpMid){for(var ot=0;ot<U.transceivers.length;ot++)if(U.transceivers[ot].mid===m.sdpMid){$e=ot;break}}var F=U.transceivers[$e];if(F){if(F.rejected)return re();var Ie=Object.keys(m.candidate).length>0?c.parseCandidate(m.candidate):{};if(Ie.protocol==="tcp"&&(Ie.port===0||Ie.port===9)||Ie.component&&Ie.component!==1)return re();if(($e===0||$e>0&&F.iceTransport!==U.transceivers[0].iceTransport)&&!R(F.iceTransport,Ie))return Pe(b("OperationError","Can not add ICE candidate"));var Ve=m.candidate.trim();Ve.indexOf("a=")===0&&(Ve=Ve.substr(2)),le=c.getMediaSections(U._remoteDescription.sdp),le[$e]+="a="+(Ie.type?Ve:"end-of-candidates")+`\r
`,U._remoteDescription.sdp=c.getDescription(U._remoteDescription.sdp)+le.join("")}else return Pe(b("OperationError","Can not add ICE candidate"))}else return Pe(b("InvalidStateError","Can not add ICE candidate without a remote description"));re()})},Ae.prototype.getStats=function(m){if(m&&m instanceof _.MediaStreamTrack){var U=null;if(this.transceivers.forEach(function(re){re.rtpSender&&re.rtpSender.track===m?U=re.rtpSender:re.rtpReceiver&&re.rtpReceiver.track===m&&(U=re.rtpReceiver)}),!U)throw b("InvalidAccessError","Invalid selector.");return U.getStats()}var le=[];return this.transceivers.forEach(function(re){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(Pe){re[Pe]&&le.push(re[Pe].getStats())})}),Promise.all(le).then(function(re){var Pe=new Map;return re.forEach(function(fe){fe.forEach(function($e){Pe.set($e.id,$e)})}),Pe})};var qe=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];qe.forEach(function(m){var U=_[m];if(U&&U.prototype&&U.prototype.getStats){var le=U.prototype.getStats;U.prototype.getStats=function(){return le.apply(this).then(function(re){var Pe=new Map;return Object.keys(re).forEach(function(fe){re[fe].type=d(re[fe]),Pe.set(fe,re[fe])}),Pe})}}});var me=["createOffer","createAnswer"];return me.forEach(function(m){var U=Ae.prototype[m];Ae.prototype[m]=function(){var le=arguments;return typeof le[0]=="function"||typeof le[1]=="function"?U.apply(this,[arguments[2]]).then(function(re){typeof le[0]=="function"&&le[0].apply(null,[re])},function(re){typeof le[1]=="function"&&le[1].apply(null,[re])}):U.apply(this,arguments)}}),me=["setLocalDescription","setRemoteDescription","addIceCandidate"],me.forEach(function(m){var U=Ae.prototype[m];Ae.prototype[m]=function(){var le=arguments;return typeof le[1]=="function"||typeof le[2]=="function"?U.apply(this,arguments).then(function(){typeof le[1]=="function"&&le[1].apply(null)},function(re){typeof le[2]=="function"&&le[2].apply(null,[re])}):U.apply(this,arguments)}}),["getStats"].forEach(function(m){var U=Ae.prototype[m];Ae.prototype[m]=function(){var le=arguments;return typeof le[1]=="function"?U.apply(this,arguments).then(function(){typeof le[1]=="function"&&le[1].apply(null)}):U.apply(this,arguments)}}),Ae}},{sdp:17}],17:[function(t,n,o){var c={};c.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},c.localCName=c.generateIdentifier(),c.splitLines=function(d){return d.trim().split(`
`).map(function(u){return u.trim()})},c.splitSections=function(d){var u=d.split(`
m=`);return u.map(function(k,P){return(P>0?"m="+k:k).trim()+`\r
`})},c.getDescription=function(d){var u=c.splitSections(d);return u&&u[0]},c.getMediaSections=function(d){var u=c.splitSections(d);return u.shift(),u},c.matchPrefix=function(d,u){return c.splitLines(d).filter(function(k){return k.indexOf(u)===0})},c.parseCandidate=function(d){var u;d.indexOf("a=candidate:")===0?u=d.substring(12).split(" "):u=d.substring(10).split(" ");for(var k={foundation:u[0],component:parseInt(u[1],10),protocol:u[2].toLowerCase(),priority:parseInt(u[3],10),ip:u[4],address:u[4],port:parseInt(u[5],10),type:u[7]},P=8;P<u.length;P+=2)switch(u[P]){case"raddr":k.relatedAddress=u[P+1];break;case"rport":k.relatedPort=parseInt(u[P+1],10);break;case"tcptype":k.tcpType=u[P+1];break;case"ufrag":k.ufrag=u[P+1],k.usernameFragment=u[P+1];break;default:k[u[P]]=u[P+1];break}return k},c.writeCandidate=function(d){var u=[];u.push(d.foundation),u.push(d.component),u.push(d.protocol.toUpperCase()),u.push(d.priority),u.push(d.address||d.ip),u.push(d.port);var k=d.type;return u.push("typ"),u.push(k),k!=="host"&&d.relatedAddress&&d.relatedPort&&(u.push("raddr"),u.push(d.relatedAddress),u.push("rport"),u.push(d.relatedPort)),d.tcpType&&d.protocol.toLowerCase()==="tcp"&&(u.push("tcptype"),u.push(d.tcpType)),(d.usernameFragment||d.ufrag)&&(u.push("ufrag"),u.push(d.usernameFragment||d.ufrag)),"candidate:"+u.join(" ")},c.parseIceOptions=function(d){return d.substr(14).split(" ")},c.parseRtpMap=function(d){var u=d.substr(9).split(" "),k={payloadType:parseInt(u.shift(),10)};return u=u[0].split("/"),k.name=u[0],k.clockRate=parseInt(u[1],10),k.channels=u.length===3?parseInt(u[2],10):1,k.numChannels=k.channels,k},c.writeRtpMap=function(d){var u=d.payloadType;d.preferredPayloadType!==void 0&&(u=d.preferredPayloadType);var k=d.channels||d.numChannels||1;return"a=rtpmap:"+u+" "+d.name+"/"+d.clockRate+(k!==1?"/"+k:"")+`\r
`},c.parseExtmap=function(d){var u=d.substr(9).split(" ");return{id:parseInt(u[0],10),direction:u[0].indexOf("/")>0?u[0].split("/")[1]:"sendrecv",uri:u[1]}},c.writeExtmap=function(d){return"a=extmap:"+(d.id||d.preferredId)+(d.direction&&d.direction!=="sendrecv"?"/"+d.direction:"")+" "+d.uri+`\r
`},c.parseFmtp=function(d){for(var u={},k,P=d.substr(d.indexOf(" ")+1).split(";"),S=0;S<P.length;S++)k=P[S].trim().split("="),u[k[0].trim()]=k[1];return u},c.writeFmtp=function(d){var u="",k=d.payloadType;if(d.preferredPayloadType!==void 0&&(k=d.preferredPayloadType),d.parameters&&Object.keys(d.parameters).length){var P=[];Object.keys(d.parameters).forEach(function(S){d.parameters[S]?P.push(S+"="+d.parameters[S]):P.push(S)}),u+="a=fmtp:"+k+" "+P.join(";")+`\r
`}return u},c.parseRtcpFb=function(d){var u=d.substr(d.indexOf(" ")+1).split(" ");return{type:u.shift(),parameter:u.join(" ")}},c.writeRtcpFb=function(d){var u="",k=d.payloadType;return d.preferredPayloadType!==void 0&&(k=d.preferredPayloadType),d.rtcpFeedback&&d.rtcpFeedback.length&&d.rtcpFeedback.forEach(function(P){u+="a=rtcp-fb:"+k+" "+P.type+(P.parameter&&P.parameter.length?" "+P.parameter:"")+`\r
`}),u},c.parseSsrcMedia=function(d){var u=d.indexOf(" "),k={ssrc:parseInt(d.substr(7,u-7),10)},P=d.indexOf(":",u);return P>-1?(k.attribute=d.substr(u+1,P-u-1),k.value=d.substr(P+1)):k.attribute=d.substr(u+1),k},c.parseSsrcGroup=function(d){var u=d.substr(13).split(" ");return{semantics:u.shift(),ssrcs:u.map(function(k){return parseInt(k,10)})}},c.getMid=function(d){var u=c.matchPrefix(d,"a=mid:")[0];if(u)return u.substr(6)},c.parseFingerprint=function(d){var u=d.substr(14).split(" ");return{algorithm:u[0].toLowerCase(),value:u[1]}},c.getDtlsParameters=function(d,u){var k=c.matchPrefix(d+u,"a=fingerprint:");return{role:"auto",fingerprints:k.map(c.parseFingerprint)}},c.writeDtlsParameters=function(d,u){var k="a=setup:"+u+`\r
`;return d.fingerprints.forEach(function(P){k+="a=fingerprint:"+P.algorithm+" "+P.value+`\r
`}),k},c.getIceParameters=function(d,u){var k=c.splitLines(d);k=k.concat(c.splitLines(u));var P={usernameFragment:k.filter(function(S){return S.indexOf("a=ice-ufrag:")===0})[0].substr(12),password:k.filter(function(S){return S.indexOf("a=ice-pwd:")===0})[0].substr(10)};return P},c.writeIceParameters=function(d){return"a=ice-ufrag:"+d.usernameFragment+`\r
a=ice-pwd:`+d.password+`\r
`},c.parseRtpParameters=function(d){for(var u={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},k=c.splitLines(d),P=k[0].split(" "),S=3;S<P.length;S++){var R=P[S],b=c.matchPrefix(d,"a=rtpmap:"+R+" ")[0];if(b){var _=c.parseRtpMap(b),oe=c.matchPrefix(d,"a=fmtp:"+R+" ");switch(_.parameters=oe.length?c.parseFmtp(oe[0]):{},_.rtcpFeedback=c.matchPrefix(d,"a=rtcp-fb:"+R+" ").map(c.parseRtcpFb),u.codecs.push(_),_.name.toUpperCase()){case"RED":case"ULPFEC":u.fecMechanisms.push(_.name.toUpperCase());break}}}return c.matchPrefix(d,"a=extmap:").forEach(function(de){u.headerExtensions.push(c.parseExtmap(de))}),u},c.writeRtpDescription=function(d,u){var k="";k+="m="+d+" ",k+=u.codecs.length>0?"9":"0",k+=" UDP/TLS/RTP/SAVPF ",k+=u.codecs.map(function(S){return S.preferredPayloadType!==void 0?S.preferredPayloadType:S.payloadType}).join(" ")+`\r
`,k+=`c=IN IP4 0.0.0.0\r
`,k+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,u.codecs.forEach(function(S){k+=c.writeRtpMap(S),k+=c.writeFmtp(S),k+=c.writeRtcpFb(S)});var P=0;return u.codecs.forEach(function(S){S.maxptime>P&&(P=S.maxptime)}),P>0&&(k+="a=maxptime:"+P+`\r
`),k+=`a=rtcp-mux\r
`,u.headerExtensions&&u.headerExtensions.forEach(function(S){k+=c.writeExtmap(S)}),k},c.parseRtpEncodingParameters=function(d){var u=[],k=c.parseRtpParameters(d),P=k.fecMechanisms.indexOf("RED")!==-1,S=k.fecMechanisms.indexOf("ULPFEC")!==-1,R=c.matchPrefix(d,"a=ssrc:").map(function(xe){return c.parseSsrcMedia(xe)}).filter(function(xe){return xe.attribute==="cname"}),b=R.length>0&&R[0].ssrc,_,oe=c.matchPrefix(d,"a=ssrc-group:FID").map(function(xe){var se=xe.substr(17).split(" ");return se.map(function(Ae){return parseInt(Ae,10)})});oe.length>0&&oe[0].length>1&&oe[0][0]===b&&(_=oe[0][1]),k.codecs.forEach(function(xe){if(xe.name.toUpperCase()==="RTX"&&xe.parameters.apt){var se={ssrc:b,codecPayloadType:parseInt(xe.parameters.apt,10)};b&&_&&(se.rtx={ssrc:_}),u.push(se),P&&(se=JSON.parse(JSON.stringify(se)),se.fec={ssrc:b,mechanism:S?"red+ulpfec":"red"},u.push(se))}}),u.length===0&&b&&u.push({ssrc:b});var de=c.matchPrefix(d,"b=");return de.length&&(de[0].indexOf("b=TIAS:")===0?de=parseInt(de[0].substr(7),10):de[0].indexOf("b=AS:")===0?de=parseInt(de[0].substr(5),10)*1e3*.95-50*40*8:de=void 0,u.forEach(function(xe){xe.maxBitrate=de})),u},c.parseRtcpParameters=function(d){var u={},k=c.matchPrefix(d,"a=ssrc:").map(function(R){return c.parseSsrcMedia(R)}).filter(function(R){return R.attribute==="cname"})[0];k&&(u.cname=k.value,u.ssrc=k.ssrc);var P=c.matchPrefix(d,"a=rtcp-rsize");u.reducedSize=P.length>0,u.compound=P.length===0;var S=c.matchPrefix(d,"a=rtcp-mux");return u.mux=S.length>0,u},c.parseMsid=function(d){var u,k=c.matchPrefix(d,"a=msid:");if(k.length===1)return u=k[0].substr(7).split(" "),{stream:u[0],track:u[1]};var P=c.matchPrefix(d,"a=ssrc:").map(function(S){return c.parseSsrcMedia(S)}).filter(function(S){return S.attribute==="msid"});if(P.length>0)return u=P[0].value.split(" "),{stream:u[0],track:u[1]}},c.parseSctpDescription=function(d){var u=c.parseMLine(d),k=c.matchPrefix(d,"a=max-message-size:"),P;k.length>0&&(P=parseInt(k[0].substr(19),10)),isNaN(P)&&(P=65536);var S=c.matchPrefix(d,"a=sctp-port:");if(S.length>0)return{port:parseInt(S[0].substr(12),10),protocol:u.fmt,maxMessageSize:P};var R=c.matchPrefix(d,"a=sctpmap:");if(R.length>0){var b=c.matchPrefix(d,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(b[0],10),protocol:b[1],maxMessageSize:P}}},c.writeSctpDescription=function(d,u){var k=[];return d.protocol!=="DTLS/SCTP"?k=["m="+d.kind+" 9 "+d.protocol+" "+u.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+u.port+`\r
`]:k=["m="+d.kind+" 9 "+d.protocol+" "+u.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+u.port+" "+u.protocol+` 65535\r
`],u.maxMessageSize!==void 0&&k.push("a=max-message-size:"+u.maxMessageSize+`\r
`),k.join("")},c.generateSessionId=function(){return Math.random().toString().substr(2,21)},c.writeSessionBoilerplate=function(d,u,k){var P,S=u!==void 0?u:2;d?P=d:P=c.generateSessionId();var R=k||"thisisadapterortc";return`v=0\r
o=`+R+" "+P+" "+S+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},c.writeMediaSection=function(d,u,k,P){var S=c.writeRtpDescription(d.kind,u);if(S+=c.writeIceParameters(d.iceGatherer.getLocalParameters()),S+=c.writeDtlsParameters(d.dtlsTransport.getLocalParameters(),k==="offer"?"actpass":"active"),S+="a=mid:"+d.mid+`\r
`,d.direction?S+="a="+d.direction+`\r
`:d.rtpSender&&d.rtpReceiver?S+=`a=sendrecv\r
`:d.rtpSender?S+=`a=sendonly\r
`:d.rtpReceiver?S+=`a=recvonly\r
`:S+=`a=inactive\r
`,d.rtpSender){var R="msid:"+P.id+" "+d.rtpSender.track.id+`\r
`;S+="a="+R,S+="a=ssrc:"+d.sendEncodingParameters[0].ssrc+" "+R,d.sendEncodingParameters[0].rtx&&(S+="a=ssrc:"+d.sendEncodingParameters[0].rtx.ssrc+" "+R,S+="a=ssrc-group:FID "+d.sendEncodingParameters[0].ssrc+" "+d.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return S+="a=ssrc:"+d.sendEncodingParameters[0].ssrc+" cname:"+c.localCName+`\r
`,d.rtpSender&&d.sendEncodingParameters[0].rtx&&(S+="a=ssrc:"+d.sendEncodingParameters[0].rtx.ssrc+" cname:"+c.localCName+`\r
`),S},c.getDirection=function(d,u){for(var k=c.splitLines(d),P=0;P<k.length;P++)switch(k[P]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return k[P].substr(2)}return u?c.getDirection(u):"sendrecv"},c.getKind=function(d){var u=c.splitLines(d),k=u[0].split(" ");return k[0].substr(2)},c.isRejected=function(d){return d.split(" ",2)[1]==="0"},c.parseMLine=function(d){var u=c.splitLines(d),k=u[0].substr(2).split(" ");return{kind:k[0],port:parseInt(k[1],10),protocol:k[2],fmt:k.slice(3).join(" ")}},c.parseOLine=function(d){var u=c.matchPrefix(d,"o=")[0],k=u.substr(2).split(" ");return{username:k[0],sessionId:k[1],sessionVersion:parseInt(k[2],10),netType:k[3],addressType:k[4],address:k[5]}},c.isValidSDP=function(d){if(typeof d!="string"||d.length===0)return!1;for(var u=c.splitLines(d),k=0;k<u.length;k++)if(u[k].length<2||u[k].charAt(1)!=="=")return!1;return!0},K(n)==="object"&&(n.exports=c)},{}]},{},[1])(1)})})(e0),tt.sessions={},tt.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var J=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),g=33;return window.navigator.userAgent.match("Linux")&&(g=35),J>=26&&J<=g?!0:tt.extension.isInstalled()}else return!0};var _l={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return document.querySelector("#janus-extension-installed")!==null},getScreen:function(g){var t=window.setTimeout(function(){var n=new Error("NavigatorUserMediaError");return n.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',g(n)},1e3);this.cache[t]=g,window.postMessage({type:"janusGetScreen",id:t},"*")},init:function(){var g={};this.cache=g,window.addEventListener("message",function(t){if(t.origin==window.location.origin)if(t.data.type=="janusGotScreen"&&g[t.data.id]){var n=g[t.data.id];if(delete g[t.data.id],t.data.sourceId===""){var o=new Error("NavigatorUserMediaError");o.name="You cancelled the request for permission, giving up...",n(o)}else n(null,t.data.sourceId)}else t.data.type=="janusGetScreenPending"&&(console.log("clearing ",t.data.id),window.clearTimeout(t.data.id))})}};tt.useDefaultDependencies=function(J){var g=J&&J.fetch||fetch,t=J&&J.Promise||Promise,n=J&&J.WebSocket||WebSocket;return{newWebSocket:function(c,d){return new n(c,d)},extension:J&&J.extension||_l,isArray:function(c){return Array.isArray(c)},webRTCAdapter:J&&J.adapter||window.adapter,httpAPICall:function(c,d){var u={method:d.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};d.verb==="POST"&&(u.headers["Content-Type"]="application/json"),d.withCredentials!==void 0&&(u.credentials=d.withCredentials===!0?"include":d.withCredentials?d.withCredentials:"omit"),d.body!==void 0&&(u.body=JSON.stringify(d.body));var k=g(c,u).catch(function(S){return t.reject({message:"Probably a network error, is the server down?",error:S})});if(d.timeout!==void 0){var P=new t(function(S,R){var b=setTimeout(function(){return clearTimeout(b),R({message:"Request timed out",timeout:d.timeout})},d.timeout)});k=t.race([k,P])}return k.then(function(S){if(S.ok){if(K(d.success)===K(tt.noop))return S.json().then(function(R){d.success(R)}).catch(function(R){return t.reject({message:"Failed to parse response body",error:R,response:S})})}else return t.reject({message:"API call failed",response:S})}).catch(function(S){K(d.error)===K(tt.noop)&&d.error(S.message||"<< internal error >>",S)}),k}}},tt.useOldDependencies=function(J){var g=J&&J.jQuery||jQuery,t=J&&J.WebSocket||WebSocket;return{newWebSocket:function(o,c){return new t(o,c)},isArray:function(o){return g.isArray(o)},extension:J&&J.extension||_l,webRTCAdapter:J&&J.adapter||adapter,httpAPICall:function(o,c){var d=c.body!==void 0?{contentType:"application/json",data:JSON.stringify(c.body)}:{},u=c.withCredentials!==void 0?{xhrFields:{withCredentials:c.withCredentials}}:{};return g.ajax(g.extend(d,u,{url:o,type:c.verb,cache:!1,dataType:"json",async:c.async,timeout:c.timeout,success:function(P){K(c.success)===K(tt.noop)&&c.success(P)},error:function(P,S,R){K(c.error)===K(tt.noop)&&c.error(S,R)}}))}}},tt.noop=function(){},tt.dataChanDefaultLabel="JanusDataChannel",tt.endOfCandidates=null,tt.init=function(J){if(J=J||{},J.callback=typeof J.callback=="function"?J.callback:tt.noop,tt.initDone===!0)J.callback();else{if((typeof console>"u"||typeof console.log>"u")&&(console={log:function(){}}),tt.trace=tt.noop,tt.debug=tt.noop,tt.vdebug=tt.noop,tt.log=tt.noop,tt.warn=tt.noop,tt.error=tt.noop,J.debug===!0||J.debug==="all")tt.trace=console.trace.bind(console),tt.debug=console.debug.bind(console),tt.vdebug=console.debug.bind(console),tt.log=console.log.bind(console),tt.warn=console.warn.bind(console),tt.error=console.error.bind(console);else if(Array.isArray(J.debug))for(var g in J.debug){var t=J.debug[g];switch(t){case"trace":tt.trace=console.trace.bind(console);break;case"debug":tt.debug=console.debug.bind(console);break;case"vdebug":tt.vdebug=console.debug.bind(console);break;case"log":tt.log=console.log.bind(console);break;case"warn":tt.warn=console.warn.bind(console);break;case"error":tt.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+t+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')");break}}tt.log("Initializing library");var n=J.dependencies||tt.useDefaultDependencies();tt.isArray=n.isArray,tt.webRTCAdapter=n.webRTCAdapter,tt.httpAPICall=n.httpAPICall,tt.newWebSocket=n.newWebSocket,tt.extension=n.extension,tt.extension.init(),tt.listDevices=function(S,R){S=typeof S=="function"?S:tt.noop,R==null&&(R={audio:!0,video:!0}),tt.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(R).then(function(b){navigator.mediaDevices.enumerateDevices().then(function(_){tt.debug(_),S(_);try{var oe=b.getTracks();for(var de in oe){var xe=oe[de];xe!=null&&xe.stop()}}catch{}})}).catch(function(b){tt.error(b),S([])}):(tt.warn("navigator.mediaDevices unavailable"),S([]))},tt.attachMediaStream=function(S,R){if(tt.webRTCAdapter.browserDetails.browser==="chrome"){var b=tt.webRTCAdapter.browserDetails.version;b>=52?S.srcObject=R:tt.error("Error attaching stream to element")}else S.srcObject=R},tt.reattachMediaStream=function(S,R){if(tt.webRTCAdapter.browserDetails.browser==="chrome"){var b=tt.webRTCAdapter.browserDetails.version;b>=52?S.srcObject=R.srcObject:typeof S.src<"u"?S.src=R.src:tt.error("Error reattaching stream to element")}else S.srcObject=R.srcObject};var o=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0,c=o?"pagehide":"beforeunload",d=window["on"+c];if(window.addEventListener(c,function(S){tt.log("Closing window");for(var R in tt.sessions)tt.sessions[R]!==null&&tt.sessions[R]!==void 0&&tt.sessions[R].destroyOnUnload&&(tt.log("Destroying session "+R),tt.sessions[R].destroy({asyncRequest:!1,notifyDestroyed:!1}));d&&typeof d=="function"&&d()}),tt.safariVp8=!1,tt.webRTCAdapter.browserDetails.browser==="safari"&&tt.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){for(var g in RTCRtpSender.getCapabilities("video").codecs){var u=RTCRtpSender.getCapabilities("video").codecs[g];if(u&&u.mimeType&&u.mimeType.toLowerCase()==="video/vp8"){tt.safariVp8=!0;break}}tt.safariVp8?tt.log("This version of Safari supports VP8"):tt.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var k=new RTCPeerConnection({},{});k.createOffer({offerToReceiveVideo:!0}).then(function(S){tt.safariVp8=S.sdp.indexOf("VP8")!==-1,tt.safariVp8?tt.log("This version of Safari supports VP8"):tt.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),k.close(),k=null})}if(tt.unifiedPlan=!1,tt.webRTCAdapter.browserDetails.browser==="firefox"&&tt.webRTCAdapter.browserDetails.version>=59)tt.unifiedPlan=!0;else if(tt.webRTCAdapter.browserDetails.browser==="chrome"&&tt.webRTCAdapter.browserDetails.version<72)tt.unifiedPlan=!1;else if(typeof RTCRtpTransceiver<"u"&&!("currentDirection"in RTCRtpTransceiver.prototype))tt.unifiedPlan=!1;else{var P=new RTCPeerConnection;try{P.addTransceiver("audio"),tt.unifiedPlan=!0}catch{}P.close()}tt.initDone=!0,J.callback()}},tt.isWebrtcSupported=function(){return window.RTCPeerConnection!==void 0&&window.RTCPeerConnection!==null},tt.isGetUserMediaAvailable=function(){return navigator.mediaDevices!==void 0&&navigator.mediaDevices!==null&&navigator.mediaDevices.getUserMedia!==void 0&&navigator.mediaDevices.getUserMedia!==null},tt.randomString=function(J){for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<J;n++){var o=Math.floor(Math.random()*g.length);t+=g.substring(o,o+1)}return t};function tt(J){if(tt.initDone===void 0)return J.error("Library not initialized"),{};if(!tt.isWebrtcSupported())return J.error("WebRTC not supported by this browser"),{};if(tt.log("Library initialized: "+tt.initDone),J=J||{},J.success=typeof J.success=="function"?J.success:tt.noop,J.error=typeof J.error=="function"?J.error:tt.noop,J.destroyed=typeof J.destroyed=="function"?J.destroyed:tt.noop,J.server===null||J.server===void 0)return J.error("Invalid server url"),{};var g=!1,t=null,n={},o=null,c=null,d=0,u=J.server;tt.isArray(u)?(tt.log("Multiple servers provided ("+u.length+"), will use the first that works"),u=null,c=J.server,tt.debug(c)):u.indexOf("ws")===0?(g=!0,tt.log("Using WebSockets to contact Janus: "+u)):(g=!1,tt.log("Using REST API to contact Janus: "+u));var k=J.iceServers;k==null&&(k=[{urls:"stun:stun.l.google.com:19302"}]);var P=J.iceTransportPolicy,S=J.bundlePolicy,R=J.ipv6;R==null&&(R=!1);var b=!1;J.withCredentials!==void 0&&J.withCredentials!==null&&(b=J.withCredentials===!0);var _=10;J.max_poll_events!==void 0&&J.max_poll_events!==null&&(_=J.max_poll_events),_<1&&(_=1);var oe=null;J.token!==void 0&&J.token!==null&&(oe=J.token);var de=null;J.apisecret!==void 0&&J.apisecret!==null&&(de=J.apisecret),this.destroyOnUnload=!0,J.destroyOnUnload!==void 0&&J.destroyOnUnload!==null&&(this.destroyOnUnload=J.destroyOnUnload===!0);var xe=25e3;J.keepAlivePeriod!==void 0&&J.keepAlivePeriod!==null&&(xe=J.keepAlivePeriod),isNaN(xe)&&(xe=25e3);var se=6e4;J.longPollTimeout!==void 0&&J.longPollTimeout!==null&&(se=J.longPollTimeout),isNaN(se)&&(se=6e4);function Ae(D){var Xe={high:9e5,medium:3e5,low:1e5};return D!=null&&(D.high&&(Xe.high=D.high),D.medium&&(Xe.medium=D.medium),D.low&&(Xe.low=D.low)),Xe}var qe=!1,me=null,m={},U=this,le=0,re={};ot(J),this.getServer=function(){return u},this.isConnected=function(){return qe},this.reconnect=function(D){D=D||{},D.success=typeof D.success=="function"?D.success:tt.noop,D.error=typeof D.error=="function"?D.error:tt.noop,D.reconnect=!0,ot(D)},this.getSessionId=function(){return me},this.destroy=function(D){F(D)},this.attach=function(D){Ie(D)};function Pe(){if(me!=null){if(tt.debug("Long poll..."),!qe){tt.warn("Is the server down? (connected=false)");return}var D=u+"/"+me+"?rid="+new Date().getTime();_!=null&&(D=D+"&maxev="+_),oe!=null&&(D=D+"&token="+encodeURIComponent(oe)),de!=null&&(D=D+"&apisecret="+encodeURIComponent(de)),tt.httpAPICall(D,{verb:"GET",withCredentials:b,success:fe,timeout:se,error:function(X,Ce){if(tt.error(X+":",Ce),le++,le>3){qe=!1,J.error("Lost connection to the server (is it down?)");return}Pe()}})}}function fe(D,Xe){if(le=0,!g&&me!==void 0&&me!==null&&Xe!==!0&&Pe(),!g&&tt.isArray(D)){for(var X=0;X<D.length;X++)fe(D[X],!0);return}if(D.rtcgw==="keepalive"){tt.vdebug("Got a keepalive on session "+me);return}else if(D.rtcgw==="ack"){tt.debug("Got an ack on session "+me),tt.debug(D);var Ce=D.transaction;if(Ce!=null){var ve=re[Ce];ve!=null&&ve(D),delete re[Ce]}return}else if(D.rtcgw==="success"){tt.debug("Got a success on session "+me),tt.debug(D);var Ce=D.transaction;if(Ce!=null){var ve=re[Ce];ve!=null&&ve(D),delete re[Ce]}return}else if(D.rtcgw==="trickle"){var Le=D.sender;if(Le==null){tt.warn("Missing sender...");return}var pe=m[Le];if(pe==null){tt.debug("This handle is not attached to this session");return}var ee=D.candidate;tt.debug("Got a trickled candidate on session "+me),tt.debug(ee);var je=pe.webrtcStuff;je.pc&&je.remoteSdp?(tt.debug("Adding remote candidate:",ee),!ee||ee.completed===!0?je.pc.addIceCandidate(tt.endOfCandidates):je.pc.addIceCandidate(ee)):(tt.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),je.candidates||(je.candidates=[]),je.candidates.push(ee),tt.debug(je.candidates))}else if(D.rtcgw==="webrtcup"){tt.debug("Got a webrtcup event on session "+me),tt.debug(D);var Le=D.sender;if(Le==null){tt.warn("Missing sender...");return}var pe=m[Le];if(pe==null){tt.debug("This handle is not attached to this session");return}pe.webrtcState(!0);return}else if(D.rtcgw==="hangup"){tt.debug("Got a hangup event on session "+me),tt.debug(D);var Le=D.sender;if(Le==null){tt.warn("Missing sender...");return}var pe=m[Le];if(pe==null){tt.debug("This handle is not attached to this session");return}pe.webrtcState(!1,D.reason),pe.hangup()}else if(D.rtcgw==="detached"){tt.debug("Got a detached event on session "+me),tt.debug(D);var Le=D.sender;if(Le==null){tt.warn("Missing sender...");return}var pe=m[Le];if(pe==null)return;pe.detached=!0,pe.ondetached(),pe.detach()}else if(D.rtcgw==="media"){tt.debug("Got a media event on session "+me),tt.debug(D);var Le=D.sender;if(Le==null){tt.warn("Missing sender...");return}var pe=m[Le];if(pe==null){tt.debug("This handle is not attached to this session");return}pe.mediaState(D.type,D.receiving)}else if(D.rtcgw==="slowlink"){tt.debug("Got a slowlink event on session "+me),tt.debug(D);var Le=D.sender;if(Le==null){tt.warn("Missing sender...");return}var pe=m[Le];if(pe==null){tt.debug("This handle is not attached to this session");return}pe.slowLink(D.uplink,D.lost)}else if(D.rtcgw==="error"){tt.error("Ooops: "+D.error.code+" "+D.error.reason),tt.debug(D);var Ce=D.transaction;if(Ce!=null){var ve=re[Ce];ve!=null&&ve(D),delete re[Ce]}return}else if(D.rtcgw==="event"){tt.debug("Got a plugin event on session "+me),tt.debug(D);var Le=D.sender;if(Le==null){tt.warn("Missing sender...");return}var mt=D.plugindata;if(mt==null){tt.warn("Missing plugindata...");return}tt.debug("  -- Event is coming from "+Le+" ("+mt.plugin+")");var gt=mt.data;tt.debug(gt);var pe=m[Le];if(pe==null){tt.warn("This handle is not attached to this session");return}var Gt=D.jsep;Gt!=null&&(tt.debug("Handling SDP as well..."),tt.debug(Gt));var li=pe.onmessage;li!=null?(tt.debug("Notifying application..."),li(gt,Gt)):tt.debug("No provided notification callback")}else if(D.rtcgw==="timeout"){tt.error("Timeout on session "+me),tt.debug(D),g&&t.close(3504,"Gateway timeout");return}else tt.warn("Unknown message/event  '"+D.rtcgw+"' on session "+me),tt.debug(D)}function $e(){if(!(u===null||!g||!qe)){o=setTimeout($e,xe);var D={rtcgw:"keepalive",session_id:me,transaction:tt.randomString(12)};oe!=null&&(D.token=oe),de!=null&&(D.apisecret=de),t.send(JSON.stringify(D))}}function ot(D){var Xe=tt.randomString(12),X={rtcgw:"create",transaction:Xe,token:window.EZUIKit.opt.stream,device:window.EZUIKit.opt.deviceSerial,channel:window.EZUIKit.opt.channelNo};if(D.reconnect&&(qe=!1,X.rtcgw="claim",X.session_id=me,t&&(t.onopen=null,t.onerror=null,t.onclose=null,o&&(clearTimeout(o),o=null))),oe!=null&&(X.token=oe),de!=null&&(X.apisecret=de),u===null&&tt.isArray(c)&&(u=c[d],u.indexOf("ws")===0?(g=!0,tt.log("Server #"+(d+1)+": trying WebSockets to contact Janus ("+u+")")):(g=!1,tt.log("Server #"+(d+1)+": trying REST API to contact Janus ("+u+")"))),g){t=tt.newWebSocket(u,"rtcgw-protocol"),n={error:function(){if(tt.error("Error connecting to the Janus WebSockets server... "+u),tt.isArray(c)&&!D.reconnect){if(d++,d==c.length){D.error("Error connecting to any of the provided Janus servers: Is the server down?");return}u=null,setTimeout(function(){ot(D)},200);return}D.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){re[Xe]=function(Le){if(tt.debug(Le),Le.rtcgw!=="success"){tt.error("Ooops: "+Le.error.code+" "+Le.error.reason),D.error(Le.error.reason);return}o=setTimeout($e,xe),qe=!0,me=Le.session_id?Le.session_id:Le.data.id,D.reconnect?tt.log("Claimed session: "+me):tt.log("Created session: "+me),tt.sessions[me]=U,D.success()},t.send(JSON.stringify(X))},message:function(Le){fe(JSON.parse(Le.data))},close:function(){u===null||!qe||(qe=!1,J.error("Lost connection to the server (is it down?)"))}};for(var Ce in n)t.addEventListener(Ce,n[Ce]);return}tt.httpAPICall(u,{verb:"POST",withCredentials:b,body:X,success:function(Le){if(tt.debug(Le),Le.rtcgw!=="success"){tt.error("Ooops: "+Le.error.code+" "+Le.error.reason),D.error(Le.error.reason);return}qe=!0,me=Le.session_id?Le.session_id:Le.data.id,D.reconnect?tt.log("Claimed session: "+me):tt.log("Created session: "+me),tt.sessions[me]=U,Pe(),D.success()},error:function(Le,pe){if(tt.error(Le+":",pe),tt.isArray(c)&&!D.reconnect){if(d++,d==c.length){D.error("Error connecting to any of the provided Janus servers: Is the server down?");return}u=null,setTimeout(function(){ot(D)},200);return}pe===""?D.error(Le+": Is the server down?"):D.error(Le+": "+pe)}})}function F(D){D=D||{},D.success=typeof D.success=="function"?D.success:tt.noop;var Xe=!0;D.asyncRequest!==void 0&&D.asyncRequest!==null&&(Xe=D.asyncRequest===!0);var X=!0;D.notifyDestroyed!==void 0&&D.notifyDestroyed!==null&&(X=D.notifyDestroyed===!0);var Ce=!1;if(D.cleanupHandles!==void 0&&D.cleanupHandles!==null&&(Ce=D.cleanupHandles===!0),tt.log("Destroying session "+me+" (async="+Xe+")"),!qe){tt.warn("Is the server down? (connected=false)"),D.success();return}if(me==null){tt.warn("No session to destroy"),D.success(),X&&J.destroyed();return}if(Ce)for(var ve in m)Qi(ve,{noRequest:!0});var Le={rtcgw:"destroy",transaction:tt.randomString(12)};if(oe!=null&&(Le.token=oe),de!=null&&(Le.apisecret=de),g){Le.session_id=me;var pe=function(){for(var gt in n)t.removeEventListener(gt,n[gt]);t.removeEventListener("message",ee),t.removeEventListener("error",je),o&&clearTimeout(o),t.close()},ee=function(gt){var Gt=JSON.parse(gt.data);Gt.session_id==Le.session_id&&Gt.transaction==Le.transaction&&(pe(),D.success(),X&&J.destroyed())},je=function(gt){pe(),D.error("Failed to destroy the server: Is the server down?"),X&&J.destroyed()};t.addEventListener("message",ee),t.addEventListener("error",je),t.send(JSON.stringify(Le));return}tt.httpAPICall(u+"/"+me,{verb:"POST",async:Xe,withCredentials:b,body:Le,success:function(gt){tt.log("Destroyed session:"),tt.debug(gt),me=null,qe=!1,gt.rtcgw!=="success"&&tt.error("Ooops: "+gt.error.code+" "+gt.error.reason),D.success(),X&&J.destroyed()},error:function(gt,Gt){tt.error(gt+":",Gt),me=null,qe=!1,D.success(),X&&J.destroyed()}})}function Ie(D){if(D=D||{},D.success=typeof D.success=="function"?D.success:tt.noop,D.error=typeof D.error=="function"?D.error:tt.noop,D.consentDialog=typeof D.consentDialog=="function"?D.consentDialog:tt.noop,D.iceState=typeof D.iceState=="function"?D.iceState:tt.noop,D.mediaState=typeof D.mediaState=="function"?D.mediaState:tt.noop,D.webrtcState=typeof D.webrtcState=="function"?D.webrtcState:tt.noop,D.slowLink=typeof D.slowLink=="function"?D.slowLink:tt.noop,D.onmessage=typeof D.onmessage=="function"?D.onmessage:tt.noop,D.onlocalstream=typeof D.onlocalstream=="function"?D.onlocalstream:tt.noop,D.onremotestream=typeof D.onremotestream=="function"?D.onremotestream:tt.noop,D.ondata=typeof D.ondata=="function"?D.ondata:tt.noop,D.ondataopen=typeof D.ondataopen=="function"?D.ondataopen:tt.noop,D.oncleanup=typeof D.oncleanup=="function"?D.oncleanup:tt.noop,D.ondetached=typeof D.ondetached=="function"?D.ondetached:tt.noop,!qe){tt.warn("Is the server down? (connected=false)"),D.error("Is the server down? (connected=false)");return}var Xe=D.plugin;if(Xe==null){tt.error("Invalid plugin"),D.error("Invalid plugin");return}var X=D.opaqueId,Ce=D.token?D.token:oe,ve=tt.randomString(12),Le={rtcgw:"attach",plugin:Xe,opaque_id:X,transaction:ve};if(Ce!=null&&(Le.token=Ce),de!=null&&(Le.apisecret=de),g){re[ve]=function(pe){if(tt.debug(pe),pe.rtcgw!=="success"){tt.error("Ooops: "+pe.error.code+" "+pe.error.reason),D.error("Ooops: "+pe.error.code+" "+pe.error.reason);return}var ee=pe.data.id;tt.log("Created handle: "+ee);var je={session:U,plugin:Xe,id:ee,token:Ce,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return ee},getPlugin:function(){return Xe},getVolume:function(){return ri(ee,!0)},getRemoteVolume:function(){return ri(ee,!0)},getLocalVolume:function(){return ri(ee,!1)},isAudioMuted:function(){return zt(ee,!1)},muteAudio:function(){return ae(ee,!1,!0)},unmuteAudio:function(){return ae(ee,!1,!1)},isVideoMuted:function(){return zt(ee,!0)},muteVideo:function(){return ae(ee,!0,!0)},unmuteVideo:function(){return ae(ee,!0,!1)},getBitrate:function(){return be(ee)},send:function(gt){Ve(ee,gt)},data:function(gt){Pi(ee,gt)},dtmf:function(gt){Ci(ee,gt)},consentDialog:D.consentDialog,iceState:D.iceState,mediaState:D.mediaState,webrtcState:D.webrtcState,slowLink:D.slowLink,onmessage:D.onmessage,createOffer:function(gt){pt(ee,!0,gt)},createAnswer:function(gt){pt(ee,!1,gt)},handleRemoteJsep:function(gt){rt(ee,gt)},onlocalstream:D.onlocalstream,onremotestream:D.onremotestream,ondata:D.ondata,ondataopen:D.ondataopen,oncleanup:D.oncleanup,ondetached:D.ondetached,hangup:function(gt){Q(ee,gt===!0)},detach:function(gt){Qi(ee,gt)}};m[ee]=je,D.success(je)},Le.session_id=me,t.send(JSON.stringify(Le));return}tt.httpAPICall(u+"/"+me,{verb:"POST",withCredentials:b,body:Le,success:function(ee){if(tt.debug(ee),ee.rtcgw!=="success"){tt.error("Ooops: "+ee.error.code+" "+ee.error.reason),D.error("Ooops: "+ee.error.code+" "+ee.error.reason);return}var je=ee.data.id;tt.log("Created handle: "+je);var mt={session:U,plugin:Xe,id:je,token:Ce,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return je},getPlugin:function(){return Xe},getVolume:function(){return ri(je,!0)},getRemoteVolume:function(){return ri(je,!0)},getLocalVolume:function(){return ri(je,!1)},isAudioMuted:function(){return zt(je,!1)},muteAudio:function(){return ae(je,!1,!0)},unmuteAudio:function(){return ae(je,!1,!1)},isVideoMuted:function(){return zt(je,!0)},muteVideo:function(){return ae(je,!0,!0)},unmuteVideo:function(){return ae(je,!0,!1)},getBitrate:function(){return be(je)},send:function(Gt){Ve(je,Gt)},data:function(Gt){Pi(je,Gt)},dtmf:function(Gt){Ci(je,Gt)},consentDialog:D.consentDialog,iceState:D.iceState,mediaState:D.mediaState,webrtcState:D.webrtcState,slowLink:D.slowLink,onmessage:D.onmessage,createOffer:function(Gt){pt(je,!0,Gt)},createAnswer:function(Gt){pt(je,!1,Gt)},handleRemoteJsep:function(Gt){rt(je,Gt)},onlocalstream:D.onlocalstream,onremotestream:D.onremotestream,ondata:D.ondata,ondataopen:D.ondataopen,oncleanup:D.oncleanup,ondetached:D.ondetached,hangup:function(Gt){Q(je,Gt===!0)},detach:function(Gt){Qi(je,Gt)}};m[je]=mt,D.success(mt)},error:function(ee,je){tt.error(ee+":",je)}})}function Ve(D,Xe){if(Xe=Xe||{},Xe.success=typeof Xe.success=="function"?Xe.success:tt.noop,Xe.error=typeof Xe.error=="function"?Xe.error:tt.noop,!qe){tt.warn("Is the server down? (connected=false)"),Xe.error("Is the server down? (connected=false)");return}var X=m[D];if(X==null||X.webrtcStuff===null||X.webrtcStuff===void 0){tt.warn("Invalid handle"),Xe.error("Invalid handle");return}var Ce=Xe.message,ve=Xe.jsep,Le=tt.randomString(12),pe={rtcgw:"message",body:Ce,transaction:Le};if(X.token!==null&&X.token!==void 0&&(pe.token=X.token),de!=null&&(pe.apisecret=de),ve!=null&&(pe.jsep=ve),tt.debug("Sending message to plugin (handle="+D+"):"),tt.debug(pe),g){pe.session_id=me,pe.handle_id=D,re[Le]=function(ee){if(tt.debug("Message sent!"),tt.debug(ee),ee.rtcgw==="success"){var je=ee.plugindata;if(je==null){tt.warn("Request succeeded, but missing plugindata..."),Xe.success();return}tt.log("Synchronous transaction successful ("+je.plugin+")");var mt=je.data;tt.debug(mt),Xe.success(mt);return}else if(ee.rtcgw!=="ack"){ee.error!==void 0&&ee.error!==null?(tt.error("Ooops: "+ee.error.code+" "+ee.error.reason),Xe.error(ee.error.code+" "+ee.error.reason)):(tt.error("Unknown error"),Xe.error("Unknown error"));return}Xe.success()},t.send(JSON.stringify(pe));return}tt.httpAPICall(u+"/"+me+"/"+D,{verb:"POST",withCredentials:b,body:pe,success:function(je){if(tt.debug("Message sent!"),tt.debug(je),je.rtcgw==="success"){var mt=je.plugindata;if(mt==null){tt.warn("Request succeeded, but missing plugindata..."),Xe.success();return}tt.log("Synchronous transaction successful ("+mt.plugin+")");var gt=mt.data;tt.debug(gt),Xe.success(gt);return}else if(je.rtcgw!=="ack"){je.error!==void 0&&je.error!==null?(tt.error("Ooops: "+je.error.code+" "+je.error.reason),Xe.error(je.error.code+" "+je.error.reason)):(tt.error("Unknown error"),Xe.error("Unknown error"));return}Xe.success()},error:function(je,mt){tt.error(je+":",mt),Xe.error(je+": "+mt)}})}function yi(D,Xe){if(!qe){tt.warn("Is the server down? (connected=false)");return}var X=m[D];if(X==null||X.webrtcStuff===null||X.webrtcStuff===void 0){tt.warn("Invalid handle");return}var Ce={rtcgw:"trickle",candidate:Xe,transaction:tt.randomString(12)};if(X.token!==null&&X.token!==void 0&&(Ce.token=X.token),de!=null&&(Ce.apisecret=de),tt.vdebug("Sending trickle candidate (handle="+D+"):"),tt.vdebug(Ce),g){Ce.session_id=me,Ce.handle_id=D,t.send(JSON.stringify(Ce));return}tt.httpAPICall(u+"/"+me+"/"+D,{verb:"POST",withCredentials:b,body:Ce,success:function(Le){if(tt.vdebug("Candidate sent!"),tt.vdebug(Le),Le.rtcgw!=="ack"){tt.error("Ooops: "+Le.error.code+" "+Le.error.reason);return}},error:function(Le,pe){tt.error(Le+":",pe)}})}function Hi(D,Xe,X,Ce){var ve=m[D];if(ve==null||ve.webrtcStuff===null||ve.webrtcStuff===void 0){tt.warn("Invalid handle");return}var Le=ve.webrtcStuff,pe=function(gt){tt.log("Received message on data channel:",gt);var Gt=gt.target.label;ve.ondata(gt.data,Gt)},ee=function(gt){tt.log("Received state change on data channel:",gt);var Gt=gt.target.label,li=Le.dataChannel[Gt]?Le.dataChannel[Gt].readyState:"null";if(tt.log("State change on <"+Gt+"> data channel: "+li),li==="open"){if(Le.dataChannel[Gt].pending&&Le.dataChannel[Gt].pending.length>0){tt.log("Sending pending messages on <"+Gt+">:",Le.dataChannel[Gt].pending.length);for(var Oi in Le.dataChannel[Gt].pending){var ge=Le.dataChannel[Gt].pending[Oi];tt.log("Sending string on data channel <"+Gt+">: "+ge),Le.dataChannel[Gt].send(ge)}Le.dataChannel[Gt].pending=[]}ve.ondataopen(Gt)}},je=function(gt){tt.error("Got error on data channel:",gt)};X?Le.dataChannel[Xe]=X:Le.dataChannel[Xe]=Le.pc.createDataChannel(Xe,{ordered:!1}),Le.dataChannel[Xe].onmessage=pe,Le.dataChannel[Xe].onopen=ee,Le.dataChannel[Xe].onclose=ee,Le.dataChannel[Xe].onerror=je,Le.dataChannel[Xe].pending=[],Ce&&Le.dataChannel[Xe].pending.push(Ce)}function Pi(D,Xe){Xe=Xe||{},Xe.success=typeof Xe.success=="function"?Xe.success:tt.noop,Xe.error=typeof Xe.error=="function"?Xe.error:tt.noop;var X=m[D];if(X==null||X.webrtcStuff===null||X.webrtcStuff===void 0){tt.warn("Invalid handle"),Xe.error("Invalid handle");return}var Ce=X.webrtcStuff,ve=Xe.text;if(ve==null){tt.warn("Invalid text"),Xe.error("Invalid text");return}var Le=Xe.label?Xe.label:tt.dataChanDefaultLabel;if(!Ce.dataChannel[Le]){Hi(D,Le,!1,ve),Xe.success();return}if(Ce.dataChannel[Le].readyState!=="open"){Ce.dataChannel[Le].pending.push(ve),Xe.success();return}tt.log("Sending string on data channel <"+Le+">: "+ve),Ce.dataChannel[Le].send(ve),Xe.success()}function Ci(D,Xe){Xe=Xe||{},Xe.success=typeof Xe.success=="function"?Xe.success:tt.noop,Xe.error=typeof Xe.error=="function"?Xe.error:tt.noop;var X=m[D];if(X==null||X.webrtcStuff===null||X.webrtcStuff===void 0){tt.warn("Invalid handle"),Xe.error("Invalid handle");return}var Ce=X.webrtcStuff;if(Ce.dtmfSender===null||Ce.dtmfSender===void 0){if(Ce.pc!==void 0&&Ce.pc!==null){var ve=Ce.pc.getSenders(),Le=ve.find(function(gt){return gt.track&&gt.track.kind==="audio"});if(!Le){tt.warn("Invalid DTMF configuration (no audio track)"),Xe.error("Invalid DTMF configuration (no audio track)");return}Ce.dtmfSender=Le.dtmf,Ce.dtmfSender&&(tt.log("Created DTMF Sender"),Ce.dtmfSender.ontonechange=function(gt){tt.debug("Sent DTMF tone: "+gt.tone)})}if(Ce.dtmfSender===null||Ce.dtmfSender===void 0){tt.warn("Invalid DTMF configuration"),Xe.error("Invalid DTMF configuration");return}}var pe=Xe.dtmf;if(pe==null){tt.warn("Invalid DTMF parameters"),Xe.error("Invalid DTMF parameters");return}var ee=pe.tones;if(ee==null){tt.warn("Invalid DTMF string"),Xe.error("Invalid DTMF string");return}var je=pe.duration;je==null&&(je=500);var mt=pe.gap;mt==null&&(mt=50),tt.debug("Sending DTMF string "+ee+" (duration "+je+"ms, gap "+mt+"ms)"),Ce.dtmfSender.insertDTMF(ee,je,mt),Xe.success()}function Qi(D,Xe){Xe=Xe||{},Xe.success=typeof Xe.success=="function"?Xe.success:tt.noop,Xe.error=typeof Xe.error=="function"?Xe.error:tt.noop;var X=!0;Xe.asyncRequest!==void 0&&Xe.asyncRequest!==null&&(X=Xe.asyncRequest===!0);var Ce=!0;Xe.noRequest!==void 0&&Xe.noRequest!==null&&(Ce=Xe.noRequest===!0),tt.log("Destroying handle "+D+" (async="+X+")"),Q(D);var ve=m[D];if(ve==null||ve.detached){delete m[D],Xe.success();return}if(Ce){delete m[D],Xe.success();return}if(!qe){tt.warn("Is the server down? (connected=false)"),Xe.error("Is the server down? (connected=false)");return}var Le={rtcgw:"detach",transaction:tt.randomString(12)};if(ve.token!==null&&ve.token!==void 0&&(Le.token=ve.token),de!=null&&(Le.apisecret=de),g){Le.session_id=me,Le.handle_id=D,t.send(JSON.stringify(Le)),delete m[D],Xe.success();return}tt.httpAPICall(u+"/"+me+"/"+D,{verb:"POST",async:X,withCredentials:b,body:Le,success:function(ee){tt.log("Destroyed handle:"),tt.debug(ee),ee.rtcgw!=="success"&&tt.error("Ooops: "+ee.error.code+" "+ee.error.reason),delete m[D],Xe.success()},error:function(ee,je){tt.error(ee+":",je),delete m[D],Xe.success()}})}function at(D,Xe,X,Ce,ve){var Le=m[D];if(Le==null||Le.webrtcStuff===null||Le.webrtcStuff===void 0){tt.warn("Invalid handle"),Ce.error("Invalid handle");return}var pe=Le.webrtcStuff;tt.debug("streamsDone:",ve),ve&&(tt.debug("  -- Audio tracks:",ve.getAudioTracks()),tt.debug("  -- Video tracks:",ve.getVideoTracks()));var ee=!1;if(!pe.myStream||!X.update||pe.streamExternal)pe.myStream=ve,ee=!0;else{if((!X.update&&H(X)||X.update&&(X.addAudio||X.replaceAudio))&&ve.getAudioTracks()&&ve.getAudioTracks().length)if(pe.myStream.addTrack(ve.getAudioTracks()[0]),tt.unifiedPlan){tt.log((X.replaceAudio?"Replacing":"Adding")+" audio track:",ve.getAudioTracks()[0]);var je=null,mt=pe.pc.getTransceivers();if(mt&&mt.length>0)for(var gt in mt){var Gt=mt[gt];if(Gt.sender&&Gt.sender.track&&Gt.sender.track.kind==="audio"||Gt.receiver&&Gt.receiver.track&&Gt.receiver.track.kind==="audio"){je=Gt;break}}je&&je.sender?je.sender.replaceTrack(ve.getAudioTracks()[0]):pe.pc.addTrack(ve.getAudioTracks()[0],ve)}else tt.log((X.replaceAudio?"Replacing":"Adding")+" audio track:",ve.getAudioTracks()[0]),pe.pc.addTrack(ve.getAudioTracks()[0],ve);if((!X.update&&z(X)||X.update&&(X.addVideo||X.replaceVideo))&&ve.getVideoTracks()&&ve.getVideoTracks().length)if(pe.myStream.addTrack(ve.getVideoTracks()[0]),tt.unifiedPlan){tt.log((X.replaceVideo?"Replacing":"Adding")+" video track:",ve.getVideoTracks()[0]);var li=null,mt=pe.pc.getTransceivers();if(mt&&mt.length>0)for(var gt in mt){var Gt=mt[gt];if(Gt.sender&&Gt.sender.track&&Gt.sender.track.kind==="video"||Gt.receiver&&Gt.receiver.track&&Gt.receiver.track.kind==="video"){li=Gt;break}}li&&li.sender?li.sender.replaceTrack(ve.getVideoTracks()[0]):pe.pc.addTrack(ve.getVideoTracks()[0],ve)}else tt.log((X.replaceVideo?"Replacing":"Adding")+" video track:",ve.getVideoTracks()[0]),pe.pc.addTrack(ve.getVideoTracks()[0],ve)}if(!pe.pc){var Oi={iceServers:k,iceTransportPolicy:P,bundlePolicy:S};tt.webRTCAdapter.browserDetails.browser==="chrome"&&(Oi.sdpSemantics=tt.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var ge={optional:[{DtlsSrtpKeyAgreement:!0}]};if(R===!0&&ge.optional.push({googIPv6:!0}),Ce.rtcConstraints&&K(Ce.rtcConstraints)==="object"){tt.debug("Adding custom PeerConnection constraints:",Ce.rtcConstraints);for(var gt in Ce.rtcConstraints)ge.optional.push(Ce.rtcConstraints[gt])}tt.webRTCAdapter.browserDetails.browser==="edge"&&(Oi.bundlePolicy="max-bundle"),tt.log("Creating PeerConnection"),tt.debug(ge),pe.pc=new RTCPeerConnection(Oi,ge),tt.debug(pe.pc),pe.pc.getStats&&(pe.volume={},pe.bitrate.value="0 kbits/sec"),tt.log("Preparing local SDP and gathering candidates (trickle="+pe.trickle+")"),pe.pc.oniceconnectionstatechange=function(kt){pe.pc&&Le.iceState(pe.pc.iceConnectionState)},pe.pc.onicecandidate=function(kt){if(kt.candidate==null||tt.webRTCAdapter.browserDetails.browser==="edge"&&kt.candidate.candidate.indexOf("endOfCandidates")>0)tt.log("End of candidates."),pe.iceDone=!0,pe.trickle===!0?yi(D,{completed:!0}):$t(D,Ce);else{var Lt={candidate:kt.candidate.candidate,sdpMid:kt.candidate.sdpMid,sdpMLineIndex:kt.candidate.sdpMLineIndex};pe.trickle===!0&&yi(D,Lt)}},pe.pc.ontrack=function(kt){tt.log("Handling Remote Track"),tt.debug(kt),kt.streams&&(pe.remoteStream=kt.streams[0],Le.onremotestream(pe.remoteStream),!kt.track.onended&&(tt.log("Adding onended callback to track:",kt.track),kt.track.onended=function(Lt){tt.log("Remote track muted/removed:",Lt),pe.remoteStream&&(pe.remoteStream.removeTrack(Lt.target),Le.onremotestream(pe.remoteStream))},kt.track.onmute=kt.track.onended,kt.track.onunmute=function(Lt){tt.log("Remote track flowing again:",Lt);try{pe.remoteStream.addTrack(Lt.target),Le.onremotestream(pe.remoteStream)}catch(Tt){tt.error(Tt)}}))}}if(ee&&ve!==null&&ve!==void 0){tt.log("Adding local stream");var Ji=Ce.simulcast2===!0;ve.getTracks().forEach(function(kt){if(tt.log("Adding local track:",kt),!Ji)pe.pc.addTrack(kt,ve);else if(kt.kind==="audio")pe.pc.addTrack(kt,ve);else{tt.log("Enabling rid-based simulcasting:",kt);var Lt=Ae(Ce.simulcastMaxBitrates);pe.pc.addTransceiver(kt,{direction:"sendrecv",streams:[ve],sendEncodings:[{rid:"h",active:!0,maxBitrate:Lt.high},{rid:"m",active:!0,maxBitrate:Lt.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:Lt.low,scaleResolutionDownBy:4}]})}})}Qe(X)&&!pe.dataChannel[tt.dataChanDefaultLabel]&&(tt.log("Creating data channel"),Hi(D,tt.dataChanDefaultLabel,!1),pe.pc.ondatachannel=function(kt){tt.log("Data channel created by Janus:",kt),Hi(D,kt.channel.label,kt.channel)}),pe.myStream&&Le.onlocalstream(pe.myStream),Xe==null?We(D,X,Ce):pe.pc.setRemoteDescription(Xe).then(function(){if(tt.log("Remote description accepted!"),pe.remoteSdp=Xe.sdp,pe.candidates&&pe.candidates.length>0){for(var kt=0;kt<pe.candidates.length;kt++){var Lt=pe.candidates[kt];tt.debug("Adding remote candidate:",Lt),!Lt||Lt.completed===!0?pe.pc.addIceCandidate(tt.endOfCandidates):pe.pc.addIceCandidate(Lt)}pe.candidates=[]}ft(D,X,Ce)},Ce.error)}function pt(D,Xe,X){X=X||{},X.success=typeof X.success=="function"?X.success:tt.noop,X.error=typeof X.error=="function"?X.error:E;var Ce=X.jsep;if(Xe&&Ce){tt.error("Provided a JSEP to a createOffer"),X.error("Provided a JSEP to a createOffer");return}else if(!Xe&&(!Ce||!Ce.type||!Ce.sdp)){tt.error("A valid JSEP is required for createAnswer"),X.error("A valid JSEP is required for createAnswer");return}X.media=X.media||{audio:!0,video:!0};var ve=X.media,Le=m[D];if(Le==null||Le.webrtcStuff===null||Le.webrtcStuff===void 0){tt.warn("Invalid handle"),X.error("Invalid handle");return}var pe=Le.webrtcStuff;if(pe.trickle=st(X.trickle),pe.pc===void 0||pe.pc===null)ve.update=!1,ve.keepAudio=!1,ve.keepVideo=!1;else if(pe.pc!==void 0&&pe.pc!==null){if(tt.log("Updating existing media session"),ve.update=!0,X.stream!==null&&X.stream!==void 0)X.stream!==pe.myStream&&tt.log("Renegotiation involves a new external stream");else{if(ve.addAudio){if(ve.keepAudio=!1,ve.replaceAudio=!1,ve.removeAudio=!1,ve.audioSend=!0,pe.myStream&&pe.myStream.getAudioTracks()&&pe.myStream.getAudioTracks().length){tt.error("Can't add audio stream, there already is one"),X.error("Can't add audio stream, there already is one");return}}else ve.removeAudio?(ve.keepAudio=!1,ve.replaceAudio=!1,ve.addAudio=!1,ve.audioSend=!1):ve.replaceAudio&&(ve.keepAudio=!1,ve.addAudio=!1,ve.removeAudio=!1,ve.audioSend=!0);if(pe.myStream===null||pe.myStream===void 0?(ve.replaceAudio&&(ve.keepAudio=!1,ve.replaceAudio=!1,ve.addAudio=!0,ve.audioSend=!0),H(ve)&&(ve.keepAudio=!1,ve.addAudio=!0)):pe.myStream.getAudioTracks()===null||pe.myStream.getAudioTracks()===void 0||pe.myStream.getAudioTracks().length===0?(ve.replaceAudio&&(ve.keepAudio=!1,ve.replaceAudio=!1,ve.addAudio=!0,ve.audioSend=!0),H(ve)&&(ve.keepVideo=!1,ve.addAudio=!0)):H(ve)&&!ve.removeAudio&&!ve.replaceAudio&&(ve.keepAudio=!0),ve.addVideo){if(ve.keepVideo=!1,ve.replaceVideo=!1,ve.removeVideo=!1,ve.videoSend=!0,pe.myStream&&pe.myStream.getVideoTracks()&&pe.myStream.getVideoTracks().length){tt.error("Can't add video stream, there already is one"),X.error("Can't add video stream, there already is one");return}}else ve.removeVideo?(ve.keepVideo=!1,ve.replaceVideo=!1,ve.addVideo=!1,ve.videoSend=!1):ve.replaceVideo&&(ve.keepVideo=!1,ve.addVideo=!1,ve.removeVideo=!1,ve.videoSend=!0);pe.myStream===null||pe.myStream===void 0||pe.myStream.getVideoTracks()===null||pe.myStream.getVideoTracks()===void 0||pe.myStream.getVideoTracks().length===0?(ve.replaceVideo&&(ve.keepVideo=!1,ve.replaceVideo=!1,ve.addVideo=!0,ve.videoSend=!0),z(ve)&&(ve.keepVideo=!1,ve.addVideo=!0)):z(ve)&&!ve.removeVideo&&!ve.replaceVideo&&(ve.keepVideo=!0),ve.addData&&(ve.data=!0)}if(H(ve)&&ve.keepAudio&&z(ve)&&ve.keepVideo){Le.consentDialog(!1),at(D,Ce,ve,X,pe.myStream);return}}if(ve.update&&!pe.streamExternal){if(ve.removeAudio||ve.replaceAudio){if(pe.myStream&&pe.myStream.getAudioTracks()&&pe.myStream.getAudioTracks().length){var ee=pe.myStream.getAudioTracks()[0];tt.log("Removing audio track:",ee),pe.myStream.removeTrack(ee);try{ee.stop()}catch{}}if(pe.pc.getSenders()&&pe.pc.getSenders().length){var je=!0;if(ve.replaceAudio&&tt.unifiedPlan&&(je=!1),je)for(var mt in pe.pc.getSenders()){var ee=pe.pc.getSenders()[mt];ee&&ee.track&&ee.track.kind==="audio"&&(tt.log("Removing audio sender:",ee),pe.pc.removeTrack(ee))}}}if(ve.removeVideo||ve.replaceVideo){if(pe.myStream&&pe.myStream.getVideoTracks()&&pe.myStream.getVideoTracks().length){var ee=pe.myStream.getVideoTracks()[0];tt.log("Removing video track:",ee),pe.myStream.removeTrack(ee);try{ee.stop()}catch{}}if(pe.pc.getSenders()&&pe.pc.getSenders().length){var gt=!0;if(ve.replaceVideo&&tt.unifiedPlan&&(gt=!1),gt)for(var mt in pe.pc.getSenders()){var ee=pe.pc.getSenders()[mt];ee&&ee.track&&ee.track.kind==="video"&&(tt.log("Removing video sender:",ee),pe.pc.removeTrack(ee))}}}}if(X.stream!==null&&X.stream!==void 0){var Gt=X.stream;if(tt.log("MediaStream provided by the application"),tt.debug(Gt),ve.update&&pe.myStream&&pe.myStream!==X.stream&&!pe.streamExternal){try{var li=pe.myStream.getTracks();for(var Oi in li){var ge=li[Oi];tt.log(ge),ge!=null&&ge.stop()}}catch{}pe.myStream=null}pe.streamExternal=!0,Le.consentDialog(!1),at(D,Ce,ve,X,Gt);return}if(H(ve)||z(ve)){if(!tt.isGetUserMediaAvailable()){X.error("getUserMedia not available");return}var Ji={mandatory:{},optional:[]};Le.consentDialog(!0);var kt=H(ve);kt===!0&&ve!=null&&ve!=null&&K(ve.audio)==="object"&&(kt=ve.audio);var Lt=z(ve);if(Lt===!0&&ve!=null&&ve!=null){var Tt=X.simulcast===!0,jt=X.simulcast2===!0;if((Tt||jt)&&!Ce&&(ve.video===void 0||ve.video===!1)&&(ve.video="hires"),ve.video&&ve.video!="screen"&&ve.video!="window")if(K(ve.video)==="object")Lt=ve.video;else{var Dt=0,Ft=0;ve.video==="lowres"?(Ft=240,Dt=320):ve.video==="lowres-16:9"?(Ft=180,Dt=320):ve.video==="hires"||ve.video==="hires-16:9"||ve.video==="hdres"?(Ft=720,Dt=1280):ve.video==="fhdres"?(Ft=1080,Dt=1920):ve.video==="4kres"?(Ft=2160,Dt=3840):ve.video==="stdres"?(Ft=480,Dt=640):ve.video==="stdres-16:9"?(Ft=360,Dt=640):(tt.log("Default video setting is stdres 4:3"),Ft=480,Dt=640),tt.log("Adding media constraint:",ve.video),Lt={height:{ideal:Ft},width:{ideal:Dt}},tt.log("Adding video constraint:",Lt)}else if(ve.video==="screen"||ve.video==="window"){var Kt=function(Zi,pi){Le.consentDialog(!1),Zi?X.error(Zi):at(D,Ce,ve,X,pi)},wt=function(Zi,pi,sn){tt.log("Adding media constraint (screen capture)"),tt.debug(Zi),navigator.mediaDevices.getUserMedia(Zi).then(function(ci){sn?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(Ut){ci.addTrack(Ut.getAudioTracks()[0]),pi(null,ci)}):pi(null,ci)}).catch(function(ci){Le.consentDialog(!1),pi(ci)})};if(ve.screenshareFrameRate||(ve.screenshareFrameRate=3),navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia){navigator.mediaDevices.getDisplayMedia({video:!0}).then(function(ji){Le.consentDialog(!1),H(ve)&&!ve.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(Zi){ji.addTrack(Zi.getAudioTracks()[0]),at(D,Ce,ve,X,ji)}):at(D,Ce,ve,X,ji)},function(ji){Le.consentDialog(!1),X.error(ji)});return}if(tt.webRTCAdapter.browserDetails.browser==="chrome"){var si=tt.webRTCAdapter.browserDetails.version,ht=33;window.navigator.userAgent.match("Linux")&&(ht=35),si>=26&&si<=ht?(Ji={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:ve.screenshareFrameRate,maxFrameRate:ve.screenshareFrameRate,chromeMediaSource:"screen"}},audio:H(ve)&&!ve.keepAudio},wt(Ji,Kt)):tt.extension.getScreen(function(ji,Zi){if(ji)return Le.consentDialog(!1),X.error(ji);Ji={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:ve.screenshareFrameRate,maxFrameRate:ve.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}},Ji.video.mandatory.chromeMediaSourceId=Zi,wt(Ji,Kt,H(ve)&&!ve.keepAudio)})}else if(tt.webRTCAdapter.browserDetails.browser==="firefox")if(tt.webRTCAdapter.browserDetails.version>=33)Ji={video:{mozMediaSource:ve.video,mediaSource:ve.video},audio:H(ve)&&!ve.keepAudio},wt(Ji,function(ji,Zi){if(Kt(ji,Zi),!ji)var pi=Zi.currentTime,sn=window.setInterval(function(){Zi||window.clearInterval(sn),Zi.currentTime==pi&&(window.clearInterval(sn),Zi.onended&&Zi.onended()),pi=Zi.currentTime},500)});else{var Ii=new Error("NavigatorUserMediaError");Ii.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",Le.consentDialog(!1),X.error(Ii);return}return}}(ve==null||ve.video!=="screen")&&navigator.mediaDevices.enumerateDevices().then(function(ji){var Zi=ji.some(function(we){return we.kind==="audioinput"}),pi=Oe(ve)||ji.some(function(we){return we.kind==="videoinput"}),sn=H(ve),ci=z(ve),Ut=_e(ve),V=ce(ve);if(sn||ci||Ut||V){var w=sn?Zi:!1,N=ci?pi:!1;if(!w&&!N)return Le.consentDialog(!1),X.error("No capture device found"),!1;if(!w&&Ut)return Le.consentDialog(!1),X.error("Audio capture is required, but no capture device found"),!1;if(!N&&V)return Le.consentDialog(!1),X.error("Video capture is required, but no capture device found"),!1}var T={audio:Zi&&!ve.keepAudio?kt:!1,video:pi&&!ve.keepVideo?Lt:!1};tt.debug("getUserMedia constraints",T),!T.audio&&!T.video?(Le.consentDialog(!1),at(D,Ce,ve,X,Gt)):navigator.mediaDevices.getUserMedia(T).then(function(we){Le.consentDialog(!1),at(D,Ce,ve,X,we)}).catch(function(we){Le.consentDialog(!1),X.error({code:we.code,name:we.name,message:we.message})})}).catch(function(ji){Le.consentDialog(!1),X.error("enumerateDevices error",ji)})}else at(D,Ce,ve,X)}function rt(D,Xe){Xe=Xe||{},Xe.success=typeof Xe.success=="function"?Xe.success:tt.noop,Xe.error=typeof Xe.error=="function"?Xe.error:E;var X=Xe.jsep,Ce=m[D];if(Ce==null||Ce.webrtcStuff===null||Ce.webrtcStuff===void 0){tt.warn("Invalid handle"),Xe.error("Invalid handle");return}var ve=Ce.webrtcStuff;if(X!=null){if(ve.pc===null){tt.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),Xe.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");return}ve.pc.setRemoteDescription(X).then(function(){if(tt.log("Remote description accepted!"),ve.remoteSdp=X.sdp,ve.candidates&&ve.candidates.length>0){for(var Le=0;Le<ve.candidates.length;Le++){var pe=ve.candidates[Le];tt.debug("Adding remote candidate:",pe),!pe||pe.completed===!0?ve.pc.addIceCandidate(tt.endOfCandidates):ve.pc.addIceCandidate(pe)}ve.candidates=[]}Xe.success()},Xe.error)}else Xe.error("Invalid JSEP")}function We(D,Xe,X){X=X||{},X.success=typeof X.success=="function"?X.success:tt.noop,X.error=typeof X.error=="function"?X.error:tt.noop,X.customizeSdp=typeof X.customizeSdp=="function"?X.customizeSdp:tt.noop;var Ce=m[D];if(Ce==null||Ce.webrtcStuff===null||Ce.webrtcStuff===void 0){tt.warn("Invalid handle"),X.error("Invalid handle");return}var ve=Ce.webrtcStuff,Le=X.simulcast===!0;Le?tt.log("Creating offer (iceDone="+ve.iceDone+", simulcast="+Le+")"):tt.log("Creating offer (iceDone="+ve.iceDone+")");var pe={};if(tt.unifiedPlan){var ee=null,je=null,mt=ve.pc.getTransceivers();if(mt&&mt.length>0)for(var gt in mt){var Gt=mt[gt];if(Gt.sender&&Gt.sender.track&&Gt.sender.track.kind==="audio"||Gt.receiver&&Gt.receiver.track&&Gt.receiver.track.kind==="audio"){ee||(ee=Gt);continue}if(Gt.sender&&Gt.sender.track&&Gt.sender.track.kind==="video"||Gt.receiver&&Gt.receiver.track&&Gt.receiver.track.kind==="video"){je||(je=Gt);continue}}var li=H(Xe),Oi=M(Xe);!li&&!Oi?Xe.removeAudio&&ee&&(ee.setDirection?ee.setDirection("inactive"):ee.direction="inactive",tt.log("Setting audio transceiver to inactive:",ee)):li&&Oi?ee&&(ee.setDirection?ee.setDirection("sendrecv"):ee.direction="sendrecv",tt.log("Setting audio transceiver to sendrecv:",ee)):li&&!Oi?ee&&(ee.setDirection?ee.setDirection("sendonly"):ee.direction="sendonly",tt.log("Setting audio transceiver to sendonly:",ee)):!li&&Oi&&(ee?(ee.setDirection?ee.setDirection("recvonly"):ee.direction="recvonly",tt.log("Setting audio transceiver to recvonly:",ee)):(ee=ve.pc.addTransceiver("audio",{direction:"recvonly"}),tt.log("Adding recvonly audio transceiver:",ee)));var ge=z(Xe),Ji=ie(Xe);!ge&&!Ji?Xe.removeVideo&&je&&(je.setDirection?je.setDirection("inactive"):je.direction="inactive",tt.log("Setting video transceiver to inactive:",je)):ge&&Ji?je&&(je.setDirection?je.setDirection("sendrecv"):je.direction="sendrecv",tt.log("Setting video transceiver to sendrecv:",je)):ge&&!Ji?je&&(je.setDirection?je.setDirection("sendonly"):je.direction="sendonly",tt.log("Setting video transceiver to sendonly:",je)):!ge&&Ji&&(je?(je.setDirection?je.setDirection("recvonly"):je.direction="recvonly",tt.log("Setting video transceiver to recvonly:",je)):(je=ve.pc.addTransceiver("video",{direction:"recvonly"}),tt.log("Adding recvonly video transceiver:",je)))}else pe.offerToReceiveAudio=M(Xe),pe.offerToReceiveVideo=ie(Xe);var kt=X.iceRestart===!0;kt&&(pe.iceRestart=!0),tt.debug(pe);var Lt=z(Xe);if(Lt&&Le&&tt.webRTCAdapter.browserDetails.browser==="firefox"){tt.log("Enabling Simulcasting for Firefox (RID)");var Tt=ve.pc.getSenders().find(function(Ft){return Ft.track.kind=="video"});if(Tt){var jt=Tt.getParameters();jt||(jt={});var Dt=Ae(X.simulcastMaxBitrates);jt.encodings=[{rid:"h",active:!0,maxBitrate:Dt.high},{rid:"m",active:!0,maxBitrate:Dt.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:Dt.low,scaleResolutionDownBy:4}],Tt.setParameters(jt)}}ve.pc.createOffer(pe).then(function(Ft){tt.debug(Ft);var Kt={type:Ft.type,sdp:Ft.sdp};if(X.customizeSdp(Kt),Ft.sdp=Kt.sdp,tt.log("Setting local description"),Lt&&Le&&(tt.webRTCAdapter.browserDetails.browser==="chrome"||tt.webRTCAdapter.browserDetails.browser==="safari"?(tt.log("Enabling Simulcasting for Chrome (SDP munging)"),Ft.sdp=Ge(Ft.sdp)):tt.webRTCAdapter.browserDetails.browser!=="firefox"&&tt.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),ve.mySdp=Ft.sdp,ve.pc.setLocalDescription(Ft).catch(X.error),ve.mediaConstraints=pe,!ve.iceDone&&!ve.trickle){tt.log("Waiting for all candidates...");return}tt.log("Offer ready"),tt.debug(X),X.success(Ft)},X.error)}function ft(D,Xe,X){X=X||{},X.success=typeof X.success=="function"?X.success:tt.noop,X.error=typeof X.error=="function"?X.error:tt.noop,X.customizeSdp=typeof X.customizeSdp=="function"?X.customizeSdp:tt.noop;var Ce=m[D];if(Ce==null||Ce.webrtcStuff===null||Ce.webrtcStuff===void 0){tt.warn("Invalid handle"),X.error("Invalid handle");return}var ve=Ce.webrtcStuff,Le=X.simulcast===!0;Le?tt.log("Creating answer (iceDone="+ve.iceDone+", simulcast="+Le+")"):tt.log("Creating answer (iceDone="+ve.iceDone+")");var pe=null;if(tt.unifiedPlan){pe={};var ee=null,je=null,mt=ve.pc.getTransceivers();if(mt&&mt.length>0)for(var gt in mt){var Gt=mt[gt];if(Gt.sender&&Gt.sender.track&&Gt.sender.track.kind==="audio"||Gt.receiver&&Gt.receiver.track&&Gt.receiver.track.kind==="audio"){ee||(ee=Gt);continue}if(Gt.sender&&Gt.sender.track&&Gt.sender.track.kind==="video"||Gt.receiver&&Gt.receiver.track&&Gt.receiver.track.kind==="video"){je||(je=Gt);continue}}var li=H(Xe),Oi=M(Xe);if(!li&&!Oi){if(Xe.removeAudio&&ee)try{ee.setDirection?ee.setDirection("inactive"):ee.direction="inactive",tt.log("Setting audio transceiver to inactive:",ee)}catch(Dt){tt.error(Dt)}}else if(li&&Oi){if(ee)try{ee.setDirection?ee.setDirection("sendrecv"):ee.direction="sendrecv",tt.log("Setting audio transceiver to sendrecv:",ee)}catch(Dt){tt.error(Dt)}}else if(li&&!Oi)try{ee&&(ee.setDirection?ee.setDirection("sendonly"):ee.direction="sendonly",tt.log("Setting audio transceiver to sendonly:",ee))}catch(Dt){tt.error(Dt)}else if(!li&&Oi)if(ee)try{ee.setDirection?ee.setDirection("recvonly"):ee.direction="recvonly",tt.log("Setting audio transceiver to recvonly:",ee)}catch(Dt){tt.error(Dt)}else ee=ve.pc.addTransceiver("audio",{direction:"recvonly"}),tt.log("Adding recvonly audio transceiver:",ee);var ge=z(Xe),Ji=ie(Xe);if(!ge&&!Ji){if(Xe.removeVideo&&je)try{je.setDirection?je.setDirection("inactive"):je.direction="inactive",tt.log("Setting video transceiver to inactive:",je)}catch(Dt){tt.error(Dt)}}else if(ge&&Ji){if(je)try{je.setDirection?je.setDirection("sendrecv"):je.direction="sendrecv",tt.log("Setting video transceiver to sendrecv:",je)}catch(Dt){tt.error(Dt)}}else if(ge&&!Ji){if(je)try{je.setDirection?je.setDirection("sendonly"):je.direction="sendonly",tt.log("Setting video transceiver to sendonly:",je)}catch(Dt){tt.error(Dt)}}else if(!ge&&Ji)if(je)try{je.setDirection?je.setDirection("recvonly"):je.direction="recvonly",tt.log("Setting video transceiver to recvonly:",je)}catch(Dt){tt.error(Dt)}else je=ve.pc.addTransceiver("video",{direction:"recvonly"}),tt.log("Adding recvonly video transceiver:",je)}else tt.webRTCAdapter.browserDetails.browser=="firefox"||tt.webRTCAdapter.browserDetails.browser=="edge"?pe={offerToReceiveAudio:M(Xe),offerToReceiveVideo:ie(Xe)}:pe={mandatory:{OfferToReceiveAudio:M(Xe),OfferToReceiveVideo:ie(Xe)}};tt.debug(pe);var kt=z(Xe);if(kt&&Le&&tt.webRTCAdapter.browserDetails.browser==="firefox"){tt.log("Enabling Simulcasting for Firefox (RID)");var Lt=ve.pc.getSenders()[1];tt.log(Lt);var Tt=Lt.getParameters();tt.log(Tt);var jt=Ae(X.simulcastMaxBitrates);Lt.setParameters({encodings:[{rid:"high",active:!0,priority:"high",maxBitrate:jt.high},{rid:"medium",active:!0,priority:"medium",maxBitrate:jt.medium},{rid:"low",active:!0,priority:"low",maxBitrate:jt.low}]})}ve.pc.createAnswer(pe).then(function(Dt){tt.debug(Dt);var Ft={type:Dt.type,sdp:Dt.sdp};if(X.customizeSdp(Ft),Dt.sdp=Ft.sdp,tt.log("Setting local description"),kt&&Le&&(tt.webRTCAdapter.browserDetails.browser==="chrome"?tt.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):tt.webRTCAdapter.browserDetails.browser!=="firefox"&&tt.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),ve.mySdp=Dt.sdp,ve.pc.setLocalDescription(Dt).catch(X.error),ve.mediaConstraints=pe,!ve.iceDone&&!ve.trickle){tt.log("Waiting for all candidates...");return}X.success(Dt)},X.error)}function $t(D,Xe){Xe=Xe||{},Xe.success=typeof Xe.success=="function"?Xe.success:tt.noop,Xe.error=typeof Xe.error=="function"?Xe.error:tt.noop;var X=m[D];if(X==null||X.webrtcStuff===null||X.webrtcStuff===void 0){tt.warn("Invalid handle, not sending anything");return}var Ce=X.webrtcStuff;if(tt.log("Sending offer/answer SDP..."),Ce.mySdp===null||Ce.mySdp===void 0){tt.warn("Local SDP instance is invalid, not sending anything...");return}Ce.mySdp={type:Ce.pc.localDescription.type,sdp:Ce.pc.localDescription.sdp},Ce.trickle===!1&&(Ce.mySdp.trickle=!1),tt.debug(Xe),Ce.sdpSent=!0,Xe.success(Ce.mySdp)}function ri(D,Xe){var X=m[D];if(X==null||X.webrtcStuff===null||X.webrtcStuff===void 0)return tt.warn("Invalid handle"),0;var Ce=Xe?"remote":"local",ve=X.webrtcStuff;return ve.volume[Ce]||(ve.volume[Ce]={value:0}),ve.pc.getStats&&tt.webRTCAdapter.browserDetails.browser==="chrome"?Xe&&(ve.remoteStream===null||ve.remoteStream===void 0)?(tt.warn("Remote stream unavailable"),0):!Xe&&(ve.myStream===null||ve.myStream===void 0)?(tt.warn("Local stream unavailable"),0):ve.volume[Ce].timer===null||ve.volume[Ce].timer===void 0?(tt.log("Starting "+Ce+" volume monitor"),ve.volume[Ce].timer=setInterval(function(){ve.pc.getStats(function(Le){for(var pe=Le.result(),ee=0;ee<pe.length;ee++){var je=pe[ee];je.type=="ssrc"&&(Xe&&je.stat("audioOutputLevel")?ve.volume[Ce].value=parseInt(je.stat("audioOutputLevel")):!Xe&&je.stat("audioInputLevel")&&(ve.volume[Ce].value=parseInt(je.stat("audioInputLevel"))))}})},200),0):ve.volume[Ce].value:(tt.warn("Getting the "+Ce+" volume unsupported by browser"),0)}function zt(D,Xe){var X=m[D];if(X==null||X.webrtcStuff===null||X.webrtcStuff===void 0)return tt.warn("Invalid handle"),!0;var Ce=X.webrtcStuff;return Ce.pc===null||Ce.pc===void 0?(tt.warn("Invalid PeerConnection"),!0):Ce.myStream===void 0||Ce.myStream===null?(tt.warn("Invalid local MediaStream"),!0):Xe?Ce.myStream.getVideoTracks()===null||Ce.myStream.getVideoTracks()===void 0||Ce.myStream.getVideoTracks().length===0?(tt.warn("No video track"),!0):!Ce.myStream.getVideoTracks()[0].enabled:Ce.myStream.getAudioTracks()===null||Ce.myStream.getAudioTracks()===void 0||Ce.myStream.getAudioTracks().length===0?(tt.warn("No audio track"),!0):!Ce.myStream.getAudioTracks()[0].enabled}function ae(D,Xe,X){var Ce=m[D];if(Ce==null||Ce.webrtcStuff===null||Ce.webrtcStuff===void 0)return tt.warn("Invalid handle"),!1;var ve=Ce.webrtcStuff;return ve.pc===null||ve.pc===void 0?(tt.warn("Invalid PeerConnection"),!1):ve.myStream===void 0||ve.myStream===null?(tt.warn("Invalid local MediaStream"),!1):Xe?ve.myStream.getVideoTracks()===null||ve.myStream.getVideoTracks()===void 0||ve.myStream.getVideoTracks().length===0?(tt.warn("No video track"),!1):(ve.myStream.getVideoTracks()[0].enabled=!X,!0):ve.myStream.getAudioTracks()===null||ve.myStream.getAudioTracks()===void 0||ve.myStream.getAudioTracks().length===0?(tt.warn("No audio track"),!1):(ve.myStream.getAudioTracks()[0].enabled=!X,!0)}function be(D){var Xe=m[D];if(Xe==null||Xe.webrtcStuff===null||Xe.webrtcStuff===void 0)return tt.warn("Invalid handle"),"Invalid handle";var X=Xe.webrtcStuff;return X.pc===null||X.pc===void 0?"Invalid PeerConnection":X.pc.getStats?X.bitrate.timer===null||X.bitrate.timer===void 0?(tt.log("Starting bitrate timer (via getStats)"),X.bitrate.timer=setInterval(function(){X.pc.getStats().then(function(Ce){Ce.forEach(function(ve){if(ve){var Le=!1;if(((ve.mediaType==="video"||ve.id.toLowerCase().indexOf("video")>-1)&&ve.type==="inbound-rtp"&&ve.id.indexOf("rtcp")<0||ve.type=="ssrc"&&ve.bytesReceived&&(ve.googCodecName==="VP8"||ve.googCodecName===""))&&(Le=!0),Le)if(X.bitrate.bsnow=ve.bytesReceived,X.bitrate.tsnow=ve.timestamp,X.bitrate.bsbefore===null||X.bitrate.tsbefore===null)X.bitrate.bsbefore=X.bitrate.bsnow,X.bitrate.tsbefore=X.bitrate.tsnow;else{var pe=X.bitrate.tsnow-X.bitrate.tsbefore;tt.webRTCAdapter.browserDetails.browser=="safari"&&(pe=pe/1e3);var ee=Math.round((X.bitrate.bsnow-X.bitrate.bsbefore)*8/pe);tt.webRTCAdapter.browserDetails.browser==="safari"&&(ee=parseInt(ee/1e3)),X.bitrate.value=ee+" kbits/sec",X.bitrate.bsbefore=X.bitrate.bsnow,X.bitrate.tsbefore=X.bitrate.tsnow}}})})},1e3),"0 kbits/sec"):X.bitrate.value:(tt.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser")}function E(D){tt.error("WebRTC error:",D)}function Q(D,Xe){tt.log("Cleaning WebRTC stuff");var X=m[D];if(X!=null){var Ce=X.webrtcStuff;if(Ce!=null){if(Xe===!0){var ve={rtcgw:"hangup",transaction:tt.randomString(12)};X.token!==null&&X.token!==void 0&&(ve.token=X.token),de!=null&&(ve.apisecret=de),tt.debug("Sending hangup request (handle="+D+"):"),tt.debug(ve),g?(ve.session_id=me,ve.handle_id=D,t.send(JSON.stringify(ve))):tt.httpAPICall(u+"/"+me+"/"+D,{verb:"POST",withCredentials:b,body:ve})}Ce.remoteStream=null,Ce.volume&&(Ce.volume.local&&Ce.volume.local.timer&&clearInterval(Ce.volume.local.timer),Ce.volume.remote&&Ce.volume.remote.timer&&clearInterval(Ce.volume.remote.timer)),Ce.volume={},Ce.bitrate.timer&&clearInterval(Ce.bitrate.timer),Ce.bitrate.timer=null,Ce.bitrate.bsnow=null,Ce.bitrate.bsbefore=null,Ce.bitrate.tsnow=null,Ce.bitrate.tsbefore=null,Ce.bitrate.value=null;try{if(!Ce.streamExternal&&Ce.myStream!==null&&Ce.myStream!==void 0){tt.log("Stopping local stream tracks");var Le=Ce.myStream.getTracks();for(var pe in Le){var ee=Le[pe];tt.log(ee),ee!=null&&ee.stop()}}}catch{}Ce.streamExternal=!1,Ce.myStream=null;try{Ce.pc.close()}catch{}Ce.pc=null,Ce.candidates=null,Ce.mySdp=null,Ce.remoteSdp=null,Ce.iceDone=!1,Ce.dataChannel={},Ce.dtmfSender=null}X.oncleanup()}}function Ge(D){for(var Xe=D.split(`\r
`),X=!1,Ce=[-1],ve=[-1],Le=null,pe=null,ee=null,je=null,mt=-1,gt=0;gt<Xe.length;gt++){var Gt=Xe[gt].match(/m=(\w+) */);if(Gt){var li=Gt[1];if(li==="video")if(Ce[0]<0)X=!0;else{mt=gt;break}else if(Ce[0]>-1){mt=gt;break}continue}if(X){var Oi=Xe[gt].match(/a=ssrc-group:FID (\d+) (\d+)/);if(Oi){Ce[0]=Oi[1],ve[0]=Oi[2],Xe.splice(gt,1),gt--;continue}if(Ce[0]){var ge=Xe[gt].match("a=ssrc:"+Ce[0]+" cname:(.+)");if(ge&&(Le=ge[1]),ge=Xe[gt].match("a=ssrc:"+Ce[0]+" msid:(.+)"),ge&&(pe=ge[1]),ge=Xe[gt].match("a=ssrc:"+Ce[0]+" mslabel:(.+)"),ge&&(ee=ge[1]),ge=Xe[gt].match("a=ssrc:"+Ce[0]+" label:(.+)"),ge&&(je=ge[1]),Xe[gt].indexOf("a=ssrc:"+ve[0])===0){Xe.splice(gt,1),gt--;continue}if(Xe[gt].indexOf("a=ssrc:"+Ce[0])===0){Xe.splice(gt,1),gt--;continue}}if(Xe[gt].length==0){Xe.splice(gt,1),gt--;continue}}}if(Ce[0]<0){mt=-1,X=!1;for(var gt=0;gt<Xe.length;gt++){var Gt=Xe[gt].match(/m=(\w+) */);if(Gt){var li=Gt[1];if(li==="video")if(Ce[0]<0)X=!0;else{mt=gt;break}else if(Ce[0]>-1){mt=gt;break}continue}if(X){if(Ce[0]<0){var Ji=Xe[gt].match(/a=ssrc:(\d+)/);if(Ji){Ce[0]=Ji[1],Xe.splice(gt,1),gt--;continue}}else{var ge=Xe[gt].match("a=ssrc:"+Ce[0]+" cname:(.+)");if(ge&&(Le=ge[1]),ge=Xe[gt].match("a=ssrc:"+Ce[0]+" msid:(.+)"),ge&&(pe=ge[1]),ge=Xe[gt].match("a=ssrc:"+Ce[0]+" mslabel:(.+)"),ge&&(ee=ge[1]),ge=Xe[gt].match("a=ssrc:"+Ce[0]+" label:(.+)"),ge&&(je=ge[1]),Xe[gt].indexOf("a=ssrc:"+ve[0])===0){Xe.splice(gt,1),gt--;continue}if(Xe[gt].indexOf("a=ssrc:"+Ce[0])===0){Xe.splice(gt,1),gt--;continue}}if(Xe[gt].length==0){Xe.splice(gt,1),gt--;continue}}}}if(Ce[0]<0)return tt.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),D;mt<0&&(mt=Xe.length),Ce[1]=Math.floor(Math.random()*4294967295),Ce[2]=Math.floor(Math.random()*4294967295),ve[1]=Math.floor(Math.random()*4294967295),ve[2]=Math.floor(Math.random()*4294967295);for(var gt=0;gt<Ce.length;gt++)Le&&(Xe.splice(mt,0,"a=ssrc:"+Ce[gt]+" cname:"+Le),mt++),pe&&(Xe.splice(mt,0,"a=ssrc:"+Ce[gt]+" msid:"+pe),mt++),ee&&(Xe.splice(mt,0,"a=ssrc:"+Ce[gt]+" mslabel:"+ee),mt++),je&&(Xe.splice(mt,0,"a=ssrc:"+Ce[gt]+" label:"+je),mt++),Le&&(Xe.splice(mt,0,"a=ssrc:"+ve[gt]+" cname:"+Le),mt++),pe&&(Xe.splice(mt,0,"a=ssrc:"+ve[gt]+" msid:"+pe),mt++),ee&&(Xe.splice(mt,0,"a=ssrc:"+ve[gt]+" mslabel:"+ee),mt++),je&&(Xe.splice(mt,0,"a=ssrc:"+ve[gt]+" label:"+je),mt++);return Xe.splice(mt,0,"a=ssrc-group:FID "+Ce[2]+" "+ve[2]),Xe.splice(mt,0,"a=ssrc-group:FID "+Ce[1]+" "+ve[1]),Xe.splice(mt,0,"a=ssrc-group:FID "+Ce[0]+" "+ve[0]),Xe.splice(mt,0,"a=ssrc-group:SIM "+Ce[0]+" "+Ce[1]+" "+Ce[2]),D=Xe.join(`\r
`),D.endsWith(`\r
`)||(D+=`\r
`),D}function H(D){return tt.debug("isAudioSendEnabled:",D),D==null?!0:D.audio===!1?!1:D.audioSend===void 0||D.audioSend===null?!0:D.audioSend===!0}function _e(D){return tt.debug("isAudioSendRequired:",D),D==null||D.audio===!1||D.audioSend===!1||D.failIfNoAudio===void 0||D.failIfNoAudio===null?!1:D.failIfNoAudio===!0}function M(D){return tt.debug("isAudioRecvEnabled:",D),D==null?!0:D.audio===!1?!1:D.audioRecv===void 0||D.audioRecv===null?!0:D.audioRecv===!0}function z(D){return tt.debug("isVideoSendEnabled:",D),D==null?!0:D.video===!1?!1:D.videoSend===void 0||D.videoSend===null?!0:D.videoSend===!0}function ce(D){return tt.debug("isVideoSendRequired:",D),D==null||D.video===!1||D.videoSend===!1||D.failIfNoVideo===void 0||D.failIfNoVideo===null?!1:D.failIfNoVideo===!0}function ie(D){return tt.debug("isVideoRecvEnabled:",D),D==null?!0:D.video===!1?!1:D.videoRecv===void 0||D.videoRecv===null?!0:D.videoRecv===!0}function Oe(D){if(tt.debug("isScreenSendEnabled:",D),D==null||K(D.video)!=="object"||K(D.video.mandatory)!=="object")return!1;var Xe=D.video.mandatory;return Xe.chromeMediaSource?Xe.chromeMediaSource==="desktop"||Xe.chromeMediaSource==="screen":Xe.mozMediaSource?Xe.mozMediaSource==="window"||Xe.mozMediaSource==="screen":Xe.mediaSource?Xe.mediaSource==="window"||Xe.mediaSource==="screen":!1}function Qe(D){return tt.debug("isDataEnabled:",D),tt.webRTCAdapter.browserDetails.browser=="edge"?(tt.warn("Edge doesn't support data channels yet"),!1):D==null?!1:D.data===!0}function st(D){return tt.debug("isTrickleEnabled:",D),D==null?!0:D===!0}}window.Janus_Talk=tt;var la=window.Janus_Talk,Ya=null,ja=null,ec="tts-"+Janus_Talk.randomString(12),fs=null;la.init({debug:"all",callback:function(){window.stopTalk=function(){Ya.destroy()},window.startTalk=function(){if(!la.isWebrtcSupported()){bootbox.alert("No WebRTC support... ");return}Ya=new la({server:window.EZUIKit.opt.rtcUrl,success:function(){Ya.attach({plugin:"rtcgw.plugin.tts",opaqueId:ec,success:function(n){ja=n,la.log("Plugin attached! ("+ja.getPlugin()+", id="+ja.getId()+")");var o=window.EZUIKit.opt.talkLink;console.log("ttsUlr",o);var c={request:"start",url:o,codec:"opus",dir:"sendrecv",audio_debug:1,url_version:"1"};window.EZUIKit.opt.talkType==="gb28181"&&(c.devProto="gb28181"),la.debug("Trying a createOffer too (audio/video sendrecv)"),ja.createOffer({media:{audio:!0,video:!1,data:!1},simulcast:!1,simulcast2:!1,success:function(u){la.debug("Got SDP!"),la.debug(u),ja.send({message:c,jsep:u}),typeof window.EZUIKit.handleTalkSuccess<"u"&&window.EZUIKit.handleTalkSuccess()},error:function(u){la.error("WebRTC error:",u),typeof window.EZUIKit.handleTalkError<"u"&&window.EZUIKit.handleTalkError(u)}})},error:function(n){console.error("  -- Error attaching plugin...",n),bootbox.alert("Error attaching plugin... "+n),window.EZUIKit.handleTalkError!=="undefined"&&window.EZUIKit.handleTalkError(n)},consentDialog:function(n){la.debug("Consent dialog should be "+(n?"on":"off")+" now")},iceState:function(n){la.log("ICE state changed to "+n)},mediaState:function(n,o){la.log("Janus "+(o?"started":"stopped")+" receiving our "+n)},webrtcState:function(n){la.log("Janus says our WebRTC PeerConnection is "+(n?"up":"down")+" now")},slowLink:function(n,o){la.warn("Janus reports problems "+(n?"sending":"receiving")+" packets on this PeerConnection ("+o+" lost packets)")},onmessage:function(n,o){la.debug(" ::: Got a message :::"),la.debug(n),o!=null&&(la.debug("Handling SDP as well..."),la.debug(o),ja.handleRemoteJsep({jsep:o}));var c=n.result;if(c!=null){if(c==="done"){bootbox.alert("The TTS Test is over"),fs!=null&&fs.stop(),fs=null;return}c==="msg"&&typeof window.EZUIKit.handleTalkMessage<"u"&&window.EZUIKit.handleTalkMessage(n);var d=c.status;d==="slow_link"&&toastr.warning("Janus apparently missed many packets we sent, maybe we should reduce the bitrate","Packet loss?",{timeOut:2e3})}},onlocalstream:function(n){la.debug(" ::: Got a local stream :::"),la.debug(n),la.attachMediaStream(document.getElementById("myaudio"),n),ja.webrtcStuff.pc.iceConnectionState!=="completed"&&ja.webrtcStuff.pc.iceConnectionState!=="connected"&&(fs==null?document.getElementById("audioright"):fs.spin());var o=n.getAudioTracks();o==null||o.length},onremotestream:function(n){la.debug(" ::: Got a remote stream :::"),la.debug(n),la.attachMediaStream(document.getElementById("peeraudio"),n);var o=n.getAudioTracks();o==null||o.length===0||document.getElementById("peeraudio").play()},ondataopen:function(n){la.log("The DataChannel is available!")},ondata:function(n){la.debug("We got data from the DataChannel! "+n)},oncleanup:function(){la.log(" ::: Got a cleanup notification :::"),fs!=null&&fs.stop(),fs=null}})},error:function(t){la.error(t),window.EZUIKit.handleTalkError!=="undefined"&&window.EZUIKit.handleTalkError(t)},destroyed:function(){}})}}}),window.janus=Ya,window.tts=ja;var tc=function(){function J(g){var t=this;Re(this,J),this.jSPlugin=g,this.codeHandler=new na,this.pluginStatus=new un(this,this.jSPlugin.params.id),this.talkChannelNo=g.talkChannelNo;var n=document.createElement("div");n.id="audioleft";var o=document.createElement("div");o.id="audioright",o.style="display:none;";var c=document.createElement("audio");c.id="myaudio",c.muted=!0,c.setAttribute("autoplay",!0),c.setAttribute("controls",!0),n.appendChild(c),n.style="display:none;";var d=document.createElement("audio");d.id="peeraudio",d.setAttribute("autoplay",!0),d.setAttribute("controls",!0),o.appendChild(d),window.EZUIKit.handleTalkError=function(u){console.log("talk err",u),typeof t.jSPlugin.handleTalkError<"u"&&t.jSPlugin.handleTalkError(u)},window.EZUIKit.handleTalkSuccess=function(u){console.log("talk success",u),typeof t.jSPlugin.handleTalkSuccess<"u"&&t.jSPlugin.handleTalkSuccess(u)},window.EZUIKit.opt={rtcUrl:"",talkLink:"",ttsUrl:"",stream:"",deviceSerial:Nn(this.jSPlugin.url).deviceSerial,channelNo:Nn(this.jSPlugin.url).channelNo},document.body.appendChild(n),document.body.appendChild(o)}return xt(J,[{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"startTalk",value:function(t){var n=this;if(this.jSPlugin.capacity&&this.jSPlugin.capacity.support_talk&&!(this.jSPlugin.capacity&&(this.jSPlugin.capacity.support_talk==="3"||this.jSPlugin.capacity.support_talk==="1")))return typeof this.jSPlugin.params.handleError=="function"&&(this.pluginStatus.loadingSetText({text:"设备不支持对讲",color:"red",delayClear:2e3}),this.jSPlugin.params.handleError({msg:"设备不支持对讲",retcode:-1e3,id:this.jSPlugin.params.id,type:"handleError"})),console.log("设备不支持对讲"),!1;var o=new FormData;o.append("accessToken",this.jSPlugin.accessToken),o.append("deviceSerial",Nn(this.jSPlugin.url).deviceSerial),o.append("channelNo",this.talkChannelNo||"0"),fetch(this.jSPlugin.env.domain+"/api/lapp/live/talk/url",{method:"POST",body:o}).then(function(c){return c.json()}).then(function(c){if(c.code==200){var d=c.data;if(d){var u=d.rtcUrl;u.indexOf("ws")===-1&&(u=u.replace("https","wss").replace("rtcgw","rtcgw-ws")),window.EZUIKit.opt.rtcUrl=u,window.EZUIKit.opt.ttsUrl="tts://"+d.ttsUrl,d.ttsUrl.indexOf("gb28181")>-1&&d.ttsUrl.indexOf("8664")>-1&&(window.EZUIKit.opt.ttsUrl=window.EZUIKit.opt.ttsUrl.replace("8664","8665")),window.EZUIKit.opt.deviceSerial=Nn(n.jSPlugin.url).deviceSerial,window.EZUIKit.opt.channelNo=n.talkChannelNo||"0";var k="talk?dev="+window.EZUIKit.opt.deviceSerial+"&chann="+window.EZUIKit.opt.channelNo+"&encodetype=2";window.EZUIKit.opt.talkLink=window.EZUIKit.opt.ttsUrl.split("?")[0]+"/"+k,d.ttsUrl.indexOf("gb28181")>-1&&(window.EZUIKit.opt.talkType="gb28181"),t&&t(d.ttsUrl.indexOf("gb28181")>-1||window.EZUIKit.opt.deviceSerial.indexOf(":")!==-1),window.EZUIKit.opt.stream=d.stream,window.startTalk(),n.jSPlugin.eventEmitter&&n.jSPlugin.eventEmitter.emit("startTalk",{eventType:"startTalk",code:0,target:n,msg:"开启对讲"})}}else console.log(c.code,n.codeHandler.matchInfo(c.code,"talk")),n.pluginStatus.loadingSetText({text:n.codeHandler.matchInfo(c.code,"talk").msg||c.msg,color:"red",delayClear:2e3}),n.jSPlugin.eventEmitter&&n.jSPlugin.eventEmitter.emit("startTalk",{eventType:"startTalk",code:-1,target:n,msg:n.codeHandler.matchInfo(c.code,"talk").msg||c.msg}),typeof n.jSPlugin.params.handleError=="function"&&n.jSPlugin.params.handleError({msg:c.msg,retcode:c.code,id:n.jSPlugin.params.id,type:"handleError"})}).catch(function(c){console.log("err",c)})}},{key:"stopTalk",value:function(){window.stopTalk(),this.jSPlugin.eventEmitter&&this.jSPlugin.eventEmitter.emit("stopTalk",{eventType:"stopTalk",code:0,target:this,msg:"结束对讲"}),document.getElementById("myaudio")&&document.getElementById("myaudio").srcObject&&document.getElementById("myaudio").srcObject.getTracks()[0].stop()}},{key:"changeTalkChannelNo",value:function(t){window.EZUIKit.opt&&window.EZUIKit.opt.channelNo&&(this.talkChannelNo=t,window.EZUIKit.opt.channelNo=t)}}]),J}(),dm=function(){function J(g){var t=this;Re(this,J),this.jSPlugin=g;var n=document.createElement("style");n.innerHTML=`
    body{
      padding: 0;
      margin: 0;
    }
    #mobile-ez-ptz-container {
      display: inline-block;
      width: 375px;
      text-align: center;
    }
    .live-ptz-title{
      height: 25px;
      font-size: 18px;
      color: #2c2c2c;
      text-align: center;
      font-weight: 700;
      margin: 24px 0 12px;
    }
    .live-ptz-intro {
      margin-bottom: 24px;
      color: #aaaaaa;
    }
    .mobile-ez-ptz-wrap {
      background-image: linear-gradient(180deg, #f6f8ff 0%, #ededed6b 50%)
    }
    #mobile-ez-ptz-container .mobile-ez-ptz-container {
      position: relative;
      width: 260px;
      height: 260px;
      background: rgba(255, 255, 255, 0.80);
      border: 1px solid rgba(255, 255, 255, 0.80);
      border-radius: 100%;
      cursor: pointer;
      overflow: hidden;
      margin: auto;
    }

    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.top {
      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-bottom: 6px solid #aaaaaa;
      position: absolute;
      display: inline-block;
      left: calc(50% - 6px);
      top: 10px;
    }

    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.top.active {
      border-bottom-color: #1890FF;
    }

    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.bottom {
      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-top: 6px solid #aaaaaa;
      position: absolute;
      display: inline-block;
      left: calc(50% - 6px);
      bottom: 10px;
    }

    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.bottom.active {
      border-top-color: #1890FF;

    }

    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.right {
      width: 0;
      height: 0;
      border-top: 6px solid transparent;
      border-bottom: 6px solid transparent;
      border-left: 6px solid #aaaaaa;
      position: absolute;
      display: inline-block;
      top: calc(50% - 6px);
      right: 10px;
    }

    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.right.active {
      border-left-color: #1890FF;

    }

    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.left {
      width: 0;
      height: 0;
      border-top: 6px solid transparent;
      border-bottom: 6px solid transparent;
      border-right: 6px solid #aaaaaa;
      position: absolute;
      display: inline-block;
      top: calc(50% - 6px);
      left: 10px;
    }

    #mobile-ez-ptz-container .mobile-ez-ptz-container .mobile-ez-ptz-icon.left.active {
      border-right-color: #1890FF;

    }

    #mobile-ez-ptz-container .mobile-ez-ptz-container .ez-ptz-main.center {
      width: 52px;
      height: 52px;
      background: #FFFFFF;
      border: 2px solid #eee;
      border-radius: 100%;
      top: calc(50% - 26px);
      left: calc(50% - 26px);
      position: absolute;
      /* box-shadow: 0px -39px 40px 6px #1890ff; */
    }

    #mobile-ez-ptz-container .mobile-ez-ptz-wrap {
      display: inline-block;
      padding: 24px 24px;
      border-radius: 100%;
      overflow: hidden;
    }

    #mobile-ez-ptz-container .ez-ptz-close {
      position: absolute;
      color: #FFFFFF;
      top: 0;
      right: 0px;
    }`,document.getElementsByTagName("head")[0].appendChild(n);var o=document.createElement("div");o.className="mobile-ez-ptz-container",o.id="mobile-ez-ptz-container",o.style="display:inline-block;width: ".concat(this.jSPlugin.width,"px;text-align:center;");var c=document.createElement("div");c.className="live-ptz-title",c.id="live-ptz-title",c.innerHTML="云台控制",document.getElementById("live-ptz-title")||o.appendChild(c);var d=document.createElement("div");d.className="live-ptz-intro",d.id="live-ptz-intro",d.innerHTML="请通过操控云台来调整摄像机视角",document.getElementById("live-ptz-intro")||o.appendChild(d);var u=document.createElement("div");u.id="mobile-ez-ptz-item",u.className="mobile-ez-ptz-wrap",u.innerHTML=`
    <div class="mobile-ez-ptz-container" id="mobile-ez-ptz-container">
      <div class="ez-ptz-main center"></div>
      <div class="mobile-ez-ptz-icon top default"></div>
      <div class="mobile-ez-ptz-icon left default"></div>
      <div class="mobile-ez-ptz-icon bottom default"></div>
      <div class="mobile-ez-ptz-icon right default"></div>
    </div>
      `,document.getElementById("mobile-ez-ptz-item")||o.appendChild(u),Ea(o,document.getElementById("".concat(this.jSPlugin.id,"-wrap"))),document.getElementById("mobile-ez-ptz-item").ontouchstart=function(k){k.preventDefault(),console.log("触摸开始"),t._handlePtzTouch(k,"start")},document.getElementById("mobile-ez-ptz-item").ontouchend=function(k){k.preventDefault(),console.log("触摸结束",k),t._handlePtzTouch(k,"stop")},document.getElementById("mobile-ez-ptz-item").onmousedown=function(k){k.preventDefault(),console.log("触摸开始"),t._handlePtzTouch(k,"start")},document.getElementById("mobile-ez-ptz-item").onmouseup=function(k){k.preventDefault(),console.log("触摸结束",k),t._handlePtzTouch(k,"stop")}}return xt(J,[{key:"show",value:function(){document.getElementById("mobile-ez-ptz-item").style="display: inline-block"}},{key:"hide",value:function(){document.getElementById("mobile-ez-ptz-item").style="display: none"}},{key:"_handlePtzTouch",value:function(t,n){var o=document.getElementById("mobile-ez-ptz-item").getBoundingClientRect(),c=o.left+130,d=o.top+130,u=t.x||t.changedTouches[0].clientX,k=t.y||t.changedTouches[0].clientY,P=u-c,S=k-d,R=0,b=this.jSPlugin.env.domain+"/api/lapp/device/ptz/start";Math.abs(P)>Math.abs(S)?P>0?(R=3,document.getElementsByClassName("mobile-ez-ptz-icon")[3].className=document.getElementsByClassName("mobile-ez-ptz-icon")[3].className.replace("default","active")):(R=2,document.getElementsByClassName("mobile-ez-ptz-icon")[1].className=document.getElementsByClassName("mobile-ez-ptz-icon")[1].className.replace("default","active")):S>0?(R=1,document.getElementsByClassName("mobile-ez-ptz-icon")[2].className=document.getElementsByClassName("mobile-ez-ptz-icon")[2].className.replace("default","active")):(R=0,document.getElementsByClassName("mobile-ez-ptz-icon")[0].className=document.getElementsByClassName("mobile-ez-ptz-icon")[0].className.replace("default","active")),document.getElementById("mobile-ez-ptz-item").style="background-image:linear-gradient(".concat(R===0?180:R===1?0:R===2?90:270,"deg, #c0ddf1 0%, rgba(100,143,252,0.00) 50%)"),n==="stop"&&(b=this.jSPlugin.env.domain+"/api/lapp/device/ptz/stop",document.getElementById("mobile-ez-ptz-item").style="",document.getElementsByClassName("mobile-ez-ptz-icon")[3].className=document.getElementsByClassName("mobile-ez-ptz-icon")[3].className.replace("active","default"),document.getElementsByClassName("mobile-ez-ptz-icon")[1].className=document.getElementsByClassName("mobile-ez-ptz-icon")[1].className.replace("active","default"),document.getElementsByClassName("mobile-ez-ptz-icon")[2].className=document.getElementsByClassName("mobile-ez-ptz-icon")[2].className.replace("active","default"),document.getElementsByClassName("mobile-ez-ptz-icon")[0].className=document.getElementsByClassName("mobile-ez-ptz-icon")[0].className.replace("active","default"));var _=new FormData;_.append("deviceSerial",Nn(this.jSPlugin.url).deviceSerial),_.append("channelNo",Nn(this.jSPlugin.url).channelNo),_.append("speed",1),_.append("direction",R),_.append("accessToken",this.jSPlugin.accessToken),fetch(b,{method:"POST",body:_}).then(function(oe){return oe.json()}).then(function(oe){oe.code==200||(oe.code==60005||oe.code==60002||oe.code==60003||oe.code==60004)&&(document.getElementById("mobile-ez-ptz-item").style="background-image:linear-gradient(".concat(R===0?180:R===1?0:R===2?90:270,"deg, #f45656 0%, rgba(100,143,252,0.00) 50%)"))}).catch(function(oe){console.log("云台调用异常",oe)})}}]),J}(),um=0,fm="成功",hm={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-0",iconId:"deviceID",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-1",iconId:"deviceName",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-2",iconId:"cloudRec",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-3",iconId:"rec",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"}]},footer:{color:"#FFFFFF",backgroundColor:"rgb(0 0 0 / 0%)",activeColor:"#1890FF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-0",iconId:"play",part:"left",defaultActive:1,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-1",iconId:"capturePicture",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-2",iconId:"sound",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-3",iconId:"pantile",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-4",iconId:"recordvideo",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-5",iconId:"talk",part:"left",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-6",iconId:"hd",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-7",iconId:"webExpend",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-footer-8",iconId:"expend",part:"right",defaultActive:0,isrender:0,themeId:"f7896c8942c9476fb439370dd974f1c0"}]}},xm={retcode:um,msg:fm,data:hm},pm={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{iconId:"deviceID",part:"left",defaultActive:0,isrender:1},{iconId:"deviceName",part:"left",defaultActive:0,isrender:1},{iconId:"cloudRec",part:"right",defaultActive:0,isrender:0},{iconId:"rec",part:"right",defaultActive:0,isrender:0}]},footer:{color:"#FFFFFF",backgroundColor:"#00000080",activeColor:"#1890FF",btnList:[{iconId:"play",part:"left",defaultActive:1,isrender:1},{iconId:"capturePicture",part:"left",defaultActive:0,isrender:0},{iconId:"sound",part:"left",defaultActive:1,isrender:1},{iconId:"pantile",part:"left",defaultActive:0,isrender:1},{iconId:"recordvideo",part:"left",defaultActive:0,isrender:0},{iconId:"talk",part:"left",defaultActive:0,isrender:1},{iconId:"zoom",part:"left",defaultActive:0,isrender:1},{iconId:"hd",part:"right",defaultActive:0,isrender:1},{iconId:"webExpend",part:"right",defaultActive:0,isrender:0},{iconId:"expend",part:"right",defaultActive:0,isrender:1}]}},Yf={data:pm},mm={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{iconId:"deviceID",part:"left",defaultActive:0,isrender:1},{iconId:"deviceName",part:"left",defaultActive:0,isrender:1},{iconId:"cloudRec",part:"right",defaultActive:0,isrender:1},{iconId:"rec",part:"right",defaultActive:0,isrender:1}]},footer:{color:"#FFFFFF",backgroundColor:"#00000080",activeColor:"#1890FF",btnList:[{iconId:"play",part:"left",defaultActive:1,isrender:1},{iconId:"capturePicture",part:"left",defaultActive:0,isrender:0},{iconId:"sound",part:"left",defaultActive:1,isrender:1},{iconId:"pantile",part:"left",defaultActive:0,isrender:0},{iconId:"recordvideo",part:"left",defaultActive:0,isrender:0},{iconId:"talk",part:"left",defaultActive:0,isrender:0},{iconId:"zoom",part:"left",defaultActive:0,isrender:1},{iconId:"speed",part:"right",defaultActive:0,isrender:1},{iconId:"hd",part:"right",defaultActive:0,isrender:0},{iconId:"webExpend",part:"right",defaultActive:0,isrender:0},{iconId:"expend",part:"right",defaultActive:0,isrender:1}]}},Xf={data:mm},_m={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-0",iconId:"deviceID",part:"left",defaultActive:0,isrender:1},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-1",iconId:"deviceName",part:"left",defaultActive:0,isrender:1},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-2",iconId:"cloudRec",part:"right",defaultActive:0,isrender:0},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-3",iconId:"rec",part:"right",defaultActive:0,isrender:0}]},footer:{color:"#FFFFFF",backgroundColor:"#00000080",activeColor:"#1890FF",btnList:[{iconId:"play",part:"left",defaultActive:1,isrender:1},{iconId:"capturePicture",part:"left",defaultActive:0,isrender:1},{iconId:"sound",part:"left",defaultActive:1,isrender:1},{iconId:"pantile",part:"left",defaultActive:0,isrender:1},{iconId:"recordvideo",part:"left",defaultActive:0,isrender:1},{iconId:"talk",part:"left",defaultActive:0,isrender:1},{iconId:"zoom",part:"left",defaultActive:0,isrender:1},{iconId:"speed",part:"right",defaultActive:0,isrender:0},{iconId:"hd",part:"right",defaultActive:0,isrender:1},{iconId:"webExpend",part:"right",defaultActive:0,isrender:1},{iconId:"expend",part:"right",defaultActive:0,isrender:1}]}},qf={data:_m},gm={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-0",iconId:"deviceID",part:"left",defaultActive:0,isrender:1},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-1",iconId:"deviceName",part:"left",defaultActive:0,isrender:1},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-2",iconId:"cloudRec",part:"right",defaultActive:0,isrender:0},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-f7896c8942c9476fb439370dd974f1c0-header-3",iconId:"rec",part:"right",defaultActive:0,isrender:0}]},footer:{color:"#FFFFFF",backgroundColor:"#00000080",activeColor:"#1890FF",btnList:[{iconId:"play",part:"left",defaultActive:1,isrender:1},{iconId:"talk",part:"left",defaultActive:0,isrender:1},{iconId:"sound",part:"left",defaultActive:1,isrender:1},{iconId:"capturePicture",part:"left",defaultActive:0,isrender:1},{iconId:"recordvideo",part:"left",defaultActive:0,isrender:1},{iconId:"pantile",part:"left",defaultActive:0,isrender:0},{iconId:"zoom",part:"left",defaultActive:0,isrender:1},{iconId:"hd",part:"right",defaultActive:0,isrender:1},{iconId:"webExpend",part:"right",defaultActive:0,isrender:0},{iconId:"expend",part:"right",defaultActive:0,isrender:1}]}},Jf={data:gm},vm={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{iconId:"deviceID",part:"left",defaultActive:0,isrender:0},{iconId:"deviceName",part:"left",defaultActive:0,isrender:0},{iconId:"cloudRec",part:"right",defaultActive:0,isrender:0},{iconId:"rec",part:"right",defaultActive:0,isrender:0}]},footer:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{iconId:"play",part:"left",defaultActive:1,isrender:0},{iconId:"capturePicture",part:"left",defaultActive:0,isrender:0},{iconId:"sound",part:"left",defaultActive:1,isrender:0},{iconId:"pantile",part:"left",defaultActive:0,isrender:0},{iconId:"recordvideo",part:"left",defaultActive:0,isrender:0},{iconId:"talk",part:"left",defaultActive:0,isrender:0},{iconId:"zoom",part:"left",defaultActive:0,isrender:0},{iconId:"hd",part:"right",defaultActive:0,isrender:0},{iconId:"webExpend",part:"right",defaultActive:0,isrender:0},{iconId:"expend",part:"right",defaultActive:0,isrender:0}]}},Kf={data:vm},ym={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{iconId:"deviceID",part:"left",defaultActive:0,isrender:1},{iconId:"deviceName",part:"left",defaultActive:0,isrender:1},{iconId:"cloudRec",part:"right",defaultActive:0,isrender:0},{iconId:"rec",part:"right",defaultActive:0,isrender:0}]},footer:{color:"#FFFFFF",backgroundColor:"#00000080",activeColor:"#1890FF",btnList:[{iconId:"play",part:"left",defaultActive:1,isrender:1},{iconId:"capturePicture",part:"left",defaultActive:0,isrender:0},{iconId:"talk",part:"left",defaultActive:0,isrender:1},{iconId:"sound",part:"left",defaultActive:1,isrender:1},{iconId:"pantile",part:"left",defaultActive:0,isrender:0},{iconId:"recordvideo",part:"left",defaultActive:0,isrender:0},{iconId:"hd",part:"right",defaultActive:0,isrender:0},{iconId:"zoom",part:"left",defaultActive:0,isrender:0},{iconId:"webExpend",part:"right",defaultActive:0,isrender:0},{iconId:"expend",part:"right",defaultActive:0,isrender:1}]}},$f={data:ym},bm={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{iconId:"deviceID",part:"left",defaultActive:0,isrender:1},{iconId:"deviceName",part:"left",defaultActive:0,isrender:1},{iconId:"cloudRec",part:"right",defaultActive:0,isrender:1},{iconId:"rec",part:"right",defaultActive:0,isrender:1}]},footer:{color:"#FFFFFF",backgroundColor:"#00000080",activeColor:"#1890FF",btnList:[{iconId:"play",part:"left",defaultActive:1,isrender:1},{iconId:"capturePicture",part:"left",defaultActive:0,isrender:1},{iconId:"sound",part:"left",defaultActive:1,isrender:1},{iconId:"pantile",part:"left",defaultActive:0,isrender:0},{iconId:"recordvideo",part:"left",defaultActive:0,isrender:1},{iconId:"zoom",part:"left",defaultActive:0,isrender:1},{iconId:"speed",part:"right",defaultActive:0,isrender:1},{iconId:"hd",part:"right",defaultActive:0,isrender:0},{iconId:"webExpend",part:"right",defaultActive:0,isrender:1},{iconId:"expend",part:"right",defaultActive:0,isrender:1}]}},Qf={data:bm},Sm={header:{color:"#FFFFFF",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{iconId:"deviceID",part:"left",defaultActive:0,isrender:0},{iconId:"deviceName",part:"left",defaultActive:0,isrender:0},{iconId:"cloudRec",part:"right",defaultActive:0,isrender:0},{iconId:"rec",part:"right",defaultActive:0,isrender:0}]},footer:{color:"#FFFFFF",backgroundColor:"#00000080",activeColor:"#1890FF",btnList:[{iconId:"play",part:"left",defaultActive:1,isrender:0},{iconId:"capturePicture",part:"left",defaultActive:0,isrender:0},{iconId:"sound",part:"left",defaultActive:1,isrender:0},{iconId:"pantile",part:"left",defaultActive:0,isrender:0},{iconId:"recordvideo",part:"left",defaultActive:0,isrender:0},{iconId:"talk",part:"left",defaultActive:0,isrender:0},{iconId:"zoom",part:"left",defaultActive:0,isrender:0},{iconId:"speed",part:"right",defaultActive:0,isrender:0},{iconId:"hd",part:"right",defaultActive:0,isrender:0},{iconId:"webExpend",part:"right",defaultActive:0,isrender:0},{iconId:"expend",part:"right",defaultActive:0,isrender:0}]}},eh={data:Sm},th=[{autoFocus:5,createTime:"2021-06-14T08:04:37.000Z",themeId:"pcLive",themeIntro:"PC直播全量版",themeName:"PC直播全量版",themeType:"webLive",updateTime:"2021-06-14T08:04:37.000Z",label:"官方",labelPic:"https://resource.eziot.com/group1/M00/00/8A/CtwQEmLr_DmANlElAAA-xyivSaw030.png",poster:"https://resource.eziot.com/group1/M00/00/89/CtwQEmLl8r-AZU7wAAETKlvgerU237.png",header:qf.data.header,footer:qf.data.footer},{autoFocus:5,createTime:"2021-06-14T08:04:37.000Z",themeId:"security",themeIntro:"PC直播安防版",themeName:"PC直播安防版",themeType:"webLive",updateTime:"2021-06-14T08:04:37.000Z",label:"官方",labelPic:"https://resource.eziot.com/group1/M00/00/8A/CtwQEmLr_DmANlElAAA-xyivSaw030.png",poster:"https://resource.eziot.com/group1/M00/00/89/CtwQEmLl8r-AZU7wAAETKlvgerU237.png",header:Jf.data.header,footer:Jf.data.footer},{autoFocus:5,createTime:"2021-06-14T08:04:37.000Z",themeId:"voice",themeIntro:"PC直播语音版",themeName:"PC直播语音版",themeType:"webLive",updateTime:"2021-06-14T08:04:37.000Z",label:"官方",labelPic:"https://resource.eziot.com/group1/M00/00/8A/CtwQEmLr_DmANlElAAA-xyivSaw030.png",poster:"https://resource.eziot.com/group1/M00/00/89/CtwQEmLl8r-AZU7wAAETKlvgerU237.png",header:$f.data.header,footer:$f.data.footer},{autoFocus:5,createTime:"2021-06-14T08:04:37.000Z",themeId:"simple",themeIntro:"PC直播极简版",themeName:"PC直播极简版",themeType:"webLive",updateTime:"2021-06-14T08:04:37.000Z",label:"官方",labelPic:"https://resource.eziot.com/group1/M00/00/8A/CtwQEmLr_DmANlElAAA-xyivSaw030.png",poster:"",header:Kf.data.header,footer:Kf.data.footer},{autoFocus:5,createTime:"2021-06-14T08:04:37.000Z",themeId:"pcRec",themeIntro:"PC回放全量版",themeName:"PC回放全量版",themeType:"webRec",updateTime:"2021-06-14T08:04:37.000Z",label:"官方",labelPic:"https://resource.eziot.com/group1/M00/00/8A/CtwQEmLr_DmANlElAAA-xyivSaw030.png",poster:"https://resource.eziot.com/group1/M00/00/89/CtwQEmLl8r-AZU7wAAETKlvgerU237.png",header:Qf.data.header,footer:Qf.data.footer},{autoFocus:5,createTime:"2021-06-14T08:04:37.000Z",themeId:"mobileLive",themeIntro:"Mobile直播全量版",themeName:"Mobile直播全量版",themeType:"mobileLive",updateTime:"2021-06-14T08:04:37.000Z",label:"官方",labelPic:"https://resource.eziot.com/group1/M00/00/8A/CtwQEmLr_GmAL5IhAABZs1vUK0s564.png",poster:"https://resource.eziot.com/group1/M00/00/89/CtwQEmLl8r-AZU7wAAETKlvgerU237.png",header:Yf.data.header,footer:Yf.data.footer},{autoFocus:5,createTime:"2021-06-14T08:04:37.000Z",themeId:"mobileRec",themeIntro:"Mobile回放全量版",themeName:"Mobile回放全量版",themeType:"mobileRec",updateTime:"2021-06-14T08:04:37.000Z",label:"官方",labelPic:"https://resource.eziot.com/group1/M00/00/8A/CtwQEmLr_GmAL5IhAABZs1vUK0s564.png",poster:"https://resource.eziot.com/group1/M00/00/89/CtwQEmLl8r-AZU7wAAETKlvgerU237.png",header:Xf.data.header,footer:Xf.data.footer},{autoFocus:0,createTime:"2021-06-14T08:04:37.000Z",themeId:"miniRec",themeIntro:"Mobile回放全量版",themeName:"Mobile回放全量版",themeType:"mobileRec",updateTime:"2021-06-14T08:04:37.000Z",label:"官方",labelPic:"https://resource.eziot.com/group1/M00/00/8A/CtwQEmLr_GmAL5IhAABZs1vUK0s564.png",poster:"",header:eh.data.header,footer:eh.data.footer}],gl=function(){function J(g){var t=this;Re(this,J),this.jSPlugin=g,this.enableZoom=!1,this.videoWidth=1920,this.videoHeight=1080,this.currentScale=1,this.currentPosition={x:0,y:0,xPercent:.1,yPercent:.1,xCurrentVideo:0,yCurrentVideo:0,left:0,top:0,right:1920,bottom:1080},this.clientRect=document.getElementById(g.id).getBoundingClientRect(),this.DOM=document.getElementById(g.id),this.isFullScreen=!1;var n=document.createElement("div");n.id="".concat(g.id,"-zoom-container"),n.style=`position: absolute;
    display:none;
    left: 12px;
    bottom: `.concat(g.isMobile?"48px":"80px",`;
    zoom: `).concat(g.isMobile?"0.8":"1");var o=`
    <div
    style="display: inline-flex;justify-content: space-between;flex-direction: column;width: 36px;height: 160px;background:rgba(0,0,0,0.60);border-radius: 2px;align-items: center;">
    <div id="`.concat(this.jSPlugin.id,`-scale-value" style="font-size: 12px;color:#FFFFFF;margin:10px 0;">2.0X</div>
    <div style="width: 20px;height: 20px;margin-bottom:4px;" id="`).concat(this.jSPlugin.id,`-addScale">
      <?xml version="1.0" encoding="utf-8"?>
      <svg version="1.1" fill="#FFFFFF" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
         viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">
      <title>放大</title>
      <g id="矩形">
        <rect class="st0" width="20" height="20" fill="none"/>
      </g>
      <g id="形状结合">
        <path class="st1" d="M10,3.8c3.5,0,6.2,2.8,6.2,6.2s-2.8,6.2-6.2,6.2S3.8,13.5,3.8,10S6.5,3.8,10,3.8z M10,5c-2.8,0-5,2.2-5,5
          s2.2,5,5,5s5-2.2,5-5S12.8,5,10,5z"/>
      </g>
      <g id="路径-4">
        <path class="st2" d="M12.5,10.7h-5c-0.3,0-0.6-0.3-0.6-0.6s0.3-0.6,0.6-0.6h5c0.3,0,0.6,0.3,0.6,0.6S12.8,10.7,12.5,10.7z"/>
      </g>
      <g id="路径-4备份">
        <path class="st2" d="M10,13.2c-0.3,0-0.6-0.3-0.6-0.6v-5c0-0.3,0.3-0.6,0.6-0.6s0.6,0.3,0.6,0.6v5C10.6,12.9,10.3,13.2,10,13.2z"/>
      </g>
      </svg>
    </div>
    <div style="
    position: relative;
    width: 2px;
    height: 64px;
    border-radius: 2px;
    background: rgba(255,255,255,0.75);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;">
    <div class="scale-body-line-dot" id="`).concat(this.jSPlugin.id,`-scale-body-line-dot" style="width: 6px;
      height: 6px;
      background: #FFFFFF;
      border-radius: 100%;
      position: absolute;
      border: 1px solid #407AFF;"></div>
      <div id="`).concat(this.jSPlugin.id,`-line-dot" style="width: 2px;
      height: 0%;
      border-radius: 2px;
      background: #407AFF;
      bottom: 0;"></div>
    </div>
    <div style="width: 20px;height: 20px;margin: 4px 0 10px;" id="`).concat(this.jSPlugin.id,`-subScale">
      <?xml version="1.0" encoding="utf-8"?>
      <svg fill="#FFFFFF" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">
        <title>缩小</title>
        <g id="矩形">
          <rect class="st0" width="20" height="20" fill="none"/>
        </g>
        <g id="形状结合">
          <path class="st1" d="M10,3.8c3.5,0,6.2,2.8,6.2,6.2s-2.8,6.2-6.2,6.2S3.8,13.5,3.8,10S6.5,3.8,10,3.8z M10,5c-2.8,0-5,2.2-5,5
            s2.2,5,5,5s5-2.2,5-5S12.8,5,10,5z"/>
        </g>
        <g id="路径-4">
          <path class="st2" d="M12.5,10.7h-5c-0.3,0-0.6-0.3-0.6-0.6s0.3-0.6,0.6-0.6h5c0.3,0,0.6,0.3,0.6,0.6S12.8,10.7,12.5,10.7z"/>
        </g>
      </svg>
    </div>
  </div>
    `);n.innerHTML=o,document.getElementById("".concat(g.id,"-audioControls-left")).parentNode.appendChild(n),document.getElementById("".concat(g.id,"-addScale")).onclick=function(){t.addScale()},document.getElementById("".concat(g.id,"-subScale")).onclick=function(){t.subScale()}}return xt(J,[{key:"onMouseDown",value:function(t){var n=this.enableZoom;if(!n)return!1;this.moveX=t.clientX,this.moveY=t.clientY}},{key:"onMouseUp",value:function(t){var n=this.currentPosition,o=this.enableZoom;if(!o)return!1;n.left=n.left-(t.clientX-this.moveX),n.top=n.top-(t.clientY-this.moveY),this.doScale()}},{key:"onTouchstart",value:function(t){var n=this.enableZoom;if(!n||this.jSPlugin.use3DZoom||this.currentScale===1)return!1;var o=this.jSPlugin.beforeMobileZoomVerify();if(!o)return!1;if(!this.inited){var c=this.jSPlugin.jSPlugin._JSPlayM4_GetFrameInfo(0);this.videoWidth=c.width,this.videoHeight=c.height,this.currentPosition.left=0,this.currentPosition.top=0,this.isFullScreen?(this.currentPosition.right=c.height,this.currentPosition.bottom=c.width):(this.currentPosition.right=c.width,this.currentPosition.bottom=c.height),this.inited=!0}var d=t.touches,u=d[0];if(u){var k={clientX:0,clientY:0};this.isFullScreen?(k.clientX=u.clientY,k.clientY=this.videoHeight-u.clientX):(k.clientX=u.clientX,k.clientY=u.clientY),this.point1=k}}},{key:"onTouchend",value:function(t){var n=this,o=this.currentPosition,c=this.enableZoom;if(!c)return!1;var d=t.changedTouches,u=d[0];this.isFullScreen?(o.top=o.top-(u.clientY-this.point1.clientX),o.left=o.left-(this.videoHeight-u.clientX-this.point1.clientY)):(o.left=o.left-(u.clientX-n.point1.clientX),o.top=o.top-(u.clientY-n.point1.clientY)),n.doScale()}},{key:"renderDot",value:function(){var t=this.currentScale;document.getElementById("".concat(this.jSPlugin.id,"-scale-value"))&&(document.getElementById("".concat(this.jSPlugin.id,"-scale-value")).innerHTML="".concat(t,".0X")),document.getElementById("".concat(this.jSPlugin.id,"-line-dot"))&&(document.getElementById("".concat(this.jSPlugin.id,"-line-dot")).style.height="".concat((t-1)/7*100,"%")),document.getElementById("".concat(this.jSPlugin.id,"-scale-body-line-dot"))&&(document.getElementById("".concat(this.jSPlugin.id,"-scale-body-line-dot")).style.bottom="calc(".concat((t-1)/7*100,"% - 3px)"))}},{key:"getTopMostElement",value:function(t,n,o){var c=t?t.getBoundingClientRect():null,d=n?n.getBoundingClientRect():null,u=o?o.getBoundingClientRect():null;if(!c&&!d&&!u)return null;if(!c)return d.top<u.top?n:o;if(!d)return c.top<u.top?t:o;if(!u)return c.top<d.top?t:n;var k=[c.top,d.top,u.top],P=Math.max.apply(Math,k);return c.top===P?t:d.top===P?n:o}},{key:"handleFullscreen",value:function(t,n,o){this.isFullScreen=t,this.clientRect={width:n,height:o}}},{key:"startZoom",value:function(){var t=this,n=this.jSPlugin.jSPlugin._JSPlayM4_GetFrameInfo(0);this.videoWidth=n.width||this.jSPlugin.width,this.videoHeight=n.height||this.jSPlugin.height,this.currentPosition.left=0,this.currentPosition.top=0,this.isFullScreen?(this.currentPosition.right=n.height,this.currentPosition.bottom=n.width,this.jSPlugin.jSPlugin._JSPlayM4_SetDisplayRegion(this.videoWidth,0,0,this.videoHeight,!1)):(this.currentPosition.right=n.width,this.currentPosition.bottom=n.height,this.jSPlugin.jSPlugin._JSPlayM4_SetDisplayRegion(0,this.videoWidth,0,this.videoHeight,!1)),this.currentScale=1,document.getElementById("".concat(this.jSPlugin.id,"-zoom-container"))&&(document.getElementById("".concat(this.jSPlugin.id,"-zoom-container")).style.display="block");try{this.jSPlugin.jSPlugin._JSPlayM4_SetDisplayRegion(0,this.videoWidth,0,this.videoHeight,!1),this.jSPlugin.jSPlugin.bEZoom=!0,this.jSPlugin.eventEmitter&&this.jSPlugin.eventEmitter.emit("startZoom",{eventType:"startZoom",code:0,target:this,msg:"开启电子放大"})}catch(o){console.log(o),this.jSPlugin.eventEmitter&&this.jSPlugin.eventEmitter.emit("startZoom",{eventType:"startZoom",code:-1,target:this,msg:o||"开启电子放大失败"})}this.renderDot(),this.enableZoom=!0,this.jSPlugin.isMobile?(document.getElementById("".concat(this.jSPlugin.id,"canvas0"))&&(document.getElementById("".concat(this.jSPlugin.id,"canvas0")).addEventListener("touchstart",function(o){return t.onTouchstart(o)}),document.getElementById("".concat(this.jSPlugin.id,"canvas0")).addEventListener("touchend",function(o){return t.onTouchend(o)})),document.getElementById("".concat(this.jSPlugin.id,"canvas_draw0"))&&(document.getElementById("".concat(this.jSPlugin.id,"canvas_draw0")).addEventListener("touchstart",function(o){return t.onTouchstart(o)}),document.getElementById("".concat(this.jSPlugin.id,"canvas_draw0")).addEventListener("touchend",function(o){return t.onTouchend(o)})),document.getElementById("".concat(this.jSPlugin.id,"-player"))&&(document.getElementById("".concat(this.jSPlugin.id,"-player")).addEventListener("touchstart",function(o){return t.onTouchstart(o)}),document.getElementById("".concat(this.jSPlugin.id,"-player")).addEventListener("touchend",function(o){return t.onTouchend(o)}))):(document.getElementById("".concat(this.jSPlugin.id,"canvas0"))&&(document.getElementById("".concat(this.jSPlugin.id,"canvas0")).addEventListener("mousedown",function(o){return t.onMouseDown(o)}),document.getElementById("".concat(this.jSPlugin.id,"canvas0")).addEventListener("mouseup",function(o){return t.onMouseUp(o)})),document.getElementById("".concat(this.jSPlugin.id,"canvas_draw0"))&&(document.getElementById("".concat(this.jSPlugin.id,"canvas_draw0")).addEventListener("mousedown",function(o){return t.onMouseDown(o)}),document.getElementById("".concat(this.jSPlugin.id,"canvas_draw0")).addEventListener("mouseup",function(o){return t.onMouseUp(o)})),document.getElementById("".concat(this.jSPlugin.id,"-player"))&&(document.getElementById("".concat(this.jSPlugin.id,"-player")).addEventListener("mousedown",function(o){return t.onMouseDown(o)}),document.getElementById("".concat(this.jSPlugin.id,"-player")).addEventListener("mouseup",function(o){return t.onMouseUp(o)})))}},{key:"stopZoom",value:function(){this.currentScale=1;try{this.jSPlugin.jSPlugin._JSPlayM4_SetDisplayRegion(0,this.videoWidth,0,this.videoHeight,!1),this.jSPlugin.eventEmitter&&this.jSPlugin.eventEmitter.emit("stopZoom",{eventType:"stopZoom",code:0,target:this,msg:"关闭电子放大"})}catch(t){console.log(t),this.jSPlugin.eventEmitter&&this.jSPlugin.eventEmitter.emit("stopZoom",{eventType:"stopZoom",code:-1,target:this,msg:t||"关闭电子放大失败"})}document.getElementById("".concat(this.jSPlugin.id,"-zoom-container"))&&(document.getElementById("".concat(this.jSPlugin.id,"-zoom-container")).style.display="none"),this.renderDot(),this.enableZoom=!1}},{key:"doScale",value:function(){var t=this.currentPosition,n=this.currentScale;this.isFullScreen?(t.left=t.left+.5*(t.right-t.left)-.5*(this.videoWidth/(n*2)),t.left<0?t.left=0:t.left>this.videoWidth-this.videoWidth/(n*2)&&(t.left=this.videoWidth-this.videoWidth/(n*2)),t.right=t.left+this.videoWidth/(n*2),t.top=t.top+.5*(t.bottom-t.top)-.5*(this.videoHeight/(n*2)),t.top<0?t.top=0:t.top>this.videoHeight-this.videoHeight/(n*2)&&(t.top=this.videoHeight-this.videoHeight/(n*2)),t.bottom=t.top+this.videoHeight/(n*2)):(t.left=t.left+t.xPercent*(t.right-t.left)-.5*(this.videoWidth/n),t.left<0?t.left=0:t.left>this.videoWidth-this.videoWidth/n&&(t.left=this.videoWidth-this.videoWidth/n),t.right=t.left+this.videoWidth/n,t.top=t.top+t.yPercent*(t.bottom-t.top)-.5*(this.videoHeight/n),t.top<0?t.top=0:t.top>this.videoHeight-this.videoHeight/n&&(t.top=this.videoHeight-this.videoHeight/n),t.bottom=t.top+this.videoHeight/n),t.left=parseInt(t.left,10),t.right=parseInt(t.right,10),t.top=parseInt(t.top,10),t.bottom=parseInt(t.bottom,10);try{this.isFullScreen?this.jSPlugin.jSPlugin._JSPlayM4_SetDisplayRegion(t.top,t.bottom,t.left,t.right,n!=1,!0):t.left<t.right&&t.top<t.bottom&&t.bottom<=this.videoHeight&&t.right<=this.videoWidth&&this.jSPlugin.jSPlugin._JSPlayM4_SetDisplayRegion(t.left,t.right,t.top,t.bottom,n!=1)}catch(o){console.log(o)}this.renderDot()}},{key:"addScale",value:function(){var t=this.currentScale,n=this.currentPosition;if(t>=8)return console.log("达到最大倍率了"),this.jSPlugin.Message&&this.jSPlugin.Message.default("已经放大到最大倍数8.0X",document.getElementById("".concat(this.jSPlugin.id))),!1;this.currentScale++,n.xPercent=.5,n.yPercent=.5,this.doScale()}},{key:"subScale",value:function(){var t=this.currentScale,n=this.currentPosition;if(t<=1)return console.log("达到最小倍率了"),!1;this.currentScale--,n.xPercent=.5,n.yPercent=.5,this.doScale()}}]),J}(),Jo=function(g){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},k="";u=Object.assign(u,d);var P=new Headers;Object.keys(u).map(function(b){P.append(b,u[b])}),u=P,Object.keys(Object.assign({},n)).forEach(function(b){var _=n[b];typeof n[b]=="string"&&(_=n[b].replace("%","%25")),!(typeof n[b]>"u")&&(k+="&".concat(b,"=").concat(encodeURIComponent(_)))}),k.length>0&&(k=["GET","PUT","DELETE"].indexOf(t.toUpperCase())!==-1?"?".concat(k.slice(1)):k.slice(1));var S=g+(["GET","PUT","DELETE"].indexOf(t.toUpperCase())!==-1?k:""),R={headers:u,method:t};t==="POST"&&(R.body=k),t==="POST"&&d&&d["Content-Type"]==="application/json"&&(R.body=JSON.stringify(n)),t==="GET"&&(S.indexOf("?")===-1?S+="?_r=".concat(Math.random()):S+="&_r=".concat(Math.random())),fetch(S,R).then(function(b){var _=b.headers.get("content-type");return _&&_.indexOf("application/json")!==-1?b.json():b.text()}).then(function(b){o&&o(b)}).catch(function(b){c&&c(b)})},ih=function(g,t,n,o,c,d){return`
<svg  id="`.concat(g,'-hdSelect-icon" class="theme-icon-item-icon ').concat(t,`-btn" data-type='hd' style="display: `).concat(["hd","0"].includes(d.level)?"flex":"none",'"  fill="').concat(n,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(o>c?48:32,'" height="').concat(o>c?48:32,`" viewBox="-6 -6 32 32">
    <path d="M17.4,16.5H3.1c-0.8,0-1.4-0.6-1.4-1.4V5.4c0-0.9,0.7-1.6,1.6-1.6h14.1c0.8,0,1.4,0.6,1.4,1.4v9.8 C18.8,15.9,18.2,16.5,17.4,16.5z M3.3,5C3.1,5,2.9,5.2,2.9,5.4v9.7c0,0.2,0.1,0.3,0.3,0.3h14.3c0.2,0,0.3-0.1,0.3-0.3V5.3 c0-0.2-0.1-0.3-0.3-0.3H3.3z" />
    <path d="M13.3,13.6h-1.6c-0.4,0-0.7-0.3-0.7-0.7V7.4c0-0.4,0.3-0.7,0.7-0.7h1.6c1.2,0,2.2,1,2.2,2.2v2.4 C15.6,12.6,14.6,13.6,13.3,13.6z M12.2,12.5h1.1c0.6,0,1.1-0.5,1.1-1.1V9c0-0.6-0.5-1.1-1.1-1.1h-1.1V12.5z" />
    <path d="M5.5,13.6c-0.3,0-0.6-0.2-0.6-0.6V7.3C5,7,5.2,6.8,5.5,6.8S6.1,7,6.1,7.3v5.7C6.1,13.4,5.8,13.6,5.5,13.6z" />
    <path d="M9.2,13.6c-0.3,0-0.6-0.2-0.6-0.6V7.3c0-0.3,0.2-0.6,0.6-0.6S9.8,7,9.8,7.3v5.7C9.8,13.4,9.5,13.6,9.2,13.6z" />
    <rect x="5.6" y="9.6" width="3.6" height="1.1" />
</svg>
`)},nh=function(g,t,n,o,c,d){return`
<svg id="`.concat(g,'-sdSelect-icon" class="theme-icon-item-icon ').concat(t,`-btn" data-type='sd' style="display: `).concat(["sd","1"].includes(d.level)?"flex":"none",'"  fill="').concat(n,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(o>c?48:32,'" height="').concat(o>c?48:32,`" viewBox="-6 -8 40 44">
    <path d="M24.1,23.8h-20c-1.1,0-1.9-0.9-1.9-1.9V8.4c0-1.2,1-2.2,2.1-2.2h19.7c1.1,0,1.9,0.9,1.9,1.9v13.8
        C26,23,25.1,23.8,24.1,23.8z M4.3,7.7C4,7.7,3.7,8,3.7,8.4v13.5c0,0.2,0.2,0.4,0.4,0.4h20c0.2,0,0.4-0.2,0.4-0.4V8.2
        c0-0.2-0.2-0.4-0.4-0.4H4.3z"/>
    <path d="M18.4,19.8h-2.2c-0.5,0-0.9-0.4-0.9-0.9v-7.8c0-0.5,0.4-0.9,0.9-0.9h2.2c1.7,0,3.1,1.4,3.1,3.1v3.3
    C21.5,18.4,20.1,19.8,18.4,19.8z M16.7,18.3h1.6c0.9,0,1.6-0.7,1.6-1.6v-3.3c0-0.9-0.7-1.6-1.6-1.6h-1.6V18.3z"/>
    <path d="M10.5,19.8c1.2,0,2.1-0.3,2.7-0.9c0.6-0.6,0.9-1.3,0.9-2.1c0-0.8-0.3-1.4-0.9-1.8c-0.4-0.2-1.1-0.5-2.2-0.8
        l0,0l-1-0.2c-0.4-0.1-0.8-0.2-1-0.4c-0.4-0.2-0.6-0.5-0.6-0.9c0-0.4,0.1-0.6,0.4-0.9s0.7-0.3,1.3-0.3c0.8,0,1.4,0.2,1.8,0.6
        c0.2,0.3,0.3,0.6,0.4,0.9l0,0h1.4c0-0.6-0.2-1.1-0.5-1.6c-0.6-0.8-1.6-1.2-2.9-1.2c-1,0-1.8,0.3-2.4,0.8c-0.6,0.5-0.9,1.2-0.9,2
        c0,0.7,0.3,1.3,1,1.7c0.4,0.2,0.9,0.4,1.7,0.6l0,0l1.2,0.3c0.6,0.2,1.1,0.3,1.3,0.4c0.3,0.2,0.5,0.5,0.5,0.9c0,0.5-0.2,0.9-0.6,1.1
        s-0.9,0.4-1.5,0.4c-0.9,0-1.6-0.2-2-0.7c-0.2-0.3-0.3-0.6-0.4-1.1l0,0H6.8c0,0.9,0.3,1.6,0.9,2.2C8.2,19.5,9.2,19.8,10.5,19.8z"/>
    <defs>
    <filter id="Adobe_OpacityMaskFilter" filterUnits="userSpaceOnUse" x="15.2" y="10.3" width="6.2" height="9.5">
        <feColorMatrix  type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0"/>
    </filter>
    </defs>
    <mask maskUnits="userSpaceOnUse" x="15.2" y="10.3" width="6.2" height="9.5" id="mask-2_2_">
    <g class="st2">
        <path id="path-1_2_" class="st3" d="M24.1,23.1h-20c-0.6,0-1.2-0.5-1.2-1.2V8.2C2.9,7.5,3.5,7,4.1,7h19.7c0.8,0,1.4,0.6,1.4,1.4
        v13.5C25.2,22.6,24.7,23.1,24.1,23.1z"/>
    </g>
    </mask>
    <defs>
    <filter id="Adobe_OpacityMaskFilter_1_" filterUnits="userSpaceOnUse" x="6.8" y="10.3" width="7.3" height="9.5">
        <feColorMatrix  type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0"/>
    </filter>
    </defs>
    <mask maskUnits="userSpaceOnUse" x="6.8" y="10.3" width="7.3" height="9.5" id="mask-2_3_">
    <g class="st5">
        <path id="path-1_3_" class="st3" d="M24.1,23.1h-20c-0.6,0-1.2-0.5-1.2-1.2V8.2C2.9,7.5,3.5,7,4.1,7h19.7c0.8,0,1.4,0.6,1.4,1.4
        v13.5C25.2,22.6,24.7,23.1,24.1,23.1z"/>
    </g>
    </mask>
</svg>
`)},rh=[{name:"高清",level:"0",streamType:1,icon:ih},{name:"标清",level:"1",streamType:1,icon:nh}],Cm=[{name:"高清",level:"hd",streamType:1,icon:ih},{name:"标清",level:"sd",streamType:2,icon:nh}],ic=function(g,t,n,o){var c=function(P){console.log(P),P.meta&&n(P)},d=function(P){console.log(P),o(P)},u="".concat(g.env.domain,"/api/service/media/template/getDetail?accessToken=").concat(g.accessToken,"&id=").concat(t);fetch(u,{method:"GET"}).then(function(k){return k.json()}).then(function(k){console.log("get theme data",k),c(k)}).catch(function(k){d(k)})},Tm=function(g,t,n,o,c){return new Promise(function(d,u){Lr("".concat(g,"/api/lapp/device/ptz/mirror"),"POST",{accessToken:t,deviceSerial:n,channelNo:o,command:c},"",d)})},Pm=function(g,t,n,o){var c="".concat(g,"/api/service/device/capacity/video/quality?accessToken=").concat(t,"&deviceSerial=").concat(n,"&channelNo=").concat(o);return fetch(c,{method:"GET"}).then(function(d){return d.json()}).then(function(d){if(d.meta&&d.meta.code===200&&d.data&&d.data.length>0){var u=d.data.find(function(k){return k.streamTypeIn===2});if(u)return Cm}return rh}).catch(function(){return rh})},ah=function(g){var t="";return Object.keys(g).map(function(n,o){t+="".concat(n,":").concat(g[n]).concat(o<Object.keys(g).length-1?";":"")}),t},Ir=500,wm=function(){function J(g){var t=this;if(Re(this,J),this.jSPlugin=g,this.isNeedRenderHeader=!1,this.isNeedRenderFooter=!1,this.autoFocus=0,this.autoFocusTimer=null,this.recordTimer=null,this.nextRate=1,this.showHD=!1,this.themeInited=!1,this.decoderState={state:{isEditing:!1,play:!1,pauseDate:null,sound:!1,recordvideo:!1,recordCount:"00:00",talk:!1,zoom:!1,pantile:!1,hd:{},hdList:[],speed:!1,expend:!1,webExpend:!1,cloudRec:Nn(g.url).type==="cloud.rec",rec:Nn(g.url).type==="rec",type:Nn(g.url).type}},this.allowZoom=!this.jSPlugin.use3DZoom,this.zoomDisable=!1,this.pluginStatus=new un(this,this.jSPlugin.params.id),this.inited=!1,this.isMobile=Vr(),typeof g.isMobile<"u"&&(this.isMobile=g.isMobile),this.pauseTime=null,this.themeData=xm.data,this.deviceQ,this.jSPlugin.themeId)switch(this.jSPlugin.themeId){case"pcLive":case"pcRec":case"mobileLive":case"mobileRec":case"security":case"voice":case"simple":case"miniRec":var n=Pr.find(th,function(o){return o.themeId===t.jSPlugin.themeId});n&&(this.themeData=n),this.initThemeData();break;case"themeData":this.themeData=this.jSPlugin.params.themeData,this.initThemeData();break;default:this.fetchThemeData(this.jSPlugin.themeId);break}this.jSPlugin.Talk||(this.jSPlugin.Talk=new tc(this.jSPlugin)),qn("".concat(this.jSPlugin.staticPath,"/speed/speed.css")),qn("".concat(this.jSPlugin.staticPath,"/css/theme.css"))}return xt(J,[{key:"fetchThemeData",value:function(t){var n=this,o=function(u){u.meta.code==0&&u.data&&(n.themeData=u.data,u.data.header&&(n.themeData.header=u.data.header,n.themeData.header.btnList=n.themeData.header.btnList.sort(function(k,P){return k.btnKey.split("-")[3]-P.btnKey.split("-")[3]})),u.data.footer&&(n.themeData.footer=u.data.footer,n.themeData.footer.btnList=n.themeData.footer.btnList.sort(function(k,P){return k.btnKey.split("-")[3]-P.btnKey.split("-")[3]})),n.initThemeData(),n.renderThemeData())},c=function(){n.renderThemeData()};ic(this.jSPlugin,t,o,c)}},{key:"changeTheme",value:function(t){var n=this;if(typeof t=="string")switch(this.jSPlugin.themeId=t,this.jSPlugin.themeId){case"pcLive":case"pcRec":case"mobileLive":case"mobileRec":case"security":case"voice":case"simple":case"miniRec":var o=Pr.find(th,function(c){return c.themeId===n.jSPlugin.themeId});o&&(this.themeData=o),this.initThemeData();break;default:this.fetchThemeData(t);break}else K(t)==="object"&&(this.themeData=t,this.initThemeData(),this.decoderState.state.isEditing&&this.editStart());this.jSPlugin&&this.jSPlugin.handleThemeChange&&this.jSPlugin.handleThemeChange(t)}},{key:"renderThemeData",value:function(){var t=this,n=this.themeData,o=n.header,c=n.footer;if(this.isNeedRenderHeader&&o&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.background=o.backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.color=o.color.replace("-diy",""),o.btnList.map(function(P,S){P.isrender&&t.setDecoderState(_t({},P.iconId,t.decoderState.state[P.iconId]))})),this.isNeedRenderFooter&&c)document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=c.backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=c.color.replace("-diy",""),c.btnList.map(function(P,S){if(P.isrender&&t.setDecoderState(_t({},P.iconId,t.decoderState.state[P.iconId])),P.iconId==="play"&&P.defaultActive&&!t.themeInited)var R=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(R),t.jSPlugin.play(),t.themeInited=!0)},50)}),this.themeData.autoFocus>0&&(this.autoFocus=parseInt(this.themeData.autoFocus),this.startAutoFocus(),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).addEventListener("click",function(){document.getElementById("".concat(t.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.opacity=1,document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.pointerEvents="all"),t.startAutoFocus()})),this.setDecoderState({cloudRec:Nn(this.jSPlugin.url).type==="cloud.rec",rec:Nn(this.jSPlugin.url).type==="rec",type:Nn(this.jSPlugin.url).type});else if(!this.themeInited)var d=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(d),t.jSPlugin.play(),t.themeInited=!0)},50);var u=Pr.findIndex(this.themeData.footer.btnList,function(P){return P.iconId==="zoom"&&P.isrender>0})>=0;u&&(this.isMobile&&!this.jSPlugin.use3DZoom&&(this.jSPlugin.beforeMobileZoomVerify=function(){var P=t.decoderState.state.play;return!!P}),this.jSPlugin.Zoom=new gl(this.jSPlugin));var k=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(k),t.jSPlugin.reSize(t.jSPlugin.params.width,t.jSPlugin.params.height))},50)}},{key:"setDecoderState",value:function(t){var n=this,o=this.themeData,c=o.header,d=o.footer;Object.keys(t).map(function(u,k){var P="#FFFFFF",S="#FFFFFF",R=c.btnList.findIndex(function(b){return b.iconId===u});switch(R===-1?(P=d.color.replace("-diy",""),S=d.activeColor.replace("-diy","")):(P=c.color.replace("-diy",""),S=d.activeColor.replace("-diy","")),u){case"play":t[u]?document.getElementById("".concat(n.jSPlugin.id,"-play"))&&(document.getElementById("".concat(n.jSPlugin.id,"-play-content")).children[0].children[0].style="display:inline-block",document.getElementById("".concat(n.jSPlugin.id,"-play-content")).children[0].children[1].style="display:none",document.getElementById("".concat(n.jSPlugin.id,"-play")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-play-content")).childNodes[0].children[0].style.fill=t[u]?S:P):document.getElementById("".concat(n.jSPlugin.id,"-play"))&&(document.getElementById("".concat(n.jSPlugin.id,"-play-content")).children[0].children[1].style="display:inline-block",document.getElementById("".concat(n.jSPlugin.id,"-play-content")).children[0].children[0].style="display:none",document.getElementById("".concat(n.jSPlugin.id,"-play")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-play-content")).childNodes[0].children[1].style.fill=t[u]?S:P);break;case"sound":document.getElementById("".concat(n.jSPlugin.id,"-sound"))&&(t[u]?(document.getElementById("".concat(n.jSPlugin.id,"-sound-content")).children[0].children[1].style="display:inline-block",document.getElementById("".concat(n.jSPlugin.id,"-sound-content")).children[0].children[0].style="display:none",document.getElementById("".concat(n.jSPlugin.id,"-sound")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-sound-content")).childNodes[0].children[1].style.fill=t[u]?S:P):(document.getElementById("".concat(n.jSPlugin.id,"-sound-content")).children[0].children[0].style="display:inline-block",document.getElementById("".concat(n.jSPlugin.id,"-sound-content")).children[0].children[1].style="display:none",document.getElementById("".concat(n.jSPlugin.id,"-sound")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-sound-content")).childNodes[0].children[0].style.fill=t[u]?S:P));break;case"recordvideo":document.getElementById("".concat(n.jSPlugin.id,"-recordvideo"))&&(document.getElementById("".concat(n.jSPlugin.id,"-recordvideo")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-recordvideo-content")).childNodes[0].style.fill=t[u]?S:P,t[u]?n.countTime("add",0):n.countTime("destroy",0));break;case"talk":document.getElementById("".concat(n.jSPlugin.id,"-talk"))&&(document.getElementById("".concat(n.jSPlugin.id,"-talk")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-talk-content")).childNodes[1].style.fill=t[u]?S:P);break;case"zoom":document.getElementById("".concat(n.jSPlugin.id,"-zoom"))&&(document.getElementById("".concat(n.jSPlugin.id,"-zoom")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-zoom-content")).childNodes[1].style.fill=t[u]?S:P);break;case"pantile":document.getElementById("".concat(n.jSPlugin.id,"-pantile"))&&(document.getElementById("".concat(n.jSPlugin.id,"-pantile")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-pantile-content")).childNodes[0].style.fill=t[u]?S:P);break;case"webExpend":t[u]?(document.getElementById("".concat(n.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-webExpend-content")).children[0].children[1].style="display:inline-block",document.getElementById("".concat(n.jSPlugin.id,"-webExpend-content")).children[0].children[0].style="display:none"),document.getElementById("".concat(n.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-expend")).className="disabled")):(document.getElementById("".concat(n.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-webExpend-content")).children[0].children[0].style="display:inline-block",document.getElementById("".concat(n.jSPlugin.id,"-webExpend-content")).children[0].children[1].style="display:none"),document.getElementById("".concat(n.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-expend")).className="")),document.getElementById("".concat(n.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-webExpend")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-webExpend-content")).childNodes[0].childNodes[0].style.fill=t[u]?S:P,document.getElementById("".concat(n.jSPlugin.id,"-webExpend-content")).childNodes[0].childNodes[1].style.fill=t[u]?S:P);break;case"capturePicture":document.getElementById("".concat(n.jSPlugin.id,"-capturePicture"))&&(document.getElementById("".concat(n.jSPlugin.id,"-capturePicture")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-capturePicture-content")).childNodes[0].style.fill=t[u]?S:P);break;case"expend":t[u]?(document.getElementById("".concat(n.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-expend-content")).children[0].children[1].style="display:inline-block",document.getElementById("".concat(n.jSPlugin.id,"-expend-content")).children[0].children[0].style="display:none"),document.getElementById("".concat(n.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-webExpend")).className="disabled")):(document.getElementById("".concat(n.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-expend-content")).children[0].children[0].style="display:inline-block",document.getElementById("".concat(n.jSPlugin.id,"-expend-content")).children[0].children[1].style="display:none"),document.getElementById("".concat(n.jSPlugin.id,"-webExpend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-webExpend")).className="")),document.getElementById("".concat(n.jSPlugin.id,"-expend"))&&(document.getElementById("".concat(n.jSPlugin.id,"-expend")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-expend-content")).childNodes[0].childNodes[0].style.fill=t[u]?S:P,document.getElementById("".concat(n.jSPlugin.id,"-expend-content")).childNodes[0].childNodes[1].style.fill=t[u]?S:P);break;case"hd":break;case"speed":document.getElementById("".concat(n.jSPlugin.id,"-speed"))&&(document.getElementById("".concat(n.jSPlugin.id,"-speed-content")).children[1].children[0].style.color=t[u]?S:P,document.getElementById("".concat(n.jSPlugin.id,"-speed-content")).children[1].children[0].style.borderColor=t[u]?S:P),document.getElementById("".concat(n.jSPlugin.id,"-select-mask"))&&(n.isMobile&&t[u]?document.getElementById("".concat(n.jSPlugin.id,"-select-mask")).style.display="block":document.getElementById("".concat(n.jSPlugin.id,"-select-mask")).style.display="none");break;case"cloudRec":document.getElementById("".concat(n.jSPlugin.id,"-cloudRec"))&&(console.log("document.getElementById(`${this.jSPlugin.id}-cloudRec-content`)",document.getElementById("".concat(n.jSPlugin.id,"-cloudRec"))),document.getElementById("".concat(n.jSPlugin.id,"-cloudRec")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-cloudRec-content")).children[0].children[0].style.fill=t[u]?S:P),document.getElementById("".concat(n.jSPlugin.id,"-rec"))&&(document.getElementById("".concat(n.jSPlugin.id,"-rec")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-rec-content")).children[0].children[0].style.fill=t[u]?P:S);break;case"rec":document.getElementById("".concat(n.jSPlugin.id,"-cloudRec"))&&(document.getElementById("".concat(n.jSPlugin.id,"-cloudRec")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-cloudRec-content")).children[0].children[0].style.fill=t[u]?P:S),document.getElementById("".concat(n.jSPlugin.id,"-rec"))&&(document.getElementById("".concat(n.jSPlugin.id,"-rec")).className=t[u]?"active":"",document.getElementById("".concat(n.jSPlugin.id,"-rec-content")).children[0].children[0].style.fill=t[u]?S:P);break}n.decoderState.state=Object.assign(n.decoderState.state,t)})}},{key:"startAutoFocus",value:function(){var t=this,n=this.autoFocus;this.autoFocusTimer&&clearTimeout(this.autoFocusTimer),this.autoFocusTimer=setTimeout(function(){document.getElementById("".concat(t.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.opacity=0,document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.pointerEvents="none")},n*1e3)}},{key:"stopAutoFocus",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.opacity=1,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.pointerEvents="all"),this.autoFocusTimer&&clearTimeout(this.autoFocusTimer)}},{key:"hideFooter",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.display="none")}},{key:"showFooter",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.display="block")}},{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"renderFooter",value:function(t,n){var o=this,c=this.matchBtn(t),d=document.createElement("div");d.className="theme-icon-item",d.innerHTML="".concat('<span id="'.concat(this.jSPlugin.id,"-").concat(c.id,'" style="position:relative;">')+'<div id="'.concat(this.jSPlugin.id,"-").concat(c.id,'-content" title="').concat(c.title,'" style="height:').concat(this.jSPlugin.width>Ir?48:32,'px;display: flex;align-items: center;position:relative;">')).concat(c.domString,"</div>")+"</span>",d.onclick=function(S){if(o.decoderState.state.isEditing)return!1;c.onclick(S)},c.onmouseenter&&(d.onmouseenter=function(S){if(o.decoderState.state.isEditing)return!1;c.onmouseenter(S)}),c.onmouseleave&&(d.onmouseleave=function(S){if(o.decoderState.state.isEditing)return!1;c.onmouseleave(S)});var u=document.createElement("span");u.className="icon-move left",u.innerHTML='<span id="'.concat(this.jSPlugin.id,"-").concat(c.id,'-left" title="左移" style="position: absolute;top: calc(50% - 10px);left: -4px;"><svg fill="#ffffff" version="1.1" xmlns="http://www.w3.org/2000/svg" width="12" height="24" viewBox="0 0 10 15" style="background:#00000080;"><path d="M7.4,10V5.3c0-0.3-0.3-0.6-0.6-0.6c-0.1,0-0.3,0.1-0.4,0.2L3.7,7.4c-0.2,0.2-0.3,0.6,0,0.8 c0,0,0,0,0.1,0.1l2.7,2.2c0.2,0.2,0.6,0.2,0.8-0.1C7.3,10.3,7.4,10.2,7.4,10z"></path></svg></span>'),u.onclick=function(){o.editIcon(c.id,"left","footer")},d.appendChild(u);var k=document.createElement("span");k.className="icon-move right",k.innerHTML='<span id="'.concat(this.jSPlugin.id,"-").concat(c.id,'-right" class="ezuikit-theme-icon" title="右移" style="position: absolute;top: calc(50% - 10px);left: calc(100% - 8px);"><svg fill="#ffffff" version="1.1" xmlns="http://www.w3.org/2000/svg" width="12" height="24" viewBox="0 0 10 15" style="background:#00000080"><path d="M3.4,5.2v4.7c0,0.3,0.3,0.6,0.6,0.6c0.1,0,0.3-0.1,0.4-0.2l2.7-2.5c0.2-0.2,0.3-0.6,0-0.8 c0,0,0,0-0.1-0.1L4.4,4.8C4.1,4.6,3.8,4.6,3.6,4.9C3.5,5,3.4,5.1,3.4,5.2z"></path></svg></span>'),k.onclick=function(){o.editIcon(c.id,"right","footer")},d.appendChild(k);var P=document.createElement("span");P.className="icon-move close",P.innerHTML='<span id="'.concat(c.id,'-remove" class="ezuikit-theme-icon" title="移除" style="position: absolute;top: -10px;right: -10px;">')+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 15 15"><circle style="fill-rule:evenodd;clip-rule:evenodd;fill-opacity:0.8011;" cx="7.5" cy="7.6" r="7" /><rect x="3.9" y="3.5" class="st1" style="fill:none;" width="8.1" height="8.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="5" x2="10" y2="10.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="10.1" x2="10" y2="5" /></svg></span>',P.onclick=function(){o.editIcon(c.id,"delete","footer")},d.appendChild(P),n==="left"?document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).childNodes[0].appendChild(d):document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).childNodes[1].appendChild(d)}},{key:"editIcon",value:function(t,n,o){console.log("编辑组件",t,n,o);var c=this.themeData;console.log("themeData",this.themeData);var d=this.themeData[o].btnList,u=Pr.findIndex(d,function(_){return _.iconId===t}),k=d[u];switch(n){case"delete":if(t==="rec"){if(Pr.findIndex(d,function(_){return _.iconId==="cloudRec"&&_.isrender==1})===-1)return this.jSPlugin.Message&&this.jSPlugin.Message.default("必须选中一种存储介质"),!1}else if(t==="cloudRec"&&Pr.findIndex(d,function(_){return _.iconId==="rec"&&_.isrender==1})===-1)return this.jSPlugin.Message&&this.jSPlugin.Message.default("必须选中一种存储介质"),!1;d[u].isrender=0;break;case"right":for(var P=-1,S=u+1;S<d.length;S++)if(d[S].part===d[u].part&&d[S].isrender==1){P=S;break}P!==-1&&(d[u]=d[P],d[P]=k);break;case"left":for(var R=-1,b=u-1;b>=0;b--)if(d[b].part===d[u].part&&d[b].isrender==1){R=b;break}R!==-1&&(d[u]=d[R],d[R]=k);break}c[o].btnList=d,this.changeTheme(c)}},{key:"renderHeader",value:function(t,n){var o=this,c=this.matchBtn(t),d=document.createElement("div");d.className="theme-icon-item",d.style="max-width:50%;",d.innerHTML="".concat('<span id="'.concat(this.jSPlugin.id,"-").concat(c.id,'" style="position:relative;";>')+'<span id="'.concat(this.jSPlugin.id,"-").concat(c.id,'-content" title="').concat(c.title,'" style="display:inline-block;height:').concat(this.width>Ir?48:32,'px;">')).concat(c.domString,"</span>")+'<span id="'.concat(this.jSPlugin.id,"-").concat(c.id,'-remove" title="移除" style="position: absolute;top: -6px;left: 38px;display: none;">')+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 15 15"><circle style="fill-rule:evenodd;clip-rule:evenodd;fill-opacity:0.8011;" cx="7.5" cy="7.6" r="7" /><rect x="3.9" y="3.5" class="st1" style="fill:none;" width="8.1" height="8.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="5" x2="10" y2="10.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="10.1" x2="10" y2="5" /></svg></span></span>',d.onclick=function(k){if(o.decoderState.state.isEditing)return!1;c.onclick(k)};var u=document.createElement("span");u.className="icon-move close",u.innerHTML='<span id="'.concat(c.id,'-remove" class="ezuikit-theme-icon" title="移除" style="position: absolute;top: -6px;right: -6px;">')+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 15 15"><circle style="fill-rule:evenodd;clip-rule:evenodd;fill-opacity:0.8011;" cx="7.5" cy="7.6" r="7" /><rect x="3.9" y="3.5" class="st1" style="fill:none;" width="8.1" height="8.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="5" x2="10" y2="10.1" /><line style="fill:none;stroke:#ffffff;stroke-width:0.5833;stroke-linecap:round;" x1="4.9" y1="10.1" x2="10" y2="5" /></svg></span>',u.onclick=function(){o.editIcon(c.id,"delete","header")},d.appendChild(u),n==="left"?document.getElementById("".concat(this.jSPlugin.id,"-headControl")).childNodes[0].appendChild(d):document.getElementById("".concat(this.jSPlugin.id,"-headControl")).childNodes[1].appendChild(d)}},{key:"countTime",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=this;if(!document.getElementById(this.jSPlugin.id+"time-area")){var c=document.createElement("div");c.id=this.jSPlugin.id+"time-area",c.className="time-area",c.innerHTML='<span class="dot"></span><span class="value">00:00</span>',document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).appendChild(c)}if(this.countTimer&&clearInterval(this.countTimer),t==="add"){var d=n;document.getElementById(o.jSPlugin.id+"time-area").style.display="flex",this.countTimer=setInterval(function(){++d,document.getElementById(o.jSPlugin.id+"time-area").children[1].innerHTML=u(d)},1e3)}else t==="destroy"&&(this.countTimer&&clearInterval(this.countTimer),this.countTimer=void 0,document.getElementById(o.jSPlugin.id+"time-area")&&(document.getElementById(o.jSPlugin.id+"time-area").children[1].innerHTML="00:00",document.getElementById(o.jSPlugin.id+"time-area").style.display="none"));function u(k){var P=parseInt(k),S=0,R=0,b="00",_="00",oe="00";return P>59&&(S=parseInt(P/60),P=parseInt(P%60),S>59&&(R=parseInt(S/60),S=parseInt(S%60))),b=parseInt(P)>9?parseInt(P):"0"+parseInt(P),_=parseInt(S)>9?parseInt(S):"0"+parseInt(S),oe=parseInt(R)>9?parseInt(R):"0"+parseInt(R),R>0?oe+":"+_+":"+b:S>0?_+":"+b:"00:"+b}}},{key:"setDisabled",value:function(t){var n=this.decoderState.state.sound,o=t?"cursor: not-allowed; fill: gray; color: gray":"cursor: default";document.getElementById(n?"".concat(this.jSPlugin.id,"-sound-icon"):"".concat(this.jSPlugin.id,"-nosound-icon"))!=null&&document.getElementById(n?"".concat(this.jSPlugin.id,"-sound-icon"):"".concat(this.jSPlugin.id,"-nosound-icon")).setAttribute("style",t?"cursor: not-allowed;fill: gray":"cursor: default"),document.getElementById("".concat(this.jSPlugin.id,"-recordvideo-icon"))!=null&&document.getElementById("".concat(this.jSPlugin.id,"-recordvideo-icon")).setAttribute("style",o),document.getElementById("".concat(this.jSPlugin.id,"-capturePicture-icon"))!=null&&document.getElementById("".concat(this.jSPlugin.id,"-capturePicture-icon")).setAttribute("style",o),document.getElementById("".concat(this.jSPlugin.id,"-talk-icon"))!=null&&document.getElementById("".concat(this.jSPlugin.id,"-talk-icon")).setAttribute("style",o),this.allowZoom||document.getElementById("".concat(this.jSPlugin.id,"-zoom-icon"))!=null&&document.getElementById("".concat(this.jSPlugin.id,"-zoom-icon")).setAttribute("style",o),document.getElementById("".concat(this.jSPlugin.id,"-pantile-icon"))!=null&&document.getElementById("".concat(this.jSPlugin.id,"-pantile-icon")).setAttribute("style",o);var c=document.getElementsByClassName("".concat(this.jSPlugin.id,"-select-quality-btn"));if(c.length)for(var d=0;d<c.length;d++)t?(c[d].style.cursor="not-allowed",c[d].style.fill="gray",c[d].style.color="gray"):(c[d].style.cursor="default",c[d].style.fill="",c[d].style.color="");document.getElementById("".concat(this.jSPlugin.id,"-speed-text"))!=null&&document.getElementById("".concat(this.jSPlugin.id,"-speed-text")).setAttribute("style",document.getElementById("".concat(this.jSPlugin.id,"-speed-text")).getAttribute("style")+";"+(t?"cursor: not-allowed;color: gray;border-color: gray;":"cursor: default;color: #ffffff;border-color: #ffffff;")),this.zoomDisable=this.jSPlugin.use3DZoom&&t}},{key:"matchBtn",value:function(t){var n=this,o=this.themeData,c=o.header,d=o.footer,u={title:"",id:"",domString:"",color:"#FFFFFF",activeColor:"#FFFFFF",onclick:function(){},onmoveleft:function(){},onmoveright:function(){},onremove:function(){}},k=c.btnList.findIndex(function(R){return R.iconId===t});switch(k===-1?(u.color=d.color,u.backgroundColor=d.backgroundColor,u.activeColor=d.activeColor):(u.color=c.color,u.backgroundColor=c.backgroundColor,u.activeColor=c.activeColor),t){case"play":u.title="播放/结束播放",u.id=t,u.domString='<div style="height: 100%">'+'<svg id="'.concat(this.jSPlugin.id+"-play-icon",'" class="theme-icon-item-icon" style="display:none" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'"  fill="').concat(u.color,`" viewBox="-6 -6 32 32">
            <path id="Stroke-1" class="st1" d="M10.5,1.7c-4.9,0-8.8,4-8.8,8.8s4,8.8,8.8,8.8s8.8-4,8.8-8.8S15.4,1.7,10.5,1.7z M10.5,2.7
              c4.3,0,7.8,3.5,7.8,7.8s-3.5,7.8-7.8,7.8s-7.8-3.5-7.8-7.8S6.2,2.7,10.5,2.7z"/>
            <path class="st2" d="M8.7,8C9,8,9.3,8.3,9.3,8.6v3.8C9.3,12.7,9,13,8.7,13C8.3,13,8,12.7,8,12.4V8.6C8,8.3,8.3,8,8.7,8z"/>
            <path id="Rectangle-Copy-10" class="st2" d="M12.8,8c0.3,0,0.6,0.3,0.6,0.6v3.8c0,0.3-0.3,0.6-0.6,0.6c-0.3,0-0.6-0.3-0.6-0.6V8.6
              C12.2,8.3,12.5,8,12.8,8z"/>
          </svg>`)+'<svg id="'.concat(this.jSPlugin.id+"-stop-icon",'" class="theme-icon-item-icon" fill="').concat(u.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M13,9.8L10.1,8C9.9,7.9,9.7,7.9,9.5,7.9c-0.6,0-1,0.4-1,1v3.7c0,0.2,0.1,0.4,0.2,0.5c0.3,0.5,0.9,0.6,1.4,0.3 l2.9-1.8c0.1-0.1,0.2-0.2,0.3-0.3C13.6,10.7,13.4,10.1,13,9.8z" /><path d="M10.5,1.9c-4.9,0-8.8,4-8.8,8.8c0,4.9,4,8.8,8.8,8.8s8.8-4,8.8-8.8C19.4,5.8,15.4,1.9,10.5,1.9z M10.5,18.5 c-4.3,0-7.8-3.5-7.8-7.8s3.5-7.8,7.8-7.8c4.3,0,7.8,3.5,7.8,7.8S14.9,18.5,10.5,18.5z" /></svg></div>',u.onclick=function(){var R=n.decoderState.state,b=R.play,_=R.isEditing,oe=R.rec,de=R.cloudRec,xe=R.recordvideo,se=R.pantile;if(_)return!1;n.jSPlugin.recTimer&&clearInterval(n.jSPlugin.recTimer),b?(oe||de?(n.Rec&&n.Rec.unSyncTimeLine(),n.jSPlugin.pause().then(function(){n.setDecoderState({play:!b}),n.setDisabled(b)})):(n.jSPlugin.stop().then(function(){n.setDecoderState({play:!b}),n.setDisabled(b)}),n.jSPlugin.Zoom.stopZoom(),n.jSPlugin.close3DZoom()),xe&&n.setDecoderState({recordvideo:!1})):(oe||de?(n.Rec&&n.Rec.syncTimeLine(),n.jSPlugin.resume().then(function(){n.setDecoderState({play:!b}),n.setDisabled(b)})):n.jSPlugin.play().then(function(){n.setDecoderState({play:!b}),n.setDisabled(b)}),n.jSPlugin.use3DZoom&&n.resetMobileZoomStatus()),n.jSPlugin.use3DZoom?(n.setDecoderState({zoom:!1}),n.allowZoom=!1):n.allowZoom=oe||de,se&&n.Ptz&&(n.Ptz.hide(),n.setDecoderState({pantile:!1})),document.getElementById("".concat(n.jSPlugin.id,"-speedSelect"))&&(document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).style.display="none")};break;case"sound":u.title="声音",u.id=t,u.domString='<span style="height: 100%">'+'<svg class="theme-icon-item-icon" id="'.concat(this.jSPlugin.id,'-nosound-icon" style="display:none" fill="').concat(u.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,`" viewBox="-6 -6 32 32">
            <path d="M8.5,4.2c0.8-0.7,2.1-0.2,2.2,0.9l0,0.1v10c0,1.1-1.2,1.7-2.1,1.1l-0.1-0.1l-3.3-2.8C5,13.2,5,12.9,5.1,12.7 c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.3,2.8c0.2,0.2,0.5,0.1,0.5-0.2l0-0.1v-10c0-0.3-0.3-0.4-0.5-0.3L9.2,5L5.9,7.8 C5.6,7.9,5.3,7.9,5.1,7.7C5,7.5,5,7.3,5.1,7.1L5.2,7L8.5,4.2z"/>
            <path d="M5.5,6.9C5.8,6.9,6,7.1,6,7.4c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2C3.4,7.9,3.3,8,3.2,8.2l0,0.1v4 c0,0.2,0.1,0.3,0.3,0.3l0.1,0h2C5.8,12.5,6,12.7,6,13c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2c-0.7,0-1.3-0.5-1.3-1.2l0-0.1v-4 c0-0.7,0.5-1.3,1.2-1.3l0.1,0H5.5z"/>
            <path d="M17.4,7.9c0.2-0.2,0.5-0.2,0.7,0c0.2,0.2,0.2,0.4,0.1,0.6l-0.1,0.1l-3.8,3.8c-0.2,0.2-0.5,0.2-0.7,0 c-0.2-0.2-0.2-0.4-0.1-0.6l0.1-0.1L17.4,7.9z"/>
            <path d="M13.7,7.9c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.8,3.8c0.2,0.2,0.2,0.5,0,0.7c-0.2,0.2-0.4,0.2-0.6,0.1l-0.1-0.1 l-3.7-3.8C13.5,8.4,13.5,8.1,13.7,7.9z"/>
            </svg>`)+'<svg class="theme-icon-item-icon" id="'.concat(this.jSPlugin.id,'-sound-icon" style="display:inline-block" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'" fill="').concat(u.color,`" viewBox="-6 -6 32 32">
              <path d="M13.2,7.1c0.1-0.2,0.5-0.3,0.7-0.2c1.1,0.7,1.9,2.2,1.9,3.7c0,1.6-0.7,3-1.9,3.7
                c-0.2,0.1-0.5,0.1-0.7-0.2c-0.1-0.2-0.1-0.5,0.2-0.7c0.8-0.5,1.4-1.6,1.4-2.9c0-1.3-0.6-2.4-1.4-2.9C13.1,7.6,13,7.3,13.2,7.1z"/>
              <path d="M15.7,4.5c0.2-0.2,0.5-0.2,0.7-0.1C18,5.8,19,8.2,19,10.7c0,2.5-1,4.8-2.7,6.3
                c-0.2,0.2-0.5,0.2-0.7-0.1c-0.2-0.2-0.2-0.5,0.1-0.7c1.4-1.2,2.3-3.3,2.3-5.5c0-2.2-0.9-4.3-2.3-5.5C15.5,5,15.5,4.7,15.7,4.5z"/>
              <path id="Stroke-5" class="st1" d="M8.5,4.7c0.8-0.7,2.1-0.2,2.2,0.9l0,0.1v10c0,1.1-1.2,1.7-2.1,1.1l-0.1-0.1l-3.3-2.8
                C5,13.7,5,13.4,5.1,13.2c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.3,2.8c0.2,0.2,0.5,0.1,0.5-0.2l0-0.1v-10c0-0.3-0.3-0.4-0.5-0.3l-0.1,0
                L5.9,8.3C5.6,8.4,5.3,8.4,5.1,8.2C5,8,5,7.7,5.1,7.6l0.1-0.1L8.5,4.7z"/>
              <path  d="M5.5,7.4C5.8,7.4,6,7.6,6,7.9c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2c-0.2,0-0.3,0.1-0.3,0.3l0,0.1v4
                c0,0.2,0.1,0.3,0.3,0.3l0.1,0h2C5.8,13,6,13.2,6,13.5c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2c-0.7,0-1.3-0.5-1.3-1.2l0-0.1v-4
                c0-0.7,0.5-1.3,1.2-1.3l0.1,0H5.5z"/>
            </svg>`)+"</span>",u.onclick=function(){var R=n.decoderState.state,b=R.play,_=R.sound,oe=R.talk,de=R.pantile;b&&!oe&&(_?(n.jSPlugin.closeSound(),n.setDecoderState({sound:!1})):(n.jSPlugin.openSound(),n.setDecoderState({sound:!0})),de&&n.Ptz&&(n.Ptz.hide(),n.setDecoderState({pantile:!1})))};break;case"recordvideo":u.title="录屏",u.id=t,u.domString='<svg id="'.concat(this.jSPlugin.id,'-recordvideo-icon" class="theme-icon-item-icon" fill="').concat(u.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M11.6,5.3H4.7c-1.4,0-2.5,1.1-2.5,2.5v5.9c0,1.4,1.1,2.5,2.5,2.5h6.9c1.4,0,2.5-1.1,2.5-2.5V7.7 C14.1,6.4,13,5.3,11.6,5.3z M4.7,6.3h6.9c0.8,0,1.5,0.7,1.5,1.5v5.9c0,0.8-0.7,1.5-1.5,1.5H4.7c-0.8,0-1.5-0.7-1.5-1.5V7.7 C3.3,6.9,3.9,6.3,4.7,6.3z" /><path d="M16.6,6.7c0.9-0.8,2.3-0.1,2.4,1l0,0.1v5.7c0,1.2-1.3,1.9-2.3,1.2l-0.1-0.1L13.3,12 c-0.2-0.2-0.2-0.5-0.1-0.7c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.3,2.7c0.3,0.2,0.7,0.1,0.8-0.3l0-0.1V7.8c0-0.4-0.4-0.6-0.7-0.4 l-0.1,0l-3.3,2.7c-0.2,0.2-0.5,0.1-0.7-0.1c-0.2-0.2-0.1-0.5,0-0.6l0.1-0.1L16.6,6.7z" /></svg>',u.onclick=function(){var R=n.decoderState.state,b=R.play,_=R.recordvideo;b&&(_?(n.jSPlugin.stopSave(),n.setDecoderState({recordvideo:!1})):(n.jSPlugin.startSave("".concat(new Date().getTime())),n.setDecoderState({recordvideo:!0})))};break;case"capturePicture":u.title="截图",u.id=t,u.domString='<svg id="'.concat(this.jSPlugin.id,'-capturePicture-icon" class="theme-icon-item-icon" fill="').concat(u.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M10.8,7.7c-2,0-3.7,1.6-3.7,3.7S8.7,15,10.8,15c2,0,3.7-1.6,3.7-3.7S12.8,7.7,10.8,7.7z M10.8,8.7c1.5,0,2.7,1.2,2.7,2.7S12.2,14,10.8,14c-1.5,0-2.7-1.2-2.7-2.7S9.3,8.7,10.8,8.7z" /><path d="M8.6,3.7l-0.1,0C8,3.7,7.7,4,7.5,4.3l-1,1.7l-1.3,0C4,6.1,3.1,7,3.1,8.2v7.1 c0,1.2,0.9,2.1,2.1,2.1h11.1c1.2,0,2.1-0.9,2.1-2.1V8.2l0-0.1c-0.1-1.1-1-1.9-2.1-1.9l-1.3,0l-1.1-1.8c-0.2-0.4-0.7-0.6-1.1-0.6H8.6 z M8.6,4.7h4.2c0.1,0,0.2,0.1,0.3,0.1l1.2,2c0.1,0.2,0.3,0.2,0.4,0.2h1.6c0.6,0,1.1,0.5,1.1,1.1v7.1c0,0.6-0.5,1.1-1.1,1.1H5.1 c-0.6,0-1.1-0.5-1.1-1.1V8.2c0-0.6,0.5-1.1,1.1-1.1h1.6c0.2,0,0.3-0.1,0.4-0.2l1.2-2C8.4,4.7,8.5,4.7,8.6,4.7z" /></svg>',u.onclick=function(){var R=n.decoderState.state.play;R?n.jSPlugin.capturePicture("".concat(new Date().getTime())):console.log("视频未播放，无法截图")};break;case"talk":u.title="对讲",u.id=t,u.domString="<div></div>"+'<svg id="'.concat(this.jSPlugin.id,'-talk-icon" class="theme-icon-item-icon" fill="').concat(u.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M10.1,2.7C8.5,2.7,7.2,4,7.2,5.6v5.2c0,1.6,1.3,2.9,2.9,2.9l0.2,0c1.5-0.1,2.7-1.4,2.7-2.9V5.6	C13,4,11.7,2.7,10.1,2.7z M10.1,3.7c1.1,0,1.9,0.9,1.9,1.9v5.2c0,1-0.8,1.8-1.8,1.9l-0.1,0c-1,0-1.9-0.9-1.9-1.9V5.6 C8.2,4.5,9,3.7,10.1,3.7z" /><path d="M15.1,8.5c0.2,0,0.4,0.2,0.5,0.4l0,0.1v1.7c0,3-2.5,5.5-5.5,5.5c-3,0-5.4-2.3-5.5-5.3l0-0.2V9 c0-0.3,0.2-0.5,0.5-0.5c0.2,0,0.4,0.2,0.5,0.4l0,0.1v1.7c0,2.5,2,4.5,4.5,4.5c2.4,0,4.4-1.9,4.5-4.3l0-0.2V9 C14.6,8.7,14.8,8.5,15.1,8.5z" /><path d="M13.5,17.7c0.3,0,0.5,0.2,0.5,0.5c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-7c-0.3,0-0.5-0.2-0.5-0.5 c0-0.2,0.2-0.4,0.4-0.5l0.1,0H13.5z" /><path d="M10.1,15.2c0.2,0,0.4,0.2,0.5,0.4l0,0.1v2.5c0,0.3-0.2,0.5-0.5,0.5c-0.2,0-0.4-0.2-0.5-0.4l0-0.1 v-2.5C9.6,15.4,9.8,15.2,10.1,15.2z" /></svg>',u.onclick=function(){var R=n.decoderState.state,b=R.talk,_=R.sound,oe=R.play,de=R.pantile;if(oe){if(b){console.log("结束对讲"),n.setDecoderState({talk:!1}),n.jSPlugin.Talk.stopTalk();var xe=Pr.findIndex(n.themeData.footer.btnList,function(se){return se.iconId==="sound"&&se.isrender===1&&se.defaultActive===1})>-1;n.themeData&&xe&&(n.jSPlugin.openSound(),n.setDecoderState({sound:!0}))}else console.log("开始对讲"),n.setDecoderState({talk:!0}),n.jSPlugin.Talk.startTalk(function(se){_&&!se&&(n.jSPlugin.closeSound(),n.setDecoderState({sound:!1}))});de&&n.Ptz&&(n.Ptz.hide(),n.setDecoderState({pantile:!1}))}};break;case"zoom":u.title=this.jSPlugin.use3DZoom?"3D定位":"电子放大",u.id=t,u.domString="<div></div>"+'<svg id="'.concat(this.jSPlugin.id,'-zoom-icon" class="theme-icon-item-icon" fill="').concat(u.color,`" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="`).concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,`" viewBox="5 -6 5 32" style="enable-background:new 0 0 20 20.1;" xml:space="preserve">
              <path class="st1" d="M8.8,2.6c3.5,0,6.2,2.8,6.2,6.2s-2.8,6.2-6.2,6.2s-6.2-2.8-6.2-6.2S5.3,2.6,8.8,2.6z M8.8,3.9
                c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S11.5,3.9,8.8,3.9z M12.7,12.7l3.9,3.9"/>
              <path class="st2" d="M11.2,9.5h-5c-0.3,0-0.6-0.3-0.6-0.6s0.3-0.6,0.6-0.6h5c0.3,0,0.6,0.3,0.6,0.6S11.6,9.5,11.2,9.5z"/>
              <path class="st2" d="M8.7,12c-0.3,0-0.6-0.3-0.6-0.6v-5c0-0.3,0.3-0.6,0.6-0.6s0.6,0.3,0.6,0.6v5C9.3,11.8,9.1,12,8.7,12z"/>
              <path class="st2" d="M16.9,17.6c-0.1,0-0.3-0.1-0.4-0.2l-3.9-3.9c-0.2-0.2-0.2-0.6,0-0.8s0.6-0.2,0.8,0l3.9,3.9
                c0.2,0.2,0.2,0.6,0,0.8C17.2,17.5,17,17.6,16.9,17.6z"/>
          </svg>`),u.onclick=function(){var R=n.decoderState.state,b=R.zoom,_=R.play,oe=R.rec,de=R.cloudRec;if(R.pantile,n.jSPlugin.use3DZoom){if(!_)return!1;b?n.jSPlugin.close3DZoom():n.jSPlugin.enable3DZoom()}else{if(n.zoomDisable||!oe&&!de&&!_)return!1;b?(console.log("结束电子放大"),n.jSPlugin.Zoom.stopZoom()):(console.log("开始电子放大"),n.jSPlugin.Zoom.startZoom())}n.setDecoderState({zoom:!b})};break;case"pantile":u.title="云台控制",u.id=t,u.domString='<svg id="'.concat(this.jSPlugin.id,'-pantile-icon" class="theme-icon-item-icon" fill="').concat(u.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M10.2,7.8c1.6,0,2.9,1.3,2.9,2.9s-1.3,2.9-2.9,2.9s-2.9-1.3-2.9-2.9S8.5,7.8,10.2,7.8z M10.2,8.8c-1.1,0-1.9,0.9-1.9,1.9s0.9,1.9,1.9,1.9s1.9-0.9,1.9-1.9S11.2,8.8,10.2,8.8z" /><path d="M8.8,3.5c0.7-0.6,1.8-0.6,2.5-0.1l0.1,0.1l1.4,1.1c0.2,0.2,0.3,0.5,0.1,0.7 c-0.2,0.2-0.4,0.2-0.6,0.1l-0.1,0l-1.4-1.1C10.5,3.9,10,3.9,9.6,4.2L9.4,4.3L8,5.4C7.8,5.5,7.5,5.5,7.3,5.3c-0.2-0.2-0.1-0.5,0-0.6 l0.1-0.1L8.8,3.5z" /><path d="M2.5,12.3c-0.6-0.7-0.6-1.8-0.1-2.5l0.1-0.1l1.1-1.4c0.2-0.2,0.5-0.3,0.7-0.1 c0.2,0.2,0.2,0.4,0.1,0.6l0,0.1l-1.1,1.4C3,10.6,3,11.1,3.2,11.5l0.1,0.1L4.4,13c0.2,0.2,0.1,0.5-0.1,0.7c-0.2,0.2-0.5,0.1-0.6,0 l-0.1-0.1L2.5,12.3z" /><path d="M17.7,12.3c0.6-0.7,0.6-1.8,0.1-2.5l-0.1-0.1l-1.1-1.4c-0.2-0.2-0.5-0.3-0.7-0.1 c-0.2,0.2-0.2,0.4-0.1,0.6l0,0.1l1.1,1.4c0.3,0.4,0.3,0.9,0.1,1.3l-0.1,0.1L15.8,13c-0.2,0.2-0.1,0.5,0.1,0.7c0.2,0.2,0.5,0.1,0.6,0 l0.1-0.1L17.7,12.3z" /><path d="M8.8,18.2c0.7,0.6,1.8,0.6,2.5,0.1l0.1-0.1l1.4-1.1c0.2-0.2,0.3-0.5,0.1-0.7 c-0.2-0.2-0.4-0.2-0.6-0.1l-0.1,0l-1.4,1.1c-0.4,0.3-0.9,0.3-1.3,0.1l-0.1-0.1L8,16.3c-0.2-0.2-0.5-0.1-0.7,0.1 c-0.2,0.2-0.1,0.5,0,0.6l0.1,0.1L8.8,18.2z" /></svg>',u.onclick=function(){var R=n.decoderState.state,b=R.play,_=R.pantile,oe=R.expend;if(b)if(_)console.log("隐藏云台"),n.Ptz.hide(),n.setDecoderState({pantile:!1});else{if(console.log("显示云台"),n.isMobile&&!oe)return console.log("移动端，非全屏状态不展示云台"),!1;n.Ptz.show(),n.setDecoderState({pantile:!0})}};break;case"expend":u.title="全局全屏",u.id=t,u.domString='<span><svg id="'.concat(this.jSPlugin.id,'-expend-icon" class="theme-icon-item-icon" fill="').concat(u.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M3.4,7.6c-0.3,0-0.5-0.2-0.5-0.5V5.3c0-1.2,1-2.3,2.2-2.3h1.8c0.3,0,0.5,0.2,0.5,0.5S7.2,4.1,6.9,4.1H5.2 c-0.7,0-1.2,0.6-1.2,1.3v1.8C3.9,7.4,3.7,7.6,3.4,7.6z" /><path d="M6.9,18.1H5.2c-1.2,0-2.2-1-2.2-2.2v-1.8c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v1.8c0,0.7,0.6,1.2,1.2,1.2 h1.8c0.3,0,0.5,0.2,0.5,0.5S7.2,18.1,6.9,18.1z" /><path d="M15.7,18.1h-1.8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h1.8c0.7,0,1.2-0.6,1.2-1.2v-1.8 c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v1.8C17.9,17.1,16.9,18.1,15.7,18.1z" /><path d="M17.4,7.6c-0.3,0-0.5-0.2-0.5-0.5V5.3c0-0.7-0.6-1.3-1.2-1.3h-1.8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h1.8 c1.2,0,2.2,1,2.2,2.3v1.8C17.9,7.4,17.7,7.6,17.4,7.6z" /></svg>'+'<svg class="theme-icon-item-icon" style="display:none" width="'.concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'" fill="').concat(u.color,`" viewBox="-6 -6 32 32">
            <path class="st1" d="M5.7,8.1H3.9c-0.3,0-0.6-0.2-0.6-0.6S3.6,7,3.9,7h1.9c0.7,0,1.3-0.6,1.3-1.3V3.8c0-0.3,0.2-0.6,0.6-0.6
              s0.6,0.2,0.6,0.6v1.9C8.2,7,7.1,8.1,5.7,8.1z"/>
            <path class="st1" d="M7.6,17.7c-0.3,0-0.6-0.2-0.6-0.6v-1.9c0-0.7-0.6-1.3-1.3-1.3H3.9c-0.3,0-0.6-0.2-0.6-0.6s0.2-0.6,0.6-0.6h1.9
              c1.3,0,2.4,1.1,2.4,2.4v1.9C8.2,17.5,7.9,17.7,7.6,17.7z"/>
            <path class="st1" d="M13.4,17.7c-0.3,0-0.6-0.2-0.6-0.6v-1.9c0-1.3,1.1-2.4,2.4-2.4h1.9c0.3,0,0.6,0.2,0.6,0.6S17.5,14,17.2,14
              h-1.9c-0.7,0-1.3,0.6-1.3,1.3v1.9C14,17.5,13.8,17.7,13.4,17.7z"/>
            <path class="st1" d="M17.2,8.1h-1.9c-1.3,0-2.4-1.1-2.4-2.4V3.8c0-0.3,0.2-0.6,0.6-0.6S14,3.5,14,3.8v1.9C14,6.4,14.6,7,15.3,7h1.9
              c0.3,0,0.6,0.2,0.6,0.6S17.5,8.1,17.2,8.1z"/>
          </svg>
          </span>`),u.onclick=function(){var R=n.decoderState.state;R.webExpend;var b=R.expend,_=R.zoom,oe=R.pantile;if(b)if(n.isMobile){var de=parseInt(getComputedStyle(document.getElementById("".concat(n.jSPlugin.id,"-wrap"))).height,10)-parseInt(getComputedStyle(document.getElementById(n.jSPlugin.id)).height,10);document.getElementById("".concat(n.jSPlugin.id,"-ez-iframe-footer-container"))&&(document.getElementById("".concat(n.jSPlugin.id,"-ez-iframe-footer-container")).style.marginTop="-32px"),document.getElementById("".concat(n.jSPlugin.id,"-headControl"))&&(document.getElementById("".concat(n.jSPlugin.id,"-headControl")).style.position="relative"),us(document.getElementById("".concat(n.jSPlugin.id,"-wrap")),n.jSPlugin.width,n.jSPlugin.height+de),n.jSPlugin.jSPlugin.JS_Resize(n.jSPlugin.width,n.jSPlugin.height),oe&&n.Ptz&&(n.Ptz.hide(),n.setDecoderState({pantile:!1})),n.jSPlugin.fullScreenWidth=n.jSPlugin.width,n.jSPlugin.fullScreenHeight=n.jSPlugin.height;var m=n.jSPlugin.Zoom.currentScale;n.jSPlugin.Zoom&&n.jSPlugin.Zoom.handleFullscreen&&n.jSPlugin.Zoom.handleFullscreen(!b,n.jSPlugin.width,n.jSPlugin.height),n.jSPlugin.Zoom.stopZoom(),_&&setTimeout(function(){n.jSPlugin.Zoom.startZoom(),n.jSPlugin.Zoom.currentScale=m,n.jSPlugin.Zoom.doScale(m)},200)}else{console.log("取消全局全屏");var U=_o();U.then(function(le){console.log("取消全屏",le,n.jSPlugin),n.jSPlugin.jSPlugin.JS_Resize(n.jSPlugin.width,n.jSPlugin.height)})}else if(console.log("执行全局全屏"),n.isMobile){var de=parseInt(getComputedStyle(document.getElementById("".concat(n.jSPlugin.id,"-wrap"))).height,10)-parseInt(getComputedStyle(document.getElementById(n.jSPlugin.id)).height,10);Rs(document.getElementById("".concat(n.jSPlugin.id,"-wrap")));var xe=document.documentElement.clientWidth,se=document.documentElement.clientHeight;document.getElementById("".concat(n.jSPlugin.id)).style["backface-visibility"]="hidden",n.jSPlugin.jSPlugin.JS_Resize(se,xe-de,!0),n.jSPlugin.fullScreenWidth=se,n.jSPlugin.fullScreenHeight=xe-de;var Ae=n.jSPlugin.Zoom.currentScale;n.jSPlugin.Zoom&&n.jSPlugin.Zoom.handleFullscreen&&n.jSPlugin.Zoom.handleFullscreen(!b,se,xe-de),n.jSPlugin.Zoom.stopZoom(),_&&setTimeout(function(){n.jSPlugin.Zoom.startZoom(),n.jSPlugin.Zoom.currentScale=Ae,n.jSPlugin.Zoom.doScale(Ae)},200)}else{var xe=window.screen.width,se=window.screen.height,qe=n,me=so(document.getElementById("".concat(n.jSPlugin.id)));me.then(function(Pe){n.jSPlugin.jSPlugin.JS_Resize(xe,se),n.jSPlugin.fullScreenWidth=xe,n.jSPlugin.fullScreenHeight=se}).catch(function(Pe){console.log(Pe)}),n.jSPlugin.close3DZoom(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"].forEach(function(Pe){window.addEventListener(Pe,function($e){var ot=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;return ot?(qe.jSPlugin.jSPlugin.JS_Resize(xe,se),qe.jSPlugin.fullScreenWidth=xe,qe.jSPlugin.fullScreenHeight=se):qe.jSPlugin.jSPlugin.JS_Resize(qe.jSPlugin.width,qe.jSPlugin.height),ot})})}n.setDecoderState({expend:!b})};break;case"webExpend":u.title="网页全屏",u.id=t,u.domString='<span><svg id="'.concat(this.jSPlugin.id,'-webExpend-icon" class="theme-icon-item-icon" fill="').concat(u.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M3.1,7.6c-0.3,0-0.5-0.2-0.5-0.5V5.3c0-1.2,1-2.3,2.2-2.3h1.8c0.3,0,0.5,0.2,0.5,0.5S6.8,4.1,6.6,4.1H4.8 c-0.7,0-1.2,0.6-1.2,1.3v1.8C3.6,7.4,3.3,7.6,3.1,7.6z" /><path d="M15.3,18.1h-1.8c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h1.8c0.7,0,1.2-0.6,1.2-1.2v-1.8 c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v1.8C17.6,17.1,16.6,18.1,15.3,18.1z" /><circle class="st2" cx="10.2" cy="10.4" r="1.1"/></svg>'+'<svg class="theme-icon-item-icon" fill="'.concat(u.color,'" style="display:none;" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,`" viewBox="-6 -6 32 32">
          <path class="st1" d="M5.4,8.1H3.5C3.2,8.1,3,7.9,3,7.6s0.2-0.5,0.5-0.5h1.9c0.8,0,1.4-0.6,1.4-1.4V3.8c0-0.3,0.2-0.5,0.5-0.5
            s0.5,0.2,0.5,0.5v1.9C7.7,7,6.7,8.1,5.4,8.1z"/>
          <path class="st1" d="M13.1,17.7c-0.3,0-0.5-0.2-0.5-0.5v-1.9c0-1.3,1.1-2.4,2.4-2.4h1.9c0.3,0,0.5,0.2,0.5,0.5s-0.2,0.5-0.5,0.5H15
            c-0.8,0-1.4,0.6-1.4,1.4v1.9C13.6,17.4,13.4,17.7,13.1,17.7z"/>
            <circle class="st2" cx="10.2" cy="10.4" r="1.1"/>
          `)+"</svg></span>",u.onclick=function(){var R=n.decoderState.state,b=R.webExpend,_=R.expend,oe=R.zoom;if(_)return console.log("正在全局全屏"),!1;if(n.jSPlugin.recTimer&&clearInterval(n.jSPlugin.recTimer),b){console.log("取消网页全屏");var m=_o();m.then(function(U){n.jSPlugin.jSPlugin.JS_Resize(n.jSPlugin.width,n.jSPlugin.height)})}else{console.log("执行网页全屏");var de=0,xe=0,se=window.screen.width,Ae=window.screen.height,qe=n,me=so(document.getElementById("".concat(n.jSPlugin.id,"-wrap")));me.then(function(U){document.getElementById("".concat(n.jSPlugin.id,"-canvas-container"))&&(de=parseInt(window.getComputedStyle(document.getElementById("".concat(n.jSPlugin.id,"-canvas-container"))).height,10)),document.getElementById("".concat(n.jSPlugin.id,"-headControl"))&&(xe=parseInt(window.getComputedStyle(document.getElementById("".concat(n.jSPlugin.id,"-headControl"))).height,10)),n.jSPlugin.jSPlugin.JS_Resize(se,Ae-de-xe),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"].forEach(function(le){window.addEventListener(le,function(Pe){var fe=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;return fe?(document.getElementById("".concat(qe.jSPlugin.id,"-loading-item-0"))&&(document.getElementById("".concat(qe.jSPlugin.id,"-loading-item-0")).style.height=window.screen.height-parseInt(window.getComputedStyle(document.getElementById("".concat(qe.jSPlugin.id,"-headControl"))).height,10)+"px"),qe.jSPlugin.jSPlugin.JS_Resize(se,Ae-de-xe)):(document.getElementById("".concat(qe.jSPlugin.id,"-loading-item-0"))&&(document.getElementById("".concat(qe.jSPlugin.id,"-loading-item-0")).style.height=qe.jSPlugin.height+parseInt(window.getComputedStyle(document.getElementById("".concat(qe.jSPlugin.id,"-headControl"))).height,10)+"px"),qe.jSPlugin.jSPlugin.JS_Resize(qe.jSPlugin.width,qe.jSPlugin.height),_&&(qe.setDecoderState({expend:!1}),oe&&qe.jSPlugin.use3DZoom&&qe.jSPlugin.enable3DZoom())),document.getElementById("".concat(qe.jSPlugin.id,"-canvas-container"))&&(de=parseInt(window.getComputedStyle(document.getElementById("".concat(qe.jSPlugin.id,"-canvas-container"))).height,10)),document.getElementById("".concat(qe.jSPlugin.id,"-headControl"))&&(xe=parseInt(window.getComputedStyle(document.getElementById("".concat(qe.jSPlugin.id,"-headControl"))).height,10)),fe})})}).catch(function(U){console.log(U)})}n.setDecoderState({webExpend:!b})};break;case"hd":var P="".concat(this.jSPlugin.id,"-select-quality"),S="".concat(P,"-item");return u.title="画面清晰度",u.id=t,u.domString='<ul id="'.concat(this.jSPlugin.id,'-hdSelect" class="hd speed-select ').concat(this.isMobile?"mobile":"",'" style="display:none;bottom: calc(constant(safe-area-inset-bottom) + ').concat(this.isMobile?"80px":"50px",") !important;bottom: calc(env(safe-area-inset-bottom) + ").concat(this.isMobile?"80px":"50px",`) !important;">
          <!-- 由接口返回生成 -->  
        </ul><span id="`).concat(this.jSPlugin.id,`-hdSelect-icon-warp">
           <!-- 由接口返回生成 -->
          </span>`),u.onclick=function(R){var b=n.decoderState.state,_=b.hd,oe=b.expend,de=b.recordvideo,xe=b.play,se=b.hdList,Ae=b.zoom,qe=b.pantile;if(R.stopPropagation(),xe){var me=R.target.id,m=R.target.getAttribute("data-type");if(me.indexOf(P)===0){if(_.type+""!==m){var U=se.find(function(Pe){return Pe.level+""===m});if(U&&(U.streamType!==_.streamType||U.level+""!=_.level+"")){n.jSPlugin.changeVideoLevel(U),n.setDecoderState({hd:U}),Ae&&n.jSPlugin.Zoom.stopZoom();var le=document.getElementById("".concat(n.jSPlugin.id,"-hdSelect-icon")),re=document.getElementById("".concat(n.jSPlugin.id,"-sdSelect-icon"));le&&(le.style.display=["hd","0"].includes(U.level)?"block":"none"),re&&(re.style.display=["sd","1"].includes(U.level)?"block":"none")}}n.resetMobileZoomStatus(),de&&n.setDecoderState({recordvideo:!1})}n.showHD=!n.showHD,document.getElementById("".concat(n.jSPlugin.id,"-hdSelect"))&&(document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")).style.display=document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")).style.display==="none"?"block":"none",n.isMobile&&(document.getElementById("".concat(n.jSPlugin.id,"-select-hd-mask")).style.display=document.getElementById("".concat(n.jSPlugin.id,"-select-hd-mask")).style.display==="none"?"block":"none"),n.themeData.autoFocus>0&&(document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")).style.display==="none"?n.startAutoFocus():n.stopAutoFocus())),n.isMobile&&oe&&n.showHD?document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")).className="hd speed-select mobile expend":document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")).className=n.isMobile?"hd speed-select mobile":"speed-select",n.isMobile&&(oe?(document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")).style.bottom="env(safe-area-inset-bottom)",document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")).style.bottom="constant(safe-area-inset-bottom)"):(document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")).style.bottom="calc(constant(safe-area-inset-bottom) + 80px)",document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")).style.bottom="calc(env(safe-area-inset-bottom) + 80px)")),qe&&n.Ptz&&(n.Ptz.hide(),n.setDecoderState({pantile:!1}))}},Pm(this.jSPlugin.env.domain,this.jSPlugin.accessToken,this.jSPlugin.deviceSerial,this.jSPlugin.channelNo).then(function(R){var b=R;n.setDecoderState({hdList:b});var _=n.jSPlugin.url.indexOf("hd.live")>-1?b[0]:b[1];n.setDecoderState({hd:_});var oe=document.getElementById("".concat(n.jSPlugin.id,"-hdSelect")),de=document.getElementById("".concat(n.jSPlugin.id,"-hdSelect-icon-warp"));oe&&(oe.innerHTML=`
            `.concat(Jt(b).reverse().map(function(xe){if(xe.name&&xe.level!=null)return'<li class="selectOption default '.concat(S,'" style="height: 45px;text-align: center;line-height: 45px;list-style: none;cursor: pointer;" name="option" data-type="').concat(xe.level,'" id="').concat(P,"_").concat(xe.level,'">').concat(xe.name,"</li>")}).join(""),`
            <li class="selectOption cancel" style="`).concat(n.isMobile?"":"display:none;",'" name="option" id="').concat(n.jSPlugin.id,`-select-speed">取消</li>
          `)),de&&(K(n.decoderState.state.hd)==="object"&&typeof n.decoderState.state.hd.icon=="function"?de.innerHTML=`
              `.concat(b.map(function(xe){if(xe.name&&typeof xe.icon=="function")return xe.icon(n.jSPlugin.id,P,u.color,n.jSPlugin.width,Ir,n.decoderState.state.hd)}).join(""),`
              <span class='speed-select-mask' style="display:none" id="`).concat(n.jSPlugin.id,`-select-hd-mask"></span>
            `):K(n.decoderState.state.hd)==="object"&&typeof n.decoderState.state.hd.name=="string"&&$(de).prepend('<div class="theme-icon-item-icon '.concat(P,'-btn" data-type="').concat(n.decoderState.state.hd.level,'" style="width: ').concat(n.jSPlugin.width>Ir?48:32,'px">').concat(n.decoderState.state.hd.name,"</div>")))}),u;case"speed":u.title="回放倍速",u.id=t,u.domString='<ul id="'.concat(this.jSPlugin.id,'-speedSelect" class="speed speed-select ').concat(this.isMobile?"mobile":"",'" style="display:none;bottom: calc(constant(safe-area-inset-bottom) + ').concat(this.isMobile?"80px":"50px",") !important;bottom: calc(env(safe-area-inset-bottom) + ").concat(this.isMobile?"80px":"50px",') !important;">')+'<li class="selectOption default" style="height: 45px;text-align: center;line-height: 45px;list-style: none;cursor: pointer;font-size: 13px;" name="option" id="'.concat(this.jSPlugin.id,'-select-speed4">4倍</li>')+'<li class="selectOption default" style="height: 45px;text-align: center;line-height: 45px;list-style: none;cursor: pointer;font-size: 13px;" name="option" id="'.concat(this.jSPlugin.id,'-select-speed2">2倍</li>')+'<li class="selectOption active" style="height: 45px;text-align: center;line-height: 45px;list-style: none;cursor: pointer;font-size: 13px;" name="option" id="'.concat(this.jSPlugin.id,'-select-speed1">1倍（正常播放）</li>')+'<li class="selectOption default" style="height: 45px;text-align: center;line-height: 45px;list-style: none;cursor: pointer;font-size: 13px;" name="option" id="'.concat(this.jSPlugin.id,'-select-speed05">0.5倍</li>')+'<li class="selectOption cancel" style="'.concat(this.isMobile?"":"display:none;",'" name="option" id="').concat(this.jSPlugin.id,'-select-speed">取消</li>')+"</ul>"+`<span>
          <div style="font-size: 12px;
          vertical-align: bottom;
          display: inline-flex;
          padding: 0px 7px;
          width: 48px;
          line-height: 24px;
          justify-content: center;
          border: 1px solid `.concat(u.color,`;
          text-align: center;border-radius: 12.5px;"
          id="`).concat(this.jSPlugin.id,`-speed-text"
          >`).concat(this.nextRate===1?"倍速":"".concat(this.nextRate,"倍").replace("3","0.5"),`</div>
                `)+`<span class='speed-select-mask' style="display:none" id="`.concat(this.jSPlugin.id,'-select-mask"></span>')+"</span>",u.onclick=function(R){var b=n.decoderState.state,_=b.speed,oe=b.expend,de=b.play;if(R.stopPropagation(),!de)return!1;if(!_&&n.isMobile&&(document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).className=oe?"speed speed-select mobile expend":"speed speed-select mobile"),n.isMobile&&(oe?(document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).style.bottom="constant(safe-area-inset-bottom)",document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).style.bottom="env(safe-area-inset-bottom)"):(document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).style.bottom="calc(constant(safe-area-inset-bottom) + 80px)",document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).style.bottom="calc(env(safe-area-inset-bottom) + 80px)")),n.nextRate=1,R.target.id)switch(R.target.id){case"".concat(n.jSPlugin.id,"-select-speed1"):console.log("倍速1"),n.nextRate=1,n.jSPlugin.jSPlugin.JS_Speed(n.nextRate),n.changeRecSpeed(1),n.jSPlugin.speed=1,n.setDecoderState({speed:!_});break;case"".concat(n.jSPlugin.id,"-select-speed2"):console.log("倍速2"),n.nextRate=2,n.jSPlugin.jSPlugin.JS_Speed(n.nextRate),n.changeRecSpeed(2),n.jSPlugin.speed=2,n.setDecoderState({speed:!_});break;case"".concat(n.jSPlugin.id,"-select-speed4"):console.log("倍速4"),n.nextRate=4,n.jSPlugin.jSPlugin.JS_Speed(n.nextRate),n.changeRecSpeed(4),n.jSPlugin.speed=4,n.setDecoderState({speed:!_});break;case"".concat(n.jSPlugin.id,"-select-speed05"):console.log("倍速05"),n.nextRate=3,n.jSPlugin.jSPlugin.JS_Speed(n.nextRate),n.changeRecSpeed(.5),n.jSPlugin.speed=.5,n.setDecoderState({speed:!_});break;default:n.isMobile?n.setDecoderState({speed:!_}):n.setDecoderState({speed:!0});break}n.isMobile&&R.target.id==="".concat(n.jSPlugin.id,"-speed-text")?document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).style.display="block":document.getElementById("".concat(n.jSPlugin.id,"-speedSelect"))&&(document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).style.display=document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).style.display==="none"?"block":"none"),n.setDecoderState({speed:!_}),n.themeData.autoFocus>0&&(document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).style.display==="none"?n.startAutoFocus():n.stopAutoFocus())};break;case"deviceName":u.title="设备名称",u.id=t,u.domString="<span>设备名称</span>",u.onclick=function(){};break;case"deviceID":u.title="设备序列号",u.id=t,u.domString="<span>设备序列号</span>",u.onclick=function(){};break;case"cloudRec":u.title="云存储回放",u.id=t,u.domString=`
        <span>
          <svg class="theme-icon-item-icon" fill="`.concat(u.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg"  width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,`" viewBox="-10 0 40 15">
	<path d="M9.5,13.1c-0.3,0-0.5-0.2-0.5-0.5V8.8c0-0.3,0.2-0.5,0.5-0.5S10,8.5,10,8.8v3.8C10,12.8,9.8,13.1,9.5,13.1z"/>
	<path d="M7.6,10.6c-0.1,0-0.3-0.1-0.4-0.2C7,10.2,7,9.9,7.3,9.7l1.9-1.7c0.2-0.2,0.5-0.2,0.7,0l1.8,1.7
		c0.2,0.2,0.2,0.5,0,0.7c-0.2,0.2-0.5,0.2-0.7,0L9.5,9.1l-1.6,1.4C7.8,10.6,7.7,10.6,7.6,10.6z"/>
	<path d="M13.2,15.7H5.6c-2.1-0.1-3.8-1.8-3.8-3.9c0-1.8,1.3-3.4,3-3.8c0.4-2.2,2.3-3.9,4.6-3.9c2.3,0,4.2,1.7,4.6,3.8
		c1.8,0.4,3.1,1.9,3.1,3.8C17.1,13.9,15.4,15.7,13.2,15.7z M5.6,14.7h7.6c1.6,0,2.9-1.3,2.9-2.9c0-1.5-1.1-2.7-2.6-2.9l-0.4,0l0-0.4
		c-0.2-1.9-1.7-3.3-3.6-3.3C7.5,5.1,6,6.6,5.8,8.5l0,0.4l-0.4,0c-1.4,0.2-2.5,1.4-2.5,2.9C2.8,13.3,4.1,14.6,5.6,14.7z"/>
          </svg>
        </span>
        `),u.onclick=function(){console.log("点击云回放"),n.setDecoderState({type:"cloud.rec",cloudRec:!0,rec:!1}),n.jSPlugin.changePlayUrl({type:"cloud.rec"},function(){var R=cr("begin",n.jSPlugin.url)||new Date().Format("yyyyMMdd");n.Rec.renderRec("".concat(R.slice(0,4),"-").concat(R.slice(4,6),"-").concat(R.slice(6,8)));var b=n.decoderState.state.zoom;b&&(n.setDecoderState({zoom:!1}),n.jSPlugin.Zoom.stopZoom(),n.jSPlugin.close3DZoom())},!1)};break;case"rec":u.title="本地存储",u.id=t,u.domString=`
        <span>
        <svg class="theme-icon-item-icon" fill=`.concat(u.color,' version="1.1" xmlns="http://www.w3.org/2000/svg"  width="').concat(this.jSPlugin.width>Ir?48:32,'" height="').concat(this.jSPlugin.width>Ir?48:32,`" viewBox="0 0 40 15">
          <path d="M13,16.3H5.5c-1.1,0-2-0.9-2-2V3.8c0-1.1,0.9-2,2-2h5.4c0.5,0,1,0.2,1.4,0.6l2.1,2.1C14.8,4.8,15,5.3,15,5.9
  v8.4C15,15.4,14.1,16.3,13,16.3z M5.5,2.8c-0.6,0-1,0.4-1,1v10.5c0,0.6,0.4,1,1,1H13c0.6,0,1-0.4,1-1V5.9c0-0.3-0.1-0.5-0.3-0.7
  L11.6,3c-0.2-0.2-0.4-0.3-0.7-0.3H5.5z"/>
<path d="M6.3,7.3C6,7.3,5.8,7,5.8,6.8V4.5C5.8,4.2,6,4,6.3,4s0.5,0.2,0.5,0.5v2.2C6.8,7,6.6,7.3,6.3,7.3z"/>
<path d="M8.5,7.3C8.3,7.3,8,7,8,6.8V4.5C8,4.2,8.3,4,8.5,4S9,4.2,9,4.5v2.2C9,7,8.8,7.3,8.5,7.3z"/>
<path d="M10.8,7.3c-0.3,0-0.5-0.2-0.5-0.5V4.5c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v2.2C11.3,7,11.1,7.3,10.8,7.3z"
  />
        </svg>
      </span>
        `),u.onclick=function(){console.log("点击本地回放"),n.setDecoderState({type:"rec",cloudRec:!1,rec:!0}),n.jSPlugin.changePlayUrl({type:"rec"},function(){console.log("---------本地回放");var R=cr("begin",n.jSPlugin.url)||new Date().Format("yyyyMMdd");n.Rec.renderRec("".concat(R.slice(0,4),"-").concat(R.slice(4,6),"-").concat(R.slice(6,8)));var b=n.decoderState.state.zoom;b&&(n.setDecoderState({zoom:!1}),n.jSPlugin.Zoom.stopZoom(),n.jSPlugin.close3DZoom())},!1)};break}return u}},{key:"changeRecSpeed",value:function(t){var n=this,o=function(u){if(console.log("setLiActive",u),!document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")))return!1;document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[0].className=document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[0].className.replace("active","default"),document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[1].className=document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[1].className.replace("active","default"),document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[2].className=document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[2].className.replace("active","default"),document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[3].className=document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[3].className.replace("active","default"),document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[u].className=document.getElementById("".concat(n.jSPlugin.id,"-speedSelect")).childNodes[u].className.replace("default","active")},c="1";switch(t){case 1:o(2),c="倍速";break;case 2:o(1),c="".concat(t,"倍");break;case 4:o(0),c="".concat(t,"倍");break;case .5:o(3),c="".concat(t,"倍");break;default:o(2),c="".concat(t,"倍");break}document.getElementById("".concat(this.jSPlugin.id,"-speed-text"))&&(document.getElementById("".concat(this.jSPlugin.id,"-speed-text")).innerHTML=c)}},{key:"initThemeData",value:function(){var t=this,n=this.themeData,o=n.header,c=n.footer,d=this.jSPlugin.id;if(this.header=gn.header,this.footer=gn.footer,this.isNeedRenderHeader=Pr.findIndex(o.btnList,function(m){return m.isrender>0})>=0&&this.jSPlugin.id!="miniRec",this.isMobile&&(this.isNeedRenderHeader=Pr.findIndex(o.btnList,function(m){return m.isrender>0&&m.iconId==="deviceID"||m.isrender>0&&m.iconId==="deviceName"})>=0&&this.jSPlugin.id!="miniRec"),this.isNeedRenderFooter=Pr.findIndex(c.btnList,function(m){return m.isrender>0})>=0&&this.jSPlugin.id!="miniRec",console.log("miniRec："+this.jSPlugin.themeId),this.isNeedRenderTimeLine=Pr.findIndex(o.btnList,function(m){return m.iconId==="cloudRec"&&m.isrender===1||m.iconId==="rec"&&m.isrender===1})>=0&&!this.jSPlugin.disabledTimeLine&&this.jSPlugin.id!="miniRec",["date-switch-container-wrap","rec-type-container-wrap","mobile-rec-wrap","mobile-ez-ptz-container"].forEach(function(m,U){document.getElementById(m)&&document.getElementById(m).parentElement.removeChild(document.getElementById(m))}),this.isNeedRenderHeader)if(document.getElementById("".concat(this.jSPlugin.id,"-headControl")))document.getElementById("".concat(this.jSPlugin.id,"-headControl")).innerHTML="<div id='".concat(this.jSPlugin.id,"-headControl-left' style='display:flex;width: calc(100% - 100px);'></div><div id='").concat(this.jSPlugin.id,"-headControl-right' style='display:flex'></div>");else{var u=document.createElement("div");u.setAttribute("id","".concat(this.jSPlugin.id,"-headControl")),u.setAttribute("class","header-controls"),u.innerHTML="<div id='".concat(this.jSPlugin.id,`-headControl-left' class="header-controls-left" style='display:flex;width:calc(100% - 100px);overflow:hidden;'></div><div id='`).concat(this.jSPlugin.id,`-headControl-right' class="header-controls-right" style='display:flex;'></div>`);var k={height:this.jSPlugin.width>Ir?"48px":"32px","line-height":this.jSPlugin.width>Ir?"48px":"32px",display:"flex","justify-content":"space-between",top:0,"z-index":1,background:"#000000",color:"#FFFFFF",width:"100%"};u.style=ah(k),document.getElementById("".concat(d,"-wrap")).insertBefore(u,document.getElementById(d));var P=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&clearInterval(P)},50)}else document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&document.getElementById("".concat(this.jSPlugin.id,"-headControl")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-headControl")));if(this.isNeedRenderFooter)if(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")))document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.marginTop="-".concat(this.jSPlugin.width>Ir?48:32,"px"),document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).innerHTML='<div id="'.concat(this.jSPlugin.id,`-audioControls"  class="footer-controls" style='display:flex;justify-content: space-between;height: `).concat(this.jSPlugin.width>Ir?48:32,"px;width:100%;'><div id='").concat(this.jSPlugin.id,`-audioControls-left' class="footer-controls-left" style='display:flex'></div><div id='`).concat(this.jSPlugin.id,`-audioControls-right' class="footer-controls-right" style='display:flex'></div></div>`));else{var S=document.createElement("div");S.setAttribute("id","".concat(this.jSPlugin.id,"-ez-iframe-footer-container")),S.setAttribute("class","ez-iframe-footer-container");var R={"min-height":this.jSPlugin.width>Ir?"48px":"32px","max-height":this.jSPlugin.width>Ir?"96px":"80px",position:"relative","margin-top":this.jSPlugin.width>Ir?"-48px":"-32px",display:"flex","flex-wrap":"wrap","justify-content":"space-between","z-index":999,top:0,color:"#FFFFFF",width:"100%"};S.style=ah(R),S.innerHTML='<div id="'.concat(this.jSPlugin.id,`-audioControls" class="footer-controls" style='display:flex;height:`).concat(this.jSPlugin.width>Ir?48:32,"px;justify-content: space-between;width:100%;z-index:999;position: relative;'><div id='").concat(this.jSPlugin.id,`-audioControls-left' class="footer-controls-left" style='display:flex;'></div><div id='`).concat(this.jSPlugin.id,`-audioControls-right' class="footer-controls-right" style='display:flex'></div></div>`),Ea(S,document.getElementById(d))}else document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")));if(this.isNeedRenderHeader&&document.getElementById("".concat(this.jSPlugin.id,"-headControl"))){document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.background=o.backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.color=o.color;var b=hn(o.btnList),_;try{for(b.s();!(_=b.n()).done;){var oe=_.value;if(oe.isrender)try{this.renderHeader(oe.iconId,oe.part)}catch{}}}catch(m){b.e(m)}finally{b.f()}}if(this.isNeedRenderFooter&&document.getElementById("".concat(this.jSPlugin.id,"-audioControls"))){document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=c.backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=c.color;var de=hn(c.btnList),xe;try{for(de.s();!(xe=de.n()).done;){var se=xe.value;if(se.isrender)try{this.renderFooter(se.iconId,se.part)}catch{}}}catch(m){de.e(m)}finally{de.f()}}if(console.log("this.isNeedRenderTimeLine:"+this.isNeedRenderTimeLine),this.isNeedRenderTimeLine)if(this.isMobile)document.getElementById("".concat(this.jSPlugin.id,"-headControl-right"))&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl-right")).style.display="none"),this.Rec=new ir(this.jSPlugin,this.changeRecSpeed,this.resetMobileZoomStatus);else{this.Rec?(this.Rec.unSyncTimeLine(),this.Rec.recInit()):(this.jSPlugin.decoderState=this.decoderState,this.jSPlugin.setDecoderState=this.setDecoderState,this.Rec=new On(this.jSPlugin));var Ae=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&clearInterval(Ae)},50)}var qe=Pr.findIndex(this.themeData.footer.btnList,function(m){return m.iconId==="pantile"&&m.isrender===1})>=0&&!this.jSPlugin.disabledPTZ;if(qe&&(this.isMobile&&(this.MobilePtz=new dm(this.jSPlugin)),this.Ptz=new Ra(this.jSPlugin)),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"].forEach(function(m){var U=t;window.addEventListener(m,function(le){var re=U.decoderState.state,Pe=re.expend;re.webExpend;var fe=re.zoom,$e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;U.jSPlugin.Theme.Rec&&setTimeout(function(){U.jSPlugin.Theme.Rec.recAutoSize(function(){if(U.jSPlugin.Zoom.currentScale>1){var ot=U.jSPlugin.Zoom.currentScale;U.jSPlugin.Zoom.stopZoom(),setTimeout(function(){U.jSPlugin.Zoom.startZoom(),U.jSPlugin.Zoom.currentScale=ot,U.jSPlugin.Zoom.doScale(ot)},200)}})},100),$e||(Pe&&fe&&U.jSPlugin.use3DZoom&&U.jSPlugin.enable3DZoom(),U.setDecoderState({webExpend:!1,expend:!1})),document.getElementById("".concat(U.jSPlugin.id,"-hdSelect"))&&(document.getElementById("".concat(U.jSPlugin.id,"-hdSelect")).style.display="none"),document.getElementById("".concat(U.jSPlugin.id,"-speedSelect"))&&(document.getElementById("".concat(U.jSPlugin.id,"-speedSelect")).style.display="none"),U.isMobile&&(document.getElementById("".concat(U.jSPlugin.id,"-select-hd-mask"))&&(document.getElementById("".concat(U.jSPlugin.id,"-select-hd-mask")).style.display="none"),document.getElementById("".concat(U.jSPlugin.id,"-select-mask"))&&(document.getElementById("".concat(U.jSPlugin.id,"-select-mask")).style.display="none")),U.themeData.autoFocus>0&&U.startAutoFocus()})}),this.themeData.poster){this.jSPlugin.poster=this.themeData.poster;var me=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(me),t.jSPlugin.setPoster(t.themeData.poster))},50)}this.inited=!0,this.getDeviceInfo(),this.renderThemeData()}},{key:"resetMobileZoomStatus",value:function(){if(this.isMobile){var t=document.getElementById("".concat(this.jSPlugin.id,"-zoom-container"));t&&t.style&&t.style.display!="none"&&(console.log("结束电子放大"),t.style.display="none"),this.jSPlugin.jSPlugin.Zoom&&this.jSPlugin.jSPlugin.Zoom.resetZoom()}}},{key:"getDeviceInfo",value:function(t){var n=this,o=function(d){d.code==200&&d.data&&(t&&t(d),document.getElementById("".concat(n.jSPlugin.id,"-deviceName-content"))&&(document.getElementById("".concat(n.jSPlugin.id,"-deviceName-content")).style.maxWidth="100%",document.getElementById("".concat(n.jSPlugin.id,"-deviceName-content")).style.overflow="hidden",document.getElementById("".concat(n.jSPlugin.id,"-deviceName-content")).style.textOverflow="ellipsis",document.getElementById("".concat(n.jSPlugin.id,"-deviceName-content")).style.whiteSpace="nowrap",document.getElementById("".concat(n.jSPlugin.id,"-deviceName-content")).innerHTML=d.data.deviceName),document.getElementById("".concat(n.jSPlugin.id,"-deviceID-content"))&&(document.getElementById("".concat(n.jSPlugin.id,"-deviceID-content")).style.maxWidth="100%",document.getElementById("".concat(n.jSPlugin.id,"-deviceID-content")).style.overflow="hidden",document.getElementById("".concat(n.jSPlugin.id,"-deviceID-content")).style.textOverflow="ellipsis",document.getElementById("".concat(n.jSPlugin.id,"-deviceID-content")).style.whiteSpace="nowrap",document.getElementById("".concat(n.jSPlugin.id,"-deviceID-content")).innerHTML=Nn(n.jSPlugin.url).deviceSerial))};Lr(this.jSPlugin.env.domain+"/api/lapp/device/info","POST",{accessToken:this.jSPlugin.accessToken,deviceSerial:Nn(this.jSPlugin.url).deviceSerial},"",o)}},{key:"editStart",value:function(t){var n=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),o=document.getElementById("".concat(this.jSPlugin.id,"-headControl"));o&&o.setAttribute("class","header-controls themeEditing"),n&&n.setAttribute("class","footer-controls themeEditing"),this.setDecoderState({isEditing:!0})}},{key:"editEnd",value:function(t){var n=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),o=document.getElementById("".concat(this.jSPlugin.id,"-headControl"));o&&o.setAttribute("class","header-controls"),n&&n.setAttribute("class","footer-controls"),this.setDecoderState({isEditing:!1})}},{key:"webExpend",value:function(){var t=this,n=this.decoderState.state;n.webExpend;var o=n.expend,c=n.play;if(!c)return!1;if(o)return console.log("正在全局全屏"),!1;console.log("执行网页全屏");var d=0,u=0,k=so(document.getElementById("".concat(this.jSPlugin.id,"-wrap")));k.then(function(P){console.log("全屏promise",window.screen.width),document.getElementById("".concat(t.jSPlugin.id,"-canvas-container"))&&(d=parseInt(window.getComputedStyle(document.getElementById("".concat(t.jSPlugin.id,"-canvas-container"))).height,10)),document.getElementById("".concat(t.jSPlugin.id,"-headControl"))&&(u=parseInt(window.getComputedStyle(document.getElementById("".concat(t.jSPlugin.id,"-headControl"))).height,10)),console.log("this.jSPlugin.JS_Resiz",d,u,document.body.clientWidth),t.jSPlugin.jSPlugin.JS_Resize(window.screen.width,window.screen.height-d-u)}).catch(function(P){console.log(P)})}},{key:"expend",value:function(){var t=this,n=this.decoderState.state,o=n.webExpend;n.expend;var c=n.play;if(n.pantile,!c)return!1;if(o)return console.log("正在网站全屏"),!1;if(console.log("执行全局全屏"),this.isMobile){var d=parseInt(getComputedStyle(document.getElementById("".concat(this.jSPlugin.id,"-wrap"))).height,10)-parseInt(getComputedStyle(document.getElementById(this.jSPlugin.id)).height,10);Rs(document.getElementById("".concat(this.jSPlugin.id,"-wrap")));var u=document.documentElement.clientWidth,k=document.documentElement.clientHeight;document.getElementById("".concat(this.jSPlugin.id)).style["backface-visibility"]="hidden",this.jSPlugin.jSPlugin.JS_Resize(k,u-d)}else{var P=so(document.getElementById("".concat(this.jSPlugin.id)));P.then(function(S){t.jSPlugin.jSPlugin.JS_Resize(window.screen.width,window.screen.height)}).catch(function(S){console.log(S)})}}},{key:"disabledFECBtn",value:function(){var t=["".concat(this.jSPlugin.id,"-capturePicture"),"".concat(this.jSPlugin.id,"-capturePicture-content"),"".concat(this.jSPlugin.id,"-capturePicture-icon"),"".concat(this.jSPlugin.id,"-recordvideo"),"".concat(this.jSPlugin.id,"-recordvideo-content"),"".concat(this.jSPlugin.id,"-recordvideo-icon"),"".concat(this.jSPlugin.id,"-zoom"),"".concat(this.jSPlugin.id,"-zoom-content"),"".concat(this.jSPlugin.id,"-zoom-icon")],n=document.getElementById("".concat(this.jSPlugin.id,"-wrap"));if(this.jSPlugin.use3DZoom?this.jSPlugin.close3DZoom():this.jSPlugin.Zoom.stopZoom(),this.setDecoderState({zoom:!1}),n){var o=hn(t),c;try{for(o.s();!(c=o.n()).done;){var d=c.value,u=n.querySelector("#".concat(d));u&&(u.style.display="none")}}catch(k){o.e(k)}finally{o.f()}}}},{key:"resumeFECBtn",value:function(){var t=["".concat(this.jSPlugin.id,"-capturePicture"),"".concat(this.jSPlugin.id,"-capturePicture-content"),"".concat(this.jSPlugin.id,"-capturePicture-icon"),"".concat(this.jSPlugin.id,"-recordvideo"),"".concat(this.jSPlugin.id,"-recordvideo-content"),"".concat(this.jSPlugin.id,"-recordvideo-icon"),"".concat(this.jSPlugin.id,"-zoom"),"".concat(this.jSPlugin.id,"-zoom-content"),"".concat(this.jSPlugin.id,"-zoom-icon")],n=document.getElementById("".concat(this.jSPlugin.id,"-wrap"));if(n){var o=hn(t),c;try{for(o.s();!(c=o.n()).done;){var d=c.value,u=n.querySelector("#".concat(d));u&&(u.style.display="")}}catch(k){o.e(k)}finally{o.f()}}}}]),J}(),Ds=function(){function J(g,t){Re(this,J),this.jSPlugin=g,this.isMobile=t,this.timer=null,this.initToastCustom()}return xt(J,[{key:"initToastCustom",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-wrap-Toast-custom"))?document.getElementById("".concat(this.jSPlugin.id,"-wrap-Toast-custom")).style.display="none":this.randerToast()}},{key:"randerToast",value:function(){var t=this.jSPlugin.width,n=1;this.isMobile?n=t/375||1:n=t/1024||1;var o=document.getElementById("".concat(this.jSPlugin.id,"-wrap")),c=document.createElement("div");c.style="display:none;position:absolute;top:0;width: 100%;align-items: center;justify-content: center;",c.id="".concat(this.jSPlugin.id,"-wrap-Toast-custom"),this.isMobile?c.innerHTML='<div id="'.concat(this.jSPlugin.id,`-wrap-Toast-custom-content" 
            style="padding: `).concat(12*n,"px ").concat(20*n,"px;font-size: ").concat(16*n,"px;line-height:").concat(16*n,"px;border-radius: ").concat(8*n,"px;margin-top: ").concat(667*n*.53,`px;
            background-color: rgba(0,0,0,0.8);color:rgba(255,255,255,0.90);box-sizing: border-box;z-index: 999;">
            </div>
            `):c.innerHTML='<div id="'.concat(this.jSPlugin.id,`-wrap-Toast-custom-content" 
            style="padding: `).concat(20*n,"px ").concat(32*n,"px;font-size: ").concat(24*n,"px;line-height:").concat(24*n,"px;border-radius: ").concat(12*n,"px;margin-top: ").concat(36*n,`px;
            background-color: rgba(0,0,0,0.7);color:rgba(255,255,255,0.90);box-sizing: border-box;z-index: 999;">
            </div>
            `),o.insertBefore(c,document.getElementById(this.jSPlugin.id))}},{key:"initToastContent",value:function(t){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2e3;console.log("content----------------",t),this.timer=null,document.getElementById("".concat(this.jSPlugin.id,"-wrap-Toast-custom"))?(document.getElementById("".concat(this.jSPlugin.id,"-wrap-Toast-custom")).style.display="flex",document.getElementById("".concat(this.jSPlugin.id,"-wrap-Toast-custom-content")).innerText=t||"",this.timer=setTimeout(function(){document.getElementById("".concat(n.jSPlugin.id,"-wrap"))&&document.getElementById("".concat(n.jSPlugin.id,"-wrap-Toast-custom"))&&document.getElementById("".concat(n.jSPlugin.id,"-wrap")).removeChild(document.getElementById("".concat(n.jSPlugin.id,"-wrap-Toast-custom")))},o)):(this.randerToast(),this.initToastContent(t))}}]),J}(),oh=function(g,t,n){var o=function(P){console.log(P),t(P)},c=function(P){console.log(P),n(P)},d=new FormData;d.append("deviceSerial",Nn(g.url).deviceSerial),d.append("cmd","open"),g.accessToken;var u="".concat(g.env.domain,"/api/v3/device/acs/remote/door?accessToken=").concat(g.accessToken);fetch(u,{method:"POST",body:d}).then(function(k){return k.json()}).then(function(k){console.log("get theme data",k),o(k)}).catch(function(k){c(k)})},sh=function(g,t,n){var o=function(S){console.log(S),t(S)},c=function(S){console.log(S),n(S)},d={accessToken:g.accessToken,pageStart:0,pageSize:4,default:!0,voiceName:"轻应用语音文件"},u={"Content-Type":"application/x-www-form-urlencoded"},k="".concat(g.env.domain,"/api/lapp/voice/query");Jo(k,"POST",d,o,c,u)},lh=function(g,t,n,o){var c=function(S){console.log(S),n(S)},d=function(S){console.log(S),o(S)},u="".concat(g.env.domain,"/api/lapp/voice/send"),k=new FormData;k.append("deviceSerial",Nn(g.url).deviceSerial),k.append("accessToken",g.accessToken),k.append("channelNo",Nn(g.url).channelNo||1),k.append("fileUrl",t),fetch(u,{method:"POST",body:k}).then(function(P){return P.json()}).then(function(P){c(P)}).catch(function(P){d(P)})},Em=function(){function J(g,t){Re(this,J),this.jSPlugin=g,this.videoWidth=g.width,this.switchFooter=t,this.sendLoadingStats=!1,this.toastCustom=new Ds(g,!1),this.quickReplyList=["你好，请将快递放在门口","你好，稍等","你好，请将快递放入小区快递柜","你好，请将外卖放在门口"],this.initQuickReply()}return xt(J,[{key:"initQuickReply",value:function(){document.getElementById("pc-quickReply-back")||this.renderQuickReply(),document.getElementById("pc-quickReply-back-item-0")||this.getQuickReplyList()}},{key:"renderQuickReply",value:function(){var t=this,n=this.videoWidth/1024||1,o=document.createElement("div");o.style="width:100%;",o.innerHTML=`<div style="width:100%;display:flex;flex-direction:row;align-items: center;">
        <div id="pc-quickReply-back" style="display: flex;align-items: center;margin: 0 `.concat(8*n,"px 0 ").concat(16*n,`px;cursor: pointer;">
            <div style="height: `).concat(32*n,`px;">
                <svg width="`).concat(32*n,'px" height="').concat(32*n,`px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <title>返回</title>
                    <defs>
                        <filter id="filter-1">
                            <feColorMatrix in="SourceGraphic" type="matrix" values="0 0 0 0 1.000000 0 0 0 0 1.000000 0 0 0 0 1.000000 0 0 0 1.000000 0"></feColorMatrix>
                        </filter>
                    </defs>
                    <g id="控件" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="快速回复loading" transform="translate(-16.000000, -497.000000)">
                            <g id="返回" transform="translate(0.000000, 425.000000)" filter="url(#filter-1)">
                                <g transform="translate(16.000000, 72.000000)">
                                    <rect id="Rectangle" x="0" y="0" width="32" height="32"></rect>
                                    <path d="M12.5,7.5 C13.2988404,7.5 13.9518304,8.12445998 13.9974537,8.91186361 L14,9 L14,21.5 L26.5,21.5 C27.2988404,21.5 27.9518304,22.12446 27.9974537,22.9118636 L28,23 C28,23.7988404 27.37554,24.4518304 26.5881364,24.4974537 L26.5,24.5 L12.5,24.5 C11.7011596,24.5 11.0481696,23.87554 11.0025463,23.0881364 L11,23 L11,9 C11,8.17157288 11.6715729,7.5 12.5,7.5 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero" transform="translate(19.500000, 16.000000) rotate(45.000000) translate(-19.500000, -16.000000) "></path>
                                </g>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <span style="font-size: `).concat(24*n,`px;">返回</span>
        </div>
        <div id="pc-quickReply-content" style="display: block;width:calc(100% - `).concat(160*n,"px);margin: 0 ").concat(24*n,`px;"></div>
        <div id="pc-quickReply-loading" style="display: none;width:calc(100% - `).concat(160*n,"px);margin: 0 ").concat(24*n,`px;"></div>
        <div id="pc-quickReply-loaderror" style="display: none;width:calc(100% - `).concat(160*n,"px);margin: 0 ").concat(24*n,`px;"></div>
    </div>`),document.getElementById("".concat(this.jSPlugin.id,"-audioControls-quickReply")).appendChild(o),document.getElementById("pc-quickReply-back").onclick=function(){t.switchFooter("onBell")}}},{key:"matchQuickReplyBtn",value:function(){var t=this,n=this.videoWidth/1024||1,o=document.getElementById("pc-quickReply-content");this.quickReplyList&&this.quickReplyList.length>0&&this.quickReplyList.forEach(function(c,d){var u=document.createElement("div");u.id="pc-quickReply-back-item-".concat(d),u.style="margin: ".concat(8*n,"px 0 ").concat(8*n,"px ").concat(8*n,`px;cursor: pointer;
            padding: 0 `).concat(20*n,"px;min-height: ").concat(64*n,"px;width:calc(50% - ").concat(16*n,`px);
            display: inline-block;background: rgba(0,0,0,0.70);border-radius: 8px;text-align: center;
            box-sizing: border-box;font-size:`).concat(24*n,"px;color: rgba(255,255,255,0.90);"),u.innerHTML='<div id="pc-quickReply-back-item-box-'.concat(d,`">
            <span id="pc-quickReply-name-`).concat(d,'" style="line-height: ').concat(64*n,'px;">').concat(c.voiceName,`</span>
            </div>`),u.onclick=function(){t.sendLoadingStats||(console.log("item:"+c),t.sendQuickReply(c,d))},o.appendChild(u)})}},{key:"setBtnCheckLoading",value:function(t,n){var o=this.videoWidth/1024||1;if(n>-1){document.getElementById("pc-quickReply-back-item-".concat(n));var c=document.getElementById("pc-quickReply-back-item-box-".concat(n)),d=document.getElementById("pc-quickReply-name-".concat(n));if(t==1){var u=document.getElementById("pc-quickReply-icon-loading-".concat(n));u&&d&&c.removeChild(u)}else if(d){var k=document.createElement("span");k.id="pc-quickReply-icon-loading-".concat(n),k.style="vertical-align: middle;margin-right:".concat(16*o,"px;"),k.innerHTML='<svg width="'.concat(30*o,'" height="').concat(30*o,'" t="1567069979438" class="loading" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#ffffff" p-id="2400"></path></svg>'),c.insertBefore(k,d)}}}},{key:"getQuickReplyList",value:function(){var t=this;console.log("getQuickReplyList"),this.madeLoadingDom(0);var n=function(d){if(d&&d.code==200){var u=d.data||[],k=[];d.data.forEach(function(P,S){k=P.voiceName.split("_"),u[S].voiceName=k[1]}),t.quickReplyList=u,setTimeout(function(){t.madeLoadingDom(2)},500)}else t.madeLoadingDom(1)},o=function(d){console.log(d),t.madeLoadingDom(1)};sh(this.jSPlugin,n,o)}},{key:"madeLoadingDom",value:function(t){var n=this,o=this.videoWidth/1024||1;if(t==0){if(document.getElementById("pc-quickReply-content").style.display="none",document.getElementById("pc-quickReply-loaderror").style.display="none",document.getElementById("pc-quickReply-loading").style.display="block",!document.getElementById("pc-quickReply-loading-box")){var c=document.createElement("div");c.id="pc-quickReply-loading-box",c.style="width: 100%;display: flex;align-items: center;justify-content: center;flex-direction: column;",c.innerHTML='<div class="" style="heigth:'.concat(40*o,`px">
                <svg width="`).concat(40*o,'" height="').concat(40*o,`" t="1567069979438" class="loading" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#ffffff" p-id="2400"></path></svg>
            </div>
            <div style="font-size: `).concat(28*o,"px;margin-top:").concat(10*o,"px;line-height:").concat(36*o,'px;">加载中…</div>'),document.getElementById("pc-quickReply-loading").appendChild(c)}}else if(t==1){if(document.getElementById("pc-quickReply-content").style.display="none",document.getElementById("pc-quickReply-loading").style.display="none",document.getElementById("pc-quickReply-loaderror").style.display="block",!document.getElementById("pc-quickReply-loaderror-box")){var d=document.createElement("div");d.id="pc-quickReply-loaderror-box",d.style="width: 100%;display: flex;align-items: center;justify-content: center;flex-direction: column;",d.innerHTML='<div style="font-size: '.concat(28*o,`px;color: rgba(255,255,255,0.90);">快速回复加载失败</div>
            <div id="pc-quickReply-loaderror-reload" style="font-size: `).concat(24*o,"px;margin-top:").concat(16*o,'px;color: rgba(100,143,252,0.90);cursor: pointer;">重新加载</div>'),document.getElementById("pc-quickReply-loaderror").appendChild(d),document.getElementById("pc-quickReply-loaderror-reload").onclick=function(){n.getQuickReplyList()}}}else document.getElementById("pc-quickReply-loading").style.display="none",document.getElementById("pc-quickReply-loaderror").style.display="none",document.getElementById("pc-quickReply-content").style.display="block",this.matchQuickReplyBtn()}},{key:"sendQuickReply",value:function(t,n){var o=this;this.sendLoadingStats=!0,this.setBtnCheckLoading(0,n);var c=function(k){o.sendLoadingStats=!1,o.setBtnCheckLoading(1,n),k&&k.code==200?o.toastCustom.initToastContent("快捷回复成功"):o.toastCustom.initToastContent("快捷回复失败，请重试"),o.switchFooter("onBell")},d=function(k){console.log(k),o.sendLoadingStats=!1,o.setBtnCheckLoading(1,n),o.toastCustom.initToastContent("快捷回复失败，请重试"),o.switchFooter("onBell")};lh(this.jSPlugin,t.fileUrl,c,d)}}]),J}(),Rm=function(){function J(g,t){Re(this,J),this.jSPlugin=g,this.videoWidth=g.width,this.switchFooter=t,this.toastCustom=new Ds(g,!1),this.lockStatus=!1,this.initRemoteUnlock()}return xt(J,[{key:"initRemoteUnlock",value:function(){document.getElementById("pc-remoteUnlock-back")?this.madeSlideEvent():this.renderRemoteUnlock()}},{key:"renderRemoteUnlock",value:function(){var t=this,n=this.videoWidth/1024||1,o=document.createElement("div");o.style="width:100%;",o.id="pc-remoteUnlock-box",o.innerHTML=`<div style="width:100%;display:flex;flex-direction:row;align-items: center;">
        <div id="pc-remoteUnlock-back" style="display: flex;align-items: center;margin: 0 `.concat(8*n,"px 0 ").concat(16*n,`px;cursor: pointer;">
            <div style="height: `).concat(32*n,`px;">
                <svg width="`).concat(32*n,'px" height="').concat(32*n,`px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <title>返回</title>
                    <defs>
                        <filter id="filter-1">
                            <feColorMatrix in="SourceGraphic" type="matrix" values="0 0 0 0 1.000000 0 0 0 0 1.000000 0 0 0 0 1.000000 0 0 0 1.000000 0"></feColorMatrix>
                        </filter>
                    </defs>
                    <g id="控件" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="快速回复loading" transform="translate(-16.000000, -497.000000)">
                            <g id="返回" transform="translate(0.000000, 425.000000)" filter="url(#filter-1)">
                                <g transform="translate(16.000000, 72.000000)">
                                    <rect id="Rectangle" x="0" y="0" width="32" height="32"></rect>
                                    <path d="M12.5,7.5 C13.2988404,7.5 13.9518304,8.12445998 13.9974537,8.91186361 L14,9 L14,21.5 L26.5,21.5 C27.2988404,21.5 27.9518304,22.12446 27.9974537,22.9118636 L28,23 C28,23.7988404 27.37554,24.4518304 26.5881364,24.4974537 L26.5,24.5 L12.5,24.5 C11.7011596,24.5 11.0481696,23.87554 11.0025463,23.0881364 L11,23 L11,9 C11,8.17157288 11.6715729,7.5 12.5,7.5 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero" transform="translate(19.500000, 16.000000) rotate(45.000000) translate(-19.500000, -16.000000) "></path>
                                </g>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <span style="font-size: `).concat(24*n,`px;user-select: none;">返回</span>
        </div>
        <div id="pc-remoteUnlock-content" style="display: block;width:calc(100% - `).concat(160*n,"px);margin: 0 ").concat(24*n,`px;"></div>
    </div>`),document.getElementById("".concat(this.jSPlugin.id,"-audioControls-remoteUnlock")).appendChild(o),document.getElementById("pc-remoteUnlock-back").onclick=function(){t.goback()},this.renderRemoteUnlockSlide()}},{key:"renderRemoteUnlockSlide",value:function(){var t=this.videoWidth/1024||1,n=document.getElementById("pc-remoteUnlock-content"),o=document.createElement("div");o.id="pc-remoteUnlock-content-slide",o.style="width: 100%;display: flex;justify-content: center;cursor: pointer;",o.innerHTML='<div id="pc-remoteUnlock-slide-box" style="width: '.concat(400*t,"px;line-height: ").concat(80*t,"px;height: ").concat(80*t,"px;border: 1px solid rgba(255,255,255,1);border-radius: ").concat(40*t,`px;position: relative;text-align: center;">
        <div id="pc-remoteUnlock-slide-bgColor" style="border-radius: `).concat(40*t,"px;width: ").concat(64*t,"px;height: ").concat(80*t,`px;position: absolute;left: 0;top: 0;"></div>
        <div id="pc-remoteUnlock-slide-tips" style="height: `).concat(80*t,"px;line-height: ").concat(80*t,"px;font-size: ").concat(24*t,"px;border-radius: ").concat(40*t,`px;position: absolute;text-align: center;user-select: none;color: rgba(255,255,255,0.90);width: 100%;">右滑开锁</div>
        <div id="pc-remoteUnlock-slide-ball" style="top: `).concat(8*t,"px;left: ").concat(8*t,"px;width: ").concat(64*t,"px;height: ").concat(64*t,`px;background: #598FFF;position: absolute;text-align: center;border-radius:50%;display: flex;align-items: center;justify-content: center;">
            <svg id="slide-ball-start" style="display: inline;" width="`).concat(36*t,'px" height="').concat(36*t,`px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <title></title>
                <g id="icon/箭头向右" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <rect id="矩形" fill="#000000" fill-rule="nonzero" opacity="0" x="0" y="0" width="24" height="24"></rect>
                    <path d="M14.2841136,6.3689007 L19.9432338,12.0287579 L14.2863796,17.6856122 L12.8580239,16.2572565 L16.114,12.9999007 L4.00000001,13 L4.00000001,11 L16.058,10.9999007 L12.8557579,7.79725638 L14.2841136,6.3689007 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                </g>
            </svg>
            <svg id="slide-ball-end"  style="display: none;" width="`).concat(36*t,'" height="').concat(36*t,`" t="1567069979438" class="loading" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#598FFF" p-id="2400"></path></svg>
            
        </div>
    </div>`),n.appendChild(o),this.madeSlideEvent()}},{key:"getOffsetLeft",value:function(t){var n=0;do n+=t.offsetLeft,t=t.parentNode;while(t.parentNode);return n}},{key:"madeSlideEvent",value:function(){var t=this.videoWidth/1024||1,n=document.getElementById("".concat(this.jSPlugin.id)),o=this.getOffsetLeft(n),c=document.getElementById("pc-remoteUnlock-slide-box"),d=document.getElementById("pc-remoteUnlock-slide-bgColor"),u=document.getElementById("pc-remoteUnlock-slide-tips"),k=document.getElementById("pc-remoteUnlock-slide-ball"),P=this;function S(){P.lockStatus||(P.lockStatus=!0,document.getElementById("slide-ball-start").style.display="none",document.getElementById("slide-ball-end").style.display="inline",d.style.width=c.clientWidth+"px",d.style.backgroundColor="#598FFF",c.style.border="0",k.style.backgroundColor="#ffffff",u.textContent="正在开锁",k.onmousedown=null,document.onmousemove=null,P.sendRemoteUnlockApi())}k.onmousedown=function(b){var b=b||window.event,_=b.offsetX;k.style.transition="",d.style.transition="",document.onmouseup=function(){console.log("--------------onmouseup"),P.lockStatus||(d.style.width="0px",k.style.left=8*t+"px",k.style.transition="left 0.6s linear",d.style.transition="width 0.6s linear"),document.onmouseup=null,document.onmousemove=null},document.onmousemove=function(de){var de=de||window.event;console.log("videoDom",o);var xe=de.pageX-c.offsetLeft-_-o,se=c.clientWidth-k.clientWidth-8*t;xe<=0&&(xe=0),xe>=se&&(xe=se),k.style.left=xe+"px",xe==se&&!P.lockStatus&&S()}}}},{key:"resetRemoteUnlockSlide",value:function(){var t=document.getElementById("pc-remoteUnlock-box"),n=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-remoteUnlock"));t&&n&&n.removeChild(t)}},{key:"sendRemoteUnlockApi",value:function(){var t=this;console.log("下发远程开锁");var n=function(d){d&&d.code==200?t.toastCustom.initToastContent("开锁成功"):t.toastCustom.initToastContent("开锁失败，请重试"),t.goback()},o=function(d){console.log(d),t.toastCustom.initToastContent("开锁失败，请重试"),t.goback()};oh(this.jSPlugin,n,o)}},{key:"goback",value:function(){this.switchFooter("onCall"),this.resetRemoteUnlockSlide()}}]),J}(),km={customConfig:{defaultMicro:0,defaultPlay:0,maxTalkTime:0,bellPoster:0,maxBellTime:0},header:{onBell:{color:"#2c2c2c",backgroundColor:"#00000000 linear-gradient(180deg, rgba(0,0,0,0.65) 0%, rgba(0,0,0,0.00) 100%)",activeColor:"#1890FF",autoFocus:0,btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-header-0",iconId:"ringStatus",part:"left",defaultActive:0,isrender:1,color:"#ffffff",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-header-1",iconId:"deviceCategory",part:"left",defaultActive:0,isrender:1,color:"#ffffff",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793"}]},onCall:{color:"#2c2c2c",backgroundColor:"#00000000",activeColor:"#1890FF",autoFocus:5,btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-header-0",iconId:"callStatus",part:"left",defaultActive:0,isrender:1,color:"#ffffff",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-header-1",iconId:"deviceCategory",part:"left",defaultActive:0,isrender:1,color:"#ffffff",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793"}]}},footer:{onBell:{color:"#ffffff",backgroundColor:"#00000000",activeColor:"#1890FF",autoFocus:5,btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-0",iconId:"quickReply",part:"left",defaultActive:1,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-1",iconId:"rejection",part:"left",defaultActive:0,isrender:1,color:"#2C2C2C",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-2",iconId:"answer",part:"left",defaultActive:0,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-3",iconId:"remoteUnlock",part:"left",defaultActive:0,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"}]},onCall:{color:"#2c2c2c",backgroundColor:"#00000080",activeColor:"#1890FF",autoFocus:5,btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-0",iconId:"mute",part:"left",defaultActive:1,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-1",iconId:"hangUp",part:"left",defaultActive:0,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-2",iconId:"remoteUnlock",part:"left",defaultActive:0,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"}]}}},Im={data:km},ch=function(g){var t="";return Object.keys(g).map(function(n,o){t+="".concat(n,":").concat(g[n]).concat(o<Object.keys(g).length-1?";":"")}),t},Dm=function(){function J(g,t,n,o){var c=this;Re(this,J),_t(this,"autoPlayRing",function(){console.log("autoPlayRing");var d=document.getElementById("bellring-audio");d&&(d.muted=!1,d.src="https://resource.eziot.com/group2/M00/00/8F/CtwQFmPbWnOAGuT5AAHZihhCJEM230.mp3",d.paused&&d.play()),window.removeEventListener("click",c.autoPlayRing)}),_t(this,"muteCommon",function(d){var u=c.decoderState.state,k=u.talk,P=u.sound;k?(console.log("结束对讲"),c.setDecoderState({talk:!1,mute:!0},d.backgroundColor),c.jSPlugin.Talk.stopTalk(),P||c.jSPlugin.openSound(),c.setDecoderState({sound:!0})):(c.setDecoderState({talk:!1,mute:!0},d.backgroundColor),P||c.jSPlugin.openSound(),c.setDecoderState({sound:!0}))}),_t(this,"switchCallStatus",function(d){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=c.themeData,P=k.header,S=k.footer,R=null;if(d=="onCall"){console.log("接听"),c.bellStatus="onCall",c.switchFooter("onCall"),S[c.bellStatus].btnList.map(function(_,oe){_.isrender&&c.renderFooter(_.iconId,_),_.iconId=="mute"&&(R=_)}),P[c.bellStatus].btnList.map(function(_,oe){_.isrender&&c.renderHeader(_.iconId,_)});var b=document.getElementById("".concat(c.jSPlugin.id,"-header-onBell"));b&&b.parentElement.removeChild(b),c.themeData.customConfig.bellPoster==1&&document.getElementById("bellring-icon")&&document.getElementById("".concat(c.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring-icon")),c.themeData.customConfig.defaultMicro==0&&R?c.muteCommon(R):c.setDecoderState({mute:!1},R.backgroundColor),c.removeBellRing()}else console.log("响铃"),c.bellStatus="onBell",c.jSPlugin.Theme.changeTheme(c.themeData,u)}),this.jSPlugin=g,this.videoWidth=g.width,this.videoHeight=g.height,this.themeData=t,this.setDecoderState=n,this.decoderState=o,this.isNeedRenderHeader=!1,this.isNeedRenderFooter=!1,this.autoFocus=0,this.autoFocusTimer=null,this.bellStatus="onBell",this.recordTimer=null,this.nextRate=1,this.themeInited=!1,this.inited=!1,this.activeThemeStatus=!0,this.activeThemeStatusTxt="模板未激活",this.toastCustom=new Ds(g,!1)}return xt(J,[{key:"initBellRing",value:function(){var t=this,n=this.decoderState.state,o=n.play,c=n.isEditing;n.rejection;var d=this.videoWidth,u=d/1024;this.maxBellTime=this.themeData.customConfig.maxBellTime*1e3;var k=document.getElementById("bellring"),P=document.getElementById("bellring-audio");if(!k&&!P){if(this.jSPlugin.isNeedBellRing){var S=document.createElement("div");S.id="bellring",S.innerHTML=`<div>
          <audio id="bellring-audio" loop autoplay>
            <source src="https://resource.eziot.com/group2/M00/00/8F/CtwQFmPbWnOAGuT5AAHZihhCJEM230.mp3" type="audio/mpeg">
          </audio>
          </div>`,document.getElementById("".concat(this.jSPlugin.id,"-wrap")).appendChild(S)}if(this.themeData.customConfig.bellPoster==1&&!c){var R=(this.videoHeight-180*u)/2,b=document.createElement("div");b.id="bellring-icon",b.style=`position: absolute;pointer-events: none;background: none;width: 100%;
          position: absolute;top: `.concat(R,"px;display: flex;align-items: center;justify-content: center;"),b.innerHTML='<div style="width: '.concat(180*u,"px;height: ").concat(180*u,`px;display: flex;align-items: center;justify-content: center;border: 1px solid rgba(255,255,255,0.2);border-radius: 50%;">
            <div style="width: `).concat(100*u,"px;height: ").concat(100*u,`px;display: flex;align-items: center;justify-content: center;border: 1px solid rgba(255,255,255,0.3);border-radius: 50%;">
              <svg width="`).concat(40*u,'px" height="').concat(40*u,`px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title>icon/响铃</title>
                  <g id="icon/响铃" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                      <polygon id="Path" points="0 0 40.0000002 0 40.0000002 40.0000002 0 40.0000002"></polygon>
                      <path d="M20.0000001,4.25000002 C22.0363461,4.25000002 23.698175,5.84879552 23.8000507,7.8591997 L23.8050001,8.05500003 L23.805316,8.99953253 C27.1874196,9.97041766 29.6921839,13.0354462 29.80936,16.723731 L29.80936,16.723731 L29.8133335,16.9800001 L29.8133335,21.6416668 C29.8133335,22.3259481 30.0858837,22.9835569 30.5703302,23.4680033 L30.5703302,23.4680033 L31.6386635,24.5363367 C32.338953,25.2366262 32.760721,26.1675592 32.8273086,27.1785295 L32.8273086,27.1785295 L32.8350001,27.4233334 C32.8350001,29.577547 31.0892137,31.3233335 28.9350001,31.3233335 L28.9350001,31.3233335 L24.5666667,31.323 L24.5650266,31.3951531 C24.4527075,33.8194458 22.4520933,35.7500001 20.0000001,35.7500001 C17.5482065,35.7500001 15.5473098,33.8197367 15.4349743,31.3967059 L15.4326667,31.323 L11.0666667,31.3233335 C9.06159524,31.3233335 7.39851917,29.8069287 7.18810198,27.8229374 L7.17194359,27.6230185 L7.1666667,27.4233334 C7.1666667,26.3411154 7.59733134,25.3020086 8.36300328,24.5363367 L8.36300328,24.5363367 L9.43133662,23.4680033 C9.91578309,22.9835569 10.1883334,22.3259481 10.1883334,21.6416668 L10.1883334,21.6416668 L10.1883334,16.9800001 C10.1883334,13.1909619 12.7263704,9.99530436 16.1948593,8.99965364 L16.1950001,8.05500003 C16.1950001,5.95360729 17.8979654,4.25000002 20.0000001,4.25000002 Z M23.0656667,31.323 L16.9336667,31.323 L16.9352114,31.3619281 C17.0285826,32.9723844 18.3649772,34.2500001 20.0000001,34.2500001 C21.6352227,34.2500001 22.9714318,32.9721919 23.0647896,31.3604131 L23.0656667,31.323 Z M21.5116668,10.1783334 L18.4900001,10.1783334 C14.7336124,10.1783334 11.6883334,13.2231481 11.6883334,16.9800001 L11.6883334,16.9800001 L11.6883334,21.6416668 C11.6883334,22.7238848 11.2576687,23.7629916 10.4919968,24.5286635 L10.4919968,24.5286635 L9.42366346,25.5969969 C8.93921698,26.0814433 8.6666667,26.7390521 8.66637526,27.402427 L8.66637526,27.402427 L8.67048222,27.560237 C8.74130967,28.8268108 9.79171396,29.8233335 11.0666667,29.8233335 L11.0666667,29.8233335 L23.7906939,29.8222289 C23.8004164,29.8218553 23.8101862,29.8216668 23.8200001,29.8216668 L23.8486667,29.823 L28.9350001,29.8233335 C30.2055455,29.8233335 31.2450456,28.8367727 31.329826,27.609522 L31.3354106,27.4481422 L31.3293607,27.2529336 C31.2880301,26.6292837 31.0210852,26.0400787 30.5780034,25.5969969 L30.5780034,25.5969969 L29.50967,24.5286635 C28.7439981,23.7629916 28.3133335,22.7238848 28.3133335,21.6416668 L28.3133335,21.6416668 L28.3134279,16.9919039 L28.3098332,16.759466 C28.1934023,13.0970787 25.1864454,10.1783334 21.5116668,10.1783334 L21.5116668,10.1783334 Z M20.0000001,5.75000002 C18.7795808,5.75000002 17.7813801,6.69770708 17.7003155,7.89717688 L17.6950001,8.05500003 L17.6952875,8.7158769 C17.9568453,8.69103758 18.2219393,8.67833337 18.4900001,8.67833337 L18.4900001,8.67833337 L21.5116668,8.67833337 C21.7792577,8.67833337 22.0439466,8.69101238 22.3051575,8.71580951 L22.3050001,8.05500003 C22.3050001,6.7819079 21.273481,5.75000002 20.0000001,5.75000002 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                  </g>
              </svg>
            </div>
          </div>`),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).appendChild(b),o&&this.bellStatus=="onBell"&&this.jSPlugin.pause()}else document.getElementById("bellring-icon")&&document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring-icon"));setTimeout(function(){var _=t.decoderState.state,oe=_.isEditing,de=_.rejection;t.bellStatus=="onBell"&&!de&&(t.removeBellRing(),oe||t.answerOvertime())},this.maxBellTime)}}},{key:"removeBellRing",value:function(){document.getElementById("bellring")&&document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring")),document.getElementById("bellring-icon")&&document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring-icon"))}},{key:"matchBtn",value:function(t,n){var o=this,c=this.themeData,d=c.header,u=c.footer,k=this.decoderState.state,P=k.mute,S=k.rejection,R={title:"",id:"",domString:"",color:"#FFFFFF",activeColor:"#FFFFFF",onclick:function(){},onmoveleft:function(){},onmoveright:function(){},onremove:function(){}},b=d[this.bellStatus].btnList.findIndex(function(de){return de.iconId===t});b===-1?(R.color=u[this.bellStatus].color,R.backgroundColor=u[this.bellStatus].backgroundColor,R.activeColor=u[this.bellStatus].activeColor):(R.color=d[this.bellStatus].color,R.backgroundColor=d[this.bellStatus].backgroundColor,R.activeColor=d[this.bellStatus].activeColor);var _=this.videoWidth/6;this.videoWidth;var oe=this.videoWidth/1024||1;switch(t){case"ringStatus":return R.title=this.activeThemeStatus?"有人按门铃":this.activeThemeStatusTxt,R.id=t,R.domString='<span id="header-onBell-ringStatus" style="color:'.concat(n.color||"#FFFFFF",";font-size: ").concat(32*oe,'px;display: block;text-align: left;font-weight: 500;" >').concat(this.activeThemeStatus?"有人按门铃":this.activeThemeStatusTxt,"</span>"),R.onclick=function(){},R;case"deviceCategory":return R.title="设备名称",R.id=t,R.domString=`<span id="header-onBell-deviceCategory" 
          style="
          color:`.concat(n.color||"#FFFFFF",`;
          font-size: `).concat(24*oe,`px;
          padding-top: `).concat(16*oe,`px;
          display: block;
          max-width: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          text-align: left;
          ">`).concat(this.deviceInfoData&&this.deviceInfoData.deviceName||"设备名称","</span>"),R.onclick=function(){},R;case"callStatus":return R.title="通话中",R.id=t,R.domString='<span id="header-onCall-ringStatus" style="color:'.concat(n.color||"#FFFFFF",";font-size: ").concat(32*oe,'px;display: block;text-align: left;" >通话中</span>'),R.onclick=function(){},R;case"deviceCategory":return R.title="设备名称",R.id=t,R.domString=`<span id="header-onCall-deviceCategory"
           style="color:`.concat(n.color||"#FFFFFF",`;
           font-size: `).concat(24*oe,`px;
           padding-top: `).concat(16*oe,`px;
           display: block;
           max-width: 100%;
           overflow: hidden;
           text-overflow: ellipsis;
           white-space: nowrap;
           text-align: left;
           ">`).concat(this.deviceInfoData&&this.deviceInfoData.deviceName||"设备名称","</span>"),R.onclick=function(){},R;case"rejection":return R.title="拒绝",R.id=t,R.domString='<div style="width: '.concat(_*.7,`px;display: flex;flex-direction: column;align-items: center;">
                <div style="width:`).concat(_*.5,"px;height: ").concat(_*.5,"px;border-radius: 50%;background: ").concat(S?"#CCCCCC":n.backgroundColor,`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(_*.3,'px" height="').concat(_*.3,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>拒绝</title>
                        <g id="icon/拒绝" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path d="M16.0428281,19.9522968 C13.5228132,17.435123 11.1135994,14.5173605 12.2699084,13.3638925 C13.9205608,11.7132401 15.3581341,10.6961428 12.4346895,7.05675259 C9.50840386,3.41452132 7.55659974,6.21011849 5.95708632,7.80963191 C4.11324225,9.65631703 5.86049048,16.5345088 12.6591328,23.3359922 C19.4577751,30.1346345 26.3388079,31.8847238 28.1854931,30.0380386 C29.7850065,28.4385252 32.5806036,26.4895622 28.9412134,23.5632765 C25.3018232,20.6369909 24.2847259,22.0745642 22.6340735,23.7280576 C21.4777645,24.8786845 18.5628431,22.4694707 16.0428281,19.9522968 Z" id="路径" fill="#FFFFFF" fill-rule="nonzero" transform="translate(17.997936, 17.998157) rotate(135.000000) translate(-17.997936, -17.998157) "></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(_*.1,`px;user-select: none;">拒绝</div>
            </div>`),R.onclick=function(){var de=o.decoderState.state,xe=de.play,se=de.isEditing,Ae=de.rejection;if(se||Ae)return!1;console.log("拒绝"),xe&&o.jSPlugin.stop(),o.removeBellRing(),o.setDecoderState({play:!1,rejection:!0}),o.rejectionStatusDispose(),typeof o.jSPlugin.hangUpCallback=="function"&&o.jSPlugin.hangUpCallback("rejection")},R;case"quickReply":return R.title="快捷回复",R.id=t,R.domString='<div style="width: '.concat(_*.7,`px;display: flex;flex-direction: column;align-items: center;">
                <div style="width: `).concat(_*.5,"px;height: ").concat(_*.5,"px;border-radius: 50%;background: ").concat(S?"#CCCCCC":n.backgroundColor,`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(_*.3,'px" height="').concat(_*.3,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>快捷回复</title>
                        <g id="icon/web快捷回复" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path d="M17.4723401,6.00464509 C24.1317208,5.8200623 29.613145,11.1601938 29.613145,17.806299 C29.613145,19.5506656 29.2343807,21.2437888 28.5133012,22.7904909 L28.638,22.51 L29.9802796,28.9334997 C30.0980856,29.4978889 29.6719785,30.0050773 29.131395,30.0271186 L29.0218792,30.0249315 L28.9025577,30.0074816 L22.488349,28.6446207 L22.3501503,28.7067675 C21.0679643,29.242563 19.6940914,29.5480927 18.2793303,29.6038407 L18.2793303,29.6038407 L17.8062986,29.6131454 C11.1610025,29.6131454 5.820073,24.1313212 6.00464384,17.4723718 C6.17540866,11.3038211 11.3038207,6.17540904 17.4723401,6.00464509 Z M17.8062986,16.2974446 C16.9707372,16.2974446 16.2926003,16.9755814 16.2926003,17.8111428 C16.2926003,18.6467043 16.9707372,19.3248411 17.8062986,19.3248411 C18.64186,19.3248411 19.3199969,18.6467043 19.3199969,17.8111428 C19.3199969,16.9755814 18.64186,16.2974446 17.8062986,16.2974446 Z M12.9624642,16.2974446 C12.1269027,16.2974446 11.4487659,16.9755814 11.4487659,17.8111428 C11.4487659,18.6467043 12.1269027,19.3248411 12.9624642,19.3248411 C13.7980256,19.3248411 14.4761624,18.6467043 14.4761624,17.8111428 C14.4761624,16.9755814 13.7980256,16.2974446 12.9624642,16.2974446 Z M22.650133,16.2974446 C21.8145716,16.2974446 21.1364348,16.9755814 21.1364348,17.8111428 C21.1364348,18.6467043 21.8145716,19.3248411 22.650133,19.3248411 C23.4856945,19.3248411 24.1638313,18.6467043 24.1638313,17.8111428 C24.1638313,16.9755814 23.4856945,16.2974446 22.650133,16.2974446 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(_*.1,`px;user-select: none;">快捷回复</div>
            </div>`),R.onclick=function(){var de=o.decoderState.state.rejection;if(de)return!1;console.log("快捷回复"),o.switchFooter("quickReply"),o.quickReplyEle=new Em(o.jSPlugin,o.switchFooter)},R;case"answer":return R.title="接听",R.id=t,R.domString='<div style="width: '.concat(_*.7,`px;display: flex;flex-direction: column;align-items: center;">
                <div style="width: `).concat(_*.5,"px;height: ").concat(_*.5,"px;border-radius: 50%;background: ").concat(S?"#CCCCCC":n.backgroundColor,`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(_*.3,'px" height="').concat(_*.3,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>接听</title>
                        <g id="icon/接听" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path d="M15.7728281,19.6822968 C13.2528132,17.165123 10.8435994,14.2473605 11.9999084,13.0938925 C13.6505608,11.4432401 15.0881341,10.4261428 12.1646895,6.78675259 C9.23840386,3.14452132 7.28659974,5.94011849 5.68708632,7.53963191 C3.84324225,9.38631703 5.59049048,16.2645088 12.3891328,23.0659922 C19.1877751,29.8646345 26.0688079,31.6147238 27.9154931,29.7680386 C29.5150065,28.1685252 32.3106036,26.2195622 28.6712134,23.2932765 C25.0318232,20.3669909 24.0147259,21.8045642 22.3640735,23.4580576 C21.2077645,24.6086845 18.2928431,22.1994707 15.7728281,19.6822968 Z" id="路径" fill="#FFFFFF" fill-rule="nonzero" transform="translate(17.727936, 17.728157) rotate(-360.000000) translate(-17.727936, -17.728157) "></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(_*.1,`px;user-select: none;">接听</div>
            </div>`),R.onclick=function(){var de=o.decoderState.state,xe=de.play,se=de.isEditing,Ae=de.talk,qe=de.sound,me=de.rejection;if(se||me)return!1;console.log("接听"),o.jSPlugin.pluginStatus.loadingClear(),xe||(o.jSPlugin.pluginStatus.loadingStart(o.jSPlugin.id),o.jSPlugin.pluginStatus.loadingSetText({text:"视频加载中"}),o.jSPlugin.play(),o.setDecoderState({play:!xe})),!Ae&&o.themeData.customConfig.defaultMicro==1&&(o.setDecoderState({talk:!0,mute:!1}),qe&&o.jSPlugin.closeSound(),o.jSPlugin.Talk.startTalk()),o.setDecoderState({sound:!1}),o.bellStatus="onCall",o.switchFooter("onCall"),u[o.bellStatus].btnList.map(function(le,re){le.isrender&&o.renderFooter(le.iconId,le)}),d[o.bellStatus].btnList.map(function(le,re){le.isrender&&o.renderHeader(le.iconId,le)});var m=document.getElementById("".concat(o.jSPlugin.id,"-header-onBell"));m&&m.parentElement.removeChild(m),o.themeData.customConfig.bellPoster==1&&(document.getElementById("bellring-icon")&&document.getElementById("".concat(o.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring-icon")),o.jSPlugin.setPoster("")),o.themeData.customConfig.defaultMicro==0&&(o.muteCommon(n),o.jSPlugin.openSound(),o.setDecoderState({sound:!0})),o.removeBellRing(),o.maxTalkTime=o.themeData.customConfig.maxTalkTime*1e3*60;var U=o;setTimeout(function(){Ae&&(console.log("结束对讲"),U.setDecoderState({talk:!1}),U.jSPlugin.Talk.stopTalk()),xe&&(U.jSPlugin.stop(),U.setDecoderState({play:!xe})),o.rejectionStatusDispose(),o.remoteUnlockEle&&o.remoteUnlockEle.goback(),typeof o.jSPlugin.hangUpCallback=="function"&&o.jSPlugin.hangUpCallback("hangUp")},o.maxTalkTime)},R;case"remoteUnlock":return R.title="远程开锁",R.id=t,R.domString='<div style="width: '.concat(_*.7,`px;display: flex;flex-direction: column;align-items: center;">
                <div style="width: `).concat(_*.5,"px;height: ").concat(_*.5,"px;border-radius: 50%;background: ").concat(S?"#CCCCCC":n.backgroundColor,`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(_*.3,'px" height="').concat(_*.3,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>开锁</title>
                        <g id="icon/开锁" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path d="M18,4 C21.3137085,4 24,6.6862915 24,10 L24,10 L24,19.787 L29.5,19.7875 C30.0522847,19.7875 30.5,20.2352153 30.5,20.7875 C30.5,21.3397847 30.0522847,21.7875 29.5,21.7875 L24,21.787 L24,26 C24,29.2383969 21.4344251,31.8775718 18.2249383,31.9958615 L18,32 C14.6862915,32 12,29.3137085 12,26 L12,26 L12,10 C12,6.6862915 14.6862915,4 18,4 Z M18,6 C15.790861,6 14,7.790861 14,10 L14,10 L14,26 C14,28.209139 15.790861,30 18,30 C20.209139,30 22,28.209139 22,26 L22,26 L22,21.787 L18.5,21.7875 C17.9477153,21.7875 17.5,21.3397847 17.5,20.7875 C17.5,20.2352153 17.9477153,19.7875 18.5,19.7875 L22,19.787 L22,10 C22,7.85780461 20.3160315,6.10892112 18.1996403,6.00489531 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(_*.1,`px;user-select: none;">远程开锁</div>
            </div>`),R.onclick=function(){var de=o.decoderState.state,xe=de.isEditing,se=de.rejection;if(xe||o.bellStatus=="onBell"||se)return!1;console.log("远程开锁"),o.switchFooter("remoteUnlock"),o.remoteUnlockEle=new Rm(o.jSPlugin,o.switchFooter)},R;case"mute":return R.title="静音",R.id=t,R.domString='<div style="width: '.concat(_*.7,`px;display: flex;flex-direction: column;align-items: center;">
                <div id="`).concat(this.jSPlugin.id,'-icon-mute" style="width: ').concat(_*.5,"px;height: ").concat(_*.5,"px;border-radius: 50%;border: 1px solid ").concat(S?"#CCCCCC":n.backgroundColor,";background: ").concat(S&&P?"#cccccc":"#ffffff",`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(_*.3,'px" height="').concat(_*.3,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>静音</title>
                        <g id="icon/静音" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path id="icon-mute-path" d="M29.2988305,7.56559704 C29.8540627,8.1086468 29.8980234,8.97727504 29.4240597,9.57172938 L29.3223594,9.6867869 L22.585,16.574 L22.5859243,26.0592702 C22.5859243,26.9500521 21.8638029,27.6721735 20.973021,27.6721735 C20.6007147,27.6721735 20.2398727,27.5433734 19.9517149,27.3076254 L15.583,23.733 L10.4341733,28.9987008 C9.85492024,29.5909486 8.9052312,29.6014828 8.31298346,29.0222298 C7.75775121,28.47918 7.71379057,27.6105518 8.18775419,27.0160974 L8.28945454,26.9010399 L27.1776406,7.58912597 C27.7568937,6.99687823 28.7065827,6.98634397 29.2988305,7.56559704 Z M22.2503608,7.16816759 C22.4679282,7.45036017 22.5859243,7.79665625 22.5859243,8.15298221 L22.585,9.899 L10.778,21.971 L9.47580645,21.9713498 C7.69424274,21.9713498 6.25,20.5271071 6.25,18.7455434 L6.25,15.65293 C6.25,13.8713663 7.69424274,12.4271235 9.47580645,12.4271235 L12.787,12.427 L19.9882064,6.87564241 C20.6936617,6.33174431 21.7064627,6.46271229 22.2503608,7.16816759 Z" id="形状结合" fill="`).concat(P?"#ffffff":S?"#cccccc":n.backgroundColor,`"></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(_*.1,`px;user-select: none;">静音</div>
            </div>`),R.onclick=function(){var de=o.decoderState.state,xe=de.talk,se=de.sound;de.play;var Ae=de.rejection;if(Ae)return!1;console.log("静音"),xe?(console.log("结束对讲"),o.setDecoderState({talk:!1,mute:!0},n.backgroundColor),o.jSPlugin.Talk.stopTalk(),o.jSPlugin.openSound(),o.setDecoderState({sound:!0})):(console.log("开始对讲"),o.setDecoderState({talk:!0,mute:!1},n.backgroundColor),se&&(o.jSPlugin.closeSound(),o.setDecoderState({sound:!1})),o.jSPlugin.Talk.startTalk())},R;case"hangUp":return R.title="挂断",R.id=t,R.domString='<div style="width: '.concat(_*.7,`px;display: flex;flex-direction: column;align-items: center;">
                <div style="width:`).concat(_*.5,"px;height: ").concat(_*.5,"px;border-radius: 50%;background: ").concat(S?"#CCCCCC":n.backgroundColor,`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(_*.3,'px" height="').concat(_*.3,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>挂断</title>
                        <g id="icon/挂断" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path d="M16.0428281,19.9522968 C13.5228132,17.435123 11.1135994,14.5173605 12.2699084,13.3638925 C13.9205608,11.7132401 15.3581341,10.6961428 12.4346895,7.05675259 C9.50840386,3.41452132 7.55659974,6.21011849 5.95708632,7.80963191 C4.11324225,9.65631703 5.86049048,16.5345088 12.6591328,23.3359922 C19.4577751,30.1346345 26.3388079,31.8847238 28.1854931,30.0380386 C29.7850065,28.4385252 32.5806036,26.4895622 28.9412134,23.5632765 C25.3018232,20.6369909 24.2847259,22.0745642 22.6340735,23.7280576 C21.4777645,24.8786845 18.5628431,22.4694707 16.0428281,19.9522968 Z" id="路径" fill="#FFFFFF" fill-rule="nonzero" transform="translate(17.997936, 17.998157) rotate(135.000000) translate(-17.997936, -17.998157) "></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(_*.1,`px;">挂断</div>
            </div>`),R.onclick=function(){var de=o.decoderState.state,xe=de.talk,se=de.play,Ae=de.sound,qe=de.rejection;if(qe)return!1;xe&&(console.log("结束对讲"),o.setDecoderState({talk:!1}),o.jSPlugin.Talk.stopTalk()),se&&(o.jSPlugin.stop(),o.setDecoderState({play:!se})),Ae&&(o.jSPlugin.closeSound(),o.setDecoderState({sound:!1})),(se||xe)&&(console.log("挂断"),o.removeBellRing(),o.rejectionStatusDispose(),typeof o.jSPlugin.hangUpCallback=="function"&&o.jSPlugin.hangUpCallback("hangUp"))},R;default:return R}}},{key:"answerOvertime",value:function(){this.toastCustom.initToastContent("应答超时");var t=this.decoderState.state.play;console.log("应答超时"),t&&this.jSPlugin.stop(),this.setDecoderState({play:!1,rejection:!0}),this.rejectionStatusDispose(),this.switchFooter("onBell"),typeof this.jSPlugin.hangUpCallback=="function"&&this.jSPlugin.hangUpCallback("rejection")}},{key:"rejectionStatusDispose",value:function(){var t=this,n=this.themeData.footer,o=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),c=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")),d=document.getElementById("header-".concat(this.bellStatus,"-ringStatus"));this.bellStatus=="onBell"?(o.innerHTML="",o.style.color="#ffffff"):(c.innerHTML="",c.style.color="#ffffff"),console.log("rejectionStatusDispose"),this.setDecoderState({rejection:!0}),n[this.bellStatus].btnList.map(function(u,k){u.isrender&&t.renderFooter(u.iconId,u)}),d.innerText="通话已结束",this.jSPlugin.pluginStatus.loadingClear(),this.jSPlugin.pluginStatus.loadingSetTextWithBtn({text:"通话已结束",color:"white",isMobile:!1,type:2})}},{key:"userNoDevice",value:function(){var t=this;this.removeBellRing(),this.setDecoderState({rejection:!0});var n=this.themeData.footer,o=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),c=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall"));this.bellStatus=="onBell"?(o.innerHTML="",o.style.color="#ffffff"):(c.innerHTML="",c.style.color="#ffffff"),console.log("userNoDevice"),this.setDecoderState({rejection:!0}),n[this.bellStatus].btnList.map(function(d,u){d.isrender&&t.renderFooter(d.iconId,d)}),this.jSPlugin.pluginStatus.loadingClear(),this.jSPlugin.pluginStatus.loadingSetTextWithBtn({text:"该用户不拥有该设备",color:"white",isMobile:!1,type:2})}},{key:"renderHeader",value:function(t,n){var o=this,c=this.videoWidth/1024||1,d=this.matchBtn(t,n);if(document.getElementById("".concat(this.jSPlugin.id,"-header-").concat(this.bellStatus,"-content"))){var u=document.createElement("span");u.innerHTML="".concat(d.domString),document.getElementById("".concat(this.jSPlugin.id,"-header-").concat(this.bellStatus,"-content")).appendChild(u)}else{var k=document.createElement("div");k.id="".concat(this.jSPlugin.id,"-header-").concat(this.bellStatus),k.style="max-width:50%;position:relative;",k.innerHTML='<span id="'.concat(this.jSPlugin.id,"-header-").concat(this.bellStatus,'-content" style="display:inline-block;height:auto;padding-top: ').concat(32*c,`px;";>
        `).concat(d.domString,`
      </span>`),k.onclick=function(P){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;d.onclick(P)},document.getElementById("".concat(this.jSPlugin.id,"-headControl")).childNodes[0].appendChild(k)}}},{key:"renderFooter",value:function(t,n){var o=this,c=this.decoderState.state.mute;if(console.log("-------------renderFooter"),t=="remoteUnlock"&&this.jSPlugin.capacity&&(!this.jSPlugin.capacity.support_unlock||this.jSPlugin.capacity.support_unlock==0))return!1;var d=this.matchBtn(t,n),u=this.videoWidth/6,k=document.createElement("div");k.className="theme-icon-item",this.jSPlugin.isWebConsole?k.style="padding:0 ".concat(u*.1,"px;"):k.style="padding:0 ".concat(u*.1,"px;cursor: pointer;"),k.innerHTML="".concat('<span id="'.concat(this.jSPlugin.id,"-").concat(d.id,'" style="position:relative;">')+'<div id="'.concat(this.jSPlugin.id,"-").concat(d.id,'-content" title="').concat(d.title,'" style="display: flex;align-items: center;position:relative;">')).concat(d.domString,"</div>")+"</span>",k.onclick=function(_){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;d.onclick(_)},d.onmouseenter&&(k.onmouseenter=function(_){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;d.onmouseenter(_)}),d.onmouseleave&&(k.onmouseleave=function(_){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;d.onmouseleave(_)});var P=this.videoWidth/597,S=document.createElement("span");S.className="icon-move left",S.innerHTML='<span id="'.concat(this.jSPlugin.id,"-").concat(d.id,'-left" title="左移" style="display: inline-block;border-radius: 2px;overflow: hidden;position: absolute;top: calc(50% - ').concat(35*P,"px); width: ").concat(10*P,"px; height: ").concat(40*P,`px;cursor: pointer;">
        <svg width="100%" height="100%" viewBox="0 0 10 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <title></title>
              <g id="呼叫模板-控制台" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="H5呼叫模板" transform="translate(-614.000000, -5024.000000)">
                      <g id="编组-28" transform="translate(421.000000, 4484.000000)">
                          <g id="编组-9" transform="translate(23.000000, 522.000000)">
                              <g id="编组" transform="translate(170.000000, 0.000000)">
                                  <g id="箭头左" transform="translate(0.000000, 18.000000)">
                                      <rect id="矩形" fill="#595959" x="0" y="0" width="10" height="40" rx="2"></rect>
                                      <g id="1.通用/2.Icon图标/Common/Fill/Left" transform="translate(1.000000, 15.000000)" fill="#FFFFFF">
                                          <path d="M3.88411064,2.46093277 L7.81658983,7.1799078 C7.99337187,7.39204625 7.96470984,7.7073286 7.75257139,7.88411064 C7.66271389,7.95899189 7.54944745,8 7.43247919,8 L-0.432479194,8 C-0.708621569,8 -0.932479194,7.77614237 -0.932479194,7.5 C-0.932479194,7.38303175 -0.891471084,7.2697653 -0.816589833,7.1799078 L3.11588936,2.46093277 C3.2926714,2.24879432 3.60795375,2.22013229 3.8200922,2.39691433 C3.84332373,2.41627394 3.86475103,2.43770124 3.88411064,2.46093277 Z" id="三角形" transform="translate(3.500000, 5.000000) scale(-1, -1) rotate(-270.000000) translate(-3.500000, -5.000000) "></path>
                                      </g>
                                  </g>
                              </g>
                          </g>
                      </g>
                  </g>
              </g>
          </svg>
        </span>`),S.onclick=function(){o.editIcon(d.id,"left","footer")},k.appendChild(S);var R=document.createElement("span");if(R.className="icon-move right",R.innerHTML='<span id="'.concat(this.jSPlugin.id,"-").concat(d.id,'-right" class="ezuikit-theme-icon" title="右移" style="display: inline-block;border-radius: 2px;overflow: hidden;position: absolute;top: calc(50% - ').concat(35*P,"px);left: ").concat(20*P+u*.5,"px; width: ").concat(10*P,"px; height: ").concat(40*P,`px;cursor: pointer;">
        <svg width="100%" height="100%" viewBox="0 0 10 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <title></title>
              <g id="呼叫模板-控制台" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="H5呼叫模板" transform="translate(-684.000000, -5024.000000)">
                      <g id="编组-28" transform="translate(421.000000, 4484.000000)">
                          <g id="编组-9" transform="translate(23.000000, 522.000000)">
                              <g id="编组" transform="translate(170.000000, 0.000000)">
                                  <g id="箭头右" transform="translate(70.000000, 18.000000)">
                                      <rect id="矩形" fill="#595959" x="0" y="0" width="10" height="40" rx="2"></rect>
                                      <g id="1.通用/2.Icon图标/Common/Fill/Left" transform="translate(5.500000, 20.000000) scale(-1, 1) translate(-5.500000, -20.000000) translate(2.000000, 15.000000)" fill="#FFFFFF">
                                          <path d="M3.88411064,2.46093277 L7.81658983,7.1799078 C7.99337187,7.39204625 7.96470984,7.7073286 7.75257139,7.88411064 C7.66271389,7.95899189 7.54944745,8 7.43247919,8 L-0.432479194,8 C-0.708621569,8 -0.932479194,7.77614237 -0.932479194,7.5 C-0.932479194,7.38303175 -0.891471084,7.2697653 -0.816589833,7.1799078 L3.11588936,2.46093277 C3.2926714,2.24879432 3.60795375,2.22013229 3.8200922,2.39691433 C3.84332373,2.41627394 3.86475103,2.43770124 3.88411064,2.46093277 Z" id="三角形" transform="translate(3.500000, 5.000000) scale(-1, -1) rotate(-270.000000) translate(-3.500000, -5.000000) "></path>
                                      </g>
                                  </g>
                              </g>
                          </g>
                      </g>
                  </g>
              </g>
          </svg>
        </span>`),R.onclick=function(){o.editIcon(d.id,"right","footer")},k.appendChild(R),!(t=="answer"||t=="rejection"||t=="hangUp")){var b=document.createElement("span");b.className="icon-move close",b.innerHTML='<span id="'.concat(d.id,'-remove" class="ezuikit-theme-icon" title="移除" style="position: absolute;top: ').concat(-15*P-1,"px;left: ").concat(20*P+u*.5-4.5*P,`px;cursor: pointer;">
            <svg width="`).concat(18*P,'" height="').concat(18*P,`" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title></title>
                  <g id="呼叫模板-控制台" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                      <g id="H5呼叫模板" transform="translate(-680.000000, -5006.000000)">
                          <g id="编组-28" transform="translate(421.000000, 4484.000000)">
                              <g id="编组-9" transform="translate(23.000000, 522.000000)">
                                  <g id="编组" transform="translate(170.000000, 0.000000)">
                                      <g id="关闭1" transform="translate(66.000000, 0.000000)">
                                          <rect id="矩形" fill-rule="nonzero" x="0" y="0" width="18" height="18"></rect>
                                          <path d="M9,1.125 C4.65117188,1.125 1.125,4.65117188 1.125,9 C1.125,13.3488281 4.65117188,16.875 9,16.875 C13.3488281,16.875 16.875,13.3488281 16.875,9 C16.875,4.65117188 13.3488281,1.125 9,1.125 Z M11.9074219,11.9917969 L10.7472656,11.9865234 L9,9.90351562 L7.25449219,11.9847656 L6.09257813,11.9900391 C6.01523438,11.9900391 5.95195313,11.9285156 5.95195313,11.8494141 C5.95195313,11.8160156 5.96425781,11.784375 5.98535156,11.7580078 L8.27226563,9.03339844 L5.98535156,6.31054687 C5.96425781,6.28417969 5.95195313,6.25253906 5.95195313,6.21914062 C5.95195313,6.14179687 6.01523438,6.07851562 6.09257813,6.07851562 L7.25449219,6.08378906 L9,8.16679687 L10.7455078,6.08554688 L11.9056641,6.08027344 C11.9830078,6.08027344 12.0462891,6.14179687 12.0462891,6.22089844 C12.0462891,6.25429687 12.0339844,6.2859375 12.0128906,6.31230469 L9.72949219,9.03515625 L12.0146484,11.7597656 C12.0357422,11.7861328 12.0480469,11.8177734 12.0480469,11.8511719 C12.0480469,11.9285156 11.9847656,11.9917969 11.9074219,11.9917969 Z" id="形状" fill="#595959"></path>
                                      </g>
                                  </g>
                              </g>
                          </g>
                      </g>
                  </g>
              </svg>
          </span>`),b.onclick=function(){o.editIcon(d.id,"delete","footer")},k.appendChild(b)}this.bellStatus=="onCall"?document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).appendChild(k):document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).appendChild(k),this.decoderState.state.isEditing&&t=="mute"&&this.bellStatus=="onCall"&&(this.themeData.customConfig.defaultMicro==0&&!c?this.setDecoderState({mute:!0},n.backgroundColor):this.setDecoderState({mute:!1},n.backgroundColor))}},{key:"switchFooter",value:function(t){var n={};switch(this.themeData&&(n=this.themeData.footer),t){case"onBell":document.getElementById("".concat(this.jSPlugin.id,"-audioControls-quickReply"))&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls-quickReply")).style.display="none"),document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall"))?document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).style.display=="none"&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.display="flex"):document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.display="flex";break;case"onCall":document.getElementById("".concat(this.jSPlugin.id,"-audioControls-remoteUnlock")).style.display="none",document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.display="none",document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).style.display="flex",this.themeData&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).style.color=n[this.bellStatus].color);break;case"quickReply":document.getElementById("".concat(this.jSPlugin.id,"-audioControls-quickReply")).style.display="flex",document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.display="none";break;case"remoteUnlock":document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).style.display="none",document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.display="none",document.getElementById("".concat(this.jSPlugin.id,"-audioControls-remoteUnlock")).style.display="flex";break}}},{key:"initThemeData",value:function(){var t=this;console.log("-------------initThemeData");var n=this.decoderState.state.isEditing,o=this.themeData,c=o.header,d=o.footer,u=this.jSPlugin.id,k=this.videoWidth,P=k/1024;if(this.isNeedRenderHeader=Pr.findIndex(c[this.bellStatus].btnList,function(Ae){return Ae.isrender>0})>=0,this.isNeedRenderFooter=Pr.findIndex(d[this.bellStatus].btnList,function(Ae){return Ae.isrender>0})>=0,this.isNeedRenderHeader)if(document.getElementById("".concat(this.jSPlugin.id,"-headControl")))document.getElementById("".concat(this.jSPlugin.id,"-headControl")).innerHTML="<div id='".concat(this.jSPlugin.id,"-headControl-left' style='display:flex;width: calc(100% - 100px);padding-left: 3%;'></div><div id='").concat(this.jSPlugin.id,"-headControl-right' style='display:flex'></div>");else{var S=document.createElement("div");S.setAttribute("id","".concat(this.jSPlugin.id,"-headControl")),S.setAttribute("class","header-controls"),S.innerHTML="<div id='".concat(this.jSPlugin.id,`-headControl-left' class="header-controls-left" style='display:flex;width:calc(100% - 100px);overflow:hidden;padding-left: 3%;'></div><div id='`).concat(this.jSPlugin.id,`-headControl-right' class="header-controls-right" style='display:flex;'></div>`),console.log(this.jSPlugin.height);var R=this.jSPlugin.height*.2+"px",b={height:R,display:"flex","justify-content":"space-between",top:0,"z-index":999,color:"#FFFFFF",width:"100%",position:"relative","margin-bottom":"-"+R,"align-items":"center",background:"transparent linear-gradient(180deg, rgba(0,0,0,0.65) 0%, rgba(0,0,0,0.00) 100%)"};S.style=ch(b),document.getElementById("".concat(u,"-wrap")).insertBefore(S,document.getElementById(u));var _=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&clearInterval(_)},50)}else document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&document.getElementById("".concat(this.jSPlugin.id,"-headControl")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-headControl")));var oe=this.jSPlugin.height*.3;if(this.isNeedRenderFooter)if(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")))document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.marginTop="-".concat(oe,"px"),this.bellStatus=="onCall"?document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).innerHTML=`
              <div id="`.concat(this.jSPlugin.id,`-audioControls"  class="footer-controls" style='display:none;justify-content: space-around;padding: 0 4%;width:100%;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-onCall" class="footer-controls" style='display:flex;justify-content: space-around;padding: 0 4%;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-quickReply" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-remoteUnlock" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              `):document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).innerHTML=`
              <div id="`.concat(this.jSPlugin.id,`-audioControls"  class="footer-controls" style='display:flex;justify-content: space-around;padding: 0 4%;width:100%;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-onCall" class="footer-controls" style='display:none;justify-content: space-around;padding: 0 4%;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-quickReply" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-remoteUnlock" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              `));else{var de=document.createElement("div");de.setAttribute("id","".concat(this.jSPlugin.id,"-ez-iframe-footer-container")),de.setAttribute("class","ez-iframe-footer-container");var xe={"min-height":oe+"px","max-height":oe+"px",position:"relative","margin-top":"-"+oe+"px",display:"flex","flex-wrap":"wrap","justify-content":"space-between","z-index":999,top:0,color:"#FFFFFF",width:"100%","align-items":"center","background-image":"linear-gradient(180deg, rgba(0,0,0,0.00) 0%, rgba(0,0,0,0.60) 100%)","font-size":24*P+"px"};de.style=ch(xe),de.innerHTML=`
            <div id="`.concat(this.jSPlugin.id,`-audioControls" class="footer-controls" style='display:flex;justify-content: space-around;padding: 0 4%;width:100%;z-index:999;position: relative;'></div>
            <div id="`).concat(this.jSPlugin.id,`-audioControls-onCall" class="footer-controls" style='display:none;justify-content: space-around;padding: 0 4%;width:100%;z-index:999;position: relative;'></div>
            <div id="`).concat(this.jSPlugin.id,`-audioControls-quickReply" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
            <div id="`).concat(this.jSPlugin.id,`-audioControls-remoteUnlock" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
            `),Ea(de,document.getElementById(u))}else document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")));if(this.isNeedRenderHeader&&document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.background=c[this.bellStatus].backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.color=c[this.bellStatus].color,c[this.bellStatus].btnList.map(function(Ae,qe){Ae.isrender&&t.renderHeader(Ae.iconId,Ae)})),this.isNeedRenderFooter&&document.getElementById("".concat(this.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=d[this.bellStatus].backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=d[this.bellStatus].color,d[this.bellStatus].btnList.map(function(Ae,qe){Ae.isrender&&t.renderFooter(Ae.iconId,Ae)})),this.themeData.customConfig.bellPoster==1&&!n){this.jSPlugin.poster="https://resource.eziot.com/group1/M00/00/B8/CtwQEmPbGh2AVJB-ABDcYtyw5gk899.svg";var se=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(se),t.jSPlugin.setPoster(t.jSPlugin.poster))},50)}this.activeThemeStatus&&(this.initBellRing(),window.addEventListener("click",this.autoPlayRing)),this.inited=!0,this.getCallDeviceInfo()}},{key:"renderThemeData",value:function(){var t=this,n=this.decoderState.state.isEditing,o=this.themeData,c=o.header,d=o.footer;if(this.isNeedRenderHeader&&c&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.background=c[this.bellStatus].backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.color=c[this.bellStatus].color.replace("-diy",""),c[this.bellStatus].btnList.map(function(P,S){P.isrender&&t.setDecoderState(_t({},P.iconId,t.decoderState.state[P.iconId]))})),this.isNeedRenderFooter&&d)document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=d[this.bellStatus].backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=d[this.bellStatus].color.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).style.color=d[this.bellStatus].color.replace("-diy",""),d[this.bellStatus].btnList.map(function(P,S){if(P.isrender&&t.setDecoderState(_t({},P.iconId,t.decoderState.state[P.iconId])),S==0&&!t.themeInited&&t.activeThemeStatus)var R=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(R),t.themeData.customConfig.bellPoster==1&&!n?t.jSPlugin.pluginStatus.loadingClear():t.jSPlugin.play(),t.themeInited=!0)},50)}),this.jSPlugin.url.indexOf("hd.live")!==-1&&this.setDecoderState({hd:!0}),this.themeData.autoFocus>0&&(this.autoFocus=parseInt(this.themeData.autoFocus),this.startAutoFocus(),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).addEventListener("click",function(){t.stopAutoFocus()})),this.setDecoderState({cloudRec:Nn(this.jSPlugin.url).type==="cloud.rec",rec:Nn(this.jSPlugin.url).type==="rec",type:Nn(this.jSPlugin.url).type});else if(!this.themeInited&&this.activeThemeStatus)var u=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(u),t.themeData&&t.themeData.customConfig&&t.themeData.customConfig.bellPoster==1&&!n?t.jSPlugin.pluginStatus.loadingClear():t.jSPlugin.play(),t.themeInited=!0)},50);var k=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(k),t.jSPlugin.reSize(t.jSPlugin.params.width,t.jSPlugin.params.height))},50)}},{key:"setThemeData",value:function(t,n){this.themeData=t,n=="onCall"&&(this.bellStatus="onCall")}},{key:"startAutoFocus",value:function(){var t=this,n=this.autoFocus;this.autoFocusTimer&&clearTimeout(this.autoFocusTimer),this.autoFocusTimer=setTimeout(function(){document.getElementById("".concat(t.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.opacity=0,document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.pointerEvents="none")},n*1e3)}},{key:"stopAutoFocus",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.opacity=1,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.pointerEvents="all"),this.autoFocusTimer&&clearTimeout(this.autoFocusTimer),this.startAutoFocus()}},{key:"editIcon",value:function(t,n,o){console.log("编辑组件",t,n,o);var c=this.themeData;console.log("themeData",this.themeData);var d=this.themeData[o][this.bellStatus].btnList,u=Pr.findIndex(d,function(_){return _.iconId===t}),k=d[u];switch(n){case"delete":d[u].isrender=0;break;case"right":for(var P=-1,S=u+1;S<d.length;S++)if(d[S].part===d[u].part&&d[S].isrender==1){P=S;break}P!==-1&&(d[u]=d[P],d[P]=k);break;case"left":for(var R=-1,b=u-1;b>=0;b--)if(d[b].part===d[u].part&&d[b].isrender==1){R=b;break}R!==-1&&(d[u]=d[R],d[R]=k);break}console.log("new btnList",d),c[o][this.bellStatus].btnList=d,this.jSPlugin.Theme.changeTheme(c)}},{key:"countTime",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=this;if(!document.getElementById(this.jSPlugin.id+"time-area")){var c=document.createElement("div");c.id=this.jSPlugin.id+"time-area",c.className="time-area",c.innerHTML='<span class="dot"></span><span class="value">00:00</span>',document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).appendChild(c)}if(this.countTimer&&clearInterval(this.countTimer),t==="add"){var d=n;document.getElementById(o.jSPlugin.id+"time-area").style.display="flex",this.countTimer=setInterval(function(){++d,document.getElementById(o.jSPlugin.id+"time-area").children[1].innerHTML=u(d)},1e3)}else t==="destroy"&&(this.countTimer&&clearInterval(this.countTimer),this.countTimer=void 0,document.getElementById(o.jSPlugin.id+"time-area")&&(document.getElementById(o.jSPlugin.id+"time-area").children[1].innerHTML="00:00",document.getElementById(o.jSPlugin.id+"time-area").style.display="none"));function u(k){var P=parseInt(k),S=0,R=0,b="00",_="00",oe="00";return P>59&&(S=parseInt(P/60),P=parseInt(P%60),S>59&&(R=parseInt(S/60),S=parseInt(S%60))),b=parseInt(P)>9?parseInt(P):"0"+parseInt(P),_=parseInt(S)>9?parseInt(S):"0"+parseInt(S),oe=parseInt(R)>9?parseInt(R):"0"+parseInt(R),R>0?oe+":"+_+":"+b:S>0?_+":"+b:"00:"+b}}},{key:"editStart",value:function(t){console.log("----------editStart2");var n=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),o=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall"));document.getElementById("".concat(this.jSPlugin.id,"-headControl")),n&&n.setAttribute("class","footer-controls themeEditing"),o&&o.setAttribute("class","footer-controls themeEditing"),this.setDecoderState({isEditing:!0})}},{key:"editEnd",value:function(t){console.log("----------editEnd2");var n=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),o=document.getElementById("".concat(this.jSPlugin.id,"-headControl")),c=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall"));o&&o.setAttribute("class","header-controls"),n&&n.setAttribute("class","footer-controls"),c&&c.setAttribute("class","footer-controls")}},{key:"fetchThemeData",value:function(t){var n=this,o=function(u){u.meta.code==0&&u.data?(n.activeThemeStatus=!0,n.themeData=u.data,u.data.header&&(n.themeData.header=u.data.header,n.themeData.header[n.bellStatus].btnList=n.themeData.header[n.bellStatus].btnList.sort(function(k,P){return k.btnKey.split("-")[3]-P.btnKey.split("-")[3]})),u.data.footer&&(n.themeData.footer=u.data.footer,n.themeData.footer[n.bellStatus].btnList=n.themeData.footer[n.bellStatus].btnList.sort(function(k,P){return k.btnKey.split("-")[3]-P.btnKey.split("-")[3]})),n.jSPlugin.capacity?(n.initThemeData(),n.renderThemeData()):setTimeout(function(){n.initThemeData(),n.renderThemeData()},300)):(n.activeThemeStatus=!1,n.jSPlugin.pluginStatus.loadingClear(),n.setDecoderState({rejection:!0}),u.meta.code=="111021"?(n.jSPlugin.pluginStatus.loadingSetText({text:"无效的模板id",color:"#fff"}),n.activeThemeStatusTxt="无效的模板id"):u.meta.code=="111023"?(n.jSPlugin.pluginStatus.loadingSetText({text:"您的试用特权已到期，需前往轻应用控制台购买后使用。",color:"#fff"}),n.activeThemeStatusTxt="试用特权已到期"):(n.jSPlugin.pluginStatus.loadingSetText({text:"模板未激活，请先在开放平台轻应用控制台购买模板",color:"#fff"}),n.activeThemeStatusTxt="模板未激活"),n.themeData=Im.data,n.initThemeData(),n.renderThemeData())},c=function(){n.renderThemeData()};ic(this.jSPlugin,t,o,c)}},{key:"getCallDeviceInfo",value:function(){var t=this;this.videoWidth/1024;var n=this,o=function(d){d.code==200&&d.data&&(console.log("---------getCallDeviceInfo"),t.deviceInfoData=d.data,d.data.isEncrypt&&setTimeout(function(){console.log("---------------------视频已加密"),n.jSPlugin.pluginStatus&&n.jSPlugin.pluginStatus.loadingClear(),n.jSPlugin.pluginStatus.loadingSetText({text:"视频已加密",color:"#fff"})},50),document.getElementById("header-".concat(t.bellStatus,"-deviceCategory"))&&(document.getElementById("header-".concat(t.bellStatus,"-deviceCategory")).innerText=""+d.data.deviceName)),d.code==20018&&!t.jSPlugin.isWebConsole&&t.userNoDevice()};Lr(this.jSPlugin.env.domain+"/api/lapp/device/info","POST",{accessToken:this.jSPlugin.accessToken,deviceSerial:Nn(this.jSPlugin.url).deviceSerial},"",o)}},{key:"setHeaderText",value:function(t){var n=this.videoWidth/1024||1;document.getElementById("".concat(this.jSPlugin.id,"-deviceCategory-content"))&&(document.getElementById("".concat(this.jSPlugin.id,"-deviceCategory-content")).innerHTML='<span style="font-size: '.concat(32*n,'px;display: block">').concat(t,'</span><span style="font-size: ').concat(24*n,"px;padding-top: ").concat(16*n,'px;display: block;">').concat(this.deviceInfoData&&this.deviceInfoData.deviceName||"","</span>"))}}]),J}(),dh=function(){function J(g,t){Re(this,J),this.jSPlugin=g,this.heightPop=t||366,this.initPopupCustom()}return xt(J,[{key:"initPopupCustom",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-wrap-popup-custom"))?document.getElementById("".concat(this.jSPlugin.id,"-wrap-popup-custom")).style.display="flex":this.randerPopup()}},{key:"randerPopup",value:function(){var t=this,n=document.documentElement.clientWidth,o=n/375||1,c=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(c),c.innerHTML="@keyframes slideContentUp {0%   {bottom: -".concat(366*o,`px;}
        25%  {bottom: -`).concat(244*o,`px;}
        50%  {bottom: -`).concat(122*o,`px;}
        100% {bottom:0;}} .open-popup{animation:slideContentUp 0.3s 1 linear; -webkit-animation: slideContentUp 0.3s 1 linear;}`);var d=document.getElementById("".concat(this.jSPlugin.id,"-wrap")),u=document.createElement("div");u.style="display:flex;",u.id="".concat(this.jSPlugin.id,"-wrap-popup-custom"),u.innerHTML='<div id="'.concat(this.jSPlugin.id,`-wrap-popup-custom-mask" style="height:100%;width:100%;position:fixed;top:0;left:0;z-index:9998;background-color: rgba(0,0,0,0.75);overflow:hidden;">
        </div>
        <div id="`).concat(this.jSPlugin.id,'-wrap-popup-board" class="open-popup" style="bottom:0;height: ').concat(this.heightPop*o,`px;position:fixed;left: 0; width: 100%;background-color:#ffffff;z-index: 9999;border-radius: 16px 16px 0px 0px;">
            <div style="margin-top: `).concat(20*o,"px;padding: 0 ").concat(15*o,`px;width: 100%;display:flex;flex-direction: row;align-items: center;">
                <div id="`).concat(this.jSPlugin.id,`-popup-board-close">
                    <svg width="`).concat(24*o,'px" height="').concat(24*o,`px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>icon/close</title>
                        <g id="icon/close" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="common/Close/Dark">
                                <rect id="Rectangle" x="0" y="0" width="24" height="24"></rect>
                                <path d="M18.1871843,5.81281566 C18.4556698,6.08130112 18.4780436,6.50270075 18.2543057,6.7966719 L18.1871843,6.87347584 L13.0611458,12.0001458 L18.1871843,17.1265242 C18.4800776,17.4194174 18.4800776,17.8942911 18.1871843,18.1871843 C17.9186989,18.4556698 17.4972993,18.4780436 17.2033281,18.2543057 L17.1265242,18.1871843 L12.0001458,13.0611458 L6.87347584,18.1871843 C6.58058262,18.4800776 6.10570888,18.4800776 5.81281566,18.1871843 C5.54433021,17.9186989 5.52195643,17.4972993 5.7456943,17.2033281 L5.81281566,17.1265242 L10.9391458,12.0001458 L5.81281566,6.87347584 C5.51992245,6.58058262 5.51992245,6.10570888 5.81281566,5.81281566 C6.08130112,5.54433021 6.50270075,5.52195643 6.7966719,5.7456943 L6.87347584,5.81281566 L12.0001458,10.9391458 L17.1265242,5.81281566 C17.4194174,5.51992245 17.8942911,5.51992245 18.1871843,5.81281566 Z" id="形状结合" fill="#2C2C2C" fill-rule="nonzero"></path>
                            </g>
                        </g>
                    </svg>
                </div>
                <div id="popup-board-title-content" style="width: `).concat(180*o,"px;font-size: ").concat(18*o,"px;margin-left: ").concat(59*o,`px;font-family: PingFangSC-Medium;color: #2C2C2C;font-weight: 500;text-align: center;"></div>
            </div>
            <div id="`).concat(this.jSPlugin.id,'-popup-board-content" style="width:100%;padding: 0 ').concat(15*o,"px;height: ").concat((this.heightPop-48)*o,`px;box-sizing: border-box;display: flex;align-items: center;justify-content: center;flex-direction: column;"></div>
        </div>
        `),d.appendChild(u),document.getElementById("".concat(this.jSPlugin.id,"-wrap-popup-custom-mask")).onclick=function(){t.closePopupCustom()},document.getElementById("".concat(this.jSPlugin.id,"-popup-board-close")).onclick=function(){t.closePopupCustom()}}},{key:"closePopupCustom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};t();var n=document.getElementById("".concat(this.jSPlugin.id,"-wrap")),o=document.getElementById("".concat(this.jSPlugin.id,"-wrap-popup-custom"));n&&o&&n.removeChild(o)}},{key:"initPopupContent",value:function(t,n){document.getElementById("popup-board-title-content").innerText=t||"",n&&document.getElementById("".concat(this.jSPlugin.id,"-popup-board-content")).appendChild(n)}}]),J}(),Am=function(){function J(g,t,n){Re(this,J),this.jSPlugin=g,this.videoWidth=n,this.switchFooter=t,this.toastCustom=new Ds(g,!0),this.sendLoadingStats=!1,this.quickReplyList=["你好，请将快递放在门口","你好，稍等","你好，请将快递放入小区快递柜","你好，请将外卖放在门口"],this.popupCustom=new dh(g,366),document.getElementById("mobile-quickReply-list")||(this.popupCustom.initPopupContent("快捷回复",this.renderQuickReply()),this.initQuickReply())}return xt(J,[{key:"initQuickReply",value:function(){document.getElementById("mobile-quickReply-list-item-0")||this.getQuickReplyList()}},{key:"renderQuickReply",value:function(){document.documentElement.clientWidth;var t=document.createElement("div");return t.style="width:100%;",t.id="mobile-quickReply-list",t.innerHTML=`<div id="mobile-quickReply-content" style="display: block;width:100%;margin-bottom: 36px;"></div>
    <div id="mobile-quickReply-loading" style="display: none;width:100%;"></div>
    <div id="mobile-quickReply-loaderror" style="display: none;width:100%;"></div>`,t}},{key:"matchQuickReplyBtn",value:function(){var t=this,n=this.videoWidth/375||1,o=document.getElementById("mobile-quickReply-content");this.quickReplyList&&this.quickReplyList.length>0&&this.quickReplyList.forEach(function(c,d){var u=document.createElement("div");u.id="mobile-quickReply-list-item-".concat(d),u.style="margin: ".concat(14*n,`px 0;
            padding: `).concat(12*n,"px ").concat(15*n,"px;min-height: ").concat(50*n,`px;width:100%;
            background: #ffffff;border-radius: `).concat(25*n,`px;display: flex;align-items: center;
            box-sizing: border-box;font-size:`).concat(16*n,"px;color: #2c2c2c;"),u.innerHTML=`
            <svg id="mobile-quickReply-icon-`.concat(d,'" width="').concat(24*n,'px" height="').concat(24*n,`px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <title>icon/快捷回复播放</title>
                    <g id="icon/快捷回复播放" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <rect id="Rectangle" x="0" y="0" width="24" height="24"></rect>
                        <path d="M18.9877488,4.36609064 C21.024173,6.11256041 22.2495,8.93566941 22.2495,12.0024 C22.2495,15.066006 21.0272636,17.8857191 18.9943957,19.6331539 C18.6802816,19.9031635 18.2067557,19.8674098 17.9367461,19.5532957 C17.6667365,19.2391816 17.7024902,18.7656557 18.0166043,18.4956461 C19.708691,17.0411437 20.7495,14.6399857 20.7495,12.0024 C20.7495,9.36223947 19.7060688,6.95821183 18.0112512,5.50470936 C17.6968304,5.23505702 17.6605383,4.76157212 17.9301906,4.44715124 C18.199843,4.13273036 18.6733279,4.09643829 18.9877488,4.36609064 Z M12.2442357,5.87579772 L12.2496,6.0179 L12.2496,17.9819 C12.2496,19.4241617 10.6173522,20.2281184 9.48072691,19.4058312 L9.36879527,19.318145 L5.5996,16.1243865 L3.4996,16.1249 C2.581479,16.1249 1.8284129,15.4182283 1.75540159,14.518493 L1.7496,14.3749 L1.7496,9.6249 C1.7496,8.70699712 2.45696726,7.95373471 3.35611134,7.88070323 L3.4996,7.8749 L5.5996,7.8743865 L9.36863059,4.68279453 C10.4692948,3.74976994 12.1377395,4.4768074 12.2442357,5.87579772 Z M10.3952894,5.79039368 L10.338321,5.82721597 L6.35932099,9.19721597 C6.33078024,9.2209397 6.30781291,9.23786997 6.28390041,9.25347262 L6.35932099,9.19721597 C6.32908972,9.22282023 6.29742069,9.24561685 6.26463127,9.26563212 C6.24087088,9.28012218 6.21634729,9.29327785 6.19105714,9.30506452 C6.18413632,9.30829747 6.1773583,9.31133066 6.1705483,9.31425704 C6.10964585,9.34044144 6.04445985,9.35881628 5.97637056,9.36805338 C5.95756973,9.37054904 5.94148484,9.37214804 5.92538001,9.37322799 L5.8746,9.3749 L3.4996,9.3749 C3.38149734,9.3749 3.28218291,9.45734262 3.25621762,9.56766695 L3.2496,9.6249 L3.2496,14.3749 C3.2496,14.4934644 3.33170357,14.592449 3.44222164,14.6183106 L3.4996,14.6249 L5.8746,14.6249 L5.92192315,14.6263483 C5.93923255,14.627429 5.95652113,14.629109 5.97375563,14.6313909 L5.8746,14.6249 C5.9789469,14.6249 6.0783167,14.6462095 6.168595,14.6847142 C6.18010037,14.6895946 6.19235048,14.695194 6.2044823,14.7011451 C6.22547728,14.7114805 6.24528995,14.7223727 6.26453263,14.7341072 C6.266314,14.735195 6.26795143,14.7362034 6.26958602,14.7372187 L6.28086895,14.7443598 C6.30587317,14.7605037 6.32985559,14.7780945 6.3526978,14.7970136 L6.35940473,14.802655 L10.3380567,18.1733603 C10.4825575,18.2956302 10.695338,18.2179271 10.7408386,18.0492187 L10.7496,17.9819 L10.7496,6.0179 C10.7496,5.82820058 10.5532313,5.71607381 10.3952894,5.79039368 Z M15.9361636,7.38657032 C17.3580982,8.28109203 18.2498,10.0509458 18.2498,12.0044 C18.2498,13.9607796 17.3563865,15.7307985 15.9326223,16.6154437 C15.5807928,16.8340503 15.1183629,16.7260519 14.8997563,16.3742223 C14.6811497,16.0223928 14.7891481,15.5599629 15.1409777,15.3413563 C16.1036696,14.7431949 16.7498,13.4630899 16.7498,12.0044 C16.7498,10.5466827 16.103548,9.26399865 15.1374364,8.65622968 C14.7868297,8.43566726 14.6814079,7.97264316 14.9019703,7.62203641 C15.1225327,7.27142966 15.5855568,7.1660079 15.9361636,7.38657032 Z" id="形状结合" fill="#2C2C2C" fill-rule="nonzero"></path>
                    </g>
                </svg>
            <span id="mobile-quickReply-name-`).concat(d,'" style="padding-left: 5px;">').concat(c.voiceName,"</span>"),u.onclick=function(){console.log("item:"+c),t.sendLoadingStats||(t.setBtnCheckStatus(d),t.sendQuickReply(c))},o.appendChild(u)})}},{key:"setBtnCheckStatus",value:function(t){var n=this,o="";this.quickReplyList.forEach(function(c,d){o=document.getElementById("mobile-quickReply-list-item-".concat(d)),d==t?(o.style.background="#F4F6FC",o.style.color="#648FFC",n.setBtnCheckLoding(0,d)):(o.style.background="#ffffff",o.style.color="#2c2c2c")})}},{key:"setBtnCheckLoding",value:function(t,n){console.log(n);var o=this.videoWidth/375||1;if(n>-1){var c=document.getElementById("mobile-quickReply-list-item-".concat(n)),d=document.getElementById("mobile-quickReply-name-".concat(n)),u=document.getElementById("mobile-quickReply-icon-".concat(n));if(t==1){var k=document.getElementById("mobile-quickReply-icon-loading-".concat(n));if(k&&d){var P=document.createElement("span");P.id="mobile-quickReply-icon-".concat(n),P.style="height:".concat(24*o,"px;"),P.innerHTML=`
                <svg width="`.concat(24*o,'px" height="').concat(24*o,`px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <title>icon/快捷回复播放</title>
                    <g id="icon/快捷回复播放" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <rect id="Rectangle" x="0" y="0" width="24" height="24"></rect>
                        <path d="M18.9877488,4.36609064 C21.024173,6.11256041 22.2495,8.93566941 22.2495,12.0024 C22.2495,15.066006 21.0272636,17.8857191 18.9943957,19.6331539 C18.6802816,19.9031635 18.2067557,19.8674098 17.9367461,19.5532957 C17.6667365,19.2391816 17.7024902,18.7656557 18.0166043,18.4956461 C19.708691,17.0411437 20.7495,14.6399857 20.7495,12.0024 C20.7495,9.36223947 19.7060688,6.95821183 18.0112512,5.50470936 C17.6968304,5.23505702 17.6605383,4.76157212 17.9301906,4.44715124 C18.199843,4.13273036 18.6733279,4.09643829 18.9877488,4.36609064 Z M12.2442357,5.87579772 L12.2496,6.0179 L12.2496,17.9819 C12.2496,19.4241617 10.6173522,20.2281184 9.48072691,19.4058312 L9.36879527,19.318145 L5.5996,16.1243865 L3.4996,16.1249 C2.581479,16.1249 1.8284129,15.4182283 1.75540159,14.518493 L1.7496,14.3749 L1.7496,9.6249 C1.7496,8.70699712 2.45696726,7.95373471 3.35611134,7.88070323 L3.4996,7.8749 L5.5996,7.8743865 L9.36863059,4.68279453 C10.4692948,3.74976994 12.1377395,4.4768074 12.2442357,5.87579772 Z M10.3952894,5.79039368 L10.338321,5.82721597 L6.35932099,9.19721597 C6.33078024,9.2209397 6.30781291,9.23786997 6.28390041,9.25347262 L6.35932099,9.19721597 C6.32908972,9.22282023 6.29742069,9.24561685 6.26463127,9.26563212 C6.24087088,9.28012218 6.21634729,9.29327785 6.19105714,9.30506452 C6.18413632,9.30829747 6.1773583,9.31133066 6.1705483,9.31425704 C6.10964585,9.34044144 6.04445985,9.35881628 5.97637056,9.36805338 C5.95756973,9.37054904 5.94148484,9.37214804 5.92538001,9.37322799 L5.8746,9.3749 L3.4996,9.3749 C3.38149734,9.3749 3.28218291,9.45734262 3.25621762,9.56766695 L3.2496,9.6249 L3.2496,14.3749 C3.2496,14.4934644 3.33170357,14.592449 3.44222164,14.6183106 L3.4996,14.6249 L5.8746,14.6249 L5.92192315,14.6263483 C5.93923255,14.627429 5.95652113,14.629109 5.97375563,14.6313909 L5.8746,14.6249 C5.9789469,14.6249 6.0783167,14.6462095 6.168595,14.6847142 C6.18010037,14.6895946 6.19235048,14.695194 6.2044823,14.7011451 C6.22547728,14.7114805 6.24528995,14.7223727 6.26453263,14.7341072 C6.266314,14.735195 6.26795143,14.7362034 6.26958602,14.7372187 L6.28086895,14.7443598 C6.30587317,14.7605037 6.32985559,14.7780945 6.3526978,14.7970136 L6.35940473,14.802655 L10.3380567,18.1733603 C10.4825575,18.2956302 10.695338,18.2179271 10.7408386,18.0492187 L10.7496,17.9819 L10.7496,6.0179 C10.7496,5.82820058 10.5532313,5.71607381 10.3952894,5.79039368 Z M15.9361636,7.38657032 C17.3580982,8.28109203 18.2498,10.0509458 18.2498,12.0044 C18.2498,13.9607796 17.3563865,15.7307985 15.9326223,16.6154437 C15.5807928,16.8340503 15.1183629,16.7260519 14.8997563,16.3742223 C14.6811497,16.0223928 14.7891481,15.5599629 15.1409777,15.3413563 C16.1036696,14.7431949 16.7498,13.4630899 16.7498,12.0044 C16.7498,10.5466827 16.103548,9.26399865 15.1374364,8.65622968 C14.7868297,8.43566726 14.6814079,7.97264316 14.9019703,7.62203641 C15.1225327,7.27142966 15.5855568,7.1660079 15.9361636,7.38657032 Z" id="形状结合" fill="#2C2C2C" fill-rule="nonzero"></path>
                    </g>
                </svg>
                `),c.insertBefore(P,d)}}else if(u&&d){c.removeChild(u);var S=document.createElement("span");S.id="mobile-quickReply-icon-loading-".concat(n),S.style="height:".concat(20*o,"px;width: ").concat(24*o,"px;"),S.innerHTML='<svg width="'.concat(20*o,'" height="').concat(20*o,'" t="1567069979438" class="loading" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#666666" p-id="2400"></path></svg>'),c.insertBefore(S,d)}}}},{key:"getQuickReplyList",value:function(){var t=this;console.log("getQuickReplyList"),this.madeLoadingDom(0);var n=function(d){if(d&&d.code==200){var u=d.data||[],k=[];d.data.forEach(function(P,S){k=P.voiceName.split("_"),u[S].voiceName=k[1]}),t.quickReplyList=u,setTimeout(function(){t.madeLoadingDom(2)},500)}else t.madeLoadingDom(1)},o=function(d){console.log(d),t.madeLoadingDom(1)};sh(this.jSPlugin,n,o)}},{key:"madeLoadingDom",value:function(t){var n=this,o=this.videoWidth/375||1;if(t==0){if(document.getElementById("mobile-quickReply-content").style.display="none",document.getElementById("mobile-quickReply-loaderror").style.display="none",document.getElementById("mobile-quickReply-loading").style.display="block",!document.getElementById("mobile-quickReply-loading-box")){var c=document.createElement("div");c.id="mobile-quickReply-loading-box",c.style="width: 100%;display: flex;align-items: center;justify-content: center;flex-direction: row;",c.innerHTML='<div class="" style="heigth:'.concat(20*o,`px">
                <svg width="`).concat(20*o,'" height="').concat(20*o,`" t="1567069979438" class="loading" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#666666" p-id="2400"></path></svg>   
            </div>
            <div style="font-size: `).concat(16*o,"px;margin-left:",10,'px;color:#666666;">正在加载，请稍候</div>'),document.getElementById("mobile-quickReply-loading").appendChild(c)}}else if(t==1){if(document.getElementById("mobile-quickReply-content").style.display="none",document.getElementById("mobile-quickReply-loading").style.display="none",document.getElementById("mobile-quickReply-loaderror").style.display="block",!document.getElementById("mobile-quickReply-loaderror-box")){var d=document.createElement("div");d.id="mobile-quickReply-loaderror-box",d.style="width: 100%;display: flex;align-items: center;justify-content: center;flex-direction: column;",d.innerHTML=`<div style="">
                <img style="width:`.concat(186*o,"px;height:").concat(120*o,`px;" src="https://resource.eziot.com/group1/M00/00/B8/CtwQEmPZ34KAAStrAAA0pZ5cGTw167.png" />
            </div>
            <div style="font-size: `).concat(16*o,`px;color: #666666;">
                <span>加载失败 </span>
                <span id="mobile-quickReply-loaderror-reload" 
                style="color: #648FFC;-webkit-tap-highlight-color: transparent;">点击重试</span>
            </div>`),document.getElementById("mobile-quickReply-loaderror").appendChild(d),document.getElementById("mobile-quickReply-loaderror-reload").onclick=function(){n.getQuickReplyList()}}}else document.getElementById("mobile-quickReply-loading").style.display="none",document.getElementById("mobile-quickReply-loaderror").style.display="none",document.getElementById("mobile-quickReply-content").style.display="block",this.matchQuickReplyBtn()}},{key:"sendQuickReply",value:function(t){var n=this;this.sendLoadingStats=!0;var o=function(u){n.sendLoadingStats=!1,u&&u.code==200?n.toastCustom.initToastContent("快捷回复成功"):n.toastCustom.initToastContent("快捷回复失败，请重试"),n.popupCustom.closePopupCustom()},c=function(u){console.log(u),n.sendLoadingStats=!1,n.toastCustom.initToastContent("快捷回复失败，请重试"),n.popupCustom.closePopupCustom()};lh(this.jSPlugin,t.fileUrl,o,c)}},{key:"closeQuickReplyEle",value:function(){this.popupCustom.closePopupCustom()}}]),J}(),Mm=function(){function J(g,t,n){Re(this,J),this.jSPlugin=g,this.videoWidth=n,this.switchFooter=t,this.toastCustom=new Ds(g,!0),this.lockStatus=!1,this.popupCustom=new dh(g,265),this.popupCustom.initPopupContent("远程开锁",this.renderRemoteUnlock()),this.renderRemoteUnlockSlide()}return xt(J,[{key:"initRemoteUnlock",value:function(){document.getElementById("mobile-remoteUnlock-content")?this.madeSlideEvent():this.renderRemoteUnlock()}},{key:"renderRemoteUnlock",value:function(){var t=this.videoWidth/1024||1,n=document.createElement("div");return n.style="width:100%;",n.id="mobile-remoteUnlock-box",n.innerHTML=`<div style="width:100%;display:flex;flex-direction:row;align-items: center;">
        <div id="mobile-remoteUnlock-content" style="display: block;width:calc(100% - `.concat(160*t,"px);margin: 0 ").concat(24*t,`px;"></div>
    </div>`),n}},{key:"renderRemoteUnlockSlide",value:function(){var t=this.videoWidth/375||1,n=document.getElementById("mobile-remoteUnlock-content"),o=document.createElement("div");o.id="mobile-remoteUnlock-content-slide",o.style="width: 100%;display: flex;justify-content: center;padding: 0 ".concat(15*t,"px"),o.innerHTML='<div id="mobile-remoteUnlock-slide-box" style="width: 100%;line-height: '.concat(60*t,"px;height: ").concat(60*t,"px;border: 1px solid rgba(100,143,252,1);border-radius: ").concat(30*t,`px;position: relative;text-align: center;">
        <div id="mobile-remoteUnlock-slide-bgColor" style="border-radius: `).concat(30*t,"px;width: ").concat(44*t,"px;height: ").concat(60*t,`px;position: absolute;left: 0;top: 0;"></div>
        <div id="mobile-remoteUnlock-slide-tips" style="height: `).concat(60*t,"px;line-height: ").concat(60*t,"px;font-size: ").concat(14*t,"px;border-radius: ").concat(30*t,`px;position: absolute;text-align: center;user-select: none;color: #666666;width: 100%;">右滑开锁</div>
        <div id="mobile-remoteUnlock-slide-ball" style="top: `).concat(8*t,"px;left: ").concat(8*t,"px;width: ").concat(44*t,"px;height: ").concat(44*t,`px;background: #598FFF;position: absolute;text-align: center;border-radius:50%;display:flex;align-items: center;justify-content: center;">
            <svg id="slide-ball-start" style="display: inline;" width="`).concat(24*t,'px" height="').concat(24*t,`px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>icon/箭头向右</title>
                <g id="icon/箭头向右" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <rect id="矩形" fill="#000000" fill-rule="nonzero" opacity="0" x="0" y="0" width="24" height="24"></rect>
                    <path d="M14.2841136,6.3689007 L19.9432338,12.0287579 L14.2863796,17.6856122 L12.8580239,16.2572565 L16.114,12.9999007 L4.00000001,13 L4.00000001,11 L16.058,10.9999007 L12.8557579,7.79725638 L14.2841136,6.3689007 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                </g>
            </svg>
            <svg id="slide-ball-end" style="display: none;" width="`).concat(20*t,'" height="').concat(20*t,`" t="1567069979438" class="loading" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#648ffc" p-id="2400"></path></svg>
        </div>
    </div>`),n.appendChild(o),this.madeSlideEvent()}},{key:"madeSlideEvent",value:function(){var t=this.videoWidth/375||1,n=document.getElementById("mobile-remoteUnlock-slide-box"),o=document.getElementById("mobile-remoteUnlock-slide-bgColor"),c=document.getElementById("mobile-remoteUnlock-slide-tips"),d=document.getElementById("mobile-remoteUnlock-slide-ball"),u=this;function k(){u.lockStatus=!0,document.getElementById("slide-ball-start").style.display="none",document.getElementById("slide-ball-end").style.display="inline",o.style.width=n.clientWidth+"px",o.style.backgroundColor="#598FFF",n.style.border="0",d.style.backgroundColor="#ffffff",c.textContent="正在开锁",c.style.color="#ffffff",d.ontouchstart=null,u.sendRemoteUnlockApi()}d.ontouchstart=function(S){console.log("ontouchstart");var S=S||window.event,R=S.touches[0].pageX;d.style.transition="",o.style.transition="",document.ontouchmove=function(_){var _=_||window.event,oe=_.touches[0].pageX-n.offsetLeft-R,de=n.clientWidth-d.clientWidth-8*t;oe<=0&&(oe=0),oe>=de&&(oe=de),d.style.left=oe+"px",oe==de&&!u.lockStatus&&k()},document.ontouchend=function(){u.lockStatus||(o.style.width="0px",d.style.left=8*t+"px",d.style.transition="left 0.6s linear",o.style.transition="width 0.6s linear"),document.ontouchend=null,document.ontouchmove=null}}}},{key:"resetRemoteUnlockSlide",value:function(){var t=this.videoWidth/1024||1;this.lockStatus=!1;var n=document.getElementById("mobile-remoteUnlock-slide-box"),o=document.getElementById("mobile-remoteUnlock-slide-bgColor"),c=document.getElementById("mobile-remoteUnlock-slide-tips"),d=document.getElementById("mobile-remoteUnlock-slide-ball");o.style.width="0px",d.style.left=8*t+"px",c.textContent="右滑开锁",c.style.color="#666666",document.getElementById("slide-ball-start").style.display="inline",document.getElementById("slide-ball-end").style.display="none",o.style.backgroundColor="#FFFFFF",n.style.border="1px solid rgba(255,255,255,1)",d.style.backgroundColor="#598FFF"}},{key:"sendRemoteUnlockApi",value:function(){var t=this;console.log("下发远程开锁");var n=function(d){d&&d.code==200?t.toastCustom.initToastContent("开锁成功"):t.toastCustom.initToastContent("开锁失败，请重试"),t.popupCustom.closePopupCustom()},o=function(d){console.log(d),t.toastCustom.initToastContent("开锁失败，请重试"),t.popupCustom.closePopupCustom()};oh(this.jSPlugin,n,o)}},{key:"closeRemoteUnlock",value:function(){this.popupCustom.closePopupCustom()}}]),J}(),Bm={customConfig:{defaultMicro:0,defaultPlay:0,maxTalkTime:0,bellPoster:0,maxBellTime:0},header:{onBell:{color:"#2c2c2c",backgroundColor:"#00000000 linear-gradient(180deg, rgba(0,0,0,0.65) 0%, rgba(0,0,0,0.00) 100%)",activeColor:"#1890FF",autoFocus:0,btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-header-0",iconId:"ringStatus",part:"left",defaultActive:0,isrender:1,color:"#2c2c2c",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-header-1",iconId:"deviceCategory",part:"left",defaultActive:0,isrender:1,color:"#2c2c2c",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793"}]},onCall:{color:"#2c2c2c",backgroundColor:"#00000000",activeColor:"#1890FF",autoFocus:5,btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-header-0",iconId:"callStatus",part:"left",defaultActive:0,isrender:1,color:"#2c2c2c",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-header-1",iconId:"deviceCategory",part:"left",defaultActive:0,isrender:1,color:"#2c2c2c",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793"}]}},footer:{onBell:{color:"#2c2c2c",backgroundColor:"#00000000",activeColor:"#1890FF",autoFocus:5,btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-0",iconId:"quickReply",part:"left",defaultActive:1,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-1",iconId:"rejection",part:"left",defaultActive:0,isrender:1,color:"#2C2C2C",themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-2",iconId:"answer",part:"left",defaultActive:0,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-3",iconId:"remoteUnlock",part:"left",defaultActive:0,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"}]},onCall:{color:"#2c2c2c",backgroundColor:"#00000080",activeColor:"#1890FF",autoFocus:5,btnList:[{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-0",iconId:"mute",part:"left",defaultActive:1,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-1",iconId:"hangUp",part:"left",defaultActive:0,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"},{btnKey:"c1cbc1d4e86d49a0981f54beea95280a-4412dc7a9f7b471a9a3e9a8fb625c793-footer-2",iconId:"remoteUnlock",part:"left",defaultActive:0,isrender:1,themeId:"4412dc7a9f7b471a9a3e9a8fb625c793",backgroundColor:"#cccccc"}]}}},Lm={data:Bm},uh=function(g){var t="";return Object.keys(g).map(function(n,o){t+="".concat(n,":").concat(g[n]).concat(o<Object.keys(g).length-1?";":"")}),t},Fm=function(){function J(g,t,n,o){var c=this;Re(this,J),_t(this,"switchCallStatus",function(d){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=c.themeData,P=k.header,S=k.footer,R=null;if(d=="onCall"){console.log("接听"),c.bellStatus="onCall",c.switchFooter("onCall"),S[c.bellStatus].btnList.map(function(_,oe){_.isrender&&c.renderFooter(_.iconId,_),_.iconId=="mute"&&(R=_)}),P[c.bellStatus].btnList.map(function(_,oe){_.isrender&&c.renderHeader(_.iconId,_)});var b=document.getElementById("".concat(c.jSPlugin.id,"-header-onBell"));b&&b.parentElement.removeChild(b),c.themeData.customConfig.bellPoster==1&&document.getElementById("bellring-icon")&&document.getElementById("".concat(c.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring-icon")),c.themeData.customConfig.defaultMicro==0&&R?c.muteCommon(R):c.setDecoderState({mute:!1},R.backgroundColor),c.removeBellRing(),c.miniRecCloseClick()}else console.log("响铃"),c.bellStatus="onBell",c.jSPlugin.Theme.changeTheme(c.themeData,u)}),_t(this,"muteCommon",function(d){var u=c.decoderState.state,k=u.talk,P=u.sound;k?(console.log("结束对讲"),c.setDecoderState({talk:!1,mute:!0},d.backgroundColor),c.jSPlugin.Talk.stopTalk(),P||c.jSPlugin.openSound(),c.setDecoderState({sound:!0})):(c.setDecoderState({talk:!1,mute:!0},d.backgroundColor),P||c.jSPlugin.openSound(),c.setDecoderState({sound:!0}))}),_t(this,"autoPlayRing",function(){console.log("autoPlayRing");var d=document.getElementById("bellring-audio");d&&(d.muted=!1,d.src="https://resource.eziot.com/group2/M00/00/8F/CtwQFmPbWnOAGuT5AAHZihhCJEM230.mp3",d.paused&&d.play());var u=c.checkIsAppleDevice()||!1;u?window.removeEventListener("touchstart",c.autoPlayRing):window.removeEventListener("click",c.autoPlayRing)}),this.jSPlugin=g,this.videoWidth=g.width,this.videoHeight=g.height,this.themeData=t,this.setDecoderState=n,this.decoderState=o,this.isNeedRenderHeader=!1,this.isNeedRenderFooter=!1,this.autoFocus=0,this.autoFocusTimer=null,this.bellStatus="onBell",this.recordTimer=null,this.nextRate=1,this.themeInited=!1,this.inited=!1,this.miniRecStatus="rec",this.activeThemeStatus=!0,this.activeThemeStatusTxt="模板未激活",this.miniRecNum=0,this.toastCustom=new Ds(g,!0)}return xt(J,[{key:"initBellRing",value:function(){var t=this,n=this.decoderState.state,o=n.play,c=n.isEditing,d=this.videoWidth,u=d/375;this.maxBellTime=this.themeData.customConfig.maxBellTime*1e3;var k=document.getElementById("bellring"),P=document.getElementById("bellring-audio");if(!k&&!P){if(this.jSPlugin.isNeedBellRing){var S=document.createElement("div");S.id="bellring",S.innerHTML=`<div>
          <audio id="bellring-audio" loop autoplay>
            <source src="https://resource.eziot.com/group2/M00/00/8F/CtwQFmPbWnOAGuT5AAHZihhCJEM230.mp3" type="audio/mpeg">
          </audio>
          </div>`,document.getElementById("".concat(this.jSPlugin.id,"-wrap")).appendChild(S)}if(this.themeData.customConfig.bellPoster==1&&!c){var R=d*1.8,b=6;document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(b=document.getElementById("".concat(this.jSPlugin.id,"-headControl")).offsetHeight+R*.1+6);var _=b+(this.videoHeight-130*u)/2,oe=document.createElement("div");oe.id="bellring-icon",oe.style=`position: absolute;pointer-events: none;background: none;width: 100%;
          position: absolute;top: `.concat(_,"px;display: flex;align-items: center;justify-content: center;"),oe.innerHTML='<div style="width: '.concat(130*u,"px;height: ").concat(130*u,`px;display: flex;align-items: center;justify-content: center;border: 1px solid rgba(255,255,255,0.2);border-radius: 50%;">
            <div style="width: `).concat(80*u,"px;height: ").concat(80*u,`px;display: flex;align-items: center;justify-content: center;border: 1px solid rgba(255,255,255,0.3);border-radius: 50%;">
              <svg width="`).concat(40*u,'px" height="').concat(40*u,`px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title>icon/响铃</title>
                  <g id="icon/响铃" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                      <polygon id="Path" points="0 0 40.0000002 0 40.0000002 40.0000002 0 40.0000002"></polygon>
                      <path d="M20.0000001,4.25000002 C22.0363461,4.25000002 23.698175,5.84879552 23.8000507,7.8591997 L23.8050001,8.05500003 L23.805316,8.99953253 C27.1874196,9.97041766 29.6921839,13.0354462 29.80936,16.723731 L29.80936,16.723731 L29.8133335,16.9800001 L29.8133335,21.6416668 C29.8133335,22.3259481 30.0858837,22.9835569 30.5703302,23.4680033 L30.5703302,23.4680033 L31.6386635,24.5363367 C32.338953,25.2366262 32.760721,26.1675592 32.8273086,27.1785295 L32.8273086,27.1785295 L32.8350001,27.4233334 C32.8350001,29.577547 31.0892137,31.3233335 28.9350001,31.3233335 L28.9350001,31.3233335 L24.5666667,31.323 L24.5650266,31.3951531 C24.4527075,33.8194458 22.4520933,35.7500001 20.0000001,35.7500001 C17.5482065,35.7500001 15.5473098,33.8197367 15.4349743,31.3967059 L15.4326667,31.323 L11.0666667,31.3233335 C9.06159524,31.3233335 7.39851917,29.8069287 7.18810198,27.8229374 L7.17194359,27.6230185 L7.1666667,27.4233334 C7.1666667,26.3411154 7.59733134,25.3020086 8.36300328,24.5363367 L8.36300328,24.5363367 L9.43133662,23.4680033 C9.91578309,22.9835569 10.1883334,22.3259481 10.1883334,21.6416668 L10.1883334,21.6416668 L10.1883334,16.9800001 C10.1883334,13.1909619 12.7263704,9.99530436 16.1948593,8.99965364 L16.1950001,8.05500003 C16.1950001,5.95360729 17.8979654,4.25000002 20.0000001,4.25000002 Z M23.0656667,31.323 L16.9336667,31.323 L16.9352114,31.3619281 C17.0285826,32.9723844 18.3649772,34.2500001 20.0000001,34.2500001 C21.6352227,34.2500001 22.9714318,32.9721919 23.0647896,31.3604131 L23.0656667,31.323 Z M21.5116668,10.1783334 L18.4900001,10.1783334 C14.7336124,10.1783334 11.6883334,13.2231481 11.6883334,16.9800001 L11.6883334,16.9800001 L11.6883334,21.6416668 C11.6883334,22.7238848 11.2576687,23.7629916 10.4919968,24.5286635 L10.4919968,24.5286635 L9.42366346,25.5969969 C8.93921698,26.0814433 8.6666667,26.7390521 8.66637526,27.402427 L8.66637526,27.402427 L8.67048222,27.560237 C8.74130967,28.8268108 9.79171396,29.8233335 11.0666667,29.8233335 L11.0666667,29.8233335 L23.7906939,29.8222289 C23.8004164,29.8218553 23.8101862,29.8216668 23.8200001,29.8216668 L23.8486667,29.823 L28.9350001,29.8233335 C30.2055455,29.8233335 31.2450456,28.8367727 31.329826,27.609522 L31.3354106,27.4481422 L31.3293607,27.2529336 C31.2880301,26.6292837 31.0210852,26.0400787 30.5780034,25.5969969 L30.5780034,25.5969969 L29.50967,24.5286635 C28.7439981,23.7629916 28.3133335,22.7238848 28.3133335,21.6416668 L28.3133335,21.6416668 L28.3134279,16.9919039 L28.3098332,16.759466 C28.1934023,13.0970787 25.1864454,10.1783334 21.5116668,10.1783334 L21.5116668,10.1783334 Z M20.0000001,5.75000002 C18.7795808,5.75000002 17.7813801,6.69770708 17.7003155,7.89717688 L17.6950001,8.05500003 L17.6952875,8.7158769 C17.9568453,8.69103758 18.2219393,8.67833337 18.4900001,8.67833337 L18.4900001,8.67833337 L21.5116668,8.67833337 C21.7792577,8.67833337 22.0439466,8.69101238 22.3051575,8.71580951 L22.3050001,8.05500003 C22.3050001,6.7819079 21.273481,5.75000002 20.0000001,5.75000002 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                  </g>
              </svg>
            </div>
          </div>`),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).appendChild(oe),o&&this.bellStatus=="onBell"&&this.jSPlugin.pause()}else document.getElementById("bellring-icon")&&document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring-icon"));setTimeout(function(){var de=t.decoderState.state,xe=de.isEditing,se=de.rejection;t.bellStatus=="onBell"&&!se&&(t.removeBellRing(),xe||t.answerOvertime())},this.maxBellTime)}}},{key:"removeBellRing",value:function(){document.getElementById("bellring")&&document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring")),document.getElementById("bellring-icon")&&document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring-icon"))}},{key:"getMiniCallTimeUrl",value:function(){if(console.log("--------------getMiniCallTimeUrl"),this.jSPlugin.url.indexOf("hd.live")!==-1?this.recUrl=this.jSPlugin.url.replace("hd.live","rec"):this.recUrl=this.jSPlugin.url.replace("live","rec"),this.jSPlugin.callTime){var t=parseInt(this.jSPlugin.callTime),n=t+5*1e3,o=t-10*1e3,c=new Date(o).Format("yyyyMMddhhmmss"),d=new Date(n).Format("yyyyMMddhhmmss");this.recUrl="".concat(this.recUrl,"?begin=").concat(c,"&end=").concat(d),console.log("recurl="+this.recUrl)}}},{key:"initMiniRec",value:function(){var t=this,n=this,o=this.videoWidth,c=o/375,d=o*1.8,u=6;document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(u=document.getElementById("".concat(this.jSPlugin.id,"-headControl")).offsetHeight+d*.1+6);var k=u+this.videoHeight+10*c;if(console.log(u),document.getElementById("miniRecbox"))document.getElementById("miniRecbox")&&document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("miniRecbox")),document.getElementById("miniClose")&&document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("miniClose")),this.initMiniRec();else{var P=document.createElement("div");P.id="miniRecbox",P.style="-webkit-border-radius: 8px;border-radius: 8px;overflow: hidden;position: absolute;top: ".concat(k,"px;right: ").concat(9*c,"px;"),P.innerHTML='<div id="miniRec"></div>',document.getElementById("".concat(this.jSPlugin.id,"-wrap")).appendChild(P),this.getMiniCallTimeUrl();var S={domain:"https://open.ys7.com"};this.miniRecPlayer=new bh({id:"miniRec",width:160*c,height:90*c,template:"miniRec",url:this.recUrl,accessToken:this.jSPlugin.accessToken,handleError:function(_){console.log("小窗口handleError------------",_),_&&_.retcode==6701?(t.miniRecNum=t.miniRecNum+1,console.log("小窗口miniRecNum-----------------",t.miniRecNum),t.miniRecNum<5?n.miniRecPlayer.changePlayUrl({type:"miniRec"}):(console.log("小窗口------------------已播放5次，关闭小窗口"),n.miniRecCloseClick())):(console.log("小窗口------------------播放失败，关闭小窗口"),n.miniRecCloseClick())},env:this.jSPlugin.env||S});var R=document.createElement("div");R.id="miniClose",R.style="position: absolute;top: ".concat(k+8,"px;right: ").concat(16*c,"px;"),R.innerHTML='<div id="miniClose-btn" style="width: '.concat(24*c,"px;height: ").concat(24*c,`px;display: flex;align-items: center;justify-content: center;border-radius: 50%;background: rgba(0,0,0,0.1);">
          <svg width="`).concat(24*c,'px" height="').concat(24*c,`px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <title>close</title>
              <g id="icon/close" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="common/Close/Dark">
                      <rect id="Rectangle" x="0" y="0" width="24" height="24"></rect>
                      <path d="M18.1871843,5.81281566 C18.4556698,6.08130112 18.4780436,6.50270075 18.2543057,6.7966719 L18.1871843,6.87347584 L13.0611458,12.0001458 L18.1871843,17.1265242 C18.4800776,17.4194174 18.4800776,17.8942911 18.1871843,18.1871843 C17.9186989,18.4556698 17.4972993,18.4780436 17.2033281,18.2543057 L17.1265242,18.1871843 L12.0001458,13.0611458 L6.87347584,18.1871843 C6.58058262,18.4800776 6.10570888,18.4800776 5.81281566,18.1871843 C5.54433021,17.9186989 5.52195643,17.4972993 5.7456943,17.2033281 L5.81281566,17.1265242 L10.9391458,12.0001458 L5.81281566,6.87347584 C5.51992245,6.58058262 5.51992245,6.10570888 5.81281566,5.81281566 C6.08130112,5.54433021 6.50270075,5.52195643 6.7966719,5.7456943 L6.87347584,5.81281566 L12.0001458,10.9391458 L17.1265242,5.81281566 C17.4194174,5.51992245 17.8942911,5.51992245 18.1871843,5.81281566 Z" id="形状结合" fill="#fff" fill-rule="nonzero"></path>
                  </g>
              </g>
          </svg>
        </div>`),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).appendChild(R),document.getElementById("miniClose-btn").onclick=function(){n.miniRecCloseClick()}}}},{key:"initMiniImageRec",value:function(){console.log("initMiniImageRec");var t=this.videoWidth,n=t/375,o=6;document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(o=document.getElementById("".concat(this.jSPlugin.id,"-headControl")).offsetHeight+26);var c=o+this.videoHeight+10*n;if(document.getElementById("miniRecbox"))document.getElementById("miniRecbox").style.top=c+"px",document.getElementById("miniClose").style.top=c+8+"px";else{var d=document.createElement("div");d.id="miniRecbox",d.style=`-webkit-border-radius: 8px;border-radius: 8px;overflow: hidden;position: absolute;
        top: `.concat(c,`px;
        right: `).concat(9*n,`px;
        user-select: none;
        `),d.innerHTML='<div id="miniRec" style="width: '.concat(160*n,"px;height: ").concat(90*n,`px;display: flex;align-items: center;justify-content: center;">
          <embed id="miniRec-embed" style="z-index: 3;position: absolute;width: `).concat(160*n,"px;height: ").concat(90*n,`px;" type="image/svg+xml" src="https://resource.eziot.com/group1/M00/00/B8/CtwQEmPbGh2AVJB-ABDcYtyw5gk899.svg" />
          <div style="color: #FFFFFF;font-size: 12px;z-index: 4;">示意小窗位置</div>
        </div>`),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).appendChild(d);var u=document.createElement("div");u.id="miniClose",u.style="z-index: 4;position: absolute;top: ".concat(c+8,"px;right: ").concat(16*n,"px;"),u.innerHTML='<div id="miniClose-btn" style="width: '.concat(24*n,"px;height: ").concat(24*n,`px;display: flex;align-items: center;justify-content: center;border-radius: 50%;">
          <svg width="`).concat(24*n,'px" height="').concat(24*n,`px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <title>close</title>
              <g id="icon/close" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="common/Close/Dark">
                      <rect id="Rectangle" x="0" y="0" width="24" height="24"></rect>
                      <path d="M18.1871843,5.81281566 C18.4556698,6.08130112 18.4780436,6.50270075 18.2543057,6.7966719 L18.1871843,6.87347584 L13.0611458,12.0001458 L18.1871843,17.1265242 C18.4800776,17.4194174 18.4800776,17.8942911 18.1871843,18.1871843 C17.9186989,18.4556698 17.4972993,18.4780436 17.2033281,18.2543057 L17.1265242,18.1871843 L12.0001458,13.0611458 L6.87347584,18.1871843 C6.58058262,18.4800776 6.10570888,18.4800776 5.81281566,18.1871843 C5.54433021,17.9186989 5.52195643,17.4972993 5.7456943,17.2033281 L5.81281566,17.1265242 L10.9391458,12.0001458 L5.81281566,6.87347584 C5.51992245,6.58058262 5.51992245,6.10570888 5.81281566,5.81281566 C6.08130112,5.54433021 6.50270075,5.52195643 6.7966719,5.7456943 L6.87347584,5.81281566 L12.0001458,10.9391458 L17.1265242,5.81281566 C17.4194174,5.51992245 17.8942911,5.51992245 18.1871843,5.81281566 Z" id="形状结合" fill="#fff" fill-rule="nonzero"></path>
                  </g>
              </g>
          </svg>
        </div>`),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).appendChild(u),document.getElementById("miniClose-btn").onclick=function(){}}}},{key:"miniRecCloseClick",value:function(){document.getElementById("miniRecbox")&&(console.log("---------------------miniRecCloseClick"),this.miniRecStatus=="rec"&&(this.miniRecPlayer&&this.miniRecPlayer.stop(),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("miniClose")),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).removeChild(document.getElementById("miniRecbox"))))}},{key:"miniRecSwitchClick",value:function(){console.log("---------------小窗口切换");var t=this.decoderState.state.isEditing,n=this.videoWidth,o=n/375,c=n*1.8,d=6;document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(d=document.getElementById("".concat(this.jSPlugin.id,"-headControl")).offsetHeight+c*.1+6),console.log("headerHeight-------",d);var u=d+this.videoHeight+10*o;if(console.log("videoTop-------",u),this.miniRecStatus=="rec"){this.miniRecStatus="live",t?(document.getElementById("miniRec-embed").style.width=this.jSPlugin.width+"px",document.getElementById("miniRec-embed").style.height=this.jSPlugin.height+"px",document.getElementById("miniRec").style.width=this.jSPlugin.width+"px",document.getElementById("miniRec").style.height=this.jSPlugin.height+"px"):this.miniRecPlayer.reSize(this.jSPlugin.width,this.jSPlugin.height),this.jSPlugin.reSize(160*o,90*o);var k=this.videoHeight+10*o,P=c*.2-90*o-10*o;document.getElementById("".concat(this.jSPlugin.id,"-wrap")).style.width=this.videoWidth+"px",document.getElementById("".concat(this.jSPlugin.id)).style.marginTop=k+"px",document.getElementById("".concat(this.jSPlugin.id)).style.marginLeft=n-160*o-9+"px",document.getElementById("".concat(this.jSPlugin.id)).style.overflow="hidden",document.getElementById("".concat(this.jSPlugin.id)).style.borderRadius="8px",document.getElementById("miniRecbox").style.top=d+"px",document.getElementById("miniRecbox").style.left="0",document.getElementById("miniRecbox").style.right="0",document.getElementById("miniRecbox").style.borderRadius="0px",document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.marginTop=P+"px"}else console.log(this.jSPlugin.width),this.miniRecStatus="rec",t?(document.getElementById("miniRec-embed").style.width=160*o+"px",document.getElementById("miniRec-embed").style.height=90*o+"px",document.getElementById("miniRec").style.width=160*o+"px",document.getElementById("miniRec").style.height=90*o+"px"):this.miniRecPlayer.reSize(160*o,90*o),this.jSPlugin.reSize(this.videoWidth,this.videoHeight),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).style.width=this.videoWidth+ +"px",document.getElementById("".concat(this.jSPlugin.id)).style.marginTop="0",document.getElementById("".concat(this.jSPlugin.id)).style.marginLeft="0",document.getElementById("".concat(this.jSPlugin.id)).style.overflow="hidden",document.getElementById("".concat(this.jSPlugin.id)).style.borderRadius="0px",document.getElementById("miniRecbox").style.top=u+"px",document.getElementById("miniRecbox").style.right="9px",document.getElementById("miniRecbox").style.left="auto",document.getElementById("miniRecbox").style.borderRadius="8px",document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.marginTop=c*.2+"px"}},{key:"matchBtn",value:function(t,n){var o=this,c=this.themeData,d=c.header,u=c.footer,k=this.decoderState.state,P=k.mute,S=k.rejection;document.documentElement.clientHeight;var R=this.videoWidth,b=R/375,_=this.videoWidth/375||1,oe={title:"",id:"",domString:"",color:"#FFFFFF",activeColor:"#FFFFFF",onclick:function(){},onmoveleft:function(){},onmoveright:function(){},onremove:function(){}},de=d[this.bellStatus].btnList.findIndex(function(se){return se.iconId===t});de===-1?(oe.color=u[this.bellStatus].color,oe.backgroundColor=u[this.bellStatus].backgroundColor,oe.activeColor=u[this.bellStatus].activeColor):(oe.color=d[this.bellStatus].color,oe.backgroundColor=d[this.bellStatus].backgroundColor,oe.activeColor=d[this.bellStatus].activeColor);var xe=this.videoWidth/4;switch(t){case"ringStatus":return oe.title=this.activeThemeStatus?"有人按门铃":this.activeThemeStatusTxt,oe.id=t,oe.domString='<span id="header-onBell-ringStatus" style="color:'.concat(n.color||"#2C2C2C",";font-size: ").concat(24*_,'px;display: block;font-weight: 600;" >').concat(this.activeThemeStatus?"有人按门铃":this.activeThemeStatusTxt,"</span>"),oe.onclick=function(){},oe;case"deviceCategory":return oe.title="设备名称",oe.id=t,oe.domString=`<span id="header-onBell-deviceCategory" 
          style="color:`.concat(n.color||"#2C2C2C",`;
          font-size: `).concat(14*_,`px;
          padding-top: `).concat(5*_,`px;
          display: block;
          max-width: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          ">`).concat(this.deviceInfoData&&this.deviceInfoData.deviceName||"设备名称","</span>"),oe.onclick=function(){},oe;case"callStatus":return oe.title="通话中",oe.id=t,oe.domString='<span id="header-onCall-ringStatus" style="color:'.concat(n.color||"#2C2C2C",";font-size: ").concat(24*_,'px;display: block;font-weight: 600;" >通话中</span>'),oe.onclick=function(){},oe;case"deviceCategory":return oe.title="设备名称",oe.id=t,oe.domString=`<span id="header-onCall-deviceCategory" 
          style="color:`.concat(n.color||"#2C2C2C",`;
          font-size: `).concat(14*_,`px;
          padding-top: `).concat(5*_,`px;
          display: block;
          max-width: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          ">`).concat(this.deviceInfoData&&this.deviceInfoData.deviceName||"设备名称","</span>"),oe.onclick=function(){},oe;case"rejection":return oe.title="拒绝",oe.id=t,oe.domString='<div style="width: '.concat(xe*.66,`px;display: flex;flex-direction: column;align-items: center;">
                <div style="width:`).concat(xe*.66,"px;height: ").concat(xe*.66,"px;border-radius: 50%;background: ").concat(S?"#CCCCCC":n.backgroundColor,`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(xe*.4,'px" height="').concat(xe*.4,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>拒绝</title>
                        <g id="icon/拒绝" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path d="M16.0428281,19.9522968 C13.5228132,17.435123 11.1135994,14.5173605 12.2699084,13.3638925 C13.9205608,11.7132401 15.3581341,10.6961428 12.4346895,7.05675259 C9.50840386,3.41452132 7.55659974,6.21011849 5.95708632,7.80963191 C4.11324225,9.65631703 5.86049048,16.5345088 12.6591328,23.3359922 C19.4577751,30.1346345 26.3388079,31.8847238 28.1854931,30.0380386 C29.7850065,28.4385252 32.5806036,26.4895622 28.9412134,23.5632765 C25.3018232,20.6369909 24.2847259,22.0745642 22.6340735,23.7280576 C21.4777645,24.8786845 18.5628431,22.4694707 16.0428281,19.9522968 Z" id="路径" fill="#FFFFFF" fill-rule="nonzero" transform="translate(17.997936, 17.998157) rotate(135.000000) translate(-17.997936, -17.998157) "></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(xe*.1,`px;user-select: none;">拒绝</div>
            </div>`),oe.onclick=function(){var se=o,Ae=o.decoderState.state,qe=Ae.play,me=Ae.isEditing,m=Ae.rejection;if(me||m)return!1;console.log("拒绝"),qe&&o.jSPlugin.stop(),o.removeBellRing(),o.setDecoderState({play:!1,rejection:!0}),se.miniRecCloseClick(),o.rejectionStatusDispose(),typeof o.jSPlugin.hangUpCallback=="function"&&o.jSPlugin.hangUpCallback("rejection")},oe;case"quickReply":return oe.title="快捷回复",oe.id=t,oe.domString='<div id="'.concat(this.jSPlugin.id,'-btn-quickReply" style="width: ').concat(126*b,"px;height: ").concat(40*b,"px;color:").concat(S?"rgba(44,44,44,0.5)":oe.color,`;background: #F8F8F8;border-radius: 20px;display: flex;flex-direction: row;align-items: center;justify-content: center;-webkit-tap-highlight-color:transparent;">
                <div>
                  <svg width="`).concat(24*b,'px" height="').concat(24*b,`px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                      <title>快捷回复</title>
                      <g id="icon/H5快捷回复" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                          <rect id="Rectangle" x="0" y="0" width="24" height="24"></rect>
                          <path d="M10.7238197,2.25008794 C16.2230834,2.09766093 20.7496,6.50749909 20.7496,11.9958 C20.7496,13.4362841 20.4368194,14.8344518 19.8413577,16.1117061 L19.9440524,15.8792521 L21.0527769,21.184554 C21.1496277,21.6485507 20.8013031,22.0657304 20.3577211,22.0873894 L20.2613374,22.0858497 L20.1628027,22.0714397 L14.866,20.946 L14.7518767,20.9973203 C13.6930577,21.439776 12.5585243,21.69208 11.3902258,21.7381162 L11.3902258,21.7381162 L10.9996,21.7458 C5.51196728,21.7458 1.10147008,17.2189531 1.25388722,11.7200456 C1.39490345,6.62610538 5.62990538,2.39110345 10.7238197,2.25008794 Z M11.0183931,3.74628651 L10.7653544,3.74951278 C6.46729462,3.86849655 2.87229655,7.46349462 2.75331206,11.7615803 C2.62431432,16.4155628 6.35610614,20.2458 10.9996,20.2458 C12.2165433,20.2458 13.3936843,19.9831552 14.4692454,19.4827855 C14.6166569,19.4142071 14.7823612,19.395387 14.9413973,19.4291603 L14.9413973,19.4291603 L19.349,20.365 L18.4274231,15.948046 C18.4026128,15.8291836 18.4071487,15.7066932 18.4398273,15.5909727 L18.4398273,15.5909727 L18.4818423,15.4778939 C18.9851908,14.3982208 19.2496,13.216279 19.2496,11.9958 C19.2496,7.35166383 15.4197191,3.62050444 10.7653544,3.74951278 Z M10.9996,10.7498 C11.6896,10.7498 12.2496,11.3098 12.2496,11.9998 C12.2496,12.6898 11.6896,13.2498 10.9996,13.2498 C10.3096,13.2498 9.7496,12.6898 9.7496,11.9998 C9.7496,11.3098 10.3096,10.7498 10.9996,10.7498 Z M6.9996,10.7498 C7.6896,10.7498 8.2496,11.3098 8.2496,11.9998 C8.2496,12.6898 7.6896,13.2498 6.9996,13.2498 C6.3096,13.2498 5.7496,12.6898 5.7496,11.9998 C5.7496,11.3098 6.3096,10.7498 6.9996,10.7498 Z M14.9996,10.7498 C15.6896,10.7498 16.2496,11.3098 16.2496,11.9998 C16.2496,12.6898 15.6896,13.2498 14.9996,13.2498 C14.3096,13.2498 13.7496,12.6898 13.7496,11.9998 C13.7496,11.3098 14.3096,10.7498 14.9996,10.7498 Z" id="形状结合" fill="`).concat(S?"rgba(44,44,44,0.5)":"#2c2c2c",`" fill-rule="nonzero"></path>
                      </g>
                  </svg>
                </div>
                <div style="margin-left: 5px;user-select: none;font-size:14px">快捷回复<div>
            </div>`),oe.onclick=function(){var se=o.decoderState.state,Ae=se.isEditing,qe=se.rejection;if(Ae||qe)return!1;console.log("快捷回复"),o.switchFooter("quickReply"),o.quickReplyEle=new Am(o.jSPlugin,o.switchFooter,o.videoWidth)},oe;case"answer":return oe.title="接听",oe.id=t,oe.domString='<div style="width: '.concat(xe*.66,`px;display: flex;flex-direction: column;align-items: center;">
                <div style="width: `).concat(xe*.66,"px;height: ").concat(xe*.66,"px;border-radius: 50%;background: ").concat(S?"#CCCCCC":n.backgroundColor,`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(xe*.4,'px" height="').concat(xe*.4,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>接听</title>
                        <g id="icon/接听" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path d="M15.7728281,19.6822968 C13.2528132,17.165123 10.8435994,14.2473605 11.9999084,13.0938925 C13.6505608,11.4432401 15.0881341,10.4261428 12.1646895,6.78675259 C9.23840386,3.14452132 7.28659974,5.94011849 5.68708632,7.53963191 C3.84324225,9.38631703 5.59049048,16.2645088 12.3891328,23.0659922 C19.1877751,29.8646345 26.0688079,31.6147238 27.9154931,29.7680386 C29.5150065,28.1685252 32.3106036,26.2195622 28.6712134,23.2932765 C25.0318232,20.3669909 24.0147259,21.8045642 22.3640735,23.4580576 C21.2077645,24.6086845 18.2928431,22.1994707 15.7728281,19.6822968 Z" id="路径" fill="#FFFFFF" fill-rule="nonzero" transform="translate(17.727936, 17.728157) rotate(-360.000000) translate(-17.727936, -17.728157) "></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(xe*.1,`px;user-select: none;">接听</div>
            </div>`),oe.onclick=function(){var se=o.decoderState.state,Ae=se.play,qe=se.isEditing,me=se.talk,m=se.sound,U=se.rejection;if(qe||U)return!1;console.log("接听"),o.jSPlugin.pluginStatus.loadingClear(),o.bellStatus="onCall",o.switchFooter("onCall"),u[o.bellStatus].btnList.map(function(Pe,fe){Pe.isrender&&o.renderFooter(Pe.iconId,Pe)}),d[o.bellStatus].btnList.map(function(Pe,fe){Pe.isrender&&o.renderHeader(Pe.iconId,Pe)});var le=document.getElementById("".concat(o.jSPlugin.id,"-header-onBell"));le&&le.parentElement.removeChild(le),o.themeData.customConfig.bellPoster==1&&(document.getElementById("bellring-icon")&&document.getElementById("".concat(o.jSPlugin.id,"-wrap")).removeChild(document.getElementById("bellring-icon")),o.jSPlugin.setPoster("")),o.removeBellRing(),o.miniRecCloseClick(),Ae||(o.jSPlugin.pluginStatus.loadingStart(o.jSPlugin.id),o.jSPlugin.pluginStatus.loadingSetText({text:"视频加载中"}),o.jSPlugin.play(),o.setDecoderState({play:!Ae})),!me&&o.themeData.customConfig.defaultMicro==1&&(o.setDecoderState({talk:!0,mute:!1}),m&&o.jSPlugin.closeSound(),o.jSPlugin.Talk.startTalk()),o.setDecoderState({sound:!1}),o.themeData.customConfig.defaultMicro==0&&(o.muteCommon(n),o.jSPlugin.openSound(),o.setDecoderState({sound:!0})),o.maxTalkTime=o.themeData.customConfig.maxTalkTime*1e3*60;var re=o;setTimeout(function(){me&&(console.log("结束对讲"),re.setDecoderState({talk:!1}),re.jSPlugin.Talk.stopTalk()),Ae&&(re.jSPlugin.stop(),re.setDecoderState({play:!Ae})),o.rejectionStatusDispose(),o.remoteUnlockEle&&o.remoteUnlockEle.closeRemoteUnlock(),typeof o.jSPlugin.hangUpCallback=="function"&&o.jSPlugin.hangUpCallback("hangUp")},o.maxTalkTime)},oe;case"remoteUnlock":return oe.title="远程开锁",oe.id=t,oe.domString='<div style="width: '.concat(xe*.66,`px;display: flex;flex-direction: column;align-items: center;">
                <div style="width: `).concat(xe*.66,"px;height: ").concat(xe*.66,"px;border-radius: 50%;background: ").concat(S?"#CCCCCC":n.backgroundColor,`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(xe*.4,'px" height="').concat(xe*.4,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>开锁</title>
                        <g id="icon/开锁" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path d="M18,4 C21.3137085,4 24,6.6862915 24,10 L24,10 L24,19.787 L29.5,19.7875 C30.0522847,19.7875 30.5,20.2352153 30.5,20.7875 C30.5,21.3397847 30.0522847,21.7875 29.5,21.7875 L24,21.787 L24,26 C24,29.2383969 21.4344251,31.8775718 18.2249383,31.9958615 L18,32 C14.6862915,32 12,29.3137085 12,26 L12,26 L12,10 C12,6.6862915 14.6862915,4 18,4 Z M18,6 C15.790861,6 14,7.790861 14,10 L14,10 L14,26 C14,28.209139 15.790861,30 18,30 C20.209139,30 22,28.209139 22,26 L22,26 L22,21.787 L18.5,21.7875 C17.9477153,21.7875 17.5,21.3397847 17.5,20.7875 C17.5,20.2352153 17.9477153,19.7875 18.5,19.7875 L22,19.787 L22,10 C22,7.85780461 20.3160315,6.10892112 18.1996403,6.00489531 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(xe*.1,`px;user-select: none;">远程开锁</div>
            </div>`),oe.onclick=function(){var se=o.decoderState.state,Ae=se.isEditing;se.play;var qe=se.rejection;if(Ae||o.bellStatus=="onBell"||qe)return!1;console.log("远程开锁"),o.switchFooter("remoteUnlock"),o.remoteUnlockEle=new Mm(o.jSPlugin,o.switchFooter,o.videoWidth)},oe;case"mute":return oe.title="静音",oe.id=t,oe.domString='<div style="width: '.concat(xe*.66,`px;display: flex;flex-direction: column;align-items: center;">
                <div id="`).concat(this.jSPlugin.id,'-icon-mute" style="width: ').concat(xe*.66,"px;height: ").concat(xe*.66,"px;border-radius: 50%;border: 1px solid ").concat(S?"#cccccc":n.backgroundColor,";background: ").concat(S&&P?"#cccccc":"#ffffff",`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(xe*.4,'px" height="').concat(xe*.4,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>icon/静音</title>
                        <g id="icon/静音" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path id="icon-mute-path" d="M29.2988305,7.56559704 C29.8540627,8.1086468 29.8980234,8.97727504 29.4240597,9.57172938 L29.3223594,9.6867869 L22.585,16.574 L22.5859243,26.0592702 C22.5859243,26.9500521 21.8638029,27.6721735 20.973021,27.6721735 C20.6007147,27.6721735 20.2398727,27.5433734 19.9517149,27.3076254 L15.583,23.733 L10.4341733,28.9987008 C9.85492024,29.5909486 8.9052312,29.6014828 8.31298346,29.0222298 C7.75775121,28.47918 7.71379057,27.6105518 8.18775419,27.0160974 L8.28945454,26.9010399 L27.1776406,7.58912597 C27.7568937,6.99687823 28.7065827,6.98634397 29.2988305,7.56559704 Z M22.2503608,7.16816759 C22.4679282,7.45036017 22.5859243,7.79665625 22.5859243,8.15298221 L22.585,9.899 L10.778,21.971 L9.47580645,21.9713498 C7.69424274,21.9713498 6.25,20.5271071 6.25,18.7455434 L6.25,15.65293 C6.25,13.8713663 7.69424274,12.4271235 9.47580645,12.4271235 L12.787,12.427 L19.9882064,6.87564241 C20.6936617,6.33174431 21.7064627,6.46271229 22.2503608,7.16816759 Z" id="形状结合" fill="`).concat(P?"#ffffff":S?"#cccccc":n.backgroundColor,`"></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(xe*.1,`px;user-select: none;">静音</div>
            </div>`),oe.onclick=function(){var se=o.decoderState.state,Ae=se.talk,qe=se.sound;se.play;var me=se.rejection;if(me)return!1;console.log("静音"),Ae?(console.log("结束对讲"),o.setDecoderState({talk:!1,mute:!0},n.backgroundColor),o.jSPlugin.Talk.stopTalk(),o.jSPlugin.openSound(),o.setDecoderState({sound:!0})):(console.log("开始对讲"),o.setDecoderState({talk:!0,mute:!1},n.backgroundColor),qe&&(o.jSPlugin.closeSound(),o.setDecoderState({sound:!1})),o.jSPlugin.Talk.startTalk())},oe;case"hangUp":return oe.title="挂断",oe.id=t,oe.domString='<div style="width: '.concat(xe*.66,`px;display: flex;flex-direction: column;align-items: center;">
                <div style="width:`).concat(xe*.66,"px;height: ").concat(xe*.66,"px;border-radius: 50%;background: ").concat(S?"#CCCCCC":n.backgroundColor,`;display: flex;align-items: center;justify-content: center;" >
                    <svg width="`).concat(xe*.4,'px" height="').concat(xe*.4,`px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <title>挂断</title>
                        <g id="icon/挂断" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <rect id="Rectangle" x="0" y="0" width="36" height="36"></rect>
                            <path d="M16.0428281,19.9522968 C13.5228132,17.435123 11.1135994,14.5173605 12.2699084,13.3638925 C13.9205608,11.7132401 15.3581341,10.6961428 12.4346895,7.05675259 C9.50840386,3.41452132 7.55659974,6.21011849 5.95708632,7.80963191 C4.11324225,9.65631703 5.86049048,16.5345088 12.6591328,23.3359922 C19.4577751,30.1346345 26.3388079,31.8847238 28.1854931,30.0380386 C29.7850065,28.4385252 32.5806036,26.4895622 28.9412134,23.5632765 C25.3018232,20.6369909 24.2847259,22.0745642 22.6340735,23.7280576 C21.4777645,24.8786845 18.5628431,22.4694707 16.0428281,19.9522968 Z" id="路径" fill="#FFFFFF" fill-rule="nonzero" transform="translate(17.997936, 17.998157) rotate(135.000000) translate(-17.997936, -17.998157) "></path>
                        </g>
                    </svg>
                </div>
                <div style="margin-top: `).concat(xe*.1,`px;user-select: none;">挂断</div>
            </div>`),oe.onclick=function(){var se=o,Ae=o.decoderState.state,qe=Ae.talk,me=Ae.play,m=Ae.rejection;if(m)return!1;qe&&(console.log("结束对讲"),o.setDecoderState({talk:!1}),o.jSPlugin.Talk.stopTalk()),me&&(o.jSPlugin.stop(),o.setDecoderState({play:!me})),(me||qe)&&(se.miniRecCloseClick(),console.log("挂断"),o.rejectionStatusDispose(),typeof o.jSPlugin.hangUpCallback=="function"&&o.jSPlugin.hangUpCallback("hangUp"))},oe;default:return oe}}},{key:"answerOvertime",value:function(){this.toastCustom.initToastContent("应答超时");var t=this.decoderState.state.play;console.log("应答超时"),t&&this.jSPlugin.stop(),this.setDecoderState({play:!1,rejection:!0}),this.miniRecCloseClick(),this.rejectionStatusDispose(),this.quickReplyEle&&this.quickReplyEle.closeQuickReplyEle(),typeof this.jSPlugin.hangUpCallback=="function"&&this.jSPlugin.hangUpCallback("rejection")}},{key:"rejectionStatusDispose",value:function(){var t=this,n=this.themeData.footer,o=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),c=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")),d=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-quickReplyBtn")),u=document.getElementById("header-".concat(this.bellStatus,"-ringStatus"));this.bellStatus=="onBell"?(o.innerHTML="",d.innerHTML="",o.style.color="#2C2C2C"):(c.innerHTML="",c.style.color="#2C2C2C"),console.log("rejectionStatusDispose"),this.setDecoderState({rejection:!0}),n[this.bellStatus].btnList.map(function(k,P){k.isrender&&t.renderFooter(k.iconId,k)}),u.innerText="通话已结束",this.jSPlugin.pluginStatus.loadingClear(),this.jSPlugin.pluginStatus.loadingSetTextWithBtn({text:"通话已结束",color:"white",isMobile:!0,type:2})}},{key:"userNoDevice",value:function(){var t=this;this.removeBellRing(),this.setDecoderState({rejection:!0});var n=this.themeData.footer,o=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),c=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")),d=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-quickReplyBtn"));this.bellStatus=="onBell"?(o.innerHTML="",d.innerHTML="",o.style.color="#2C2C2C"):(c.innerHTML="",c.style.color="#2C2C2C"),console.log("userNoDevice"),this.setDecoderState({rejection:!0}),n[this.bellStatus].btnList.map(function(u,k){u.isrender&&t.renderFooter(u.iconId,u)}),this.jSPlugin.pluginStatus.loadingClear(),this.jSPlugin.pluginStatus.loadingSetTextWithBtn({text:"该用户不拥有该设备",color:"white",isMobile:!0,type:2})}},{key:"renderHeader",value:function(t,n){var o=this,c=this.matchBtn(t,n);if(document.getElementById("".concat(this.jSPlugin.id,"-header-").concat(this.bellStatus,"-content"))){var d=document.createElement("span");d.innerHTML="".concat(c.domString),document.getElementById("".concat(this.jSPlugin.id,"-header-").concat(this.bellStatus,"-content")).appendChild(d)}else{var u=document.createElement("div");u.id="".concat(this.jSPlugin.id,"-header-").concat(this.bellStatus),u.style="max-width:50%;position:relative;",u.innerHTML='<span id="'.concat(this.jSPlugin.id,"-header-").concat(this.bellStatus,`-content" style="display:inline-block;height:auto;";>
            `).concat(c.domString,`
          </span>`),u.onclick=function(k){if(o.decoderState.state.isEditing)return!1;c.onclick(k)},document.getElementById("".concat(this.jSPlugin.id,"-headControl")).childNodes[0].appendChild(u)}}},{key:"renderFooter",value:function(t,n){var o=this,c=this.decoderState.state.mute;if(t=="remoteUnlock"&&this.jSPlugin.capacity&&(!this.jSPlugin.capacity.support_unlock||this.jSPlugin.capacity.support_unlock==0))return!1;var d=this.matchBtn(t,n),u=this.videoWidth/4,k=document.createElement("div");if(k.className="theme-icon-item",d.id!=="quickReply"&&(k.style="width:".concat(u*.66,"px;padding:0 ").concat(u*.12,"px;box-sizing: content-box;-webkit-tap-highlight-color:transparent;")),k.innerHTML="".concat('<span id="'.concat(this.jSPlugin.id,"-").concat(d.id,'" style="position:relative;">')+'<div id="'.concat(this.jSPlugin.id,"-").concat(d.id,'-content" title="').concat(d.title,'" style="display: flex;align-items: center;position:relative;">')).concat(d.domString,"</div>")+"</span>",k.onclick=function(b){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;d.onclick(b)},d.onmouseenter&&(k.onmouseenter=function(b){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;d.onmouseenter(b)}),d.onmouseleave&&(k.onmouseleave=function(b){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;d.onmouseleave(b)}),t!="quickReply"){var P=document.createElement("span");P.className="icon-move left",P.innerHTML='<span id="'.concat(this.jSPlugin.id,"-").concat(d.id,`-left" title="左移" style="height: 40px;position: absolute;top: calc(50% - 33px);left: 1px;display: inline-block;border-radius: 2px;overflow: hidden;cursor: pointer;">
          <svg width="10px" height="40px" viewBox="0 0 10 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <title></title>
              <g id="呼叫模板-控制台" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="H5呼叫模板" transform="translate(-614.000000, -5024.000000)">
                      <g id="编组-28" transform="translate(421.000000, 4484.000000)">
                          <g id="编组-9" transform="translate(23.000000, 522.000000)">
                              <g id="编组" transform="translate(170.000000, 0.000000)">
                                  <g id="箭头左" transform="translate(0.000000, 18.000000)">
                                      <rect id="矩形" fill="#595959" x="0" y="0" width="10" height="40" rx="2"></rect>
                                      <g id="1.通用/2.Icon图标/Common/Fill/Left" transform="translate(1.000000, 15.000000)" fill="#FFFFFF">
                                          <path d="M3.88411064,2.46093277 L7.81658983,7.1799078 C7.99337187,7.39204625 7.96470984,7.7073286 7.75257139,7.88411064 C7.66271389,7.95899189 7.54944745,8 7.43247919,8 L-0.432479194,8 C-0.708621569,8 -0.932479194,7.77614237 -0.932479194,7.5 C-0.932479194,7.38303175 -0.891471084,7.2697653 -0.816589833,7.1799078 L3.11588936,2.46093277 C3.2926714,2.24879432 3.60795375,2.22013229 3.8200922,2.39691433 C3.84332373,2.41627394 3.86475103,2.43770124 3.88411064,2.46093277 Z" id="三角形" transform="translate(3.500000, 5.000000) scale(-1, -1) rotate(-270.000000) translate(-3.500000, -5.000000) "></path>
                                      </g>
                                  </g>
                              </g>
                          </g>
                      </g>
                  </g>
              </g>
          </svg>
          </span>`),P.onclick=function(){o.editIcon(d.id,"left","footer")},k.appendChild(P);var S=document.createElement("span");S.className="icon-move right",S.innerHTML='<span id="'.concat(this.jSPlugin.id,"-").concat(d.id,`-right" class="ezuikit-theme-icon" title="右移" style="height: 40px;position: absolute;top: calc(50% - 33px);left: calc(100% - 11px);display: inline-block;border-radius: 2px;overflow: hidden;cursor: pointer;">
          <svg width="10px" height="40px" viewBox="0 0 10 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <title></title>
              <g id="呼叫模板-控制台" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="H5呼叫模板" transform="translate(-684.000000, -5024.000000)">
                      <g id="编组-28" transform="translate(421.000000, 4484.000000)">
                          <g id="编组-9" transform="translate(23.000000, 522.000000)">
                              <g id="编组" transform="translate(170.000000, 0.000000)">
                                  <g id="箭头右" transform="translate(70.000000, 18.000000)">
                                      <rect id="矩形" fill="#595959" x="0" y="0" width="10" height="40" rx="2"></rect>
                                      <g id="1.通用/2.Icon图标/Common/Fill/Left" transform="translate(5.500000, 20.000000) scale(-1, 1) translate(-5.500000, -20.000000) translate(2.000000, 15.000000)" fill="#FFFFFF">
                                          <path d="M3.88411064,2.46093277 L7.81658983,7.1799078 C7.99337187,7.39204625 7.96470984,7.7073286 7.75257139,7.88411064 C7.66271389,7.95899189 7.54944745,8 7.43247919,8 L-0.432479194,8 C-0.708621569,8 -0.932479194,7.77614237 -0.932479194,7.5 C-0.932479194,7.38303175 -0.891471084,7.2697653 -0.816589833,7.1799078 L3.11588936,2.46093277 C3.2926714,2.24879432 3.60795375,2.22013229 3.8200922,2.39691433 C3.84332373,2.41627394 3.86475103,2.43770124 3.88411064,2.46093277 Z" id="三角形" transform="translate(3.500000, 5.000000) scale(-1, -1) rotate(-270.000000) translate(-3.500000, -5.000000) "></path>
                                      </g>
                                  </g>
                              </g>
                          </g>
                      </g>
                  </g>
              </g>
          </svg>
          </span>`),S.onclick=function(){o.editIcon(d.id,"right","footer")},k.appendChild(S)}if(!(t=="answer"||t=="rejection"||t=="hangUp")){var R=document.createElement("span");R.className="icon-move close",R.innerHTML='<span id="'.concat(d.id,`-remove" class="ezuikit-theme-icon" title="移除" style="position: absolute;top: -6px;right: -2px;cursor: pointer;">
            <svg width="16px" height="16px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <title></title>
                <g id="呼叫模板-控制台" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="H5呼叫模板" transform="translate(-680.000000, -5006.000000)">
                        <g id="编组-28" transform="translate(421.000000, 4484.000000)">
                            <g id="编组-9" transform="translate(23.000000, 522.000000)">
                                <g id="编组" transform="translate(170.000000, 0.000000)">
                                    <g id="关闭1" transform="translate(66.000000, 0.000000)">
                                        <rect id="矩形" fill-rule="nonzero" x="0" y="0" width="18" height="18"></rect>
                                        <path d="M9,1.125 C4.65117188,1.125 1.125,4.65117188 1.125,9 C1.125,13.3488281 4.65117188,16.875 9,16.875 C13.3488281,16.875 16.875,13.3488281 16.875,9 C16.875,4.65117188 13.3488281,1.125 9,1.125 Z M11.9074219,11.9917969 L10.7472656,11.9865234 L9,9.90351562 L7.25449219,11.9847656 L6.09257813,11.9900391 C6.01523438,11.9900391 5.95195313,11.9285156 5.95195313,11.8494141 C5.95195313,11.8160156 5.96425781,11.784375 5.98535156,11.7580078 L8.27226563,9.03339844 L5.98535156,6.31054687 C5.96425781,6.28417969 5.95195313,6.25253906 5.95195313,6.21914062 C5.95195313,6.14179687 6.01523438,6.07851562 6.09257813,6.07851562 L7.25449219,6.08378906 L9,8.16679687 L10.7455078,6.08554688 L11.9056641,6.08027344 C11.9830078,6.08027344 12.0462891,6.14179687 12.0462891,6.22089844 C12.0462891,6.25429687 12.0339844,6.2859375 12.0128906,6.31230469 L9.72949219,9.03515625 L12.0146484,11.7597656 C12.0357422,11.7861328 12.0480469,11.8177734 12.0480469,11.8511719 C12.0480469,11.9285156 11.9847656,11.9917969 11.9074219,11.9917969 Z" id="形状" fill="#595959"></path>
                                    </g>
                                </g>
                            </g>
                        </g>
                    </g>
                </g>
            </svg>
          </span>`),R.onclick=function(){o.editIcon(d.id,"delete","footer")},k.appendChild(R)}this.bellStatus=="onCall"?document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).appendChild(k):(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).appendChild(k),d.id==="quickReply"&&document.getElementById("".concat(this.jSPlugin.id,"-audioControls-quickReplyBtn")).appendChild(k)),this.decoderState.state.isEditing&&t=="mute"&&this.bellStatus=="onCall"&&(this.themeData.customConfig.defaultMicro==0&&!c?this.setDecoderState({mute:!0},n.backgroundColor):this.setDecoderState({mute:!1},n.backgroundColor))}},{key:"switchFooter",value:function(t){var n=this.themeData.footer;switch(t){case"onBell":document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall"))?document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).style.display=="none"&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.display="flex",document.getElementById("".concat(this.jSPlugin.id,"-audioControls-quickReplyBtn")).style.display="flex",document.getElementById("".concat(this.jSPlugin.id,"-btn-quickReply")).style.display="flex"):(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.display="flex",document.getElementById("".concat(this.jSPlugin.id,"-audioControls-quickReplyBtn")).style.display="flex",document.getElementById("".concat(this.jSPlugin.id,"-btn-quickReply")).style.display="flex");break;case"onCall":document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.display="none",document.getElementById("".concat(this.jSPlugin.id,"-btn-quickReply")).style.display="none",document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).style.display="flex",this.themeData&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).style.color=n[this.bellStatus].color);break}}},{key:"initThemeData",value:function(){var t=this;console.log("-------------initThemeData");var n=this.themeData,o=n.header,c=n.footer,d=this.decoderState.state.isEditing,u=this.videoWidth,k=u/375,P=u*1.8,S=this.jSPlugin.id;if(this.isNeedRenderHeader=Pr.findIndex(o[this.bellStatus].btnList,function(qe){return qe.isrender>0})>=0,this.isNeedRenderFooter=Pr.findIndex(c[this.bellStatus].btnList,function(qe){return qe.isrender>0})>=0,this.isNeedRenderHeader)if(document.getElementById("".concat(this.jSPlugin.id,"-headControl")))document.getElementById("".concat(this.jSPlugin.id,"-headControl")).innerHTML="<div id='".concat(this.jSPlugin.id,"-headControl-left' style='display:flex;width:100%;overflow:hidden;justify-content: center;'></div>");else{var R,b=document.createElement("div");b.setAttribute("id","".concat(this.jSPlugin.id,"-headControl")),b.setAttribute("class","header-controls"),b.innerHTML="<div id='".concat(this.jSPlugin.id,`-headControl-left' class="header-controls-left" style='display:flex;width:100%;overflow:hidden;justify-content: center;'></div>`),console.log(this.jSPlugin.height),this.jSPlugin.height*.2+"";var _=(R={display:"flex","justify-content":"space-between",top:0,"z-index":999,color:"#FFFFFF",width:"100%",position:"relative","margin-bottom":P*.1+"px","align-items":"center","text-align":"center","font-size":"24ox"},_t(R,"color","#2c2c2c"),_t(R,"margin-top","6px"),R);b.style=uh(_),document.getElementById("".concat(S,"-wrap")).insertBefore(b,document.getElementById(S));var oe=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&clearInterval(oe)},50)}else document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&document.getElementById("".concat(this.jSPlugin.id,"-headControl")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-headControl")));if(this.jSPlugin.height*.3,this.isNeedRenderFooter)if(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")))document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.marginTop="".concat(P*.2,"px"),this.bellStatus=="onCall"?document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).innerHTML=`
              <div id="`.concat(this.jSPlugin.id,`-audioControls-quickReplyBtn" class="footer-controls" style='min-height: `).concat(40*k,"px;margin-bottom: ").concat(40*k,`px;display:flex;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls" class="footer-controls" style='display:none;justify-content: space-around;padding: 0 8%;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-onCall" class="footer-controls" style='display:flex;justify-content: space-around;padding: 0 8%;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-quickReply" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-remoteUnlock" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              `):document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).innerHTML=`
              <div id="`.concat(this.jSPlugin.id,`-audioControls-quickReplyBtn" class="footer-controls" style='min-height: `).concat(40*k,"px;margin-bottom: ").concat(40*k,`px;display:flex;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls" class="footer-controls" style='display:flex;justify-content: space-around;padding: 0 8%;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-onCall" class="footer-controls" style='display:none;justify-content: space-around;padding: 0 8%;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-quickReply" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              <div id="`).concat(this.jSPlugin.id,`-audioControls-remoteUnlock" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
              `));else{var de=document.createElement("div");de.setAttribute("id","".concat(this.jSPlugin.id,"-ez-iframe-footer-container")),de.setAttribute("class","ez-iframe-footer-container");var xe={position:"relative","margin-top":P*.2+"px",display:"flex","flex-wrap":"wrap","justify-content":"space-between","z-index":999,top:0,color:"#FFFFFF",width:"100%","align-items":"center","font-size":"12px"};de.style=uh(xe),de.innerHTML=`
            <div id="`.concat(this.jSPlugin.id,`-audioControls-quickReplyBtn" class="footer-controls" style='min-height: `).concat(40*k,"px;margin-bottom: ").concat(40*k,`px;display:flex;justify-content: center;width:100%;z-index:999;position: relative;'></div>
            <div id="`).concat(this.jSPlugin.id,`-audioControls" class="footer-controls" style='display:flex;justify-content: space-around;padding: 0 8%;width:100%;z-index:999;position: relative;'></div>
            <div id="`).concat(this.jSPlugin.id,`-audioControls-onCall" class="footer-controls" style='display:none;justify-content: space-around;padding: 0 8%;width:100%;z-index:999;position: relative;'></div>
            <div id="`).concat(this.jSPlugin.id,`-audioControls-quickReply" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
            <div id="`).concat(this.jSPlugin.id,`-audioControls-remoteUnlock" class="footer-controls" style='display:none;justify-content: center;width:100%;z-index:999;position: relative;'></div>
            `),Ea(de,document.getElementById(S))}else document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")));if(this.isNeedRenderHeader&&document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&o[this.bellStatus].btnList.map(function(qe,me){qe.isrender&&t.renderHeader(qe.iconId,qe)}),this.isNeedRenderFooter&&document.getElementById("".concat(this.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=c[this.bellStatus].backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=c[this.bellStatus].color,c[this.bellStatus].btnList.map(function(qe,me){qe.isrender&&t.renderFooter(qe.iconId,qe)})),this.themeData.customConfig.bellPoster==1&&!d){this.jSPlugin.poster="https://resource.eziot.com/group1/M00/00/B8/CtwQEmPbGh2AVJB-ABDcYtyw5gk899.svg";var se=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(se),t.jSPlugin.setPoster(t.jSPlugin.poster))},50)}else this.jSPlugin.setPoster("");if(this.activeThemeStatus){this.initBellRing();var Ae=this.checkIsAppleDevice()||!1;Ae?window.addEventListener("touchstart",this.autoPlayRing):window.addEventListener("click",this.autoPlayRing)}this.inited=!0,this.getCallDeviceInfo()}},{key:"checkIsAppleDevice",value:function(){var t=navigator.userAgent,n=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),o=t.indexOf("iPad")>-1,c=t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1;return!!(n||o||c)}},{key:"renderThemeData",value:function(){var t=this,n=this.themeData,o=n.header,c=n.footer,d=this.decoderState.state.isEditing;if(this.isNeedRenderHeader&&o&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.color=o[this.bellStatus].color.replace("-diy",""),o[this.bellStatus].btnList.map(function(P,S){P.isrender&&t.setDecoderState(_t({},P.iconId,t.decoderState.state[P.iconId]))})),this.isNeedRenderFooter&&c)document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=c[this.bellStatus].backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=c[this.bellStatus].color.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")).style.color=c[this.bellStatus].color.replace("-diy",""),c[this.bellStatus].btnList.map(function(P,S){if(P.isrender&&t.setDecoderState(_t({},P.iconId,t.decoderState.state[P.iconId])),console.log("-------------activeThemeStatus"),S==0&&!t.themeInited&&t.activeThemeStatus)var R=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(R),t.themeData.customConfig.bellPoster==1&&!d?t.jSPlugin.pluginStatus.loadingClear():t.jSPlugin.play(),t.themeInited=!0)},50)}),this.jSPlugin.url.indexOf("hd.live")!==-1&&this.setDecoderState({hd:!0}),this.themeData.autoFocus>0&&(this.autoFocus=parseInt(this.themeData.autoFocus),this.startAutoFocus(),document.getElementById("".concat(this.jSPlugin.id,"-wrap")).addEventListener("click",function(){t.stopAutoFocus()})),this.setDecoderState({cloudRec:Nn(this.jSPlugin.url).type==="cloud.rec",rec:Nn(this.jSPlugin.url).type==="rec",type:Nn(this.jSPlugin.url).type});else if(!this.themeInited&&this.activeThemeStatus)var u=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(u),t.themeData&&t.themeData.customConfig&&t.themeData.customConfig.bellPoster==1&&!d?t.jSPlugin.pluginStatus.loadingClear():t.jSPlugin.play(),t.themeInited=!0)},50);var k=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(k),t.jSPlugin.reSize(t.jSPlugin.params.width,t.jSPlugin.params.height))},50);!d&&!this.jSPlugin.isWebConsole?setTimeout(function(){t.bellStatus=="onBell"&&t.jSPlugin.capacity&&t.jSPlugin.capacity.support_doorcall_playback==1&&(console.log("小窗口initMiniRec-------------设备能力集成功"),t.themeData.customConfig.miniWinRec==1&&(console.log("小窗口initMiniRec---------------画中画设置已开启"),(!t.deviceInfoData||t.deviceInfoData&&!t.deviceInfoData.isEncrypt)&&(console.log("小窗口initMiniRec---------------设备未加密"),t.miniRecNum=0,t.initMiniRec())))},1e3):this.themeData.customConfig.miniWinRec==1?this.initMiniImageRec():this.miniRecCloseClick()}},{key:"setThemeData",value:function(t,n){this.themeData=t,n=="onCall"&&(this.bellStatus="onCall")}},{key:"startAutoFocus",value:function(){var t=this,n=this.autoFocus;this.autoFocusTimer&&clearTimeout(this.autoFocusTimer),this.autoFocusTimer=setTimeout(function(){document.getElementById("".concat(t.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.opacity=0,document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.pointerEvents="none")},n*1e3)}},{key:"stopAutoFocus",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.opacity=1,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.pointerEvents="all"),this.autoFocusTimer&&clearTimeout(this.autoFocusTimer),this.startAutoFocus()}},{key:"editIcon",value:function(t,n,o){console.log("编辑组件",t,n,o);var c=this.themeData;console.log("themeData",this.themeData);var d=this.themeData[o][this.bellStatus].btnList,u=Pr.findIndex(d,function(_){return _.iconId===t}),k=d[u];switch(n){case"delete":d[u].isrender=0;break;case"right":for(var P=-1,S=u+1;S<d.length;S++)if(d[S].part===d[u].part&&d[S].isrender==1){P=S;break}P!==-1&&(d[u]=d[P],d[P]=k);break;case"left":for(var R=-1,b=u-1;b>=0;b--)if(d[b].part===d[u].part&&d[b].isrender==1){R=b;break}R!==-1&&(d[u]=d[R],d[R]=k);break}console.log("new btnList",d),c[o][this.bellStatus].btnList=d,this.jSPlugin.Theme.changeTheme(c)}},{key:"countTime",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=this;if(!document.getElementById(this.jSPlugin.id+"time-area")){var c=document.createElement("div");c.id=this.jSPlugin.id+"time-area",c.className="time-area",c.innerHTML='<span class="dot"></span><span class="value">00:00</span>',document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).appendChild(c)}if(this.countTimer&&clearInterval(this.countTimer),t==="add"){var d=n;document.getElementById(o.jSPlugin.id+"time-area").style.display="flex",this.countTimer=setInterval(function(){++d,document.getElementById(o.jSPlugin.id+"time-area").children[1].innerHTML=u(d)},1e3)}else t==="destroy"&&(this.countTimer&&clearInterval(this.countTimer),this.countTimer=void 0,document.getElementById(o.jSPlugin.id+"time-area")&&(document.getElementById(o.jSPlugin.id+"time-area").children[1].innerHTML="00:00",document.getElementById(o.jSPlugin.id+"time-area").style.display="none"));function u(k){var P=parseInt(k),S=0,R=0,b="00",_="00",oe="00";return P>59&&(S=parseInt(P/60),P=parseInt(P%60),S>59&&(R=parseInt(S/60),S=parseInt(S%60))),b=parseInt(P)>9?parseInt(P):"0"+parseInt(P),_=parseInt(S)>9?parseInt(S):"0"+parseInt(S),oe=parseInt(R)>9?parseInt(R):"0"+parseInt(R),R>0?oe+":"+_+":"+b:S>0?_+":"+b:"00:"+b}}},{key:"editStart",value:function(t){console.log("----------editStart1");var n=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),o=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall"));document.getElementById("".concat(this.jSPlugin.id,"-headControl")),n&&n.setAttribute("class","footer-controls themeEditing"),o&&o.setAttribute("class","footer-controls themeEditing"),this.setDecoderState({isEditing:!0})}},{key:"editEnd",value:function(t){console.log("----------editEnd1");var n=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),o=document.getElementById("".concat(this.jSPlugin.id,"-headControl")),c=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall"));o&&o.setAttribute("class","header-controls"),n&&n.setAttribute("class","footer-controls"),c&&c.setAttribute("class","footer-controls")}},{key:"fetchThemeData",value:function(t){var n=this;switch(this.jSPlugin.themeId){case"pcLive":case"pcRec":case"mobileLive":case"mobileRec":case"miniRec":break;default:var o=function(u){u.meta.code==0&&u.data?(n.activeThemeStatus=!0,n.themeData=u.data,u.data.header&&(n.themeData.header=u.data.header,n.themeData.header[n.bellStatus].btnList=n.themeData.header[n.bellStatus].btnList.sort(function(k,P){return k.btnKey.split("-")[3]-P.btnKey.split("-")[3]})),u.data.footer&&(n.themeData.footer=u.data.footer,n.themeData.footer[n.bellStatus].btnList=n.themeData.footer[n.bellStatus].btnList.sort(function(k,P){return k.btnKey.split("-")[3]-P.btnKey.split("-")[3]})),n.jSPlugin.capacity?(n.initThemeData(),n.renderThemeData()):setTimeout(function(){n.initThemeData(),n.renderThemeData()},300)):(n.activeThemeStatus=!1,n.jSPlugin.pluginStatus.loadingClear(),n.setDecoderState({rejection:!0}),u.meta.code=="111021"?(n.jSPlugin.pluginStatus.loadingSetText({text:"无效的模板id",color:"#fff",type:1}),n.activeThemeStatusTxt="无效的模板id"):u.meta.code=="111023"?(n.jSPlugin.pluginStatus.loadingSetText({text:"您的试用特权已到期，需前往轻应用控制台购买后使用。",color:"#fff",type:1}),n.activeThemeStatusTxt="试用特权已到期"):(n.jSPlugin.pluginStatus.loadingSetText({text:"模板未激活，请先在开放平台轻应用控制台购买模板",color:"#fff",type:1}),n.activeThemeStatusTxt="模板未激活"),n.themeData=Lm.data,n.initThemeData(),n.renderThemeData())},c=function(){n.renderThemeData()};ic(this.jSPlugin,t,o,c);break}}},{key:"getCallDeviceInfo",value:function(){var t=this;this.videoWidth/375;var n=function(c){c.code==200&&c.data&&(t.deviceInfoData=c.data,console.log("------------getDeviceInfo"),c.data.isEncrypt&&(console.log("小窗口miniRecCloseClick------------设备已加密"),t.miniRecCloseClick(),setTimeout(function(){t.jSPlugin.pluginStatus.loadingClear(),t.jSPlugin.pluginStatus.loadingSetText({text:"视频已加密",color:"#fff"})},50)),document.getElementById("header-".concat(t.bellStatus,"-deviceCategory"))&&(document.getElementById("header-".concat(t.bellStatus,"-deviceCategory")).innerText=""+c.data.deviceName)),c.code==20018&&!t.jSPlugin.isWebConsole&&t.userNoDevice()};Lr(this.jSPlugin.env.domain+"/api/lapp/device/info","POST",{accessToken:this.jSPlugin.accessToken,deviceSerial:Nn(this.jSPlugin.url).deviceSerial},"",n)}},{key:"setHeaderText",value:function(t){console.log("setHeaderText");var n=this.videoWidth/375||1;document.getElementById("".concat(this.jSPlugin.id,"-deviceCategory-content"))&&(document.getElementById("".concat(this.jSPlugin.id,"-deviceCategory-content")).innerHTML='<span style="font-size: '.concat(24*n,'px;display: block">').concat(t,'</span><span style="font-size: ').concat(14*n,"px;padding-top: ").concat(5*n,'px;display: block;">').concat(this.deviceInfoData&&this.deviceInfoData.category||"","</span>"))}}]),J}(),Om=function(){function J(g){if(Re(this,J),this.jSPlugin=g,this.videoWidth=g.width,this.autoFocus=0,this.autoFocusTimer=null,this.decoderState={state:{isEditing:!1,play:!1,sound:!1,recordvideo:!1,recordCount:"00:00",talk:!1,mute:!1,rejection:!1,cloudRec:Nn(g.url).type==="cloud.rec",rec:Nn(g.url).type==="rec",type:Nn(g.url).type}},console.log("matchEzopenUrl(jSPlugin.url)",Nn(g.url),this.decoderState.state),this.isMobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),typeof g.isMobile<"u"&&(this.isMobile=g.isMobile),this.themeData={},this.jSPlugin.themeId=="themeData"&&(this.themeData=this.jSPlugin.params.themeData),this.jSPlugin.themeId)switch(this.isMobile?this.call=new Fm(this.jSPlugin,this.themeData,this.setDecoderState,this.decoderState):this.call=new Dm(this.jSPlugin,this.themeData,this.setDecoderState,this.decoderState),this.jSPlugin.themeId){case"themeData":this.themeData=this.jSPlugin.params.themeData,this.call.initThemeData(),this.call.renderThemeData();break;default:this.call.fetchThemeData(this.jSPlugin.themeId);break}this.jSPlugin.Talk||(this.jSPlugin.Talk=new tc(this.jSPlugin)),qn("".concat(this.jSPlugin.staticPath,"/speed/speed.css")),qn("".concat(this.jSPlugin.staticPath,"/css/theme.css"))}return xt(J,[{key:"changeTheme",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"onBell";if(typeof t=="string")switch(this.jSPlugin.themeId=t,this.jSPlugin.themeId){case"pcLive":case"mobileCall":case"webCall":this.call.initThemeData(),this.call.renderThemeData();break;default:this.call.fetchThemeData(t);break}else K(t)==="object"&&(this.themeData=t,this.call.setThemeData(t,o),this.call.initThemeData(),this.call.renderThemeData(),this.decoderState.state.isEditing&&n&&this.call.editStart());this.jSPlugin&&this.jSPlugin.handleThemeChange&&this.jSPlugin.handleThemeChange(t)}},{key:"setDecoderState",value:function(t,n){var o=this,c=this.themeData;c.header,c.footer,Object.keys(t).map(function(d){switch(d){case"mute":document.getElementById("".concat(o.jSPlugin.id,"-icon-mute"))&&(console.log("mute"),t[d]?(document.getElementById("".concat(o.jSPlugin.id,"-icon-mute")).style.background=n,document.getElementById("".concat(o.jSPlugin.id,"-icon-mute")).style.border=" 1px solid ".concat(n),document.getElementById("icon-mute-path").style.fill="#ffffff"):(document.getElementById("".concat(o.jSPlugin.id,"-icon-mute")).style.background="#ffffff",document.getElementById("".concat(o.jSPlugin.id,"-icon-mute")).style.border="1px solid ".concat(n),document.getElementById("icon-mute-path").style.fill=n));break}o.decoderState.state=Object.assign(o.decoderState.state,t)})}},{key:"startAutoFocus",value:function(){var t=this,n=this.autoFocus;this.autoFocusTimer&&clearTimeout(this.autoFocusTimer),this.autoFocusTimer=setTimeout(function(){document.getElementById("".concat(t.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.opacity=0,document.getElementById("".concat(t.jSPlugin.id,"-audioControls")).style.pointerEvents="none")},n*1e3)}},{key:"stopAutoFocus",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.opacity=1,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.pointerEvents="all"),this.autoFocusTimer&&clearTimeout(this.autoFocusTimer),this.startAutoFocus()}},{key:"toString",value:function(){return"".concat(this.coreX,"-").concat(this.coreY)}},{key:"editIcon",value:function(t,n,o){console.log("编辑组件",t,n,o);var c=this.themeData;console.log("themeData",this.themeData);var d=this.themeData[o].btnList,u=Pr.findIndex(d,function(_){return _.iconId===t}),k=d[u];switch(n){case"delete":if(t==="rec"){if(Pr.findIndex(d,function(_){return _.iconId==="cloudRec"&&_.isrender==1})===-1)return this.jSPlugin.Message&&this.jSPlugin.Message.default("必须选中一种存储介质"),!1}else if(t==="cloudRec"&&Pr.findIndex(d,function(_){return _.iconId==="rec"&&_.isrender==1})===-1)return this.jSPlugin.Message&&this.jSPlugin.Message.default("必须选中一种存储介质"),!1;d[u].isrender=0;break;case"right":for(var P=-1,S=u+1;S<d.length;S++)if(d[S].part===d[u].part&&d[S].isrender==1){P=S;break}P!==-1&&(d[u]=d[P],d[P]=k);break;case"left":for(var R=-1,b=u-1;b>=0;b--)if(d[b].part===d[u].part&&d[b].isrender==1){R=b;break}R!==-1&&(d[u]=d[R],d[R]=k);break}console.log("new btnList",d),c[o].btnList=d,this.changeTheme(c)}},{key:"countTime",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=this;if(!document.getElementById(this.jSPlugin.id+"time-area")){var c=document.createElement("div");c.id=this.jSPlugin.id+"time-area",c.className="time-area",c.innerHTML='<span class="dot"></span><span class="value">00:00</span>',document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).appendChild(c)}if(this.countTimer&&clearInterval(this.countTimer),t==="add"){var d=n;document.getElementById(o.jSPlugin.id+"time-area").style.display="flex",this.countTimer=setInterval(function(){++d,document.getElementById(o.jSPlugin.id+"time-area").children[1].innerHTML=u(d)},1e3)}else t==="destroy"&&(this.countTimer&&clearInterval(this.countTimer),this.countTimer=void 0,document.getElementById(o.jSPlugin.id+"time-area")&&(document.getElementById(o.jSPlugin.id+"time-area").children[1].innerHTML="00:00",document.getElementById(o.jSPlugin.id+"time-area").style.display="none"));function u(k){var P=parseInt(k),S=0,R=0,b="00",_="00",oe="00";return P>59&&(S=parseInt(P/60),P=parseInt(P%60),S>59&&(R=parseInt(S/60),S=parseInt(S%60))),b=parseInt(P)>9?parseInt(P):"0"+parseInt(P),_=parseInt(S)>9?parseInt(S):"0"+parseInt(S),oe=parseInt(R)>9?parseInt(R):"0"+parseInt(R),R>0?oe+":"+_+":"+b:S>0?_+":"+b:"00:"+b}}},{key:"editStart",value:function(t){var n=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),o=document.getElementById("".concat(this.jSPlugin.id,"-audioControls-onCall")),c=document.getElementById("".concat(this.jSPlugin.id,"-headControl"));c&&c.setAttribute("class","header-controls themeEditing"),n&&n.setAttribute("class","footer-controls themeEditing"),o&&o.setAttribute("class","footer-controls themeEditing"),this.setDecoderState({isEditing:!0})}},{key:"editEnd",value:function(t){var n=document.getElementById("".concat(this.jSPlugin.id,"-audioControls")),o=document.getElementById("".concat(this.jSPlugin.id,"-headControl"));o&&o.setAttribute("class","header-controls"),n&&n.setAttribute("class","footer-controls"),this.setDecoderState({isEditing:!1})}},{key:"setDisabled",value:function(t){}},{key:"getDeviceInfo",value:function(){var t=this,n=this.videoWidth/1024||1,o=function(d){d.code==200&&d.data&&(d.data.isEncrypt&&setTimeout(function(){t.jSPlugin.pluginStatus.loadingClear(),t.jSPlugin.pluginStatus.loadingSetText({text:"视频已加密",color:"#fff"})},50),document.getElementById("".concat(t.jSPlugin.id,"-deviceCategory-content"))&&(document.getElementById("".concat(t.jSPlugin.id,"-deviceCategory-content")).style.maxWidth="100%",document.getElementById("".concat(t.jSPlugin.id,"-deviceCategory-content")).style.overflow="hidden",document.getElementById("".concat(t.jSPlugin.id,"-deviceCategory-content")).style.textOverflow="ellipsis",document.getElementById("".concat(t.jSPlugin.id,"-deviceCategory-content")).style.whiteSpace="nowrap",document.getElementById("".concat(t.jSPlugin.id,"-deviceCategory-content")).innerHTML='<span style="font-size: '.concat(32*n,'px;display: block">有人按门铃</span><span style="font-size: ').concat(24*n,"px;padding-top: ").concat(16*n,'px;display: block;">').concat(d.data.category,"</span>")))};Lr(this.jSPlugin.env.domain+"/api/lapp/device/info","POST",{accessToken:this.jSPlugin.accessToken,deviceSerial:Nn(this.jSPlugin.url).deviceSerial},"",o)}}]),J}(),zm=function(){function J(g){Re(this,J),this.jSPlugin=g;var t=window["EZUIKIT_TIMER_INTERVAL_".concat(g.id)];t&&Object.keys(t).length>0&&this.resetTimer(),window["EZUIKIT_TIMER_INTERVAL_".concat(g.id)]={}}return xt(J,[{key:"createInterval",value:function(t,n,o){var c=window["EZUIKIT_TIMER_INTERVAL_".concat(this.jSPlugin.id)];c[t]=setInterval(n,o)}},{key:"clearTimer",value:function(t){var n=window["EZUIKIT_TIMER_INTERVAL_".concat(this.jSPlugin.id)];n[t]&&(clearInterval(n[t]),delete n[t])}},{key:"resetTimer",value:function(){var t=window["EZUIKIT_TIMER_INTERVAL_".concat(this.jSPlugin.id)];for(var n in t)clearInterval(t[n]),delete t[n]}}]),J}(),Nm=xt(function J(g){var t=this;Re(this,J),_t(this,"initMap",function(){var n=t,o=t.videoWidth,c=t.videoHeight;if(document.getElementById("".concat(t.jSPlugin.id,"-miniRecbox")))document.getElementById("".concat(t.jSPlugin.id,"-wrap")).removeChild(document.getElementById("".concat(t.jSPlugin.id,"-miniRecbox"))),t.initMap();else{var d=document.createElement("div");d.id="".concat(t.jSPlugin.id,"-miniRecbox"),d.style=";position: absolute; bottom:96px;right:".concat(t.jSPlugin.inspectVideoWidth,"px;"),d.innerHTML='<div  id="'.concat(t.jSPlugin.id,`-mapbox" style="
        width: `).concat(o*.3333,`px;
        height: `).concat(c*.3333,`px;
      "></div>`),document.getElementById("".concat(t.jSPlugin.id,"-wrap")).insertBefore(d,document.getElementById("".concat(t.jSPlugin.id,"-ez-iframe-footer-container"))),n.map=n.loadMap("".concat(t.jSPlugin.id,"-mapbox"))}return n.map}),_t(this,"loadMap",function(n){var o=new BMapGL.Map(n);return o.centerAndZoom(new BMapGL.Point(116.297611,40.047363),15),o.enableScrollWheelZoom(!0),o}),_t(this,"createCircle",function(n,o,c,d){var u=new BMapGL.Point(n,o),k=new BMapGL.Marker(u,{title:d});if(t.map.addOverlay(k),c!=0){var P=new BMapGL.Circle(new BMapGL.Point(n,o),c,{strokeColor:"#ff4d4f",strokeWeight:4,strokeOpacity:1,strokeStyle:"dashed",fillOpacity:0});t.map.addOverlay(P)}}),_t(this,"createInspectPoints",function(n){n.map(function(o){t.createCircle(o.longitude,o.latitude,o.radius,o.inspectPointName)})}),_t(this,"createPolygon",function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#407AFF",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"solid",d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:4,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"407AFF",P=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,S=[],R=n.split(";");R.map(function(b){var _=b.split(",");S.push(new BMapGL.Point(_[0],_[1]))}),t.inspectRange=new BMapGL.Polygon(S,{strokeColor:o,strokeWeight:d,strokeOpacity:u,strokeStyle:c,fillOpacity:P,fillColor:k}),t.map.addOverlay(t.inspectRange)}),_t(this,"createTrack",function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"#18C796",d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"solid",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:4,k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,P=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,S=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,R=arguments.length>8&&arguments[8]!==void 0?arguments[8]:500,b=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,_=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1,oe=[];if(n.map(function(Ae){var qe=!1;t.currentTrack.length>0&&t.currentTrack.map(function(me){me.longitude===Ae.longitude&&me.latitude===Ae.latitude&&me.reportTime===Ae.reportTime&&(qe=!0)}),qe||(oe.length==0&&t.currentTrack.length>0&&oe.push(new BMapGL.Point(t.currentTrack[t.currentTrack.length-1].longitude,t.currentTrack[t.currentTrack.length-1].latitude)),oe.push(new BMapGL.Point(Ae.longitude,Ae.latitude)))}),oe.length!=0){var de=new BMapGL.Polyline(oe,{strokeColor:c,strokeWeight:u,strokeOpacity:k,strokeStyle:d,fillOpacity:P});if(o?(t.map.addOverlay(de),t.map.centerAndZoom(oe[oe.length-1],15)):(t.trackAni=new BMapGLLib.TrackAnimation(t.map,de,{overallView:_,tilt:S,duration:R,delay:b}),t.trackAni.start()),t.currentTrack=n,t.currentTrack.length>0&&t.currentTrack.length>0){var xe=new BMapGL.Point(t.currentTrack[0].longitude,t.currentTrack[0].latitude);if(t.startPoint=new BMapGL.Marker(xe,{icon:new BMapGL.Icon("".concat(t.jSPlugin.staticPath,"/imgs/start.png"),new BMapGL.Size(32,47)),offset:new BMapGL.Size(0,-17)}),t.map.addOverlay(t.startPoint),t.currentTrack.length==1)return;var se=new BMapGL.Point(t.currentTrack[t.currentTrack.length-1].longitude,t.currentTrack[t.currentTrack.length-1].latitude);t.endPoint&&t.map.removeOverlay(t.endPoint),setTimeout(function(){t.endPoint=new BMapGL.Marker(se,{icon:new BMapGL.Icon("".concat(t.jSPlugin.staticPath,"/imgs/end.png"),new BMapGL.Size(30,30))}),t.map.addOverlay(t.endPoint)},o?0:R)}}}),_t(this,"centerToTrack",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:15;t.currentTrack.length>0&&(t.currentTrack.length==1?t.map.centerAndZoom(new BMapGL.Point(t.currentTrack[0].longitude,t.currentTrack[0].latitude),n):t.map.centerAndZoom(new BMapGL.Point(t.currentTrack[t.currentTrack.length-1].longitude,t.currentTrack[t.currentTrack.length-1].latitude),n))}),this.jSPlugin=g,this.videoWidth=g.width,this.videoHeight=g.height,this.toastCustom=new Ds(g,!1),this.currentTrack=[],this.startPoint=null,this.endPoint=null,this.trackAni=null,this.inspectRange=null,this.map=this.initMap()}),jm=xt(function J(g){var t=this;Re(this,J),_t(this,"init",function(){var n=t;if(t.videoWidth+290,t.videoHeight+170,document.getElementById("".concat(t.jSPlugin.id,"-inspect-global-box")))document.getElementById("".concat(t.jSPlugin.id,"-inspect-global-box"))&&document.getElementById("".concat(t.jSPlugin.id,"-wrap")).removeChild(document.getElementById("".concat(t.jSPlugin.id,"-inspect-global-box"))),n.init();else{var o=document.createElement("div");o.id="".concat(t.jSPlugin.id,"-inspect-global-box"),o.style=";position: absolute; left:0; top: 0; width: 100%; height: 100%; z-index: 10000; background: #fff;",o.innerHTML='<div id="'.concat(t.jSPlugin.id,`-inspect-loading-box" style="
        overflow: auto;
        box-sizing: border-box;
        font-size: 14px;
        color: #595959;
        line-height: 24px;
        font-weight: bold;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
      ">
      <div>
      <div style="text-align:center;"><div type="default" class="ezuikit-spin ezuikit-spin-spinning"><span class="ezuikit-spin-dot ezuikit-spin-dot-spin ezuikit-spin-dot-default"><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i></span></div></div>
      <div style="color: #595959; font-size:14px; font-weight: 400; text-align: center;">加载中…</div>
      </div></div>
      `),document.getElementById("".concat(t.jSPlugin.id,"-wrap")).appendChild(o)}}),_t(this,"deviceErrorInfo",function(n,o){var c={tips:"",refreshBtn:"",refreshShow:!1},d=Object.assign(c,n);if(document.getElementById("".concat(t.jSPlugin.id,"-no-inspect-box")))document.getElementById("".concat(t.jSPlugin.id,"-no-inspect-box"))&&document.getElementById("".concat(t.jSPlugin.id,"-inspect-global-box")).removeChild(document.getElementById("".concat(t.jSPlugin.id,"-no-inspect-box"))),t.deviceErrorInfo(n,o);else{t.videoHeight+170;var u=document.createElement("div");u.id="".concat(t.jSPlugin.id,"-no-inspect-box"),u.style="width:100%;height:100%; background: #ffffff; display: flex; justify-content: center; align-items: center",u.innerHTML=`<div style="
        overflow: auto;
        box-sizing: border-box;
        font-size: 14px;
        color: #595959;
        text-align: center;
      ">
      <div style="text-align:center; height: 21px;">
      <svg t="1689074472491" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7172" xmlns:xlink="http://www.w3.org/1999/xlink" width="21" height="21"><path d="M512 64a448 448 0 1 0 0 896A448 448 0 0 0 512 64z m-32 232c0-4.416 3.584-8 8-8h48c4.416 0 8 3.584 8 8v272A8 8 0 0 1 536 576h-48a8 8 0 0 1-8-8v-272zM512 736A48 48 0 1 1 512 640a48 48 0 0 1 0 96z" fill="#FF4D4F" p-id="7173"></path></svg>
      </div>
      <div style="color: #595959; font-size:14px; margin: 5px 0 16px;font-weight: 400; text-align: center;">`.concat(d.tips,`</div>
      <button id="`).concat(t.jSPlugin.id,'-inspect-device-status-refresh" style="display: ').concat(d.refreshShow?"block":"none",';  width: 80px; margin: 0 auto;" type="button" class="ezuikit-btn ezuikit-btn-primary"><span>').concat(d.refreshBtn,`</span></button>
      </div>
      `),document.getElementById("".concat(t.jSPlugin.id,"-inspect-global-box")).appendChild(u),document.getElementById("".concat(t.jSPlugin.id,"-inspect-device-status-refresh")).addEventListener("click",function(){o&&o()})}}),_t(this,"globalContainerToggle",function(n,o){document.getElementById(n)&&(document.getElementById(n).style.display=o?"flex":"none")}),this.jSPlugin=g,this.videoWidth=g.width,this.videoHeight=g.height,this.toastCustom=new Ds(g,!1),this.init()}),to=function(){function J(g){Re(this,J),this.timer=null;var t={wrapNode:document.body,time:2e3,content:"",type:"info",center:!1,top:8};this.params=Z(Z({},t),g),this.init()}return xt(J,[{key:"init",value:function(){var t=this;this.timer=null;var n=this.params,o=n.wrapNode,c=n.content,d=n.time,u=n.type,k=n.center,P=n.top;this.wrapNode=o;var S=document.createElement("div");S.setAttribute("class","ezuikit-message"),k?S.setAttribute("style","top: 50%; transform: translateY(-50%);"):S.setAttribute("style","top: ".concat(P||0,"px;")),this.wrapNode.appendChild(S),this.initMessageContent(u,c,S),d!==0&&(this.timer=setTimeout(function(){t.wrapNode.removeChild(S)},d||2e3))}},{key:"initMessageContent",value:function(t,n,o){var c=document.createElement("div");c.setAttribute("class","ezuikit-message-notice"),c.innerHTML=`
			<div class="ezuikit-message-notice-content">
				<div class="ezuikit-message-custom-content ezuikit-message-`.concat(t,`">
					<span role="img" aria-label="check-circle" class="ezdicon ezdicon-check-circle">
						`).concat(t==="warning"?'<svg fill="currentColor" t="1691567271942" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em"><path d="M512 64a448 448 0 1 0 0 896A448 448 0 0 0 512 64z m-32 232c0-4.416 3.584-8 8-8h48c4.416 0 8 3.584 8 8v272A8 8 0 0 1 536 576h-48a8 8 0 0 1-8-8v-272zM512 736A48 48 0 1 1 512 640a48 48 0 0 1 0 96z"></path></svg>':"",`
						`).concat(t==="info"?'<svg fill="currentColor" t="1691567317943" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em"><path d="M512 64a448 448 0 1 0 0 896A448 448 0 0 0 512 64z m32 664a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-272c0-4.416 3.584-8 8-8h48c4.416 0 8 3.584 8 8v272zM512 384a48 48 0 1 1 0-96A48 48 0 0 1 512 384z"></path></svg>':"",`
						`).concat(t==="error"?'<svg fill="currentColor" t="1691567308585" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em"><path d="M512 64a448 448 0 1 0 0 896A448 448 0 0 0 512 64z m165.376 618.24l-65.92-0.32L512 563.392l-99.328 118.4-66.048 0.32a7.936 7.936 0 0 1-8-8c0-1.92 0.64-3.712 1.92-5.184L470.528 513.92 340.48 359.04a8 8 0 0 1 6.08-13.184l66.112 0.256L512 464.576l99.328-118.4 65.92-0.256c4.48 0 8.064 3.456 8.064 8a8.32 8.32 0 0 1-1.92 5.12l-129.92 154.944 130.048 155.008a8 8 0 0 1-6.08 13.184z"></path></svg>':"",`
						`).concat(t==="success"?'<svg fill="currentColor" viewBox="64 64 896 896" focusable="false" data-icon="check-circle" width="1em" height="1em" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"></path></svg>':"",`
					</span>
					<span>`).concat(n,`</span>
				</div>
			</div>
			`),o.appendChild(c)}}]),J}(),fh=function(){function J(g){Re(this,J);var t={id:"",width:"100%",height:"100%",preview:!0,showIcon:!0,src:"",alt:"",fallback:"https://img.ys7.com/group32/M00/81/9D/CtxIA2HnrGyADm_jAAAFfWjIDJs811.png"};this.params=Z(Z({},t),g),this.id=Math.random().toString(36).substr(2),this.init()}return xt(J,[{key:"init",value:function(){var t=this.params,n=t.id,o=t.width,c=t.height,d=t.preview;if(document.getElementById(n)){var u=document.createElement("div");u.setAttribute("class","ezuikit-image"),u.setAttribute("style","width:".concat(o,";height:").concat(c,";")),document.getElementById(n).appendChild(u),this.initImage(u),d&&this.initPreview(u)}}},{key:"previewImg",value:function(){var t=this.params,n=t.src,o=t.alt,c=t.fallback,d=document.createElement("div");d.setAttribute("id",this.id+"-preview"),d.setAttribute("class","ezuikit-image-preview"),d.innerHTML=`
			<div class="ezuikit-image-preview-mask"></div>
			<div class="ezuikit-image-preview-img-wrapper">
				<div class="ezuikit-image-preview-operations" id="`.concat(this.id,`-ezuikit-image-preview-operations">
					<div class="ezuikit-image-preview-operations-operation">
						<span role="img" aria-label="close" class="anticon anticon-close ezuikit-image-preview-operations-icon">
							<svg viewBox="64 64 896 896" focusable="false" data-icon="close" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path></svg>
						</span>
					</div>
				</div>
				<div class="ezuikit-image-preview-wrap">
					<div class="ezuikit-image-preview-img-main"></div>
				</div>
			</div>
			`);var u=document.createElement("img");u.setAttribute("class","ezuikit-image-preview-img"),u.setAttribute("alt",o),u.setAttribute("src",n),u.addEventListener("error",function(){u.setAttribute("src",c)}),document.body.appendChild(d),d.querySelector(".ezuikit-image-preview-img-main").appendChild(u),document.getElementById(this.id+"-ezuikit-image-preview-operations").addEventListener("click",function(){document.body.removeChild(d)})}},{key:"initImage",value:function(t){var n=this.params,o=n.src,c=n.alt,d=n.fallback,u=document.createElement("img");u.setAttribute("class","ezuikit-image-img"),u.setAttribute("alt",c),u.setAttribute("src",o),u.addEventListener("error",function(){u.setAttribute("src",d)}),t.appendChild(u)}},{key:"initPreview",value:function(t){var n=this,o=this.params.showIcon,c=document.createElement("div");c.setAttribute("class","ezuikit-image-mask"),o&&(c.innerHTML=`
				<div class="ezuikit-image-mask-info">
					<span class="ezuikit-image-anticon-eye">
						<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em"  aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>
						预览
					</span>
				</div>
				`),t.appendChild(c),t.onclick=function(){n.previewImg()}}}]),J}(),Um=function(){function J(g){Re(this,J);var t={id:"",parentNodeId:"",title:"",content:"",placement:"top",cancelText:"取消",arrowPointAtCenter:!1,okText:"确定",onCancel:function(){},onConfirm:function(){}};this.params=Z(Z({},t),g),this.initState=!1,this.init(g)}return xt(J,[{key:"init",value:function(){var t=this,n=this.params,o=n.id,c=n.content,d=n.placement,u=n.title,k=document.getElementById(o);if(k){var P=document.createElement("div");if(P.setAttribute("id",o+"-popover"),P.setAttribute("class","ezuikit-popover"),P.setAttribute("style","display:none;"),P.innerHTML=`
					<div class="ezuikit-popover-arrow">
						<span class="ezuikit-popover-arrow-content"></span>
					</div>
					<div class="ezuikit-popover-inner">
						`.concat(u?'<div class="ezuikit-popover-title">'.concat(u,"</div>"):"",`
						<div class="ezuikit-popover-inner-content">`).concat(c,`</div>
					</div>
				`),!document.getElementById(o+"-popover")){var S=document.body;this.params.parentNodeId&&(S=document.getElementById(this.params.parentNodeId)),S.appendChild(P),this.renderPopover(P,k,d)}document.body.addEventListener("click",function(R){t.addEventListenerFn(R)})}}},{key:"addEventListenerFn",value:function(t){var n=this.params.id,o=document.getElementById(n),c=document.getElementById(n+"-popover");o&&!(t.target===o||o.contains(t.target))&&c&&!(t.target===c||c.contains(t.target))&&this.hidePopover()}},{key:"hidePopover",value:function(){var t=this.params.id,n=document.getElementById(t+"-popover");n&&document.body.removeChild(n)}},{key:"renderPopover",value:function(t,n,o,c,d){t.style.display="block";var u=n.getBoundingClientRect(),k=u.top,P=u.left,S=u.width,R=u.height,b=t.getBoundingClientRect(),_=b.width,oe=b.height;c&&(_=c),d&&(oe=d);var de=document.body;this.params.parentNodeId&&(de=document.getElementById(this.params.parentNodeId));var xe=this.params.arrowPointAtCenter,se=0,Ae=0,qe=t.getElementsByClassName("ezuikit-popover-arrow")[0],me=qe.getBoundingClientRect(),m=me.width,U=me.height;if(xe){var le=0,re=0;switch(o){case"top":le=_/2,re=oe;break;case"bottom":le=_/2,re=0;break;case"left":le=_,re=oe/2;break;case"right":le=0,re=oe/2;break;case"topLeft":le=(S-m)/2,re=oe;break;case"topRight":le=_-(S+m)/2,re=oe;break;case"bottomLeft":le=(S-m)/2,re=0;break;case"bottomRight":le=_-(S+m)/2,re=0;break;case"leftTop":le=_,re=(R-U)/2;break;case"leftBottom":le=_,re=oe-(R+U)/2;break;case"rightTop":le=0,re=(R-10)/2;break;case"rightBottom":le=0,re=oe-(R+U)/2;break;default:le=_/2,re=oe;break}qe.style.left=le+"px",qe.style.top=re+"px"}switch(o){case"top":se=-(oe+U),Ae=(S-_)/2,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-top");break;case"bottom":se=R-U/2,Ae=(S-_)/2,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-bottom");break;case"left":se=(R-oe)/2,Ae=-(_+m/2),t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-left");break;case"right":se=(R-oe)/2,Ae=S-m/2,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-right");break;case"topLeft":se=-(oe+U),Ae=0,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-topLeft");break;case"topRight":se=-(oe+U),Ae=S-_,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-topRight");break;case"bottomLeft":se=R-U/2,Ae=0,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-bottomLeft");break;case"bottomRight":se=R-U/2,Ae=S-_,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-bottomRight");break;case"leftTop":se=0,Ae=-(_+m/2),t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-leftTop");break;case"leftBottom":se=R-oe,Ae=-(_+m/2),t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-leftBottom");break;case"rightTop":se=0,Ae=S-m/2,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-rightTop");break;case"rightBottom":se=R-oe,Ae=S-m/2,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-rightBottom");break;default:se=-oe,Ae=(S-_)/2,t.setAttribute("class","ezuikit-popover ezuikit-popover-placement-top");break}var Pe=document.documentElement.scrollTop||document.body.scrollTop,fe=document.documentElement.scrollLeft||document.body.scrollLeft;t.style.top=k+Pe+se+"px",t.style.left=P+fe+Ae+"px";var $e=t.getBoundingClientRect(),ot=de===document.body?{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:de.getBoundingClientRect(),F=o;$e.left<ot.left&&(F=F.replace("Right","Left"),F=F.replace("right","left")),$e.right>ot.right&&(F=F.replace("Left","Right"),F=F.replace("left","right")),$e.top<ot.top&&(F=F.replace("Top","Bottom"),F=F.replace("top","bottom")),$e.bottom>ot.bottom&&(F=F.replace("Bottom","Top"),F=F.replace("bottom","top")),F!==o&&this.renderPopover(t,n,F,_,oe)}}]),J}(),Pd=function(){function J(g){Re(this,J);var t={id:"",content:"",placement:"top",cancelText:"取消",arrowPointAtCenter:!1,okText:"确定",onCancel:function(){},onConfirm:function(){}};this.params=Z(Z({},t),g),this.PopconfirmDom=null,this.init(g)}return xt(J,[{key:"init",value:function(){var t=this,n=this.params,o=n.content,c=n.cancelText,d=n.okText,u=n.onCancel,k=n.onConfirm,P=document.createElement("div");P.innerHTML=`
      <div class="ezuikit-confirm">
        <div class="ezuikit-confirm-content">
					<span class="ezuikit-confirm-icon">
          	<svg fill="currentColor" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><path d="M512 64a448 448 0 1 0 0 896A448 448 0 0 0 512 64z m-32 232c0-4.416 3.584-8 8-8h48c4.416 0 8 3.584 8 8v272A8 8 0 0 1 536 576h-48a8 8 0 0 1-8-8v-272zM512 736A48 48 0 1 1 512 640a48 48 0 0 1 0 96z"></path></svg>
          </span>
					<span class="ezuikit-confirm-content-label">`.concat(o,`</span>
        </div>
        <div class="ezuikit-popover-buttons"></div>
      </div>
      `);var S=document.createElement("button");S.className="ezuikit-btn ezuikit-cancel-btn",S.innerText=c;var R=document.createElement("button");return R.className="ezuikit-btn ezuikit-ok-btn ezuikit-btn-primary",R.innerText=d,P.querySelector(".ezuikit-popover-buttons").appendChild(S),P.querySelector(".ezuikit-popover-buttons").appendChild(R),this.PopconfirmDom=new Um(Z(Z({},this.params),{},{content:P.innerHTML})),document.getElementById("".concat(this.params.id,"-popover")).querySelector(".ezuikit-cancel-btn")&&(document.getElementById("".concat(this.params.id,"-popover")).querySelector(".ezuikit-cancel-btn").onclick=function(){u?u():t.hide()}),document.getElementById("".concat(this.params.id,"-popover")).querySelector(".ezuikit-ok-btn")&&(document.getElementById("".concat(this.params.id,"-popover")).querySelector(".ezuikit-ok-btn").onclick=function(){k?k():t.hide()}),this.PopconfirmDom}},{key:"hide",value:function(){this.PopconfirmDom.hidePopover()}}]),J}(),hh=function(){function J(g){Re(this,J);var t={id:"",width:"100%",height:"100%",preview:!0,poster:"",fallback:"https://img.ys7.com/group32/M00/81/9D/CtxIA2HnrGyADm_jAAAFfWjIDJs811.png",src:""};this.params=Z(Z({},t),g),this.id=Math.random().toString(36).substr(2),this.init()}return xt(J,[{key:"init",value:function(){var t=this.params,n=t.id,o=t.width,c=t.height,d=t.preview;if(document.getElementById(n)){var u=document.createElement("div");u.setAttribute("class","ezuikit-video"),u.setAttribute("style","width:".concat(o,";height:").concat(c,";")),document.getElementById(n).appendChild(u),this.initVideo(u),d&&this.initPreview(u)}}},{key:"previewVideo",value:function(){var t=this.params.src,n=document.createElement("div");n.setAttribute("id",this.id+"-preview"),n.setAttribute("class","ezuikit-image-video"),n.innerHTML=`
			<div class="ezuikit-video-preview-mask"></div>
			<div class="ezuikit-video-preview-img-wrapper">
				<div class="ezuikit-video-preview-operations" id="`.concat(this.id,`-ezuikit-video-preview-operations">
					<div class="ezuikit-video-preview-operations-operation">
						<span role="img" aria-label="close" class="anticon anticon-close ezuikit-video-preview-operations-icon">
							<svg viewBox="64 64 896 896" focusable="false" data-icon="close" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path></svg>
						</span>
					</div>
				</div>
				<div class="ezuikit-video-preview-wrap">
					<div class="ezuikit-video-preview-img-wrapper">
						<video
							class="ezuikit-video-preview-img custom-controls"
							src="`).concat(t,`"
							autoplay 
							controls 
							controlslist="nodownload noremoteplayback noplaybackrate"
							disablePictureInPicture
							disableRemotePlayback
						/>
					</div>
				</div>
			</div>
			`),document.body.appendChild(n),document.getElementById(this.id+"-ezuikit-video-preview-operations").addEventListener("click",function(){document.body.removeChild(n)})}},{key:"initVideo",value:function(t){var n=this.params,o=n.poster,c=n.fallback,d=document.createElement("img");d.setAttribute("class","ezuikit-video-img"),d.setAttribute("src",o),d.addEventListener("error",function(){d.setAttribute("src",c)}),t.appendChild(d)}},{key:"initPreview",value:function(t){var n=this,o=document.createElement("div");o.setAttribute("class","ezuikit-video-mask"),o.innerHTML=`
			<div class="ezuikit-video-mask-info">
				<span class="ezuikit-video-anticon-eye">
					<svg width="28" height="28" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 28 28" style="enable-background:new 0 0 28 28;" xml:space="preserve">
					<circle cx="14" cy="14" r="14" style="opacity:0.7;fill-rule:evenodd;clip-rule:evenodd;enable-background:new;"/>
					<path style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;" d="M18.3,15.2l-5.3,3.3c-0.7,0.4-1.6,0.2-2.1-0.5c-0.1-0.2-0.2-0.5-0.2-0.8v-6.6
						c0-0.8,0.7-1.5,1.5-1.5c0.3,0,0.6,0.1,0.8,0.2l5.3,3.3c0.7,0.4,0.9,1.4,0.5,2.1C18.6,14.9,18.4,15,18.3,15.2z"/>
					</svg>
				</span>
			</div>
			`,t.appendChild(o),t.onclick=function(){n.previewVideo()}}}]),J}(),Hm=function(g,t,n){var o=function(S){t&&t(S)},c=function(S){n&&n(S)},d={accessToken:g.accessToken,deviceSerial:Nn(g.url).deviceSerial},u={"Content-Type":"application/x-www-form-urlencoded"},k="".concat(g.env.domain,"/api/service/devicekit/bodycamera/inspect/detail/latest");Jo(k,"GET",d,o,c,u)},xh=function(g,t,n,o){var c=function(R){n&&n(R)},d=function(R){o&&o(R)},u={accessToken:g.accessToken,inspectRecordId:t,page:0},k={"Content-Type":"application/x-www-form-urlencoded"},P="".concat(g.env.domain,"/api/service/devicekit/bodycamera/device/trace");Jo(P,"GET",u,c,d,k)},Vm=function(g,t,n){var o=function(S){t&&t(S)},c=function(S){n&&n(S)},d={accessToken:g.accessToken,deviceSerial:Nn(g.url).deviceSerial},u={"Content-Type":"application/x-www-form-urlencoded"},k="".concat(g.env.domain,"/api/service/devicekit/bodycamera");Jo(k,"GET",d,o,c,u)},Gm=function(g,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:30,c=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0,u=function(_){c&&c(_)},k=function(_){d&&d(_)},P={accessToken:g.accessToken,inspectRecordId:t,pageStart:n,pageSize:o},S={"Content-Type":"application/x-www-form-urlencoded"},R="".concat(g.env.domain,"/api/service/devicekit/bodycamera/inspect/event/page");Jo(R,"GET",P,u,k,S)},ph=function(g,t,n,o){var c=function(R){n&&n(R)},d=function(R){o&&o(R)},u={accessToken:g.accessToken,deviceSerial:Nn(g.url).deviceSerial,validateCode:Nn(g.url).validCode,channelNo:Nn(g.url).channelNo,evidenceFileType:t},k={"Content-Type":"application/x-www-form-urlencoded"},P="".concat(g.env.domain,"/api/service/devicekit/common/file/evidence");Jo(P,"POST",u,c,d,k)},Wm=function(g,t,n,o){var c=function(R){n&&n(R)},d=function(R){o&&o(R)},u={accessToken:g.accessToken,taskId:t},k={"Content-Type":"application/x-www-form-urlencoded"},P="".concat(g.env.domain,"/api/v3/open/cloud/video/frame/stop");Jo(P,"POST",u,c,d,k)},mh=function(g,t,n,o){var c=function(R){n&&n(R)},d=function(R){o&&o(R)},u={accessToken:g.accessToken,taskId:t},k={"Content-Type":"application/x-www-form-urlencoded"},P="".concat(g.env.domain,"/api/service/devicekit/opencloud/task/info");Jo(P,"GET",u,c,d,k)},Zm=function(g,t,n,o){var c={accessToken:g.accessToken,inspectRecordId:"",eventType:"",evidenceFileId:"",eventTime:"",eventBeginTime:"",eventEndTime:"",depositaryOfficer:"",eventRemark:"",evidenceFileType:""},d=function(b){n&&n(b)},u=function(b){o&&o(b)},k=Object.assign(c,t),P={"Content-Type":"application/x-www-form-urlencoded"},S="".concat(g.env.domain,"/api/service/devicekit/bodycamera/inspect/event");Jo(S,"POST",k,d,u,P)},Ym=function(g,t,n,o){var c={accessToken:g.accessToken,inspectRecordId:"",inspectEventId:"",eventType:"",eventRemark:""},d=function(b){n&&n(b)},u=function(b){o&&o(b)},k=Object.assign(c,t),P={"Content-Type":"application/x-www-form-urlencoded"},S="".concat(g.env.domain,"/api/service/devicekit/bodycamera/inspect/event/update");Jo(S,"POST",k,d,u,P)},Xm=function(g,t,n,o){var c={accessToken:g.accessToken,inspectEventId:""},d=function(b){n&&n(b)},u=function(b){o&&o(b)},k=Object.assign(c,t),P={"Content-Type":"application/x-www-form-urlencoded"},S="".concat(g.env.domain,"/api/service/devicekit/bodycamera/inspect/event/delete");Jo(S,"POST",k,d,u,P)};function qm(J){var g=parseInt(J%864e5/36e5),t=parseInt(J%(1e3*60*60)/(1e3*60)),n=parseInt(J%(1e3*60)/1e3);return(g<10?"0".concat(g):g)+":"+(t<10?"0".concat(t):t)+":"+(n<10?"0".concat(n):n)}var wd=function(){function J(g){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){};Re(this,J),this.jSPlugin=g,this.currentEventInfo=t,this.inspectInfo=g.Theme.inspect.inspectInfo,this.type=o,this.timer=n,this.startTime=1e3,this.videoRecordingStatus=!0,this.saveSuccessCallback=c,this.init()}return xt(J,[{key:"init",value:function(){this.renderEventDetail(),this.eventDetailDomEvent()}},{key:"show",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-inspect-event-detail-wrap")).setAttribute("class","inspect-event-detail-wrap show")}},{key:"hide",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-inspect-event-detail-wrap")).setAttribute("class","inspect-event-detail-wrap"),document.getElementById("".concat(this.jSPlugin.id,"-inspect-event-detail-box")).innerHTML=""}},{key:"validationEventTag",value:function(){var t=document.getElementById("".concat(this.jSPlugin.id,"-event-tag")).value;return t.length==0?(document.getElementById("".concat(this.jSPlugin.id,"-event-tag-error")).style.display="block",document.getElementById("".concat(this.jSPlugin.id,"-event-tag-error")).innerHTML="请输入事件标签",document.getElementById("".concat(this.jSPlugin.id,"-event-tag")).setAttribute("class","ezuikit-input input-has-error"),!1):(document.getElementById("".concat(this.jSPlugin.id,"-event-tag-error")).style.display="none",document.getElementById("".concat(this.jSPlugin.id,"-event-tag")).setAttribute("class","ezuikit-input"),!0)}},{key:"renderVideo",value:function(t,n,o){var c=this;if(document.getElementById("".concat(this.jSPlugin.id,"-inspectEventDetail-videoPreview")).innerHTML="",t===1||t===2){if(document.getElementById("".concat(this.jSPlugin.id,"-inspectEventDetail-videoPreview")).innerHTML=`
      <div class="video-stroage-exceptional-status-tips-wrap" style="background:url(`.concat(this.jSPlugin.staticPath,`/imgs/bg.svg) no-repeat 100%/cover">
        <div class="video-stroage-exceptional-status-icon">
        <div type="default" class="ezuikit-spin ezuikit-spin-sm ezuikit-spin-spinning ezuikit-spin-dot-white"><span class="ezuikit-spin-dot ezuikit-spin-dot-spin ezuikit-spin-dot-default"><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i></span></div>
        </div>
        <span class="video-stroage-exceptional-status-tips">视频正在存储中…</span>
      </div>
     `),this.type!==1){var d=this.currentEventInfo.evidenceId;this.timer.clearTimer("videoRecordingStatusTimer"),this.timer.createInterval("videoRecordingStatusTimer",function(){mh(c.jSPlugin,d,function(u){if(u.meta&&u.meta.code===200){var k=u.data,P=k.taskStatus,S=k.fileUrl,R=k.videoCoverPic,b=R||"".concat(c.jSPlugin.staticPath,"/imgs/bg.svg");c.renderVideo(P,b,S)}})},1e3)}}else t===4||t===5||t===6||t===7?(document.getElementById("".concat(this.jSPlugin.id,"-inspectEventDetail-videoPreview")).innerHTML=`
        <div class="video-stroage-exceptional-status-tips-wrap video-stroage-exceptional-status-tips-error" style="background:url(`.concat(this.jSPlugin.staticPath,`/imgs/bg.svg) no-repeat 100%/cover">
          <div class="video-stroage-exceptional-status-icon">
            <svg fill="currentColor" t="1691567317943" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em"><path d="M512 64a448 448 0 1 0 0 896A448 448 0 0 0 512 64z m32 664a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-272c0-4.416 3.584-8 8-8h48c4.416 0 8 3.584 8 8v272zM512 384a48 48 0 1 1 0-96A48 48 0 0 1 512 384z"></path></svg>
          </div>
          <span class="video-stroage-exceptional-status-tips">视频存储失败</span>
        </div>
       `),this.timer.clearTimer("videoRecordingStatusTimer")):(t===0||t===3)&&(new hh({id:"".concat(this.jSPlugin.id,"-inspectEventDetail-videoPreview"),poster:n,fallback:"".concat(this.jSPlugin.staticPath,"/imgs/bg.svg"),src:o}),this.timer.clearTimer("videoRecordingStatusTimer"))}},{key:"renderEventDetail",value:function(){var t=this,n=this.currentEventInfo,o=n.evidenceFileType,c=n.fileUrl,d=n.taskStatus,u=n.videoCoverPic,k=document.createElement("div");k.setAttribute("class","inspectEventDetail");var P="";if(o===1?P=u||"".concat(this.jSPlugin.staticPath,"/imgs/bg.svg"):P=c||"".concat(this.jSPlugin.staticPath,"/imgs/bg.svg"),k.innerHTML=`
      <div class="inspectEventDetail-header">
        <div class="inspectEventDetail-back" id="`.concat(this.jSPlugin.id,`-inspectEventDetail-back">
          <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M605.888 137.344a6.4 6.4 0 0 1 1.472 4.032l0.64 70.784a6.4 6.4 0 0 1-2.368 5.056L281.6 480H876.8v64H279.744l325.376 264a6.4 6.4 0 0 1 2.368 4.928l0.128 69.632a6.4 6.4 0 0 1-10.432 4.992l-422.016-342.4a42.24 42.24 0 0 1-7.04-57.344l3.264-3.904 3.776-3.456 421.76-344a6.4 6.4 0 0 1 8.96 0.896z"></path></svg>
        </div>
        <div class="inspectEventDetail-type">`).concat(this.type===1?"编辑":"").concat(o===0?"图片存证":"视频存证",`</div>
      </div>
      <div class="inspectEventDetail-content" style="
        height: `).concat(document.getElementById("".concat(this.jSPlugin.id,"-wrap")).clientHeight-58-158,`px;
        overflow: auto;
      ">
        `).concat(o===0?`<div class="inspectEventDetail-content-img-box">
            <p class="inspectEventDetail-content-img-tips" style="display: `.concat(this.type==1?"none":"blcok",`;">图片已取证，请填写存证信息：</p>
            <div class="inspectEventDetail-content-img-detail" id="`).concat(this.jSPlugin.id,`-inspectEventDetail-picUrl"></div>
          </div>`):`<div class="inspectEventDetail-content-video-box">
            <div
              id="`.concat(this.jSPlugin.id,`-inspectEventDetail-content-video-timer"
              class="inspectEventDetail-content-video-timer"
              style="display: `).concat(this.type==1?"none":"flex",`;"
            >
              <div class="video-recording-time-wrap">
                <svg fill="currentColor" width="10" height="10" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" style="enable-background:new 0 0 10 10;" xml:space="preserve"><circle class="st0" cx="5" cy="5" r="3"/><path class="st1" d="M5,10c-2.8,0-5-2.2-5-5c0-2.8,2.2-5,5-5s5,2.2,5,5C10,7.8,7.8,10,5,10z M5,0.5c-2.5,0-4.5,2-4.5,4.5c0,2.5,2,4.5,4.5,4.5s4.5-2,4.5-4.5C9.5,2.5,7.5,0.5,5,0.5z"/></svg>
                <div id="`).concat(this.jSPlugin.id,`-video-recording-time" class="video-recording-time">00:00:00</div>
              </div>
              <button id="`).concat(this.jSPlugin.id,`-video-recording-stop-btn" class="inspectEventDetail-stop-btn ezuikit-btn">
              <span style="display:none" class="ezuikit-btn-loading-icon" style=""><span role="img" aria-label="loading" class="anticon anticon-loading anticon-spin"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg></span></span>
              停止录制
              </button>
            </div>
            <div id="`).concat(this.jSPlugin.id,'-inspectEventDetail-content-video-info" class="inspectEventDetail-content-video-info" style="display: ').concat(this.type==1?"block":"none",`;">
              <p class="inspectEventDetail-content-video-tips" style="display: `).concat(this.type==1?"none":"blcok",`;">视频已取证：</p>
              <div class="inspectEventDetail-content-video-detail" id="`).concat(this.jSPlugin.id,`-inspectEventDetail-videoPreview"></div>
            </div>
          </div>`),`
        <div class="inspectEventDetail-content-info">
          <div class="inspectEventDetail-content-info-item">
            <div class="inspectEventDetail-content-info-item-title">事件时间：</div>
            <div id="`).concat(this.jSPlugin.id,`-inspectEventDetail-content-info-time" class="inspectEventDetail-content-info-item-value"></div>
          </div>
          <div class="inspectEventDetail-content-info-item">
            <div class="inspectEventDetail-content-info-item-title">存证人员：</div>
            <div class="inspectEventDetail-content-info-item-value">
              `).concat(this.type===1?this.currentEventInfo.depositaryOfficer?this.currentEventInfo.depositaryOfficer==="null"?"-":this.currentEventInfo.depositaryOfficer:"-":this.inspectInfo.inspectPerson?this.inspectInfo.inspectPerson==="null"?"-":this.inspectInfo.inspectPerson:"-",`
            </div>
          </div>
          <div class="inspectEventDetail-content-info-item">
            <div class="inspectEventDetail-content-info-item-title inspectEventDetail-content-info-item-title-required">事件标签：</div>
            <div class="ezuikit-form-item-control-input">
              <div class="ezuikit-form-item-control-input-content">
                <input
                  id="`).concat(this.jSPlugin.id,`-event-tag"
                  maxlength="32"
                  type="text"
                  autocomplete="off"
                  id="control-ref_note"
                  class="ezuikit-input"
                  placeholder="请输入事件标签"
                  value="`).concat(this.type===1&&this.currentEventInfo.eventType||"",`"
                />
              </div>
              <div class="ezuikit-form-item-explain ezuikit-form-item-explain-connected">
                <div id="`).concat(this.jSPlugin.id,`-event-tag-error" class="ezuikit-form-item-explain-error" style="display: none">请输入事件标签</div>
              </div>
            </div>
          </div>
          <div class="inspectEventDetail-content-info-item">
            <div class="inspectEventDetail-content-info-item-title">事件备注：</div>
            <div class="ezuikit-input-textarea ezuikit-input-textarea-show-count" data-count="`).concat(this.type===1&&this.currentEventInfo.eventRemark?this.currentEventInfo.eventRemark.length:0,` / 100">
              <textarea
              id="`).concat(this.jSPlugin.id,`-event-remark"
              maxlength="100"
              class="ezuikit-input"
              maxlength="100"
              placeholder="请输入事件备注"
              autocomplete="off"
              >`).concat(this.type===1&&this.currentEventInfo.eventRemark||"",`</textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="inspectEventDetail-footer">
        <button id="`).concat(this.jSPlugin.id,`-event-cancel" class="inspectEventDetail-footer-btn ezuikit-btn">取消</button>
        <button id="`).concat(this.jSPlugin.id,`-event-ok" class="inspectEventDetail-footer-btn ezuikit-btn ezuikit-btn-primary">保存</button>
      </div>
    `),document.getElementById("".concat(this.jSPlugin.id,"-inspect-event-detail-box")).appendChild(k),this.type===1?document.getElementById("".concat(this.jSPlugin.id,"-inspectEventDetail-content-info-time")).innerHTML="".concat(o===1?this.currentEventInfo.eventBeginTime+" ~ "+this.currentEventInfo.eventEndTime:this.currentEventInfo.eventTime):(document.getElementById("".concat(this.jSPlugin.id,"-inspectEventDetail-content-info-time")).innerHTML="".concat(new Date().Format("yyyy-MM-dd hh:mm:ss")).concat(o===1?" ~ -":""),o===1&&document.getElementById("".concat(this.jSPlugin.id,"-video-recording-time"))&&this.videoRecordingStatus&&(this.type===0&&document.getElementById("".concat(this.jSPlugin.id,"-event-ok")).setAttribute("disabled","disabled"),this.timer.createInterval("videoRecordingTimer",function(){t.startTime&&(document.getElementById("".concat(t.jSPlugin.id,"-video-recording-time")).innerHTML=qm(t.startTime)),t.startTime+=1e3,t.startTime>t.jSPlugin.inspectRecordingDuration&&(document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn")).click(),t.timer&&t.timer.clearTimer("videoRecordingTimer"))},1e3))),o===1){var S=this.currentEventInfo&&this.currentEventInfo.fileUrl;this.renderVideo(d,P,S)}else new fh({id:"".concat(this.jSPlugin.id,"-inspectEventDetail-picUrl"),src:P,fallback:"".concat(this.jSPlugin.staticPath,"/imgs/fallback.svg"),showIcon:!1});this.show()}},{key:"eventDetailDomEvent",value:function(){var t=this,n=this.currentEventInfo,o=n.evidenceFileType,c=n.evidenceId;document.getElementById("".concat(this.jSPlugin.id,"-event-cancel")).addEventListener("click",function(d){t.cancelPopover=new Pd({id:"".concat(t.jSPlugin.id,"-event-cancel"),content:"确定要取消吗？".concat(t.type===1?"取消后编辑的内容将不会保存。":"取消后对应存证也将删除。"),placement:"topRight",arrowPointAtCenter:!0,onCancel:function(){t.cancelPopover.hide()},onConfirm:function(){o===1&&(t.videoRecordingStatus&&t.type===0&&(t.timer&&t.timer.clearTimer("videoRecordingTimer"),t.startTime=1e3,document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn")).click()),t.timer.clearTimer("videoRecordingStatusTimer")),t.cancelPopover.hide(),t.hide()}})}),document.getElementById("".concat(this.jSPlugin.id,"-event-ok")).addEventListener("click",function(){var d=t.validationEventTag();if(d){var u=t.currentEventInfo,k=u.evidenceFileType,P=u.evidenceId,S=t.inspectInfo,R=S.inspectRecordId,b=S.inspectPerson,_=document.getElementById("".concat(t.jSPlugin.id,"-inspectEventDetail-content-info-time")).innerHTML,oe={inspectRecordId:R,depositaryOfficer:b,evidenceFileId:P,evidenceFileType:k,eventType:document.getElementById("".concat(t.jSPlugin.id,"-event-tag")).value,eventRemark:document.getElementById("".concat(t.jSPlugin.id,"-event-remark")).value};k===1&&(oe.eventBeginTime=_.split("~")[0].trim(),oe.eventEndTime=_.split("~")[1].trim(),t.timer.clearTimer("videoRecordingStatusTimer")),k===0&&(oe.eventTime=_),t.type===1&&(oe.inspectEventId=t.currentEventInfo.inspectEventId,delete oe.depositaryOfficer,delete oe.eventTime,delete oe.eventBeginTime,delete oe.eventEndTime,delete oe.evidenceFileId,delete oe.evidenceFileType,Ym(t.jSPlugin,oe,function(de){de.meta&&de.meta.code===200?(t.hide(),t.saveSuccessCallback&&t.saveSuccessCallback({eventType:oe.eventType,eventRemark:oe.eventRemark})):new to({type:"error",content:"保存失败，".concat(de.meta&&de.meta.message||"请稍后重试！"),wrapNode:document.getElementById("".concat(t.jSPlugin.id,"-inspect-event-box")),top:40})},function(){new to({type:"error",content:"保存失败，请稍后重试！",wrapNode:document.getElementById("".concat(t.jSPlugin.id,"-inspect-event-box")),top:40})})),t.type===0&&Zm(t.jSPlugin,oe,function(de){de.meta&&de.meta.code===200?(t.hide(),t.saveSuccessCallback&&t.saveSuccessCallback()):new to({type:"error",content:"保存失败，".concat(de.meta&&de.meta.message||"请稍后重试！"),wrapNode:document.getElementById("".concat(t.jSPlugin.id,"-inspect-event-box")),top:40})},function(){new to({type:"error",content:"保存失败，请稍后重试！",wrapNode:document.getElementById("".concat(t.jSPlugin.id,"-inspect-event-box")),top:40})})}}),document.getElementById("".concat(this.jSPlugin.id,"-inspectEventDetail-back")).addEventListener("click",function(){t.backPopover=new Pd({id:"".concat(t.jSPlugin.id,"-inspectEventDetail-back"),content:"确定要返回吗？".concat(t.type===1?"返回后编辑的内容将不会保存。":"返回后对应存证也将删除。"),placement:"bottomRight",arrowPointAtCenter:!0,onCancel:function(){t.backPopover.hide()},onConfirm:function(){o===1&&(t.videoRecordingStatus&&t.type===0&&(t.timer&&t.timer.clearTimer("videoRecordingTimer"),t.startTime=1e3,document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn")).click()),t.timer.clearTimer("videoRecordingStatusTimer")),t.backPopover.hide(),t.hide()}})}),document.getElementById("".concat(this.jSPlugin.id,"-video-recording-stop-btn"))&&document.getElementById("".concat(this.jSPlugin.id,"-video-recording-stop-btn")).addEventListener("click",function(){document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn")).setAttribute("class","inspectEventDetail-stop-btn ezuikit-btn ezuikit-btn-loading"),document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn")).querySelector(".ezuikit-btn-loading-icon").style.display="inline-block",Wm(t.jSPlugin,c,function(d){document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn"))&&(document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn")).setAttribute("class","inspectEventDetail-stop-btn ezuikit-btn"),document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn")).querySelector(".ezuikit-btn-loading-icon").style.display="none"),d.meta&&d.meta.code===200?mh(t.jSPlugin,c,function(u){if(u.meta&&u.meta.code===200){var k=u.data,P=k.taskStatus,S=k.fileUrl,R=k.videoCoverPic;t.timer&&t.timer.clearTimer("videoRecordingTimer");var b=R||"".concat(t.jSPlugin.staticPath,"/imgs/bg.svg");t.renderVideo(P,b,S),document.getElementById("".concat(t.jSPlugin.id,"-inspectEventDetail-content-video-info")).style.display="block",document.getElementById("".concat(t.jSPlugin.id,"-inspectEventDetail-content-video-timer")).style.display="none";var _=document.getElementById("".concat(t.jSPlugin.id,"-inspectEventDetail-content-info-time")).innerHTML;document.getElementById("".concat(t.jSPlugin.id,"-inspectEventDetail-content-info-time")).innerHTML="".concat(_.split("~")[0]," ~ ").concat(new Date().Format("yyyy-MM-dd hh:mm:ss")),t.videoRecordingStatus=!1,document.getElementById("".concat(t.jSPlugin.id,"-event-ok")).removeAttribute("disabled")}}):new to({type:"error",content:"停止录制失败，请稍后重试！",wrapNode:document.getElementById("".concat(t.jSPlugin.id,"-inspect-event-box")),top:40})},function(){document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn"))&&(document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn")).setAttribute("class","inspectEventDetail-stop-btn ezuikit-btn"),document.getElementById("".concat(t.jSPlugin.id,"-video-recording-stop-btn")).querySelector(".ezuikit-btn-loading-icon").style.display="none"),new to({type:"error",content:"停止录制失败，请稍后重试！",wrapNode:document.getElementById("".concat(t.jSPlugin.id,"-inspect-event-box")),top:40})})}),document.getElementById("".concat(this.jSPlugin.id,"-event-tag")).addEventListener("input",function(){t.validationEventTag()}),document.getElementById("".concat(this.jSPlugin.id,"-event-remark")).addEventListener("input",function(d){var u=d.target.value;d.target.parentNode.setAttribute("data-count","".concat(u.length," / 100"))}),document.getElementById("".concat(this.jSPlugin.id,"-event-remark")).addEventListener("focus",function(d){d.target.parentNode.setAttribute("class","ezuikit-input-textarea ezuikit-input-textarea-show-count ezuikit-input-textarea-focus")}),document.getElementById("".concat(this.jSPlugin.id,"-event-remark")).addEventListener("blur",function(d){d.target.parentNode.setAttribute("class","ezuikit-input-textarea ezuikit-input-textarea-show-count")})}}]),J}(),Jm=function(){function J(g,t,n){var o=this;Re(this,J),_t(this,"hideDelEConfirm",function(){for(var c=0;c<o.delEConfirmList.length;c++)o.delEConfirmList[c].hide()}),_t(this,"initRender",function(){var c=o;if(document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")))document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box"))&&document.getElementById("".concat(o.jSPlugin.id,"-wrap")).removeChild(document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box"))),c.initRender();else{var d=document.createElement("div");d.id="".concat(o.jSPlugin.id,"-inspect-event-box"),d.setAttribute("class","inspect-event-box");var u=0;document.getElementById("".concat(o.jSPlugin.id,"-inspectInfoControl"))&&(u=document.getElementById("".concat(o.jSPlugin.id,"-inspectInfoControl")).clientHeight),d.style="background: #fff;position: absolute;right: 0;bottom: 0; top:".concat(u,"px;"),d.innerHTML=`
      <div id="`.concat(o.jSPlugin.id,`-inspect-event-list-box" style="
        width: 290px;
        height: 100%;
        overflow: hidden;
        padding: 0;
        box-sizing: border-box;
      ">
        <h1 style="
          font-size: 16px;
          color: #262626;
          line-height: 24px;
          font-weight: bold;
          margin: 16px 16px 0;
        ">巡检事件</h1>
        <div id="`).concat(o.jSPlugin.id,`-inspect-event-btn-wrap" style="
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px 16px;
        ">
          <div>
            <button
              id="`).concat(o.jSPlugin.id,`-inspect-event-img"
              style="min-width: 88px; margin: 0 auto;"
              type="button"
              class="ezuikit-btn ezuikit-btn-primary"
            >
            <span style="display:none" class="ezuikit-btn-loading-icon" style=""><span role="img" aria-label="loading" class="anticon anticon-loading anticon-spin"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg></span></span>
            图片存证
            </button>
            <button
              id="`).concat(o.jSPlugin.id,`-inspect-event-video"
              style="min-width: 88px; margin: 0 auto;"
              type="button"
              class="ezuikit-btn ezuikit-btn-primary"
            >
            <span style="display:none" class="ezuikit-btn-loading-icon" style=""><span role="img" aria-label="loading" class="anticon anticon-loading anticon-spin"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg></span></span>
            视频存证</button>
          </div>
          <div id="`).concat(o.jSPlugin.id,`-inspect-event-list-refresh" style="
            width: 17px;
            height: 32px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
          ">
            <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="13" height="13" xmlns:xlink="http://www.w3.org/1999/xlink">
              <path fill="currentColor" d="M960 416V192l-73.056 73.056a447.712 447.712 0 0 0-373.6-201.088C265.92 63.968 65.312 264.544 65.312 512S265.92 960.032 513.344 960.032a448.064 448.064 0 0 0 415.232-279.488 38.368 38.368 0 1 0-71.136-28.896 371.36 371.36 0 0 1-344.096 231.584C308.32 883.232 142.112 717.024 142.112 512S308.32 140.768 513.344 140.768c132.448 0 251.936 70.08 318.016 179.84L736 416h224z"></path>
            </svg>
          </div>
        </div>
        <div
          id="`).concat(o.jSPlugin.id,`-inspect-loading"
          class="inspect-loading"
          style="
            height: calc(100% - 104px);
            position: absolute; bottom: 0; right: 0;background: #fff; bottom: 0; right: 0; z-index: 99; width: 100%; align-items: center; justify-content: center;
            display: `).concat(o.listLoading?"flex":"none",`
          ">
          <div type="default" class="ezuikit-spin ezuikit-spin-spinning"><span class="ezuikit-spin-dot ezuikit-spin-dot-spin ezuikit-spin-dot-default"><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i></span></div>
        </div>
        <div id="`).concat(o.jSPlugin.id,`-inspect-event-list-nodata-wrap" style="
          display: none;
          height: calc(100% - 104px);
          text-align: center;overflow: auto;
        "> 
          <img style="width: 85px;height: 85px; margin: 120px auto 0;" src="`).concat(o.jSPlugin.staticPath,`/imgs/empty.png" />
          <p style="font-size: 14px;color: #595959;text-align: center;line-height: 22px;margin: 0;">暂无事件</p>
        </div>
        <div class="inspect-event-list-wrap" id="`).concat(o.jSPlugin.id,`-inspect-event-list-wrap"
          style="display: none; height: calc(100% - 104px); overflow-x: hidden; overflow-y: auto; padding-top: 4px; box-sizing: border-box; ">
          <div id="`).concat(o.jSPlugin.id,`-inspect-event-list-wrap-main"></div>
          <div id="`).concat(o.jSPlugin.id,`-inspect-event-list-more-loading" style="display: none;align-items: center;justify-content: center;" class="inspect-event-list-more-loading">
            <div type="default" class="ezuikit-spin ezuikit-spin-spinning"><span class="ezuikit-spin-dot ezuikit-spin-dot-spin ezuikit-spin-dot-default"><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i></span></div>
          </div>
        </div>
      </div>
      <div id="`).concat(o.jSPlugin.id,`-inspect-event-detail-wrap" class="inspect-event-detail-wrap" style="
        height: 100%;
      ">
        <h1 style="
          font-size: 16px;
          color: #262626;
          line-height: 24px;
          font-weight: bold;
          margin: 16px 16px 0;
        ">巡检事件</h1>
        <div id="`).concat(o.jSPlugin.id,`-inspect-event-detail-box"></div>
      </div>
      `),document.getElementById("".concat(o.jSPlugin.id,"-wrap")).appendChild(d),o.jSPlugin.Theme.decoderState.state.play?o.enableEvidenceBtn():o.disableEvidenceBtn(),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-img")).onclick=function(){o.listLoading||o.startEvidence||(o.startEvidence=!0,o.hideDelEConfirm(),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-img")).setAttribute("class","ezuikit-btn ezuikit-btn-primary ezuikit-btn-loading"),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-img")).querySelector(".ezuikit-btn-loading-icon").style.display="inline-block",ph(o.jSPlugin,0,function(k){o.startEvidence=!1,document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-img")).setAttribute("class","ezuikit-btn ezuikit-btn-primary"),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-img")).querySelector(".ezuikit-btn-loading-icon").style.display="none",k.meta&&k.meta.code===200?new wd(o.jSPlugin,k.data,o.timer,0,function(){o.initEvent(),new to({type:"success",content:"保存成功",wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40})}):new to({type:"error",content:"图片存证失败，".concat(k.meta&&k.meta.message||"请稍后重试！"),wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40})},function(){o.startEvidence=!1,document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-img")).setAttribute("class","ezuikit-btn ezuikit-btn-primary"),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-img")).querySelector(".ezuikit-btn-loading-icon").style.display="none",new to({type:"error",content:"图片存证失败，请稍后重试！",wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40})}))},document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-video")).onclick=function(){o.listLoading||o.startEvidence||(o.startEvidence=!0,o.hideDelEConfirm(),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-video")).setAttribute("class","ezuikit-btn ezuikit-btn-primary ezuikit-btn-loading"),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-video")).querySelector(".ezuikit-btn-loading-icon").style.display="inline-block",ph(o.jSPlugin,1,function(k){o.startEvidence=!1,document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-video")).setAttribute("class","ezuikit-btn ezuikit-btn-primary"),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-video")).querySelector(".ezuikit-btn-loading-icon").style.display="none",k.meta&&k.meta.code===200?new wd(o.jSPlugin,k.data,o.timer,0,function(){o.initEvent(),new to({type:"success",content:"保存成功",wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40})}):new to({type:"error",content:"视频存证失败，".concat(k.meta&&k.meta.message||"请稍后重试！"),wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40})},function(){o.startEvidence=!1,document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-video")).setAttribute("class","ezuikit-btn ezuikit-btn-primary"),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-video")).querySelector(".ezuikit-btn-loading-icon").style.display="none",new to({type:"error",content:"视频存证失败，请稍后重试！",wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40})}))},document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-list-refresh")).onclick=function(){o.listLoading||o.startEvidence||(o.hideDelEConfirm(),document.getElementById("".concat(o.jSPlugin.id,"-inspect-loading")).style.display="block",document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-list-wrap")).style.display="none",document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-list-nodata-wrap")).style.display="none",c.initEvent())}}}),_t(this,"renderList",function(c){document.getElementById("".concat(o.jSPlugin.id,"-inspect-loading")).style.display="none";var d=c.data||[];if(d.length>0){document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-list-wrap")).style.display="block",document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-list-nodata-wrap")).style.display="none";for(var u=function(){var S=document.createElement("div");S.setAttribute("class","inspect-event-item");var R="",b=d[k];S.setAttribute("id","".concat(o.jSPlugin.id,"-inspect-event-item-").concat(b.inspectEventId)),S.innerHTML=R,document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-list-wrap-main")).appendChild(S);var _=document.createElement("div");_.setAttribute("class","inspect-event-item-header-wrap");var oe;b.evidenceFileType==1&&(oe="".concat(b.eventBeginTime.split(" ")[1],"~").concat(b.eventEndTime.split(" ")[1])),b.evidenceFileType==0&&(oe="".concat(b.eventTime.split(" ")[1]));var de="";b.evidenceFileType===1&&(b.taskStatus===1||b.taskStatus===2?de="storage":b.taskStatus===4||b.taskStatus===5||b.taskStatus===6||b.taskStatus===7?de="storage-error":(b.taskStatus===0||b.taskStatus===3)&&(de="storage-success")),_.innerHTML=`
        <div class="inspect-event-item-header `.concat(de,`">
        <div class="inspect-event-item-header-left">
          <span class="inspect-event-item-status-wrap">
            <span class="inspect-event-item-status"></span>
          </span>
          <svg fill="currentColor" style="display: `).concat(b.evidenceFileType===1?"block":"none",`" width="16" height="16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	          viewBox="0 0 14 12" style="enable-background:new 0 0 14 12;" xml:space="preserve">
            <path d="M1,12c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1h12c0.6,0,1,0.4,1,1v10c0,0.6-0.4,1-1,1H1z M1,11h1.6l0-3.5H1V11z
            M10.5,1h-7v10h7V1z M13,7.5h-1.6l0,3.5H13V7.5z M6.1,4.2l2.3,1.2c0.4,0.2,0.4,0.6,0,0.8L8.1,6.3l-2,1c-0.2,0.1-0.4,0-0.4-0.2V4.4
            C5.7,4.2,5.9,4.1,6.1,4.2z M13,6.6V4.9h-1.6v1.8H13z M1,6.6h1.6V4.9H1V6.6z M13,4V1h-1.6l0,3H13z M2.6,1H1v3h1.6L2.6,1z"/>
          </svg>
          <svg fill="currentColor" style="display: `).concat(b.evidenceFileType===1?"none":"block",`" width="16" height="16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
            viewBox="0 0 14 12" style="enable-background:new 0 0 14 12;" xml:space="preserve">
            <path class="st0" d="M13,0c0.6,0,1,0.4,1,1v10c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1H13z M10.4,6.2L5.6,9.8L3.8,8
            L1,10v1h12V9L10.4,6.2z M13,1H1v7.8l2.9-2.1l1.8,1.8l4.9-3.6L13,7.5V1z M5.5,2C6.3,2,7,2.7,7,3.5S6.3,5,5.5,5S4,4.3,4,3.5
            S4.7,2,5.5,2z M5.5,3C5.2,3,5,3.2,5,3.5S5.2,4,5.5,4S6,3.8,6,3.5S5.8,3,5.5,3z"/>
          </svg>
          <span class="inspect-event-item-time">`).concat(oe||"-",`</span>
        </div>
        <div class="inspect-event-item-header-right">
          <span class="inspect-event-item-header-toggle">
          <svg fill="currentColor" class="inspect-event-item-header-toggle-up" style="display: none;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path d="M218.496 645.312l46.464 44.032 247.616-261.568 246.4 261.504 46.528-43.904-292.8-310.72z"></path></svg>  
          <svg fill="currentColor" class="inspect-event-item-header-toggle-down"  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path d="M218.496 378.688l46.464-44.032 247.616 261.568 246.4-261.504 46.528 43.904-292.8 310.72z"></path></svg>
          </span>
        </div>
        </div>
        `),S.appendChild(_),_.onclick=function(m){var U=_.querySelector(".inspect-event-item-header-toggle-up").style.display;U==="none"?(_.querySelector(".inspect-event-item-header-toggle-up").style.display="block",_.querySelector(".inspect-event-item-header-toggle-down").style.display="none",S.querySelector(".inspect-event-item-body").style.display="block"):(_.querySelector(".inspect-event-item-header-toggle-up").style.display="none",_.querySelector(".inspect-event-item-header-toggle-down").style.display="block",S.querySelector(".inspect-event-item-body").style.display="none")};var xe=document.createElement("div");xe.setAttribute("class","inspect-event-item-body"),xe.style.display="none";var se=(b.evidenceFileType===1?b.videoCoverPic:b.fileUrl)||"".concat(o.jSPlugin.staticPath,"/imgs/bg.svg");xe.innerHTML=`
        <div class="inspect-event-item-img" id="`.concat(o.jSPlugin.id,"-inspect-view-").concat(b.inspectEventId,`"></div>
        <div class="inspect-event-item-body-info">
          <div class="inspect-event-item-body-info-tag">
            <span class="inspect-event-item-body-info-tag-label" title="`).concat(b.eventType,'">').concat(b.eventType,`</span>
          </div>
        </div>
        `),S.appendChild(xe),b.evidenceFileType==1&&(b.taskStatus===1||b.taskStatus===2?document.getElementById("".concat(o.jSPlugin.id,"-inspect-view-").concat(b.inspectEventId)).innerHTML=`
              <div class="video-stroage-exceptional-status-tips-wrap" style="background:url(`.concat(o.jSPlugin.staticPath,`/imgs/bg.svg) no-repeat 100%/cover">
                <div class="video-stroage-exceptional-status-icon">
                <div type="default" class="ezuikit-spin ezuikit-spin-sm ezuikit-spin-spinning ezuikit-spin-dot-white"><span class="ezuikit-spin-dot ezuikit-spin-dot-spin ezuikit-spin-dot-default"><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i><i class="ezuikit-spin-dot-item"></i></span></div>
                </div>
                <span class="video-stroage-exceptional-status-tips">视频正在存储中…</span>
              </div>
            `):b.taskStatus===4?document.getElementById("".concat(o.jSPlugin.id,"-inspect-view-").concat(b.inspectEventId)).innerHTML=`
            <div class="video-stroage-exceptional-status-tips-wrap video-stroage-exceptional-status-tips-error" style="background:url(`.concat(o.jSPlugin.staticPath,`/imgs/bg.svg) no-repeat 100%/cover">
              <div class="video-stroage-exceptional-status-icon">
                <svg fill="currentColor" t="1691567317943" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em"><path d="M512 64a448 448 0 1 0 0 896A448 448 0 0 0 512 64z m32 664a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-272c0-4.416 3.584-8 8-8h48c4.416 0 8 3.584 8 8v272zM512 384a48 48 0 1 1 0-96A48 48 0 0 1 512 384z"></path></svg>
              </div>
              <span class="video-stroage-exceptional-status-tips">视频存储失败</span>
            </div>
            `):(b.taskStatus===0||b.taskStatus===3)&&new hh({id:"".concat(o.jSPlugin.id,"-inspect-view-").concat(b.inspectEventId),src:b.fileUrl,poster:se,fallback:"".concat(o.jSPlugin.staticPath,"/imgs/bg.svg")})),b.evidenceFileType==0&&new fh({id:"".concat(o.jSPlugin.id,"-inspect-view-").concat(b.inspectEventId),src:se,fallback:"".concat(o.jSPlugin.staticPath,"/imgs/bg.svg"),showIcon:!1});var Ae=document.createElement("div");Ae.setAttribute("class","inspect-event-item-body-info-opr");var qe=document.createElement("span");qe.setAttribute("class","inspect-event-item-body-info-opr-icon"),qe.innerHTML=`
          <svg fill="currentColor" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path d="M612.992 121.984a64 64 0 0 1 90.496 0l153.92 153.92a64 64 0 0 1 0 90.496l-435.2 435.2a96 96 0 0 1-23.04 17.024l525.312-0.128v64H175.808v-2.304a64 64 0 0 1-66.496-77.632l43.776-199.296a96 96 0 0 1 25.92-47.296zM523.072 302.4l-298.88 298.88a32 32 0 0 0-8.576 15.744l-43.776 199.296 190.848-51.712a32 32 0 0 0 14.272-8.256l300.032-300.032-153.92-153.92z m135.168-135.168L568.32 257.088l153.92 153.984 89.92-89.92-153.92-153.92z"></path></svg>
        `,Ae.appendChild(qe);var me=document.createElement("span");me.setAttribute("class","inspect-event-item-body-info-opr-icon"),me.id="".concat(o.jSPlugin.id,"-inspect-event-del-").concat(b.inspectEventId),me.innerHTML=` 
          <svg fill="currentColor" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><path d="M128 320V256h767.872v64H832v512a64 64 0 0 1-64 64H256a64 64 0 0 1-64-64V320H128z m640 0H256v512h512V320zM464 432v256h-64v-256h64z m160 0v256h-64v-256h64zM704 128v64H320V128h384z"></path></svg>
        `,Ae.appendChild(me),qe.onclick=function(m){o.startEvidence||new wd(o.jSPlugin,b,o.timer,1,function(U){new to({type:"success",content:"保存成功",wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40}),b=Object.assign(b,U),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-item-").concat(b.inspectEventId)).querySelector(".inspect-event-item-body-info-tag-label").innerHTML=b.eventType,document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-item-").concat(b.inspectEventId)).querySelector(".inspect-event-item-body-info-tag-label").setAttribute("title",b.eventType)})},me.onclick=function(m){o.startEvidence||(o.delE=new Pd({id:"".concat(o.jSPlugin.id,"-inspect-event-del-").concat(b.inspectEventId),content:"确定要删除该事件吗？",placement:"topRight",arrowPointAtCenter:!0,onCancel:function(){o.delE.hide()},onConfirm:function(){Xm(o.jSPlugin,{inspectEventId:b.inspectEventId},function(le){le.meta&&le.meta.code===200?(o.delE.hide(),o.initEvent(),setTimeout(function(){new to({type:"success",content:"删除成功",wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40})},10)):new to({type:"error",content:"删除失败，".concat(le.meta&&le.meta.message||"请稍后重试！"),wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40})},function(){new to({type:"error",content:"删除失败，请稍后重试！",wrapNode:document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-box")),top:40})})}}),o.delEConfirmList.push(o.delE))},S.querySelector(".inspect-event-item-body-info").appendChild(Ae),document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-list-wrap")).onscroll=function(m){var U=m.target;o.hideDelEConfirm(),U.scrollTop+U.offsetHeight>=U.scrollHeight-48&&!o.listLoading&&(c.start+1)*c.size<c.total&&o.initEvent(c.start+1)}},k=0;k<d.length;k++)u()}else document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-list-wrap")).style.display="none",document.getElementById("".concat(o.jSPlugin.id,"-inspect-event-list-nodata-wrap")).style.display="block"}),this.jSPlugin=g,this.videoWidth=g.width,this.inspectRecordId=t,this.timer=n,this.listLoading=!1,this.startEvidence=!1,this.delEConfirmList=[],this.videoHeight=document.getElementById("".concat(g.id,"-wrap")).clientHeight-document.getElementById("".concat(g.id,"-inspectInfoControl")).clientHeight||g.height,this.initEvent()}return xt(J,[{key:"initEvent",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,c=this;c.listLoading=!0,n===0?c.initRender(n):document.getElementById("".concat(this.jSPlugin.id,"-inspect-event-list-more-loading")).style.display="flex";var d=function(k){new to({type:"error",content:k.meta&&k.meta.message||"列表获取失败，请稍后重试！",wrapNode:document.getElementById("".concat(t.jSPlugin.id,"-inspect-event-box")),top:40}),c.renderList({})};Gm(c.jSPlugin,c.inspectRecordId,n,o,function(u){c.listLoading=!1,document.getElementById("".concat(t.jSPlugin.id,"-inspect-event-list-more-loading")).style.display="none",u.meta&&u.meta.code===200?c.renderList(u.data||{}):d(u)},function(u){c.listLoading=!1,document.getElementById("".concat(t.jSPlugin.id,"-inspect-event-list-more-loading")).style.display="none",d(u)})}},{key:"disableEvidenceBtn",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-inspect-event-img")).setAttribute("disabled","disabled"),document.getElementById("".concat(this.jSPlugin.id,"-inspect-event-video")).setAttribute("disabled","disabled")}},{key:"enableEvidenceBtn",value:function(){document.getElementById("".concat(this.jSPlugin.id,"-inspect-event-img")).removeAttribute("disabled"),document.getElementById("".concat(this.jSPlugin.id,"-inspect-event-video")).removeAttribute("disabled")}}]),J}(),Km=function(){function J(g,t,n,o,c){var d=this;Re(this,J),_t(this,"createLocationControl",function(){var u=d;function k(){this.defaultAnchor=BMAP_ANCHOR_BOTTOM_LEFT,this.defaultOffset=new BMapGL.Size(40,105)}return k.prototype=new BMapGL.Control,k.prototype.initialize=function(P){var S=document.createElement("div");return S.style.cssText="width: 26px;height: 26px;display: flex;align-items: center;justify-content: center; box-shadow: 1px 2px 1px rgb(0 0 0 / 15%); background: #fff; cursor: pointer;",S.id="".concat(u.jSPlugin.id,"-location-btn"),S.innerHTML=`<svg fill="#3385ff" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M510.976716 128.626761c-211.205756 0-382.401119 171.195363-382.401119 382.401119s171.195363 382.401119 382.401119 382.401119S893.377836 722.131308 893.377836 510.925552 722.182472 128.626761 510.976716 128.626761zM736.508444 736.45728c-29.265914 29.265914-63.443589 52.289797-101.407415 68.355351-29.265914 12.381733-59.964425 20.158689-91.481563 23.433197L543.619466 704.019187l-63.443589 0 0 124.431298c-32.233437-3.069851-63.443589-10.949136-93.323474-23.535525-37.963825-16.065554-72.039173-39.089437-101.407415-68.355351-29.265914-29.265914-52.289797-63.443589-68.355351-101.407415-12.381733-29.265914-20.158689-59.964425-23.433197-91.481563l126.273209 0 0-63.443589L193.554112 480.227041c3.069851-32.233437 10.949136-63.443589 23.535525-93.323474 16.065554-37.963825 39.089437-72.039173 68.355351-101.407415 29.265914-29.265914 63.443589-52.289797 101.407415-68.355351 29.879884-12.58639 61.090037-20.465674 93.323474-23.535525l0 125.863895 63.443589 0L543.619466 193.707605c31.517138 3.172179 62.215649 11.051464 91.481563 23.433197 37.963825 16.065554 72.039173 39.089437 101.407415 68.355351 29.265914 29.265914 52.289797 63.443589 68.355351 101.407415 12.58639 29.879884 20.465674 61.090037 23.535525 93.323474L703.251724 480.227041l0 63.443589 125.045268 0c-3.172179 31.517138-11.051464 62.215649-23.433197 91.481563C788.798241 673.01369 765.876686 707.089038 736.508444 736.45728z" p-id="1506"></path><path d="M516.093135 415.248526c-56.280604 0-100.793445 43.489557-100.793445 99.770161s44.512841 101.816728 100.793445 101.816728S616.886579 571.29929 616.886579 515.018687 572.373738 415.248526 516.093135 415.248526z" p-id="1507"></path>
      </svg>`,S.onclick=function(R){setTimeout(function(){u.inspectMapWin.centerToTrack(18)},100)},P.getContainer().appendChild(S),S},new k}),_t(this,"initSwithcBtn",function(){var u=document.createElement("div");u.id="".concat(d.jSPlugin.id,"-miniSwitch"),u.style="cursor: pointer;position: absolute; bottom: 106px; right: ".concat(d.jSPlugin.inspectVideoWidth+10,"px; z-index: 999;"),u.innerHTML="<div id='".concat(d.jSPlugin.id,`-miniSwitch-btn' style="width: 32px;height: 32px;display: flex;align-items: center;justify-content: center;border-radius: 50%;background: rgba(0,0,0,0.70);">
      <svg width="20px" height="20px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <title>大小窗切换</title>
          <g id="icon/大小窗切换" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <rect id="矩形" x="0" y="0" width="24" height="24"></rect>
              <path d="M16,3.25 C17.5187831,3.25 18.75,4.48121694 18.75,6 L18.75,6 L18.75,6.644 L19.095177,6.64456257 C20.6299163,6.64456257 21.9388658,7.64624846 22.0337198,8.99291851 L22.0392202,9.14979714 L22.0392202,17.639328 C22.0392202,19.0115638 20.7871129,20.0640733 19.2712041,20.1401546 L19.095177,20.1445626 L8.48326347,20.1445626 C6.94852423,20.1445626 5.63957467,19.1428767 5.54472071,17.7962066 L5.53922025,17.639328 L5.539,16.75 L5,16.75 C3.53746816,16.75 2.34159572,15.6082954 2.25501879,14.1675223 L2.25,14 L2.25,6 C2.25,4.48121694 3.48121694,3.25 5,3.25 L5,3.25 Z M18.75,14 C18.75,15.5187831 17.5187831,16.75 16,16.75 L16,16.75 L7.039,16.75 L7.03922025,17.639328 C7.03922025,18.1209822 7.57916546,18.5830417 8.33031492,18.6389177 L8.48326347,18.6445626 L19.095177,18.6445626 C19.873026,18.6445626 20.4615868,18.2126064 20.5321184,17.735283 L20.5392202,17.639328 L20.5392202,9.14979714 C20.5392202,8.66814298 19.999275,8.20608342 19.2481256,8.15020744 L19.095177,8.14456257 L18.75,8.144 Z M16,4.75 L5,4.75 C4.30964406,4.75 3.75,5.30964406 3.75,6 L3.75,6 L3.75,14 C3.75,14.6903559 4.30964406,15.25 5,15.25 L5,15.25 L16,15.25 C16.6903559,15.25 17.25,14.6903559 17.25,14 L17.25,14 L17.25,8.144 L17.2422027,8.14456257 L17.2422027,6.64456257 L17.25,6.644 L17.25,6 C17.25,5.35279131 16.7581253,4.8204661 16.1278052,4.75645361 L16,4.75 Z" id="形状结合" fill="#FFFFFF" fill-rule="nonzero"></path>
          </g>
      </svg>
    </div>`),document.getElementById("".concat(d.jSPlugin.id,"-wrap")).appendChild(u),document.getElementById("".concat(d.jSPlugin.id,"-miniSwitch-btn")).onclick=function(){Pr.throttle(function(){return d.miniRecSwitchClick()},1e3)()}}),_t(this,"initMiniWinToggleBtn",function(){var u=d.videoWidth,k=d.videoHeight,P=u*.3333,S=k*.3333,R=document.createElement("div");R.id="".concat(d.jSPlugin.id,"-miniToggle"),R.style="cursor: pointer;position: absolute; bottom: ".concat(S/2+96-30,"px; right: ").concat(d.jSPlugin.inspectVideoWidth+P,"px; z-index: 999; height:60px; box-sizing: border-box; padding-top: 20px; text-align: center; width:20px; overflow: hidden; background: #000000; border-radius: 2px 0px 0px 2px; opacity: 0.7;"),R.innerHTML="<div id='".concat(d.jSPlugin.id,`-miniToggle-btn'>
    <svg id="`).concat(d.jSPlugin.id,`-min-win-close-icon" style="display: inline-block" width="20px" height="20px" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10867" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M378.688 217.856l-44.032 46.464 261.568 247.616-261.504 246.4 43.904 46.528 310.72-292.8z" fill="#ffffff" p-id="10868"></path>
      </svg>
    <svg id="`).concat(d.jSPlugin.id,`-min-win-open-icon" style="display: none" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10671" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20">
        <path d="M645.312 217.856l44.032 46.464-261.568 247.616 261.504 246.4-43.904 46.528-310.72-292.8z" fill="#ffffff" p-id="10672"></path>
      </svg>
    </div>`),document.getElementById("".concat(d.jSPlugin.id,"-wrap")).appendChild(R),document.getElementById("".concat(d.jSPlugin.id,"-miniToggle")).onclick=function(){d.miniWinToggleClick()}}),_t(this,"init",function(){d.initSwithcBtn(),d.initMiniWinToggleBtn()}),_t(this,"setStyleListByIds",function(u){u.map(function(k){var P=document.getElementById(k.id);P&&Object.keys(k.styleList).map(function(S){P.style[S]=k.styleList[S]})})}),this.jSPlugin=g,this.inspectMode=t,this.inspectMapWin=n,this.changeInspectMode=o,this.videoWidth=g.width,this.videoHeight=g.height,this.minWinStatus="open",this.decoderState=c,this.ZoomControl=new BMapGL.ZoomControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT,offset:new BMapGL.Size(40,50)}),this.LocationControl=this.createLocationControl(),this.NavigationControl3D=new BMapGL.NavigationControl3D({anchor:BMAP_ANCHOR_BOTTOM_LEFT,offset:new BMapGL.Size(28,105)}),this.init()}return xt(J,[{key:"miniWinToggleClick",value:function(){var t=this.jSPlugin.width,n=t*.3333;this.minWinStatus==="open"?(this.setStyleListByIds([{id:this.inspectMode==="video"?"".concat(this.jSPlugin.id,"-mapbox"):"".concat(this.jSPlugin.id),styleList:{width:"0px"}},{id:"".concat(this.jSPlugin.id,"-miniSwitch"),styleList:{display:"none"}},{id:"".concat(this.jSPlugin.id,"-miniToggle"),styleList:{right:"".concat(this.jSPlugin.inspectVideoWidth,"px")}},{id:"".concat(this.jSPlugin.id,"-min-win-close-icon"),styleList:{display:"none"}},{id:"".concat(this.jSPlugin.id,"-min-win-open-icon"),styleList:{display:"inline-block"}}]),this.minWinStatus="close"):(this.setStyleListByIds([{id:this.inspectMode==="video"?"".concat(this.jSPlugin.id,"-mapbox"):"".concat(this.jSPlugin.id),styleList:{width:n+"px"}},{id:"".concat(this.jSPlugin.id,"-miniSwitch"),styleList:{display:"block"}},{id:"".concat(this.jSPlugin.id,"-miniToggle"),styleList:{right:"".concat(this.jSPlugin.inspectVideoWidth+n,"px")}},{id:"".concat(this.jSPlugin.id,"-min-win-close-icon"),styleList:{display:"inline-block"}},{id:"".concat(this.jSPlugin.id,"-min-win-open-icon"),styleList:{display:"none"}}]),this.minWinStatus="open")}},{key:"miniRecSwitchClick",value:function(){var t=this,n=this.jSPlugin.width,o=this.jSPlugin.height,c=n*.3333,d=o*.3333;this.inspectMode==="video"?(this.jSPlugin.Zoom&&this.jSPlugin.Zoom.stopZoom(),this.setStyleListByIds([{id:"".concat(this.jSPlugin.id,"-mapbox"),styleList:{width:this.jSPlugin.width+"px",height:this.jSPlugin.height+"px",marginBottom:"-40px"}},{id:"".concat(this.jSPlugin.id,"-ez-iframe-footer-container"),styleList:{top:this.jSPlugin.height+"px"}},{id:"".concat(this.jSPlugin.id),styleList:{position:"absolute",zIndex:"100",bottom:"96px",right:"".concat(this.jSPlugin.inspectVideoWidth,"px"),overflow:"hidden"}}]),this.jSPlugin.Theme.inspect.reSizeVideo(c,d),this.inspectMode="map",this.changeInspectMode("map"),this.inspectMapWin.map.addControl(this.NavigationControl3D),this.inspectMapWin.map.addControl(this.LocationControl),this.inspectMapWin.map.addControl(this.ZoomControl),this.inspectMapWin.map.addOverlay(this.inspectMapWin.inspectRange),document.getElementById("".concat(this.jSPlugin.id,"-loading-item-btn-wrap"))&&this.setStyleListByIds([{id:"".concat(this.jSPlugin.id,"-loading-item-btn"),styleList:{display:"none"}},{id:"".concat(this.jSPlugin.id,"-loading-item-btn-svg"),styleList:{display:"block"}},{id:"".concat(this.jSPlugin.id,"-loading-item-btn-wrap"),styleList:{border:"none",width:"32px",height:"14px"}}]),setTimeout(function(){t.inspectMapWin.centerToTrack(18)},100)):(this.setStyleListByIds([{id:"".concat(this.jSPlugin.id,"-mapbox"),styleList:{width:c+"px",height:d+"px",marginBottom:"0"}},{id:"".concat(this.jSPlugin.id,"-ez-iframe-footer-container"),styleList:{top:"0px"}},{id:"".concat(this.jSPlugin.id),styleList:{position:"relative",zIndex:"0",bottom:"0",right:"0"}}]),this.jSPlugin.Theme.inspect.reSizeVideo(this.jSPlugin.width,this.jSPlugin.height),this.inspectMode="video",this.changeInspectMode("video"),this.inspectMapWin.map.removeControl(this.ZoomControl),this.inspectMapWin.map.removeControl(this.NavigationControl3D),this.inspectMapWin.map.removeControl(this.LocationControl),this.inspectMapWin.map.removeOverlay(this.inspectMapWin.inspectRange),document.getElementById("".concat(this.jSPlugin.id,"-loading-item-btn-wrap"))&&this.setStyleListByIds([{id:"".concat(this.jSPlugin.id,"-loading-item-btn"),styleList:{display:"block"}},{id:"".concat(this.jSPlugin.id,"-loading-item-btn-svg"),styleList:{display:"none"}},{id:"".concat(this.jSPlugin.id,"-loading-item-btn-wrap"),styleList:{border:"1px solid rgb(255, 255, 255)",width:"80px",height:"32px",color:"#fff","text-align":"center","line-height":"32px","font-size":"14px"}}]),setTimeout(function(){t.inspectMapWin.centerToTrack()},100),this.jSPlugin.Zoom&&this.decoderState.state.play&&this.jSPlugin.Zoom.startZoom()),this.setStyleListByIds([{id:"".concat(this.jSPlugin.id,"-wrap"),styleList:{width:this.jSPlugin.width+this.jSPlugin.inspectVideoWidth+"px",height:this.jSPlugin.height+this.jSPlugin.inspectVideoHeight+"px"}}])}}]),J}(),$m={customConfig:{defaultMicro:0,defaultPlay:0,maxTalkTime:0,bellPoster:0,maxBellTime:0,inspectInfo:{color:"#000000",backgroundColor:"#ffffff",activeColor:"#1890FF",btnList:[{btnKey:"inspectName",iconId:"inspectName",part:"left",defaultActive:0,isrender:1,color:"#262626"},{btnKey:"inspectBeginTime",iconId:"inspectBeginTime",part:"left",defaultActive:0,isrender:1,color:"#262626"},{btnKey:"inspectPerson",iconId:"inspectPerson",part:"right",defaultActive:0,isrender:1,color:"#262626"}]}},header:{color:"#2c2c2c",backgroundColor:"#000000",activeColor:"#1890FF",btnList:[{btnKey:"deviceName",iconId:"deviceName",part:"left",defaultActive:0,isrender:1,color:"#ffffff"},{btnKey:"inspectTime",iconId:"inspectTime",part:"left",defaultActive:0,isrender:1,color:"#ffffff"},{btnKey:"signalType",iconId:"signalType",part:"right",defaultActive:0,isrender:1,color:"#ffffff"},{btnKey:"batteryStatus",iconId:"batteryStatus",part:"right",defaultActive:0,isrender:1,color:"#ffffff"}]},footer:{color:"#ffffff",backgroundColor:"#000000",activeColor:"blue",btnList:[{btnKey:"talk",iconId:"talk",part:"left",defaultActive:1,isrender:1,backgroundColor:"#cccccc"},{btnKey:"sound",iconId:"sound",part:"left",defaultActive:1,isrender:1,backgroundColor:"#cccccc"}]}},_h={data:$m},Ed=function(g){var t="";return Object.keys(g).map(function(n,o){t+="".concat(n,":").concat(g[n]).concat(o<Object.keys(g).length-1?";":"")}),t};function Qm(J){var g=parseInt(J%864e5/36e5),t=parseInt(J%(1e3*60*60)/(1e3*60)),n=parseInt(J%(1e3*60)/1e3);return(g<10?"0".concat(g):g)+":"+(t<10?"0".concat(t):t)+":"+(n<10?"0".concat(n):n)}var O0=500,e_=function(){function J(g,t,n,o,c,d,u){Re(this,J),this.jSPlugin=g,this.videoWidth=g.width,this.videoHeight=g.height,this.themeData=t,this.setDecoderState=n,this.decoderState=o,this.isNeedRenderInspectInfo=!1,this.isNeedRenderHeader=!1,this.isNeedRenderFooter=!1,this.inspectMode=c,this.changeInspectMode=d,this.themeInited=!1,this.inspectRecordId=null,this.inspectInfo={},this.activeThemeStatus=!0,this.activeThemeStatusTxt="模板未激活",this.globalContainer=new jm(this.jSPlugin),this.toastCustom=new Ds(g,!1),this.InspectEvent=null,this.timer=u}return xt(J,[{key:"renderSignalType",value:function(t){if(!t)return null;var n,o=t.toUpperCase();return o==="WIFI"?n=`<span><svg t="1688983236732" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M0 352.832l93.12 98.752c231.296-245.44 606.464-245.44 837.76 0L1024 352.832C741.44 53.056 283.008 53.056 0 352.832z m372.352 395.008L512 896l139.648-148.16c-76.8-81.92-202.048-81.92-279.296 0zM186.24 550.4l93.12 98.752c128.448-136.32 336.96-136.32 465.408 0L837.824 550.4c-179.648-190.592-471.488-190.592-651.648 0z" fill="#ffffff" p-id="1530"></path>
      </svg></span>`:n="<span>".concat(t,"</span>"),n}},{key:"renderBatteryStatus",value:function(t){var n;return!t||t==0?null:(n=`
    <div style="
      display: flex;
      align-items: center;
      position: relative;
    ">
      <span style="
        margin-right: 3px; 
        color: `.concat(t<=20?"#FF4D4F":"#FFFFFF",`
      ">`).concat(t,`%</span>
      <div style="
        position: absolute;
        right: 6px;
        height: 8px;
        width: 15px;
      ">
        <div style="
          width: `).concat(t,`%;
          height: 100%;
          background: `).concat(t<=20?"#FF4D4F":"#FFFFFF",`
          "></div>
      </div>
      <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="32" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path fill="`).concat(t<=20?"#FF4D4F":"#FFFFFF",`"  d="M128 213.333333l640 0q52.992 0 90.496 37.504t37.504 90.496q52.992 0 90.496 37.504t37.504 90.496l0 85.333333q0 52.992-37.504 90.496t-90.496 37.504q0 52.992-37.504 90.496t-90.496 37.504l-640 0q-52.992 0-90.496-37.504t-37.504-90.496l0-341.333333q0-52.992 37.504-90.496t90.496-37.504zM768 298.666667l-640 0q-17.664 0-30.165333 12.501333t-12.501333 30.165333l0 341.333333q0 17.664 12.501333 30.165333t30.165333 12.501333l640 0q17.664 0 30.165333-12.501333t12.501333-30.165333l0-341.333333q0-17.664-12.501333-30.165333t-30.165333-12.501333zM896 426.666667l0 170.666667q17.664 0 30.165333-12.501333t12.501333-30.165333l0-85.333333q0-17.664-12.501333-30.165333t-30.165333-12.501333z"></path>
      </svg>
    </div>
    `),n)}},{key:"renderInspectTime",value:function(t){if(!t)return null;var n=t.split(" "),o=n[0].split("-"),c=n[1].split(":"),d=new Date(o[0],o[1]-1,o[2],c[0],c[1],c[2]),u=new Date().getTime()-new Date(d).getTime(),k;return k=`
    <span style="
      display: inline-block;
      width:8px;
      height:8px;
      border-radius: 100%;
      background: #FF4D4F;
      margin-right: 4px;
    "></span>
    `.concat(Qm(u),`
    `),k}},{key:"matchBtn",value:function(t,n){var o=this,c=this.themeData,d=c.customConfig,u=c.header,k=c.footer,P=d.inspectInfo,S={title:"",id:"",domString:"",color:"#FFFFFF",activeColor:"#FFFFFF",onclick:function(){},onmoveleft:function(){},onmoveright:function(){},onremove:function(){}},R=P.btnList.findIndex(function(b){return b.iconId===t});switch(R!==-1?(S.color=P.color,S.backgroundColor=P.backgroundColor,S.activeColor=P.activeColor):(R=u.btnList.findIndex(function(b){return b.iconId===t}),R!==-1?(S.color=u.color,S.backgroundColor=u.backgroundColor,S.activeColor=u.activeColor):(S.color=k.color,S.backgroundColor=k.backgroundColor,S.activeColor=k.activeColor)),t){case"inspectName":return S.title="巡检名称",S.id=t,S.domString='<span id="'.concat(this.jSPlugin.id,`-inspectInfo-inspectName" 
        style="
        color:`).concat(n.color||"#262626",`;
        font-size: 18px;
        text-align: left;
        font-weight: bold;
        padding: 0 16px;
        ">巡检名称</span>`),S.onclick=function(){},S;case"inspectBeginTime":return S.title="巡检开始时间",S.id=t,S.domString='<span id="'.concat(this.jSPlugin.id,`-inspectInfo-inspectBeginTime" 
        style="
        color:`).concat(n.color||"#FFFFFF",`;
        font-size: 14px;
        text-align: left;
        padding-left: 16px;
        border-left: 1px solid #d9d9d9;
        line-height: 16px;
        margin-top: 1px;
        ">巡检开始时间：-</span>`),S.onclick=function(){},S;case"inspectPerson":return S.title="本地巡检员",S.id=t,S.domString='<span id="'.concat(this.jSPlugin.id,`-inspectInfo-inspectPerson" 
        style="
        color:`).concat(n.color||"#FFFFFF",`;
        font-size: 14px;
        display: block;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        text-align: left;
        padding-right: 16px;
        ">本地巡检员：-</span>`),S.onclick=function(){},S;case"deviceName":return S.title="设备名称",S.id=t,S.domString='<span id="'.concat(this.jSPlugin.id,`-header-deviceName" 
        style="
        color:`).concat(n.color||"#FFFFFF",`;
        font-size: 16px;
        display: block;
        max-width: `).concat(this.jSPlugin.width*.33,`px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        text-align: left;
        ">设备名称</span>`),S.onclick=function(){},S;case"inspectTime":return S.title="巡检时长",S.id=t,S.domString='<span id="'.concat(this.jSPlugin.id,`-header-inspectTime-wrap" 
        style="
        color:`).concat(n.color||"#FFFFFF",`;
        font-size: 14px;
        display: flex;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        text-align: left;
        margin-left: 32px;
        ">巡检时长：<span id="`).concat(this.jSPlugin.id,'-header-inspectTime" style="display: flex; align-items: center;">-</span></span>'),S.onclick=function(){},S;case"signalType":return S.title="信号类型",S.id=t,S.domString='<span id="'.concat(this.jSPlugin.id,`-header-signalType" 
        style="
        color:`).concat(n.color||"#FFFFFF",`;
        font-size: 14px;
        display: block;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        text-align: left;
        "></span>`),S.onclick=function(){},S;case"batteryStatus":return S.title="设备电量",S.id=t,S.domString='<span id="'.concat(this.jSPlugin.id,`-header-batteryStatus" 
        style="
        color:`).concat(n.color||"#FFFFFF",`;
        font-size: 14px;
        display: flex;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        text-align: left;
        margin-left: 12px;
        align-items: center;
        "></span>`),S.onclick=function(){},S;case"talk":return S.title="对讲",S.id=t,S.domString="<div></div>"+'<svg id="'.concat(this.jSPlugin.id,'-talk-icon" class="theme-icon-item-icon" fill="').concat(S.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>O0?48:32,'" height="').concat(this.jSPlugin.width>O0?48:32,'" viewBox="-6 -6 32 32">')+'<path d="M10.1,2.7C8.5,2.7,7.2,4,7.2,5.6v5.2c0,1.6,1.3,2.9,2.9,2.9l0.2,0c1.5-0.1,2.7-1.4,2.7-2.9V5.6	C13,4,11.7,2.7,10.1,2.7z M10.1,3.7c1.1,0,1.9,0.9,1.9,1.9v5.2c0,1-0.8,1.8-1.8,1.9l-0.1,0c-1,0-1.9-0.9-1.9-1.9V5.6 C8.2,4.5,9,3.7,10.1,3.7z" /><path d="M15.1,8.5c0.2,0,0.4,0.2,0.5,0.4l0,0.1v1.7c0,3-2.5,5.5-5.5,5.5c-3,0-5.4-2.3-5.5-5.3l0-0.2V9 c0-0.3,0.2-0.5,0.5-0.5c0.2,0,0.4,0.2,0.5,0.4l0,0.1v1.7c0,2.5,2,4.5,4.5,4.5c2.4,0,4.4-1.9,4.5-4.3l0-0.2V9 C14.6,8.7,14.8,8.5,15.1,8.5z" /><path d="M13.5,17.7c0.3,0,0.5,0.2,0.5,0.5c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-7c-0.3,0-0.5-0.2-0.5-0.5 c0-0.2,0.2-0.4,0.4-0.5l0.1,0H13.5z" /><path d="M10.1,15.2c0.2,0,0.4,0.2,0.5,0.4l0,0.1v2.5c0,0.3-0.2,0.5-0.5,0.5c-0.2,0-0.4-0.2-0.5-0.4l0-0.1 v-2.5C9.6,15.4,9.8,15.2,10.1,15.2z" />'+'</svg><span id="'.concat(this.jSPlugin.id,'-talk-label" style="margin-left: -3px">对讲</span>'),S.onclick=function(){var b=o.decoderState.state,_=b.talk,oe=b.sound,de=b.play;if(de)if(_){console.log("结束对讲"),o.setDecoderState({talk:!1}),o.jSPlugin.Talk.stopTalk();var xe=Pr.findIndex(o.themeData.footer.btnList,function(se){return se.iconId==="sound"&&se.isrender===1&&se.defaultActive===1})>-1;o.themeData&&xe&&(o.jSPlugin.openSound(),o.setDecoderState({sound:!0}))}else console.log("开始对讲"),o.setDecoderState({talk:!0}),o.jSPlugin.Talk.startTalk(function(se){oe&&!se&&(o.jSPlugin.closeSound(),o.setDecoderState({sound:!1}))})},S;case"sound":return S.title="音量",S.id=t,S.domString='<span style="height: 100%">'+'<svg class="theme-icon-item-icon" id="'.concat(this.jSPlugin.id,'-nosound-icon" style="display:none" fill="').concat(S.color,'" version="1.1" xmlns="http://www.w3.org/2000/svg" width="').concat(this.jSPlugin.width>O0?48:32,'" height="').concat(this.jSPlugin.width>O0?48:32,`" viewBox="-6 -7 32 31">
          <path d="M8.5,4.2c0.8-0.7,2.1-0.2,2.2,0.9l0,0.1v10c0,1.1-1.2,1.7-2.1,1.1l-0.1-0.1l-3.3-2.8C5,13.2,5,12.9,5.1,12.7 c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.3,2.8c0.2,0.2,0.5,0.1,0.5-0.2l0-0.1v-10c0-0.3-0.3-0.4-0.5-0.3L9.2,5L5.9,7.8 C5.6,7.9,5.3,7.9,5.1,7.7C5,7.5,5,7.3,5.1,7.1L5.2,7L8.5,4.2z"/>
          <path d="M5.5,6.9C5.8,6.9,6,7.1,6,7.4c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2C3.4,7.9,3.3,8,3.2,8.2l0,0.1v4 c0,0.2,0.1,0.3,0.3,0.3l0.1,0h2C5.8,12.5,6,12.7,6,13c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2c-0.7,0-1.3-0.5-1.3-1.2l0-0.1v-4 c0-0.7,0.5-1.3,1.2-1.3l0.1,0H5.5z"/>
          <path d="M17.4,7.9c0.2-0.2,0.5-0.2,0.7,0c0.2,0.2,0.2,0.4,0.1,0.6l-0.1,0.1l-3.8,3.8c-0.2,0.2-0.5,0.2-0.7,0 c-0.2-0.2-0.2-0.4-0.1-0.6l0.1-0.1L17.4,7.9z"/>
          <path d="M13.7,7.9c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.8,3.8c0.2,0.2,0.2,0.5,0,0.7c-0.2,0.2-0.4,0.2-0.6,0.1l-0.1-0.1 l-3.7-3.8C13.5,8.4,13.5,8.1,13.7,7.9z"/>
          </svg>`)+'<svg class="theme-icon-item-icon" id="'.concat(this.jSPlugin.id,'-sound-icon" style="display:inline-block" width="').concat(this.jSPlugin.width>O0?48:32,'" height="').concat(this.jSPlugin.width>O0?48:32,'" fill="').concat(S.color,`" viewBox="-6 -7 32 32">
            <path d="M13.2,7.1c0.1-0.2,0.5-0.3,0.7-0.2c1.1,0.7,1.9,2.2,1.9,3.7c0,1.6-0.7,3-1.9,3.7
              c-0.2,0.1-0.5,0.1-0.7-0.2c-0.1-0.2-0.1-0.5,0.2-0.7c0.8-0.5,1.4-1.6,1.4-2.9c0-1.3-0.6-2.4-1.4-2.9C13.1,7.6,13,7.3,13.2,7.1z"/>
            <path d="M15.7,4.5c0.2-0.2,0.5-0.2,0.7-0.1C18,5.8,19,8.2,19,10.7c0,2.5-1,4.8-2.7,6.3
              c-0.2,0.2-0.5,0.2-0.7-0.1c-0.2-0.2-0.2-0.5,0.1-0.7c1.4-1.2,2.3-3.3,2.3-5.5c0-2.2-0.9-4.3-2.3-5.5C15.5,5,15.5,4.7,15.7,4.5z"/>
            <path id="Stroke-5" class="st1" d="M8.5,4.7c0.8-0.7,2.1-0.2,2.2,0.9l0,0.1v10c0,1.1-1.2,1.7-2.1,1.1l-0.1-0.1l-3.3-2.8
              C5,13.7,5,13.4,5.1,13.2c0.2-0.2,0.4-0.2,0.6-0.1l0.1,0.1l3.3,2.8c0.2,0.2,0.5,0.1,0.5-0.2l0-0.1v-10c0-0.3-0.3-0.4-0.5-0.3l-0.1,0
              L5.9,8.3C5.6,8.4,5.3,8.4,5.1,8.2C5,8,5,7.7,5.1,7.6l0.1-0.1L8.5,4.7z"/>
            <path  d="M5.5,7.4C5.8,7.4,6,7.6,6,7.9c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2c-0.2,0-0.3,0.1-0.3,0.3l0,0.1v4
              c0,0.2,0.1,0.3,0.3,0.3l0.1,0h2C5.8,13,6,13.2,6,13.5c0,0.2-0.2,0.4-0.4,0.5l-0.1,0h-2c-0.7,0-1.3-0.5-1.3-1.2l0-0.1v-4
              c0-0.7,0.5-1.3,1.2-1.3l0.1,0H5.5z"/>
          </svg>`)+'</span><span id="'.concat(this.jSPlugin.id,'-sound-label" style="margin-left: -3px; color: ').concat(S.color,'">音量</span>'),S.onclick=function(){var b=o.decoderState.state,_=b.play,oe=b.sound,de=b.talk;_&&!de&&(oe?(o.jSPlugin.closeSound(),o.setDecoderState({sound:!1})):(o.jSPlugin.openSound(),o.setDecoderState({sound:!0})))},S;default:return S}}},{key:"renderInspectInfo",value:function(t,n){var o=this.matchBtn(t,n),c=document.createElement("sapn");c.innerHTML="".concat(o.domString),n.part==="left"?document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl-left")).appendChild(c):document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl-right")).appendChild(c)}},{key:"renderHeader",value:function(t,n){var o=this.matchBtn(t,n),c=document.createElement("span");c.className="".concat(this.jSPlugin.id,"-header-content"),c.style="display: flex; align-items: center; ",c.innerHTML=`
      `.concat(o.domString,`
    `),n.part==="left"?document.getElementById("".concat(this.jSPlugin.id,"-headControl-left")).appendChild(c):document.getElementById("".concat(this.jSPlugin.id,"-headControl-right")).appendChild(c)}},{key:"renderFooter",value:function(t,n){var o=this,c=this.matchBtn(t,n),d=this.videoWidth/6,u=document.createElement("div");u.className="theme-icon-item",this.jSPlugin.isWebConsole?u.style="padding:0 ".concat(d*.1,"px;"):u.style="padding:0 ".concat(d*.1,"px;cursor: pointer;"),u.innerHTML="".concat('<span id="'.concat(this.jSPlugin.id,"-").concat(c.id,'" style="position:relative;">')+'<div id="'.concat(this.jSPlugin.id,"-").concat(c.id,'-content" title="').concat(c.title,'" style="display: flex;align-items: center;position:relative;">')).concat(c.domString,"</div>")+"</span>",u.onclick=function(k){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;c.onclick(k)},c.onmouseenter&&(u.onmouseenter=function(k){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;c.onmouseenter(k)}),c.onmouseleave&&(u.onmouseleave=function(k){if(o.decoderState.state.isEditing||!o.activeThemeStatus)return!1;c.onmouseleave(k)}),document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).appendChild(u)}},{key:"initThemeData",value:function(){var t=this,n=this.themeData,o=n.customConfig,c=n.header,d=n.footer,u=o.inspectInfo,k=this.jSPlugin.id;if(this.isNeedRenderInspectInfo=Pr.findIndex(u.btnList,function(me){return me.isrender>0})>=0,this.isNeedRenderHeader=Pr.findIndex(c.btnList,function(me){return me.isrender>0})>=0,this.isNeedRenderFooter=Pr.findIndex(d.btnList,function(me){return me.isrender>0})>=0,this.isNeedRenderInspectInfo)if(document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl")))document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl")).innerHTML="<div id='".concat(this.jSPlugin.id,"-inspectInfoControl-left' style='display:flex;'></div><div id='").concat(this.jSPlugin.id,"-inspectInfoControl-right' style='display:flex'></div>");else{var P=document.createElement("div");P.setAttribute("id","".concat(this.jSPlugin.id,"-inspectInfoControl")),P.setAttribute("class","inspectInfo-controls"),P.innerHTML="<div id='".concat(this.jSPlugin.id,`-inspectInfoControl-left' class="inspectInfo-controls-left" style='display:flex;overflow:hidden;'></div><div id='`).concat(this.jSPlugin.id,`-inspectInfoControl-right' class="inspectInfo-controls-right" style='display:flex;'></div>`);var S="58px",R={height:S,display:"flex","justify-content":"space-between",top:0,"z-index":999,color:"#000000",width:"".concat(this.jSPlugin.width+290,"px"),position:"relative","align-items":"center",background:"#ffffff","border-bottom":"1px solid #D9D9D9","box-sizing":"border-box"};P.style=Ed(R),document.getElementById("".concat(k,"-wrap")).insertBefore(P,document.getElementById(this.jSPlugin.id));var b=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&clearInterval(b)},50)}else document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl"))&&document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl")));if(this.isNeedRenderHeader)if(document.getElementById("".concat(this.jSPlugin.id,"-headControl")))document.getElementById("".concat(this.jSPlugin.id,"-headControl")).innerHTML="<div id='".concat(this.jSPlugin.id,"-headControl-left' style='display:flex;'></div><div id='").concat(this.jSPlugin.id,"-headControl-right' style='display:flex'></div>");else{var _=document.createElement("div");_.setAttribute("id","".concat(this.jSPlugin.id,"-headControl")),_.setAttribute("class","header-controls"),_.innerHTML="<div id='".concat(this.jSPlugin.id,`-headControl-left' class="header-controls-left" style='display:flex; max-width: 70%; align-items: center; overflow: hidder;'></div><div id='`).concat(this.jSPlugin.id,`-headControl-right' class="header-controls-right" style='display:flex; align-items: center;'></div>`);var oe="56px",de={height:oe,display:"flex","justify-content":"space-between",top:0,"z-index":999,color:"#FFFFFF",width:this.jSPlugin.width+"px",padding:"0 16px","box-sizing":"border-box",position:"relative","align-items":"center",background:"#000000"};_.style=Ed(de),document.getElementById("".concat(k,"-wrap")).insertBefore(_,document.getElementById(k));var xe=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&clearInterval(xe)},50)}else document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&document.getElementById("".concat(this.jSPlugin.id,"-headControl")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-headControl")));var se="56px";if(this.isNeedRenderFooter)if(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")))document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.marginTop="-".concat(se,"px"));else{var Ae=document.createElement("div");Ae.setAttribute("id","".concat(this.jSPlugin.id,"-ez-iframe-footer-container")),Ae.setAttribute("class","ez-iframe-footer-container");var qe={position:"relative",display:"flex",height:"56px","flex-wrap":"wrap","justify-content":"center","z-index":999,top:0,color:"#FFFFFF",width:this.jSPlugin.width+"px","align-items":"center","background-color":"#000000","font-size":"14px"};Ae.style=Ed(qe),Ae.innerHTML=`
          <div id="`.concat(this.jSPlugin.id,`-audioControls" class="footer-controls" style='display:flex;justify-content: center;padding: 0 4%;width:100%;z-index:999;position: relative;'>
            <div id='`).concat(this.jSPlugin.id,`-audioControls-left' class="footer-controls-left" style='display:flex;margin-lefacti'></div><div id='`).concat(this.jSPlugin.id,`-audioControls-right' class="footer-controls-right" style='display:flex'></div>
          </div>
          `),Ea(Ae,document.getElementById(k))}else document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container"))&&document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).parentElement.removeChild(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")));this.isNeedRenderInspectInfo&&document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl"))&&(document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl")).style.background=u.backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl")).style.color=u.color,u.btnList.map(function(me,m){me.isrender&&t.renderInspectInfo(me.iconId,me)})),this.isNeedRenderHeader&&document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.background=c.backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.color=c.color,c.btnList.map(function(me,m){me.isrender&&t.renderHeader(me.iconId,me)})),this.isNeedRenderFooter&&document.getElementById("".concat(this.jSPlugin.id,"-audioControls"))&&(document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=d.backgroundColor,document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=d.color,d.btnList.map(function(me,m){me.isrender&&t.renderFooter(me.iconId,me)})),this.inspectMapWin=new Nm(this.jSPlugin),this.inspectSmallWin=new Km(this.jSPlugin,this.inspectMode,this.inspectMapWin,this.changeInspectMode,this.decoderState)}},{key:"renderThemeData",value:function(){var t=this,n=this.decoderState.state.isEditing,o=this.themeData,c=o.inspectInfo,d=o.header,u=o.footer;if(this.isNeedRenderInspectInfo&&c&&(document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl")).style.background=c.backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl")).style.color=c.color.replace("-diy",""),c.btnList.map(function(S,R){S.isrender&&t.setDecoderState(_t({},S.iconId,t.decoderState.state[S.iconId]))})),this.isNeedRenderHeader&&d&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.background=d.backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.color=d.color.replace("-diy",""),d.btnList&&d.btnList.map(function(S,R){S.isrender&&t.setDecoderState(_t({},S.iconId,t.decoderState.state[S.iconId]))})),this.isNeedRenderFooter&&u)document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.background=u.backgroundColor.replace("-diy",""),document.getElementById("".concat(this.jSPlugin.id,"-audioControls")).style.color=u.color.replace("-diy",""),u.btnList.map(function(S,R){if(S.isrender&&t.setDecoderState(_t({},S.iconId,t.decoderState.state[S.iconId])),R==0&&!t.themeInited&&t.activeThemeStatus)var b=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(b),t.themeData.customConfig.bellPoster==1&&!n?t.jSPlugin.pluginStatus.loadingClear():t.jSPlugin.play(),t.themeInited=!0)},50)}),this.setDecoderState({cloudRec:Nn(this.jSPlugin.url).type==="cloud.rec",rec:Nn(this.jSPlugin.url).type==="rec",type:Nn(this.jSPlugin.url).type});else if(!this.themeInited&&this.activeThemeStatus)var k=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(k),t.themeData&&t.themeData.customConfig&&t.themeData.customConfig.bellPoster==1&&!n?t.jSPlugin.pluginStatus.loadingClear():t.jSPlugin.play(),t.themeInited=!0)},50);var P=setInterval(function(){window.EZUIKit[t.jSPlugin.id].state.EZUIKitPlayer.init&&(clearInterval(P),t.reSizeVideo(t.videoWidth,t.videoHeight))},50);this.jSPlugin.Zoom||(this.jSPlugin.Zoom=new gl(this.jSPlugin)),this.getInspectDevInfo(this.jSPlugin,!0,!1)}},{key:"getInspectRecord",value:function(){var t=this,n=function(d){if(d.meta.code==200&&d.data){var u=d.data;u.inspectRange&&t.inspectMapWin.createPolygon(u.inspectRange,"#407AFF","dashed",4,1,"#407AFF",.08),u.inspectPoints&&u.inspectPoints.length>0&&t.inspectMapWin.createInspectPoints(u.inspectPoints),t.inspectMode==="video"&&t.inspectMapWin.map.removeOverlay(t.inspectMapWin.inspectRange),document.getElementById("".concat(t.jSPlugin.id,"-inspectInfo-inspectName"))&&u.inspectName&&(document.getElementById("".concat(t.jSPlugin.id,"-inspectInfo-inspectName")).innerText=""+u.inspectName),document.getElementById("".concat(t.jSPlugin.id,"-inspectInfo-inspectBeginTime"))&&u.beginTime&&(document.getElementById("".concat(t.jSPlugin.id,"-inspectInfo-inspectBeginTime")).innerText="巡检开始时间："+u.beginTime),document.getElementById("".concat(t.jSPlugin.id,"-header-inspectTime"))&&t.timer.createInterval("InspectTimer",function(){document.getElementById("".concat(t.jSPlugin.id,"-header-inspectTime")).innerHTML=t.renderInspectTime(u.beginTime)},1e3),document.getElementById("".concat(t.jSPlugin.id,"-inspectInfo-inspectPerson"))&&u.inspectPerson&&(document.getElementById("".concat(t.jSPlugin.id,"-inspectInfo-inspectPerson")).innerText="本地巡检员："+u.inspectPerson),t.inspectInfo=u,u.inspectRecordId&&xh(t.jSPlugin,u.inspectRecordId,function(k){k.meta.code==200&&k.data&&(t.inspectMapWin.createTrack(k.data,!0),t.timer.createInterval("TraceTimer",function(){u.inspectRecordId&&xh(t.jSPlugin,u.inspectRecordId,function(P){P.meta.code==200&&P.data&&t.inspectMapWin.createTrack(P.data,!1)},function(){})},5e3))},function(){}),t.InspectEvent=new Jm(t.jSPlugin,u.inspectRecordId,t.timer)}},o=function(d){};Hm(this.jSPlugin,n,o)}},{key:"getInspectDevInfo",value:function(t){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=function(P){P.meta&&P.meta.code==200&&P.data?P.data.status===1?(c&&!n.decoderState.state.play&&(n.jSPlugin.pluginStatus.loadingStart(n.jSPlugin.id),n.jSPlugin.pluginStatus.loadingSetText({text:"视频加载中"}),n.jSPlugin.play()),n.globalContainer.globalContainerToggle("".concat(n.jSPlugin.id,"-inspect-global-box"),!1),document.getElementById("".concat(n.jSPlugin.id,"-header-deviceName"))&&(document.getElementById("".concat(n.jSPlugin.id,"-header-deviceName")).innerText="".concat(P.data.deviceName,"(").concat(P.data.deviceSerial,")"),document.getElementById("".concat(n.jSPlugin.id,"-header-deviceName")).setAttribute("title","".concat(P.data.deviceName,"(").concat(P.data.deviceSerial,")"))),document.getElementById("".concat(n.jSPlugin.id,"-header-signalType"))&&(document.getElementById("".concat(n.jSPlugin.id,"-header-signalType")).innerHTML=n.renderSignalType(P.data.signalType)),document.getElementById("".concat(n.jSPlugin.id,"-header-batteryStatus"))&&(document.getElementById("".concat(n.jSPlugin.id,"-header-batteryStatus")).innerHTML=n.renderBatteryStatus(P.data.batteryStatus)),n.timer.createInterval("InspectDevInfoTimer",function(){n.getInspectDevInfo(t,!1,!1)},3e5),o&&n.getInspectRecord()):(n.globalContainer.globalContainerToggle("".concat(n.jSPlugin.id,"-inspect-loading-box"),!1),n.jSPlugin.stop(),n.globalContainer.deviceErrorInfo({tips:"当前设备未在巡检中",refreshBtn:"刷新",refreshShow:!0},function(){n.globalContainer.globalContainerToggle("".concat(n.jSPlugin.id,"-no-inspect-box"),!1),n.globalContainer.globalContainerToggle("".concat(n.jSPlugin.id,"-inspect-loading-box"),!0),n.getInspectDevInfo(t,!0,!0)})):(n.globalContainer.globalContainerToggle("".concat(n.jSPlugin.id,"-inspect-loading-box"),!1),n.jSPlugin.stop(),n.globalContainer.deviceErrorInfo({tips:P.meta.message,refreshShow:!1}))},u=function(){n.globalContainer.globalContainerToggle("".concat(n.jSPlugin.id,"-inspect-global-box"),!1)};Vm(t,d,u)}},{key:"fetchThemeData",value:function(t){var n=this,o=function(u){if(u.meta.code===0&&u.data)n.activeThemeStatus=!0,n.themeData=u.data,n.jSPlugin.capacity?(n.initThemeData(),n.renderThemeData()):setTimeout(function(){n.initThemeData(),n.renderThemeData()},300);else if(n.activeThemeStatus=!1,n.jSPlugin.pluginStatus.loadingClear(),u.meta.code=="111021"){n.globalContainer.globalContainerToggle("".concat(n.jSPlugin.id,"-inspect-loading-box"),!1),n.jSPlugin.stop(),n.globalContainer.deviceErrorInfo({tips:"无效的模板id",refreshBtn:"刷新",refreshShow:!1}),n.activeThemeStatusTxt="无效的模板id";return}else if(u.meta.code=="111023"){n.globalContainer.globalContainerToggle("".concat(n.jSPlugin.id,"-inspect-loading-box"),!1),n.jSPlugin.stop(),n.globalContainer.deviceErrorInfo({tips:"您的试用特权已到期，需前往轻应用控制台购买后使用。",refreshBtn:"刷新",refreshShow:!1}),n.activeThemeStatusTxt="试用特权已到期";return}else{n.globalContainer.globalContainerToggle("".concat(n.jSPlugin.id,"-inspect-loading-box"),!1),n.jSPlugin.stop(),n.globalContainer.deviceErrorInfo({tips:"模板未激活，请先在开放平台轻应用控制台购买模板",refreshBtn:"刷新",refreshShow:!1}),n.activeThemeStatusTxt="模板未激活";return}},c=function(){n.themeData=_h.data,n.themeData.header&&(n.themeData.header.btnList=n.themeData.header.btnList.sort(function(u,k){return u.btnKey.split("-")[3]-k.btnKey.split("-")[3]})),n.themeData.footer&&(n.themeData.footer.btnList=n.themeData.footer.btnList.sort(function(u,k){return u.btnKey.split("-")[3]-k.btnKey.split("-")[3]})),n.initThemeData(),n.renderThemeData()};ic(this.jSPlugin,t,o,c)}},{key:"reSizeVideo",value:function(t,n){if(document.getElementById("".concat(this.jSPlugin.id)).style.width=t+"px",document.getElementById("".concat(this.jSPlugin.id)).style.height=n+"px",this.jSPlugin&&this.jSPlugin.bPlay)this.jSPlugin.JS_Resize(t,n);else{document.getElementById("".concat(this.jSPlugin.id,"-player"))&&(document.getElementById("".concat(this.jSPlugin.id,"-player")).width=t,document.getElementById("".concat(this.jSPlugin.id,"-player")).height=n,document.getElementById("".concat(this.jSPlugin.id,"-player")).style.width=t+"px",document.getElementById("".concat(this.jSPlugin.id,"-player")).style.height=n+"px",document.getElementById("".concat(this.jSPlugin.id,"-container-0")).style.height=n+"px");var o=1;if(document.getElementById("".concat(this.jSPlugin.id,"canvas0"))){var c=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);c&&(o=2),document.getElementById("".concat(this.jSPlugin.id,"canvas0")).style.width=t*o+"px",document.getElementById("".concat(this.jSPlugin.id,"canvas0")).style.height=n*o+"px",document.getElementById("".concat(this.jSPlugin.id,"canvas0")).width=t*o,document.getElementById("".concat(this.jSPlugin.id,"canvas0")).height=n*o,document.getElementById("".concat(this.jSPlugin.id,"canvas0")).parentNode.style.width=t*o+"px",document.getElementById("".concat(this.jSPlugin.id,"canvas0")).parentNode.style.height=n*o+"px",document.getElementById("".concat(this.jSPlugin.id,"canvas_draw0")).height=n*o}}}},{key:"reSize",value:function(t,n){var o=t*.3333,c=n*.3333;document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl"))&&(document.getElementById("".concat(this.jSPlugin.id,"-inspectInfoControl")).style.width=t+this.jSPlugin.inspectVideoWidth+"px"),document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(document.getElementById("".concat(this.jSPlugin.id,"-headControl")).style.width=t+"px"),document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.width=t+"px"),this.jSPlugin.Theme.inspectMode==="video"?(this.reSizeVideo(t,n),document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.top=0),document.getElementById("".concat(this.jSPlugin.id,"-mapbox")).style.width=o+"px",document.getElementById("".concat(this.jSPlugin.id,"-mapbox")).style.height=c+"px"):(document.getElementById("".concat(this.jSPlugin.id,"-headControl"))&&(document.getElementById("".concat(this.jSPlugin.id,"-ez-iframe-footer-container")).style.top=n+"px"),this.reSizeVideo(o,c),document.getElementById("".concat(this.jSPlugin.id,"-mapbox")).style.width=t+"px",document.getElementById("".concat(this.jSPlugin.id,"-mapbox")).style.height=n+"px"),document.getElementById("".concat(this.jSPlugin.id,"-miniToggle")).style.bottom=c/2+96-30+"px",document.getElementById("".concat(this.jSPlugin.id,"-miniToggle")).style.right=this.jSPlugin.inspectVideoWidth+o+"px"}}]),J}(),t_=function(){function J(g){var t=this;if(Re(this,J),_t(this,"changeInspectMode",function(n){t.inspectMode=n}),this.jSPlugin=g,this.videoWidth=g.width,this.videoHeight=g.height,this.inspectMode="video",this.autoFocus=0,this.decoderState={state:{isEditing:!1,play:!1,sound:!1,recordvideo:!1,recordCount:"00:00",talk:!1,mute:!1,rejection:!1,cloudRec:Nn(g.url).type==="cloud.rec",rec:Nn(g.url).type==="rec",type:Nn(g.url).type}},this.isMobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),typeof g.isMobile<"u"&&(this.isMobile=g.isMobile),this.themeData=_h.data,this.jSPlugin.themeId=="themeData"&&(this.themeData=this.jSPlugin.params.themeData),this.timer||(this.timer=new zm(g)),this.jSPlugin.themeId)switch(this.isMobile||(this.inspect=new e_(this.jSPlugin,this.themeData,this.setDecoderState,this.decoderState,this.inspectMode,this.changeInspectMode,this.timer)),this.jSPlugin.themeId){case"themeData":this.themeData=this.jSPlugin.params.themeData,this.inspect.initThemeData(),this.inspect.renderThemeData();break;default:this.inspect.fetchThemeData(this.jSPlugin.themeId);break}this.jSPlugin.Talk||(this.jSPlugin.Talk=new tc(this.jSPlugin)),qn("".concat(this.jSPlugin.staticPath,"/css/theme.css")),qn("".concat(this.jSPlugin.staticPath,"/css/component.css")),qn("".concat(this.jSPlugin.staticPath,"/css/inspectTheme.css"))}return xt(J,[{key:"setDecoderState",value:function(t,n){var o=this,c="#FFFFFF",d="#1890FF";Object.keys(t).map(function(u){switch(u){case"talk":document.getElementById("".concat(o.jSPlugin.id,"-talk"))&&(document.getElementById("".concat(o.jSPlugin.id,"-talk")).className=t[u]?"active":"",document.getElementById("".concat(o.jSPlugin.id,"-talk-content")).childNodes[1].style.fill=t[u]?d:c,document.getElementById("".concat(o.jSPlugin.id,"-talk-content")).childNodes[2].style.color=t[u]?d:c);break;case"sound":document.getElementById("".concat(o.jSPlugin.id,"-sound"))&&(t[u]?(document.getElementById("".concat(o.jSPlugin.id,"-sound-content")).children[0].children[1].style="display:inline-block",document.getElementById("".concat(o.jSPlugin.id,"-sound-content")).children[0].children[0].style="display:none",document.getElementById("".concat(o.jSPlugin.id,"-sound")).className=t[u]?"active":"",document.getElementById("".concat(o.jSPlugin.id,"-sound-content")).childNodes[0].children[1].style.fill=t[u]?d:c,document.getElementById("".concat(o.jSPlugin.id,"-sound-label")).style.color=t[u]?d:c):(document.getElementById("".concat(o.jSPlugin.id,"-sound-content")).children[0].children[0].style="display:inline-block",document.getElementById("".concat(o.jSPlugin.id,"-sound-content")).children[0].children[1].style="display:none",document.getElementById("".concat(o.jSPlugin.id,"-sound")).className=t[u]?"active":"",document.getElementById("".concat(o.jSPlugin.id,"-sound-label")).style.color=t[u]?d:c));break}o.decoderState.state=Object.assign(o.decoderState.state,t)})}},{key:"setDisabled",value:function(t){var n=this.decoderState.state,o=n.sound;n.hd,document.getElementById(o?"".concat(this.jSPlugin.id,"-sound-icon"):"".concat(this.jSPlugin.id,"-nosound-icon"))!=null&&document.getElementById(o?"".concat(this.jSPlugin.id,"-sound-icon"):"".concat(this.jSPlugin.id,"-nosound-icon")).setAttribute("style",t?"cursor: not-allowed;fill: gray":"cursor: default"),document.getElementById("".concat(this.jSPlugin.id,"-sound-label"))!=null&&document.getElementById("".concat(this.jSPlugin.id,"-sound-label")).setAttribute("style",t?"cursor: not-allowed; color: gray":"cursor: default"),document.getElementById("".concat(this.jSPlugin.id,"-talk-icon"))!=null&&document.getElementById("".concat(this.jSPlugin.id,"-talk-icon")).setAttribute("style",t?"cursor: not-allowed;fill: gray":"cursor: default"),document.getElementById("".concat(this.jSPlugin.id,"-talk-label"))!=null&&document.getElementById("".concat(this.jSPlugin.id,"-talk-label")).setAttribute("style",t?"cursor: not-allowed; color: gray":"cursor: default")}},{key:"inspectEnding",value:function(){var t=document.createElement("div");t.id="".concat(this.jSPlugin.id,"-inspect-ending-box"),t.style="width:100%; position: absolute; z-index: 10000;  top:58px; bottom:0; left:0; background: #ffffff;",t.innerHTML=`<div style="
      overflow: auto;
      box-sizing: border-box;
      font-size: 14px;
      color: #595959;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
    ">
      <div>
        <div style="text-align:center; height: 21px;">
          <svg t="1689074472491" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7172" xmlns:xlink="http://www.w3.org/1999/xlink" width="21" height="21"><path d="M512 64a448 448 0 1 0 0 896A448 448 0 0 0 512 64z m-32 232c0-4.416 3.584-8 8-8h48c4.416 0 8 3.584 8 8v272A8 8 0 0 1 536 576h-48a8 8 0 0 1-8-8v-272zM512 736A48 48 0 1 1 512 640a48 48 0 0 1 0 96z" fill="#FF4D4F" p-id="7173"></path></svg>
        </div>
        <div style="color: #595959; font-size:14px; margin: 5px 0 16px;font-weight: 400; text-align: center;">巡检已结束</div>
      </div>
    </div>
    `,document.getElementById("".concat(this.jSPlugin.id,"-wrap")).appendChild(t),this.jSPlugin.Zoom&&this.jSPlugin.Zoom.stopZoom()}}]),J}(),i_=function(){function J(){Re(this,J),this.events={}}return xt(J,[{key:"on",value:function(t,n){!t||!n||(this.events[t]=this.events[t]||[],this.events[t].push(n))}},{key:"emit",value:function(t,n){t&&this.events[t]&&this.events[t].forEach(function(o){return o(n)})}},{key:"off",value:function(t,n){!t||!n||this.events[t]&&this.events[t].splice(this.events[t].indexOf(n),1)}},{key:"once",value:function(t,n){var o=this;function c(){var d=Array.prototype.slice.call(arguments);n.apply(null,d),o.off(t,c)}this.on(t,c)}},{key:"removeAllListener",value:function(){this.events={}}}]),J}();(function(J,g){K(s)==="object"&&K(s.exports)==="object"?s.exports=J.document?g(J,!0):function(t){if(!t.document)throw new Error("EZUIPlayer requires a window with a document");return g(t)}:g(J)})(typeof window<"u"?window:void 0,function(J,g){var t;function n(R,b){for(var _=document.getElementsByTagName("head")[0].getElementsByTagName("script"),oe=!1,de=0;de<_.length;de++)_[de].getAttribute("src")==R&&(oe=!0,b());if(!oe){var xe=document.createElement("script");xe.setAttribute("src",R),xe.onload=b,document.getElementsByTagName("head")[0].appendChild(xe)}}function o(R,b){for(var _=document.getElementsByTagName("head")[0].getElementsByTagName("link"),oe=!1,de=0;de<_.length;de++)_[de].getAttribute("href")==R&&(oe=!0,b());if(!oe){var xe=document.createElement("link");xe.rel="stylesheet",xe.type="text/css",xe.href=R,xe.onload=b,document.getElementsByTagName("head")[0].appendChild(xe)}}function c(R,b,_,oe,de,xe){var se=R,Ae=new XMLHttpRequest;Ae.onreadystatechange=function(){if(Ae.readyState==4&&Ae.status==200){var m=JSON.parse(Ae.responseText);de(m)}},Ae.open(b,se,!0);var qe=new FormData;for(var me in _)qe.append(me,_[me]);Ae.send(qe)}var d={EZUIKitPlayer:void 0,EZUIKitTalk:void 0,opt:{apiDomain:"https://open.ys7.com/api/lapp/live/talk/url",filePath:"https://open.ys7.com/assets/ezuikit_v2.6.4",accessToken:"",url:"",deviceSerial:"",channelNo:"",id:"",talkLink:"",rtcUrl:"",ttsUrl:"",stream:"",isReliesReady:!1,template:"simple",plugin:[],audio:1,autoplay:1,videoLoading:!1},state:(t={countTimer:void 0,recodeTime:0,recodeTimer:void 0},_t(t,"recodeTime",0),_t(t,"fetchDefaultList",!1),_t(t,"page",0),_t(t,"pageSize",5),t),handleTalkSuccess:function(){},handleTalkError:function(){}},u="https://open.ys7.com",k=u,P=function(b){var m=this;this.opt={id:b.id,apiDomain:u+"/api/lapp/live/talk/url",filePath:k+"/assets/ezuikit_v2.6.4",decoderVersion:"",accessToken:"",url:"",deviceSerial:"",channelNo:"",talkLink:"",rtcUrl:"",ttsUrl:"",stream:"",isReliesReady:!1,template:"simple",plugin:[],audio:1,autoplay:1,fullScreenStatus:0,bSupporDoubleClickFull:!0,videoLoading:!1},this.params=b,b.id&&(this.opt.id=b.id),b.accessToken&&(this.opt.accessToken=b.accessToken),typeof b.audio<"u"&&(this.opt.audio=b.audio),typeof b.decoderVersion<"u"&&(this.opt.decoderVersion=b.decoderVersion),typeof b.env<"u"&&(typeof b.env.domain<"u"&&(u=b.env.domain,this.opt.apiDomain=u+"/api/lapp/live/talk/url"),typeof b.env.filePathDomain<"u"&&(k=b.env.filePathDomain,this.opt.filePathDomain=b.env.filePathDomain)),b.url&&(this.opt.url=b.url,this.opt.deviceSerial=b.url.split("/")[3],this.opt.channelNo=b.url.split("/")[4].split(".")[0]),typeof b.template<"u"&&(this.opt.template=b.template),b.plugin&&(this.opt.plugin=b.plugin),typeof b.autoplay<"u"&&(this.opt.autoplay=b.autoplay?1:0),typeof b.bSupporDoubleClickFull<"u"&&(this.opt.bSupporDoubleClickFull=b.bSupporDoubleClickFull),typeof b.handleTalkSuccess<"u"&&(J.EZUIKit.handleTalkSuccess=b.handleTalkSuccess),typeof b.handleTalkError<"u"&&(J.EZUIKit.handleTalkError=b.handleTalkError);var _=this.opt.id,oe=document.getElementById(_);oe.style.fontSize=0,oe.style.overflowY="auto",oe.style.position="relative";var de=document.createElement("iframe");function xe(){switch(m.opt.template){case"simple":var le=u+"/ezopen/h5/iframe?bSupporDoubleClickFull=0&url="+m.opt.url.replace("?","&")+"&autoplay="+m.opt.autoplay+"&audio="+m.opt.audio+"&accessToken="+b.accessToken+"&templete=0&id="+_+"&decoderVersion="+m.opt.decoderVersion,re="";return typeof b.controls<"u"&&b.controls&&(console.log("typeof",K(b.controls)),re="play,voice,hd,fullScreen",b.controls.length>0&&(re=b.controls.join(","),le+="&controls="+re)),b.websocketParams&&(le+="&websocketParams="+JSON.stringify(b.websocketParams)),le;case"standard":return u+"/ezopen/h5/iframe?bSupporDoubleClickFull=0&url="+m.opt.url.replace("?","&")+"&autoplay="+m.opt.autoplay+"&audio="+m.opt.audio+"&accessToken="+b.accessToken+"&templete=1&id="+_+"&decoderVersion="+m.opt.decoderVersion;case"security":return u+"/ezopen/h5/iframe_se?bSupporDoubleClickFull=0&url="+m.opt.url.replace("?","&")+"&autoplay="+m.opt.autoplay+"&audio="+m.opt.audio+"&accessToken="+b.accessToken+"&templete=0&id="+_+"&decoderVersion="+m.opt.decoderVersion;case"theme":return le=u+"/jssdk/theme.html?url=".concat(b.url,"&accessToken=").concat(b.accessToken,"&id=").concat(_,"&isMobile=").concat(b.isMobile),typeof b.isMobile<"u"&&(le+="&isMobile="+b.isMobile),typeof b.autoplay<"u"&&(le+="&autoplay="+b.autoplay),typeof b.domain<"u"&&b.domain=="https://test12open.ys7.com"&&(le+="&env=test12"),typeof b.env<"u"&&typeof b.env.domain<"u"&&b.env.domain=="https://test12open.ys7.com"&&(le+="&env=test12"),typeof b.header<"u"&&(le+="&header="+b.header),le;default:return u+"/ezopen/h5/iframe?bSupporDoubleClickFull=0&url="+m.opt.url.replace("?","&")+"&autoplay="+m.opt.autoplay+"&audio="+m.opt.audio+"&accessToken="+b.accessToken+"&templete=0&id="+_+"&decoderVersion="+m.opt.decoderVersion}}de.src=xe();var se=document.getElementById(_).offsetHeight,Ae=document.getElementById(_).offsetWidth;b.height&&(se=parseInt(b.height),/\%$/.test(b.height)&&(Ae=document.getElementById(_).offsetWidth*(parseInt(b.height)/100))),b.width&&(Ae=parseInt(b.width),/\%$/.test(b.width)&&(Ae=document.getElementById(_).offsetWidth*(parseInt(b.width)/100))),de.width=Ae,de.height=se,de.id="EZUIKitPlayer-"+_,de.setAttribute("allowfullscreen",!0),de.setAttribute("allow","autoplay"),de.setAttribute("frameborder",0),oe.appendChild(de);var qe=m.opt.filePath+"/js/jquery.js",me="https://open.ys7.com/assets/layer/layer.js";n(qe,function(){n(me,function(){if(Ve().headerContainer){var le=document.createElement("div");le.setAttribute("class","panel-top");var re=document.createElement("div");if(re.setAttribute("class","contros"),le.appendChild(re),oe.insertBefore(le,de),Ve().capturePictureModule){var Pe=document.createElement("span");Pe.innerHTML='<span title="截图"><svg id="capturePicture" title="截图" t="1578882764585" class="icon" viewBox="0 0 1024 1024" version="1.1"  xmlns="http://www.w3.org/2000/svg" p-id="5958" width="24" height="24">  <path    d="M887.296 315.904h-153.6c-51.2 0-68.096-102.4-119.296-102.4H392.704c-34.304 0-51.2 102.4-102.4 102.4h-153.6c-29.696 0-51.2 21.504-51.2 51.2v439.296c0 25.6 21.504 47.104 51.2 47.104h751.104c29.696 0 51.2-21.504 51.2-51.2v-435.2c-0.512-30.208-21.504-51.2-51.712-51.2zM512 768c-115.2 0-204.8-89.6-204.8-200.704s89.6-200.704 204.8-200.704 204.8 89.6 204.8 200.704-93.696 200.704-204.8 200.704z m247.296-354.304c-12.8 0-25.6-12.8-25.6-25.6s12.8-25.6 25.6-25.6 25.6 12.8 25.6 25.6c0 17.408-12.8 25.6-25.6 25.6zM256 264.704c0-8.704-8.704-16.896-16.896-16.896h-51.2c-8.704 0-16.896 8.704-16.896 16.896V281.6H256v-16.896z m256 148.992c-85.504 0-153.6 68.096-153.6 153.6s68.096 153.6 153.6 153.6 153.6-68.096 153.6-153.6-68.096-153.6-153.6-153.6z"    fill="#ffffff" p-id="5959"></path></svg></span>',Pe.onclick=function(){m.capturePicture()},re.appendChild(Pe)}if(console.log("matchHeaderOpt().saveModule",Ve().saveModule),Ve().saveModule){var fe=document.createElement("span");fe.innerHTML='<span title="开始录像">  <svg id="startSave" t="1578882716693" class="icon" viewBox="0 0 1024 1024" version="1.1"    xmlns="http://www.w3.org/2000/svg" p-id="3782" width="24" height="24">    <path      d="M915.2 729.6l-128-76.8c-25.6-12.8-44.8-32-44.8-51.2V435.2c0-25.6 19.2-38.4 44.8-51.2l128-76.8c25.6-12.8 44.8 0 44.8 19.2V704c0 32-19.2 38.4-44.8 25.6z m-332.8 89.6H96c-51.2 0-89.6-38.4-89.6-89.6V332.8c0-51.2 38.4-89.6 89.6-89.6h486.4c51.2 0 89.6 38.4 89.6 89.6v396.8c0 51.2-38.4 89.6-89.6 89.6zM192 364.8c-32 6.4-57.6 32-64 64-12.8 57.6 38.4 115.2 96 102.4 32-6.4 57.6-32 64-70.4 12.8-57.6-38.4-108.8-96-96z m0 0"      p-id="3783" fill="#ffffff"></path>  </svg></span>',fe.onclick=function(){m.startSave(),document.getElementById("startSave").setAttribute("class","icon hide"),document.getElementById("stopSave").setAttribute("class","icon")},re.appendChild(fe);var $e=document.createElement("span");$e.innerHTML='<span title="结束录像"> <svg id="stopSave" t="1578882716693" class="icon hide" viewBox="0 0 1024 1024" version="1.1"   xmlns="http://www.w3.org/2000/svg" p-id="3782" width="24" height="24">   <path     d="M915.2 729.6l-128-76.8c-25.6-12.8-44.8-32-44.8-51.2V435.2c0-25.6 19.2-38.4 44.8-51.2l128-76.8c25.6-12.8 44.8 0 44.8 19.2V704c0 32-19.2 38.4-44.8 25.6z m-332.8 89.6H96c-51.2 0-89.6-38.4-89.6-89.6V332.8c0-51.2 38.4-89.6 89.6-89.6h486.4c51.2 0 89.6 38.4 89.6 89.6v396.8c0 51.2-38.4 89.6-89.6 89.6zM192 364.8c-32 6.4-57.6 32-64 64-12.8 57.6 38.4 115.2 96 102.4 32-6.4 57.6-32 64-70.4 12.8-57.6-38.4-108.8-96-96z m0 0"     p-id="3783" fill="red"></path> </svg> </span>',$e.onclick=function(){m.stopSave(),document.getElementById("stopSave").setAttribute("class","icon hide"),document.getElementById("startSave").setAttribute("class","icon")},re.appendChild($e)}if(Ve().zoomModule){var ot=document.createElement("span");ot.innerHTML='<span title="开启电子放大">  <svg id="enableZoom" t="1578882639834" class="icon" viewBox="0 0 1000 1000" version="1.1"    xmlns="http://www.w3.org/2000/svg" p-id="2227" width="24" height="24">    <path      d="M830.6119 441.1089c0-193.7756-157.0939-350.8641-350.8775-350.8641S128.8559 247.3333 128.8559 441.1089 285.9508 791.972 479.7344 791.972 830.6119 634.8845 830.6119 441.1089zM483.2821 710.4863c-146.7975 0-265.8187-118.9953-265.8187-265.8088S336.4847 178.8697 483.2821 178.8697s265.8197 118.9953 265.8197 265.8078S630.0796 710.4863 483.2821 710.4863zM770.6031 653.5739l-72.6417 75.9485 141.6917 160.1814 82.0737-90.0739L770.6031 653.5739zM527.5849 267.4727h-88.60655762279428v132.90489048425167H306.0690340253259v88.60292721534799h132.90933675248866v132.9038911617923h88.60655762279428V488.9794719180395h132.90933675248866v-88.60292721534799H527.5849284006089V267.4726535408993z"      p-id="2228" fill="#ffffff"></path>  </svg></span>',ot.onclick=function(){m.enableZoom(),document.getElementById("enableZoom").setAttribute("class","icon hide"),document.getElementById("closeZoom").setAttribute("class","icon")},re.appendChild(ot);var F=document.createElement("span");F.innerHTML='<span title="关闭电子放大">  <svg id="closeZoom" t="1578882639834" class="icon hide" viewBox="0 0 1000 1000" version="1.1"    xmlns="http://www.w3.org/2000/svg" p-id="2227" width="24" height="24">    <path      d="M830.6119 441.1089c0-193.7756-157.0939-350.8641-350.8775-350.8641S128.8559 247.3333 128.8559 441.1089 285.9508 791.972 479.7344 791.972 830.6119 634.8845 830.6119 441.1089zM483.2821 710.4863c-146.7975 0-265.8187-118.9953-265.8187-265.8088S336.4847 178.8697 483.2821 178.8697s265.8197 118.9953 265.8197 265.8078S630.0796 710.4863 483.2821 710.4863zM770.6031 653.5739l-72.6417 75.9485 141.6917 160.1814 82.0737-90.0739L770.6031 653.5739zM527.5849 267.4727h-88.60655762279428v132.90489048425167H306.0690340253259v88.60292721534799h132.90933675248866v132.9038911617923h88.60655762279428V488.9794719180395h132.90933675248866v-88.60292721534799H527.5849284006089V267.4726535408993z"      p-id="2228" fill="red"></path>  </svg></span>',F.onclick=function(){m.closeZoom(),document.getElementById("closeZoom").setAttribute("class","icon hide"),document.getElementById("enableZoom").setAttribute("class","icon")},re.appendChild(F)}}function Ie(){var ce={footerContainer:!1,talkModule:!1,broadcastModule:!1,hdModule:!1,fullScreenModule:!1},ie=m.opt.template;switch(ie){case"simple":if(b.footer&&b.footer instanceof Array){var Oe=b.footer;ce={footerContainer:!0,talkModule:Oe.indexOf("talk")!==-1,broadcastModule:Oe.indexOf("broadcast")!==-1,hdModule:Oe.indexOf("hd")!==-1,fullScreenModule:Oe.indexOf("fullScreen")!==-1}}break;case"standard":if(b.footer&&b.footer instanceof Array){var Oe=b.footer;ce={footerContainer:!0,talkModule:Oe.indexOf("talk")!==-1,broadcastModule:Oe.indexOf("broadcast")!==-1,hdModule:Oe.indexOf("hd")!==-1,fullScreenModule:Oe.indexOf("fullScreen")!==-1}}break;case"security":break;case"voice":ce={footerContainer:!0,talkModule:!0,broadcastModule:!0,hdModule:!0,fullScreenModule:!0};break}return ce}function Ve(){var ce={headerContainer:!1,capturePictureModule:!1,saveModule:!1,zoomModule:!1},ie=m.opt.template;switch(ie){case"simple":if(b.header&&b.header instanceof Array){var Oe=b.header;ce={headerContainer:!0,capturePictureModule:Oe.indexOf("capturePicture")!==-1,saveModule:Oe.indexOf("save")!==-1,zoomModule:Oe.indexOf("zoom")!==-1}}break;case"standard":break;case"security":break;case"voice":ce={headerContainer:!0,capturePictureModule:!0,saveModule:!0,zoomModule:!0};break}return ce}if(Ie().footerContainer||m.opt.plugin.indexOf("talk")!==-1){var yi=m.opt.filePath+"/npm/css/recoder.css",Hi=m.opt.filePath+"/npm/js/recoder.js",Pi=m.opt.filePath+"/recorder.js";if(o(yi,function(){}),n(Hi,function(){n(Pi,function(){})}),m.opt.plugin.indexOf("talk")!==-1||Ie().talkModule){var Ci=function(ie){if(console.log("data",ie),ie.code==200){var Oe=ie.data;if(Oe){var Qe=Oe.rtcUrl;Qe.indexOf("ws")===-1&&(Qe=Qe.replace("https","wss").replace("rtcgw","rtcgw-ws")),m.opt.rtcUrl=Qe,m.opt.ttsUrl="tts://"+Oe.ttsUrl;var st="talk://"+m.opt.deviceSerial+":0:"+m.opt.channelNo+":cas.ys7.com:6500";if(m.opt.talkLink=m.opt.ttsUrl+"/"+st,m.opt.stream=Oe.stream,console.log("_this.opt",m.opt),!m.opt.isReliesReady){var D=m.opt.filePath+"/npm/js/adapeter.js",Xe=m.opt.filePath+"/npm/js/janus.js",X=m.opt.filePath+"/npm/js/tts.js";console.log("加载jquery.js"),n(D,function(){console.log("加载adapeter.js"),n(Xe,function(){console.log("加载janus.js"),n(X,function(){console.log("加载tts.js"),m.opt.isReliesReady=!0})})},function(){return!!J.adapter})}if(!document.getElementById("audioleft")){var Ce=document.createElement("div");Ce.style.display="none",Ce.id="audioleft",document.body.appendChild(Ce)}if(!document.getElementById("audioright")){var ve=document.createElement("div");ve.style.display="none",ve.id="audioright",document.body.appendChild(ve)}}}d.opt=m.opt,J.EZUIKit&&(J.EZUIKit.opt=m.opt)};c(m.opt.apiDomain,"POST",{accessToken:m.opt.accessToken,deviceSerial:m.opt.deviceSerial,channelNo:m.opt.channelNo},"",Ci)}if(Ie().footerContainer){var Qi=function(ie,Oe){if(clearInterval(d.state.countTimer),ie==="add"){var Qe=Oe;d.state.countTimer=setInterval(function(){++Qe,document.getElementById("time-area").innerHTML=st(Qe)},1e3)}else if(ie==="sub"){var Qe=Oe;d.state.countTimer=setInterval(function(){Qe>0?(Qe--,document.getElementById("time-area").innerHTML=st(Qe)):(clearInterval(d.state.countTimer),d.state.countTimer=void 0,console.log("倒计时结束，开启声音"))},1e3)}else ie==="destory"&&(clearInterval(d.state.countTimer),d.state.countTimer=void 0,document.getElementById("time-area").innerHTML="00:00");function st(D){var Xe=parseInt(D),X=0,Ce=0,ve="00",Le="00",pe="00";return Xe>59&&(X=parseInt(Xe/60),Xe=parseInt(Xe%60),X>59&&(Ce=parseInt(X/60),X=parseInt(X%60))),ve=parseInt(Xe)>9?parseInt(Xe):"0"+parseInt(Xe),Le=parseInt(X)>9?parseInt(X):"0"+parseInt(X),pe=parseInt(Ce)>9?parseInt(Ce):"0"+parseInt(Ce),Ce>0?pe+":"+Le+":"+ve:X>0?Le+":"+ve:"00:"+ve}},at=document.createElement("div");if(at.setAttribute("class","audio-controls"),oe.appendChild(at),Ie().hdModule||Ie().fullScreenModule){var pt=document.createElement("div");if(pt.setAttribute("class","contros"),at.appendChild(pt),Ie().hdModule){var rt=document.createElement("span");rt.setAttribute("id","video-hd"),rt.innerHTML=m.opt.url.indexOf(".hd")===-1?"标清":"高清",rt.onclick=function(){if(m.opt.videoLoading)return layer.msg("视频加载中，请稍后"),!1;var ce=m.stop();m.opt.videoLoading=!0,ce.then(function(ie){m.opt.videoLoading=!1,m.opt.url.indexOf(".hd")===-1?(m.opt.url=m.opt.url.replace(".live",".hd.live"),rt.innerHTML=m.opt.url.indexOf(".hd")===-1?"标清":"高清"):(m.opt.url=m.opt.url.replace(".hd.live",".live"),rt.innerHTML=m.opt.url.indexOf(".hd")===-1?"标清":"高清"),m.play(m.opt.url)}).catch(function(ie){console.log("error",ie)})},pt.appendChild(rt)}if(Ie().fullScreenModule){var We=document.createElement("span");We.setAttribute("class","hide"),We.setAttribute("id","ezuikit-open-sound"),We.setAttribute("title","打开声音"),We.setAttribute("style","vertical-align: top;"),We.innerHTML='<svg t="1590476263239" class="icon" viewBox="0 0 1178 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2273" width="16" height="16"><path d="M665.6 51.2 665.6 51.2c-10.24-30.72-40.96-51.2-71.68-51.2-5.12 0-15.36 0-20.48 5.12l0 0L358.4 153.6 51.2 209.92l0 0C20.48 220.16 0 250.88 0 281.6 0 286.72 0 291.84 0 307.2l0 0 0 409.6 0 0c0 15.36 0 20.48 0 25.6 0 30.72 20.48 61.44 51.2 71.68l0 0L358.4 870.4l97.28 71.68 107.52 76.8 0 0c5.12 5.12 15.36 5.12 25.6 5.12 40.96 0 76.8-35.84 76.8-76.8 0-10.24 0-10.24 0-25.6l0 0L665.6 51.2zM563.2 870.4l-153.6-102.4-307.2-51.2L102.4 307.2l307.2-51.2 153.6-102.4L563.2 870.4z" p-id="2274" fill="#FF0000"></path><path d="M1049.6 537.6l112.64-112.64c20.48-20.48 20.48-56.32 0-76.8-20.48-20.48-56.32-20.48-76.8 0L972.8 460.8l-112.64-112.64c0 0 0 0 0 0-20.48-20.48-56.32-20.48-76.8 0 0 0 0 0 0 0-20.48 20.48-20.48 56.32 0 76.8l112.64 112.64-112.64 112.64c-20.48 20.48-20.48 56.32 0 76.8 20.48 20.48 56.32 20.48 76.8 0L972.8 614.4l112.64 112.64c20.48 20.48 56.32 20.48 76.8 0s20.48-56.32 0-76.8L1049.6 537.6z" p-id="2275" fill="#FF0000"></path></svg>',We.onclick=function(){m.openSound(0),We.setAttribute("class","hide"),ft.setAttribute("class","")};var ft=document.createElement("span");We.setAttribute("id","ezuikit-close-sound"),ft.setAttribute("class","hide"),ft.setAttribute("title","关闭声音"),ft.setAttribute("style","vertical-align: top;"),ft.innerHTML='<svg t="1590414410633" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20545" width="16" height="16"><path d="M840.533333 98.133333c-17.066667-17.066667-42.666667-17.066667-59.733333 0-17.066667 17.066667-17.066667 42.666667 0 59.733334C883.2 256 938.666667 392.533333 938.666667 533.333333c0 140.8-55.466667 277.333333-157.866667 375.466667-17.066667 17.066667-17.066667 42.666667 0 59.733333 8.533333 8.533333 21.333333 12.8 29.866667 12.8 8.533333 0 21.333333-4.266667 29.866666-12.8 115.2-110.933333 183.466667-268.8 183.466667-435.2 0-166.4-68.266667-324.266667-183.466667-435.2zM571.733333 12.8c-17.066667-8.533333-34.133333-4.266667-46.933333 8.533333L281.6 256H42.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v426.666666c0 25.6 17.066667 42.666667 42.666667 42.666667h238.933333l243.2 234.666667c8.533333 8.533333 17.066667 12.8 29.866667 12.8 4.266667 0 12.8 0 17.066666-4.266667 17.066667-8.533333 25.6-21.333333 25.6-38.4V51.2c0-17.066667-8.533333-34.133333-25.6-38.4zM512 870.4l-183.466667-179.2c-8.533333-4.266667-17.066667-8.533333-29.866666-8.533333H85.333333V341.333333h213.333334c12.8 0 21.333333-4.266667 29.866666-12.8L512 153.6v716.8z" p-id="20546" fill="#ffffff"></path><path d="M759.466667 349.866667c-12.8-21.333333-38.4-25.6-59.733334-8.533334-21.333333 12.8-25.6 38.4-8.533333 59.733334 21.333333 29.866667 34.133333 76.8 34.133333 123.733333 0 46.933333-12.8 93.866667-34.133333 123.733333-12.8 21.333333-8.533333 46.933333 8.533333 59.733334 8.533333 4.266667 17.066667 8.533333 25.6 8.533333 12.8 0 25.6-4.266667 34.133334-17.066667 34.133333-46.933333 51.2-106.666667 51.2-174.933333 0-68.266667-17.066667-128-51.2-174.933333z" p-id="20547" fill="#ffffff"></path></svg>',ft.onclick=function(){m.closeSound(0),We.setAttribute("class",""),ft.setAttribute("class","hide")},pt.appendChild(We),pt.appendChild(ft)}if(m.opt.audio==1?ft.setAttribute("class",""):(We.setAttribute("class",""),m.closeSound(0)),Ie().fullScreenModule){var $t=document.createElement("span");$t.setAttribute("title","全屏"),$t.setAttribute("style","vertical-align: top;"),$t.innerHTML='<svg id="fullScreen" t="1578020167938" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5035" width="16" height="16"> <path d="M348.373333 625.706667l-128 128-64 64v-128a33.28 33.28 0 0 0-35.413333-35.413334A33.493333 33.493333 0 0 0 85.333333 689.706667v213.333333A33.706667 33.706667 0 0 0 120.96 938.666667h213.333333a35.626667 35.626667 0 0 0 0-71.04h-128l64-64 128-128a35.2 35.2 0 0 0-49.92-49.92zM206.293333 156.373333h128a33.28 33.28 0 0 0 35.413334-35.413333A33.493333 33.493333 0 0 0 334.293333 85.333333H113.706667c-7.04 0-14.08 7.04-21.333334 14.293334a26.026667 26.026667 0 0 0-7.04 21.333333v213.333333a33.493333 33.493333 0 0 0 35.626667 35.413334 33.28 33.28 0 0 0 35.413333-35.413334v-128l192 192a35.2 35.2 0 0 0 49.92-49.92zM903.04 85.333333h-213.333333a33.493333 33.493333 0 0 0-35.413334 35.626667 33.28 33.28 0 0 0 35.413334 35.413333h128l-64 64-128 128a35.2 35.2 0 0 0 49.92 49.92l128-128 64-64v128a35.626667 35.626667 0 0 0 71.04 0v-213.333333A33.706667 33.706667 0 0 0 903.04 85.333333zM903.04 654.293333a33.28 33.28 0 0 0-35.413333 35.413334v128l-64-64-128-128a35.2 35.2 0 0 0-49.92 49.92l128 128 64 64h-128a35.626667 35.626667 0 0 0 0 71.04h213.333333A33.706667 33.706667 0 0 0 938.666667 903.04v-213.333333a33.493333 33.493333 0 0 0-35.626667-35.413334z" p-id="5036" fill="#ffffff"></path></svg>',$t.onclick=function(){m.fullScreen()},pt.appendChild($t)}}if(Ie().talkModule){var ri=document.createElement("div"),zt=document.createElement("div");ri.setAttribute("class","ptp-talk off"),ri.innerHTML='<span title="对讲"><svg t="1581930496966" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"  p-id="1641" width="16" height="16">  <path    d="M715.648 647.872c-30.208-22.336-61.568 39.36-100.992 77.44-39.36 38.08-34.112 31.488-123.392-17.088S311.488 540.224 280 491.648C248.448 443.072 265.472 424.704 265.472 424.704s78.72-62.976 97.152-81.344c18.368-18.368 13.12-30.208 13.12-30.208l-128.64-190.144c-23.616-5.184-64.32 5.12-128.576 57.6C54.208 233.088 30.592 353.856 151.296 575.68c120.768 221.824 347.84 330.752 485.568 374.08 137.856 43.328 228.416-61.696 249.408-103.68 21.056-41.984 13.12-85.312 13.12-85.312S745.856 670.208 715.648 647.872z"    p-id="1642" fill="#ffffff"></path>  <path    d="M715.328 64C580.992 64 472.192 172.864 472.192 307.2s108.8 243.2 243.136 243.2 243.2-108.864 243.2-243.2S849.6 64 715.328 64zM715.328 461.056c-84.992 0-153.856-68.864-153.856-153.856s68.864-153.856 153.856-153.856 153.856 68.928 153.856 153.856S800.32 461.056 715.328 461.056z"    p-id="1643" fill="#ffffff"></path>  <path    d="M777.472 277.376c-18.176 0-32.96-14.784-32.96-33.024 0-8.448 3.136-16.064 8.32-21.888-11.52-5.12-24.128-8-37.568-8-51.2 0-92.672 41.472-92.672 92.736s41.472 92.736 92.672 92.736S808.064 358.4 808.064 307.2c0-13.696-3.072-26.688-8.384-38.4C793.728 274.112 786.048 277.376 777.472 277.376zM715.328 340.928c-18.624 0-33.664-15.104-33.664-33.728 0-18.624 15.04-33.728 33.664-33.728 18.688 0 33.728 15.104 33.728 33.728C749.056 325.824 734.016 340.928 715.328 340.928z"    p-id="1644" fill="#ffffff"></path> </svg> </span> <span>开启对讲</span>',ri.onclick=function(){if(console.log("EZUIKit.state.countTimer",d.state.countTimer),d.state.countTimer)return J.layer.msg("语音设备正忙，请稍后重试"),!1;Qi("add",0),console.log("开始对讲，关闭声音"),m.closeSound(0),console.log(m.opt),m.startTalk(),this.setAttribute("class","ptp-talk off hide"),zt.setAttribute("class","ptp-talk on")},zt.setAttribute("class","ptp-talk on hide"),zt.innerHTML='<span title="对讲"> <svg t="1581930496966" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"    p-id="1641" width="16" height="16">    <path      d="M715.648 647.872c-30.208-22.336-61.568 39.36-100.992 77.44-39.36 38.08-34.112 31.488-123.392-17.088S311.488 540.224 280 491.648C248.448 443.072 265.472 424.704 265.472 424.704s78.72-62.976 97.152-81.344c18.368-18.368 13.12-30.208 13.12-30.208l-128.64-190.144c-23.616-5.184-64.32 5.12-128.576 57.6C54.208 233.088 30.592 353.856 151.296 575.68c120.768 221.824 347.84 330.752 485.568 374.08 137.856 43.328 228.416-61.696 249.408-103.68 21.056-41.984 13.12-85.312 13.12-85.312S745.856 670.208 715.648 647.872z"      p-id="1642" fill="#ff0000"></path>    <path      d="M715.328 64C580.992 64 472.192 172.864 472.192 307.2s108.8 243.2 243.136 243.2 243.2-108.864 243.2-243.2S849.6 64 715.328 64zM715.328 461.056c-84.992 0-153.856-68.864-153.856-153.856s68.864-153.856 153.856-153.856 153.856 68.928 153.856 153.856S800.32 461.056 715.328 461.056z"      p-id="1643" fill="#ff0000"></path>    <path      d="M777.472 277.376c-18.176 0-32.96-14.784-32.96-33.024 0-8.448 3.136-16.064 8.32-21.888-11.52-5.12-24.128-8-37.568-8-51.2 0-92.672 41.472-92.672 92.736s41.472 92.736 92.672 92.736S808.064 358.4 808.064 307.2c0-13.696-3.072-26.688-8.384-38.4C793.728 274.112 786.048 277.376 777.472 277.376zM715.328 340.928c-18.624 0-33.664-15.104-33.664-33.728 0-18.624 15.04-33.728 33.664-33.728 18.688 0 33.728 15.104 33.728 33.728C749.056 325.824 734.016 340.928 715.328 340.928z"      p-id="1644" fill="#ff0000"></path>  </svg> </span><span>关闭对讲</span>',zt.onclick=function(){console.log(m.opt),m.stopTalk(),Qi("destory",0),m.openSound(0),this.setAttribute("class","ptp-talk on hide"),ri.setAttribute("class","ptp-talk off")},at.appendChild(ri),at.appendChild(zt)}if(Ie().broadcastModule){var ae=function ce(ie){function Oe(Qe){console.log("data",Qe),Qe.code==200&&(be(Qe.data,5),d.state.page=Qe.page.page,ie==0&&Qe.data.length==0&&!d.state.fetchDefaultList&&(d.state.fetchDefaultList=!0,ce(0)))}c(u+"/api/lapp/voice/query","POST",{accessToken:m.opt.accessToken,pageStart:ie,pageSize:d.state.pageSize,default:d.state.fetchDefaultList?"true":"false"},"",Oe)},be=function(ie){if(console.log("renderVoliceList",ie),ie&&ie.length>0){for(var Oe=0;Oe<ie.length;Oe++){var Qe=document.createElement("li");Qe.innerHTML="<li class='voice-item' id='voice-item-"+Oe+"' data-time="+(ie[Oe].duration||20)+" data-url="+ie[Oe].fileUrl+">"+(ie[Oe].voiceName.length>10?ie[Oe].voiceName.substr(0,10)+"...":ie[Oe].voiceName)+"</li>",document.getElementsByClassName("voice-list-ul")[0].append(Qe),Qe.onclick=function(st){console.log("点击元素",st.target,st.target.dataset.url);var D=st.target.dataset.url,Xe=st.target.dataset.time;E(D,Xe)}}ie.length===d.state.pageSize?document.getElementById("voice-list-end").innerHTML="向下滚动加载更多":document.getElementById("voice-list-end").innerHTML="没有更多数据了"}},E=function(ie,Oe){console.log("播放语音",ie,Oe);function Qe(st){console.log("data.data",st.data),st.code==200?Qi("sub",parseInt(Oe)):st.code=="10001"?J.layer.msg("未找到当前语音"):J.layer.msg(st.msg||"发送失败，请稍后再试")}c(u+"/api/lapp/voice/send","POST",{accessToken:m.opt.accessToken,deviceSerial:m.opt.deviceSerial,channelNo:m.opt.channelNo,fileUrl:ie},"",Qe)},Q=document.createElement("div"),Ge=document.createElement("div");Q.setAttribute("class","broadcast off"),Ge.setAttribute("class","broadcast on hide"),Q.innerHTML=' <span title="语音播报">  <svg t="1583561695846" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"    p-id="1126" width="16" height="16">    <path      d="M513.82044445 964.38044445c-8.192 0-15.47377778-2.73066667-21.84533334-8.192 0 0-46.42133333-41.87022222-99.21422222-86.47111112-89.20177778-73.728-117.41866667-88.29155555-123.79022222-90.112H35.04355555c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666666V271.70133333c0-14.56355555 11.83288889-27.30666667 26.39644444-27.30666666H246.21511111c7.28177778-2.73066667 37.31911111-15.47377778 137.44355556-91.02222222 58.25422222-43.69066667 111.04711111-86.47111111 111.04711111-86.47111112 5.46133333-4.55111111 12.74311111-7.28177778 20.02488889-7.28177778 4.55111111 0 10.01244445 0.91022222 14.56355555 3.6408889 10.92266667 5.46133333 18.20444445 17.29422222 18.20444445 30.03733333v837.40444444c0 12.74311111-7.28177778 25.48622222-19.11466667 30.94755556-5.46133333 1.82044445-10.01244445 2.73066667-14.56355555 2.73066667zM270.79111111 724.992c19.11466667 0 48.24177778 8.192 167.48088889 106.496 16.384 13.65333333 33.67822222 28.21688889 51.88266667 43.69066667l5.46133333 4.55111111V139.71911111l-5.46133333 3.64088889c-22.75555555 17.29422222-44.60088889 34.58844445-65.536 50.06222222C293.54666667 291.72622222 264.41955555 299.008 245.30488889 299.008H82.37511111c-20.02488889 0-21.84533333 12.74311111-21.84533333 26.39644445V694.04444445c0 23.66577778 6.37155555 30.03733333 28.21688889 30.03733333h180.224l1.82044444 0.91022222z m520.64711111 162.01955555c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666666 0-11.83288889 8.192-20.02488889 16.384-24.576 112.86755555-67.35644445 182.04444445-191.14666667 182.04444444-324.03911111 0-132.89244445-70.08711111-256.68266667-182.04444444-324.03911111-10.01244445-5.46133333-15.47377778-14.56355555-15.47377778-24.576 0-14.56355555 11.83288889-27.30666667 26.39644445-27.30666667 5.46133333 0 10.01244445 1.82044445 16.384 5.46133333 128.34133333 76.45866667 207.53066667 218.45333333 207.53066666 369.55022222 0 152.00711111-80.09955555 293.09155555-208.44088889 369.55022223-6.37155555 5.46133333-10.92266667 7.28177778-16.384 7.28177777z m-90.112-152.91733333c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666667 0-10.01244445 4.55111111-18.20444445 12.74311111-23.66577777 61.89511111-34.58844445 100.12444445-100.12444445 100.12444444-171.12177778 0-70.08711111-37.31911111-134.71288889-96.48355555-170.21155555-8.192-4.55111111-12.74311111-13.65333333-12.74311111-23.66577778 0-14.56355555 11.83288889-27.30666667 26.39644444-27.30666667 4.55111111 0 11.83288889 2.73066667 15.47377778 4.55111111 74.63822222 44.60088889 121.96977778 127.43111111 121.96977778 215.72266667 0 90.112-48.24177778 173.85244445-125.61066667 218.45333333-1.82044445 0-9.10222222 4.55111111-15.47377778 4.55111111z"      fill="#ffffff" p-id="1127"></path>  </svg></span><span>语音播报</span>',Q.onclick=function(){this.setAttribute("class","broadcast off hide"),Ge.setAttribute("class","broadcast on")},Ge.innerHTML='<div class="pop-hover">  <div class="pop-hover-content">    <div class="vioce-list" id="voice-list">      <ul class="voice-list-ul">      </ul>      <div id="voice-list-end"></div>    </div>    <div id="voice-custom" style="text-align: center;">自定义语音</div>  </div></div><span title="语音播报">  <svg t="1583561695846" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"    p-id="1126" width="16" height="16">    <path      d="M513.82044445 964.38044445c-8.192 0-15.47377778-2.73066667-21.84533334-8.192 0 0-46.42133333-41.87022222-99.21422222-86.47111112-89.20177778-73.728-117.41866667-88.29155555-123.79022222-90.112H35.04355555c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666666V271.70133333c0-14.56355555 11.83288889-27.30666667 26.39644444-27.30666666H246.21511111c7.28177778-2.73066667 37.31911111-15.47377778 137.44355556-91.02222222 58.25422222-43.69066667 111.04711111-86.47111111 111.04711111-86.47111112 5.46133333-4.55111111 12.74311111-7.28177778 20.02488889-7.28177778 4.55111111 0 10.01244445 0.91022222 14.56355555 3.6408889 10.92266667 5.46133333 18.20444445 17.29422222 18.20444445 30.03733333v837.40444444c0 12.74311111-7.28177778 25.48622222-19.11466667 30.94755556-5.46133333 1.82044445-10.01244445 2.73066667-14.56355555 2.73066667zM270.79111111 724.992c19.11466667 0 48.24177778 8.192 167.48088889 106.496 16.384 13.65333333 33.67822222 28.21688889 51.88266667 43.69066667l5.46133333 4.55111111V139.71911111l-5.46133333 3.64088889c-22.75555555 17.29422222-44.60088889 34.58844445-65.536 50.06222222C293.54666667 291.72622222 264.41955555 299.008 245.30488889 299.008H82.37511111c-20.02488889 0-21.84533333 12.74311111-21.84533333 26.39644445V694.04444445c0 23.66577778 6.37155555 30.03733333 28.21688889 30.03733333h180.224l1.82044444 0.91022222z m520.64711111 162.01955555c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666666 0-11.83288889 8.192-20.02488889 16.384-24.576 112.86755555-67.35644445 182.04444445-191.14666667 182.04444444-324.03911111 0-132.89244445-70.08711111-256.68266667-182.04444444-324.03911111-10.01244445-5.46133333-15.47377778-14.56355555-15.47377778-24.576 0-14.56355555 11.83288889-27.30666667 26.39644445-27.30666667 5.46133333 0 10.01244445 1.82044445 16.384 5.46133333 128.34133333 76.45866667 207.53066667 218.45333333 207.53066666 369.55022222 0 152.00711111-80.09955555 293.09155555-208.44088889 369.55022223-6.37155555 5.46133333-10.92266667 7.28177778-16.384 7.28177777z m-90.112-152.91733333c-14.56355555 0-26.39644445-11.83288889-26.39644444-27.30666667 0-10.01244445 4.55111111-18.20444445 12.74311111-23.66577777 61.89511111-34.58844445 100.12444445-100.12444445 100.12444444-171.12177778 0-70.08711111-37.31911111-134.71288889-96.48355555-170.21155555-8.192-4.55111111-12.74311111-13.65333333-12.74311111-23.66577778 0-14.56355555 11.83288889-27.30666667 26.39644444-27.30666667 4.55111111 0 11.83288889 2.73066667 15.47377778 4.55111111 74.63822222 44.60088889 121.96977778 127.43111111 121.96977778 215.72266667 0 90.112-48.24177778 173.85244445-125.61066667 218.45333333-1.82044445 0-9.10222222 4.55111111-15.47377778 4.55111111z"      fill="#ff0000" p-id="1127"></path>  </svg></span><span>语音播报</span>',Ge.onclick=function(){this.setAttribute("class","broadcast on hide"),Q.setAttribute("class","broadcast off")},at.appendChild(Q),at.appendChild(Ge),document.getElementById("voice-custom").onclick=function(){console.log("显示自定义语音"),H.setAttribute("class","speak off")},ae(0);var H=document.createElement("div"),_e=document.createElement("div");H.setAttribute("class","speak off hide"),_e.setAttribute("class","speak on hide"),H.setAttribute("id","startSpeak"),_e.setAttribute("id","stopSpeak"),H.innerHTML='<span title="按住说话">  <svg t="1581994757678" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"    p-id="1639" width="16" height="16">    <path      d="M757.059829 393.846154v-52.512821h262.564103v52.512821H757.059829z m-420.102564 481.367521v96.273504h175.042735a8.752137 8.752137 0 0 1 8.752137 8.752137v35.008547a8.752137 8.752137 0 0 1-8.752137 8.752137H109.401709a8.752137 8.752137 0 0 1-8.752136-8.752137v-35.008547a8.752137 8.752137 0 0 1 8.752136-8.752137h175.042735v-96.273504C129.767932 875.213675 4.376068 749.821812 4.376068 595.145299V463.863248a26.25641 26.25641 0 1 1 52.512821 0v113.777778c0 140.174222 113.637744 253.811966 253.811966 253.811965s253.811966-113.637744 253.811966-253.811965V463.863248a26.25641 26.25641 0 1 1 52.51282 0v131.282051c0 154.676513-125.391863 280.068376-280.068376 280.068376z m-26.25641-96.273504c-111.178393 0-201.299145-90.120752-201.299146-201.299145V201.299145C109.401709 90.120752 199.522462 0 310.700855 0s201.299145 90.120752 201.299145 201.299145v376.341881c0 111.178393-90.120752 201.299145-201.299145 201.299145z m691.418803-280.068376H757.059829v-52.512821h245.059829v52.512821z m-17.504273 105.025641H757.059829v-52.512821h227.555556v52.512821z m-17.504274 105.025641H757.059829v-52.512821h210.051282v52.512821z m-8.752137 105.025641H757.059829v-52.512821h201.299145v52.512821z m-17.504273 105.025641H757.059829v-52.512821h183.794872v52.512821z m-26.25641 105.025641H757.059829v-52.512821h157.538462v52.512821z"      p-id="1640" fill="#ffffff"></path>  </svg></span><span>按住说话</span>',_e.innerHTML='<span title="按住说话"><svg t="1581994757678" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"  p-id="1639" width="16" height="16">  <path    d="M757.059829 393.846154v-52.512821h262.564103v52.512821H757.059829z m-420.102564 481.367521v96.273504h175.042735a8.752137 8.752137 0 0 1 8.752137 8.752137v35.008547a8.752137 8.752137 0 0 1-8.752137 8.752137H109.401709a8.752137 8.752137 0 0 1-8.752136-8.752137v-35.008547a8.752137 8.752137 0 0 1 8.752136-8.752137h175.042735v-96.273504C129.767932 875.213675 4.376068 749.821812 4.376068 595.145299V463.863248a26.25641 26.25641 0 1 1 52.512821 0v113.777778c0 140.174222 113.637744 253.811966 253.811966 253.811965s253.811966-113.637744 253.811966-253.811965V463.863248a26.25641 26.25641 0 1 1 52.51282 0v131.282051c0 154.676513-125.391863 280.068376-280.068376 280.068376z m-26.25641-96.273504c-111.178393 0-201.299145-90.120752-201.299146-201.299145V201.299145C109.401709 90.120752 199.522462 0 310.700855 0s201.299145 90.120752 201.299145 201.299145v376.341881c0 111.178393-90.120752 201.299145-201.299145 201.299145z m691.418803-280.068376H757.059829v-52.512821h245.059829v52.512821z m-17.504273 105.025641H757.059829v-52.512821h227.555556v52.512821z m-17.504274 105.025641H757.059829v-52.512821h210.051282v52.512821z m-8.752137 105.025641H757.059829v-52.512821h201.299145v52.512821z m-17.504273 105.025641H757.059829v-52.512821h183.794872v52.512821z m-26.25641 105.025641H757.059829v-52.512821h157.538462v52.512821z"    p-id="1640" fill="#ff0000"></path></svg></span><span>松开发送</span>',at.appendChild(H),at.appendChild(_e),document.getElementById("voice-list").onscroll=function(ce){var ie=this.scrollHeight;console.log("sum",ie,this.scrollTop,document.getElementById("voice-list").clientHeight),ie<=this.scrollTop+this.clientHeight&&(console.log("拖动到底，执行加载",d.state.page),ae(++d.state.page))};var M=document.createElement("div");M.setAttribute("class","time-area"),M.setAttribute("id","time-area"),M.innerHTML="00:00",at.appendChild(M);var z;document.getElementById("startSpeak").onmousedown=function(){if(d.state.countTimer)return J.layer.msg("语音设备正忙，请稍后重试"),!1;console.log("按住说话"),H.setAttribute("class","speak off hide"),_e.setAttribute("class","speak on"),Qe(),Qi("add",0),setTimeout(function(){d.state.recodeTime=0,Oe()},1e3),d.state.recodeTimer&&clearInterval(d.state.recodeTimer),d.state.recodeTimer=setInterval(function(){d.state.recodeTime>=59?(m.stopTalk(),Qi("destory",0),this.setAttribute("class","ptp-talk on hide"),ri.setAttribute("class","ptp-talk off"),J.layer.msg("不超过1分钟")):d.state.recodeTime=d.state.recodeTime+1},1e3);var ce;function ie(st){var D=ce.createMediaStreamSource(st);z=new J.Recorder(D)}function Oe(){z&&z.record()}function Qe(){console.log("run init");try{J.AudioContext=J.AudioContext||J.webkitAudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,J.URL=J.URL||J.webkitURL,ce=new AudioContext,console.log("Audio context set up."),console.log("navigator.getUserMedia "+(navigator.getUserMedia?"available.":"not present!"))}catch(st){console.log("err",st),J.layer.msg("No web audio support in this browser!")}navigator.getUserMedia({audio:!0},ie,function(st){console.log("No live audio input: "+st)})}},document.getElementById("stopSpeak").onmouseup=function(){console.log("松开发送"),_e.setAttribute("class","speak on hide"),ce();function ce(){if(Qi("destory",0),d.state.recodeTime<1)return J.layer.msg("说话时间过短"),clearInterval(d.state.recodeTimer),!1;clearInterval(d.state.recodeTimer),ie()}function ie(){try{z&&z.stop(),z&&z.exportWAV(function(Oe){if(console.log("wav_file",Oe),Oe.size<1e3)return J.layer.msg("录音失败，请重试"),d.state.recodeTime=0,!1;Qi("sub",d.state.recodeTime+2);var Qe=new FormData;Qe.append("voiceFile",Oe),Qe.append("accessToken",m.opt.accessToken),Qe.append("deviceSerial",m.opt.deviceSerial),Qe.append("channelNo",m.opt.channelNo);function st(Xe){console.log("data.data",Xe.data),Xe.code==200?Qi("sub",d.state.recodeTime+2):Xe.code=="10001"?J.layer.msg("未找到当前语音"):J.layer.msg(Xe.msg||"发送失败，请稍后再试")}function D(Xe){console.log("err",Xe)}c(u+"/api/lapp/voice/sendonce","POST",{voiceFile:Oe,accessToken:m.opt.accessToken,deviceSerial:m.opt.deviceSerial,channelNo:m.opt.channelNo},"",st,D)}),z&&z.clear()}catch(Oe){console.log(Oe)}}}}}}})});var m=this;J.addEventListener("message",function(le){le.origin;var re=m.opt.id;if(le.data.type)switch(le.data.type){case"openSound":re==le.data.id&&b.openSoundCallBack&&b.openSoundCallBack(le.data);break;case"closeSound":re==le.data.id&&b.closeSoundCallBack&&b.closeSoundCallBack(le.data);break;case"capturePicture":re==le.data.id&&b.capturePictureCallBack&&b.capturePictureCallBack(le.data);break;case"startSave":re==le.data.id&&b.startSaveCallBack&&b.startSaveCallBack(le.data);break;case"stopSave":re==le.data.id&&b.stopSaveCallBack&&b.stopSaveCallBack(le.data);break;case"fullScreen":re==le.data.id&&b.fullScreenCallBack&&b.fullScreenCallBack(le.data);break;case"getOSDTime":re==le.data.id&&b.getOSDTimeCallBack&&b.getOSDTimeCallBack(le.data);break;case"handleSuccess":re==le.data.id&&b.handleSuccess&&b.handleSuccess(le.data);break;case"handleError":re==le.data.id&&b.handleError&&b.handleError(le.data);break;case"dblclick":re==le.data.id&&m.opt.bSupporDoubleClickFull&&(m.opt.fullScreenStatus===0?m.fullScreen():m.cancelFullScreen());break;case"startTalk":m.startTalk(),m.closeSound();break;case"stopTalk":m.stopTalk(),m.openSound();break;case"clickEventHandle":console.log("event.data",le.data),b.clickEventHandle&&b.clickEventHandle(le.data);break;case"removeEventHandle":b.removeEventHandle&&b.removeEventHandle(le.data);break;case"esc":b.clickEventHandle&&b.clickEventHandle(le.data);break;case"iframeFullScreen":if(re==le.data.id){var Pe=function($e){var ot=$e.requestFullScreen||$e.webkitRequestFullScreen||$e.mozRequestFullScreen||$e.msRequestFullScreen;if(ot)ot.call($e);else if(typeof J.ActiveXObject<"u"){var F=new ActiveXObject("WScript.Shell");F!==null&&F.SendKeys("{F11}")}};Pe(document.getElementById("EZUIKitPlayer-"+le.data.id))}break}});function U(le){m.opt.fullScreenStatus=le?1:0,b.fullScreenChangeCallBack&&b.fullScreenChangeCallBack({data:le,id:m.opt.id})}typeof document.fullScreen<"u"?document.addEventListener("fullscreenchange",function(){var le=document.fullscreen||!1;U(le)}):typeof document.webkitIsFullScreen<"u"?document.addEventListener("webkitfullscreenchange",function(){var le=document.webkitIsFullScreen||!1;U(le)}):typeof document.mozFullScreen<"u"&&document.addEventListener("mozfullscreenchange",function(){var le=document.mozFullScreen||!1;U(le)})};P.prototype.play=function(R){var b="EZUIKitPlayer-"+this.opt.id,_=document.getElementById(b).contentWindow;K(R)==="object"&&R.url&&(this.opt.url=R.url),K(R)==="object"&&R.accessToken&&(this.opt.accessToken=R.accessToken),typeof R=="string"&&(this.opt.url=R),_.postMessage({action:"play",accessToken:this.opt.accessToken,url:this.opt.url},u+"/ezopen/h5/iframe");var oe=this;this.opt.videoLoading=!0;var de=new Promise(function(xe,se){J.addEventListener("message",function(Ae){var qe=oe.opt.id;qe==Ae.data.id&&Ae.data.type==="handleSuccess"&&(setTimeout(function(){oe.opt.videoLoading=!1},1e3),xe(Ae.data))})});return de},P.prototype.stop=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage("stop",u+"/ezopen/h5/iframe");var _=this,oe=new Promise(function(de,xe){J.addEventListener("message",function(se){var Ae=_.opt.id;Ae==se.data.id&&se.data.type==="stop"&&de(se.data)})});return oe},P.prototype.openSound=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage("openSound",u+"/ezopen/h5/iframe");var _=this,oe=new Promise(function(de,xe){J.addEventListener("message",function(se){var Ae=_.opt.id;Ae==se.data.id&&se.data.type==="openSound"&&de(se.data)})});return oe},P.prototype.closeSound=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage("closeSound",u+"/ezopen/h5/iframe");var _=this,oe=new Promise(function(de,xe){J.addEventListener("message",function(se){var Ae=_.opt.id;Ae==se.data.id&&se.data.type==="closeSound"&&de(se.data)})});return oe},P.prototype.startSave=function(R){var b="EZUIKitPlayer-"+this.opt.id,_=document.getElementById(b).contentWindow;_.postMessage({action:"startSave",fileName:R||"default"},u+"/ezopen/h5/iframe");var oe=this,de=new Promise(function(xe,se){J.addEventListener("message",function(Ae){var qe=oe.opt.id;qe==Ae.data.id&&Ae.data.type==="startSave"&&xe(Ae.data)})});return de},P.prototype.stopSave=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage("stopSave",u+"/ezopen/h5/iframe");var _=this,oe=new Promise(function(de,xe){J.addEventListener("message",function(se){var Ae=_.opt.id;Ae==se.data.id&&se.data.type==="stopSave"&&de(se.data)})});return oe},P.prototype.fullScreen=function(){if(this.opt.fullScreenStatus===1)return!1;var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)){var _=document.documentElement.clientWidth,oe=document.documentElement.clientHeight,de=document.body;de=document.getElementById(R);var xe="";xe+="width:"+oe+"px;",xe+="height:"+_+"px;",xe+="-webkit-transform: rotate(90deg); transform: rotate(90deg);",xe+="-webkit-transform-origin: "+_/2+"px "+_/2+"px;",xe+="transform-origin: "+_/2+"px "+_/2+"px;",xe+="position: fixed;top: 0;left: 0;z-index:10",de.style.cssText=xe,setTimeout(function(){b.postMessage("autoResize",u+"/ezopen/h5/iframe")},500)}else{var se=function(qe){var me=qe.requestFullScreen||qe.webkitRequestFullScreen||qe.mozRequestFullScreen||qe.msRequestFullScreen;if(me)me.call(qe);else if(typeof J.ActiveXObject<"u"){var m=new ActiveXObject("WScript.Shell");m!==null&&m.SendKeys("{F11}")}};se(document.getElementById(R))}this.params.fullScreenCallBack&&this.params.fullScreenCallBack(this.opt.id),this.opt.fullScreenStatus=1},P.prototype.cancelFullScreen=function(){if(this.opt.fullScreenStatus===0)return!1;var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)){var _=document.getElementById(R).width,oe=document.getElementById(R).height,de=document.body;de=document.getElementById(R);var xe="";xe+="width:"+_+"px;",xe+="height:"+oe+"px;",xe+="-webkit-transform: none; transform: none;",xe+="-webkit-transform-origin: 0 0;",xe+="transform-origin: 0 0;",de.style.cssText=xe,setTimeout(function(){b.postMessage("autoResize",u+"/ezopen/h5/iframe")},500);var se=R+"cancel-full-screen",Ae=document.getElementById(se);Ae&&document.body.removeChild(Ae)}else document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen();this.params.cancelFullScreenCallBack&&this.params.cancelFullScreenCallBack(this.opt.id),this.opt.fullScreenStatus=0},P.prototype.capturePicture=function(R,b){var _="EZUIKitPlayer-"+this.opt.id,oe=document.getElementById(_).contentWindow;oe.postMessage({action:"capturePicture",fileName:R||"default",isUndownload:b},u+"/ezopen/h5/iframe");var de=this,xe=new Promise(function(se,Ae){J.addEventListener("message",function(qe){var me=de.opt.id;me==qe.data.id&&qe.data.type==="capturePicture"&&se(qe.data)})});return xe},P.prototype.enableZoom=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage("enableZoom",u+"/ezopen/h5/iframe")},P.prototype.closeZoom=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage("closeZoom",u+"/ezopen/h5/iframe")},P.prototype.getOSDTime=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage("getOSDTime",u+"/ezopen/h5/iframe");var _=this,oe=new Promise(function(de,xe){J.addEventListener("message",function(se){var Ae=_.opt.id;Ae==se.data.id&&se.data.type==="getOSDTime"&&de(se.data)})});return oe},P.prototype.autoResize=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage("autoResize",u+"/ezopen/h5/iframe")},P.prototype.reSize=function(R,b){var _="EZUIKitPlayer-"+this.opt.id,oe=document.getElementById(_).contentWindow,de=document.getElementById(this.opt.id);de.style.width=R+"px",de.style.height=b+"px",document.getElementById(this.opt.id).style.width=R+"px",document.getElementById(this.opt.id).style.height=b+"px";var xe=document.getElementById(_);xe.setAttribute("width",R),xe.setAttribute("height",b),xe.style.width=R+"px",xe.style.height=b+"px",setTimeout(function(){oe.postMessage({action:"autoResize"},u+"/ezopen/h5/iframe")},500)},P.prototype.startTalk=function(){console.log("执行开始对讲"),console.log(this.opt);var R=this;d.opt=this.opt,J.EZUIKit&&(J.EZUIKit.opt=this.opt);var b=function(oe){if(oe.code==200){var de=oe.data;if(de){var xe=de.rtcUrl;xe.indexOf("ws")===-1&&(xe=xe.replace("https","wss").replace("rtcgw","rtcgw-ws")),R.opt.rtcUrl=xe,R.opt.ttsUrl="tts://"+de.ttsUrl;var se="talk://"+R.opt.deviceSerial+":0:"+R.opt.channelNo+":cas.ys7.com:6500";R.opt.talkLink=R.opt.ttsUrl+"/"+se,R.opt.stream=de.stream,J.startTalk()}}};c(R.opt.apiDomain,"POST",{accessToken:R.opt.accessToken,deviceSerial:R.opt.deviceSerial,channelNo:R.opt.channelNo},"",b)},P.prototype.stopTalk=function(){console.log("执行结束对讲"),J.stopTalk()},P.prototype.edit=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage("edit",u+"/ezopen/h5/iframe")},P.prototype.btnReRender=function(R){var b="EZUIKitPlayer-"+this.opt.id,_=document.getElementById(b).contentWindow;_.postMessage({action:"btnReRender",data:R},u+"/ezopen/h5/iframe")},P.prototype.changePlayUrl=function(R){R.deviceSerial&&(this.opt.deviceSerial=R.deviceSerial),R.channelNo&&(this.opt.channelNo=R.channelNo),R.accessToken&&(this.opt.accessToken=R.accessToken);var b="EZUIKitPlayer-"+this.opt.id,_=document.getElementById(b).contentWindow;_.postMessage({action:"changePlayUrl",data:R},u+"/ezopen/h5/iframe")},P.prototype.fetchThemeData=function(){var R="EZUIKitPlayer-"+this.opt.id,b=document.getElementById(R).contentWindow;b.postMessage({action:"fetchThemeData"},u+"/ezopen/h5/iframe")},P.prototype.setThemeData=function(R,b,_){var oe="EZUIKitPlayer-"+this.opt.id,de=document.getElementById(oe).contentWindow;de.postMessage({action:"setThemeData",data:{accessToken:R,header:b,footer:_}},u+"/ezopen/h5/iframe")},d.EZUIKitPlayer=P,J.EZUIKitV3=d;var S=d;return S});var n_=EZUIKitV3,r_=function(g){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=void 0,c=void 0,d=void 0,u=[];return function(){var S=a_(t),R=new Date().getTime(),b=!o||R-o>S;o=R;for(var _=arguments.length,oe=Array(_),de=0;de<_;de++)oe[de]=arguments[de];if(b&&n.leading)return n.accumulate?Promise.resolve(g.call(this,[oe])).then(function(se){return se[0]}):Promise.resolve(g.call.apply(g,[this].concat(oe)));if(c?clearTimeout(d):c=o_(),u.push(oe),d=setTimeout(k.bind(this),S),n.accumulate){var xe=u.length-1;return c.promise.then(function(se){return se[xe]})}return c.promise};function k(){var P=c;clearTimeout(d),Promise.resolve(n.accumulate?g.call(this,u):g.apply(this,u[u.length-1])).then(P.resolve,P.reject),u=[],c=null}};function a_(J){return typeof J=="function"?J():J}function o_(){var J={};return J.promise=new Promise(function(g,t){J.resolve=g,J.reject=t}),J}var Rd=Mo(r_);(function(){var J;function g(at){var pt=0;return function(){return pt<at.length?{done:!1,value:at[pt++]}:{done:!0}}}var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(at,pt,rt){return at==Array.prototype||at==Object.prototype||(at[pt]=rt.value),at};function n(at){at=[typeof globalThis=="object"&&globalThis,at,typeof window=="object"&&window,typeof self=="object"&&self,typeof Va=="object"&&Va];for(var pt=0;pt<at.length;++pt){var rt=at[pt];if(rt&&rt.Math==Math)return rt}throw Error("Cannot find global object")}var o=n(this);function c(at,pt){if(pt)e:{var rt=o;at=at.split(".");for(var We=0;We<at.length-1;We++){var ft=at[We];if(!(ft in rt))break e;rt=rt[ft]}at=at[at.length-1],We=rt[at],pt=pt(We),pt!=We&&pt!=null&&t(rt,at,{configurable:!0,writable:!0,value:pt})}}c("Symbol",function(at){function pt($t){if(this instanceof pt)throw new TypeError("Symbol is not a constructor");return new rt(We+($t||"")+"_"+ft++,$t)}function rt($t,ri){this.A=$t,t(this,"description",{configurable:!0,writable:!0,value:ri})}if(at)return at;rt.prototype.toString=function(){return this.A};var We="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",ft=0;return pt}),c("Symbol.iterator",function(at){if(at)return at;at=Symbol("Symbol.iterator");for(var pt="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),rt=0;rt<pt.length;rt++){var We=o[pt[rt]];typeof We=="function"&&typeof We.prototype[at]!="function"&&t(We.prototype,at,{configurable:!0,writable:!0,value:function(){return d(g(this))}})}return at});function d(at){return at={next:at},at[Symbol.iterator]=function(){return this},at}function u(at){var pt=typeof Symbol<"u"&&Symbol.iterator&&at[Symbol.iterator];return pt?pt.call(at):{next:g(at)}}var k;if(typeof Object.setPrototypeOf=="function")k=Object.setPrototypeOf;else{var P;e:{var S={a:!0},R={};try{R.__proto__=S,P=R.a;break e}catch{}P=!1}k=P?function(at,pt){if(at.__proto__=pt,at.__proto__!==pt)throw new TypeError(at+" is not extensible");return at}:null}var b=k;function _(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function oe(at){if(at.m)throw new TypeError("Generator is already running");at.m=!0}_.prototype.o=function(at){this.v=at},_.prototype.s=function(at){this.l={D:at,F:!0},this.h=this.C||this.u},_.prototype.return=function(at){this.l={return:at},this.h=this.u};function de(at,pt){return at.h=3,{value:pt}}function xe(at){this.g=new _,this.G=at}xe.prototype.o=function(at){return oe(this.g),this.g.j?Ae(this,this.g.j.next,at,this.g.o):(this.g.o(at),qe(this))};function se(at,pt){oe(at.g);var rt=at.g.j;return rt?Ae(at,"return"in rt?rt.return:function(We){return{value:We,done:!0}},pt,at.g.return):(at.g.return(pt),qe(at))}xe.prototype.s=function(at){return oe(this.g),this.g.j?Ae(this,this.g.j.throw,at,this.g.o):(this.g.s(at),qe(this))};function Ae(at,pt,rt,We){try{var ft=pt.call(at.g.j,rt);if(!(ft instanceof Object))throw new TypeError("Iterator result "+ft+" is not an object");if(!ft.done)return at.g.m=!1,ft;var $t=ft.value}catch(ri){return at.g.j=null,at.g.s(ri),qe(at)}return at.g.j=null,We.call(at.g,$t),qe(at)}function qe(at){for(;at.g.h;)try{var pt=at.G(at.g);if(pt)return at.g.m=!1,{value:pt.value,done:!1}}catch(rt){at.g.v=void 0,at.g.s(rt)}if(at.g.m=!1,at.g.l){if(pt=at.g.l,at.g.l=null,pt.F)throw pt.D;return{value:pt.return,done:!0}}return{value:void 0,done:!0}}function me(at){this.next=function(pt){return at.o(pt)},this.throw=function(pt){return at.s(pt)},this.return=function(pt){return se(at,pt)},this[Symbol.iterator]=function(){return this}}function m(at,pt){return pt=new me(new xe(pt)),b&&at.prototype&&b(pt,at.prototype),pt}function U(at,pt){at instanceof String&&(at+="");var rt=0,We=!1,ft={next:function(){if(!We&&rt<at.length){var $t=rt++;return{value:pt($t,at[$t]),done:!1}}return We=!0,{done:!0,value:void 0}}};return ft[Symbol.iterator]=function(){return ft},ft}if(c("Array.prototype.entries",function(at){return at||function(){return U(this,function(pt,rt){return[pt,rt]})}}),typeof Blob<"u"&&(typeof FormData>"u"||!FormData.prototype.keys)){var le=function(at,pt){for(var rt=0;rt<at.length;rt++)pt(at[rt])},re=function(at){return at.replace(/\r?\n|\r/g,`\r
`)},Pe=function(at,pt,rt){return pt instanceof Blob?(rt=rt!==void 0?rt+"":typeof pt.name=="string"?pt.name:"blob",(pt.name!==rt||Object.prototype.toString.call(pt)==="[object Blob]")&&(pt=new File([pt],rt)),[String(at),pt]):[String(at),String(pt)]},fe=function(at,pt){if(at.length<pt)throw new TypeError(pt+" argument required, but only "+at.length+" present.")},$e=typeof globalThis=="object"?globalThis:typeof window=="object"?window:typeof self=="object"?self:this,ot=$e.FormData,F=$e.XMLHttpRequest&&$e.XMLHttpRequest.prototype.send,Ie=$e.Request&&$e.fetch,Ve=$e.navigator&&$e.navigator.sendBeacon,yi=$e.Element&&$e.Element.prototype,Hi=$e.Symbol&&Symbol.toStringTag;Hi&&(Blob.prototype[Hi]||(Blob.prototype[Hi]="Blob"),"File"in $e&&!File.prototype[Hi]&&(File.prototype[Hi]="File"));try{new File([],"")}catch{$e.File=function(pt,rt,We){return pt=new Blob(pt,We||{}),Object.defineProperties(pt,{name:{value:rt},lastModified:{value:+(We&&We.lastModified!==void 0?new Date(We.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),Hi&&Object.defineProperty(pt,Hi,{value:"File"}),pt}}var Pi=function(at){return at.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},Ci=function(at){this.i=[];var pt=this;at&&le(at.elements,function(rt){if(rt.name&&!rt.disabled&&rt.type!=="submit"&&rt.type!=="button"&&!rt.matches("form fieldset[disabled] *"))if(rt.type==="file"){var We=rt.files&&rt.files.length?rt.files:[new File([],"",{type:"application/octet-stream"})];le(We,function(ft){pt.append(rt.name,ft)})}else rt.type==="select-multiple"||rt.type==="select-one"?le(rt.options,function(ft){!ft.disabled&&ft.selected&&pt.append(rt.name,ft.value)}):rt.type==="checkbox"||rt.type==="radio"?rt.checked&&pt.append(rt.name,rt.value):(We=rt.type==="textarea"?re(rt.value):rt.value,pt.append(rt.name,We))})};if(J=Ci.prototype,J.append=function(at,pt,rt){fe(arguments,2),this.i.push(Pe(at,pt,rt))},J.delete=function(at){fe(arguments,1);var pt=[];at=String(at),le(this.i,function(rt){rt[0]!==at&&pt.push(rt)}),this.i=pt},J.entries=function at(){var pt,rt=this;return m(at,function(We){if(We.h==1&&(pt=0),We.h!=3)return pt<rt.i.length?We=de(We,rt.i[pt]):(We.h=0,We=void 0),We;pt++,We.h=2})},J.forEach=function(at,pt){fe(arguments,1);for(var rt=u(this),We=rt.next();!We.done;We=rt.next()){var ft=u(We.value);We=ft.next().value,ft=ft.next().value,at.call(pt,ft,We,this)}},J.get=function(at){fe(arguments,1);var pt=this.i;at=String(at);for(var rt=0;rt<pt.length;rt++)if(pt[rt][0]===at)return pt[rt][1];return null},J.getAll=function(at){fe(arguments,1);var pt=[];return at=String(at),le(this.i,function(rt){rt[0]===at&&pt.push(rt[1])}),pt},J.has=function(at){fe(arguments,1),at=String(at);for(var pt=0;pt<this.i.length;pt++)if(this.i[pt][0]===at)return!0;return!1},J.keys=function at(){var pt=this,rt,We,ft,$t,ri;return m(at,function(zt){if(zt.h==1&&(rt=u(pt),We=rt.next()),zt.h!=3){if(We.done){zt.h=0;return}return ft=We.value,$t=u(ft),ri=$t.next().value,de(zt,ri)}We=rt.next(),zt.h=2})},J.set=function(at,pt,rt){fe(arguments,2),at=String(at);var We=[],ft=Pe(at,pt,rt),$t=!0;le(this.i,function(ri){ri[0]===at?$t&&($t=!We.push(ft)):We.push(ri)}),$t&&We.push(ft),this.i=We},J.values=function at(){var pt=this,rt,We,ft,$t,ri;return m(at,function(zt){if(zt.h==1&&(rt=u(pt),We=rt.next()),zt.h!=3){if(We.done){zt.h=0;return}return ft=We.value,$t=u(ft),$t.next(),ri=$t.next().value,de(zt,ri)}We=rt.next(),zt.h=2})},Ci.prototype._asNative=function(){for(var at=new ot,pt=u(this),rt=pt.next();!rt.done;rt=pt.next()){var We=u(rt.value);rt=We.next().value,We=We.next().value,at.append(rt,We)}return at},Ci.prototype._blob=function(){var at="----formdata-polyfill-"+Math.random(),pt=[],rt="--"+at+`\r
Content-Disposition: form-data; name="`;return this.forEach(function(We,ft){return typeof We=="string"?pt.push(rt+Pi(re(ft))+(`"\r
\r
`+re(We)+`\r
`)):pt.push(rt+Pi(re(ft))+('"; filename="'+Pi(We.name)+`"\r
Content-Type: `+(We.type||"application/octet-stream")+`\r
\r
`),We,`\r
`)}),pt.push("--"+at+"--"),new Blob(pt,{type:"multipart/form-data; boundary="+at})},Ci.prototype[Symbol.iterator]=function(){return this.entries()},Ci.prototype.toString=function(){return"[object FormData]"},yi&&!yi.matches&&(yi.matches=yi.matchesSelector||yi.mozMatchesSelector||yi.msMatchesSelector||yi.oMatchesSelector||yi.webkitMatchesSelector||function(at){at=(this.document||this.ownerDocument).querySelectorAll(at);for(var pt=at.length;0<=--pt&&at.item(pt)!==this;);return-1<pt}),Hi&&(Ci.prototype[Hi]="FormData"),F){var Qi=$e.XMLHttpRequest.prototype.setRequestHeader;$e.XMLHttpRequest.prototype.setRequestHeader=function(at,pt){Qi.call(this,at,pt),at.toLowerCase()==="content-type"&&(this.B=!0)},$e.XMLHttpRequest.prototype.send=function(at){at instanceof Ci?(at=at._blob(),this.B||this.setRequestHeader("Content-Type",at.type),F.call(this,at)):F.call(this,at)}}Ie&&($e.fetch=function(at,pt){return pt&&pt.body&&pt.body instanceof Ci&&(pt.body=pt.body._blob()),Ie.call(this,at,pt)}),Ve&&($e.navigator.sendBeacon=function(at,pt){return pt instanceof Ci&&(pt=pt._asNative()),Ve.call(this,at,pt)}),$e.FormData=Ci}})();var nc=1,rc=3,gh=0,hs=256,vh=768,kd=1536,Id=2304,s_=[{place:rc,name:"鱼眼不矫正",type:0,correctType:gh},{place:rc,name:"360°全景",type:1,correctType:vh},{place:rc,name:"4分屏",type:4,correctList:[{correctType:hs,x:.25,y:.25},{correctType:hs,x:.75,y:.25},{correctType:hs,x:.25,y:.75},{correctType:hs,x:.75,y:.75}],correctType:hs},{place:rc,name:"柱状",type:5,correctType:kd,viewParam:{x:0,y:0}}],l_=[{place:nc,name:"鱼眼不矫正",type:0,correctType:gh},{place:nc,name:"360°全景",type:1,correctType:vh},{place:nc,name:"4分屏",type:2,correctList:[{correctType:hs,x:.25,y:.25},{correctType:hs,x:.75,y:.25},{correctType:hs,x:.25,y:.75},{correctType:hs,x:.75,y:.75}],correctType:hs},{place:nc,name:"广角",type:4,correctType:Id}],c_={exports:{}};(function(J,g){(function(n,o){J.exports=o()})(window,function(){return function(t){var n={};function o(c){if(n[c])return n[c].exports;var d=n[c]={i:c,l:!1,exports:{}};return t[c].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=t,o.c=n,o.d=function(c,d,u){o.o(c,d)||Object.defineProperty(c,d,{enumerable:!0,get:u})},o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,d){if(d&1&&(c=o(c)),d&8||d&4&&K(c)==="object"&&c&&c.__esModule)return c;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:c}),d&2&&typeof c!="string")for(var k in c)o.d(u,k,(function(P){return c[P]}).bind(null,k));return u},o.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(d,"a",d),d},o.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},o.p="",o(o.s=3)}([function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function k(P,S){for(var R=0;R<S.length;R++){var b=S[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(P,b.key,b)}}return function(P,S,R){return S&&k(P.prototype,S),R&&k(P,R),P}}();function d(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}var u=function(){function k(){d(this,k),this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}return c(k,[{key:"$",value:function(S){var R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,b=/^(?:\s*(<[\w\W]+>)[^>]*|.([\w-]*))$/;if(R.test(S)){var _=R.exec(S);return document.getElementById(_[2])}else if(b.test(S)){for(var oe=b.exec(S),de=document.getElementsByTagName("*"),xe=[],se=0,Ae=de.length;se<Ae;se++)de[se].className.match(new RegExp("(\\s|^)"+oe[2]+"(\\s|$)"))&&xe.push(de[se]);return xe}}},{key:"dateFormat",value:function(S,R){var b={"M+":S.getMonth()+1,"d+":S.getDate(),"h+":S.getHours(),"m+":S.getMinutes(),"s+":S.getSeconds(),"q+":Math.floor((S.getMonth()+3)/3),S:S.getMilliseconds()};/(y+)/.test(R)&&(R=R.replace(RegExp.$1,(S.getFullYear()+"").substr(4-RegExp.$1.length)));for(var _ in b)new RegExp("("+_+")").test(R)&&(R=R.replace(RegExp.$1,RegExp.$1.length===1?b[_]:("00"+b[_]).substr((""+b[_]).length)));return R}},{key:"downloadFile",value:function(S,R){var b=S;S instanceof Blob||S instanceof File||(b=new Blob([S]));var _=window.URL.createObjectURL(b),oe=window.document.createElement("a");oe.href=_,oe.download=R;var de=document.createEvent("MouseEvents");de.initEvent("click",!0,!0),oe.dispatchEvent(de)}},{key:"createxmlDoc",value:function(){for(var S,R=["MSXML2.DOMDocument","MSXML2.DOMDocument.5.0","MSXML2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","Microsoft.XmlDom"],b=0,_=R.length;b<_;b++)try{S=new ActiveXObject(R[b]);break}catch{S=document.implementation.createDocument("","",null);break}return S.async="false",S}},{key:"parseXmlFromStr",value:function(S){if(S===null||S==="")return null;var R=this.createxmlDoc();if(navigator.appName==="Netscape"||navigator.appName==="Opera"){var b=new DOMParser;R=b.parseFromString(S,"text/xml")}else R.loadXML(S);return R}},{key:"encode",value:function(S){var R="",b,_,oe,de,xe,se,Ae,qe=0;for(S=this._utf8_encode(S);qe<S.length;)b=S.charCodeAt(qe++),_=S.charCodeAt(qe++),oe=S.charCodeAt(qe++),de=b>>2,xe=(b&3)<<4|_>>4,se=(_&15)<<2|oe>>6,Ae=oe&63,isNaN(_)?se=Ae=64:isNaN(oe)&&(Ae=64),R=R+this._keyStr.charAt(de)+this._keyStr.charAt(xe)+this._keyStr.charAt(se)+this._keyStr.charAt(Ae);return R}},{key:"decode",value:function(S){var R="",b,_,oe,de,xe,se,Ae,qe=0;for(S=S.replace(/[^A-Za-z0-9+/=]/g,"");qe<S.length;)de=this._keyStr.indexOf(S.charAt(qe++)),xe=this._keyStr.indexOf(S.charAt(qe++)),se=this._keyStr.indexOf(S.charAt(qe++)),Ae=this._keyStr.indexOf(S.charAt(qe++)),b=de<<2|xe>>4,_=(xe&15)<<4|se>>2,oe=(se&3)<<6|Ae,R=R+String.fromCharCode(b),se!==64&&(R=R+String.fromCharCode(_)),Ae!==64&&(R=R+String.fromCharCode(oe));return R=this._utf8_decode(R),R}},{key:"_utf8_encode",value:function(S){S=S.replace(/\r\n/g,`
`);for(var R="",b=0;b<S.length;b++){var _=S.charCodeAt(b);_<128?R+=String.fromCharCode(_):_>127&&_<2048?(R+=String.fromCharCode(_>>6|192),R+=String.fromCharCode(_&63|128)):(R+=String.fromCharCode(_>>12|224),R+=String.fromCharCode(_>>6&63|128),R+=String.fromCharCode(_&63|128))}return R}},{key:"_utf8_decode",value:function(S){for(var R="",b=0,_=0,oe=0;b<S.length;)if(_=S.charCodeAt(b),_<128)R+=String.fromCharCode(_),b++;else if(_>191&&_<224)oe=S.charCodeAt(b+1),R+=String.fromCharCode((_&31)<<6|oe&63),b+=2;else{oe=S.charCodeAt(b+1);var de=S.charCodeAt(b+2);R+=String.fromCharCode((_&15)<<12|(oe&63)<<6|de&63),b+=3}return R}},{key:"isFirefox",value:function(){var S=!1,R=navigator.userAgent.toLowerCase(),b="",_=-1;return R.match(/firefox\/([\d.]+)/)&&(b=R.match(/firefox\/([\d.]+)/)[1],_=parseInt(b.split(".")[0],10),_>-1&&(S=!0)),S}},{key:"isSafari",value:function(){var S=!1,R=navigator.userAgent.toLowerCase(),b="",_=-1;return R.match(/version\/([\d.]+).safari./)&&(b=R.match(/version\/([\d.]+).safari./)[1],_=parseInt(b.split(".")[0],10),_>-1&&(S=!0)),S}},{key:"isEdge",value:function(){return navigator.userAgent.toLowerCase().indexOf("edge")>-1}},{key:"isIOS",value:function(){var S=navigator.userAgent,R=!!S.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return R}}]),k}();n.oTool=new u},function(t,n,o){var c,d;(function(u,k){K(t.exports)==="object"?t.exports=u.document?k(u,!0):function(P){if(!P.document)throw new Error("jQuery requires a window with a document");return k(P)}:k(u)})(typeof window<"u"?window:this,function(u,k){var P=[],S=Object.getPrototypeOf,R=P.slice,b=P.flat?function(B){return P.flat.call(B)}:function(B){return P.concat.apply([],B)},_=P.push,oe=P.indexOf,de={},xe=de.toString,se=de.hasOwnProperty,Ae=se.toString,qe=Ae.call(Object),me={},m=function(p){return typeof p=="function"&&typeof p.nodeType!="number"&&typeof p.item!="function"},U=function(p){return p!=null&&p===p.window},le=u.document,re={type:!0,src:!0,nonce:!0,noModule:!0};function Pe(B,p,A){A=A||le;var Y,Te,Ze=A.createElement("script");if(Ze.text=B,p)for(Y in re)Te=p[Y]||p.getAttribute&&p.getAttribute(Y),Te&&Ze.setAttribute(Y,Te);A.head.appendChild(Ze).parentNode.removeChild(Ze)}function fe(B){return B==null?B+"":K(B)==="object"||typeof B=="function"?de[xe.call(B)]||"object":K(B)}var $e="3.7.1",ot=/HTML$/i,F=function B(p,A){return new B.fn.init(p,A)};F.fn=F.prototype={jquery:$e,constructor:F,length:0,toArray:function(){return R.call(this)},get:function(p){return p==null?R.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var A=F.merge(this.constructor(),p);return A.prevObject=this,A},each:function(p){return F.each(this,p)},map:function(p){return this.pushStack(F.map(this,function(A,Y){return p.call(A,Y,A)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(F.grep(this,function(p,A){return(A+1)%2}))},odd:function(){return this.pushStack(F.grep(this,function(p,A){return A%2}))},eq:function(p){var A=this.length,Y=+p+(p<0?A:0);return this.pushStack(Y>=0&&Y<A?[this[Y]]:[])},end:function(){return this.prevObject||this.constructor()},push:_,sort:P.sort,splice:P.splice},F.extend=F.fn.extend=function(){var B,p,A,Y,Te,Ze,Ke=arguments[0]||{},vt=1,Et=arguments.length,Nt=!1;for(typeof Ke=="boolean"&&(Nt=Ke,Ke=arguments[vt]||{},vt++),K(Ke)!=="object"&&!m(Ke)&&(Ke={}),vt===Et&&(Ke=this,vt--);vt<Et;vt++)if((B=arguments[vt])!=null)for(p in B)Y=B[p],!(p==="__proto__"||Ke===Y)&&(Nt&&Y&&(F.isPlainObject(Y)||(Te=Array.isArray(Y)))?(A=Ke[p],Te&&!Array.isArray(A)?Ze=[]:!Te&&!F.isPlainObject(A)?Ze={}:Ze=A,Te=!1,Ke[p]=F.extend(Nt,Ze,Y)):Y!==void 0&&(Ke[p]=Y));return Ke},F.extend({expando:"jQuery"+($e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var A,Y;return!p||xe.call(p)!=="[object Object]"?!1:(A=S(p),A?(Y=se.call(A,"constructor")&&A.constructor,typeof Y=="function"&&Ae.call(Y)===qe):!0)},isEmptyObject:function(p){var A;for(A in p)return!1;return!0},globalEval:function(p,A,Y){Pe(p,{nonce:A&&A.nonce},Y)},each:function(p,A){var Y,Te=0;if(Ie(p))for(Y=p.length;Te<Y&&A.call(p[Te],Te,p[Te])!==!1;Te++);else for(Te in p)if(A.call(p[Te],Te,p[Te])===!1)break;return p},text:function(p){var A,Y="",Te=0,Ze=p.nodeType;if(!Ze)for(;A=p[Te++];)Y+=F.text(A);return Ze===1||Ze===11?p.textContent:Ze===9?p.documentElement.textContent:Ze===3||Ze===4?p.nodeValue:Y},makeArray:function(p,A){var Y=A||[];return p!=null&&(Ie(Object(p))?F.merge(Y,typeof p=="string"?[p]:p):_.call(Y,p)),Y},inArray:function(p,A,Y){return A==null?-1:oe.call(A,p,Y)},isXMLDoc:function(p){var A=p&&p.namespaceURI,Y=p&&(p.ownerDocument||p).documentElement;return!ot.test(A||Y&&Y.nodeName||"HTML")},merge:function(p,A){for(var Y=+A.length,Te=0,Ze=p.length;Te<Y;Te++)p[Ze++]=A[Te];return p.length=Ze,p},grep:function(p,A,Y){for(var Te,Ze=[],Ke=0,vt=p.length,Et=!Y;Ke<vt;Ke++)Te=!A(p[Ke],Ke),Te!==Et&&Ze.push(p[Ke]);return Ze},map:function(p,A,Y){var Te,Ze,Ke=0,vt=[];if(Ie(p))for(Te=p.length;Ke<Te;Ke++)Ze=A(p[Ke],Ke,Y),Ze!=null&&vt.push(Ze);else for(Ke in p)Ze=A(p[Ke],Ke,Y),Ze!=null&&vt.push(Ze);return b(vt)},guid:1,support:me}),typeof Symbol=="function"&&(F.fn[Symbol.iterator]=P[Symbol.iterator]),F.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(B,p){de["[object "+p+"]"]=p.toLowerCase()});function Ie(B){var p=!!B&&"length"in B&&B.length,A=fe(B);return m(B)||U(B)?!1:A==="array"||p===0||typeof p=="number"&&p>0&&p-1 in B}function Ve(B,p){return B.nodeName&&B.nodeName.toLowerCase()===p.toLowerCase()}var yi=P.pop,Hi=P.sort,Pi=P.splice,Ci="[\\x20\\t\\r\\n\\f]",Qi=new RegExp("^"+Ci+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ci+"+$","g");F.contains=function(B,p){var A=p&&p.parentNode;return B===A||!!(A&&A.nodeType===1&&(B.contains?B.contains(A):B.compareDocumentPosition&&B.compareDocumentPosition(A)&16))};var at=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function pt(B,p){return p?B==="\0"?"�":B.slice(0,-1)+"\\"+B.charCodeAt(B.length-1).toString(16)+" ":"\\"+B}F.escapeSelector=function(B){return(B+"").replace(at,pt)};var rt=le,We=_;(function(){var B,p,A,Y,Te,Ze=We,Ke,vt,Et,Nt,Ri,Li=F.expando,vn=0,Wi=0,Cn=oi(),ur=oi(),yr=oi(),Ur=oi(),Ca=function(Pt,fi){return Pt===fi&&(Te=!0),0},no="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Pa="(?:\\\\[\\da-fA-F]{1,6}"+Ci+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",_a="\\["+Ci+"*("+Pa+")(?:"+Ci+"*([*^$|!~]?=)"+Ci+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Pa+"))|)"+Ci+"*\\]",or=":("+Pa+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+_a+")*)|.*)\\)|)",fo=new RegExp(Ci+"+","g"),fa=new RegExp("^"+Ci+"*,"+Ci+"*"),pa=new RegExp("^"+Ci+"*([>+~]|"+Ci+")"+Ci+"*"),da=new RegExp(Ci+"|>"),Ko=new RegExp(or),ro=new RegExp("^"+Pa+"$"),Ja={ID:new RegExp("^#("+Pa+")"),CLASS:new RegExp("^\\.("+Pa+")"),TAG:new RegExp("^("+Pa+"|[*])"),ATTR:new RegExp("^"+_a),PSEUDO:new RegExp("^"+or),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ci+"*(even|odd|(([+-]|)(\\d*)n|)"+Ci+"*(?:([+-]|)"+Ci+"*(\\d+)|))"+Ci+"*\\)|)","i"),bool:new RegExp("^(?:"+no+")$","i"),needsContext:new RegExp("^"+Ci+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ci+"*((?:-\\d)?\\d*)"+Ci+"*\\)|)(?=[^-]|$)","i")},ga=/^(?:input|select|textarea|button)$/i,Ka=/^h\d$/i,Ga=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,va=/[+~]/,$a=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ci+"?|\\\\([^\\r\\n\\f])","g"),Ee=function(Pt,fi){var mi="0x"+Pt.slice(1)-65536;return fi||(mi<0?String.fromCharCode(mi+65536):String.fromCharCode(mi>>10|55296,mi&1023|56320))},De=function(){ye()},He=yt(function(St){return St.disabled===!0&&Ve(St,"fieldset")},{dir:"parentNode",next:"legend"});function lt(){try{return Ke.activeElement}catch{}}try{Ze.apply(P=R.call(rt.childNodes),rt.childNodes),P[rt.childNodes.length].nodeType}catch{Ze={apply:function(fi,mi){We.apply(fi,R.call(mi))},call:function(fi){We.apply(fi,R.call(arguments,1))}}}function Bt(St,Pt,fi,mi){var qi,Ni,kn,In,bn,Bn,hr,Xn=Pt&&Pt.ownerDocument,xr=Pt?Pt.nodeType:9;if(fi=fi||[],typeof St!="string"||!St||xr!==1&&xr!==9&&xr!==11)return fi;if(!mi&&(ye(Pt),Pt=Pt||Ke,Et)){if(xr!==11&&(bn=Ga.exec(St)))if(qi=bn[1]){if(xr===9)if(kn=Pt.getElementById(qi)){if(kn.id===qi)return Ze.call(fi,kn),fi}else return fi;else if(Xn&&(kn=Xn.getElementById(qi))&&Bt.contains(Pt,kn)&&kn.id===qi)return Ze.call(fi,kn),fi}else{if(bn[2])return Ze.apply(fi,Pt.getElementsByTagName(St)),fi;if((qi=bn[3])&&Pt.getElementsByClassName)return Ze.apply(fi,Pt.getElementsByClassName(qi)),fi}if(!Ur[St+" "]&&(!Nt||!Nt.test(St))){if(hr=St,Xn=Pt,xr===1&&(da.test(St)||pa.test(St))){for(Xn=va.test(St)&&q(Pt.parentNode)||Pt,(Xn!=Pt||!me.scope)&&((In=Pt.getAttribute("id"))?In=F.escapeSelector(In):Pt.setAttribute("id",In=Li)),Bn=Ue(St),Ni=Bn.length;Ni--;)Bn[Ni]=(In?"#"+In:":scope")+" "+ct(Bn[Ni]);hr=Bn.join(",")}try{return Ze.apply(fi,Xn.querySelectorAll(hr)),fi}catch{Ur(St,!0)}finally{In===Li&&Pt.removeAttribute("id")}}}return zi(St.replace(Qi,"$1"),Pt,fi,mi)}function oi(){var St=[];function Pt(fi,mi){return St.push(fi+" ")>p.cacheLength&&delete Pt[St.shift()],Pt[fi+" "]=mi}return Pt}function Ti(St){return St[Li]=!0,St}function $i(St){var Pt=Ke.createElement("fieldset");try{return!!St(Pt)}catch{return!1}finally{Pt.parentNode&&Pt.parentNode.removeChild(Pt),Pt=null}}function sr(St){return function(Pt){return Ve(Pt,"input")&&Pt.type===St}}function te(St){return function(Pt){return(Ve(Pt,"input")||Ve(Pt,"button"))&&Pt.type===St}}function y(St){return function(Pt){return"form"in Pt?Pt.parentNode&&Pt.disabled===!1?"label"in Pt?"label"in Pt.parentNode?Pt.parentNode.disabled===St:Pt.disabled===St:Pt.isDisabled===St||Pt.isDisabled!==!St&&He(Pt)===St:Pt.disabled===St:"label"in Pt?Pt.disabled===St:!1}}function G(St){return Ti(function(Pt){return Pt=+Pt,Ti(function(fi,mi){for(var qi,Ni=St([],fi.length,Pt),kn=Ni.length;kn--;)fi[qi=Ni[kn]]&&(fi[qi]=!(mi[qi]=fi[qi]))})})}function q(St){return St&&typeof St.getElementsByTagName<"u"&&St}function ye(St){var Pt,fi=St?St.ownerDocument||St:rt;return fi==Ke||fi.nodeType!==9||!fi.documentElement||(Ke=fi,vt=Ke.documentElement,Et=!F.isXMLDoc(Ke),Ri=vt.matches||vt.webkitMatchesSelector||vt.msMatchesSelector,vt.msMatchesSelector&&rt!=Ke&&(Pt=Ke.defaultView)&&Pt.top!==Pt&&Pt.addEventListener("unload",De),me.getById=$i(function(mi){return vt.appendChild(mi).id=F.expando,!Ke.getElementsByName||!Ke.getElementsByName(F.expando).length}),me.disconnectedMatch=$i(function(mi){return Ri.call(mi,"*")}),me.scope=$i(function(){return Ke.querySelectorAll(":scope")}),me.cssHas=$i(function(){try{return Ke.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),me.getById?(p.filter.ID=function(mi){var qi=mi.replace($a,Ee);return function(Ni){return Ni.getAttribute("id")===qi}},p.find.ID=function(mi,qi){if(typeof qi.getElementById<"u"&&Et){var Ni=qi.getElementById(mi);return Ni?[Ni]:[]}}):(p.filter.ID=function(mi){var qi=mi.replace($a,Ee);return function(Ni){var kn=typeof Ni.getAttributeNode<"u"&&Ni.getAttributeNode("id");return kn&&kn.value===qi}},p.find.ID=function(mi,qi){if(typeof qi.getElementById<"u"&&Et){var Ni,kn,In,bn=qi.getElementById(mi);if(bn){if(Ni=bn.getAttributeNode("id"),Ni&&Ni.value===mi)return[bn];for(In=qi.getElementsByName(mi),kn=0;bn=In[kn++];)if(Ni=bn.getAttributeNode("id"),Ni&&Ni.value===mi)return[bn]}return[]}}),p.find.TAG=function(mi,qi){return typeof qi.getElementsByTagName<"u"?qi.getElementsByTagName(mi):qi.querySelectorAll(mi)},p.find.CLASS=function(mi,qi){if(typeof qi.getElementsByClassName<"u"&&Et)return qi.getElementsByClassName(mi)},Nt=[],$i(function(mi){var qi;vt.appendChild(mi).innerHTML="<a id='"+Li+"' href='' disabled='disabled'></a><select id='"+Li+"-\r\\' disabled='disabled'><option selected=''></option></select>",mi.querySelectorAll("[selected]").length||Nt.push("\\["+Ci+"*(?:value|"+no+")"),mi.querySelectorAll("[id~="+Li+"-]").length||Nt.push("~="),mi.querySelectorAll("a#"+Li+"+*").length||Nt.push(".#.+[+~]"),mi.querySelectorAll(":checked").length||Nt.push(":checked"),qi=Ke.createElement("input"),qi.setAttribute("type","hidden"),mi.appendChild(qi).setAttribute("name","D"),vt.appendChild(mi).disabled=!0,mi.querySelectorAll(":disabled").length!==2&&Nt.push(":enabled",":disabled"),qi=Ke.createElement("input"),qi.setAttribute("name",""),mi.appendChild(qi),mi.querySelectorAll("[name='']").length||Nt.push("\\["+Ci+"*name"+Ci+"*="+Ci+`*(?:''|"")`)}),me.cssHas||Nt.push(":has"),Nt=Nt.length&&new RegExp(Nt.join("|")),Ca=function(qi,Ni){if(qi===Ni)return Te=!0,0;var kn=!qi.compareDocumentPosition-!Ni.compareDocumentPosition;return kn||(kn=(qi.ownerDocument||qi)==(Ni.ownerDocument||Ni)?qi.compareDocumentPosition(Ni):1,kn&1||!me.sortDetached&&Ni.compareDocumentPosition(qi)===kn?qi===Ke||qi.ownerDocument==rt&&Bt.contains(rt,qi)?-1:Ni===Ke||Ni.ownerDocument==rt&&Bt.contains(rt,Ni)?1:Y?oe.call(Y,qi)-oe.call(Y,Ni):0:kn&4?-1:1)}),Ke}Bt.matches=function(St,Pt){return Bt(St,null,null,Pt)},Bt.matchesSelector=function(St,Pt){if(ye(St),Et&&!Ur[Pt+" "]&&(!Nt||!Nt.test(Pt)))try{var fi=Ri.call(St,Pt);if(fi||me.disconnectedMatch||St.document&&St.document.nodeType!==11)return fi}catch{Ur(Pt,!0)}return Bt(Pt,Ke,null,[St]).length>0},Bt.contains=function(St,Pt){return(St.ownerDocument||St)!=Ke&&ye(St),F.contains(St,Pt)},Bt.attr=function(St,Pt){(St.ownerDocument||St)!=Ke&&ye(St);var fi=p.attrHandle[Pt.toLowerCase()],mi=fi&&se.call(p.attrHandle,Pt.toLowerCase())?fi(St,Pt,!Et):void 0;return mi!==void 0?mi:St.getAttribute(Pt)},Bt.error=function(St){throw new Error("Syntax error, unrecognized expression: "+St)},F.uniqueSort=function(St){var Pt,fi=[],mi=0,qi=0;if(Te=!me.sortStable,Y=!me.sortStable&&R.call(St,0),Hi.call(St,Ca),Te){for(;Pt=St[qi++];)Pt===St[qi]&&(mi=fi.push(qi));for(;mi--;)Pi.call(St,fi[mi],1)}return Y=null,St},F.fn.uniqueSort=function(){return this.pushStack(F.uniqueSort(R.apply(this)))},p=F.expr={cacheLength:50,createPseudo:Ti,match:Ja,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Pt){return Pt[1]=Pt[1].replace($a,Ee),Pt[3]=(Pt[3]||Pt[4]||Pt[5]||"").replace($a,Ee),Pt[2]==="~="&&(Pt[3]=" "+Pt[3]+" "),Pt.slice(0,4)},CHILD:function(Pt){return Pt[1]=Pt[1].toLowerCase(),Pt[1].slice(0,3)==="nth"?(Pt[3]||Bt.error(Pt[0]),Pt[4]=+(Pt[4]?Pt[5]+(Pt[6]||1):2*(Pt[3]==="even"||Pt[3]==="odd")),Pt[5]=+(Pt[7]+Pt[8]||Pt[3]==="odd")):Pt[3]&&Bt.error(Pt[0]),Pt},PSEUDO:function(Pt){var fi,mi=!Pt[6]&&Pt[2];return Ja.CHILD.test(Pt[0])?null:(Pt[3]?Pt[2]=Pt[4]||Pt[5]||"":mi&&Ko.test(mi)&&(fi=Ue(mi,!0))&&(fi=mi.indexOf(")",mi.length-fi)-mi.length)&&(Pt[0]=Pt[0].slice(0,fi),Pt[2]=mi.slice(0,fi)),Pt.slice(0,3))}},filter:{TAG:function(Pt){var fi=Pt.replace($a,Ee).toLowerCase();return Pt==="*"?function(){return!0}:function(mi){return Ve(mi,fi)}},CLASS:function(Pt){var fi=Cn[Pt+" "];return fi||(fi=new RegExp("(^|"+Ci+")"+Pt+"("+Ci+"|$)"))&&Cn(Pt,function(mi){return fi.test(typeof mi.className=="string"&&mi.className||typeof mi.getAttribute<"u"&&mi.getAttribute("class")||"")})},ATTR:function(Pt,fi,mi){return function(qi){var Ni=Bt.attr(qi,Pt);return Ni==null?fi==="!=":fi?(Ni+="",fi==="="?Ni===mi:fi==="!="?Ni!==mi:fi==="^="?mi&&Ni.indexOf(mi)===0:fi==="*="?mi&&Ni.indexOf(mi)>-1:fi==="$="?mi&&Ni.slice(-mi.length)===mi:fi==="~="?(" "+Ni.replace(fo," ")+" ").indexOf(mi)>-1:fi==="|="?Ni===mi||Ni.slice(0,mi.length+1)===mi+"-":!1):!0}},CHILD:function(Pt,fi,mi,qi,Ni){var kn=Pt.slice(0,3)!=="nth",In=Pt.slice(-4)!=="last",bn=fi==="of-type";return qi===1&&Ni===0?function(Bn){return!!Bn.parentNode}:function(Bn,hr,Xn){var xr,lr,Hn,Zr,ra,aa=kn!==In?"nextSibling":"previousSibling",ya=Bn.parentNode,Bs=bn&&Bn.nodeName.toLowerCase(),_s=!Xn&&!bn,Aa=!1;if(ya){if(kn){for(;aa;){for(Hn=Bn;Hn=Hn[aa];)if(bn?Ve(Hn,Bs):Hn.nodeType===1)return!1;ra=aa=Pt==="only"&&!ra&&"nextSibling"}return!0}if(ra=[In?ya.firstChild:ya.lastChild],In&&_s){for(lr=ya[Li]||(ya[Li]={}),xr=lr[Pt]||[],Zr=xr[0]===vn&&xr[1],Aa=Zr&&xr[2],Hn=Zr&&ya.childNodes[Zr];Hn=++Zr&&Hn&&Hn[aa]||(Aa=Zr=0)||ra.pop();)if(Hn.nodeType===1&&++Aa&&Hn===Bn){lr[Pt]=[vn,Zr,Aa];break}}else if(_s&&(lr=Bn[Li]||(Bn[Li]={}),xr=lr[Pt]||[],Zr=xr[0]===vn&&xr[1],Aa=Zr),Aa===!1)for(;(Hn=++Zr&&Hn&&Hn[aa]||(Aa=Zr=0)||ra.pop())&&!((bn?Ve(Hn,Bs):Hn.nodeType===1)&&++Aa&&(_s&&(lr=Hn[Li]||(Hn[Li]={}),lr[Pt]=[vn,Aa]),Hn===Bn)););return Aa-=Ni,Aa===qi||Aa%qi===0&&Aa/qi>=0}}},PSEUDO:function(Pt,fi){var mi,qi=p.pseudos[Pt]||p.setFilters[Pt.toLowerCase()]||Bt.error("unsupported pseudo: "+Pt);return qi[Li]?qi(fi):qi.length>1?(mi=[Pt,Pt,"",fi],p.setFilters.hasOwnProperty(Pt.toLowerCase())?Ti(function(Ni,kn){for(var In,bn=qi(Ni,fi),Bn=bn.length;Bn--;)In=oe.call(Ni,bn[Bn]),Ni[In]=!(kn[In]=bn[Bn])}):function(Ni){return qi(Ni,0,mi)}):qi}},pseudos:{not:Ti(function(St){var Pt=[],fi=[],mi=Xt(St.replace(Qi,"$1"));return mi[Li]?Ti(function(qi,Ni,kn,In){for(var bn,Bn=mi(qi,null,In,[]),hr=qi.length;hr--;)(bn=Bn[hr])&&(qi[hr]=!(Ni[hr]=bn))}):function(qi,Ni,kn){return Pt[0]=qi,mi(Pt,null,kn,fi),Pt[0]=null,!fi.pop()}}),has:Ti(function(St){return function(Pt){return Bt(St,Pt).length>0}}),contains:Ti(function(St){return St=St.replace($a,Ee),function(Pt){return(Pt.textContent||F.text(Pt)).indexOf(St)>-1}}),lang:Ti(function(St){return ro.test(St||"")||Bt.error("unsupported lang: "+St),St=St.replace($a,Ee).toLowerCase(),function(Pt){var fi;do if(fi=Et?Pt.lang:Pt.getAttribute("xml:lang")||Pt.getAttribute("lang"))return fi=fi.toLowerCase(),fi===St||fi.indexOf(St+"-")===0;while((Pt=Pt.parentNode)&&Pt.nodeType===1);return!1}}),target:function(Pt){var fi=u.location&&u.location.hash;return fi&&fi.slice(1)===Pt.id},root:function(Pt){return Pt===vt},focus:function(Pt){return Pt===lt()&&Ke.hasFocus()&&!!(Pt.type||Pt.href||~Pt.tabIndex)},enabled:y(!1),disabled:y(!0),checked:function(Pt){return Ve(Pt,"input")&&!!Pt.checked||Ve(Pt,"option")&&!!Pt.selected},selected:function(Pt){return Pt.parentNode&&Pt.parentNode.selectedIndex,Pt.selected===!0},empty:function(Pt){for(Pt=Pt.firstChild;Pt;Pt=Pt.nextSibling)if(Pt.nodeType<6)return!1;return!0},parent:function(Pt){return!p.pseudos.empty(Pt)},header:function(Pt){return Ka.test(Pt.nodeName)},input:function(Pt){return ga.test(Pt.nodeName)},button:function(Pt){return Ve(Pt,"input")&&Pt.type==="button"||Ve(Pt,"button")},text:function(Pt){var fi;return Ve(Pt,"input")&&Pt.type==="text"&&((fi=Pt.getAttribute("type"))==null||fi.toLowerCase()==="text")},first:G(function(){return[0]}),last:G(function(St,Pt){return[Pt-1]}),eq:G(function(St,Pt,fi){return[fi<0?fi+Pt:fi]}),even:G(function(St,Pt){for(var fi=0;fi<Pt;fi+=2)St.push(fi);return St}),odd:G(function(St,Pt){for(var fi=1;fi<Pt;fi+=2)St.push(fi);return St}),lt:G(function(St,Pt,fi){var mi;for(fi<0?mi=fi+Pt:fi>Pt?mi=Pt:mi=fi;--mi>=0;)St.push(mi);return St}),gt:G(function(St,Pt,fi){for(var mi=fi<0?fi+Pt:fi;++mi<Pt;)St.push(mi);return St})}},p.pseudos.nth=p.pseudos.eq;for(B in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})p.pseudos[B]=sr(B);for(B in{submit:!0,reset:!0})p.pseudos[B]=te(B);function Fe(){}Fe.prototype=p.filters=p.pseudos,p.setFilters=new Fe;function Ue(St,Pt){var fi,mi,qi,Ni,kn,In,bn,Bn=ur[St+" "];if(Bn)return Pt?0:Bn.slice(0);for(kn=St,In=[],bn=p.preFilter;kn;){(!fi||(mi=fa.exec(kn)))&&(mi&&(kn=kn.slice(mi[0].length)||kn),In.push(qi=[])),fi=!1,(mi=pa.exec(kn))&&(fi=mi.shift(),qi.push({value:fi,type:mi[0].replace(Qi," ")}),kn=kn.slice(fi.length));for(Ni in p.filter)(mi=Ja[Ni].exec(kn))&&(!bn[Ni]||(mi=bn[Ni](mi)))&&(fi=mi.shift(),qi.push({value:fi,type:Ni,matches:mi}),kn=kn.slice(fi.length));if(!fi)break}return Pt?kn.length:kn?Bt.error(St):ur(St,In).slice(0)}function ct(St){for(var Pt=0,fi=St.length,mi="";Pt<fi;Pt++)mi+=St[Pt].value;return mi}function yt(St,Pt,fi){var mi=Pt.dir,qi=Pt.next,Ni=qi||mi,kn=fi&&Ni==="parentNode",In=Wi++;return Pt.first?function(bn,Bn,hr){for(;bn=bn[mi];)if(bn.nodeType===1||kn)return St(bn,Bn,hr);return!1}:function(bn,Bn,hr){var Xn,xr,lr=[vn,In];if(hr){for(;bn=bn[mi];)if((bn.nodeType===1||kn)&&St(bn,Bn,hr))return!0}else for(;bn=bn[mi];)if(bn.nodeType===1||kn)if(xr=bn[Li]||(bn[Li]={}),qi&&Ve(bn,qi))bn=bn[mi]||bn;else{if((Xn=xr[Ni])&&Xn[0]===vn&&Xn[1]===In)return lr[2]=Xn[2];if(xr[Ni]=lr,lr[2]=St(bn,Bn,hr))return!0}return!1}}function Ot(St){return St.length>1?function(Pt,fi,mi){for(var qi=St.length;qi--;)if(!St[qi](Pt,fi,mi))return!1;return!0}:St[0]}function hi(St,Pt,fi){for(var mi=0,qi=Pt.length;mi<qi;mi++)Bt(St,Pt[mi],fi);return fi}function Bi(St,Pt,fi,mi,qi){for(var Ni,kn=[],In=0,bn=St.length,Bn=Pt!=null;In<bn;In++)(Ni=St[In])&&(!fi||fi(Ni,mi,qi))&&(kn.push(Ni),Bn&&Pt.push(In));return kn}function Yi(St,Pt,fi,mi,qi,Ni){return mi&&!mi[Li]&&(mi=Yi(mi)),qi&&!qi[Li]&&(qi=Yi(qi,Ni)),Ti(function(kn,In,bn,Bn){var hr,Xn,xr,lr,Hn=[],Zr=[],ra=In.length,aa=kn||hi(Pt||"*",bn.nodeType?[bn]:bn,[]),ya=St&&(kn||!Pt)?Bi(aa,Hn,St,bn,Bn):aa;if(fi?(lr=qi||(kn?St:ra||mi)?[]:In,fi(ya,lr,bn,Bn)):lr=ya,mi)for(hr=Bi(lr,Zr),mi(hr,[],bn,Bn),Xn=hr.length;Xn--;)(xr=hr[Xn])&&(lr[Zr[Xn]]=!(ya[Zr[Xn]]=xr));if(kn){if(qi||St){if(qi){for(hr=[],Xn=lr.length;Xn--;)(xr=lr[Xn])&&hr.push(ya[Xn]=xr);qi(null,lr=[],hr,Bn)}for(Xn=lr.length;Xn--;)(xr=lr[Xn])&&(hr=qi?oe.call(kn,xr):Hn[Xn])>-1&&(kn[hr]=!(In[hr]=xr))}}else lr=Bi(lr===In?lr.splice(ra,lr.length):lr),qi?qi(null,In,lr,Bn):Ze.apply(In,lr)})}function ki(St){for(var Pt,fi,mi,qi=St.length,Ni=p.relative[St[0].type],kn=Ni||p.relative[" "],In=Ni?1:0,bn=yt(function(Xn){return Xn===Pt},kn,!0),Bn=yt(function(Xn){return oe.call(Pt,Xn)>-1},kn,!0),hr=[function(Xn,xr,lr){var Hn=!Ni&&(lr||xr!=A)||((Pt=xr).nodeType?bn(Xn,xr,lr):Bn(Xn,xr,lr));return Pt=null,Hn}];In<qi;In++)if(fi=p.relative[St[In].type])hr=[yt(Ot(hr),fi)];else{if(fi=p.filter[St[In].type].apply(null,St[In].matches),fi[Li]){for(mi=++In;mi<qi&&!p.relative[St[mi].type];mi++);return Yi(In>1&&Ot(hr),In>1&&ct(St.slice(0,In-1).concat({value:St[In-2].type===" "?"*":""})).replace(Qi,"$1"),fi,In<mi&&ki(St.slice(In,mi)),mi<qi&&ki(St=St.slice(mi)),mi<qi&&ct(St))}hr.push(fi)}return Ot(hr)}function en(St,Pt){var fi=Pt.length>0,mi=St.length>0,qi=function(kn,In,bn,Bn,hr){var Xn,xr,lr,Hn=0,Zr="0",ra=kn&&[],aa=[],ya=A,Bs=kn||mi&&p.find.TAG("*",hr),_s=vn+=ya==null?1:Math.random()||.1,Aa=Bs.length;for(hr&&(A=In==Ke||In||hr);Zr!==Aa&&(Xn=Bs[Zr])!=null;Zr++){if(mi&&Xn){for(xr=0,!In&&Xn.ownerDocument!=Ke&&(ye(Xn),bn=!Et);lr=St[xr++];)if(lr(Xn,In||Ke,bn)){Ze.call(Bn,Xn);break}hr&&(vn=_s)}fi&&((Xn=!lr&&Xn)&&Hn--,kn&&ra.push(Xn))}if(Hn+=Zr,fi&&Zr!==Hn){for(xr=0;lr=Pt[xr++];)lr(ra,aa,In,bn);if(kn){if(Hn>0)for(;Zr--;)ra[Zr]||aa[Zr]||(aa[Zr]=yi.call(Bn));aa=Bi(aa)}Ze.apply(Bn,aa),hr&&!kn&&aa.length>0&&Hn+Pt.length>1&&F.uniqueSort(Bn)}return hr&&(vn=_s,A=ya),ra};return fi?Ti(qi):qi}function Xt(St,Pt){var fi,mi=[],qi=[],Ni=yr[St+" "];if(!Ni){for(Pt||(Pt=Ue(St)),fi=Pt.length;fi--;)Ni=ki(Pt[fi]),Ni[Li]?mi.push(Ni):qi.push(Ni);Ni=yr(St,en(qi,mi)),Ni.selector=St}return Ni}function zi(St,Pt,fi,mi){var qi,Ni,kn,In,bn,Bn=typeof St=="function"&&St,hr=!mi&&Ue(St=Bn.selector||St);if(fi=fi||[],hr.length===1){if(Ni=hr[0]=hr[0].slice(0),Ni.length>2&&(kn=Ni[0]).type==="ID"&&Pt.nodeType===9&&Et&&p.relative[Ni[1].type]){if(Pt=(p.find.ID(kn.matches[0].replace($a,Ee),Pt)||[])[0],Pt)Bn&&(Pt=Pt.parentNode);else return fi;St=St.slice(Ni.shift().value.length)}for(qi=Ja.needsContext.test(St)?0:Ni.length;qi--&&(kn=Ni[qi],!p.relative[In=kn.type]);)if((bn=p.find[In])&&(mi=bn(kn.matches[0].replace($a,Ee),va.test(Ni[0].type)&&q(Pt.parentNode)||Pt))){if(Ni.splice(qi,1),St=mi.length&&ct(Ni),!St)return Ze.apply(fi,mi),fi;break}}return(Bn||Xt(St,hr))(mi,Pt,!Et,fi,!Pt||va.test(St)&&q(Pt.parentNode)||Pt),fi}me.sortStable=Li.split("").sort(Ca).join("")===Li,ye(),me.sortDetached=$i(function(St){return St.compareDocumentPosition(Ke.createElement("fieldset"))&1}),F.find=Bt,F.expr[":"]=F.expr.pseudos,F.unique=F.uniqueSort,Bt.compile=Xt,Bt.select=zi,Bt.setDocument=ye,Bt.tokenize=Ue,Bt.escape=F.escapeSelector,Bt.getText=F.text,Bt.isXML=F.isXMLDoc,Bt.selectors=F.expr,Bt.support=F.support,Bt.uniqueSort=F.uniqueSort})();var ft=function(p,A,Y){for(var Te=[],Ze=Y!==void 0;(p=p[A])&&p.nodeType!==9;)if(p.nodeType===1){if(Ze&&F(p).is(Y))break;Te.push(p)}return Te},$t=function(p,A){for(var Y=[];p;p=p.nextSibling)p.nodeType===1&&p!==A&&Y.push(p);return Y},ri=F.expr.match.needsContext,zt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ae(B,p,A){return m(p)?F.grep(B,function(Y,Te){return!!p.call(Y,Te,Y)!==A}):p.nodeType?F.grep(B,function(Y){return Y===p!==A}):typeof p!="string"?F.grep(B,function(Y){return oe.call(p,Y)>-1!==A}):F.filter(p,B,A)}F.filter=function(B,p,A){var Y=p[0];return A&&(B=":not("+B+")"),p.length===1&&Y.nodeType===1?F.find.matchesSelector(Y,B)?[Y]:[]:F.find.matches(B,F.grep(p,function(Te){return Te.nodeType===1}))},F.fn.extend({find:function(p){var A,Y,Te=this.length,Ze=this;if(typeof p!="string")return this.pushStack(F(p).filter(function(){for(A=0;A<Te;A++)if(F.contains(Ze[A],this))return!0}));for(Y=this.pushStack([]),A=0;A<Te;A++)F.find(p,Ze[A],Y);return Te>1?F.uniqueSort(Y):Y},filter:function(p){return this.pushStack(ae(this,p||[],!1))},not:function(p){return this.pushStack(ae(this,p||[],!0))},is:function(p){return!!ae(this,typeof p=="string"&&ri.test(p)?F(p):p||[],!1).length}});var be,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Q=F.fn.init=function(B,p,A){var Y,Te;if(!B)return this;if(A=A||be,typeof B=="string")if(B[0]==="<"&&B[B.length-1]===">"&&B.length>=3?Y=[null,B,null]:Y=E.exec(B),Y&&(Y[1]||!p))if(Y[1]){if(p=p instanceof F?p[0]:p,F.merge(this,F.parseHTML(Y[1],p&&p.nodeType?p.ownerDocument||p:le,!0)),zt.test(Y[1])&&F.isPlainObject(p))for(Y in p)m(this[Y])?this[Y](p[Y]):this.attr(Y,p[Y]);return this}else return Te=le.getElementById(Y[2]),Te&&(this[0]=Te,this.length=1),this;else return!p||p.jquery?(p||A).find(B):this.constructor(p).find(B);else{if(B.nodeType)return this[0]=B,this.length=1,this;if(m(B))return A.ready!==void 0?A.ready(B):B(F)}return F.makeArray(B,this)};Q.prototype=F.fn,be=F(le);var Ge=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};F.fn.extend({has:function(p){var A=F(p,this),Y=A.length;return this.filter(function(){for(var Te=0;Te<Y;Te++)if(F.contains(this,A[Te]))return!0})},closest:function(p,A){var Y,Te=0,Ze=this.length,Ke=[],vt=typeof p!="string"&&F(p);if(!ri.test(p)){for(;Te<Ze;Te++)for(Y=this[Te];Y&&Y!==A;Y=Y.parentNode)if(Y.nodeType<11&&(vt?vt.index(Y)>-1:Y.nodeType===1&&F.find.matchesSelector(Y,p))){Ke.push(Y);break}}return this.pushStack(Ke.length>1?F.uniqueSort(Ke):Ke)},index:function(p){return p?typeof p=="string"?oe.call(F(p),this[0]):oe.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,A){return this.pushStack(F.uniqueSort(F.merge(this.get(),F(p,A))))},addBack:function(p){return this.add(p==null?this.prevObject:this.prevObject.filter(p))}});function _e(B,p){for(;(B=B[p])&&B.nodeType!==1;);return B}F.each({parent:function(p){var A=p.parentNode;return A&&A.nodeType!==11?A:null},parents:function(p){return ft(p,"parentNode")},parentsUntil:function(p,A,Y){return ft(p,"parentNode",Y)},next:function(p){return _e(p,"nextSibling")},prev:function(p){return _e(p,"previousSibling")},nextAll:function(p){return ft(p,"nextSibling")},prevAll:function(p){return ft(p,"previousSibling")},nextUntil:function(p,A,Y){return ft(p,"nextSibling",Y)},prevUntil:function(p,A,Y){return ft(p,"previousSibling",Y)},siblings:function(p){return $t((p.parentNode||{}).firstChild,p)},children:function(p){return $t(p.firstChild)},contents:function(p){return p.contentDocument!=null&&S(p.contentDocument)?p.contentDocument:(Ve(p,"template")&&(p=p.content||p),F.merge([],p.childNodes))}},function(B,p){F.fn[B]=function(A,Y){var Te=F.map(this,p,A);return B.slice(-5)!=="Until"&&(Y=A),Y&&typeof Y=="string"&&(Te=F.filter(Y,Te)),this.length>1&&(H[B]||F.uniqueSort(Te),Ge.test(B)&&Te.reverse()),this.pushStack(Te)}});var M=/[^\x20\t\r\n\f]+/g;function z(B){var p={};return F.each(B.match(M)||[],function(A,Y){p[Y]=!0}),p}F.Callbacks=function(B){B=typeof B=="string"?z(B):F.extend({},B);var p,A,Y,Te,Ze=[],Ke=[],vt=-1,Et=function(){for(Te=Te||B.once,Y=p=!0;Ke.length;vt=-1)for(A=Ke.shift();++vt<Ze.length;)Ze[vt].apply(A[0],A[1])===!1&&B.stopOnFalse&&(vt=Ze.length,A=!1);B.memory||(A=!1),p=!1,Te&&(A?Ze=[]:Ze="")},Nt={add:function(){return Ze&&(A&&!p&&(vt=Ze.length-1,Ke.push(A)),function Li(vn){F.each(vn,function(Wi,Cn){m(Cn)?(!B.unique||!Nt.has(Cn))&&Ze.push(Cn):Cn&&Cn.length&&fe(Cn)!=="string"&&Li(Cn)})}(arguments),A&&!p&&Et()),this},remove:function(){return F.each(arguments,function(Li,vn){for(var Wi;(Wi=F.inArray(vn,Ze,Wi))>-1;)Ze.splice(Wi,1),Wi<=vt&&vt--}),this},has:function(Li){return Li?F.inArray(Li,Ze)>-1:Ze.length>0},empty:function(){return Ze&&(Ze=[]),this},disable:function(){return Te=Ke=[],Ze=A="",this},disabled:function(){return!Ze},lock:function(){return Te=Ke=[],!A&&!p&&(Ze=A=""),this},locked:function(){return!!Te},fireWith:function(Li,vn){return Te||(vn=vn||[],vn=[Li,vn.slice?vn.slice():vn],Ke.push(vn),p||Et()),this},fire:function(){return Nt.fireWith(this,arguments),this},fired:function(){return!!Y}};return Nt};function ce(B){return B}function ie(B){throw B}function Oe(B,p,A,Y){var Te;try{B&&m(Te=B.promise)?Te.call(B).done(p).fail(A):B&&m(Te=B.then)?Te.call(B,p,A):p.apply(void 0,[B].slice(Y))}catch(Ze){A.apply(void 0,[Ze])}}F.extend({Deferred:function(p){var A=[["notify","progress",F.Callbacks("memory"),F.Callbacks("memory"),2],["resolve","done",F.Callbacks("once memory"),F.Callbacks("once memory"),0,"resolved"],["reject","fail",F.Callbacks("once memory"),F.Callbacks("once memory"),1,"rejected"]],Y="pending",Te={state:function(){return Y},always:function(){return Ze.done(arguments).fail(arguments),this},catch:function(vt){return Te.then(null,vt)},pipe:function(){var vt=arguments;return F.Deferred(function(Et){F.each(A,function(Nt,Ri){var Li=m(vt[Ri[4]])&&vt[Ri[4]];Ze[Ri[1]](function(){var vn=Li&&Li.apply(this,arguments);vn&&m(vn.promise)?vn.promise().progress(Et.notify).done(Et.resolve).fail(Et.reject):Et[Ri[0]+"With"](this,Li?[vn]:arguments)})}),vt=null}).promise()},then:function(vt,Et,Nt){var Ri=0;function Li(vn,Wi,Cn,ur){return function(){var yr=this,Ur=arguments,Ca=function(){var _a,or;if(!(vn<Ri)){if(_a=Cn.apply(yr,Ur),_a===Wi.promise())throw new TypeError("Thenable self-resolution");or=_a&&(K(_a)==="object"||typeof _a=="function")&&_a.then,m(or)?ur?or.call(_a,Li(Ri,Wi,ce,ur),Li(Ri,Wi,ie,ur)):(Ri++,or.call(_a,Li(Ri,Wi,ce,ur),Li(Ri,Wi,ie,ur),Li(Ri,Wi,ce,Wi.notifyWith))):(Cn!==ce&&(yr=void 0,Ur=[_a]),(ur||Wi.resolveWith)(yr,Ur))}},no=ur?Ca:function(){try{Ca()}catch(Pa){F.Deferred.exceptionHook&&F.Deferred.exceptionHook(Pa,no.error),vn+1>=Ri&&(Cn!==ie&&(yr=void 0,Ur=[Pa]),Wi.rejectWith(yr,Ur))}};vn?no():(F.Deferred.getErrorHook?no.error=F.Deferred.getErrorHook():F.Deferred.getStackHook&&(no.error=F.Deferred.getStackHook()),u.setTimeout(no))}}return F.Deferred(function(vn){A[0][3].add(Li(0,vn,m(Nt)?Nt:ce,vn.notifyWith)),A[1][3].add(Li(0,vn,m(vt)?vt:ce)),A[2][3].add(Li(0,vn,m(Et)?Et:ie))}).promise()},promise:function(vt){return vt!=null?F.extend(vt,Te):Te}},Ze={};return F.each(A,function(Ke,vt){var Et=vt[2],Nt=vt[5];Te[vt[1]]=Et.add,Nt&&Et.add(function(){Y=Nt},A[3-Ke][2].disable,A[3-Ke][3].disable,A[0][2].lock,A[0][3].lock),Et.add(vt[3].fire),Ze[vt[0]]=function(){return Ze[vt[0]+"With"](this===Ze?void 0:this,arguments),this},Ze[vt[0]+"With"]=Et.fireWith}),Te.promise(Ze),p&&p.call(Ze,Ze),Ze},when:function(p){var A=arguments.length,Y=A,Te=Array(Y),Ze=R.call(arguments),Ke=F.Deferred(),vt=function(Nt){return function(Ri){Te[Nt]=this,Ze[Nt]=arguments.length>1?R.call(arguments):Ri,--A||Ke.resolveWith(Te,Ze)}};if(A<=1&&(Oe(p,Ke.done(vt(Y)).resolve,Ke.reject,!A),Ke.state()==="pending"||m(Ze[Y]&&Ze[Y].then)))return Ke.then();for(;Y--;)Oe(Ze[Y],vt(Y),Ke.reject);return Ke.promise()}});var Qe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;F.Deferred.exceptionHook=function(B,p){u.console&&u.console.warn&&B&&Qe.test(B.name)&&u.console.warn("jQuery.Deferred exception: "+B.message,B.stack,p)},F.readyException=function(B){u.setTimeout(function(){throw B})};var st=F.Deferred();F.fn.ready=function(B){return st.then(B).catch(function(p){F.readyException(p)}),this},F.extend({isReady:!1,readyWait:1,ready:function(p){(p===!0?--F.readyWait:F.isReady)||(F.isReady=!0,!(p!==!0&&--F.readyWait>0)&&st.resolveWith(le,[F]))}}),F.ready.then=st.then;function D(){le.removeEventListener("DOMContentLoaded",D),u.removeEventListener("load",D),F.ready()}le.readyState==="complete"||le.readyState!=="loading"&&!le.documentElement.doScroll?u.setTimeout(F.ready):(le.addEventListener("DOMContentLoaded",D),u.addEventListener("load",D));var Xe=function B(p,A,Y,Te,Ze,Ke,vt){var Et=0,Nt=p.length,Ri=Y==null;if(fe(Y)==="object"){Ze=!0;for(Et in Y)B(p,A,Et,Y[Et],!0,Ke,vt)}else if(Te!==void 0&&(Ze=!0,m(Te)||(vt=!0),Ri&&(vt?(A.call(p,Te),A=null):(Ri=A,A=function(vn,Wi,Cn){return Ri.call(F(vn),Cn)})),A))for(;Et<Nt;Et++)A(p[Et],Y,vt?Te:Te.call(p[Et],Et,A(p[Et],Y)));return Ze?p:Ri?A.call(p):Nt?A(p[0],Y):Ke},X=/^-ms-/,Ce=/-([a-z])/g;function ve(B,p){return p.toUpperCase()}function Le(B){return B.replace(X,"ms-").replace(Ce,ve)}var pe=function(p){return p.nodeType===1||p.nodeType===9||!+p.nodeType};function ee(){this.expando=F.expando+ee.uid++}ee.uid=1,ee.prototype={cache:function(p){var A=p[this.expando];return A||(A={},pe(p)&&(p.nodeType?p[this.expando]=A:Object.defineProperty(p,this.expando,{value:A,configurable:!0}))),A},set:function(p,A,Y){var Te,Ze=this.cache(p);if(typeof A=="string")Ze[Le(A)]=Y;else for(Te in A)Ze[Le(Te)]=A[Te];return Ze},get:function(p,A){return A===void 0?this.cache(p):p[this.expando]&&p[this.expando][Le(A)]},access:function(p,A,Y){return A===void 0||A&&typeof A=="string"&&Y===void 0?this.get(p,A):(this.set(p,A,Y),Y!==void 0?Y:A)},remove:function(p,A){var Y,Te=p[this.expando];if(Te!==void 0){if(A!==void 0)for(Array.isArray(A)?A=A.map(Le):(A=Le(A),A=A in Te?[A]:A.match(M)||[]),Y=A.length;Y--;)delete Te[A[Y]];(A===void 0||F.isEmptyObject(Te))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var A=p[this.expando];return A!==void 0&&!F.isEmptyObject(A)}};var je=new ee,mt=new ee,gt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Gt=/[A-Z]/g;function li(B){return B==="true"?!0:B==="false"?!1:B==="null"?null:B===+B+""?+B:gt.test(B)?JSON.parse(B):B}function Oi(B,p,A){var Y;if(A===void 0&&B.nodeType===1)if(Y="data-"+p.replace(Gt,"-$&").toLowerCase(),A=B.getAttribute(Y),typeof A=="string"){try{A=li(A)}catch{}mt.set(B,p,A)}else A=void 0;return A}F.extend({hasData:function(p){return mt.hasData(p)||je.hasData(p)},data:function(p,A,Y){return mt.access(p,A,Y)},removeData:function(p,A){mt.remove(p,A)},_data:function(p,A,Y){return je.access(p,A,Y)},_removeData:function(p,A){je.remove(p,A)}}),F.fn.extend({data:function(p,A){var Y,Te,Ze,Ke=this[0],vt=Ke&&Ke.attributes;if(p===void 0){if(this.length&&(Ze=mt.get(Ke),Ke.nodeType===1&&!je.get(Ke,"hasDataAttrs"))){for(Y=vt.length;Y--;)vt[Y]&&(Te=vt[Y].name,Te.indexOf("data-")===0&&(Te=Le(Te.slice(5)),Oi(Ke,Te,Ze[Te])));je.set(Ke,"hasDataAttrs",!0)}return Ze}return K(p)==="object"?this.each(function(){mt.set(this,p)}):Xe(this,function(Et){var Nt;if(Ke&&Et===void 0)return Nt=mt.get(Ke,p),Nt!==void 0||(Nt=Oi(Ke,p),Nt!==void 0)?Nt:void 0;this.each(function(){mt.set(this,p,Et)})},null,A,arguments.length>1,null,!0)},removeData:function(p){return this.each(function(){mt.remove(this,p)})}}),F.extend({queue:function(p,A,Y){var Te;if(p)return A=(A||"fx")+"queue",Te=je.get(p,A),Y&&(!Te||Array.isArray(Y)?Te=je.access(p,A,F.makeArray(Y)):Te.push(Y)),Te||[]},dequeue:function(p,A){A=A||"fx";var Y=F.queue(p,A),Te=Y.length,Ze=Y.shift(),Ke=F._queueHooks(p,A),vt=function(){F.dequeue(p,A)};Ze==="inprogress"&&(Ze=Y.shift(),Te--),Ze&&(A==="fx"&&Y.unshift("inprogress"),delete Ke.stop,Ze.call(p,vt,Ke)),!Te&&Ke&&Ke.empty.fire()},_queueHooks:function(p,A){var Y=A+"queueHooks";return je.get(p,Y)||je.access(p,Y,{empty:F.Callbacks("once memory").add(function(){je.remove(p,[A+"queue",Y])})})}}),F.fn.extend({queue:function(p,A){var Y=2;return typeof p!="string"&&(A=p,p="fx",Y--),arguments.length<Y?F.queue(this[0],p):A===void 0?this:this.each(function(){var Te=F.queue(this,p,A);F._queueHooks(this,p),p==="fx"&&Te[0]!=="inprogress"&&F.dequeue(this,p)})},dequeue:function(p){return this.each(function(){F.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,A){var Y,Te=1,Ze=F.Deferred(),Ke=this,vt=this.length,Et=function(){--Te||Ze.resolveWith(Ke,[Ke])};for(typeof p!="string"&&(A=p,p=void 0),p=p||"fx";vt--;)Y=je.get(Ke[vt],p+"queueHooks"),Y&&Y.empty&&(Te++,Y.empty.add(Et));return Et(),Ze.promise(A)}});var ge=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ji=new RegExp("^(?:([+-])=|)("+ge+")([a-z%]*)$","i"),kt=["Top","Right","Bottom","Left"],Lt=le.documentElement,Tt=function(p){return F.contains(p.ownerDocument,p)},jt={composed:!0};Lt.getRootNode&&(Tt=function(p){return F.contains(p.ownerDocument,p)||p.getRootNode(jt)===p.ownerDocument});var Dt=function(p,A){return p=A||p,p.style.display==="none"||p.style.display===""&&Tt(p)&&F.css(p,"display")==="none"};function Ft(B,p,A,Y){var Te,Ze,Ke=20,vt=Y?function(){return Y.cur()}:function(){return F.css(B,p,"")},Et=vt(),Nt=A&&A[3]||(F.cssNumber[p]?"":"px"),Ri=B.nodeType&&(F.cssNumber[p]||Nt!=="px"&&+Et)&&Ji.exec(F.css(B,p));if(Ri&&Ri[3]!==Nt){for(Et=Et/2,Nt=Nt||Ri[3],Ri=+Et||1;Ke--;)F.style(B,p,Ri+Nt),(1-Ze)*(1-(Ze=vt()/Et||.5))<=0&&(Ke=0),Ri=Ri/Ze;Ri=Ri*2,F.style(B,p,Ri+Nt),A=A||[]}return A&&(Ri=+Ri||+Et||0,Te=A[1]?Ri+(A[1]+1)*A[2]:+A[2],Y&&(Y.unit=Nt,Y.start=Ri,Y.end=Te)),Te}var Kt={};function wt(B){var p,A=B.ownerDocument,Y=B.nodeName,Te=Kt[Y];return Te||(p=A.body.appendChild(A.createElement(Y)),Te=F.css(p,"display"),p.parentNode.removeChild(p),Te==="none"&&(Te="block"),Kt[Y]=Te,Te)}function si(B,p){for(var A,Y,Te=[],Ze=0,Ke=B.length;Ze<Ke;Ze++)Y=B[Ze],Y.style&&(A=Y.style.display,p?(A==="none"&&(Te[Ze]=je.get(Y,"display")||null,Te[Ze]||(Y.style.display="")),Y.style.display===""&&Dt(Y)&&(Te[Ze]=wt(Y))):A!=="none"&&(Te[Ze]="none",je.set(Y,"display",A)));for(Ze=0;Ze<Ke;Ze++)Te[Ze]!=null&&(B[Ze].style.display=Te[Ze]);return B}F.fn.extend({show:function(){return si(this,!0)},hide:function(){return si(this)},toggle:function(p){return typeof p=="boolean"?p?this.show():this.hide():this.each(function(){Dt(this)?F(this).show():F(this).hide()})}});var ht=/^(?:checkbox|radio)$/i,Ii=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ji=/^$|^module$|\/(?:java|ecma)script/i;(function(){var B=le.createDocumentFragment(),p=B.appendChild(le.createElement("div")),A=le.createElement("input");A.setAttribute("type","radio"),A.setAttribute("checked","checked"),A.setAttribute("name","t"),p.appendChild(A),me.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked,p.innerHTML="<textarea>x</textarea>",me.noCloneChecked=!!p.cloneNode(!0).lastChild.defaultValue,p.innerHTML="<option></option>",me.option=!!p.lastChild})();var Zi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Zi.tbody=Zi.tfoot=Zi.colgroup=Zi.caption=Zi.thead,Zi.th=Zi.td,me.option||(Zi.optgroup=Zi.option=[1,"<select multiple='multiple'>","</select>"]);function pi(B,p){var A;return typeof B.getElementsByTagName<"u"?A=B.getElementsByTagName(p||"*"):typeof B.querySelectorAll<"u"?A=B.querySelectorAll(p||"*"):A=[],p===void 0||p&&Ve(B,p)?F.merge([B],A):A}function sn(B,p){for(var A=0,Y=B.length;A<Y;A++)je.set(B[A],"globalEval",!p||je.get(p[A],"globalEval"))}var ci=/<|&#?\w+;/;function Ut(B,p,A,Y,Te){for(var Ze,Ke,vt,Et,Nt,Ri,Li=p.createDocumentFragment(),vn=[],Wi=0,Cn=B.length;Wi<Cn;Wi++)if(Ze=B[Wi],Ze||Ze===0)if(fe(Ze)==="object")F.merge(vn,Ze.nodeType?[Ze]:Ze);else if(!ci.test(Ze))vn.push(p.createTextNode(Ze));else{for(Ke=Ke||Li.appendChild(p.createElement("div")),vt=(Ii.exec(Ze)||["",""])[1].toLowerCase(),Et=Zi[vt]||Zi._default,Ke.innerHTML=Et[1]+F.htmlPrefilter(Ze)+Et[2],Ri=Et[0];Ri--;)Ke=Ke.lastChild;F.merge(vn,Ke.childNodes),Ke=Li.firstChild,Ke.textContent=""}for(Li.textContent="",Wi=0;Ze=vn[Wi++];){if(Y&&F.inArray(Ze,Y)>-1){Te&&Te.push(Ze);continue}if(Nt=Tt(Ze),Ke=pi(Li.appendChild(Ze),"script"),Nt&&sn(Ke),A)for(Ri=0;Ze=Ke[Ri++];)ji.test(Ze.type||"")&&A.push(Ze)}return Li}var V=/^([^.]*)(?:\.(.+)|)/;function w(){return!0}function N(){return!1}function T(B,p,A,Y,Te,Ze){var Ke,vt;if(K(p)==="object"){typeof A!="string"&&(Y=Y||A,A=void 0);for(vt in p)T(B,vt,A,Y,p[vt],Ze);return B}if(Y==null&&Te==null?(Te=A,Y=A=void 0):Te==null&&(typeof A=="string"?(Te=Y,Y=void 0):(Te=Y,Y=A,A=void 0)),Te===!1)Te=N;else if(!Te)return B;return Ze===1&&(Ke=Te,Te=function(Nt){return F().off(Nt),Ke.apply(this,arguments)},Te.guid=Ke.guid||(Ke.guid=F.guid++)),B.each(function(){F.event.add(this,p,Te,Y,A)})}F.event={global:{},add:function(p,A,Y,Te,Ze){var Ke,vt,Et,Nt,Ri,Li,vn,Wi,Cn,ur,yr,Ur=je.get(p);if(pe(p))for(Y.handler&&(Ke=Y,Y=Ke.handler,Ze=Ke.selector),Ze&&F.find.matchesSelector(Lt,Ze),Y.guid||(Y.guid=F.guid++),(Nt=Ur.events)||(Nt=Ur.events=Object.create(null)),(vt=Ur.handle)||(vt=Ur.handle=function(Ca){return typeof F<"u"&&F.event.triggered!==Ca.type?F.event.dispatch.apply(p,arguments):void 0}),A=(A||"").match(M)||[""],Ri=A.length;Ri--;)Et=V.exec(A[Ri])||[],Cn=yr=Et[1],ur=(Et[2]||"").split(".").sort(),Cn&&(vn=F.event.special[Cn]||{},Cn=(Ze?vn.delegateType:vn.bindType)||Cn,vn=F.event.special[Cn]||{},Li=F.extend({type:Cn,origType:yr,data:Te,handler:Y,guid:Y.guid,selector:Ze,needsContext:Ze&&F.expr.match.needsContext.test(Ze),namespace:ur.join(".")},Ke),(Wi=Nt[Cn])||(Wi=Nt[Cn]=[],Wi.delegateCount=0,(!vn.setup||vn.setup.call(p,Te,ur,vt)===!1)&&p.addEventListener&&p.addEventListener(Cn,vt)),vn.add&&(vn.add.call(p,Li),Li.handler.guid||(Li.handler.guid=Y.guid)),Ze?Wi.splice(Wi.delegateCount++,0,Li):Wi.push(Li),F.event.global[Cn]=!0)},remove:function(p,A,Y,Te,Ze){var Ke,vt,Et,Nt,Ri,Li,vn,Wi,Cn,ur,yr,Ur=je.hasData(p)&&je.get(p);if(!(!Ur||!(Nt=Ur.events))){for(A=(A||"").match(M)||[""],Ri=A.length;Ri--;){if(Et=V.exec(A[Ri])||[],Cn=yr=Et[1],ur=(Et[2]||"").split(".").sort(),!Cn){for(Cn in Nt)F.event.remove(p,Cn+A[Ri],Y,Te,!0);continue}for(vn=F.event.special[Cn]||{},Cn=(Te?vn.delegateType:vn.bindType)||Cn,Wi=Nt[Cn]||[],Et=Et[2]&&new RegExp("(^|\\.)"+ur.join("\\.(?:.*\\.|)")+"(\\.|$)"),vt=Ke=Wi.length;Ke--;)Li=Wi[Ke],(Ze||yr===Li.origType)&&(!Y||Y.guid===Li.guid)&&(!Et||Et.test(Li.namespace))&&(!Te||Te===Li.selector||Te==="**"&&Li.selector)&&(Wi.splice(Ke,1),Li.selector&&Wi.delegateCount--,vn.remove&&vn.remove.call(p,Li));vt&&!Wi.length&&((!vn.teardown||vn.teardown.call(p,ur,Ur.handle)===!1)&&F.removeEvent(p,Cn,Ur.handle),delete Nt[Cn])}F.isEmptyObject(Nt)&&je.remove(p,"handle events")}},dispatch:function(p){var A,Y,Te,Ze,Ke,vt,Et=new Array(arguments.length),Nt=F.event.fix(p),Ri=(je.get(this,"events")||Object.create(null))[Nt.type]||[],Li=F.event.special[Nt.type]||{};for(Et[0]=Nt,A=1;A<arguments.length;A++)Et[A]=arguments[A];if(Nt.delegateTarget=this,!(Li.preDispatch&&Li.preDispatch.call(this,Nt)===!1)){for(vt=F.event.handlers.call(this,Nt,Ri),A=0;(Ze=vt[A++])&&!Nt.isPropagationStopped();)for(Nt.currentTarget=Ze.elem,Y=0;(Ke=Ze.handlers[Y++])&&!Nt.isImmediatePropagationStopped();)(!Nt.rnamespace||Ke.namespace===!1||Nt.rnamespace.test(Ke.namespace))&&(Nt.handleObj=Ke,Nt.data=Ke.data,Te=((F.event.special[Ke.origType]||{}).handle||Ke.handler).apply(Ze.elem,Et),Te!==void 0&&(Nt.result=Te)===!1&&(Nt.preventDefault(),Nt.stopPropagation()));return Li.postDispatch&&Li.postDispatch.call(this,Nt),Nt.result}},handlers:function(p,A){var Y,Te,Ze,Ke,vt,Et=[],Nt=A.delegateCount,Ri=p.target;if(Nt&&Ri.nodeType&&!(p.type==="click"&&p.button>=1)){for(;Ri!==this;Ri=Ri.parentNode||this)if(Ri.nodeType===1&&!(p.type==="click"&&Ri.disabled===!0)){for(Ke=[],vt={},Y=0;Y<Nt;Y++)Te=A[Y],Ze=Te.selector+" ",vt[Ze]===void 0&&(vt[Ze]=Te.needsContext?F(Ze,this).index(Ri)>-1:F.find(Ze,this,null,[Ri]).length),vt[Ze]&&Ke.push(Te);Ke.length&&Et.push({elem:Ri,handlers:Ke})}}return Ri=this,Nt<A.length&&Et.push({elem:Ri,handlers:A.slice(Nt)}),Et},addProp:function(p,A){Object.defineProperty(F.Event.prototype,p,{enumerable:!0,configurable:!0,get:m(A)?function(){if(this.originalEvent)return A(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(Te){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:Te})}})},fix:function(p){return p[F.expando]?p:new F.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var A=this||p;return ht.test(A.type)&&A.click&&Ve(A,"input")&&we(A,"click",!0),!1},trigger:function(p){var A=this||p;return ht.test(A.type)&&A.click&&Ve(A,"input")&&we(A,"click"),!0},_default:function(p){var A=p.target;return ht.test(A.type)&&A.click&&Ve(A,"input")&&je.get(A,"click")||Ve(A,"a")}},beforeunload:{postDispatch:function(p){p.result!==void 0&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}};function we(B,p,A){if(!A){je.get(B,p)===void 0&&F.event.add(B,p,w);return}je.set(B,p,!1),F.event.add(B,p,{namespace:!1,handler:function(Te){var Ze,Ke=je.get(this,p);if(Te.isTrigger&1&&this[p]){if(Ke)(F.event.special[p]||{}).delegateType&&Te.stopPropagation();else if(Ke=R.call(arguments),je.set(this,p,Ke),this[p](),Ze=je.get(this,p),je.set(this,p,!1),Ke!==Ze)return Te.stopImmediatePropagation(),Te.preventDefault(),Ze}else Ke&&(je.set(this,p,F.event.trigger(Ke[0],Ke.slice(1),this)),Te.stopPropagation(),Te.isImmediatePropagationStopped=w)}})}F.removeEvent=function(B,p,A){B.removeEventListener&&B.removeEventListener(p,A)},F.Event=function(B,p){if(!(this instanceof F.Event))return new F.Event(B,p);B&&B.type?(this.originalEvent=B,this.type=B.type,this.isDefaultPrevented=B.defaultPrevented||B.defaultPrevented===void 0&&B.returnValue===!1?w:N,this.target=B.target&&B.target.nodeType===3?B.target.parentNode:B.target,this.currentTarget=B.currentTarget,this.relatedTarget=B.relatedTarget):this.type=B,p&&F.extend(this,p),this.timeStamp=B&&B.timeStamp||Date.now(),this[F.expando]=!0},F.Event.prototype={constructor:F.Event,isDefaultPrevented:N,isPropagationStopped:N,isImmediatePropagationStopped:N,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=w,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=w,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=w,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},F.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},F.event.addProp),F.each({focus:"focusin",blur:"focusout"},function(B,p){function A(Y){if(le.documentMode){var Te=je.get(this,"handle"),Ze=F.event.fix(Y);Ze.type=Y.type==="focusin"?"focus":"blur",Ze.isSimulated=!0,Te(Y),Ze.target===Ze.currentTarget&&Te(Ze)}else F.event.simulate(p,Y.target,F.event.fix(Y))}F.event.special[B]={setup:function(){var Te;if(we(this,B,!0),le.documentMode)Te=je.get(this,p),Te||this.addEventListener(p,A),je.set(this,p,(Te||0)+1);else return!1},trigger:function(){return we(this,B),!0},teardown:function(){var Te;if(le.documentMode)Te=je.get(this,p)-1,Te?je.set(this,p,Te):(this.removeEventListener(p,A),je.remove(this,p));else return!1},_default:function(Te){return je.get(Te.target,B)},delegateType:p},F.event.special[p]={setup:function(){var Te=this.ownerDocument||this.document||this,Ze=le.documentMode?this:Te,Ke=je.get(Ze,p);Ke||(le.documentMode?this.addEventListener(p,A):Te.addEventListener(B,A,!0)),je.set(Ze,p,(Ke||0)+1)},teardown:function(){var Te=this.ownerDocument||this.document||this,Ze=le.documentMode?this:Te,Ke=je.get(Ze,p)-1;Ke?je.set(Ze,p,Ke):(le.documentMode?this.removeEventListener(p,A):Te.removeEventListener(B,A,!0),je.remove(Ze,p))}}}),F.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(B,p){F.event.special[B]={delegateType:p,bindType:p,handle:function(Y){var Te,Ze=this,Ke=Y.relatedTarget,vt=Y.handleObj;return(!Ke||Ke!==Ze&&!F.contains(Ze,Ke))&&(Y.type=vt.origType,Te=vt.handler.apply(this,arguments),Y.type=p),Te}}}),F.fn.extend({on:function(p,A,Y,Te){return T(this,p,A,Y,Te)},one:function(p,A,Y,Te){return T(this,p,A,Y,Te,1)},off:function(p,A,Y){var Te,Ze;if(p&&p.preventDefault&&p.handleObj)return Te=p.handleObj,F(p.delegateTarget).off(Te.namespace?Te.origType+"."+Te.namespace:Te.origType,Te.selector,Te.handler),this;if(K(p)==="object"){for(Ze in p)this.off(Ze,A,p[Ze]);return this}return(A===!1||typeof A=="function")&&(Y=A,A=void 0),Y===!1&&(Y=N),this.each(function(){F.event.remove(this,p,Y,A)})}});var Se=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function bt(B,p){return Ve(B,"table")&&Ve(p.nodeType!==11?p:p.firstChild,"tr")&&F(B).children("tbody")[0]||B}function ni(B){return B.type=(B.getAttribute("type")!==null)+"/"+B.type,B}function Zt(B){return(B.type||"").slice(0,5)==="true/"?B.type=B.type.slice(5):B.removeAttribute("type"),B}function Me(B,p){var A,Y,Te,Ze,Ke,vt,Et;if(p.nodeType===1){if(je.hasData(B)&&(Ze=je.get(B),Et=Ze.events,Et)){je.remove(p,"handle events");for(Te in Et)for(A=0,Y=Et[Te].length;A<Y;A++)F.event.add(p,Te,Et[Te][A])}mt.hasData(B)&&(Ke=mt.access(B),vt=F.extend({},Ke),mt.set(p,vt))}}function dt(B,p){var A=p.nodeName.toLowerCase();A==="input"&&ht.test(B.type)?p.checked=B.checked:(A==="input"||A==="textarea")&&(p.defaultValue=B.defaultValue)}function ai(B,p,A,Y){p=b(p);var Te,Ze,Ke,vt,Et,Nt,Ri=0,Li=B.length,vn=Li-1,Wi=p[0],Cn=m(Wi);if(Cn||Li>1&&typeof Wi=="string"&&!me.checkClone&&Ne.test(Wi))return B.each(function(ur){var yr=B.eq(ur);Cn&&(p[0]=Wi.call(this,ur,yr.html())),ai(yr,p,A,Y)});if(Li&&(Te=Ut(p,B[0].ownerDocument,!1,B,Y),Ze=Te.firstChild,Te.childNodes.length===1&&(Te=Ze),Ze||Y)){for(Ke=F.map(pi(Te,"script"),ni),vt=Ke.length;Ri<Li;Ri++)Et=Te,Ri!==vn&&(Et=F.clone(Et,!0,!0),vt&&F.merge(Ke,pi(Et,"script"))),A.call(B[Ri],Et,Ri);if(vt)for(Nt=Ke[Ke.length-1].ownerDocument,F.map(Ke,Zt),Ri=0;Ri<vt;Ri++)Et=Ke[Ri],ji.test(Et.type||"")&&!je.access(Et,"globalEval")&&F.contains(Nt,Et)&&(Et.src&&(Et.type||"").toLowerCase()!=="module"?F._evalUrl&&!Et.noModule&&F._evalUrl(Et.src,{nonce:Et.nonce||Et.getAttribute("nonce")},Nt):Pe(Et.textContent.replace(Ye,""),Et,Nt))}return B}function Fi(B,p,A){for(var Y,Te=p?F.filter(p,B):B,Ze=0;(Y=Te[Ze])!=null;Ze++)!A&&Y.nodeType===1&&F.cleanData(pi(Y)),Y.parentNode&&(A&&Tt(Y)&&sn(pi(Y,"script")),Y.parentNode.removeChild(Y));return B}F.extend({htmlPrefilter:function(p){return p},clone:function(p,A,Y){var Te,Ze,Ke,vt,Et=p.cloneNode(!0),Nt=Tt(p);if(!me.noCloneChecked&&(p.nodeType===1||p.nodeType===11)&&!F.isXMLDoc(p))for(vt=pi(Et),Ke=pi(p),Te=0,Ze=Ke.length;Te<Ze;Te++)dt(Ke[Te],vt[Te]);if(A)if(Y)for(Ke=Ke||pi(p),vt=vt||pi(Et),Te=0,Ze=Ke.length;Te<Ze;Te++)Me(Ke[Te],vt[Te]);else Me(p,Et);return vt=pi(Et,"script"),vt.length>0&&sn(vt,!Nt&&pi(p,"script")),Et},cleanData:function(p){for(var A,Y,Te,Ze=F.event.special,Ke=0;(Y=p[Ke])!==void 0;Ke++)if(pe(Y)){if(A=Y[je.expando]){if(A.events)for(Te in A.events)Ze[Te]?F.event.remove(Y,Te):F.removeEvent(Y,Te,A.handle);Y[je.expando]=void 0}Y[mt.expando]&&(Y[mt.expando]=void 0)}}}),F.fn.extend({detach:function(p){return Fi(this,p,!0)},remove:function(p){return Fi(this,p)},text:function(p){return Xe(this,function(A){return A===void 0?F.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=A)})},null,p,arguments.length)},append:function(){return ai(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var A=bt(this,p);A.appendChild(p)}})},prepend:function(){return ai(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var A=bt(this,p);A.insertBefore(p,A.firstChild)}})},before:function(){return ai(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return ai(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,A=0;(p=this[A])!=null;A++)p.nodeType===1&&(F.cleanData(pi(p,!1)),p.textContent="");return this},clone:function(p,A){return p=p??!1,A=A??p,this.map(function(){return F.clone(this,p,A)})},html:function(p){return Xe(this,function(A){var Y=this[0]||{},Te=0,Ze=this.length;if(A===void 0&&Y.nodeType===1)return Y.innerHTML;if(typeof A=="string"&&!Se.test(A)&&!Zi[(Ii.exec(A)||["",""])[1].toLowerCase()]){A=F.htmlPrefilter(A);try{for(;Te<Ze;Te++)Y=this[Te]||{},Y.nodeType===1&&(F.cleanData(pi(Y,!1)),Y.innerHTML=A);Y=0}catch{}}Y&&this.empty().append(A)},null,p,arguments.length)},replaceWith:function(){var p=[];return ai(this,arguments,function(A){var Y=this.parentNode;F.inArray(this,p)<0&&(F.cleanData(pi(this)),Y&&Y.replaceChild(A,this))},p)}}),F.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(B,p){F.fn[B]=function(A){for(var Y,Te=[],Ze=F(A),Ke=Ze.length-1,vt=0;vt<=Ke;vt++)Y=vt===Ke?this:this.clone(!0),F(Ze[vt])[p](Y),_.apply(Te,Y.get());return this.pushStack(Te)}});var di=new RegExp("^("+ge+")(?!px)[a-z%]+$","i"),gi=/^--/,Ki=function(p){var A=p.ownerDocument.defaultView;return(!A||!A.opener)&&(A=u),A.getComputedStyle(p)},Si=function(p,A,Y){var Te,Ze,Ke={};for(Ze in A)Ke[Ze]=p.style[Ze],p.style[Ze]=A[Ze];Te=Y.call(p);for(Ze in A)p.style[Ze]=Ke[Ze];return Te},Ht=new RegExp(kt.join("|"),"i");(function(){function B(){if(Nt){Et.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Nt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Lt.appendChild(Et).appendChild(Nt);var Ri=u.getComputedStyle(Nt);A=Ri.top!=="1%",vt=p(Ri.marginLeft)===12,Nt.style.right="60%",Ze=p(Ri.right)===36,Y=p(Ri.width)===36,Nt.style.position="absolute",Te=p(Nt.offsetWidth/3)===12,Lt.removeChild(Et),Nt=null}}function p(Ri){return Math.round(parseFloat(Ri))}var A,Y,Te,Ze,Ke,vt,Et=le.createElement("div"),Nt=le.createElement("div");Nt.style&&(Nt.style.backgroundClip="content-box",Nt.cloneNode(!0).style.backgroundClip="",me.clearCloneStyle=Nt.style.backgroundClip==="content-box",F.extend(me,{boxSizingReliable:function(){return B(),Y},pixelBoxStyles:function(){return B(),Ze},pixelPosition:function(){return B(),A},reliableMarginLeft:function(){return B(),vt},scrollboxSize:function(){return B(),Te},reliableTrDimensions:function(){var Li,vn,Wi,Cn;return Ke==null&&(Li=le.createElement("table"),vn=le.createElement("tr"),Wi=le.createElement("div"),Li.style.cssText="position:absolute;left:-11111px;border-collapse:separate",vn.style.cssText="box-sizing:content-box;border:1px solid",vn.style.height="1px",Wi.style.height="9px",Wi.style.display="block",Lt.appendChild(Li).appendChild(vn).appendChild(Wi),Cn=u.getComputedStyle(vn),Ke=parseInt(Cn.height,10)+parseInt(Cn.borderTopWidth,10)+parseInt(Cn.borderBottomWidth,10)===vn.offsetHeight,Lt.removeChild(Li)),Ke}}))})();function qt(B,p,A){var Y,Te,Ze,Ke,vt=gi.test(p),Et=B.style;return A=A||Ki(B),A&&(Ke=A.getPropertyValue(p)||A[p],vt&&Ke&&(Ke=Ke.replace(Qi,"$1")||void 0),Ke===""&&!Tt(B)&&(Ke=F.style(B,p)),!me.pixelBoxStyles()&&di.test(Ke)&&Ht.test(p)&&(Y=Et.width,Te=Et.minWidth,Ze=Et.maxWidth,Et.minWidth=Et.maxWidth=Et.width=Ke,Ke=A.width,Et.width=Y,Et.minWidth=Te,Et.maxWidth=Ze)),Ke!==void 0?Ke+"":Ke}function vi(B,p){return{get:function(){if(B()){delete this.get;return}return(this.get=p).apply(this,arguments)}}}var rn=["Webkit","Moz","ms"],En=le.createElement("div").style,an={};function cn(B){for(var p=B[0].toUpperCase()+B.slice(1),A=rn.length;A--;)if(B=rn[A]+p,B in En)return B}function Rn(B){var p=F.cssProps[B]||an[B];return p||(B in En?B:an[B]=cn(B)||B)}var fn=/^(none|table(?!-c[ea]).+)/,xn={position:"absolute",visibility:"hidden",display:"block"},tr={letterSpacing:"0",fontWeight:"400"};function $n(B,p,A){var Y=Ji.exec(p);return Y?Math.max(0,Y[2]-(A||0))+(Y[3]||"px"):p}function Tr(B,p,A,Y,Te,Ze){var Ke=p==="width"?1:0,vt=0,Et=0,Nt=0;if(A===(Y?"border":"content"))return 0;for(;Ke<4;Ke+=2)A==="margin"&&(Nt+=F.css(B,A+kt[Ke],!0,Te)),Y?(A==="content"&&(Et-=F.css(B,"padding"+kt[Ke],!0,Te)),A!=="margin"&&(Et-=F.css(B,"border"+kt[Ke]+"Width",!0,Te))):(Et+=F.css(B,"padding"+kt[Ke],!0,Te),A!=="padding"?Et+=F.css(B,"border"+kt[Ke]+"Width",!0,Te):vt+=F.css(B,"border"+kt[Ke]+"Width",!0,Te));return!Y&&Ze>=0&&(Et+=Math.max(0,Math.ceil(B["offset"+p[0].toUpperCase()+p.slice(1)]-Ze-Et-vt-.5))||0),Et+Nt}function jn(B,p,A){var Y=Ki(B),Te=!me.boxSizingReliable()||A,Ze=Te&&F.css(B,"boxSizing",!1,Y)==="border-box",Ke=Ze,vt=qt(B,p,Y),Et="offset"+p[0].toUpperCase()+p.slice(1);if(di.test(vt)){if(!A)return vt;vt="auto"}return(!me.boxSizingReliable()&&Ze||!me.reliableTrDimensions()&&Ve(B,"tr")||vt==="auto"||!parseFloat(vt)&&F.css(B,"display",!1,Y)==="inline")&&B.getClientRects().length&&(Ze=F.css(B,"boxSizing",!1,Y)==="border-box",Ke=Et in B,Ke&&(vt=B[Et])),vt=parseFloat(vt)||0,vt+Tr(B,p,A||(Ze?"border":"content"),Ke,Y,vt)+"px"}F.extend({cssHooks:{opacity:{get:function(p,A){if(A){var Y=qt(p,"opacity");return Y===""?"1":Y}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(p,A,Y,Te){if(!(!p||p.nodeType===3||p.nodeType===8||!p.style)){var Ze,Ke,vt,Et=Le(A),Nt=gi.test(A),Ri=p.style;if(Nt||(A=Rn(Et)),vt=F.cssHooks[A]||F.cssHooks[Et],Y!==void 0){if(Ke=K(Y),Ke==="string"&&(Ze=Ji.exec(Y))&&Ze[1]&&(Y=Ft(p,A,Ze),Ke="number"),Y==null||Y!==Y)return;Ke==="number"&&!Nt&&(Y+=Ze&&Ze[3]||(F.cssNumber[Et]?"":"px")),!me.clearCloneStyle&&Y===""&&A.indexOf("background")===0&&(Ri[A]="inherit"),(!vt||!("set"in vt)||(Y=vt.set(p,Y,Te))!==void 0)&&(Nt?Ri.setProperty(A,Y):Ri[A]=Y)}else return vt&&"get"in vt&&(Ze=vt.get(p,!1,Te))!==void 0?Ze:Ri[A]}},css:function(p,A,Y,Te){var Ze,Ke,vt,Et=Le(A),Nt=gi.test(A);return Nt||(A=Rn(Et)),vt=F.cssHooks[A]||F.cssHooks[Et],vt&&"get"in vt&&(Ze=vt.get(p,!0,Y)),Ze===void 0&&(Ze=qt(p,A,Te)),Ze==="normal"&&A in tr&&(Ze=tr[A]),Y===""||Y?(Ke=parseFloat(Ze),Y===!0||isFinite(Ke)?Ke||0:Ze):Ze}}),F.each(["height","width"],function(B,p){F.cssHooks[p]={get:function(Y,Te,Ze){if(Te)return fn.test(F.css(Y,"display"))&&(!Y.getClientRects().length||!Y.getBoundingClientRect().width)?Si(Y,xn,function(){return jn(Y,p,Ze)}):jn(Y,p,Ze)},set:function(Y,Te,Ze){var Ke,vt=Ki(Y),Et=!me.scrollboxSize()&&vt.position==="absolute",Nt=Et||Ze,Ri=Nt&&F.css(Y,"boxSizing",!1,vt)==="border-box",Li=Ze?Tr(Y,p,Ze,Ri,vt):0;return Ri&&Et&&(Li-=Math.ceil(Y["offset"+p[0].toUpperCase()+p.slice(1)]-parseFloat(vt[p])-Tr(Y,p,"border",!1,vt)-.5)),Li&&(Ke=Ji.exec(Te))&&(Ke[3]||"px")!=="px"&&(Y.style[p]=Te,Te=F.css(Y,p)),$n(Y,Te,Li)}}}),F.cssHooks.marginLeft=vi(me.reliableMarginLeft,function(B,p){if(p)return(parseFloat(qt(B,"marginLeft"))||B.getBoundingClientRect().left-Si(B,{marginLeft:0},function(){return B.getBoundingClientRect().left}))+"px"}),F.each({margin:"",padding:"",border:"Width"},function(B,p){F.cssHooks[B+p]={expand:function(Y){for(var Te=0,Ze={},Ke=typeof Y=="string"?Y.split(" "):[Y];Te<4;Te++)Ze[B+kt[Te]+p]=Ke[Te]||Ke[Te-2]||Ke[0];return Ze}},B!=="margin"&&(F.cssHooks[B+p].set=$n)}),F.fn.extend({css:function(p,A){return Xe(this,function(Y,Te,Ze){var Ke,vt,Et={},Nt=0;if(Array.isArray(Te)){for(Ke=Ki(Y),vt=Te.length;Nt<vt;Nt++)Et[Te[Nt]]=F.css(Y,Te[Nt],!1,Ke);return Et}return Ze!==void 0?F.style(Y,Te,Ze):F.css(Y,Te)},p,A,arguments.length>1)}});function wr(B,p,A,Y,Te){return new wr.prototype.init(B,p,A,Y,Te)}F.Tween=wr,wr.prototype={constructor:wr,init:function(p,A,Y,Te,Ze,Ke){this.elem=p,this.prop=Y,this.easing=Ze||F.easing._default,this.options=A,this.start=this.now=this.cur(),this.end=Te,this.unit=Ke||(F.cssNumber[Y]?"":"px")},cur:function(){var p=wr.propHooks[this.prop];return p&&p.get?p.get(this):wr.propHooks._default.get(this)},run:function(p){var A,Y=wr.propHooks[this.prop];return this.options.duration?this.pos=A=F.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):this.pos=A=p,this.now=(this.end-this.start)*A+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Y&&Y.set?Y.set(this):wr.propHooks._default.set(this),this}},wr.prototype.init.prototype=wr.prototype,wr.propHooks={_default:{get:function(p){var A;return p.elem.nodeType!==1||p.elem[p.prop]!=null&&p.elem.style[p.prop]==null?p.elem[p.prop]:(A=F.css(p.elem,p.prop,""),!A||A==="auto"?0:A)},set:function(p){F.fx.step[p.prop]?F.fx.step[p.prop](p):p.elem.nodeType===1&&(F.cssHooks[p.prop]||p.elem.style[Rn(p.prop)]!=null)?F.style(p.elem,p.prop,p.now+p.unit):p.elem[p.prop]=p.now}}},wr.propHooks.scrollTop=wr.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},F.easing={linear:function(p){return p},swing:function(p){return .5-Math.cos(p*Math.PI)/2},_default:"swing"},F.fx=wr.prototype.init,F.fx.step={};var Er,Qn,Un=/^(?:toggle|show|hide)$/,ar=/queueHooks$/;function Sa(){Qn&&(le.hidden===!1&&u.requestAnimationFrame?u.requestAnimationFrame(Sa):u.setTimeout(Sa,F.fx.interval),F.fx.tick())}function Gr(){return u.setTimeout(function(){Er=void 0}),Er=Date.now()}function br(B,p){var A,Y=0,Te={height:B};for(p=p?1:0;Y<4;Y+=2-p)A=kt[Y],Te["margin"+A]=Te["padding"+A]=B;return p&&(Te.opacity=Te.width=B),Te}function ea(B,p,A){for(var Y,Te=(Jn.tweeners[p]||[]).concat(Jn.tweeners["*"]),Ze=0,Ke=Te.length;Ze<Ke;Ze++)if(Y=Te[Ze].call(A,p,B))return Y}function Fa(B,p,A){var Y,Te,Ze,Ke,vt,Et,Nt,Ri,Li="width"in p||"height"in p,vn=this,Wi={},Cn=B.style,ur=B.nodeType&&Dt(B),yr=je.get(B,"fxshow");A.queue||(Ke=F._queueHooks(B,"fx"),Ke.unqueued==null&&(Ke.unqueued=0,vt=Ke.empty.fire,Ke.empty.fire=function(){Ke.unqueued||vt()}),Ke.unqueued++,vn.always(function(){vn.always(function(){Ke.unqueued--,F.queue(B,"fx").length||Ke.empty.fire()})}));for(Y in p)if(Te=p[Y],Un.test(Te)){if(delete p[Y],Ze=Ze||Te==="toggle",Te===(ur?"hide":"show"))if(Te==="show"&&yr&&yr[Y]!==void 0)ur=!0;else continue;Wi[Y]=yr&&yr[Y]||F.style(B,Y)}if(Et=!F.isEmptyObject(p),!(!Et&&F.isEmptyObject(Wi))){Li&&B.nodeType===1&&(A.overflow=[Cn.overflow,Cn.overflowX,Cn.overflowY],Nt=yr&&yr.display,Nt==null&&(Nt=je.get(B,"display")),Ri=F.css(B,"display"),Ri==="none"&&(Nt?Ri=Nt:(si([B],!0),Nt=B.style.display||Nt,Ri=F.css(B,"display"),si([B]))),(Ri==="inline"||Ri==="inline-block"&&Nt!=null)&&F.css(B,"float")==="none"&&(Et||(vn.done(function(){Cn.display=Nt}),Nt==null&&(Ri=Cn.display,Nt=Ri==="none"?"":Ri)),Cn.display="inline-block")),A.overflow&&(Cn.overflow="hidden",vn.always(function(){Cn.overflow=A.overflow[0],Cn.overflowX=A.overflow[1],Cn.overflowY=A.overflow[2]})),Et=!1;for(Y in Wi)Et||(yr?"hidden"in yr&&(ur=yr.hidden):yr=je.access(B,"fxshow",{display:Nt}),Ze&&(yr.hidden=!ur),ur&&si([B],!0),vn.done(function(){ur||si([B]),je.remove(B,"fxshow");for(Y in Wi)F.style(B,Y,Wi[Y])})),Et=ea(ur?yr[Y]:0,Y,vn),Y in yr||(yr[Y]=Et.start,ur&&(Et.end=Et.start,Et.start=0))}}function ka(B,p){var A,Y,Te,Ze,Ke;for(A in B)if(Y=Le(A),Te=p[Y],Ze=B[A],Array.isArray(Ze)&&(Te=Ze[1],Ze=B[A]=Ze[0]),A!==Y&&(B[Y]=Ze,delete B[A]),Ke=F.cssHooks[Y],Ke&&"expand"in Ke){Ze=Ke.expand(Ze),delete B[Y];for(A in Ze)A in B||(B[A]=Ze[A],p[A]=Te)}else p[Y]=Te}function Jn(B,p,A){var Y,Te,Ze=0,Ke=Jn.prefilters.length,vt=F.Deferred().always(function(){delete Et.elem}),Et=function(){if(Te)return!1;for(var vn=Er||Gr(),Wi=Math.max(0,Nt.startTime+Nt.duration-vn),Cn=Wi/Nt.duration||0,ur=1-Cn,yr=0,Ur=Nt.tweens.length;yr<Ur;yr++)Nt.tweens[yr].run(ur);return vt.notifyWith(B,[Nt,ur,Wi]),ur<1&&Ur?Wi:(Ur||vt.notifyWith(B,[Nt,1,0]),vt.resolveWith(B,[Nt]),!1)},Nt=vt.promise({elem:B,props:F.extend({},p),opts:F.extend(!0,{specialEasing:{},easing:F.easing._default},A),originalProperties:p,originalOptions:A,startTime:Er||Gr(),duration:A.duration,tweens:[],createTween:function(vn,Wi){var Cn=F.Tween(B,Nt.opts,vn,Wi,Nt.opts.specialEasing[vn]||Nt.opts.easing);return Nt.tweens.push(Cn),Cn},stop:function(vn){var Wi=0,Cn=vn?Nt.tweens.length:0;if(Te)return this;for(Te=!0;Wi<Cn;Wi++)Nt.tweens[Wi].run(1);return vn?(vt.notifyWith(B,[Nt,1,0]),vt.resolveWith(B,[Nt,vn])):vt.rejectWith(B,[Nt,vn]),this}}),Ri=Nt.props;for(ka(Ri,Nt.opts.specialEasing);Ze<Ke;Ze++)if(Y=Jn.prefilters[Ze].call(Nt,B,Ri,Nt.opts),Y)return m(Y.stop)&&(F._queueHooks(Nt.elem,Nt.opts.queue).stop=Y.stop.bind(Y)),Y;return F.map(Ri,ea,Nt),m(Nt.opts.start)&&Nt.opts.start.call(B,Nt),Nt.progress(Nt.opts.progress).done(Nt.opts.done,Nt.opts.complete).fail(Nt.opts.fail).always(Nt.opts.always),F.fx.timer(F.extend(Et,{elem:B,anim:Nt,queue:Nt.opts.queue})),Nt}F.Animation=F.extend(Jn,{tweeners:{"*":[function(B,p){var A=this.createTween(B,p);return Ft(A.elem,B,Ji.exec(p),A),A}]},tweener:function(p,A){m(p)?(A=p,p=["*"]):p=p.match(M);for(var Y,Te=0,Ze=p.length;Te<Ze;Te++)Y=p[Te],Jn.tweeners[Y]=Jn.tweeners[Y]||[],Jn.tweeners[Y].unshift(A)},prefilters:[Fa],prefilter:function(p,A){A?Jn.prefilters.unshift(p):Jn.prefilters.push(p)}}),F.speed=function(B,p,A){var Y=B&&K(B)==="object"?F.extend({},B):{complete:A||!A&&p||m(B)&&B,duration:B,easing:A&&p||p&&!m(p)&&p};return F.fx.off?Y.duration=0:typeof Y.duration!="number"&&(Y.duration in F.fx.speeds?Y.duration=F.fx.speeds[Y.duration]:Y.duration=F.fx.speeds._default),(Y.queue==null||Y.queue===!0)&&(Y.queue="fx"),Y.old=Y.complete,Y.complete=function(){m(Y.old)&&Y.old.call(this),Y.queue&&F.dequeue(this,Y.queue)},Y},F.fn.extend({fadeTo:function(p,A,Y,Te){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:A},p,Y,Te)},animate:function(p,A,Y,Te){var Ze=F.isEmptyObject(p),Ke=F.speed(A,Y,Te),vt=function(){var Nt=Jn(this,F.extend({},p),Ke);(Ze||je.get(this,"finish"))&&Nt.stop(!0)};return vt.finish=vt,Ze||Ke.queue===!1?this.each(vt):this.queue(Ke.queue,vt)},stop:function(p,A,Y){var Te=function(Ke){var vt=Ke.stop;delete Ke.stop,vt(Y)};return typeof p!="string"&&(Y=A,A=p,p=void 0),A&&this.queue(p||"fx",[]),this.each(function(){var Ze=!0,Ke=p!=null&&p+"queueHooks",vt=F.timers,Et=je.get(this);if(Ke)Et[Ke]&&Et[Ke].stop&&Te(Et[Ke]);else for(Ke in Et)Et[Ke]&&Et[Ke].stop&&ar.test(Ke)&&Te(Et[Ke]);for(Ke=vt.length;Ke--;)vt[Ke].elem===this&&(p==null||vt[Ke].queue===p)&&(vt[Ke].anim.stop(Y),Ze=!1,vt.splice(Ke,1));(Ze||!Y)&&F.dequeue(this,p)})},finish:function(p){return p!==!1&&(p=p||"fx"),this.each(function(){var A,Y=je.get(this),Te=Y[p+"queue"],Ze=Y[p+"queueHooks"],Ke=F.timers,vt=Te?Te.length:0;for(Y.finish=!0,F.queue(this,p,[]),Ze&&Ze.stop&&Ze.stop.call(this,!0),A=Ke.length;A--;)Ke[A].elem===this&&Ke[A].queue===p&&(Ke[A].anim.stop(!0),Ke.splice(A,1));for(A=0;A<vt;A++)Te[A]&&Te[A].finish&&Te[A].finish.call(this);delete Y.finish})}}),F.each(["toggle","show","hide"],function(B,p){var A=F.fn[p];F.fn[p]=function(Y,Te,Ze){return Y==null||typeof Y=="boolean"?A.apply(this,arguments):this.animate(br(p,!0),Y,Te,Ze)}}),F.each({slideDown:br("show"),slideUp:br("hide"),slideToggle:br("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(B,p){F.fn[B]=function(A,Y,Te){return this.animate(p,A,Y,Te)}}),F.timers=[],F.fx.tick=function(){var B,p=0,A=F.timers;for(Er=Date.now();p<A.length;p++)B=A[p],!B()&&A[p]===B&&A.splice(p--,1);A.length||F.fx.stop(),Er=void 0},F.fx.timer=function(B){F.timers.push(B),F.fx.start()},F.fx.interval=13,F.fx.start=function(){Qn||(Qn=!0,Sa())},F.fx.stop=function(){Qn=null},F.fx.speeds={slow:600,fast:200,_default:400},F.fn.delay=function(B,p){return B=F.fx&&F.fx.speeds[B]||B,p=p||"fx",this.queue(p,function(A,Y){var Te=u.setTimeout(A,B);Y.stop=function(){u.clearTimeout(Te)}})},function(){var B=le.createElement("input"),p=le.createElement("select"),A=p.appendChild(le.createElement("option"));B.type="checkbox",me.checkOn=B.value!=="",me.optSelected=A.selected,B=le.createElement("input"),B.value="t",B.type="radio",me.radioValue=B.value==="t"}();var ca,Or=F.expr.attrHandle;F.fn.extend({attr:function(p,A){return Xe(this,F.attr,p,A,arguments.length>1)},removeAttr:function(p){return this.each(function(){F.removeAttr(this,p)})}}),F.extend({attr:function(p,A,Y){var Te,Ze,Ke=p.nodeType;if(!(Ke===3||Ke===8||Ke===2)){if(typeof p.getAttribute>"u")return F.prop(p,A,Y);if((Ke!==1||!F.isXMLDoc(p))&&(Ze=F.attrHooks[A.toLowerCase()]||(F.expr.match.bool.test(A)?ca:void 0)),Y!==void 0){if(Y===null){F.removeAttr(p,A);return}return Ze&&"set"in Ze&&(Te=Ze.set(p,Y,A))!==void 0?Te:(p.setAttribute(A,Y+""),Y)}return Ze&&"get"in Ze&&(Te=Ze.get(p,A))!==null?Te:(Te=F.find.attr(p,A),Te??void 0)}},attrHooks:{type:{set:function(p,A){if(!me.radioValue&&A==="radio"&&Ve(p,"input")){var Y=p.value;return p.setAttribute("type",A),Y&&(p.value=Y),A}}}},removeAttr:function(p,A){var Y,Te=0,Ze=A&&A.match(M);if(Ze&&p.nodeType===1)for(;Y=Ze[Te++];)p.removeAttribute(Y)}}),ca={set:function(p,A,Y){return A===!1?F.removeAttr(p,Y):p.setAttribute(Y,Y),Y}},F.each(F.expr.match.bool.source.match(/\w+/g),function(B,p){var A=Or[p]||F.find.attr;Or[p]=function(Y,Te,Ze){var Ke,vt,Et=Te.toLowerCase();return Ze||(vt=Or[Et],Or[Et]=Ke,Ke=A(Y,Te,Ze)!=null?Et:null,Or[Et]=vt),Ke}});var dr=/^(?:input|select|textarea|button)$/i,xa=/^(?:a|area)$/i;F.fn.extend({prop:function(p,A){return Xe(this,F.prop,p,A,arguments.length>1)},removeProp:function(p){return this.each(function(){delete this[F.propFix[p]||p]})}}),F.extend({prop:function(p,A,Y){var Te,Ze,Ke=p.nodeType;if(!(Ke===3||Ke===8||Ke===2))return(Ke!==1||!F.isXMLDoc(p))&&(A=F.propFix[A]||A,Ze=F.propHooks[A]),Y!==void 0?Ze&&"set"in Ze&&(Te=Ze.set(p,Y,A))!==void 0?Te:p[A]=Y:Ze&&"get"in Ze&&(Te=Ze.get(p,A))!==null?Te:p[A]},propHooks:{tabIndex:{get:function(p){var A=F.find.attr(p,"tabindex");return A?parseInt(A,10):dr.test(p.nodeName)||xa.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),me.optSelected||(F.propHooks.selected={get:function(p){var A=p.parentNode;return A&&A.parentNode&&A.parentNode.selectedIndex,null},set:function(p){var A=p.parentNode;A&&(A.selectedIndex,A.parentNode&&A.parentNode.selectedIndex)}}),F.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){F.propFix[this.toLowerCase()]=this});function Ar(B){var p=B.match(M)||[];return p.join(" ")}function Ia(B){return B.getAttribute&&B.getAttribute("class")||""}function uo(B){return Array.isArray(B)?B:typeof B=="string"?B.match(M)||[]:[]}F.fn.extend({addClass:function(p){var A,Y,Te,Ze,Ke,vt;return m(p)?this.each(function(Et){F(this).addClass(p.call(this,Et,Ia(this)))}):(A=uo(p),A.length?this.each(function(){if(Te=Ia(this),Y=this.nodeType===1&&" "+Ar(Te)+" ",Y){for(Ke=0;Ke<A.length;Ke++)Ze=A[Ke],Y.indexOf(" "+Ze+" ")<0&&(Y+=Ze+" ");vt=Ar(Y),Te!==vt&&this.setAttribute("class",vt)}}):this)},removeClass:function(p){var A,Y,Te,Ze,Ke,vt;return m(p)?this.each(function(Et){F(this).removeClass(p.call(this,Et,Ia(this)))}):arguments.length?(A=uo(p),A.length?this.each(function(){if(Te=Ia(this),Y=this.nodeType===1&&" "+Ar(Te)+" ",Y){for(Ke=0;Ke<A.length;Ke++)for(Ze=A[Ke];Y.indexOf(" "+Ze+" ")>-1;)Y=Y.replace(" "+Ze+" "," ");vt=Ar(Y),Te!==vt&&this.setAttribute("class",vt)}}):this):this.attr("class","")},toggleClass:function(p,A){var Y,Te,Ze,Ke,vt=K(p),Et=vt==="string"||Array.isArray(p);return m(p)?this.each(function(Nt){F(this).toggleClass(p.call(this,Nt,Ia(this),A),A)}):typeof A=="boolean"&&Et?A?this.addClass(p):this.removeClass(p):(Y=uo(p),this.each(function(){if(Et)for(Ke=F(this),Ze=0;Ze<Y.length;Ze++)Te=Y[Ze],Ke.hasClass(Te)?Ke.removeClass(Te):Ke.addClass(Te);else(p===void 0||vt==="boolean")&&(Te=Ia(this),Te&&je.set(this,"__className__",Te),this.setAttribute&&this.setAttribute("class",Te||p===!1?"":je.get(this,"__className__")||""))}))},hasClass:function(p){var A,Y,Te=0;for(A=" "+p+" ";Y=this[Te++];)if(Y.nodeType===1&&(" "+Ar(Ia(Y))+" ").indexOf(A)>-1)return!0;return!1}});var Xa=/\r/g;F.fn.extend({val:function(p){var A,Y,Te,Ze=this[0];return arguments.length?(Te=m(p),this.each(function(Ke){var vt;this.nodeType===1&&(Te?vt=p.call(this,Ke,F(this).val()):vt=p,vt==null?vt="":typeof vt=="number"?vt+="":Array.isArray(vt)&&(vt=F.map(vt,function(Et){return Et==null?"":Et+""})),A=F.valHooks[this.type]||F.valHooks[this.nodeName.toLowerCase()],(!A||!("set"in A)||A.set(this,vt,"value")===void 0)&&(this.value=vt))})):Ze?(A=F.valHooks[Ze.type]||F.valHooks[Ze.nodeName.toLowerCase()],A&&"get"in A&&(Y=A.get(Ze,"value"))!==void 0?Y:(Y=Ze.value,typeof Y=="string"?Y.replace(Xa,""):Y??"")):void 0}}),F.extend({valHooks:{option:{get:function(p){var A=F.find.attr(p,"value");return A??Ar(F.text(p))}},select:{get:function(p){var A,Y,Te,Ze=p.options,Ke=p.selectedIndex,vt=p.type==="select-one",Et=vt?null:[],Nt=vt?Ke+1:Ze.length;for(Ke<0?Te=Nt:Te=vt?Ke:0;Te<Nt;Te++)if(Y=Ze[Te],(Y.selected||Te===Ke)&&!Y.disabled&&(!Y.parentNode.disabled||!Ve(Y.parentNode,"optgroup"))){if(A=F(Y).val(),vt)return A;Et.push(A)}return Et},set:function(p,A){for(var Y,Te,Ze=p.options,Ke=F.makeArray(A),vt=Ze.length;vt--;)Te=Ze[vt],(Te.selected=F.inArray(F.valHooks.option.get(Te),Ke)>-1)&&(Y=!0);return Y||(p.selectedIndex=-1),Ke}}}}),F.each(["radio","checkbox"],function(){F.valHooks[this]={set:function(p,A){if(Array.isArray(A))return p.checked=F.inArray(F(p).val(),A)>-1}},me.checkOn||(F.valHooks[this].get=function(B){return B.getAttribute("value")===null?"on":B.value})});var Ua=u.location,Bo={guid:Date.now()},To=/\?/;F.parseXML=function(B){var p,A;if(!B||typeof B!="string")return null;try{p=new u.DOMParser().parseFromString(B,"text/xml")}catch{}return A=p&&p.getElementsByTagName("parsererror")[0],(!p||A)&&F.error("Invalid XML: "+(A?F.map(A.childNodes,function(Y){return Y.textContent}).join(`
`):B)),p};var jo=/^(?:focusinfocus|focusoutblur)$/,Wr=function(p){p.stopPropagation()};F.extend(F.event,{trigger:function(p,A,Y,Te){var Ze,Ke,vt,Et,Nt,Ri,Li,vn,Wi=[Y||le],Cn=se.call(p,"type")?p.type:p,ur=se.call(p,"namespace")?p.namespace.split("."):[];if(Ke=vn=vt=Y=Y||le,!(Y.nodeType===3||Y.nodeType===8)&&!jo.test(Cn+F.event.triggered)&&(Cn.indexOf(".")>-1&&(ur=Cn.split("."),Cn=ur.shift(),ur.sort()),Nt=Cn.indexOf(":")<0&&"on"+Cn,p=p[F.expando]?p:new F.Event(Cn,K(p)==="object"&&p),p.isTrigger=Te?2:3,p.namespace=ur.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+ur.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=Y),A=A==null?[p]:F.makeArray(A,[p]),Li=F.event.special[Cn]||{},!(!Te&&Li.trigger&&Li.trigger.apply(Y,A)===!1))){if(!Te&&!Li.noBubble&&!U(Y)){for(Et=Li.delegateType||Cn,jo.test(Et+Cn)||(Ke=Ke.parentNode);Ke;Ke=Ke.parentNode)Wi.push(Ke),vt=Ke;vt===(Y.ownerDocument||le)&&Wi.push(vt.defaultView||vt.parentWindow||u)}for(Ze=0;(Ke=Wi[Ze++])&&!p.isPropagationStopped();)vn=Ke,p.type=Ze>1?Et:Li.bindType||Cn,Ri=(je.get(Ke,"events")||Object.create(null))[p.type]&&je.get(Ke,"handle"),Ri&&Ri.apply(Ke,A),Ri=Nt&&Ke[Nt],Ri&&Ri.apply&&pe(Ke)&&(p.result=Ri.apply(Ke,A),p.result===!1&&p.preventDefault());return p.type=Cn,!Te&&!p.isDefaultPrevented()&&(!Li._default||Li._default.apply(Wi.pop(),A)===!1)&&pe(Y)&&Nt&&m(Y[Cn])&&!U(Y)&&(vt=Y[Nt],vt&&(Y[Nt]=null),F.event.triggered=Cn,p.isPropagationStopped()&&vn.addEventListener(Cn,Wr),Y[Cn](),p.isPropagationStopped()&&vn.removeEventListener(Cn,Wr),F.event.triggered=void 0,vt&&(Y[Nt]=vt)),p.result}},simulate:function(p,A,Y){var Te=F.extend(new F.Event,Y,{type:p,isSimulated:!0});F.event.trigger(Te,null,A)}}),F.fn.extend({trigger:function(p,A){return this.each(function(){F.event.trigger(p,A,this)})},triggerHandler:function(p,A){var Y=this[0];if(Y)return F.event.trigger(p,A,Y,!0)}});var Mt=/\[\]$/,qa=/\r?\n/g,Da=/^(?:submit|button|image|reset|file)$/i,ue=/^(?:input|select|textarea|keygen)/i;function bi(B,p,A,Y){var Te;if(Array.isArray(p))F.each(p,function(Ze,Ke){A||Mt.test(B)?Y(B,Ke):bi(B+"["+(K(Ke)==="object"&&Ke!=null?Ze:"")+"]",Ke,A,Y)});else if(!A&&fe(p)==="object")for(Te in p)bi(B+"["+Te+"]",p[Te],A,Y);else Y(B,p)}F.param=function(B,p){var A,Y=[],Te=function(Ke,vt){var Et=m(vt)?vt():vt;Y[Y.length]=encodeURIComponent(Ke)+"="+encodeURIComponent(Et??"")};if(B==null)return"";if(Array.isArray(B)||B.jquery&&!F.isPlainObject(B))F.each(B,function(){Te(this.name,this.value)});else for(A in B)bi(A,B[A],p,Te);return Y.join("&")},F.fn.extend({serialize:function(){return F.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=F.prop(this,"elements");return p?F.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!F(this).is(":disabled")&&ue.test(this.nodeName)&&!Da.test(p)&&(this.checked||!ht.test(p))}).map(function(p,A){var Y=F(this).val();return Y==null?null:Array.isArray(Y)?F.map(Y,function(Te){return{name:A.name,value:Te.replace(qa,`\r
`)}}):{name:A.name,value:Y.replace(qa,`\r
`)}}).get()}});var Je=/%20/g,f=/#.*$/,l=/([?&])_=[^&]*/,e=/^(.*?):[ \t]*([^\r\n]*)$/gm,r=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,C=/^(?:GET|HEAD)$/,L=/^\/\//,ke={},ze={},Yt="*/".concat("*"),j=le.createElement("a");j.href=Ua.href;function W(B){return function(p,A){typeof p!="string"&&(A=p,p="*");var Y,Te=0,Ze=p.toLowerCase().match(M)||[];if(m(A))for(;Y=Ze[Te++];)Y[0]==="+"?(Y=Y.slice(1)||"*",(B[Y]=B[Y]||[]).unshift(A)):(B[Y]=B[Y]||[]).push(A)}}function ne(B,p,A,Y){var Te={},Ze=B===ze;function Ke(vt){var Et;return Te[vt]=!0,F.each(B[vt]||[],function(Nt,Ri){var Li=Ri(p,A,Y);if(typeof Li=="string"&&!Ze&&!Te[Li])return p.dataTypes.unshift(Li),Ke(Li),!1;if(Ze)return!(Et=Li)}),Et}return Ke(p.dataTypes[0])||!Te["*"]&&Ke("*")}function he(B,p){var A,Y,Te=F.ajaxSettings.flatOptions||{};for(A in p)p[A]!==void 0&&((Te[A]?B:Y||(Y={}))[A]=p[A]);return Y&&F.extend(!0,B,Y),B}function et(B,p,A){for(var Y,Te,Ze,Ke,vt=B.contents,Et=B.dataTypes;Et[0]==="*";)Et.shift(),Y===void 0&&(Y=B.mimeType||p.getResponseHeader("Content-Type"));if(Y){for(Te in vt)if(vt[Te]&&vt[Te].test(Y)){Et.unshift(Te);break}}if(Et[0]in A)Ze=Et[0];else{for(Te in A){if(!Et[0]||B.converters[Te+" "+Et[0]]){Ze=Te;break}Ke||(Ke=Te)}Ze=Ze||Ke}if(Ze)return Ze!==Et[0]&&Et.unshift(Ze),A[Ze]}function Rt(B,p,A,Y){var Te,Ze,Ke,vt,Et,Nt={},Ri=B.dataTypes.slice();if(Ri[1])for(Ke in B.converters)Nt[Ke.toLowerCase()]=B.converters[Ke];for(Ze=Ri.shift();Ze;)if(B.responseFields[Ze]&&(A[B.responseFields[Ze]]=p),!Et&&Y&&B.dataFilter&&(p=B.dataFilter(p,B.dataType)),Et=Ze,Ze=Ri.shift(),Ze){if(Ze==="*")Ze=Et;else if(Et!=="*"&&Et!==Ze){if(Ke=Nt[Et+" "+Ze]||Nt["* "+Ze],!Ke){for(Te in Nt)if(vt=Te.split(" "),vt[1]===Ze&&(Ke=Nt[Et+" "+vt[0]]||Nt["* "+vt[0]],Ke)){Ke===!0?Ke=Nt[Te]:Nt[Te]!==!0&&(Ze=vt[0],Ri.unshift(vt[1]));break}}if(Ke!==!0)if(Ke&&B.throws)p=Ke(p);else try{p=Ke(p)}catch(Li){return{state:"parsererror",error:Ke?Li:"No conversion from "+Et+" to "+Ze}}}}return{state:"success",data:p}}F.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ua.href,type:"GET",isLocal:r.test(Ua.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":F.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,A){return A?he(he(p,F.ajaxSettings),A):he(F.ajaxSettings,p)},ajaxPrefilter:W(ke),ajaxTransport:W(ze),ajax:function(p,A){K(p)==="object"&&(A=p,p=void 0),A=A||{};var Y,Te,Ze,Ke,vt,Et,Nt,Ri,Li,vn,Wi=F.ajaxSetup({},A),Cn=Wi.context||Wi,ur=Wi.context&&(Cn.nodeType||Cn.jquery)?F(Cn):F.event,yr=F.Deferred(),Ur=F.Callbacks("once memory"),Ca=Wi.statusCode||{},no={},Pa={},_a="canceled",or={readyState:0,getResponseHeader:function(pa){var da;if(Nt){if(!Ke)for(Ke={};da=e.exec(Ze);)Ke[da[1].toLowerCase()+" "]=(Ke[da[1].toLowerCase()+" "]||[]).concat(da[2]);da=Ke[pa.toLowerCase()+" "]}return da==null?null:da.join(", ")},getAllResponseHeaders:function(){return Nt?Ze:null},setRequestHeader:function(pa,da){return Nt==null&&(pa=Pa[pa.toLowerCase()]=Pa[pa.toLowerCase()]||pa,no[pa]=da),this},overrideMimeType:function(pa){return Nt==null&&(Wi.mimeType=pa),this},statusCode:function(pa){var da;if(pa)if(Nt)or.always(pa[or.status]);else for(da in pa)Ca[da]=[Ca[da],pa[da]];return this},abort:function(pa){var da=pa||_a;return Y&&Y.abort(da),fo(0,da),this}};if(yr.promise(or),Wi.url=((p||Wi.url||Ua.href)+"").replace(L,Ua.protocol+"//"),Wi.type=A.method||A.type||Wi.method||Wi.type,Wi.dataTypes=(Wi.dataType||"*").toLowerCase().match(M)||[""],Wi.crossDomain==null){Et=le.createElement("a");try{Et.href=Wi.url,Et.href=Et.href,Wi.crossDomain=j.protocol+"//"+j.host!=Et.protocol+"//"+Et.host}catch{Wi.crossDomain=!0}}if(Wi.data&&Wi.processData&&typeof Wi.data!="string"&&(Wi.data=F.param(Wi.data,Wi.traditional)),ne(ke,Wi,A,or),Nt)return or;Ri=F.event&&Wi.global,Ri&&F.active++===0&&F.event.trigger("ajaxStart"),Wi.type=Wi.type.toUpperCase(),Wi.hasContent=!C.test(Wi.type),Te=Wi.url.replace(f,""),Wi.hasContent?Wi.data&&Wi.processData&&(Wi.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Wi.data=Wi.data.replace(Je,"+")):(vn=Wi.url.slice(Te.length),Wi.data&&(Wi.processData||typeof Wi.data=="string")&&(Te+=(To.test(Te)?"&":"?")+Wi.data,delete Wi.data),Wi.cache===!1&&(Te=Te.replace(l,"$1"),vn=(To.test(Te)?"&":"?")+"_="+Bo.guid+++vn),Wi.url=Te+vn),Wi.ifModified&&(F.lastModified[Te]&&or.setRequestHeader("If-Modified-Since",F.lastModified[Te]),F.etag[Te]&&or.setRequestHeader("If-None-Match",F.etag[Te])),(Wi.data&&Wi.hasContent&&Wi.contentType!==!1||A.contentType)&&or.setRequestHeader("Content-Type",Wi.contentType),or.setRequestHeader("Accept",Wi.dataTypes[0]&&Wi.accepts[Wi.dataTypes[0]]?Wi.accepts[Wi.dataTypes[0]]+(Wi.dataTypes[0]!=="*"?", "+Yt+"; q=0.01":""):Wi.accepts["*"]);for(Li in Wi.headers)or.setRequestHeader(Li,Wi.headers[Li]);if(Wi.beforeSend&&(Wi.beforeSend.call(Cn,or,Wi)===!1||Nt))return or.abort();if(_a="abort",Ur.add(Wi.complete),or.done(Wi.success),or.fail(Wi.error),Y=ne(ze,Wi,A,or),!Y)fo(-1,"No Transport");else{if(or.readyState=1,Ri&&ur.trigger("ajaxSend",[or,Wi]),Nt)return or;Wi.async&&Wi.timeout>0&&(vt=u.setTimeout(function(){or.abort("timeout")},Wi.timeout));try{Nt=!1,Y.send(no,fo)}catch(fa){if(Nt)throw fa;fo(-1,fa)}}function fo(fa,pa,da,Ko){var ro,Ja,ga,Ka,Ga,va=pa;Nt||(Nt=!0,vt&&u.clearTimeout(vt),Y=void 0,Ze=Ko||"",or.readyState=fa>0?4:0,ro=fa>=200&&fa<300||fa===304,da&&(Ka=et(Wi,or,da)),!ro&&F.inArray("script",Wi.dataTypes)>-1&&F.inArray("json",Wi.dataTypes)<0&&(Wi.converters["text script"]=function(){}),Ka=Rt(Wi,Ka,or,ro),ro?(Wi.ifModified&&(Ga=or.getResponseHeader("Last-Modified"),Ga&&(F.lastModified[Te]=Ga),Ga=or.getResponseHeader("etag"),Ga&&(F.etag[Te]=Ga)),fa===204||Wi.type==="HEAD"?va="nocontent":fa===304?va="notmodified":(va=Ka.state,Ja=Ka.data,ga=Ka.error,ro=!ga)):(ga=va,(fa||!va)&&(va="error",fa<0&&(fa=0))),or.status=fa,or.statusText=(pa||va)+"",ro?yr.resolveWith(Cn,[Ja,va,or]):yr.rejectWith(Cn,[or,va,ga]),or.statusCode(Ca),Ca=void 0,Ri&&ur.trigger(ro?"ajaxSuccess":"ajaxError",[or,Wi,ro?Ja:ga]),Ur.fireWith(Cn,[or,va]),Ri&&(ur.trigger("ajaxComplete",[or,Wi]),--F.active||F.event.trigger("ajaxStop")))}return or},getJSON:function(p,A,Y){return F.get(p,A,Y,"json")},getScript:function(p,A){return F.get(p,void 0,A,"script")}}),F.each(["get","post"],function(B,p){F[p]=function(A,Y,Te,Ze){return m(Y)&&(Ze=Ze||Te,Te=Y,Y=void 0),F.ajax(F.extend({url:A,type:p,dataType:Ze,data:Y,success:Te},F.isPlainObject(A)&&A))}}),F.ajaxPrefilter(function(B){var p;for(p in B.headers)p.toLowerCase()==="content-type"&&(B.contentType=B.headers[p]||"")}),F._evalUrl=function(B,p,A){return F.ajax({url:B,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Te){F.globalEval(Te,p,A)}})},F.fn.extend({wrapAll:function(p){var A;return this[0]&&(m(p)&&(p=p.call(this[0])),A=F(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&A.insertBefore(this[0]),A.map(function(){for(var Y=this;Y.firstElementChild;)Y=Y.firstElementChild;return Y}).append(this)),this},wrapInner:function(p){return m(p)?this.each(function(A){F(this).wrapInner(p.call(this,A))}):this.each(function(){var A=F(this),Y=A.contents();Y.length?Y.wrapAll(p):A.append(p)})},wrap:function(p){var A=m(p);return this.each(function(Y){F(this).wrapAll(A?p.call(this,Y):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){F(this).replaceWith(this.childNodes)}),this}}),F.expr.pseudos.hidden=function(B){return!F.expr.pseudos.visible(B)},F.expr.pseudos.visible=function(B){return!!(B.offsetWidth||B.offsetHeight||B.getClientRects().length)},F.ajaxSettings.xhr=function(){try{return new u.XMLHttpRequest}catch{}};var It={0:200,1223:204},Qt=F.ajaxSettings.xhr();me.cors=!!Qt&&"withCredentials"in Qt,me.ajax=Qt=!!Qt,F.ajaxTransport(function(B){var p,A;if(me.cors||Qt&&!B.crossDomain)return{send:function(Te,Ze){var Ke,vt=B.xhr();if(vt.open(B.type,B.url,B.async,B.username,B.password),B.xhrFields)for(Ke in B.xhrFields)vt[Ke]=B.xhrFields[Ke];B.mimeType&&vt.overrideMimeType&&vt.overrideMimeType(B.mimeType),!B.crossDomain&&!Te["X-Requested-With"]&&(Te["X-Requested-With"]="XMLHttpRequest");for(Ke in Te)vt.setRequestHeader(Ke,Te[Ke]);p=function(Nt){return function(){p&&(p=A=vt.onload=vt.onerror=vt.onabort=vt.ontimeout=vt.onreadystatechange=null,Nt==="abort"?vt.abort():Nt==="error"?typeof vt.status!="number"?Ze(0,"error"):Ze(vt.status,vt.statusText):Ze(It[vt.status]||vt.status,vt.statusText,(vt.responseType||"text")!=="text"||typeof vt.responseText!="string"?{binary:vt.response}:{text:vt.responseText},vt.getAllResponseHeaders()))}},vt.onload=p(),A=vt.onerror=vt.ontimeout=p("error"),vt.onabort!==void 0?vt.onabort=A:vt.onreadystatechange=function(){vt.readyState===4&&u.setTimeout(function(){p&&A()})},p=p("abort");try{vt.send(B.hasContent&&B.data||null)}catch(Et){if(p)throw Et}},abort:function(){p&&p()}}}),F.ajaxPrefilter(function(B){B.crossDomain&&(B.contents.script=!1)}),F.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return F.globalEval(p),p}}}),F.ajaxPrefilter("script",function(B){B.cache===void 0&&(B.cache=!1),B.crossDomain&&(B.type="GET")}),F.ajaxTransport("script",function(B){if(B.crossDomain||B.scriptAttrs){var p,A;return{send:function(Te,Ze){p=F("<script>").attr(B.scriptAttrs||{}).prop({charset:B.scriptCharset,src:B.url}).on("load error",A=function(vt){p.remove(),A=null,vt&&Ze(vt.type==="error"?404:200,vt.type)}),le.head.appendChild(p[0])},abort:function(){A&&A()}}}});var Ai=[],on=/(=)\?(?=&|$)|\?\?/;F.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=Ai.pop()||F.expando+"_"+Bo.guid++;return this[p]=!0,p}}),F.ajaxPrefilter("json jsonp",function(B,p,A){var Y,Te,Ze,Ke=B.jsonp!==!1&&(on.test(B.url)?"url":typeof B.data=="string"&&(B.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&on.test(B.data)&&"data");if(Ke||B.dataTypes[0]==="jsonp")return Y=B.jsonpCallback=m(B.jsonpCallback)?B.jsonpCallback():B.jsonpCallback,Ke?B[Ke]=B[Ke].replace(on,"$1"+Y):B.jsonp!==!1&&(B.url+=(To.test(B.url)?"&":"?")+B.jsonp+"="+Y),B.converters["script json"]=function(){return Ze||F.error(Y+" was not called"),Ze[0]},B.dataTypes[0]="json",Te=u[Y],u[Y]=function(){Ze=arguments},A.always(function(){Te===void 0?F(u).removeProp(Y):u[Y]=Te,B[Y]&&(B.jsonpCallback=p.jsonpCallback,Ai.push(Y)),Ze&&m(Te)&&Te(Ze[0]),Ze=Te=void 0}),"script"}),me.createHTMLDocument=function(){var B=le.implementation.createHTMLDocument("").body;return B.innerHTML="<form></form><form></form>",B.childNodes.length===2}(),F.parseHTML=function(B,p,A){if(typeof B!="string")return[];typeof p=="boolean"&&(A=p,p=!1);var Y,Te,Ze;return p||(me.createHTMLDocument?(p=le.implementation.createHTMLDocument(""),Y=p.createElement("base"),Y.href=le.location.href,p.head.appendChild(Y)):p=le),Te=zt.exec(B),Ze=!A&&[],Te?[p.createElement(Te[1])]:(Te=Ut([B],p,Ze),Ze&&Ze.length&&F(Ze).remove(),F.merge([],Te.childNodes))},F.fn.load=function(B,p,A){var Y,Te,Ze,Ke=this,vt=B.indexOf(" ");return vt>-1&&(Y=Ar(B.slice(vt)),B=B.slice(0,vt)),m(p)?(A=p,p=void 0):p&&K(p)==="object"&&(Te="POST"),Ke.length>0&&F.ajax({url:B,type:Te||"GET",dataType:"html",data:p}).done(function(Et){Ze=arguments,Ke.html(Y?F("<div>").append(F.parseHTML(Et)).find(Y):Et)}).always(A&&function(Et,Nt){Ke.each(function(){A.apply(this,Ze||[Et.responseText,Nt,Et])})}),this},F.expr.pseudos.animated=function(B){return F.grep(F.timers,function(p){return B===p.elem}).length},F.offset={setOffset:function(p,A,Y){var Te,Ze,Ke,vt,Et,Nt,Ri,Li=F.css(p,"position"),vn=F(p),Wi={};Li==="static"&&(p.style.position="relative"),Et=vn.offset(),Ke=F.css(p,"top"),Nt=F.css(p,"left"),Ri=(Li==="absolute"||Li==="fixed")&&(Ke+Nt).indexOf("auto")>-1,Ri?(Te=vn.position(),vt=Te.top,Ze=Te.left):(vt=parseFloat(Ke)||0,Ze=parseFloat(Nt)||0),m(A)&&(A=A.call(p,Y,F.extend({},Et))),A.top!=null&&(Wi.top=A.top-Et.top+vt),A.left!=null&&(Wi.left=A.left-Et.left+Ze),"using"in A?A.using.call(p,Wi):vn.css(Wi)}},F.fn.extend({offset:function(p){if(arguments.length)return p===void 0?this:this.each(function(Ze){F.offset.setOffset(this,p,Ze)});var A,Y,Te=this[0];if(Te)return Te.getClientRects().length?(A=Te.getBoundingClientRect(),Y=Te.ownerDocument.defaultView,{top:A.top+Y.pageYOffset,left:A.left+Y.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var p,A,Y,Te=this[0],Ze={top:0,left:0};if(F.css(Te,"position")==="fixed")A=Te.getBoundingClientRect();else{for(A=this.offset(),Y=Te.ownerDocument,p=Te.offsetParent||Y.documentElement;p&&(p===Y.body||p===Y.documentElement)&&F.css(p,"position")==="static";)p=p.parentNode;p&&p!==Te&&p.nodeType===1&&(Ze=F(p).offset(),Ze.top+=F.css(p,"borderTopWidth",!0),Ze.left+=F.css(p,"borderLeftWidth",!0))}return{top:A.top-Ze.top-F.css(Te,"marginTop",!0),left:A.left-Ze.left-F.css(Te,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&F.css(p,"position")==="static";)p=p.offsetParent;return p||Lt})}}),F.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(B,p){var A=p==="pageYOffset";F.fn[B]=function(Y){return Xe(this,function(Te,Ze,Ke){var vt;if(U(Te)?vt=Te:Te.nodeType===9&&(vt=Te.defaultView),Ke===void 0)return vt?vt[p]:Te[Ze];vt?vt.scrollTo(A?vt.pageXOffset:Ke,A?Ke:vt.pageYOffset):Te[Ze]=Ke},B,Y,arguments.length)}}),F.each(["top","left"],function(B,p){F.cssHooks[p]=vi(me.pixelPosition,function(A,Y){if(Y)return Y=qt(A,p),di.test(Y)?F(A).position()[p]+"px":Y})}),F.each({Height:"height",Width:"width"},function(B,p){F.each({padding:"inner"+B,content:p,"":"outer"+B},function(A,Y){F.fn[Y]=function(Te,Ze){var Ke=arguments.length&&(A||typeof Te!="boolean"),vt=A||(Te===!0||Ze===!0?"margin":"border");return Xe(this,function(Et,Nt,Ri){var Li;return U(Et)?Y.indexOf("outer")===0?Et["inner"+B]:Et.document.documentElement["client"+B]:Et.nodeType===9?(Li=Et.documentElement,Math.max(Et.body["scroll"+B],Li["scroll"+B],Et.body["offset"+B],Li["offset"+B],Li["client"+B])):Ri===void 0?F.css(Et,Nt,vt):F.style(Et,Nt,Ri,vt)},p,Ke?Te:void 0,Ke)}})}),F.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(B,p){F.fn[p]=function(A){return this.on(p,A)}}),F.fn.extend({bind:function(p,A,Y){return this.on(p,null,A,Y)},unbind:function(p,A){return this.off(p,null,A)},delegate:function(p,A,Y,Te){return this.on(A,p,Y,Te)},undelegate:function(p,A,Y){return arguments.length===1?this.off(p,"**"):this.off(A,p||"**",Y)},hover:function(p,A){return this.on("mouseenter",p).on("mouseleave",A||p)}}),F.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(B,p){F.fn[p]=function(A,Y){return arguments.length>0?this.on(p,null,A,Y):this.trigger(p)}});var Ei=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;F.proxy=function(B,p){var A,Y,Te;if(typeof p=="string"&&(A=B[p],p=B,B=A),!!m(B))return Y=R.call(arguments,2),Te=function(){return B.apply(p||this,Y.concat(R.call(arguments)))},Te.guid=B.guid=B.guid||F.guid++,Te},F.holdReady=function(B){B?F.readyWait++:F.ready(!0)},F.isArray=Array.isArray,F.parseJSON=JSON.parse,F.nodeName=Ve,F.isFunction=m,F.isWindow=U,F.camelCase=Le,F.type=fe,F.now=Date.now,F.isNumeric=function(B){var p=F.type(B);return(p==="number"||p==="string")&&!isNaN(B-parseFloat(B))},F.trim=function(B){return B==null?"":(B+"").replace(Ei,"$1")},c=[],d=(function(){return F}).apply(n,c),d!==void 0&&(t.exports=d);var Xi=u.jQuery,wi=u.$;return F.noConflict=function(B){return u.$===F&&(u.$=wi),B&&u.jQuery===F&&(u.jQuery=Xi),F},typeof k>"u"&&(u.jQuery=u.$=F),F})},function(t,n,o){o.r(n),o.d(n,"v1",function(){return me}),o.d(n,"v3",function(){return ft}),o.d(n,"v4",function(){return ri}),o.d(n,"v5",function(){return Ge}),o.d(n,"NIL",function(){return H}),o.d(n,"version",function(){return M}),o.d(n,"validate",function(){return S}),o.d(n,"stringify",function(){return oe}),o.d(n,"parse",function(){return U});var c,d=new Uint8Array(16);function u(){if(!c&&(c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(d)}var k=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function P(z){return typeof z=="string"&&k.test(z)}for(var S=P,R=[],b=0;b<256;++b)R.push((b+256).toString(16).substr(1));function _(z){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ie=(R[z[ce+0]]+R[z[ce+1]]+R[z[ce+2]]+R[z[ce+3]]+"-"+R[z[ce+4]]+R[z[ce+5]]+"-"+R[z[ce+6]]+R[z[ce+7]]+"-"+R[z[ce+8]]+R[z[ce+9]]+"-"+R[z[ce+10]]+R[z[ce+11]]+R[z[ce+12]]+R[z[ce+13]]+R[z[ce+14]]+R[z[ce+15]]).toLowerCase();if(!S(ie))throw TypeError("Stringified UUID is invalid");return ie}var oe=_,de,xe,se=0,Ae=0;function qe(z,ce,ie){var Oe=ce&&ie||0,Qe=ce||new Array(16);z=z||{};var st=z.node||de,D=z.clockseq!==void 0?z.clockseq:xe;if(st==null||D==null){var Xe=z.random||(z.rng||u)();st==null&&(st=de=[Xe[0]|1,Xe[1],Xe[2],Xe[3],Xe[4],Xe[5]]),D==null&&(D=xe=(Xe[6]<<8|Xe[7])&16383)}var X=z.msecs!==void 0?z.msecs:Date.now(),Ce=z.nsecs!==void 0?z.nsecs:Ae+1,ve=X-se+(Ce-Ae)/1e4;if(ve<0&&z.clockseq===void 0&&(D=D+1&16383),(ve<0||X>se)&&z.nsecs===void 0&&(Ce=0),Ce>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");se=X,Ae=Ce,xe=D,X+=122192928e5;var Le=((X&268435455)*1e4+Ce)%4294967296;Qe[Oe++]=Le>>>24&255,Qe[Oe++]=Le>>>16&255,Qe[Oe++]=Le>>>8&255,Qe[Oe++]=Le&255;var pe=X/4294967296*1e4&268435455;Qe[Oe++]=pe>>>8&255,Qe[Oe++]=pe&255,Qe[Oe++]=pe>>>24&15|16,Qe[Oe++]=pe>>>16&255,Qe[Oe++]=D>>>8|128,Qe[Oe++]=D&255;for(var ee=0;ee<6;++ee)Qe[Oe+ee]=st[ee];return ce||oe(Qe)}var me=qe;function m(z){if(!S(z))throw TypeError("Invalid UUID");var ce,ie=new Uint8Array(16);return ie[0]=(ce=parseInt(z.slice(0,8),16))>>>24,ie[1]=ce>>>16&255,ie[2]=ce>>>8&255,ie[3]=ce&255,ie[4]=(ce=parseInt(z.slice(9,13),16))>>>8,ie[5]=ce&255,ie[6]=(ce=parseInt(z.slice(14,18),16))>>>8,ie[7]=ce&255,ie[8]=(ce=parseInt(z.slice(19,23),16))>>>8,ie[9]=ce&255,ie[10]=(ce=parseInt(z.slice(24,36),16))/1099511627776&255,ie[11]=ce/4294967296&255,ie[12]=ce>>>24&255,ie[13]=ce>>>16&255,ie[14]=ce>>>8&255,ie[15]=ce&255,ie}var U=m;function le(z){z=unescape(encodeURIComponent(z));for(var ce=[],ie=0;ie<z.length;++ie)ce.push(z.charCodeAt(ie));return ce}var re="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Pe="6ba7b811-9dad-11d1-80b4-00c04fd430c8",fe=function(ce,ie,Oe){function Qe(st,D,Xe,X){if(typeof st=="string"&&(st=le(st)),typeof D=="string"&&(D=U(D)),D.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var Ce=new Uint8Array(16+st.length);if(Ce.set(D),Ce.set(st,D.length),Ce=Oe(Ce),Ce[6]=Ce[6]&15|ie,Ce[8]=Ce[8]&63|128,Xe){X=X||0;for(var ve=0;ve<16;++ve)Xe[X+ve]=Ce[ve];return Xe}return oe(Ce)}try{Qe.name=ce}catch{}return Qe.DNS=re,Qe.URL=Pe,Qe};function $e(z){if(typeof z=="string"){var ce=unescape(encodeURIComponent(z));z=new Uint8Array(ce.length);for(var ie=0;ie<ce.length;++ie)z[ie]=ce.charCodeAt(ie)}return ot(Ie(Ve(z),z.length*8))}function ot(z){for(var ce=[],ie=z.length*32,Oe="0123456789abcdef",Qe=0;Qe<ie;Qe+=8){var st=z[Qe>>5]>>>Qe%32&255,D=parseInt(Oe.charAt(st>>>4&15)+Oe.charAt(st&15),16);ce.push(D)}return ce}function F(z){return(z+64>>>9<<4)+14+1}function Ie(z,ce){z[ce>>5]|=128<<ce%32,z[F(ce)-1]=ce;for(var ie=1732584193,Oe=-271733879,Qe=-1732584194,st=271733878,D=0;D<z.length;D+=16){var Xe=ie,X=Oe,Ce=Qe,ve=st;ie=Ci(ie,Oe,Qe,st,z[D],7,-680876936),st=Ci(st,ie,Oe,Qe,z[D+1],12,-389564586),Qe=Ci(Qe,st,ie,Oe,z[D+2],17,606105819),Oe=Ci(Oe,Qe,st,ie,z[D+3],22,-1044525330),ie=Ci(ie,Oe,Qe,st,z[D+4],7,-176418897),st=Ci(st,ie,Oe,Qe,z[D+5],12,1200080426),Qe=Ci(Qe,st,ie,Oe,z[D+6],17,-1473231341),Oe=Ci(Oe,Qe,st,ie,z[D+7],22,-45705983),ie=Ci(ie,Oe,Qe,st,z[D+8],7,1770035416),st=Ci(st,ie,Oe,Qe,z[D+9],12,-1958414417),Qe=Ci(Qe,st,ie,Oe,z[D+10],17,-42063),Oe=Ci(Oe,Qe,st,ie,z[D+11],22,-1990404162),ie=Ci(ie,Oe,Qe,st,z[D+12],7,1804603682),st=Ci(st,ie,Oe,Qe,z[D+13],12,-40341101),Qe=Ci(Qe,st,ie,Oe,z[D+14],17,-1502002290),Oe=Ci(Oe,Qe,st,ie,z[D+15],22,1236535329),ie=Qi(ie,Oe,Qe,st,z[D+1],5,-165796510),st=Qi(st,ie,Oe,Qe,z[D+6],9,-1069501632),Qe=Qi(Qe,st,ie,Oe,z[D+11],14,643717713),Oe=Qi(Oe,Qe,st,ie,z[D],20,-373897302),ie=Qi(ie,Oe,Qe,st,z[D+5],5,-701558691),st=Qi(st,ie,Oe,Qe,z[D+10],9,38016083),Qe=Qi(Qe,st,ie,Oe,z[D+15],14,-660478335),Oe=Qi(Oe,Qe,st,ie,z[D+4],20,-405537848),ie=Qi(ie,Oe,Qe,st,z[D+9],5,568446438),st=Qi(st,ie,Oe,Qe,z[D+14],9,-1019803690),Qe=Qi(Qe,st,ie,Oe,z[D+3],14,-187363961),Oe=Qi(Oe,Qe,st,ie,z[D+8],20,1163531501),ie=Qi(ie,Oe,Qe,st,z[D+13],5,-1444681467),st=Qi(st,ie,Oe,Qe,z[D+2],9,-51403784),Qe=Qi(Qe,st,ie,Oe,z[D+7],14,1735328473),Oe=Qi(Oe,Qe,st,ie,z[D+12],20,-1926607734),ie=at(ie,Oe,Qe,st,z[D+5],4,-378558),st=at(st,ie,Oe,Qe,z[D+8],11,-2022574463),Qe=at(Qe,st,ie,Oe,z[D+11],16,1839030562),Oe=at(Oe,Qe,st,ie,z[D+14],23,-35309556),ie=at(ie,Oe,Qe,st,z[D+1],4,-1530992060),st=at(st,ie,Oe,Qe,z[D+4],11,1272893353),Qe=at(Qe,st,ie,Oe,z[D+7],16,-155497632),Oe=at(Oe,Qe,st,ie,z[D+10],23,-1094730640),ie=at(ie,Oe,Qe,st,z[D+13],4,681279174),st=at(st,ie,Oe,Qe,z[D],11,-358537222),Qe=at(Qe,st,ie,Oe,z[D+3],16,-722521979),Oe=at(Oe,Qe,st,ie,z[D+6],23,76029189),ie=at(ie,Oe,Qe,st,z[D+9],4,-640364487),st=at(st,ie,Oe,Qe,z[D+12],11,-421815835),Qe=at(Qe,st,ie,Oe,z[D+15],16,530742520),Oe=at(Oe,Qe,st,ie,z[D+2],23,-995338651),ie=pt(ie,Oe,Qe,st,z[D],6,-198630844),st=pt(st,ie,Oe,Qe,z[D+7],10,1126891415),Qe=pt(Qe,st,ie,Oe,z[D+14],15,-1416354905),Oe=pt(Oe,Qe,st,ie,z[D+5],21,-57434055),ie=pt(ie,Oe,Qe,st,z[D+12],6,1700485571),st=pt(st,ie,Oe,Qe,z[D+3],10,-1894986606),Qe=pt(Qe,st,ie,Oe,z[D+10],15,-1051523),Oe=pt(Oe,Qe,st,ie,z[D+1],21,-2054922799),ie=pt(ie,Oe,Qe,st,z[D+8],6,1873313359),st=pt(st,ie,Oe,Qe,z[D+15],10,-30611744),Qe=pt(Qe,st,ie,Oe,z[D+6],15,-1560198380),Oe=pt(Oe,Qe,st,ie,z[D+13],21,1309151649),ie=pt(ie,Oe,Qe,st,z[D+4],6,-145523070),st=pt(st,ie,Oe,Qe,z[D+11],10,-1120210379),Qe=pt(Qe,st,ie,Oe,z[D+2],15,718787259),Oe=pt(Oe,Qe,st,ie,z[D+9],21,-343485551),ie=yi(ie,Xe),Oe=yi(Oe,X),Qe=yi(Qe,Ce),st=yi(st,ve)}return[ie,Oe,Qe,st]}function Ve(z){if(z.length===0)return[];for(var ce=z.length*8,ie=new Uint32Array(F(ce)),Oe=0;Oe<ce;Oe+=8)ie[Oe>>5]|=(z[Oe/8]&255)<<Oe%32;return ie}function yi(z,ce){var ie=(z&65535)+(ce&65535),Oe=(z>>16)+(ce>>16)+(ie>>16);return Oe<<16|ie&65535}function Hi(z,ce){return z<<ce|z>>>32-ce}function Pi(z,ce,ie,Oe,Qe,st){return yi(Hi(yi(yi(ce,z),yi(Oe,st)),Qe),ie)}function Ci(z,ce,ie,Oe,Qe,st,D){return Pi(ce&ie|~ce&Oe,z,ce,Qe,st,D)}function Qi(z,ce,ie,Oe,Qe,st,D){return Pi(ce&Oe|ie&~Oe,z,ce,Qe,st,D)}function at(z,ce,ie,Oe,Qe,st,D){return Pi(ce^ie^Oe,z,ce,Qe,st,D)}function pt(z,ce,ie,Oe,Qe,st,D){return Pi(ie^(ce|~Oe),z,ce,Qe,st,D)}var rt=$e,We=fe("v3",48,rt),ft=We;function $t(z,ce,ie){z=z||{};var Oe=z.random||(z.rng||u)();if(Oe[6]=Oe[6]&15|64,Oe[8]=Oe[8]&63|128,ce){ie=ie||0;for(var Qe=0;Qe<16;++Qe)ce[ie+Qe]=Oe[Qe];return ce}return oe(Oe)}var ri=$t;function zt(z,ce,ie,Oe){switch(z){case 0:return ce&ie^~ce&Oe;case 1:return ce^ie^Oe;case 2:return ce&ie^ce&Oe^ie&Oe;case 3:return ce^ie^Oe}}function ae(z,ce){return z<<ce|z>>>32-ce}function be(z){var ce=[1518500249,1859775393,2400959708,3395469782],ie=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof z=="string"){var Oe=unescape(encodeURIComponent(z));z=[];for(var Qe=0;Qe<Oe.length;++Qe)z.push(Oe.charCodeAt(Qe))}else Array.isArray(z)||(z=Array.prototype.slice.call(z));z.push(128);for(var st=z.length/4+2,D=Math.ceil(st/16),Xe=new Array(D),X=0;X<D;++X){for(var Ce=new Uint32Array(16),ve=0;ve<16;++ve)Ce[ve]=z[X*64+ve*4]<<24|z[X*64+ve*4+1]<<16|z[X*64+ve*4+2]<<8|z[X*64+ve*4+3];Xe[X]=Ce}Xe[D-1][14]=(z.length-1)*8/Math.pow(2,32),Xe[D-1][14]=Math.floor(Xe[D-1][14]),Xe[D-1][15]=(z.length-1)*8&4294967295;for(var Le=0;Le<D;++Le){for(var pe=new Uint32Array(80),ee=0;ee<16;++ee)pe[ee]=Xe[Le][ee];for(var je=16;je<80;++je)pe[je]=ae(pe[je-3]^pe[je-8]^pe[je-14]^pe[je-16],1);for(var mt=ie[0],gt=ie[1],Gt=ie[2],li=ie[3],Oi=ie[4],ge=0;ge<80;++ge){var Ji=Math.floor(ge/20),kt=ae(mt,5)+zt(Ji,gt,Gt,li)+Oi+ce[Ji]+pe[ge]>>>0;Oi=li,li=Gt,Gt=ae(gt,30)>>>0,gt=mt,mt=kt}ie[0]=ie[0]+mt>>>0,ie[1]=ie[1]+gt>>>0,ie[2]=ie[2]+Gt>>>0,ie[3]=ie[3]+li>>>0,ie[4]=ie[4]+Oi>>>0}return[ie[0]>>24&255,ie[0]>>16&255,ie[0]>>8&255,ie[0]&255,ie[1]>>24&255,ie[1]>>16&255,ie[1]>>8&255,ie[1]&255,ie[2]>>24&255,ie[2]>>16&255,ie[2]>>8&255,ie[2]&255,ie[3]>>24&255,ie[3]>>16&255,ie[3]>>8&255,ie[3]&255,ie[4]>>24&255,ie[4]>>16&255,ie[4]>>8&255,ie[4]&255]}var E=be,Q=fe("v5",80,E),Ge=Q,H="00000000-0000-0000-0000-000000000000";function _e(z){if(!S(z))throw TypeError("Invalid UUID");return parseInt(z.substr(14,1),16)}var M=_e},function(t,n,o){t.exports=o(4)},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.JSPluginV1=void 0;var c=function(){function xe(se,Ae){for(var qe=0;qe<Ae.length;qe++){var me=Ae[qe];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(se,me.key,me)}}return function(se,Ae,qe){return Ae&&xe(se.prototype,Ae),qe&&xe(se,qe),se}}(),d=o(0),u=o(5),k=o(12),P=o(14),S=o(16),R=o(1),b=_(R);function _(xe){return xe&&xe.__esModule?xe:{default:xe}}function oe(xe,se){if(!(xe instanceof se))throw new TypeError("Cannot call a class as a function")}var de=function(){var xe=-1,se=0,Ae=0,qe=1,me=40,m=1024*1024*4,U=1001,le=1002,re=1003,Pe=2002,fe=Symbol("OPTIONS"),$e=Symbol("CURRENTPLAYRATE"),ot=Symbol("CURRENTSOUNDWND"),F=Symbol("MAXWNDNUM"),Ie=Symbol("MAXWNDNUM"),Ve=Symbol("DRAWCANVAS"),yi=Symbol("SHAPEID"),Hi=Symbol("WINDOWFULL"),Pi=Symbol("SINGLEWINDOW"),Ci=Symbol("FILETMP"),Qi=Symbol("STATUSTMP"),at=Symbol("UPGRADESTATUSURL"),pt=Symbol("CURWNDINDEX"),rt=Symbol("CALLBACKFUNCTION"),We=Symbol("PLUGINVERSION"),ft=Symbol("CANFULLSCREEN"),$t=function(){function ri(zt){oe(this,ri),this.oStreamClient=new u.StreamClient,this.oStorageManager=null,this.oJSPlugin=null,typeof zt.staticPath=="string"&&(this.staticPath=zt.staticPath);var ae=this,be={szId:"playWnd",iMode:0,iType:1,iWidth:400,iHeight:300,iMaxSplit:4,iCurrentSplit:2,szBasePath:"./"};this[fe]=Object.assign(be,zt),this.iWidth=zt.iWidth,this.iHeight=zt.iHeight,this.b3DZoom=!1,this.bEZoom=!1;var E={border:"#000000",borderSelect:"#FFCC00",background:"#4C4B4B"};E=Object.assign(E,zt.oStyle),this[fe].oStyle=E,this[fe].iCurrentSplit>this[fe].iMaxSplit&&(this[fe].iCurrentSplit=this[fe].iMaxSplit),this[$e]=1,this[ot]=-1,this[F]=this[fe].iMaxSplit*this[fe].iMaxSplit,this[yi]="",this[Hi]=!1,this[Pi]=null,this[Ci]=null,this[Qi]="",this[at]="",this[pt]=-1,this[rt]=null,this[ft]=!0,this[We]="V1.2.0 build20190123",this.bPlay=!1,ae.oStorageManager=new P.StorageManager(this[fe].szBasePath+"/transform",{staticPath:this.staticPath}),typeof ae[fe].szId=="string"?ae.oJSPlugin=(0,b.default)("#"+ae[fe].szId):ae.oJSPlugin=ae[fe].szId,this[Ie]=[];for(var Q=0;Q<this[F];Q++)this[Ie][Q]={},this[Ie][Q].bSelect=!1,this[Ie][Q].bPlay=!1,this[Ie][Q].bPause=!1,this[Ie][Q].bRecord=!1,this[Ie][Q].oPlayCtrl=null,this[Ie][Q].szPlayType="",this[Ie][Q].szStorageUUID="",this[Ie][Q].szStreamUUID="",this[Ie][Q].aHead=[],this[Ie][Q].bLoad=!1,this[Ie][Q].windowID=ae[fe].szId+"canvas"+Q,this[Ie][Q].drawID=ae[fe].szId+"canvas_draw"+Q,this[Ie][Q].iRate=1,this[Ie][Q].bEZoom=!1,this[Ie][Q].szSecretKey="",this[Ie][Q].bFrameForward=!1,this[Ie][Q].iDecodeType=Ae,this[Ie][Q].bFirstFrame=!1;ae.listenBrowserVisibility(),this[fe].iMode===0?ae.createWindows():this[fe].iMode===1||this[fe].iMode===2&&ae.createIMGWindows(),this[fe].iType===0&&ae.oJSPlugin.hide(),ae.initEvent(),ae.EventCallback.windowEventSelect(0),window.JSPlayerModuleLoaded=!0}return c(ri,[{key:"listenBrowserVisibility",value:function(){var ae=this;document.addEventListener("visibilitychange",function(){if(document.hidden)for(var be=0;be<16;be++)ae[Ie][be]&&ae[Ie][be].bLoad&&ae[Ie][be].oPlayCtrl.PlayM4_IsVisible(!1);else for(var E=0;E<16;E++)ae[Ie][E]&&ae[Ie][E].bLoad&&ae[Ie][E].oPlayCtrl.PlayM4_IsVisible(!0)},!1)}},{key:"createWindows",value:function(ae,be){var E=this;ae&&be&&(E.iWidth=ae,E.iHeight=be);var Q=E.iWidth%E[fe].iCurrentSplit,Ge=E.iHeight%E[fe].iCurrentSplit,H=(E.iWidth-Q-E[fe].iCurrentSplit*2)/E[fe].iCurrentSplit,_e=(E.iHeight-Ge-E[fe].iCurrentSplit*2)/E[fe].iCurrentSplit,M=(E.iWidth-Q)/E[fe].iCurrentSplit,z=(E.iHeight-Ge)/E[fe].iCurrentSplit,ce=E[fe].iCurrentSplit;typeof E[fe].szId=="string"?E.oJSPlugin=(0,b.default)("#"+E[fe].szId):E.oJSPlugin=E[fe].szId;var ie='<div class="'+E[fe].szId+'parent-wnd" style="overflow:hidden;width:100%; height:100%; position: relative;">',Oe=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if(Oe)for(var Qe=0;Qe<1;Qe++){ae=H+(Qe%ce===ce-1?Q:0),be=_e+(Qe+ce>=Math.pow(ce,2)?Ge:0);var st=M+(Qe%ce===ce-1?Q:0),D=z+(Qe+ce>=Math.pow(ce,2)?Ge:0);st=st*2,D=D*2,ie+='<div style="transform: scale(0.5);-webkit-transform: scale(0.5);-webkit-transform-origin:0 0;text-align:left;transform-origin:0 0; width:'+st+"px;height:"+D+'px;"><div style="float:left; background-color: '+E[fe].oStyle.background+'; position: relative; width:100%; height:100%;"><canvas id="'+E[fe].szId+"canvas_draw"+Qe+'"  class="'+E[fe].szId+'draw-window" style="position:absolute; top:0; left:0; z-index:999;" wid="'+Qe+'" width='+st+" height="+D+"></canvas>"+(Qe===0?'<img style="display:none;" id="playImg'+Qe+'" src="">':"")+'<canvas id="'+E[fe].szId+"canvas"+Qe+'" class="'+E[fe].szId+'play-window" style="z-index:9;" wid="'+Qe+'" width="'+st+'" height="'+D+'"></canvas></div></div>'}else for(var Xe=0;Xe<E[F];Xe++){ae=H+(Xe%ce===ce-1?Q:0),be=_e+(Xe+ce>=Math.pow(ce,2)?Ge:0);var X=M+(Xe%ce===ce-1?Q:0),Ce=z+(Xe+ce>=Math.pow(ce,2)?Ge:0);ie+='<div style="float:left; background-color: '+E[fe].oStyle.background+"; position: relative; width: "+X+"px; height: "+Ce+'px;"><canvas id="'+E[fe].szId+"canvas"+Xe+'" class="'+E[fe].szId+'play-window" style="z-index:9;" wid="'+Xe+'" width="'+X+'" height="'+Ce+'"></canvas>'+(Xe===0?'<img style="display:none;" id="playImg'+Xe+'" src="">':"")+'<canvas id="'+E[fe].szId+"canvas_draw"+Xe+'"  class="'+E[fe].szId+'draw-window" style="position:absolute; top:0; left:0; z-index:999;" wid="'+Xe+'" width='+ae+" height="+be+"></canvas></div>"}ie+="</div>",E.oJSPlugin.html(ie)}},{key:"createIMGWindows",value:function(ae,be){var E=this;ae&&be&&(E.iWidth=ae,E.iHeight=be);var Q=E.iWidth%E[fe].iCurrentSplit,Ge=E.iHeight%E[fe].iCurrentSplit,H=(E.iWidth-Q-E[fe].iCurrentSplit*2)/E[fe].iCurrentSplit,_e=(E.iHeight-Ge-E[fe].iCurrentSplit*2)/E[fe].iCurrentSplit,M=(E.iWidth-Q)/E[fe].iCurrentSplit,z=(E.iHeight-Ge)/E[fe].iCurrentSplit,ce=E[fe].iCurrentSplit;typeof E[fe].szId=="string"?E.oJSPlugin=(0,b.default)("#"+E[fe].szId):E.oJSPlugin=E[fe].szId,E.oJSPlugin.html("");for(var ie='<div class="'+E[fe].szId+'parent-wnd" style="overflow:hidden;width:100%; height:100%; position: relative;">',Oe=0;Oe<E[F];Oe++){ae=H+(Oe%ce===ce-1?Q:0),be=_e+(Oe+ce>=Math.pow(ce,2)?Ge:0);var Qe=M+(Oe%ce===ce-1?Q:0),st=z+(Oe+ce>=Math.pow(ce,2)?Ge:0);ie+='<div style="float:left; background-color: '+E[fe].oStyle.background+"; position: relative; width: "+Qe+"px; height: "+st+'px;"><img id="'+E[fe].szId+"canvas"+Oe+'" class="'+E[fe].szId+'play-window" wid="'+Oe+'" width="'+Qe+'" height="'+st+'"></img><canvas id="'+E[fe].szId+"canvas_draw"+Oe+'"  class="'+E[fe].szId+'draw-window" style="position:absolute; top:0; left:0; z-index:999;" wid="'+Oe+'" width='+ae+" height="+be+"></canvas></div>"}ie+="</div>",E.oJSPlugin.html(ie)}},{key:"initCallbackEvent",value:function(){var ae=this;ae.EventCallback=function(){return{openStreamCallback:function(){window.openStreamCallback&&window.openStreamCallback()},getStreamHeaderCallback:function(){window.getStreamHeaderCallback&&window.getStreamHeaderCallback()},getVideoStreamCallback:function(){window.getVideoStreamCallback&&window.getVideoStreamCallback()},appearFirstFrameCallback:function(){window.appearFirstFrameCallback&&window.appearFirstFrameCallback()},averageStreamSuccessCallback:function(){window.averageStreamSuccessCallback&&window.averageStreamSuccessCallback()},loadEventHandler:function(){window.loadEventHandler&&window.loadEventHandler()},zoomEventResponse:function(){},windowEventSelect:function(E){ae[pt]!==E&&(ae[pt]=E,(ae[Ie][E].bEZoom||ae.b3DZoom)&&((0,b.default)("."+ae[fe].szId+"draw-window").unbind(),ae[Ve].setDrawStatus(!1),ae[Ve]=null,ae[Ve]=new S.ESCanvas(ae[fe].szId+"canvas_draw0"),ae[Ve].setShapeType("Rect"),ae[Ve].setDrawStyle("#ff0000","",0),ae[Ie][E].bEZoom?ae[Ve].setDrawStatus(!0,function(Q){Q.startPos&&Q.endPos&&(Q.startPos[0]>Q.endPos[0]?ae[Ie][E].oPlayCtrl.PlayM4_SetDisplayRegion(null,!1):ae[Ie][E].oPlayCtrl.PlayM4_SetDisplayRegion({left:Q.startPos[0],top:Q.startPos[1],right:Q.endPos[0],bottom:Q.endPos[1]},!0))}):ae.b3DZoom&&ae[Ve].setDrawStatus(!0,function(Q){ae[rt](Q)})),window.GetSelectWndInfo&&window.GetSelectWndInfo(E))},pluginErrorHandler:function(E,Q,Ge){window.PluginEventHandler&&window.PluginEventHandler(E,Q,Ge)},windowEventOver:function(E){window.windowEventOver&&window.windowEventOver(E)},windowEventOut:function(E){window.windowEventOut&&window.windowEventOut(E)},windowEventUp:function(E){window.windowEventUp&&window.windowEventUp(E)},windowFullCcreenChange:function(E){window.windowFullCcreenChange&&window.windowFullCcreenChange(E)},firstFrameDisplay:function(E,Q,Ge){window.firstFrameDisplay&&window.firstFrameDisplay(E,Q,Ge)},performanceLack:function(){window.performanceLack&&window.performanceLack()},mouseEvent:function(E,Q,Ge){var H='<?xml version="1.0"?><MouseEvent><WndIndex>0</WndIndex><EventType>'+E+"</EventType><Position><x>"+Q+"</x><y>"+Ge+"</y><delta>0</delta></Position></MouseEvent>";window.onMouseEvent&&window.onMouseEvent(H)}}}()}},{key:"initEvent",value:function(){var ae=this;ae.initCallbackEvent(),ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).children().each(function(be){var E=this,Q=!1;(0,b.default)(E).unbind().bind("mousedown",function(){ae.EventCallback.windowEventSelect(parseInt(ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).children().eq(be).find("."+ae[fe].szId+"play-window").eq(0).attr("wid"),10))}),(0,b.default)(E).bind("mouseenter",function(H){var _e=ae[fe].szId;H.target.id&&H.target.id.indexOf("_")===-1?_e=H.target.id.split("canvas0")[0]:_e=H.target.id.split("canvas_draw0")[0],(0,b.default)("#"+_e+"canvas_draw0").css("pointer-events","all"),ae.bEZoom||ae.b3DZoom?H.target.id&&H.target.id.indexOf("_")===-1&&(ae[Ve]=null,(0,b.default)("."+_e+"draw-window").unbind(),ae[Ve]=new S.ESCanvas(_e+"canvas_draw0"),ae[Ve].setShapeType("Rect"),ae[Ve].setDrawStyle("#ff0000","",0),ae.b3DZoom&&ae[Ve].setDrawStatus(!0,function(M){ae[rt](M)})):(0,b.default)("#"+_e+"canvas_draw0").css("pointer-events","none")}),(0,b.default)(E).bind("mouseleave",function(H){var _e=ae[fe].szId;H.target.id&&H.target.id.indexOf("_")===-1?_e=H.target.id.split("canvas0")[0]:_e=H.target.id.split("canvas_draw0")[0],(0,b.default)("#"+_e+"canvas_draw0").css("pointer-events","none")}),(0,b.default)(E).bind("mouseover",function(H){ae.EventCallback.windowEventOver(be),H.stopPropagation()}),(0,b.default)(E).bind("mouseout",function(H){ae.EventCallback.windowEventOut(be),H.stopPropagation()}),(0,b.default)(E).bind("mousedown",function(H){if(ae[Ve]){Q=!0;var _e=H.offsetX/ae[Ve].m_iCanvasWidth,M=H.offsetY/ae[Ve].m_iCanvasHeight;H.button===2?ae.EventCallback.mouseEvent(4,_e,M):H.button===0&&ae.EventCallback.mouseEvent(1,_e,M)}H.stopPropagation()}),(0,b.default)(E).bind("mousemove",function(H){if(ae[Ve]){var _e=H.offsetX/ae[Ve].m_iCanvasWidth,M=H.offsetY/ae[Ve].m_iCanvasHeight;Q?ae.EventCallback.mouseEvent(7,_e,M):ae.EventCallback.mouseEvent(6,_e,M)}H.stopPropagation()}),(0,b.default)(E).bind("mousewheel",function(H){if(ae[Ve]){var _e=H.offsetX/ae[Ve].m_iCanvasWidth,M=H.offsetY/ae[Ve].m_iCanvasHeight;ae.EventCallback.mouseEvent(8,_e,M)}H.stopPropagation()}),(0,b.default)(E).bind("mouseup",function(H){if(Q=!1,ae.EventCallback.windowEventUp(be),ae[Ve]){var _e=H.offsetX/ae[Ve].m_iCanvasWidth,M=H.offsetY/ae[Ve].m_iCanvasHeight;H.button===2?ae.EventCallback.mouseEvent(5,_e,M):H.button===0&&ae.EventCallback.mouseEvent(3,_e,M)}}),new Date().getTime();function Ge(){var H=document.getElementsByTagName("body")[0],_e=document.getElementsByTagName("html")[0];switch(window.orientation){case-90:case 90:setTimeout(function(){ae.JS_FullScreenDisplay(!0),_e.style["overflow-y"]="hidden",_e.style.height="100%",H.style["overflow-y"]="hidden",H.style.height="100%"},200);break;case 0:case 180:setTimeout(function(){ae.JS_CancelFullScreenDisplay(!0),_e.style["overflow-y"]="auto",H.style["overflow-y"]="auto"},200);break}}window.addEventListener("orientationchange",Ge,!1)}),typeof document.fullScreen<"u"?document.addEventListener("fullscreenchange",function(){var be=document.fullscreen||!1;ae.EventCallback.windowFullCcreenChange(be)}):typeof document.webkitIsFullScreen<"u"?document.addEventListener("webkitfullscreenchange",function(){var be=document.webkitIsFullScreen||!1;ae.EventCallback.windowFullCcreenChange(be)}):typeof document.mozFullScreen<"u"&&document.addEventListener("mozfullscreenchange",function(){var be=document.mozFullScreen||!1;ae.EventCallback.windowFullCcreenChange(be)})}},{key:"updateWnd",value:function(){for(var ae=this,be=ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).children().length,E=ae.iWidth%ae[fe].iCurrentSplit,Q=ae.iHeight%ae[fe].iCurrentSplit,Ge=(ae.iWidth-E-ae[fe].iCurrentSplit*2)/ae[fe].iCurrentSplit,H=(ae.iHeight-Q-ae[fe].iCurrentSplit*2)/ae[fe].iCurrentSplit,_e=(ae.iWidth-E)/ae[fe].iCurrentSplit,M=(ae.iHeight-Q)/ae[fe].iCurrentSplit,z=ae[fe].iCurrentSplit,ce=0;ce<be;ce++){var ie=Ge+(ce%z===z-1?E:0),Oe=H+(ce+z>=Math.pow(z,2)?Q:0),Qe=_e+(ce%z===z-1?E:0),st=M+(ce+z>=Math.pow(z,2)?Q:0);ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).children().eq(ce).width(Qe),ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).children().eq(ce).height(st),ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).children().eq(ce).find("."+ae[fe].szId+"draw-window").attr("width",ie),ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).children().eq(ce).find("."+ae[fe].szId+"draw-window").attr("height",Oe),ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).children().eq(ce).find("."+ae[fe].szId+"play-window").attr("width",Qe),ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).children().eq(ce).find("."+ae[fe].szId+"play-window").attr("height",st)}}},{key:"cbPlayCtrlCallback",value:function(ae,be,E,Q,Ge,H,_e){var M=this;if((0,b.default)("#"+M[Ie][E].windowID).length){var z=!1;Q&&Ge&&(z=!0),M[Ie][E].bLoad=!0,M.EventCallback&&M.EventCallback.openStreamCallback&&M.EventCallback.openStreamCallback(),M.oStreamClient.openStream(ae,be,function(ce){if(ce.errorCode&&ce.errorCode!="1"&&M.EventCallback&&M.EventCallback.pluginErrorHandler&&(M.EventCallback.pluginErrorHandler(E,ce.errorCode,ce),_e(ce)),ce.bHead&&!M[Ie][E].bPlay){console.log(M.EventCallback),M.EventCallback&&M.EventCallback.getStreamHeaderCallback&&M.EventCallback.getStreamHeaderCallback(),M.firstGetData=!0,M[Ie][E].bPlay=!0,M.bPlay=!0,M[Ie][E].aHead=new Uint8Array(ce.buf),M[Ie][E].oPlayCtrl.PlayM4_OpenStream(ce.buf,me,1024*1024*2);try{var ie=function(gt,Gt){var li=new RegExp("(^|&)"+gt+"=([^&]*)(&|$)","i"),Oi=Gt.match(li);return Oi!=null?unescape(Oi[2]):null},Oe=ie("begin",be.playURL),Qe=parseInt(Oe.slice(0,4)),st=parseInt(Oe.slice(4,6)),D=parseInt(Oe.slice(6,8)),Xe=parseInt(Oe.slice(9,11)),X=parseInt(Oe.slice(11,13)),Ce=parseInt(Oe.slice(13,15))+3;console.log("设置OSD时间: ",Qe+":"+st+":"+D+":"+Xe+":"+X+":"+Ce+":0"),M[Ie][E].oPlayCtrl.PlayM4_SetGlobalBaseTime(Qe,st,D,Xe,X,Ce,0)}catch(mt){console.log("PlayM4_SetGlobalBaseTime:",mt)}M[Ie][E].szSecretKey!==""&&M[Ie][E].oPlayCtrl.PlayM4_SetSecretKey(1,M[Ie][E].szSecretKey,128),M[Ie][E].aHead[8]===4?(console.log("PlayM4_SetStreamOpenMode:0"),M[Ie][E].oPlayCtrl.PlayM4_SetStreamOpenMode(0)):(console.log("PlayM4_SetStreamOpenMode:1"),M[Ie][E].oPlayCtrl.PlayM4_SetStreamOpenMode(1));var ve=M[Ie][E].oPlayCtrl.PlayM4_SetRunTimeInfoCallBackEx(1,function(mt,gt,Gt,li,Oi){M.EventCallback&&M.EventCallback.setRunTimeInfoCallBack&&M.EventCallback.setRunTimeInfoCallBack(mt,gt,Gt,li,Oi)});console.log("错误实时信息回调:",ve),M[Ie][E].oPlayCtrl.PlayM4_SetInputBufSize(m),M[Ie][E].oPlayCtrl.PlayM4_Play(M[Ie][E].windowID)}else{var Le=new Uint8Array(ce.buf),pe=M[Ie][E].oPlayCtrl.PlayM4_GetInputBufSize(),ee=M[Ie][E].oPlayCtrl.PlayM4_GetYUVBufSize(),je=M[Ie][E].oPlayCtrl.PlayM4_GetDecodeFrameType();pe>m*.5&&pe<m*.8&&M[Ie][E].iRate===1&&je!==qe&&!M[Ie][E].bFrameForward&&(M[Ie][E].oPlayCtrl.PlayM4_SetDecodeFrameType(qe),M.EventCallback.performanceLack()),ee>10&&ee<15&&!M[Ie][E].bFrameForward&&je!==qe&&(M[Ie][E].oPlayCtrl.PlayM4_SetDecodeFrameType(qe),M.EventCallback.performanceLack()),ee<10&&pe<m*.5&&je!==Ae&&M[Ie][E].iRate===1&&M[Ie][E].oPlayCtrl.PlayM4_SetDecodeFrameType(Ae),ce.statusString?M.EventCallback.pluginErrorHandler(E,U,ce):ce.type&&ce.type==="exception"?M.EventCallback.pluginErrorHandler(E,le,ce):(M.firstGetData&&(M.firstGetData=!1,console.log("第一次获取数据-----------6"),M.EventCallback&&M.EventCallback.getVideoStreamCallback&&M.EventCallback.getVideoStreamCallback()),M[Ie][E].oPlayCtrl.PlayM4_InputData(Le,Le.length)),!M[Ie][E].bFirstFrame&&ce.errorCode&&ce.errorCode=="1"&&M[Ie][E].oPlayCtrl.PlayM4_GetFrameResolution(function(mt,gt){mt!=0&&gt!=0&&(console.log("iWidth--------",mt),console.log("iHeight--------",gt),M[Ie][E].bFirstFrame=!0,M.EventCallback.firstFrameDisplay(E,mt,gt),M.EventCallback&&M.EventCallback.appearFirstFrameCallback&&M.EventCallback.appearFirstFrameCallback(),M.EventCallback&&M.EventCallback.averageStreamSuccessCallback&&M.EventCallback.averageStreamSuccessCallback())})}M[Ie][E].szStorageUUID&&M.oStorageManager.inputData(M[Ie][E].szStorageUUID,ce.buf),ce=null},function(){}).then(function(ce){M[Ie][E].szStreamUUID=ce,M.oStreamClient.startPlay(ce,Q,Ge).then(function(){z?(M[Ie][E].szPlayType="playback",M[Ie][E].iRate=1,M[Ie][E].oPlayCtrl.PlayM4_PlayRate(M[Ie][E].iRate)):M[Ie][E].szPlayType="realplay",H()},function(ie){_e(ie)})},function(ce){_e(ce)})}}},{key:"cbPlayIMGCallback",value:function(ae,be,E,Q,Ge,H,_e){var M=this;(0,b.default)("#"+M[Ie][E].windowID).length&&(M[Ie][E].bPlay=!0,M.bPlay=!0,M.oStreamClient.openStream(ae,be,function(z){if(!z.bHead){var ce=new Blob([z.buf],{type:"image/jpeg"}),ie=URL.createObjectURL(ce);(0,b.default)("#"+M[fe].szId+"canvas"+E).length&&(document.getElementById(M[fe].szId+"canvas"+E).src=ie)}},function(){if(M[Ie][E].bPlay){M.EventCallback.pluginErrorHandler(E,re),M[Ie][E].bPlay=!1;var z=M[Ie][E].oPlayCtrl.PlayM4_GetInputBufSize();console.log("PlayM4_GetInputBufSize2:::",z),M.bPlay=!1}}).then(function(z){M[Ie][E].szStreamUUID=z,M.oStreamClient.startPlay(z,Q,Ge).then(function(){M[Ie][E].szPlayType="realplay",H()},function(ce){_e(ce)})},function(z){_e(z)}))}},{key:"JS_UpdateWindowStyle",value:function(ae){var be=this;this[fe].oStyle=ae,be.updateWnd()}},{key:"JS_GetPluginVersion",value:function(){var ae=this;return ae[We]}},{key:"JS_ArrangeWindow",value:function(ae){var be=this;if(ae<be[fe].iMaxSplit?be[fe].iCurrentSplit=ae:be[fe].iCurrentSplit=be[fe].iMaxSplit,d.oTool.isFirefox())for(var E=0;E<be[fe].iMaxSplit*be[fe].iMaxSplit;E++)be[Ie][E].oPlayCtrl&&be[Ie][E].oPlayCtrl.PlayM4_ClearCanvas();be.updateWnd(),be.EventCallback.windowEventSelect(0)}},{key:"JS_SetSecretKey",value:function(ae,be){return ae<0||be===""||typeof be>"u"?-1:(this[Ie][ae].szSecretKey=be,0)}},{key:"JS_Play",value:function(ae,be,E,Q,Ge){console.log("JS_Play");var H=this;H.playURL=be.playURL,H.szUrl=ae;var _e=new Promise(function(M,z){if(E<0||E>H[F]-1){z();return}if(H[Ie][E].bFrameForward){z();return}if(H[Ie][E].bPlay&&H.JS_Stop(E),H[fe].iMode===0)setTimeout(function(){H[Ie][E].bFirstFrame=!1,H[Ie][E].iDecodeType=Ae,H[Ie][E].oPlayCtrl?H.cbPlayCtrlCallback(ae,be,E,Q,Ge,M,z):H[Ie][E].oPlayCtrl=new k.JSPlayCtrl(H[fe].szBasePath+"/playctrl/",function(ie){ie.cmd==="loaded"&&!H[Ie][E].bLoad?H.cbPlayCtrlCallback(ae,be,E,Q,Ge,M,z):ie.cmd==="OnebyOne"?ie.status?H[Ie][E].bPause&&(H.oStreamClient.resume(H[Ie][E].szStreamUUID),H[Ie][E].bPause=!1):H[Ie][E].bPause||(H.oStreamClient.pause(H[Ie][E].szStreamUUID),H[Ie][E].bPause=!0):ie.cmd},E,H.staticPath)},200);else if(H[fe].iMode!==1){if(H[fe].iMode===2){var ce=(0,b.default)("."+H[fe].szId+"play-window").eq(E);ce.show(),H.cbPlayIMGCallback(ae,be,E,Q,Ge,M,z)}}});return _e}},{key:"JS_Seek",value:function(ae,be,E){var Q=this,Ge=new Promise(function(H,_e){if(ae<0||ae>Q[F]-1){_e();return}if(!Q[Ie][ae].bPlay){_e();return}console.log("seek，清理缓存"),Q[Ie][ae].oPlayCtrl.aVideoYUVBuffer.splice(0,Q[Ie][ae].oPlayCtrl.aVideoYUVBuffer.length),Q.oStreamClient.seek(Q[Ie][ae].szStreamUUID,be,E),H()});return Ge}},{key:"JS_GetSdkVersion",value:function(){var ae=this;return ae[Ie][0].oPlayCtrl.PlayM4_GetSdkVersion()}},{key:"JS_isInited",value:function(){var ae=this;return ae[Ie][0].bLoad}},{key:"JS_SetLostFrameMode",value:function(ae){var be=this;return be[Ie][0].oPlayCtrl.PlayM4_SetLostFrameMode(ae)}},{key:"JS_DestroyWorker",value:function(){var ae=this;ae[Ie].forEach(function(be){be.bPlay&&be.oPlayCtrl.PlayM4_CloseStream(),be.oPlayCtrl&&(be.oPlayCtrl.PlayM4_Destroy(),be.oPlayCtrl=null,be.bLoad=!1)}),ae[Ve]&&ae[Ve].setShapeType("")}},{key:"JS_Stop",value:function(ae){var be=this,E=new Promise(function(Q,Ge){if(ae<0||ae>be[F]-1){Ge();return}be[Ie][ae].szStorageUUID&&be.JS_StopSave(ae),be[Ie][ae].bEZoom&&be.JS_DisableZoom(ae),be[ot]===ae&&(be[ot]=-1),be.oStreamClient.stopAll(be[Ie][ae].szStreamUUID).then(function(){if(be[Ie][ae].bPlay=!1,be.bPlay=!1,be[Ie][ae].bFrameForward=!1,be[Ie][ae].iRate=1,be[fe].iMode===0)be[Ie][ae].oPlayCtrl&&(be[Ie][ae].oPlayCtrl.PlayM4_Stop&&be[Ie][ae].oPlayCtrl.PlayM4_Stop(),be[Ie][ae].oPlayCtrl.PlayM4_CloseStream&&be[Ie][ae].oPlayCtrl.PlayM4_CloseStream());else if(be[fe].iMode===2){var H=(0,b.default)("."+be[fe].szId+"play-window").eq(ae);H.hide()}setTimeout(function(){Q()},500)},function(){setTimeout(function(){Ge()},500)})});return E}},{key:"JS_Pause",value:function(ae,be){console.log("JS_Pause");var E=this,Q=new Promise(function(Ge,H){if(ae<0||ae>E[F]-1){H();return}E[Ie][ae].szStorageUUID&&E.JS_StopSave(ae);var _e=function(z){z.fileUint8Array&&(console.log("暂停缓存截图数据 start",z.fileUint8Array),E[Ie][ae].tmpCapturePictureData=z.fileUint8Array)};if(E.JS_CapturePicture(0,""+new Date().getTime(),"JPEG",_e,!0).then(function(){}).catch(function(M){return console.log(M)}),!E[Ie][ae].bPlay){H();return}if(E[Ie][ae].bFrameForward){H();return}E.JS_GetOSDTime(0).then(function(M){var z=new Date(M*1e3),ce=""+z.getFullYear()+(z.getMonth()>8?z.getMonth()+1:"0"+(z.getMonth()+1))+(z.getDate()>9?z.getDate():"0"+z.getDate())+(z.getHours()>9?z.getHours():"0"+z.getHours())+(z.getMinutes()>9?z.getMinutes():"0"+z.getMinutes())+(z.getSeconds()>9?z.getSeconds():"0"+z.getSeconds());if(E[Ie][ae].pauseTime=ce,E[Ie][ae].pauseDate=z.valueOf(),be)E.oStreamClient.stopAll(E[Ie][ae].szStreamUUID).then(function(){if(E[Ie][ae].bPlay=!1,E.bPlay=!1,E[Ie][ae].bFrameForward=!1,E[Ie][ae].iRate=1,E[fe].iMode===0)E[Ie][ae].oPlayCtrl&&(E[Ie][ae].oPlayCtrl.PlayM4_Stop&&E[Ie][ae].oPlayCtrl.PlayM4_Stop(),E[Ie][ae].oPlayCtrl.PlayM4_CloseStream&&E[Ie][ae].oPlayCtrl.PlayM4_CloseStream());else if(E[fe].iMode===2){var Oe=(0,b.default)("."+E[fe].szId+"play-window").eq(ae);Oe.hide()}setTimeout(function(){E[Ie][ae].bPause=!0,Ge({pauseDate:z})},500)},function(){setTimeout(function(){H()},500)});else{if(E[Ie][ae].bPlay=!1,E.bPlay=!1,E[fe].iMode===0)E[Ie][ae].oPlayCtrl&&E[Ie][ae].oPlayCtrl.PlayM4_Pause&&E[Ie][ae].oPlayCtrl.PlayM4_Pause(!0);else if(E[fe].iMode===2){var ie=(0,b.default)("."+E[fe].szId+"play-window").eq(ae);ie.hide()}setTimeout(function(){E[Ie][ae].bPause=!0,Ge({pauseDate:z})},500)}}).catch(function(M){H()})});return Q}},{key:"JS_Resume",value:function(ae){console.log("JS_Resume");var be=0,E=this,Q=new Promise(function(Ge,H){if(be>E[F]-1){H();return}if(ae&&(E[Ie][be].pauseTime?E[Ie][be].pauseTime=E[Ie][be].pauseTime.slice(0,14-ae.length)+ae:E[Ie][be].pauseTime=ae),E.playURL.indexOf("playback")!==-1){var _e=E[Ie][be].pauseTime;console.log("pauseTime",_e),E.playURL=E.playURL.replace(/begin=[0-9]{8}T[0-9]{6}Z/gi,"begin="+_e.slice(0,8)+"T"+_e.slice(8,14)+"Z")}if(E.playURL.indexOf("cloudplayback")!==-1){var M=E[Ie][be].pauseDate;E.playURL=E.playURL.replace(/"startTime":[0-9]{13}/gi,'"startTime":'+M),console.log("playURL:",E.playURL)}ae?(E.JS_Play(E.szUrl,{playURL:E.playURL},be).then(function(z){Ge(z)}).catch(function(z){H(z)}),E[Ie][be].bPause=!1):(E[Ie][be].oPlayCtrl&&E[Ie][be].oPlayCtrl.PlayM4_Pause&&E[Ie][be].oPlayCtrl.PlayM4_Pause(!1),E[Ie][be].bPause=!1,E[Ie][be].bPlay=!0,E.bPlay=!0,Ge())});return Q}},{key:"JS_Slow",value:function(ae){var be=this,E=new Promise(function(Q,Ge){if(ae<0||ae>be[F]-1){Ge();return}if(!be[Ie][ae].bPlay){Ge();return}if(be[Ie][ae].iRate===-8){Ge();return}if(be[Ie][ae].bFrameForward){Ge();return}be[Ie][ae].iRate<0&&be[Ie][ae].iRate>-8&&(be[Ie][ae].iRate*=2),be[Ie][ae].iRate===1&&(be[Ie][ae].iRate*=-2),be[Ie][ae].iRate>1&&(be[Ie][ae].iRate/=2),be.oStreamClient.setPlayRate(be[Ie][ae].szStreamUUID,be[Ie][ae].iRate).then(function(){be[Ie][ae].iRate<2?be[Ie][ae].oPlayCtrl.PlayM4_SetDecodeFrameType(Ae):(console.log("单线程倍速，只解析I帧",be[Ie][ae].iRate),be[Ie][ae].oPlayCtrl.PlayM4_SetDecodeFrameType(qe),be[Ie][ae].oPlayCtrl.PlayM4_SetIFrameDecInterval(0)),be[Ie][ae].oPlayCtrl.PlayM4_PlayRate(be[Ie][ae].iRate),Q()},function(H){Ge(H)})});return E}},{key:"JS_Fast",value:function(ae,be){var E=this,Q=new Promise(function(Ge,H){if(ae<0||ae>E[F]-1){H();return}if(!E[Ie][ae].bPlay){H();return}if(be)switch(be){case 1:case 2:case 4:E[Ie][ae].iRate=be;break;case 3:E[Ie][ae].iRate=3;break;default:E[Ie][ae].iRate=this.iRate;break}else{if(E[Ie][ae].bFrameForward){H();return}if(E[Ie][ae].iRate===8){H();return}E[Ie][ae].iRate===-2?E[Ie][ae].iRate=1:E[Ie][ae].iRate<-2?E[Ie][ae].iRate/=2:E[Ie][ae].iRate>0&&E[Ie][ae].iRate<8&&(E[Ie][ae].iRate*=2)}E.oStreamClient.setPlayRate(E[Ie][ae].szStreamUUID,E[Ie][ae].iRate).then(function(){E[Ie][ae].iRate<2?(console.log("单线程倍速，全解析",E[Ie][ae].iRate),E[Ie][ae].oPlayCtrl.PlayM4_SetDecodeFrameType(Ae)):(console.log("单线程倍速，只解析I帧",E[Ie][ae].iRate),E[Ie][ae].oPlayCtrl.PlayM4_SetDecodeFrameType(qe),E[Ie][ae].iRate===8?E[Ie][ae].oPlayCtrl.PlayM4_SetIFrameDecInterval(2):E[Ie][ae].oPlayCtrl.PlayM4_SetIFrameDecInterval(0)),E[Ie][ae].oPlayCtrl.PlayM4_PlayRate(E[Ie][ae].iRate),Ge()},function(_e){H(_e)})});return Q}},{key:"JS_Speed",value:function(ae){var be=this,E=0,Q=new Promise(function(Ge,H){if(E>be[F]-1){H();return}if(!be[Ie][E].bPlay){H();return}if(be[Ie][E].bFrameForward){H();return}if(be[Ie][E].iRate===8){H();return}be[Ie][E].iRate=ae,be.oStreamClient.setPlayRate(be[Ie][E].szStreamUUID,be[Ie][E].iRate).then(function(){be[Ie][E].iRate<=2||be[Ie][E].iRate===3?(console.log("单线程倍速，全解",be[Ie][E].iRate),be[Ie][E].oPlayCtrl.PlayM4_SetDecodeFrameType(Ae)):(console.log("单线程倍速，只解析I帧",be[Ie][E].iRate),be[Ie][E].oPlayCtrl.PlayM4_SetDecodeFrameType(qe)),be[Ie][E].oPlayCtrl.PlayM4_PlayRate(be[Ie][E].iRate),Ge()},function(_e){H(_e)})});return Q}},{key:"JS_Transmission",value:function(ae,be){var E=this,Q=new Promise(function(Ge,H){if(ae<0||ae>E[F]-1){H();return}if(!E[Ie][ae].szStreamUUID){H();return}E.oStreamClient.transmission(E[Ie][ae].szStreamUUID,be).then(function(_e){Ge(_e)},function(_e){H(_e)})});return Q}},{key:"JS_FrameForward",value:function(ae){var be=this,E=new Promise(function(Q,Ge){if(ae<0||ae>be[F]-1){Ge();return}if(!be[Ie][ae].bPlay){Ge();return}be[Ie][ae].iRate!==1?(be[Ie][ae].iRate=1,be[$e]=be[Ie][ae].iRate,be.oStreamClient.setPlayRate(be[Ie][ae].szStreamUUID,be[Ie][ae].iRate).then(function(){be[Ie][ae].oPlayCtrl.PlayM4_PlayRate(be[Ie][ae].iRate),be[Ie][ae].oPlayCtrl.PlayM4_SetDecodeFrameType(Ae),be[Ie][ae].oPlayCtrl.PlayM4_OneByOne(),be[Ie][ae].bFrameForward=!0},function(H){Ge(H)})):(be[Ie][ae].oPlayCtrl.PlayM4_PlayRate(be[Ie][ae].iRate),be[Ie][ae].oPlayCtrl.PlayM4_SetDecodeFrameType(Ae),be[Ie][ae].oPlayCtrl.PlayM4_OneByOne(),be[Ie][ae].bFrameForward=!0),Q()});return E}},{key:"JS_GetOSDTime",value:function(ae){var be=this,E=new Promise(function(Q,Ge){if(ae<0||ae>be[F]-1){Ge(xe);return}if(!be[Ie][ae].bPlay){Ge(xe);return}var H=be[Ie][ae].oPlayCtrl.PlayM4_GetOSDTime(function(_e){var M=d.oTool.isIOS()||d.oTool.isSafari()||d.oTool.isEdge()?"/":" ",z=Date.parse(_e.replace(/-/g,M))/1e3;Q(z)});if(H!==0){Ge(xe);return}});return E}},{key:"JS_OpenSound",value:function(ae){var be=this;return ae<0||ae>be[F]-1||!be[Ie][ae].bPlay||be[ot]===ae||(be[ot]!==-1&&be[Ie][be[ot]].oPlayCtrl.PlayM4_StopSound(),be[Ie][ae].oPlayCtrl.PlayM4_PlaySound(ae)!==1)?xe:(be[ot]=ae,se)}},{key:"JS_GetVolume",value:function(ae,be){var E=this,Q=E[Ie][ae].oPlayCtrl.PlayM4_GetVolume(function(Ge){be&&be(Ge)});return Q}},{key:"JS_SetVolume",value:function(ae,be){var E=this;return E[Ie][ae].oPlayCtrl.PlayM4_SetVolume(be)!==0?xe:se}},{key:"JS_CloseSound",value:function(){var ae=this,be=ae[ot];return be<0||be>ae[F]-1||!ae[Ie][be].bPlay||ae[Ie][be].oPlayCtrl.PlayM4_StopSound()!==1?xe:(ae[ot]=-1,se)}},{key:"JS_EnableZoom",value:function(ae){var be=this;return ae<0||ae>be[F]-1||!be[Ie][ae].bPlay?xe:((0,b.default)("."+be[fe].szId+"draw-window").unbind(),this[Ve]=new S.ESCanvas(be[fe].szId+"canvas_draw0"),this[Ve].setShapeType("Rect"),this[Ve].setDrawStyle("#ff0000","",0),this[Ve].setDrawStatus(!0,function(E){E.startPos&&E.endPos&&(E.startPos[0]>E.endPos[0]?be[Ie][ae].oPlayCtrl.PlayM4_SetDisplayRegion(null,!1):be[Ie][ae].oPlayCtrl.PlayM4_SetDisplayRegion({left:E.startPos[0],top:E.startPos[1],right:E.endPos[0],bottom:E.endPos[1]},!0))}),be[Ie][ae].bEZoom=!0,se)}},{key:"JS_DisableZoom",value:function(ae){var be=this;return ae<0||ae>be[F]-1||!be[Ie][ae].bPlay||(this[Ve].setDrawStatus(!1),this[Ie][ae].oPlayCtrl.PlayM4_SetDisplayRegion(null,!1)!==0)?xe:(this[Ie][ae].bEZoom=!1,se)}},{key:"JS_Enable3DZoom",value:function(ae,be){var E=this;if(ae<0||ae>E[F]-1||!E[Ie][ae].bPlay)return xe;var Q=this._JSPlayM4_GetFrameInfo();return this._JSPlayM4_SetDisplayRegion(0,Q.width,0,Q.height),(0,b.default)("."+E[fe].szId+"draw-window").unbind(),this[rt]=be,this[Ve]=new S.ESCanvas(E[fe].szId+"canvas_draw0"),this[Ve].setShapeType("Rect"),this[Ve].setDrawStyle("#ff0000","",0),this[Ve].setDrawStatus(!0,function(Ge){be(Ge)}),this.b3DZoom=!0,se}},{key:"JS_Disable3DZoom",value:function(ae){var be=this;return ae<0||ae>be[F]-1||!be[Ie][ae].bPlay?xe:(this[Ve].setDrawStatus(!1),this.b3DZoom=!1,se)}},{key:"JS_CapturePicture",value:function(ae,be,E,Q,Ge){var H=this;return new Promise(function(_e,M){if(ae<0||ae>H[F]-1){M({code:-1,msg:"窗口号错误"});return}if(!H[Ie][ae].bPlay&&H[Ie][ae].bPause&&H[Ie][ae].tmpCapturePictureData&&(console.log("不在播放状态，使用缓存的截图"),z(H[Ie][ae].tmpCapturePictureData),_e({code:1,data:z(H[Ie][ae].tmpCapturePictureData)})),!H[Ie][ae].bPlay){M({code:-1,msg:"获取图片数据失败！"});return}if(E||(E="JPEG"),E==="BMP")H[Ie][ae].oPlayCtrl.PlayM4_GetBMP(function(ce){ce===6?M({code:-1,msg:"获取图片数据失败！"}):(Q?Q(ce):d.oTool.downloadFile(ce,be+".BMP"),_e({code:1,data:{fileName:be+".BMP",fileUint8Array:ce}}))});else if(E==="JPEG")try{H[Ie][ae].oPlayCtrl.PlayM4_GetJPEG(function(ce){ce===6?M({code:Pe,msg:"内存不足，抓图失败"}):_e({code:1,data:z(ce)})})}catch(ce){console.log("JS_CapturePicture error",ce)}function z(ce){var ie=function(st){for(var D=new Uint8Array(st),Xe="",X=0;X<D.length;X++)Xe+=String.fromCharCode(D[X]);return"data:image/jpeg;base64,"+window.btoa(Xe)},Oe={fileName:be+".jpeg",fileUint8Array:ce,base64:ie(ce)};return Q?(Q(Oe),Ge||d.oTool.downloadFile(ce,be+".jpeg")):d.oTool.downloadFile(ce,be+".jpeg"),Oe}})}},{key:"JS_StopRealPlayAll",value:function(){var ae=this;ae.oStreamClient.stopAll(),ae[Ie].forEach(function(be,E){be.bPlay&&(be.szStorageUUID&&ae.JS_StopSave(E),be.bEZoom&&ae.JS_DisableZoom(E),ae[fe].iMode===0?(be.oPlayCtrl.PlayM4_Stop(),be.oPlayCtrl.PlayM4_CloseStream()):ae[fe].iMode===2&&(0,b.default)("."+ae[fe].szId+"play-window").hide()),be.bPlay=!1}),ae.bPlay=!1,ae[ot]=-1}},{key:"JS_StartSave",value:function(ae,be,E){var Q=this,Ge=new Promise(function(H,_e){var M=0;if(E&&(M=E.iPackage),ae<0||ae>Q[F]-1){_e();return}if(!Q[Ie][ae].bPlay){_e();return}be.indexOf(".mp4")<0&&(be=be+".mp4");var z=Q[Ie][ae].aHead,ce=0;Q[Ie][ae].szPlayType==="playback"&&(ce=1),Q.oStorageManager.startRecord(be,z,2,ce,{cbEventHandler:function(Oe){Q.EventCallback.pluginErrorHandler(ae,Oe)},iPackage:M}).then(function(ie){Q[Ie][ae].szStorageUUID=ie,H()},function(){_e()})});return Ge}},{key:"JS_StopSave",value:function(ae){var be=this,E=new Promise(function(Q,Ge){if(!be[Ie][ae].szStorageUUID){Ge();return}be.oStorageManager.stopRecord(be[Ie][ae].szStorageUUID).then(function(){be[Ie][ae].szStorageUUID="",Q()},function(H){Ge(H)})});return E}},{key:"JS_GetLocalConfig",value:function(){return""}},{key:"JS_SetLocalConfig",value:function(){return 0}},{key:"JS_SetGridInfo",value:function(ae){if(ae===null||typeof ae>"u")return-1;var be="#ff0000";return ae.drawColor&&(be=ae.drawColor),this[Ve].setDrawStyle(be),this[Ve].setShapesInfoByType("Grid",[{szGridMap:ae.gridMap,iGridColNum:ae.gridColNum,iGridRowNum:ae.gridRowNum}]),0}},{key:"JS_GetGridInfo",value:function(){if(!this[Ve])return{};var ae=this[Ve].getShapesInfoByType("Grid")[0];return ae?{gridColNum:ae.iGridColNum,gridRowNum:ae.iGridRowNum,gridMap:ae.szGridMap}:{iGridRowNum:18,iGridColNum:22,szGridMap:""}}},{key:"JS_SetDrawShapeInfo",value:function(ae,be){if(typeof ae>"u"||ae==="")return-1;this[Ve].setShapeType(ae),this[Ve].setDrawStyle(be.szDrawColor||"",be.szFillColor||"",be.iTranslucent||0),be.iMaxShapeSupport&&be.iMaxShapeSupport>0&&this[Ve].setMaxShapeSupport(be.iMaxShapeSupport),be.iMaxShapeSupport>0&&this[Ve].setCurrentShapeInfo({szId:"",szTips:be.szTips||"",iMinClosed:3,iMaxPointNum:be.iMaxPointSupport,iPolygonType:1,szDrawColor:be.szDrawColor||"",szFillColor:be.szFillColor||"",iTranslucent:be.iTranslucent||0})}},{key:"JS_SetPolygonInfo",value:function(ae){if(typeof ae>"u"||!ae.length)return-1;var be=[];if(ae.length>0)for(var E=0,Q=ae.length;E<Q;E++){var Ge=ae[E].aPoint;Ge.length>0&&be.push(ae[E])}return be.length>0?(this[Ve].setShapesInfoByType("Polygon",be),0):-1}},{key:"JS_GetPolygonInfo",value:function(){for(var ae=[],be=this[Ve].getShapesInfoByType("Polygon"),E=0,Q=be.length;E<Q;E++){var Ge=be[E],H={aPoint:Ge.aPoint,bClosed:Ge.bClosed,szTips:Ge.szTips};ae.push(H)}return ae}},{key:"JS_SetLineInfo",value:function(ae){if(typeof ae>"u"||!ae.length)return-1;var be=[];if(ae.length>0)for(var E=0,Q=ae.length;E<Q;E++){var Ge=ae[E].aPoint;Ge.length>0&&be.push(ae[E])}return be.length>0?(this[Ve].setShapesInfoByType("Line",be),0):-1}},{key:"JS_GetLineInfo",value:function(){for(var ae=[],be=this[Ve].getShapesInfoByType("Line"),E=0,Q=be.length;E<Q;E++){var Ge=be[E],H={iLineType:Ge.iLineType,aPoint:Ge.aPoint,szTips:Ge.szTips};ae.push(H)}return ae}},{key:"JS_SetRectInfo",value:function(ae){if(typeof ae>"u"||!ae.length)return-1;var be=[];if(ae.length>0)for(var E=0,Q=ae.length;E<Q;E++){var Ge=ae[E].aPoint;Ge.length>0&&be.push(ae[E])}return be.length>0?(this[Ve].setShapesInfoByType("Rect",be),0):-1}},{key:"JS_GetRectInfo",value:function(){for(var ae=[],be=this[Ve].getShapesInfoByType("Rect"),E=0,Q=be.length;E<Q;E++){var Ge=be[E],H={aPoint:Ge.aPoint,szTips:Ge.szTips};ae.push(H)}return ae}},{key:"JS_SetRegionInfo",value:function(ae){var be=this;this[Ve].clearAllShape();var E=d.oTool.parseXmlFromStr(ae);if(this[Ve].setDrawStyle("#ff0000","#343434",.3),(0,b.default)(E).find("DetectionRegionInfo").length>0){this[Ve].setShapeType("Rect");var Q=parseInt((0,b.default)(E).find("MaxRegionNum").eq(0).text(),10);this[Ve].setMaxShapeSupport(Q),this[Ve].m_szDisplayMode=(0,b.default)(E).find("DisplayMode").eq(0).text(),this[Ve].m_szVideoFormat=(0,b.default)(E).find("videoFormat").eq(0).text(),this[Ve].m_iHorizontalResolution=parseInt((0,b.default)(E).find("HorizontalResolution").eq(0).text(),10),this[Ve].m_iVerticalResolution=parseInt((0,b.default)(E).find("VerticalResolution").eq(0).text(),10);var Ge=[];(0,b.default)(E).find("DetectionRegion").each(function(){for(var z=[],ce=0,ie=(0,b.default)(this).find("positionX").length;ce<ie;ce++){var Oe=Math.round((0,b.default)(this).find("positionX").eq(ce).text())*be[Ve].m_iCanvasWidth/be[Ve].m_iHorizontalResolution,Qe=(be[Ve].m_iVerticalResolution-Math.round((0,b.default)(this).find("positionY").eq(ce).text()))*be[Ve].m_iCanvasHeight/be[Ve].m_iVerticalResolution;z.push([Oe,Qe])}z.length>0&&!(z[0][0]===0&&z[1][0]===0&&z[2][0]===0&&z[3][0]===0)&&Ge.push({aPoint:z,iEditType:be[Ve].m_szDisplayMode==="transparent"?1:0,szDrawColor:"#ff0000",szFillColor:"#343434",iTranslucent:.3})}),this[Ve].setShapesInfoByType("Rect",Ge)}else if((0,b.default)(E).find("MoveDetection").length>0){this[Ve].setShapeType("Grid");var H=parseInt((0,b.default)(E).find("columnGranularity").eq(0).text(),10),_e=parseInt((0,b.default)(E).find("rowGranularity").eq(0).text(),10),M=(0,b.default)(E).find("gridMap").eq(0).text();this[Ve].setShapesInfoByType("Grid",[{szGridMap:M,iGridColNum:H,iGridRowNum:_e}])}return 0}},{key:"JS_GetRegionInfo",value:function(){if(!this[Ve])return"";var ae=this[Ve].getShapeType(),be='<?xml version="1.0" encoding="utf-8"?>';if(ae==="Rect"){be+="<DetectionRegionInfo>",be+="<videoFormat>"+this[Ve].m_szVideoFormat+"</videoFormat><RegionType>roi</RegionType>",be+="<ROI><HorizontalResolution>"+this[Ve].m_iHorizontalResolution+"</HorizontalResolution><VerticalResolution>"+this[Ve].m_iVerticalResolution+"</VerticalResolution></ROI>",be+="<DisplayMode>"+this[Ve].m_szDisplayMode+"</DisplayMode><MaxRegionNum>"+this[Ve].getMaxShapeSupport()+"</MaxRegionNum>",be+="<DetectionRegionList>";for(var E=this[Ve].getShapesInfoByType("Rect"),Q=0,Ge=E.length;Q<Ge;Q++){var H=E[Q].aPoint;be+="<DetectionRegion><RegionCoordinatesList>",be+="<RegionCoordinates><positionX>"+Math.round(H[3][0]*this[Ve].m_iHorizontalResolution/this[Ve].m_iCanvasWidth)+"</positionX><positionY>"+(this[Ve].m_iVerticalResolution-Math.round(H[3][1]*this[Ve].m_iVerticalResolution/this[Ve].m_iCanvasHeight))+"</positionY></RegionCoordinates>",be+="<RegionCoordinates><positionX>"+Math.round(H[2][0]*this[Ve].m_iHorizontalResolution/this[Ve].m_iCanvasWidth)+"</positionX><positionY>"+(this[Ve].m_iVerticalResolution-Math.round(H[2][1]*this[Ve].m_iVerticalResolution/this[Ve].m_iCanvasHeight))+"</positionY></RegionCoordinates>",be+="<RegionCoordinates><positionX>"+Math.round(H[1][0]*this[Ve].m_iHorizontalResolution/this[Ve].m_iCanvasWidth)+"</positionX><positionY>"+(this[Ve].m_iVerticalResolution-Math.round(H[1][1]*this[Ve].m_iVerticalResolution/this[Ve].m_iCanvasHeight))+"</positionY></RegionCoordinates>",be+="<RegionCoordinates><positionX>"+Math.round(H[0][0]*this[Ve].m_iHorizontalResolution/this[Ve].m_iCanvasWidth)+"</positionX><positionY>"+(this[Ve].m_iVerticalResolution-Math.round(H[0][1]*this[Ve].m_iVerticalResolution/this[Ve].m_iCanvasHeight))+"</positionY></RegionCoordinates>",be+="</RegionCoordinatesList></DetectionRegion>"}be+="</DetectionRegionList>",be+="</DetectionRegionInfo>"}else if(ae==="Grid"){var _e=this[Ve].getShapesInfoByType("Grid")[0];_e||(_e={iGridRowNum:18,iGridColNum:22,szGridMap:""}),be+="<MoveDetection><videoFormat>PAL</videoFormat><RegionType>grid</RegionType>",be+="<Grid><rowGranularity>"+_e.iGridRowNum+"</rowGranularity><columnGranularity>"+_e.iGridColNum+"</columnGranularity></Grid>",be+="<DisplayMode>transparent</DisplayMode>",be+="<gridMap>"+_e.szGridMap+"</gridMap></MoveDetection>"}return be}},{key:"JS_SetDrawStatus",value:function(ae){return this[Ve]?(this[Ve].setDrawStatus(ae),0):-1}},{key:"JS_ClearRegion",value:function(){return this[Ve]?(this[Ve].clearAllShape(),0):-1}},{key:"JS_GetTextOverlay",value:function(){if(!this[Ve])return"";var ae='<?xml version="1.0" encoding="utf-8"?>';ae+="<OSD>",ae+="<videoResolutionWidth>"+this[Ve].m_iHorizontalResolution+"</videoResolutionWidth>",ae+="<videoResolutionHeight>"+this[Ve].m_iVerticalResolution+"</videoResolutionHeight>";for(var be="",E="",Q="",Ge=this[Ve].getShapesInfoByType("RectOSD"),H=0,_e=Ge.length;H<_e;H++){var M=Ge[H],z=Math.round(M.iPositionX*this[Ve].m_iHorizontalResolution/this[Ve].m_iCanvasWidth),ce=Math.round(M.iPositionY*this[Ve].m_iVerticalResolution/this[Ve].m_iCanvasHeight);M.szOSDType==="overlay-date"?(be+="<DateTimeOverlay><Type>"+M.szDateStyle+"</Type>",be+="<clockType>"+M.szClockType+"</clockType>",be+="<displayWeek>"+M.szDisplayWeek+"</displayWeek>",be+="<enabled>"+M.szEnabled+"</enabled>",be+="<alignment>"+M.szAlignment+"</alignment>",be+="<positionX>"+z+"</positionX><positionY>"+ce+"</positionY></DateTimeOverlay>"):M.szOSDType==="overlay-ch"?(E+="<channelNameOverlay><enabled>"+M.szEnabled+"</enabled>",E+="<ChannelName>"+M.szText+"</ChannelName>",E+="<alignment>"+M.szAlignment+"</alignment>",E+="<positionX>"+z+"</positionX><positionY>"+ce+"</positionY></channelNameOverlay>"):M.szOSDType==="overlay-text"&&(Q+="<TextOverlay><id>"+M.szId+"</id><enabled>"+M.szEnabled+"</enabled>",Q+="<alignment>"+M.szAlignment+"</alignment>",Q+="<displayText>"+M.szText+"</displayText>",Q+="<positionX>"+z+"</positionX><positionY>"+ce+"</positionY></TextOverlay>")}return ae+=be,ae+=E,ae+="<TextOverlayList>",ae+=Q,ae+="</TextOverlayList>",ae+="</OSD>",ae}},{key:"JS_SetTextOverlay",value:function(ae){var be=this;this[Ve].setMaxShapeSupport(20);var E=d.oTool.parseXmlFromStr(ae);if(this[Ve].clearShapeByType("RectOSD"),(0,b.default)(E).find("OSD").length>0){if(this[Ve].setDrawStyle("#ff0000","#343434",.7),this[Ve].m_iHorizontalResolution=parseInt((0,b.default)(E).find("videoResolutionWidth").eq(0).text(),10),this[Ve].m_iVerticalResolution=parseInt((0,b.default)(E).find("videoResolutionHeight").eq(0).text(),10),(0,b.default)(E).find("channelNameOverlay").length>0){var Q=(0,b.default)(E).find("channelNameOverlay").eq(0),Ge=(0,b.default)(Q).find("ChannelName").eq(0).text(),H=(0,b.default)(Q).find("enabled").eq(0).text(),_e=Math.round((0,b.default)(Q).find("positionX").eq(0).text())*this[Ve].m_iCanvasWidth/this[Ve].m_iHorizontalResolution,M=Math.round((0,b.default)(Q).find("positionY").eq(0).text())*this[Ve].m_iCanvasHeight/this[Ve].m_iVerticalResolution,z=(0,b.default)(Q).find("alignment").eq(0).text()||"0";this[Ve].addOSDShape(Ge,H,_e,M,{szOSDType:"overlay-ch",szAlignment:z})}if((0,b.default)(E).find("DateTimeOverlay").length>0){var ce=(0,b.default)(E).find("DateTimeOverlay").eq(0),ie=(0,b.default)(ce).find("enabled").eq(0).text(),Oe=(0,b.default)(ce).find("Type").eq(0).text()||(0,b.default)(ce).find("type").eq(0).text(),Qe=(0,b.default)(ce).find("displayWeek").eq(0).text(),st=(0,b.default)(ce).find("clockType").eq(0).text(),D="",Xe="",X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ce=new Date;switch(Qe==="true"&&(Xe=X[Ce.getDay()]),st==="24hour"?st="":st="AM/PM",Oe){case"0":D="YYYY-MM-DD "+Xe+" hh:mm:ss "+st;break;case"1":D="MM-DD-YYYY "+Xe+" hh:mm:ss "+st;break;case"2":D="CHR-YYYY-MM-DD "+Xe+" hh:mm:ss "+st;break;case"3":D="CHR-MM-DD-YYYY "+Xe+" hh:mm:ss "+st;break;case"4":D="DD-MM-YYYY "+Xe+" hh:mm:ss "+st;break;case"5":D="CHR-DD-MM-YYYY "+Xe+" hh:mm:ss "+st;break}var ve=Math.round((0,b.default)(ce).find("positionX").eq(0).text())*this[Ve].m_iCanvasWidth/this[Ve].m_iHorizontalResolution,Le=Math.round((0,b.default)(ce).find("positionY").eq(0).text())*this[Ve].m_iCanvasHeight/this[Ve].m_iVerticalResolution,pe=(0,b.default)(ce).find("alignment").eq(0).text()||"0";this[Ve].addOSDShape(D,ie,ve,Le,{szOSDType:"overlay-date",szDateStyle:Oe,szDisplayWeek:Qe,szClockType:st,szAlignment:pe})}(0,b.default)(E).find("TextOverlayList").length>0&&(0,b.default)(E).find("TextOverlayList").eq(0).find("TextOverlay").each(function(){var ee=(0,b.default)(this).find("displayText").eq(0).text(),je=(0,b.default)(this).find("enabled").eq(0).text(),mt=(0,b.default)(this).find("id").eq(0).text(),gt=Math.round((0,b.default)(this).find("positionX").eq(0).text())*be[Ve].m_iCanvasWidth/be[Ve].m_iHorizontalResolution,Gt=Math.round((0,b.default)(this).find("positionY").eq(0).text())*be[Ve].m_iCanvasHeight/be[Ve].m_iVerticalResolution,li=(0,b.default)(this).find("alignment").eq(0).text()||"0";be[Ve].addOSDShape(ee,je,gt,Gt,{szOSDType:"overlay-text",szId:mt,szAlignment:li})})}return 0}},{key:"JS_ClearSnapInfo",value:function(ae){return this[Ve]?(ae===0?this[Ve].clearShapeByType("Rect"):ae===1?this[Ve].clearShapeByType("Polygon"):ae===2?this[Ve].clearShapeByType("Line"):ae===3?(this[Ve].clearShapeByType("Rect"),this[Ve].clearShapeByType("Polygon")):ae===5?this[Ve].clearShapeByType("Point"):this[Ve].clearAllShape(),0):-1}},{key:"JS_ClearTargetPolygon",value:function(ae){var be=d.oTool.parseXmlFromStr(ae),E=this[Ve].getAllShapesInfo(),Q=E.length;if(Q>0)for(var Ge=0;Ge<Q;Ge++){var H=(0,b.default)(be).find("id").eq(0).text();if(E[Ge].szType==="Polygon"&&E[Ge].szId===H){this[Ve].deleteShape(Ge);break}}}},{key:"JS_SetSnapPolygonInfo",value:function(ae){var be=this;this[Ve].setShapeType("Polygon"),this[Ve].setMaxShapeSupport(20),this[Ve].setDrawStyle("#FFFF00","#FFFF00",.1);var E=d.oTool.parseXmlFromStr(ae),Q=this[Ve].getAllShapesInfo(),Ge=Q.length;if(Ge>0)for(var H=0;H<Ge;H++){var _e=(0,b.default)(E).find("id").eq(0).text();if(Q[H].szType==="Polygon"&&Q[H].szId===_e){this[Ve].deleteShape(H);break}}var M=[];return(0,b.default)(E).find("SnapPolygonList").length>0&&(0,b.default)(E).find("SnapPolygonList").eq(0).find("SnapPolygon").each(function(){var z=(0,b.default)(this).find("id").eq(0).text(),ce=parseInt((0,b.default)(this).find("polygonType").eq(0).text()||"1",10),ie=(0,b.default)(this).find("Tips").eq(0).text()||(0,b.default)(this).find("tips").eq(0).text(),Oe=parseInt((0,b.default)(this).find("MinClosed").eq(0).text(),10),Qe=parseInt((0,b.default)(this).find("PointNumMax").eq(0).text(),10),st=parseInt((0,b.default)(this).find("EditType").eq(0).text(),10)||parseInt((0,b.default)(this).find("editType").eq(0).text(),10)||0,D=(0,b.default)(this).find("isClosed").eq(0).text()==="true",Xe="rgb("+(0,b.default)(this).find("r").eq(0).text()+","+(0,b.default)(this).find("g").eq(0).text()+","+(0,b.default)(this).find("b").eq(0).text()+")",X=Xe,Ce=.1,ve=parseInt((0,b.default)(this).find("RedrawMode").eq(0).text(),10)||0,Le=[];(0,b.default)(this).find("pointList").eq(0).find("point").each(function(pe){Le[pe]=[],Le[pe][0]=Math.round((0,b.default)(this).find("x").eq(0).text()*be[Ve].m_iCanvasWidth),Le[pe][1]=Math.round((0,b.default)(this).find("y").eq(0).text()*be[Ve].m_iCanvasHeight)}),Le.length>0?(M.push({szId:z,iPolygonType:ce,iMinClosed:Oe,iMaxPointNum:Qe,iEditType:st,aPoint:Le,bClosed:D,szTips:ie,szDrawColor:Xe,szFillColor:X,iTranslucent:Ce,iRedrawMode:ve}),be[Ve].setDrawStatus(!1)):(be[Ve].setCurrentShapeInfo({szId:z,szTips:ie,iMinClosed:Oe,iMaxPointNum:Qe,iPolygonType:ce,szDrawColor:Xe,szFillColor:X,iTranslucent:Ce,iRedrawMode:ve}),be[Ve].setDrawStatus(!0))}),M.length>0&&this[Ve].setShapesInfoByType("Polygon",M),0}},{key:"JS_GetSnapPolygonInfo",value:function(){for(var ae="<?xml version='1.0' encoding='utf-8'?><SnapPolygonList>",be=this[Ve].getShapesInfoByType("Polygon"),E=0,Q=be.length;E<Q;E++){var Ge=be[E];ae+="<SnapPolygon>",ae+="<id>"+Ge.szId+"</id>",ae+="<polygonType>"+Ge.iPolygonType+"</polygonType>",ae+="<color>";var H=Ge.szDrawColor.substring(4,Ge.szDrawColor.length-1).split(",");ae+="<r>"+H[0]+"</r>",ae+="<g>"+H[1]+"</g>",ae+="<b>"+H[2]+"</b>",ae+="</color>",ae+="<tips>"+Ge.szTips+"</tips>",ae+="<isClosed>"+Ge.bClosed+"</isClosed>";var _e=Ge.aPoint;ae+="<pointList>";for(var M=0,z=_e.length;M<z;M++)ae+="<point><x>"+(_e[M][0]/this[Ve].m_iCanvasWidth).toFixed(6)+"</x><y>"+(_e[M][1]/this[Ve].m_iCanvasHeight).toFixed(6)+"</y></point>";ae+="</pointList>",ae+="</SnapPolygon>"}return ae+="</SnapPolygonList>",ae}},{key:"JS_SetSnapDrawMode",value:function(ae,be){var E=this;return this[Ve]?(this[Ve].setDrawMutiShapeOneTime(!1),ae===0&&be===3&&E[Ve].setDrawStatus(!1),0):-1}},{key:"JS_SetSnapLineInfo",value:function(ae){var be=this;this[Ve].setShapeType("Line"),this[Ve].setMaxShapeSupport(20),this[Ve].setDrawStyle("#FFFF00","#FFFF00",.1);var E=d.oTool.parseXmlFromStr(ae),Q=this[Ve].getAllShapesInfo(),Ge=Q.length;if(Ge>0)for(var H=0;H<Ge;H++){var _e=(0,b.default)(E).find("id").eq(0).text();if(Q[H].szType==="Line"&&Q[H].szId===_e){this[Ve].deleteShape(H);break}}var M=[];return(0,b.default)(E).find("SnapLineList").length>0&&(0,b.default)(E).find("SnapLineList").eq(0).find("SnapLine").each(function(){var z=(0,b.default)(this).find("id").eq(0).text(),ce=parseInt((0,b.default)(this).find("LineTypeEx").eq(0).text(),10),ie=parseInt((0,b.default)(this).find("CustomType").text()||(0,b.default)(this).find("LineType").text(),10),Oe=parseInt((0,b.default)(this).find("ArrowType").text()||0,10),Qe=(0,b.default)(this).find("Tips").eq(0).text()||(0,b.default)(this).find("tips").eq(0).text(),st="rgb("+(0,b.default)(this).find("r").eq(0).text()+","+(0,b.default)(this).find("g").eq(0).text()+","+(0,b.default)(this).find("b").eq(0).text()+")",D=[];D[0]=[],D[1]=[],D[0][0]=Math.round((0,b.default)(this).find("StartPos").eq(0).find("x").eq(0).text()*be[Ve].m_iCanvasWidth),D[0][1]=Math.round((0,b.default)(this).find("StartPos").eq(0).find("y").eq(0).text()*be[Ve].m_iCanvasHeight),D[1][0]=Math.round((0,b.default)(this).find("EndPos").eq(0).find("x").eq(0).text()*be[Ve].m_iCanvasWidth),D[1][1]=Math.round((0,b.default)(this).find("EndPos").eq(0).find("y").eq(0).text()*be[Ve].m_iCanvasHeight),D.length>0&&(M.push({szId:z,iLineType:ce,aPoint:D,szTips:Qe,iDirection:ie,iArrowType:Oe,szDrawColor:st}),be[Ve].setDrawStatus(!1))}),M.length>0&&this[Ve].setShapesInfoByType("Line",M),0}},{key:"JS_GetSnapLineInfo",value:function(){for(var ae=this,be="<?xml version='1.0' encoding='utf-8'?><SnapLineList>",E=this[Ve].getShapesInfoByType("Line"),Q=0,Ge=E.length;Q<Ge;Q++){be+="<SnapLine>",be+="<id>"+E[Q].szId+"</id>",be+="<LineTypeEx>"+E[Q].iLineType+"</LineTypeEx>",be+="<CustomType>0</CustomType><MoveChange>0</MoveChange><ArrowType>"+E[Q].iArrowType+"</ArrowType>",be+="<tips>"+E[Q].szTips+"</tips>";var H=E[Q].aPoint;be+="<StartPos><x>"+(H[0][0]/ae[Ve].m_iCanvasWidth).toFixed(6)+"</x><y>"+(H[0][1]/ae[Ve].m_iCanvasHeight).toFixed(6)+"</y></StartPos>",be+="<EndPos><x>"+(H[1][0]/ae[Ve].m_iCanvasWidth).toFixed(6)+"</x><y>"+(H[1][1]/ae[Ve].m_iCanvasHeight).toFixed(6)+"</y></EndPos>",be+="<LineSelected>false</LineSelected>",E[Q].aCrossArrowPoint.length>0&&(be+="<PDCArrow><Sp_x>"+(E[Q].aCrossArrowPoint[0][0]/ae[Ve].m_iCanvasWidth).toFixed(6)+"</Sp_x>",be+="<Sp_y>"+(E[Q].aCrossArrowPoint[0][1]/ae[Ve].m_iCanvasWidth).toFixed(6)+"</Sp_y>",be+="<Ep_x>"+(E[Q].aCrossArrowPoint[1][0]/ae[Ve].m_iCanvasWidth).toFixed(6)+"</Ep_x>",be+="<Ep_y>"+(E[Q].aCrossArrowPoint[1][1]/ae[Ve].m_iCanvasWidth).toFixed(6)+"</Ep_y></PDCArrow>"),be+="<PDCShowMark>false</PDCShowMark>";var _e=E[Q].szDrawColor.split(",")[0].split("(")[1],M=E[Q].szDrawColor.split(",")[1],z=E[Q].szDrawColor.split(",")[2].split(")")[0];be+="<color><r>"+(_e||"255")+"</r><g>"+(M||"255")+"</g><b>"+(z||"0")+"</b></color>",be+="</SnapLine>"}return be+="</SnapLineList>",be}},{key:"JS_GetSnapPointInfo",value:function(){return""}},{key:"JS_SelectShapeById",value:function(ae,be){return ae?(this[Ve].selectShapeById(ae,be),0):-1}},{key:"JS_DeleteChoosedShape",value:function(){var ae=this[Ve].getAllShapesInfo(),be=ae.length;if(be>0){for(var E=0;E<be;E++)if(ae[E].bChoosed)return this[Ve].deleteShape(E),ae[E].szId;return""}return""}},{key:"JS_SetSnapPointInfo",value:function(ae){var be=this,E=d.oTool.parseXmlFromStr(ae);if((0,b.default)(E).find("mode").eq(0).text()==="1"){var Q=(0,b.default)(E).find("id").eq(0).text(),Ge="rgb("+(0,b.default)(E).find("r").eq(0).text()+","+(0,b.default)(E).find("g").eq(0).text()+","+(0,b.default)(E).find("b").eq(0).text()+")";this[Ve].setShapeType("Point"),this[Ve].setDrawStatus(!0),this[Ve].setMaxShapeSupport(12),be[Ve].setCurrentShapeInfo({szId:Q,szDrawColor:Ge,iTranslucent:1})}else{var H=[];this[Ve].clearShapeByType("Point"),this[Ve].setMaxShapeSupport(12),this[Ve].setDrawStatus(!1),(0,b.default)(E).find("SnapPointList").length>0&&(0,b.default)(E).find("SnapPointList").eq(0).find("SnapPoint").each(function(){var _e=(0,b.default)(this).find("id").eq(0).text(),M="rgb("+(0,b.default)(this).find("r").eq(0).text()+","+(0,b.default)(this).find("g").eq(0).text()+","+(0,b.default)(this).find("b").eq(0).text()+")",z=[];z[0]=[],z[0][0]=Math.round((0,b.default)(this).find("positionX").eq(0).text()*be[Ve].m_iCanvasWidth),z[0][1]=Math.round((0,b.default)(this).find("positionY").eq(0).text()*be[Ve].m_iCanvasHeight),z.length>0&&H.push({szId:_e,aPoint:z,szDrawColor:M,iTranslucent:1})}),H.length>0&&this[Ve].setShapesInfoByType("Point",H)}return 0}},{key:"JS_FullScreenDisplay",value:function(ae){var be=this;if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)){var E=document.documentElement.clientWidth,Q=document.documentElement.clientHeight,Ge=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);Ge&&(E=E*2,Q=Q*2,be.oJSPlugin.find("."+be[fe].szId+"parent-wnd").eq(0).css({width:E,height:Q,"z-index":1e4}));var H=document.body;H=(0,b.default)("#"+be[fe].szId).find("canvas#"+be[fe].szId+"canvas0")[0];var _e="";E>=Q?(_e+="width:"+E+"px;",_e+="height:"+Q+"px;",_e+="-webkit-transform: none",_e+="-webkit-transform-origin: 0 0;",_e+="transform-origin: 0 0;"):(_e+="width:"+Q+"px;",_e+="height:"+E+"px;",_e+="-webkit-transform: rotate(90deg); transform: rotate(90deg);",_e+="-webkit-transform-origin: "+E/2+"px "+E/2+"px;",_e+="transform-origin: "+E/2+"px "+E/2+"px;"),_e+="position: fixed;top: 0;left: 0;z-index:10",H.style.cssText=_e,this[Hi]=ae}else{if(ae){var M=be.oJSPlugin.get(0);M.requestFullScreen?M.requestFullScreen():M.webkitRequestFullScreen?M.webkitRequestFullScreen():M.mozRequestFullScreen?M.mozRequestFullScreen():M.msRequestFullscreen?M.msRequestFullscreen():M.oRequestFullscreen&&M.oRequestFullscreen()}this[Hi]=ae}}},{key:"JS_CancelFullScreenDisplay",value:function(){var ae=this;if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)){var be=(0,b.default)("."+ae[fe].szId+"parent-wnd").parent().eq(0).width(),E=(0,b.default)("."+ae[fe].szId+"parent-wnd").parent().eq(0).height(),Q=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);Q&&(be=be*2,E=E*2,ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).css({width:be,height:E,"z-index":0}));var Ge=document.body;Ge=(0,b.default)("#"+ae[fe].szId).find("canvas#"+ae[fe].szId+"canvas0")[0];var H="";be>=E?(H+="width:"+be+"px;",H+="height:"+E+"px;",H+="-webkit-transform: none",H+="-webkit-transform-origin: 0 0;",H+="transform-origin: 0 0;"):(H+="width:"+E+"px;",H+="height:"+be+"px;",H+="-webkit-transform: rotate(90deg); transform: rotate(90deg);",H+="-webkit-transform-origin: "+be/2+"px "+be/2+"px;",H+="transform-origin: "+be/2+"px "+be/2+"px;"),Ge.style.cssText=H}else{if(ae.oJSPlugin.find("."+ae[fe].szId+"parent-wnd").eq(0).width()===(0,b.default)(window).width())return;document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()}this[Pi]=null,this[Hi]=!1}},{key:"JS_FullScreenSingle",value:function(ae){var be=this;if(be[Ie][ae].bPlay){var E=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||!1,Q=be.oJSPlugin.find("."+be[fe].szId+"parent-wnd").eq(0).children().eq(ae).get(0);if(!E)Q.requestFullScreen?Q.requestFullScreen():Q.webkitRequestFullScreen?Q.webkitRequestFullScreen():Q.mozRequestFullScreen&&Q.mozRequestFullScreen(),be[Pi]=be.oJSPlugin.find("."+be[fe].szId+"parent-wnd").eq(0).children().eq(ae);else{if(be.oJSPlugin.find("."+be[fe].szId+"parent-wnd").eq(0).width()===(0,b.default)(window).width())return;document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen(),be[Pi]=null,be[Hi]=!1}}}},{key:"JS_StartDownload",value:function(ae,be,E,Q){var Ge=(0,b.default)(d.oTool.parseXmlFromStr(Q)).find("playbackURI").eq(0).text(),H=ae+"?playbackURI="+Ge,_e=".mp4";ae.indexOf("picture/Streaming/tracks")>0&&(H=ae,_e=".jpg");var M=H.indexOf("&name=")+6,z=H.indexOf("&size=");return E=H.substring(M,z),(0,b.default)("body").append('<a id="jsplugin_download_a" href="'+H+'" download='+E+_e+'><li id="jsplugin_download_li"></li></a>'),(0,b.default)("#jsplugin_download_li").trigger("click"),(0,b.default)("#jsplugin_download_a").remove(),0}},{key:"JS_Resize",value:function(ae,be,E){var Q=this,Ge=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);Ge&&(ae=ae*2,be=be*2);var H=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||!1;this[Hi]&&H?(ae=(0,b.default)(window).width(),be=(0,b.default)(window).height(),Q.oJSPlugin.css({width:ae,height:be})):Q.oJSPlugin.css({width:Ge?ae/2:ae,height:Ge?be/2:be});var _e=document.body;_e=(0,b.default)("#"+Q[fe].szId).find("canvas#"+Q[fe].szId+"canvas0")[0];var M="";if(M+="width:"+ae+"px;",M+="height:"+be+"px;",M+="-webkit-transform: none;",M+="-webkit-transform-origin: 0 0;",M+="transform-origin: 0 0;",M+="z-index: 0;",_e.style.cssText=M,Ge){var z=document.body;z=(0,b.default)("#"+Q[fe].szId).find("canvas#"+Q[fe].szId+"canvas_draw0")[0];var ce="";ce+="width:"+ae+"px;",ce+="height:"+be+"px;",ce+="position:absolute; top:0; left:0; z-index:999;",z.style.cssText=ce,this.b3DZoom&&((0,b.default)("."+Q[fe].szId+"draw-window").unbind(),Q[Ve]=new S.ESCanvas(Q[fe].szId+"canvas_draw0",E||!1),Q[Ve].setShapeType("Rect"),Q[Ve].setDrawStyle("#ff0000","",0),Q[Ve].setDrawStatus(!0,function(Oe){Q[rt](Oe)}))}if(this[fe].iWidth=ae,this[fe].iHeight=be,this.iWidth=ae,this.iHeight=be,d.oTool.isFirefox())for(var ie=0;ie<Q[fe].iMaxSplit*Q[fe].iMaxSplit;ie++)Q[Ie][ie].oPlayCtrl&&Q[Ie][ie].oPlayCtrl.PlayM4_ClearCanvas();Q.updateWnd(),Q[Pi]&&H&&(ae=(0,b.default)(window).width(),be=(0,b.default)(window).height(),Q[Pi].css({width:ae,height:be}),Q[Pi].find("."+Q[fe].szId+"play-window").attr("width",ae),Q[Pi].find("."+Q[fe].szId+"play-window").attr("height",be),Q[Pi].find("."+Q[fe].szId+"draw-window").attr("width",ae-2),Q[Pi].find("."+Q[fe].szId+"draw-window").attr("height",be-2)),H||(Q[Pi]=null,Q[Hi]=!1),Q[Ve]&&(Q[Ve].resizeCanvas&&Q[Ve].resizeCanvas(),Q[Ve].canvasRedraw&&Q[Ve].canvasRedraw())}},{key:"JS_WndCreate",value:function(ae,be,E){var Q=this;Q.createWindows(be,E),this[Ve].updateCanvas(Q[fe].szId+"canvas_draw0"),this[Ve].clearAllShape(),ae===0?Q.oJSPlugin.hide():Q.oJSPlugin.show(),Q.EventCallback.windowEventSelect(0),Q.initEvent(),Q[Ci]=null}},{key:"JS_ExportDeviceConfig",value:function(ae){return(0,b.default)("body").append('<a id="jsplugin_download_a" href="'+ae+'"><li id="jsplugin_download_li"></li></a>'),(0,b.default)("#jsplugin_download_li").trigger("click"),(0,b.default)("#jsplugin_download_a").remove(),0}},{key:"JS_OpenFileBrowser",value:function(ae,be,E,Q,Ge){var H=this;H[Ci]=null;var _e=window.document.createElement("input");_e.type="file",be.toLowerCase()==="bmp"&&(_e.accept="image/bmp",_e.style.display="none",(0,b.default)("body").append(_e)),ae===0&&_e.setAttribute("webkitdirectory",""),_e.addEventListener("change",function(){ae===1?(H[Ci]=_e.files[0],E[Q]=_e.files[0].name,Ge&&Ge.$digest(function(){E[Q]=_e.files[0].name})):ae===0&&(H[Ci]=_e.files)});var M=document.createEvent("MouseEvents");M.that.initEvent("click",!0,!0),_e.dispatchEvent(M)}},{key:"JS_UploadFile",value:function(ae,be,E,Q){var Ge=this,H=0,_e=new XMLHttpRequest;return _e.onreadystatechange=function(){_e.readyState===4&&_e.status!==200&&(H=-1)},_e.open("put",ae,!1),_e.setRequestHeader("Content-Type",Q),_e.send(Ge[Ci]),H}},{key:"JS_StartAsynUpload",value:function(ae){var be=this,E=new XMLHttpRequest;return E.onreadystatechange=function(){E.readyState===4&&(be[Qi]=E.responseText)},E.open("put",ae,!0),E.send(be[Ci]),0}},{key:"JS_StopAsynUpload",value:function(){var ae=this;ae[Qi]=""}},{key:"JS_GetUploadErrorInfo",value:function(){var ae=this;return typeof ae[Qi]=="string"&&ae[Qi].length>0?ae[Qi]:""}},{key:"JS_StartUpgradeEx",value:function(ae,be){var E=this,Q=new Promise(function(Ge,H){if(!ae||!be)return H(),xe;E[Qi]=0;var _e=new XMLHttpRequest;_e.onreadystatechange=function(){if(_e.readyState===4)if(_e.status===200)E[Qi]=100,Ge();else{E[Qi]=1;var M=d.oTool.parseXmlFromStr(_e.responseText);(0,b.default)(M).find("subStatusCode").text()==="lowPrivilege"?H(403):H()}},_e.open("put",ae,!0),_e.send(E[Ci]),E[at]=be,setTimeout(function(){Ge()},3e3)});return Q}},{key:"JS_UpgradeStatus",value:function(){var ae=this;return ae[Qi]===100?0:ae[Qi]}},{key:"JS_UpgradeProgress",value:function(){var ae=this,be=0,E=new XMLHttpRequest;return E.onreadystatechange=function(){E.readyState===4&&E.status===200&&(be=parseInt((0,b.default)(d.oTool.parseXmlFromStr(E.responseText)).find("percent").text(),10))},E.open("get",ae[at],!1),E.send(null),ae[Qi]===100?100:be}},{key:"JS_StopUpgrade",value:function(){var ae=this;return ae[Ci]=null,0}},{key:"JS_ExportDeviceLog",value:function(ae,be){be="Log.txt";var E=[],Q=[];E=E.concat((0,b.default)(ae).find("searchMatchItem").toArray());for(var Ge=0;Ge<E.length;Ge++)Q[Ge]=[],Q[Ge][0]=(0,b.default)(E[Ge]).find("logtime").text().replace("T"," ").replace("Z",""),Q[Ge][1]=(0,b.default)(E[Ge]).find("majortype").text(),Q[Ge][2]=(0,b.default)(E[Ge]).find("minortype").text(),Q[Ge][3]=(0,b.default)(E[Ge]).find("channelid").text(),Q[Ge][4]=(0,b.default)(E[Ge]).find("userName").text(),Q[Ge][5]=(0,b.default)(E[Ge]).find("remoteaddress").text();var H=[];function _e(D){H.push(D);var Xe=D.slice("");if(/^[\u4e00-\u9fa5]/.test(D))for(var X=0;X<30-Xe.length*2;X++)H.push(" ");else for(var Ce=0;Ce<30-Xe.length;Ce++)H.push(" ")}_e(" "),_e((0,b.default)(ae).find("laLogTime").text()),_e((0,b.default)(ae).find("laLogMajorType").text()),_e((0,b.default)(ae).find("laLogMinorType").text()),_e((0,b.default)(ae).find("laLogChannel").text()),_e((0,b.default)(ae).find("laLogRemoteUser").text()),_e((0,b.default)(ae).find("laLogRemoteIP").text()),H.push(`\r
`);for(var M=0;M<Q.length;M++){var z=(M+1).toString();_e(z);for(var ce=0;ce<6;ce++)_e(Q[M][ce]);H.push(`\r
`)}H=H.join("");var ie=new Blob([H],{type:"text/plain"}),Oe=(window.URL||window.webkitURL).createObjectURL(ie),Qe=window.document.createElement("a");Qe.href=Oe,Qe.download=be;var st=document.createEvent("MouseEvents");st.that.initEvent("click",!0,!0),Qe.dispatchEvent(st)}},{key:"outCsv",value:function(ae,be,E,Q){for(var Ge="",H="",_e=0;_e<E.length;_e++)H+=(0,b.default)(ae).find(E[_e]).eq(0).text()+",";H=H.slice(0,-1),Ge+=H+`\r
`;for(var M=0;M<Q.length;M++){H="";for(var z=0;z<E.length;z++)H+='"'+Q[M][z]+'",';H.slice(0,H.length-1),Ge+=H+`\r
`}if(Ge!==""){var ce="";ce+=be;var ie="\uFEFF";if(window.navigator.msSaveOrOpenBlob){var Oe=ie+Ge,Qe=new Blob([decodeURIComponent(encodeURI(Oe))],{type:"data:text/csv;charset=utf-8,"});navigator.msSaveBlob(Qe,ce+".csv")}else{ie="data:text/csv;charset=utf-8,\uFEFF";var st=ie+Ge,D=encodeURI(st),Xe=document.createElement("a");Xe.setAttribute("href",D),Xe.setAttribute("download",ce+".csv"),document.body.appendChild(Xe),Xe.click()}}}},{key:"JS_ExportReport",value:function(ae,be,E){var Q=this,Ge=new Promise(function(H){var _e=[],M=[],z=(0,b.default)(ae).find("NameList").text().split(",");_e=_e.concat((0,b.default)(ae).find("tDataItem").toArray());for(var ce=0;ce<_e.length;ce++){M[ce]=[];for(var ie=0;ie<z.length;ie++)M[ce][ie]=(0,b.default)(_e[ce]).find(z[ie]).text(),z[ie]==="logtime"&&(M[ce][ie]=M[ce][ie].replace("T"," ").replace("Z",""))}var Oe=[];if(E===1)Q.outCsv(ae,be,z,M);else{var Qe=function(je){Oe.push(je);var mt=je.slice("");if(/^[\u4e00-\u9fa5]/.test(je))for(var gt=0;gt<30-mt.length*2;gt++)Oe.push(" ");else for(var Gt=0;Gt<30-mt.length;Gt++)Oe.push(" ")};Qe(" ");for(var st=0;st<z.length;st++)Qe((0,b.default)(ae).find(z[st]).eq(0).text());Oe.push(`\r
`);for(var D=0;D<M.length;D++){var Xe=(D+1).toString();Qe(Xe);for(var X=0;X<z.length;X++)Qe(M[D][X]);Oe.push(`\r
`)}Oe=Oe.join("");var Ce=void 0;Ce=new Blob([Oe],{type:"text/plain"});var ve=(window.URL||window.webkitURL).createObjectURL(Ce),Le=window.document.createElement("a");Le.href=ve,Le.download=be;var pe=document.createEvent("MouseEvents");pe.that.initEvent("click",!0,!0),Le.dispatchEvent(pe)}H()});return Ge}},{key:"JS_GetWndContainer",value:function(ae){var be=this;return ae<0||typeof ae>"u"||ae===null?-1:be.oJSPlugin.find("."+be[fe].szId+"parent-wnd").eq(0).children().eq(ae)[0]}},{key:"JS_GetWndStatus",value:function(ae){if(ae<0||typeof ae>"u"||ae===null)return-1;var be={bPlay:this[Ie][ae].bPlay,bSound:this[ot]===ae,bSelect:this[Ie][ae].bSelect,iRate:this[Ie][ae].iRate};return be}},{key:"JS_SelectWnd",value:function(ae){var be=this;be.oJSPlugin.find("."+be[fe].szId+"parent-wnd").eq(0).children().eq(ae).mousedown()}},{key:"JS_PlayWithImg",value:function(ae){var be=this;if(this[fe].iType===1){var E=(0,b.default)("#"+be[fe].szId+"canvas0"),Q=(0,b.default)("#"+be[fe].szId+"canvas0").width(),Ge=(0,b.default)("#"+be[fe].szId+"canvas0").height();E.hide();var H=(0,b.default)("#playImg0");H.show(),H.css({width:Q+"px",height:Ge+"px"}),H.attr("src",ae)}}},{key:"JS_SetCanFullScreen",value:function(ae){this[ft]=ae}},{key:"JS_OpenPlayerSDKPrintLog",value:function(ae){var be=this;be[Ie][ae].oPlayCtrl.PlayM4_OpenPlayerSDKPrintLog(!0)}},{key:"JS_DownloadYUVdata",value:function(ae){var be=this;be[Ie][ae].oPlayCtrl.PlayM4_DownloadYUVdata()}},{key:"JS_DownloadPCMdata",value:function(ae){var be=this;be[Ie][ae].oPlayCtrl.PlayM4_DownloadPCMdata()}},{key:"_JSPlayM4_GetFrameInfo",value:function(){var ae=this,be=ae[Ie][0].oPlayCtrl;return{width:be.nWidth,height:be.nHeight}}},{key:"_JSPlayM4_SetDisplayRegion",value:function(ae,be,E,Q){var Ge=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,H=arguments[5],_e=this,M=_e[Ie][0].oPlayCtrl;console.log("canvasInfo:",_e.iWidth,_e.iHeight),console.log("canvasW:"+M.nWidth+",canvasH:"+M.nHeight+",left:"+ae+",right:"+be+",top:"+E+",bottom:"+Q),H?_e[Ie][0].oPlayCtrl.PlayM4_SetDisplayRegion({left:ae*_e.iWidth/M.nHeight,top:E*_e.iHeight/M.nWidth,right:be*_e.iWidth/M.nHeight,bottom:Q*_e.iHeight/M.nWidth},Ge):_e[Ie][0].oPlayCtrl.PlayM4_SetDisplayRegion({left:ae*_e.iWidth/M.nWidth,top:E*_e.iHeight/M.nHeight,right:be*_e.iWidth/M.nWidth,bottom:Q*_e.iHeight/M.nHeight},Ge)}},{key:"_JSPlayM4_SetDisplayFrameData",value:function(ae,be,E,Q,Ge){var H=this;H[Ie][0].oPlayCtrl.oSuperRender.SR_DisplayFrameData(ae,be,E,Q,Ge)}},{key:"_JSPlayM4_SetRunTimeInfoCallBackEx",value:function(ae){var be=this;be.EventCallback&&typeof be.EventCallback.setRunTimeInfoCallback=="function"&&ae===1&&(console.log("PlayM4_SetRunTimeInfoCallBackEx 设置实时信息回调","解析模块",ae),be[Ie][0].oPlayCtrl.PlayM4_SetRunTimeInfoCallBackEx(ae,be.EventCallback.setRunTimeInfoCallback))}}]),ri}();return $t}();window.JSPluginV1=de,n.JSPluginV1=de},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.StreamClient=void 0;var c=function(){function _(oe,de){for(var xe=0;xe<de.length;xe++){var se=de[xe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(oe,se.key,se)}}return function(oe,de,xe){return de&&_(oe.prototype,de),xe&&_(oe,xe),oe}}(),d=o(2),u=o(6),k=o(7),P=o(8),S=o(11);function R(_,oe){if(!(_ instanceof oe))throw new TypeError("Cannot call a class as a function")}var b=function(){var _=Symbol("WEBSOCKET"),oe=Symbol("GETINDEX"),de=Symbol("PROTOCOLVERSION"),xe=Symbol("CIPHERSUITES"),se=new u.DirectDeviceCustom,Ae=new k.DirectDevice,qe=new P.LiveMedia,me=new S.LocalService,m=function(){function U(){R(this,U),this[de]="0.1",this[xe]=0,this[_]=[],this.ERRORS={},this[oe]=function(le){for(var re=-1,Pe=0,fe=this[_].length;Pe<fe;Pe++)if(this[_][Pe].id===le){re=Pe;break}return re}}return c(U,[{key:"openStream",value:function(re,Pe,fe,$e){var ot=!1;re.indexOf("[")>-1&&(ot=!0);var F=this,Ie=re.split("://"),Ve=Ie[0],yi="",Hi=7681,Pi=1,Ci=0,Qi=!1;if(ot)yi=Ie[1].split("]:")[0]+"]",Hi=Math.floor(Ie[1].split("]:")[1].split("/")[0]),Pi=Math.floor(Ie[1].split("]:")[1].split("/")[1]/100),Ci=Math.floor(Ie[1].split("]:")[1].split("/")[1]%100)-1;else{yi=Ie[1].split(":")[0],Hi=Math.floor(Ie[1].split(":")[1].split("/")[0]),Pi=Math.floor(Ie[1].split(":")[1].split("/")[1]/100),Ci=Math.floor(Ie[1].split(":")[1].split("/")[1]%100)-1;var at=Ie[1].split(":")[1].split("/")[2];at!==""&&at==="webSocketVideoCtrlProxy"&&(Qi=!0)}Pi===0&&(Ci=0),Pe=Pe||{};var pt="&sessionID=";Pe.token&&!Pe.playURL&&(pt="&token=");var rt=Pe.sessionID||Pe.session||(Pe.playURL?"":Pe.token)||"",We=new window.WebSocket(Ve+"://"+yi+":"+Hi+(Pe.mode?"/"+Pe.mode:"")+(Qi?"/webSocketVideoCtrlProxy":"")+"?version="+F[de]+"&cipherSuites="+F[xe]+pt+rt+(Pe.proxy?"&proxy="+Pe.proxy:""));We.binaryType="arraybuffer";var ft=(0,d.v4)(),$t=-1,ri=new Promise(function(zt,ae){We.onopen=function(){!Pe.playURL&&!Pe.sessionID&&!Pe.deviceSerial&&!Pe.token&&(F[_].push(se.createClientObject(We,ft,Pi,Ci)),zt(ft))},We.onmessage=function(be){if(typeof be.data=="string"){var E=JSON.parse(be.data),Q=F[oe](ft);if(E&&E.version&&E.cipherSuite){if(F[de]=E.version,F[xe]=parseInt(E.cipherSuite,10),E&&E.PKD&&E.rand)F[_].push(qe.createClientObject(We,ft,E.PKD,E.rand,Pe));else{var Ge="live://"+yi+":"+Hi+"/"+Pi+"/"+Ci;F[xe]===-1?F[_].push(me.createClientObject(We,ft,Ge,Pe)):F[_].push(Ae.createClientObject(We,ft,Ge))}zt(ft);return}if(E&&E.sdp){var H=Ae.getMediaFromSdp(E.sdp);fe({bHead:!0,buf:H})}if(E&&E.cmd&&E.cmd==="end"&&fe({type:"exception",cmd:E.cmd}),E&&E.statusString&&(E.statusString.toLowerCase()==="ok"&&F[_][Q].resolve&&F[_][Q].resolve(E),E.statusString.toLowerCase()!=="ok")){var _e=Ae.getError(E);Q>-1?F[_][Q].reject&&F[_][Q].reject(_e):ae(_e)}E&&E.errorCode&&fe(E)}else{var M={},z=new Uint8Array(be.data);if($t++,z.byteLength===64||z.byteLength===40){for(var ce=-1,ie=z.byteLength,Oe=0;Oe<ie;Oe++)if(z[Oe]===73&&z[Oe+1]===77&&z[Oe+2]===75&&z[Oe+3]===72){ce=Oe;break}if(ce!==-1){var Qe=z.slice(ce,ce+40);M={bHead:!0,buf:Qe}}else M={bHead:!1,buf:z};fe(M)}else $t>0&&(M={bHead:!1,buf:z},fe(M));z=null,M=null,be=null}},We.onclose=function(){for(var be=0,E=F[_].length;be<E;be++)if(F[_][be].id===ft){F[_][be].resolve(),F[_].splice(be,1),setTimeout(function(){$e()},200);break}ae()}});return ri}},{key:"startPlay",value:function(re,Pe,fe){var $e=this,ot=this[oe](re);Pe&&fe&&$e[de]==="0.1"&&(Pe=Pe.replace(/-/g,"").replace(/:/g,""),fe=fe.replace(/-/g,"").replace(/:/g,""));var F=new Promise(function(Ie,Ve){if(ot>-1){$e[_][ot].resolve=Ie,$e[_][ot].reject=Ve;var yi=null;!Pe||!fe?$e[_][ot].iCurChannel===0&&$e[de]==="0.1"?yi=se.zeroPlayCmd($e[_][ot].iCurChannel,$e[_][ot].iCurStream):$e[de]!=="0.1"?$e[xe]===0?yi=qe.playCmd($e[_][ot]):$e[xe]===1?yi=Ae.playCmd($e[_][ot].playURL):$e[xe]===-1&&(yi=me.playCmd($e[_][ot])):yi=se.playCmd($e[_][ot].iCurChannel,$e[_][ot].iCurStream):$e[de]!=="0.1"?$e[xe]===0?yi=qe.playbackCmd($e[_][ot],Pe,fe):$e[xe]===1?yi=Ae.playbackCmd(Pe,fe,$e[_][ot].playURL):$e[xe]===-1&&(yi=me.playbackCmd($e[_][ot],Pe,fe)):yi=se.playbackCmd(Pe,fe,$e[_][ot].iCurChannel,$e[_][ot].iCurStream),$e[_][ot].socket.send(yi),$e[de]==="0.1"&&Ie()}else $e[de]==="0.1"&&Ve()});return F}},{key:"singleFrame",value:function(){}},{key:"setPlayRate",value:function(re,Pe){var fe=this,$e=new Promise(function(ot,F){for(var Ie=0,Ve=fe[_].length;Ie<Ve;Ie++)if(fe[_][Ie].id===re)if(fe[de]==="0.1"){console.log("DirectDeviceCustom.playRateCmd:",Pe);var yi=se.playRateCmd(Pe);fe[_][Ie].socket.send(yi),ot();break}else{fe[_][Ie].resolve=ot,fe[_][Ie].reject=F,console.log("DirectDevice.playRateCmd:",Pe);var Hi=Ae.playRateCmd(Pe);fe[_][Ie].socket.send(Hi),ot()}});return $e}},{key:"seek",value:function(re,Pe,fe){var $e=this,ot=new Promise(function(F,Ie){for(var Ve=0,yi=$e[_].length;Ve<yi;Ve++)if($e[_][Ve].id===re){$e[_][Ve].resolve=F,$e[_][Ve].reject=Ie;var Hi=qe.seekCmd(Pe,fe);$e[_][Ve].socket.send(Hi)}});return ot}},{key:"pause",value:function(re){var Pe=this,fe=new Promise(function($e,ot){for(var F=0,Ie=Pe[_].length;F<Ie;F++)if(Pe[_][F].id===re)if(Pe[de]==="0.1"){var Ve=se.pauseCmd();Pe[_][F].socket.send(Ve),$e();break}else{Pe[_][F].resolve=$e,Pe[_][F].reject=ot;var yi=Ae.pauseCmd();Pe[_][F].socket.send(yi)}});return fe}},{key:"transmission",value:function(re,Pe){var fe=this,$e=new Promise(function(ot,F){for(var Ie=0,Ve=fe[_].length;Ie<Ve;Ie++)fe[_][Ie].id===re&&(fe[_][Ie].resolve=ot,fe[_][Ie].reject=F,fe[_][Ie].socket.send(Pe))});return $e}},{key:"resume",value:function(re){var Pe=this,fe=new Promise(function($e,ot){for(var F=0,Ie=Pe[_].length;F<Ie;F++)if(Pe[_][F].id===re)if(Pe[de]==="0.1"){var Ve=se.resumeCmd();Pe[_][F].socket.send(Ve),$e();break}else{Pe[_][F].resolve=$e,Pe[_][F].reject=ot;var yi=Ae.resumeCmd();Pe[_][F].socket.send(yi)}});return fe}},{key:"stop",value:function(re){var Pe=this,fe=new Promise(function($e,ot){if(!re)ot();else{for(var F=-1,Ie=0,Ve=Pe[_].length;Ie<Ve;Ie++)if(Pe[_][Ie].id===re){F=Ie,Pe[_][Ie].resolve=$e,Pe[_][Ie].socket.close(1e3,"CLOSE");break}F===-1&&ot()}});return fe}},{key:"stopAll",value:function(){var re=this,Pe=new Promise(function(fe,$e){for(var ot=0,F=re[_].length;ot<F;ot++)re[_][ot].socket.close(1e3,"CLOSE");console.log("停止所有流"),fe()});return Pe}}]),U}();return m}();n.StreamClient=b},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function k(P,S){for(var R=0;R<S.length;R++){var b=S[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(P,b.key,b)}}return function(P,S,R){return S&&k(P.prototype,S),R&&k(P,R),P}}();function d(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}var u=function(){var k=function(){function P(){d(this,P)}return c(P,[{key:"createClientObject",value:function(R,b,_,oe){return{socket:R,id:b,iCurChannel:_,iCurStream:oe,resolve:null,reject:null}}},{key:"zeroPlayCmd",value:function(R,b){var _=[0,0,0,44,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,R+1,0,0,0,b,0,0,4,0];return new Uint8Array(_)}},{key:"playCmd",value:function(R,b){var _=[0,0,0,44,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,R,0,0,0,b,0,0,4,0];return new Uint8Array(_)}},{key:"playbackCmd",value:function(R,b,_,oe){var de=R.split("T")[0],xe=R.split("T")[1],se="0"+parseInt(de.substring(0,4),10).toString(16),Ae=parseInt(de.substring(4,6),10),qe=parseInt(de.substring(6),10),me=parseInt(xe.substring(0,2),10),m=parseInt(xe.substring(2,4),10),U=parseInt(xe.substring(4,6),10),le=b.split("T")[0],re=b.split("T")[1],Pe="0"+parseInt(le.substring(0,4),10).toString(16),fe=parseInt(le.substring(4,6),10),$e=parseInt(re.substring(0,2),10),ot=parseInt(re.substring(2,4),10),F=parseInt(re.substring(4,6),10),Ie=[0,0,0,96,0,0,0,0,0,0,0,0,0,3,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,_,0,0,parseInt(se.substring(0,2),16),parseInt(se.substring(2,4),16),0,0,0,Ae,0,0,0,qe,0,0,0,me,0,0,0,m,0,0,0,U,0,0,parseInt(Pe.substring(0,2),16),parseInt(Pe.substring(2,4),16),0,0,0,fe,0,0,0,qe,0,0,0,$e,0,0,0,ot,0,0,0,F,0,0,0,0,0,0,0,0,oe,0,0,0];return new Uint8Array(Ie)}},{key:"playRateCmd",value:function(R){for(var b=(parseInt(R,10)>>>0).toString(16).toLocaleUpperCase().toString(16),_=b.length;_<8;_++)b="0"+b;for(var oe=[0,0,0,0],de=0,xe=b.length;de<xe;de=de+2)oe[Math.floor(de/2)]=parseInt(b.substring(de,de+2),16);var se=[0,0,0,36,0,0,0,0,0,0,0,0,0,3,1,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,oe[0],oe[1],oe[2],oe[3]];return new Uint8Array(se)}},{key:"pauseCmd",value:function(){var R=[0,0,0,32,0,0,0,0,0,0,0,0,0,3,1,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return new Uint8Array(R)}},{key:"resumeCmd",value:function(){var R=[0,0,0,32,0,0,0,0,0,0,0,0,0,3,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return new Uint8Array(R)}}]),P}();return k}();n.DirectDeviceCustom=u},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function R(b,_){for(var oe=0;oe<_.length;oe++){var de=_[oe];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(b,de.key,de)}}return function(b,_,oe){return _&&R(b.prototype,_),oe&&R(b,oe),b}}();function d(R,b){if(!(R instanceof b))throw new TypeError("Cannot call a class as a function")}var u=3001,k=3002,P=3003,S=function(){var R=function(){function b(){d(this,b)}return c(b,[{key:"createClientObject",value:function(oe,de,xe){return{socket:oe,id:de,playURL:xe,resolve:null,reject:null}}},{key:"getMediaFromSdp",value:function(oe){for(var de=oe.indexOf("MEDIAINFO=")+10,xe=oe.slice(de,de+80),se=[],Ae=0,qe=xe.length/2;Ae<qe;Ae++)se[Ae]=parseInt(xe.slice(Ae*2,Ae*2+2),16);return new Uint8Array(se)}},{key:"playCmd",value:function(oe){var de={sequence:0,cmd:"realplay",url:oe};return JSON.stringify(de)}},{key:"playbackCmd",value:function(oe,de,xe){var se={sequence:0,cmd:"playback",url:xe,startTime:oe,endTime:de};return JSON.stringify(se)}},{key:"playRateCmd",value:function(oe){var de={sequence:0,cmd:"changespeed",speed:oe};return JSON.stringify(de)}},{key:"pauseCmd",value:function(){var oe={sequence:0,cmd:"pause"};return JSON.stringify(oe)}},{key:"resumeCmd",value:function(){var oe={sequence:0,cmd:"resume"};return JSON.stringify(oe)}},{key:"getError",value:function(oe){var de=u;return oe&&(parseInt(oe.statusCode,10)===6&&oe.subStatusCode==="streamLimit"?de=k:parseInt(oe.statusCode,10)===4&&oe.subStatusCode==="badAuthorization"&&(de=P)),{iErrorNum:de,oError:oe}}}]),b}();return R}();n.DirectDevice=S},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.LiveMedia=void 0;var c=function(){function _(oe,de){for(var xe=0;xe<de.length;xe++){var se=de[xe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(oe,se.key,se)}}return function(oe,de,xe){return de&&_(oe.prototype,de),xe&&_(oe,xe),oe}}(),d=o(9),u=S(d),k=o(10),P=S(k);function S(_){return _&&_.__esModule?_:{default:_}}function R(_,oe){if(!(_ instanceof oe))throw new TypeError("Cannot call a class as a function")}var b=function(){var _=function(){function oe(){R(this,oe)}return c(oe,[{key:"createClientObject",value:function(xe,se,Ae,qe,me){var m=P.default.AES.encrypt(new Date().getTime().toString(),P.default.enc.Hex.parse("1234567891234567123456789123456712345678912345671234567891234567"),{mode:P.default.mode.CBC,iv:P.default.enc.Hex.parse("12345678912345671234567891234567"),padding:P.default.pad.Pkcs7}).ciphertext.toString();m.length<64&&(m=m+m);var U=P.default.AES.encrypt(new Date().getTime().toString(),P.default.enc.Hex.parse("12345678912345671234567891234567"),{mode:P.default.mode.CBC,iv:P.default.enc.Hex.parse("12345678912345671234567891234567"),padding:P.default.pad.Pkcs7}).ciphertext.toString();return{socket:xe,id:se,PKD:Ae,rand:qe,playURL:me.playURL||"",auth:me.auth||"",token:me.token||"",key:m,iv:U,resolve:null,reject:null}}},{key:"playCmd",value:function(xe){var se={sequence:0,cmd:"realplay",url:xe.playURL,key:u.default.encrypt(xe.iv+":"+xe.key,xe.PKD).cipher.split("?")[0],authorization:P.default.AES.encrypt(xe.rand+":"+xe.auth,P.default.enc.Hex.parse(xe.key),{mode:P.default.mode.CBC,iv:P.default.enc.Hex.parse(xe.iv),padding:P.default.pad.Pkcs7}).ciphertext.toString(),token:P.default.AES.encrypt(xe.token,P.default.enc.Hex.parse(xe.key),{mode:P.default.mode.CBC,iv:P.default.enc.Hex.parse(xe.iv),padding:P.default.pad.Pkcs7}).ciphertext.toString()};return JSON.stringify(se)}},{key:"playbackCmd",value:function(xe,se,Ae){var qe={sequence:0,cmd:"playback",url:xe.playURL,key:u.default.encrypt(xe.iv+":"+xe.key,xe.PKD).cipher.split("?")[0],authorization:P.default.AES.encrypt(xe.rand+":"+xe.auth,P.default.enc.Hex.parse(xe.key),{mode:P.default.mode.CBC,iv:P.default.enc.Hex.parse(xe.iv),padding:P.default.pad.Pkcs7}).ciphertext.toString(),token:P.default.AES.encrypt(xe.token,P.default.enc.Hex.parse(xe.key),{mode:P.default.mode.CBC,iv:P.default.enc.Hex.parse(xe.iv),padding:P.default.pad.Pkcs7}).ciphertext.toString(),startTime:se,endTime:Ae};return JSON.stringify(qe)}},{key:"seekCmd",value:function(xe,se){var Ae={sequence:0,cmd:"seek",startTime:xe,endTime:se};return JSON.stringify(Ae)}}]),oe}();return _}();n.LiveMedia=b},function(t,n,o){var c=typeof Symbol=="function"&&K(Symbol.iterator)==="symbol"?function(j){return K(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":K(j)},d;function u(j,W,ne){j!=null&&(typeof j=="number"?this.fromNumber(j,W,ne):W==null&&typeof j!="string"?this.fromString(j,256):this.fromString(j,W))}function k(){return new u(null)}function P(j,W,ne,he,et,Rt){var It=W&16383;for(W>>=14;--Rt>=0;){var on=this[j]&16383,Qt=this[j++]>>14,Ai=W*on+Qt*It,on=It*on+((Ai&16383)<<14)+ne[he]+et,et=(on>>28)+(Ai>>14)+W*Qt;ne[he++]=on&268435455}return et}u.prototype.am=P,d=28,u.prototype.DB=d,u.prototype.DM=(1<<d)-1,u.prototype.DV=1<<d;var S=52;u.prototype.FV=Math.pow(2,S),u.prototype.F1=S-d,u.prototype.F2=2*d-S;var R="0123456789abcdefghijklmnopqrstuvwxyz",b=[],_,oe;for(_=48,oe=0;oe<=9;++oe)b[_++]=oe;for(_=97,oe=10;oe<36;++oe)b[_++]=oe;for(_=65,oe=10;oe<36;++oe)b[_++]=oe;function de(j){return R.charAt(j)}function xe(j,W){var ne=b[j.charCodeAt(W)];return ne??-1}function se(j){for(var W=this.t-1;W>=0;--W)j[W]=this[W];j.t=this.t,j.s=this.s}function Ae(j){this.t=1,this.s=j<0?-1:0,j>0?this[0]=j:j<-1?this[0]=j+DV:this.t=0}function qe(j){var W=k();return W.fromInt(j),W}function me(j,W){var ne;if(W==16)ne=4;else if(W==8)ne=3;else if(W==256)ne=8;else if(W==2)ne=1;else if(W==32)ne=5;else if(W==4)ne=2;else{this.fromRadix(j,W);return}this.s=this.t=0;for(var he=j.length,et=!1,Rt=0;--he>=0;){var It=ne==8?j[he]&255:xe(j,he);It<0?j.charAt(he)=="-"&&(et=!0):(et=!1,Rt==0?this[this.t++]=It:Rt+ne>this.DB?(this[this.t-1]|=(It&(1<<this.DB-Rt)-1)<<Rt,this[this.t++]=It>>this.DB-Rt):this[this.t-1]|=It<<Rt,Rt+=ne,Rt>=this.DB&&(Rt-=this.DB))}ne==8&&j[0]&128&&(this.s=-1,Rt>0&&(this[this.t-1]|=(1<<this.DB-Rt)-1<<Rt)),this.clamp(),et&&u.ZERO.subTo(this,this)}function m(){for(var j=this.s&this.DM;this.t>0&&this[this.t-1]==j;)--this.t}function U(j){if(this.s<0)return"-"+this.negate().toString(j);if(j==16)j=4;else if(j==8)j=3;else if(j==2)j=1;else if(j==32)j=5;else if(j==64)j=6;else if(j==4)j=2;else return this.toRadix(j);var W=(1<<j)-1,ne,he=!1,et="",Rt=this.t,It=this.DB-Rt*this.DB%j;if(Rt-- >0)for(It<this.DB&&(ne=this[Rt]>>It)>0&&(he=!0,et=de(ne));Rt>=0;)It<j?(ne=(this[Rt]&(1<<It)-1)<<j-It,ne|=this[--Rt]>>(It+=this.DB-j)):(ne=this[Rt]>>(It-=j)&W,It<=0&&(It+=this.DB,--Rt)),ne>0&&(he=!0),he&&(et+=de(ne));return he?et:"0"}function le(){var j=k();return u.ZERO.subTo(this,j),j}function re(){return this.s<0?this.negate():this}function Pe(j){var ne=this.s-j.s;if(ne!=0)return ne;var W=this.t,ne=W-j.t;if(ne!=0)return ne;for(;--W>=0;)if((ne=this[W]-j[W])!=0)return ne;return 0}function fe(j){var W=1,ne;return(ne=j>>>16)!=0&&(j=ne,W+=16),(ne=j>>8)!=0&&(j=ne,W+=8),(ne=j>>4)!=0&&(j=ne,W+=4),(ne=j>>2)!=0&&(j=ne,W+=2),j>>1&&(W+=1),W}function $e(){return this.t<=0?0:this.DB*(this.t-1)+fe(this[this.t-1]^this.s&this.DM)}function ot(j,W){var ne;for(ne=this.t-1;ne>=0;--ne)W[ne+j]=this[ne];for(ne=j-1;ne>=0;--ne)W[ne]=0;W.t=this.t+j,W.s=this.s}function F(j,W){for(var ne=j;ne<this.t;++ne)W[ne-j]=this[ne];W.t=Math.max(this.t-j,0),W.s=this.s}function Ie(j,W){var ne=j%this.DB,he=this.DB-ne,et=(1<<he)-1,Rt=Math.floor(j/this.DB),It=this.s<<ne&this.DM,Qt;for(Qt=this.t-1;Qt>=0;--Qt)W[Qt+Rt+1]=this[Qt]>>he|It,It=(this[Qt]&et)<<ne;for(Qt=Rt-1;Qt>=0;--Qt)W[Qt]=0;W[Rt]=It,W.t=this.t+Rt+1,W.s=this.s,W.clamp()}function Ve(j,W){W.s=this.s;var ne=Math.floor(j/this.DB);if(ne>=this.t)W.t=0;else{var he=j%this.DB,et=this.DB-he,Rt=(1<<he)-1;W[0]=this[ne]>>he;for(var It=ne+1;It<this.t;++It)W[It-ne-1]|=(this[It]&Rt)<<et,W[It-ne]=this[It]>>he;he>0&&(W[this.t-ne-1]|=(this.s&Rt)<<et),W.t=this.t-ne,W.clamp()}}function yi(j,W){for(var ne=0,he=0,et=Math.min(j.t,this.t);ne<et;)he+=this[ne]-j[ne],W[ne++]=he&this.DM,he>>=this.DB;if(j.t<this.t){for(he-=j.s;ne<this.t;)he+=this[ne],W[ne++]=he&this.DM,he>>=this.DB;he+=this.s}else{for(he+=this.s;ne<j.t;)he-=j[ne],W[ne++]=he&this.DM,he>>=this.DB;he-=j.s}W.s=he<0?-1:0,he<-1?W[ne++]=this.DV+he:he>0&&(W[ne++]=he),W.t=ne,W.clamp()}function Hi(j,W){var ne=this.abs(),he=j.abs(),et=ne.t;for(W.t=et+he.t;--et>=0;)W[et]=0;for(et=0;et<he.t;++et)W[et+ne.t]=ne.am(0,he[et],W,et,0,ne.t);W.s=0,W.clamp(),this.s!=j.s&&u.ZERO.subTo(W,W)}function Pi(j){for(var W=this.abs(),ne=j.t=2*W.t;--ne>=0;)j[ne]=0;for(ne=0;ne<W.t-1;++ne){var he=W.am(ne,W[ne],j,2*ne,0,1);(j[ne+W.t]+=W.am(ne+1,2*W[ne],j,2*ne+1,he,W.t-ne-1))>=W.DV&&(j[ne+W.t]-=W.DV,j[ne+W.t+1]=1)}j.t>0&&(j[j.t-1]+=W.am(ne,W[ne],j,2*ne,0,1)),j.s=0,j.clamp()}function Ci(j,W,ne){var he=j.abs();if(!(he.t<=0)){var et=this.abs();if(et.t<he.t)W!=null&&W.fromInt(0),ne!=null&&this.copyTo(ne);else{ne==null&&(ne=k());var Rt=k(),It=this.s,j=j.s,Qt=this.DB-fe(he[he.t-1]);if(Qt>0?(he.lShiftTo(Qt,Rt),et.lShiftTo(Qt,ne)):(he.copyTo(Rt),et.copyTo(ne)),he=Rt.t,et=Rt[he-1],et!=0){var on=et*(1<<this.F1)+(he>1?Rt[he-2]>>this.F2:0),Ai=this.FV/on,on=(1<<this.F1)/on,Ei=1<<this.F2,Xi=ne.t,wi=Xi-he,B=W??k();for(Rt.dlShiftTo(wi,B),ne.compareTo(B)>=0&&(ne[ne.t++]=1,ne.subTo(B,ne)),u.ONE.dlShiftTo(he,B),B.subTo(Rt,Rt);Rt.t<he;)Rt[Rt.t++]=0;for(;--wi>=0;){var p=ne[--Xi]==et?this.DM:Math.floor(ne[Xi]*Ai+(ne[Xi-1]+Ei)*on);if((ne[Xi]+=Rt.am(0,p,ne,wi,0,he))<p)for(Rt.dlShiftTo(wi,B),ne.subTo(B,ne);ne[Xi]<--p;)ne.subTo(B,ne)}W!=null&&(ne.drShiftTo(he,W),It!=j&&u.ZERO.subTo(W,W)),ne.t=he,ne.clamp(),Qt>0&&ne.rShiftTo(Qt,ne),It<0&&u.ZERO.subTo(ne,ne)}}}}function Qi(j){var W=k();return this.abs().divRemTo(j,null,W),this.s<0&&W.compareTo(u.ZERO)>0&&j.subTo(W,W),W}function at(j){this.m=j}function pt(j){return j.s<0||j.compareTo(this.m)>=0?j.mod(this.m):j}function rt(j){return j}function We(j){j.divRemTo(this.m,null,j)}function ft(j,W,ne){j.multiplyTo(W,ne),this.reduce(ne)}function $t(j,W){j.squareTo(W),this.reduce(W)}at.prototype.convert=pt,at.prototype.revert=rt,at.prototype.reduce=We,at.prototype.mulTo=ft,at.prototype.sqrTo=$t;function ri(){if(this.t<1)return 0;var j=this[0];if(!(j&1))return 0;var W=j&3,W=W*(2-(j&15)*W)&15,W=W*(2-(j&255)*W)&255,W=W*(2-((j&65535)*W&65535))&65535,W=W*(2-j*W%this.DV)%this.DV;return W>0?this.DV-W:-W}function zt(j){this.m=j,this.mp=j.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<j.DB-15)-1,this.mt2=2*j.t}function ae(j){var W=k();return j.abs().dlShiftTo(this.m.t,W),W.divRemTo(this.m,null,W),j.s<0&&W.compareTo(u.ZERO)>0&&this.m.subTo(W,W),W}function be(j){var W=k();return j.copyTo(W),this.reduce(W),W}function E(j){for(;j.t<=this.mt2;)j[j.t++]=0;for(var W=0;W<this.m.t;++W){var he=j[W]&32767,ne=he*this.mpl+((he*this.mph+(j[W]>>15)*this.mpl&this.um)<<15)&j.DM,he=W+this.m.t;for(j[he]+=this.m.am(0,ne,j,W,0,this.m.t);j[he]>=j.DV;)j[he]-=j.DV,j[++he]++}j.clamp(),j.drShiftTo(this.m.t,j),j.compareTo(this.m)>=0&&j.subTo(this.m,j)}function Q(j,W){j.squareTo(W),this.reduce(W)}function Ge(j,W,ne){j.multiplyTo(W,ne),this.reduce(ne)}zt.prototype.convert=ae,zt.prototype.revert=be,zt.prototype.reduce=E,zt.prototype.mulTo=Ge,zt.prototype.sqrTo=Q;function H(){return(this.t>0?this[0]&1:this.s)==0}function _e(j,W){if(j>4294967295||j<1)return u.ONE;var ne=k(),he=k(),et=W.convert(this),Rt=fe(j)-1;for(et.copyTo(ne);--Rt>=0;)if(W.sqrTo(ne,he),(j&1<<Rt)>0)W.mulTo(he,et,ne);else var It=ne,ne=he,he=It;return W.revert(ne)}function M(j,W){var ne;return ne=j<256||W.isEven()?new at(W):new zt(W),this.exp(j,ne)}u.prototype.copyTo=se,u.prototype.fromInt=Ae,u.prototype.fromString=me,u.prototype.clamp=m,u.prototype.dlShiftTo=ot,u.prototype.drShiftTo=F,u.prototype.lShiftTo=Ie,u.prototype.rShiftTo=Ve,u.prototype.subTo=yi,u.prototype.multiplyTo=Hi,u.prototype.squareTo=Pi,u.prototype.divRemTo=Ci,u.prototype.invDigit=ri,u.prototype.isEven=H,u.prototype.exp=_e,u.prototype.toString=U,u.prototype.negate=le,u.prototype.abs=re,u.prototype.compareTo=Pe,u.prototype.bitLength=$e,u.prototype.mod=Qi,u.prototype.modPowInt=M,u.ZERO=qe(0),u.ONE=qe(1);function z(){var j=k();return this.copyTo(j),j}function ce(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ie(){return this.t==0?this.s:this[0]<<24>>24}function Oe(){return this.t==0?this.s:this[0]<<16>>16}function Qe(j){return Math.floor(Math.LN2*this.DB/Math.log(j))}function st(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function D(j){if(j==null&&(j=10),this.signum()==0||j<2||j>36)return"0";var W=this.chunkSize(j),W=Math.pow(j,W),ne=qe(W),he=k(),et=k(),Rt="";for(this.divRemTo(ne,he,et);he.signum()>0;)Rt=(W+et.intValue()).toString(j).substr(1)+Rt,he.divRemTo(ne,he,et);return et.intValue().toString(j)+Rt}function Xe(j,W){this.fromInt(0),W==null&&(W=10);for(var ne=this.chunkSize(W),he=Math.pow(W,ne),et=!1,Rt=0,It=0,Qt=0;Qt<j.length;++Qt){var Ai=xe(j,Qt);Ai<0?j.charAt(Qt)=="-"&&this.signum()==0&&(et=!0):(It=W*It+Ai,++Rt>=ne&&(this.dMultiply(he),this.dAddOffset(It,0),It=Rt=0))}Rt>0&&(this.dMultiply(Math.pow(W,Rt)),this.dAddOffset(It,0)),et&&u.ZERO.subTo(this,this)}function X(j,W,ne){if(typeof W=="number")if(j<2)this.fromInt(1);else for(this.fromNumber(j,ne),this.testBit(j-1)||this.bitwiseTo(u.ONE.shiftLeft(j-1),gt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(W);)this.dAddOffset(2,0),this.bitLength()>j&&this.subTo(u.ONE.shiftLeft(j-1),this);else{var ne=[],he=j&7;ne.length=(j>>3)+1,W.nextBytes(ne),he>0?ne[0]&=(1<<he)-1:ne[0]=0,this.fromString(ne,256)}}function Ce(){var j=this.t,W=[];W[0]=this.s;var ne=this.DB-j*this.DB%8,he,et=0;if(j-- >0)for(ne<this.DB&&(he=this[j]>>ne)!=(this.s&this.DM)>>ne&&(W[et++]=he|this.s<<this.DB-ne);j>=0;)ne<8?(he=(this[j]&(1<<ne)-1)<<8-ne,he|=this[--j]>>(ne+=this.DB-8)):(he=this[j]>>(ne-=8)&255,ne<=0&&(ne+=this.DB,--j)),he&128&&(he|=-256),et==0&&(this.s&128)!=(he&128)&&++et,(et>0||he!=this.s)&&(W[et++]=he);return W}function ve(j){return this.compareTo(j)==0}function Le(j){return this.compareTo(j)<0?this:j}function pe(j){return this.compareTo(j)>0?this:j}function ee(j,W,ne){var he,et,Rt=Math.min(j.t,this.t);for(he=0;he<Rt;++he)ne[he]=W(this[he],j[he]);if(j.t<this.t){for(et=j.s&this.DM,he=Rt;he<this.t;++he)ne[he]=W(this[he],et);ne.t=this.t}else{for(et=this.s&this.DM,he=Rt;he<j.t;++he)ne[he]=W(et,j[he]);ne.t=j.t}ne.s=W(this.s,j.s),ne.clamp()}function je(j,W){return j&W}function mt(j){var W=k();return this.bitwiseTo(j,je,W),W}function gt(j,W){return j|W}function Gt(j){var W=k();return this.bitwiseTo(j,gt,W),W}function li(j,W){return j^W}function Oi(j){var W=k();return this.bitwiseTo(j,li,W),W}function ge(j,W){return j&~W}function Ji(j){var W=k();return this.bitwiseTo(j,ge,W),W}function kt(){for(var j=k(),W=0;W<this.t;++W)j[W]=this.DM&~this[W];return j.t=this.t,j.s=~this.s,j}function Lt(j){var W=k();return j<0?this.rShiftTo(-j,W):this.lShiftTo(j,W),W}function Tt(j){var W=k();return j<0?this.lShiftTo(-j,W):this.rShiftTo(j,W),W}function jt(j){if(j==0)return-1;var W=0;return!(j&65535)&&(j>>=16,W+=16),!(j&255)&&(j>>=8,W+=8),!(j&15)&&(j>>=4,W+=4),!(j&3)&&(j>>=2,W+=2),!(j&1)&&++W,W}function Dt(){for(var j=0;j<this.t;++j)if(this[j]!=0)return j*this.DB+jt(this[j]);return this.s<0?this.t*this.DB:-1}function Ft(j){for(var W=0;j!=0;)j&=j-1,++W;return W}function Kt(){for(var j=0,W=this.s&this.DM,ne=0;ne<this.t;++ne)j+=Ft(this[ne]^W);return j}function wt(j){var W=Math.floor(j/this.DB);return W>=this.t?this.s!=0:(this[W]&1<<j%this.DB)!=0}function si(j,W){var ne=u.ONE.shiftLeft(j);return this.bitwiseTo(ne,W,ne),ne}function ht(j){return this.changeBit(j,gt)}function Ii(j){return this.changeBit(j,ge)}function ji(j){return this.changeBit(j,li)}function Zi(j,W){for(var ne=0,he=0,et=Math.min(j.t,this.t);ne<et;)he+=this[ne]+j[ne],W[ne++]=he&this.DM,he>>=this.DB;if(j.t<this.t){for(he+=j.s;ne<this.t;)he+=this[ne],W[ne++]=he&this.DM,he>>=this.DB;he+=this.s}else{for(he+=this.s;ne<j.t;)he+=j[ne],W[ne++]=he&this.DM,he>>=this.DB;he+=j.s}W.s=he<0?-1:0,he>0?W[ne++]=he:he<-1&&(W[ne++]=this.DV+he),W.t=ne,W.clamp()}function pi(j){var W=k();return this.addTo(j,W),W}function sn(j){var W=k();return this.subTo(j,W),W}function ci(j){var W=k();return this.multiplyTo(j,W),W}function Ut(){var j=k();return this.squareTo(j),j}function V(j){var W=k();return this.divRemTo(j,W,null),W}function w(j){var W=k();return this.divRemTo(j,null,W),W}function N(j){var W=k(),ne=k();return this.divRemTo(j,W,ne),[W,ne]}function T(j){this[this.t]=this.am(0,j-1,this,0,0,this.t),++this.t,this.clamp()}function we(j,W){if(j!=0){for(;this.t<=W;)this[this.t++]=0;for(this[W]+=j;this[W]>=this.DV;)this[W]-=this.DV,++W>=this.t&&(this[this.t++]=0),++this[W]}}function Se(){}function Ne(j){return j}function Ye(j,W,ne){j.multiplyTo(W,ne)}function bt(j,W){j.squareTo(W)}Se.prototype.convert=Ne,Se.prototype.revert=Ne,Se.prototype.mulTo=Ye,Se.prototype.sqrTo=bt;function ni(j){return this.exp(j,new Se)}function Zt(j,W,ne){var he=Math.min(this.t+j.t,W);for(ne.s=0,ne.t=he;he>0;)ne[--he]=0;var et;for(et=ne.t-this.t;he<et;++he)ne[he+this.t]=this.am(0,j[he],ne,he,0,this.t);for(et=Math.min(j.t,W);he<et;++he)this.am(0,j[he],ne,he,0,W-he);ne.clamp()}function Me(j,W,ne){--W;var he=ne.t=this.t+j.t-W;for(ne.s=0;--he>=0;)ne[he]=0;for(he=Math.max(W-this.t,0);he<j.t;++he)ne[this.t+he-W]=this.am(W-he,j[he],ne,0,0,this.t+he-W);ne.clamp(),ne.drShiftTo(1,ne)}function dt(j){this.r2=k(),this.q3=k(),u.ONE.dlShiftTo(2*j.t,this.r2),this.mu=this.r2.divide(j),this.m=j}function ai(j){if(j.s<0||j.t>2*this.m.t)return j.mod(this.m);if(j.compareTo(this.m)<0)return j;var W=k();return j.copyTo(W),this.reduce(W),W}function Fi(j){return j}function di(j){for(j.drShiftTo(this.m.t-1,this.r2),j.t>this.m.t+1&&(j.t=this.m.t+1,j.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);j.compareTo(this.r2)<0;)j.dAddOffset(1,this.m.t+1);for(j.subTo(this.r2,j);j.compareTo(this.m)>=0;)j.subTo(this.m,j)}function gi(j,W){j.squareTo(W),this.reduce(W)}function Ki(j,W,ne){j.multiplyTo(W,ne),this.reduce(ne)}dt.prototype.convert=ai,dt.prototype.revert=Fi,dt.prototype.reduce=di,dt.prototype.mulTo=Ki,dt.prototype.sqrTo=gi;function Si(j,W){var ne=j.bitLength(),he,et=qe(1),Rt;if(ne<=0)return et;he=ne<18?1:ne<48?3:ne<144?4:ne<768?5:6,Rt=ne<8?new at(W):W.isEven()?new dt(W):new zt(W);var It=[],Qt=3,Ai=he-1,on=(1<<he)-1;if(It[1]=Rt.convert(this),he>1)for(ne=k(),Rt.sqrTo(It[1],ne);Qt<=on;)It[Qt]=k(),Rt.mulTo(ne,It[Qt-2],It[Qt]),Qt+=2;for(var Ei=j.t-1,Xi,wi=!0,B=k(),ne=fe(j[Ei])-1;Ei>=0;){for(ne>=Ai?Xi=j[Ei]>>ne-Ai&on:(Xi=(j[Ei]&(1<<ne+1)-1)<<Ai-ne,Ei>0&&(Xi|=j[Ei-1]>>this.DB+ne-Ai)),Qt=he;!(Xi&1);)Xi>>=1,--Qt;if((ne-=Qt)<0&&(ne+=this.DB,--Ei),wi)It[Xi].copyTo(et),wi=!1;else{for(;Qt>1;)Rt.sqrTo(et,B),Rt.sqrTo(B,et),Qt-=2;Qt>0?Rt.sqrTo(et,B):(Qt=et,et=B,B=Qt),Rt.mulTo(B,It[Xi],et)}for(;Ei>=0&&!(j[Ei]&1<<ne);)Rt.sqrTo(et,B),Qt=et,et=B,B=Qt,--ne<0&&(ne=this.DB-1,--Ei)}return Rt.revert(et)}function Ht(ne){var W=this.s<0?this.negate():this.clone(),ne=ne.s<0?ne.negate():ne.clone();if(W.compareTo(ne)<0)var he=W,W=ne,ne=he;var he=W.getLowestSetBit(),et=ne.getLowestSetBit();if(et<0)return W;for(he<et&&(et=he),et>0&&(W.rShiftTo(et,W),ne.rShiftTo(et,ne));W.signum()>0;)(he=W.getLowestSetBit())>0&&W.rShiftTo(he,W),(he=ne.getLowestSetBit())>0&&ne.rShiftTo(he,ne),W.compareTo(ne)>=0?(W.subTo(ne,W),W.rShiftTo(1,W)):(ne.subTo(W,ne),ne.rShiftTo(1,ne));return et>0&&ne.lShiftTo(et,ne),ne}function qt(j){if(j<=0)return 0;var W=this.DV%j,ne=this.s<0?j-1:0;if(this.t>0)if(W==0)ne=this[0]%j;else for(var he=this.t-1;he>=0;--he)ne=(W*ne+this[he])%j;return ne}function vi(j){var W=j.isEven();if(this.isEven()&&W||j.signum()==0)return u.ZERO;for(var ne=j.clone(),he=this.clone(),et=qe(1),Rt=qe(0),It=qe(0),Qt=qe(1);ne.signum()!=0;){for(;ne.isEven();)ne.rShiftTo(1,ne),W?((!et.isEven()||!Rt.isEven())&&(et.addTo(this,et),Rt.subTo(j,Rt)),et.rShiftTo(1,et)):Rt.isEven()||Rt.subTo(j,Rt),Rt.rShiftTo(1,Rt);for(;he.isEven();)he.rShiftTo(1,he),W?((!It.isEven()||!Qt.isEven())&&(It.addTo(this,It),Qt.subTo(j,Qt)),It.rShiftTo(1,It)):Qt.isEven()||Qt.subTo(j,Qt),Qt.rShiftTo(1,Qt);ne.compareTo(he)>=0?(ne.subTo(he,ne),W&&et.subTo(It,et),Rt.subTo(Qt,Rt)):(he.subTo(ne,he),W&&It.subTo(et,It),Qt.subTo(Rt,Qt))}if(he.compareTo(u.ONE)!=0)return u.ZERO;if(Qt.compareTo(j)>=0)return Qt.subtract(j);if(Qt.signum()<0)Qt.addTo(j,Qt);else return Qt;return Qt.signum()<0?Qt.add(j):Qt}var rn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],En=67108864/rn[rn.length-1];function an(j){var W,ne=this.abs();if(ne.t==1&&ne[0]<=rn[rn.length-1]){for(W=0;W<rn.length;++W)if(ne[0]==rn[W])return!0;return!1}if(ne.isEven())return!1;for(W=1;W<rn.length;){for(var he=rn[W],et=W+1;et<rn.length&&he<En;)he*=rn[et++];for(he=ne.modInt(he);W<et;)if(he%rn[W++]==0)return!1}return ne.millerRabin(j)}function cn(et){var W=this.subtract(u.ONE),ne=W.getLowestSetBit();if(ne<=0)return!1;var he=W.shiftRight(ne),et=et+1>>1;et>rn.length&&(et=rn.length);for(var Rt=k(),It=0;It<et;++It){Rt.fromInt(rn[Math.floor(Math.random()*rn.length)]);var Qt=Rt.modPow(he,this);if(Qt.compareTo(u.ONE)!=0&&Qt.compareTo(W)!=0){for(var Ai=1;Ai++<ne&&Qt.compareTo(W)!=0;)if(Qt=Qt.modPowInt(2,this),Qt.compareTo(u.ONE)==0)return!1;if(Qt.compareTo(W)!=0)return!1}}return!0}u.prototype.chunkSize=Qe,u.prototype.toRadix=D,u.prototype.fromRadix=Xe,u.prototype.fromNumber=X,u.prototype.bitwiseTo=ee,u.prototype.changeBit=si,u.prototype.addTo=Zi,u.prototype.dMultiply=T,u.prototype.dAddOffset=we,u.prototype.multiplyLowerTo=Zt,u.prototype.multiplyUpperTo=Me,u.prototype.modInt=qt,u.prototype.millerRabin=cn,u.prototype.clone=z,u.prototype.intValue=ce,u.prototype.byteValue=ie,u.prototype.shortValue=Oe,u.prototype.signum=st,u.prototype.toByteArray=Ce,u.prototype.equals=ve,u.prototype.min=Le,u.prototype.max=pe,u.prototype.and=mt,u.prototype.or=Gt,u.prototype.xor=Oi,u.prototype.andNot=Ji,u.prototype.not=kt,u.prototype.shiftLeft=Lt,u.prototype.shiftRight=Tt,u.prototype.getLowestSetBit=Dt,u.prototype.bitCount=Kt,u.prototype.testBit=wt,u.prototype.setBit=ht,u.prototype.clearBit=Ii,u.prototype.flipBit=ji,u.prototype.add=pi,u.prototype.subtract=sn,u.prototype.multiply=ci,u.prototype.divide=V,u.prototype.remainder=w,u.prototype.divideAndRemainder=N,u.prototype.modPow=Si,u.prototype.modInverse=vi,u.prototype.pow=ni,u.prototype.gcd=Ht,u.prototype.isProbablePrime=an,u.prototype.square=Ut,function(j,W,ne,he,et,Rt,It){function Qt(Ei){var Xi,wi,B=this,p=Ei.length,A=0,Y=B.i=B.j=B.m=0;for(B.S=[],B.c=[],p||(Ei=[p++]);A<ne;)B.S[A]=A++;for(A=0;A<ne;A++)Xi=B.S[A],Y=Y+Xi+Ei[A%p]&ne-1,wi=B.S[Y],B.S[A]=wi,B.S[Y]=Xi;B.g=function(Te){var Ze=B.S,Ke=B.i+1&ne-1,vt=Ze[Ke],Et=B.j+vt&ne-1,Nt=Ze[Et];Ze[Ke]=Nt,Ze[Et]=vt;for(var Ri=Ze[vt+Nt&ne-1];--Te;)Ke=Ke+1&ne-1,vt=Ze[Ke],Et=Et+vt&ne-1,Nt=Ze[Et],Ze[Ke]=Nt,Ze[Et]=vt,Ri=Ri*ne+Ze[vt+Nt&ne-1];return B.i=Ke,B.j=Et,Ri},B.g(ne)}function Ai(Ei,Xi,wi,B,p){if(wi=[],p=typeof Ei>"u"?"undefined":c(Ei),Xi&&p=="object"){for(B in Ei)if(B.indexOf("S")<5)try{wi.push(Ai(Ei[B],Xi-1))}catch{}}return wi.length?wi:Ei+(p!="string"?"\0":"")}function on(Ei,Xi,wi,B){for(Ei+="",B=wi=0;B<Ei.length;B++){var p=Xi,A=B&ne-1,Y=(wi^=Xi[B&ne-1]*19)+Ei.charCodeAt(B);p[A]=Y&ne-1}Ei="";for(B in Xi)Ei+=String.fromCharCode(Xi[B]);return Ei}W.seedrandom=function(p,Xi){var wi=[],B,p=on(Ai(Xi?[p,j]:arguments.length?p:[new Date().getTime(),j,window],3),wi);return B=new Qt(wi),on(B.S,j),W.random=function(){for(var A=B.g(he),Y=It,Te=0;A<et;)A=(A+Te)*ne,Y*=ne,Te=B.g(1);for(;A>=Rt;)A/=2,Y/=2,Te>>>=1;return(A+Te)/Y},p},It=W.pow(ne,he),et=W.pow(2,et),Rt=et*2,on(W.random(),j)}([],Math,256,6,52);function Rn(){}function fn(j){var W;for(W=0;W<j.length;W++)j[W]=Math.floor(Math.random()*256)}Rn.prototype.nextBytes=fn;function xn(){this.j=this.i=0,this.S=[]}function tr(j){var W,ne,he;for(W=0;W<256;++W)this.S[W]=W;for(W=ne=0;W<256;++W)ne=ne+this.S[W]+j[W%j.length]&255,he=this.S[W],this.S[W]=this.S[ne],this.S[ne]=he;this.j=this.i=0}function $n(){var j;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,j=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=j,this.S[j+this.S[this.i]&255]}xn.prototype.init=tr,xn.prototype.next=$n;function Tr(){return new xn}var jn=256,wr,Er,Qn;function Un(j){Er[Qn++]^=j&255,Er[Qn++]^=j>>8&255,Er[Qn++]^=j>>16&255,Er[Qn++]^=j>>24&255,Qn>=jn&&(Qn-=jn)}function ar(){Un(new Date().getTime())}if(Er==null){Er=[],Qn=0;for(var Sa;Qn<jn;)Sa=Math.floor(65536*Math.random()),Er[Qn++]=Sa>>>8,Er[Qn++]=Sa&255;Qn=0,ar()}function Gr(){if(wr==null){for(ar(),wr=Tr(),wr.init(Er),Qn=0;Qn<Er.length;++Qn)Er[Qn]=0;Qn=0}return wr.next()}function br(j){var W;for(W=0;W<j.length;++W)j[W]=Gr()}function ea(){}ea.prototype.nextBytes=br;function Fa(j){function W(he,et){var Rt=(he&65535)+(et&65535);return(he>>16)+(et>>16)+(Rt>>16)<<16|Rt&65535}function ne(he,et){return he>>>et|he<<32-et}return j=function(he){for(var he=he.replace(/\r\n/g,`
`),et="",Rt=0;Rt<he.length;Rt++){var It=he.charCodeAt(Rt);It<128?et+=String.fromCharCode(It):(It>127&&It<2048?et+=String.fromCharCode(It>>6|192):(et+=String.fromCharCode(It>>12|224),et+=String.fromCharCode(It>>6&63|128)),et+=String.fromCharCode(It&63|128))}return et}(j),function(he){for(var et="",Rt=0;Rt<he.length*4;Rt++)et+="0123456789abcdef".charAt(he[Rt>>2]>>(3-Rt%4)*8+4&15)+"0123456789abcdef".charAt(he[Rt>>2]>>(3-Rt%4)*8&15);return et}(function(he,et){var Rt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],It=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Qt=Array(64),Ai,on,Ei,Xi,wi,B,p,A,Y,Te,Ze,Ke;for(he[et>>5]|=128<<24-et%32,he[(et+64>>9<<4)+15]=et,Y=0;Y<he.length;Y+=16){for(Ai=It[0],on=It[1],Ei=It[2],Xi=It[3],wi=It[4],B=It[5],p=It[6],A=It[7],Te=0;Te<64;Te++)Qt[Te]=Te<16?he[Te+Y]:W(W(W(ne(Qt[Te-2],17)^ne(Qt[Te-2],19)^Qt[Te-2]>>>10,Qt[Te-7]),ne(Qt[Te-15],7)^ne(Qt[Te-15],18)^Qt[Te-15]>>>3),Qt[Te-16]),Ze=W(W(W(W(A,ne(wi,6)^ne(wi,11)^ne(wi,25)),wi&B^~wi&p),Rt[Te]),Qt[Te]),Ke=W(ne(Ai,2)^ne(Ai,13)^ne(Ai,22),Ai&on^Ai&Ei^on&Ei),A=p,p=B,B=wi,wi=W(Xi,Ze),Xi=Ei,Ei=on,on=Ai,Ai=W(Ze,Ke);It[0]=W(Ai,It[0]),It[1]=W(on,It[1]),It[2]=W(Ei,It[2]),It[3]=W(Xi,It[3]),It[4]=W(wi,It[4]),It[5]=W(B,It[5]),It[6]=W(p,It[6]),It[7]=W(A,It[7])}return It}(function(he){for(var et=[],Rt=0;Rt<he.length*8;Rt+=8)et[Rt>>5]|=(he.charCodeAt(Rt/8)&255)<<24-Rt%32;return et}(j),j.length*8))}var ka={hex:function(W){return Fa(W)}};function Jn(Y){function W(Ze,Ke){return Ze<<Ke|Ze>>>32-Ke}function ne(Ze){var Ke="",vt,Et;for(vt=7;vt>=0;vt--)Et=Ze>>>vt*4&15,Ke+=Et.toString(16);return Ke}var he,et,Rt=Array(80),It=1732584193,Qt=4023233417,Ai=2562383102,on=271733878,Ei=3285377520,Xi,wi,B,p,A,Y=function(Ze){for(var Ze=Ze.replace(/\r\n/g,`
`),Ke="",vt=0;vt<Ze.length;vt++){var Et=Ze.charCodeAt(vt);Et<128?Ke+=String.fromCharCode(Et):(Et>127&&Et<2048?Ke+=String.fromCharCode(Et>>6|192):(Ke+=String.fromCharCode(Et>>12|224),Ke+=String.fromCharCode(Et>>6&63|128)),Ke+=String.fromCharCode(Et&63|128))}return Ke}(Y);Xi=Y.length;var Te=[];for(he=0;he<Xi-3;he+=4)et=Y.charCodeAt(he)<<24|Y.charCodeAt(he+1)<<16|Y.charCodeAt(he+2)<<8|Y.charCodeAt(he+3),Te.push(et);switch(Xi%4){case 0:he=2147483648;break;case 1:he=Y.charCodeAt(Xi-1)<<24|8388608;break;case 2:he=Y.charCodeAt(Xi-2)<<24|Y.charCodeAt(Xi-1)<<16|32768;break;case 3:he=Y.charCodeAt(Xi-3)<<24|Y.charCodeAt(Xi-2)<<16|Y.charCodeAt(Xi-1)<<8|128}for(Te.push(he);Te.length%16!=14;)Te.push(0);for(Te.push(Xi>>>29),Te.push(Xi<<3&4294967295),Y=0;Y<Te.length;Y+=16){for(he=0;he<16;he++)Rt[he]=Te[Y+he];for(he=16;he<=79;he++)Rt[he]=W(Rt[he-3]^Rt[he-8]^Rt[he-14]^Rt[he-16],1);for(et=It,Xi=Qt,wi=Ai,B=on,p=Ei,he=0;he<=19;he++)A=W(et,5)+(Xi&wi|~Xi&B)+p+Rt[he]+1518500249&4294967295,p=B,B=wi,wi=W(Xi,30),Xi=et,et=A;for(he=20;he<=39;he++)A=W(et,5)+(Xi^wi^B)+p+Rt[he]+1859775393&4294967295,p=B,B=wi,wi=W(Xi,30),Xi=et,et=A;for(he=40;he<=59;he++)A=W(et,5)+(Xi&wi|Xi&B|wi&B)+p+Rt[he]+2400959708&4294967295,p=B,B=wi,wi=W(Xi,30),Xi=et,et=A;for(he=60;he<=79;he++)A=W(et,5)+(Xi^wi^B)+p+Rt[he]+3395469782&4294967295,p=B,B=wi,wi=W(Xi,30),Xi=et,et=A;It=It+et&4294967295,Qt=Qt+Xi&4294967295,Ai=Ai+wi&4294967295,on=on+B&4294967295,Ei=Ei+p&4294967295}return A=ne(It)+ne(Qt)+ne(Ai)+ne(on)+ne(Ei),A.toLowerCase()}var ca={hex:function(W){return Jn(W)}},Or=function(Y){function ne(Ze,Ke){var vt,Et,Nt,Ri,Li;return Nt=Ze&2147483648,Ri=Ke&2147483648,vt=Ze&1073741824,Et=Ke&1073741824,Li=(Ze&1073741823)+(Ke&1073741823),vt&Et?Li^2147483648^Nt^Ri:vt|Et?Li&1073741824?Li^3221225472^Nt^Ri:Li^1073741824^Nt^Ri:Li^Nt^Ri}function he(Ze,Ke,vt,Et,Nt,Ri,Li){return Ze=ne(Ze,ne(ne(Ke&vt|~Ke&Et,Nt),Li)),ne(Ze<<Ri|Ze>>>32-Ri,Ke)}function et(Ze,Ke,vt,Et,Nt,Ri,Li){return Ze=ne(Ze,ne(ne(Ke&Et|vt&~Et,Nt),Li)),ne(Ze<<Ri|Ze>>>32-Ri,Ke)}function Rt(Ze,Ke,vt,Et,Nt,Ri,Li){return Ze=ne(Ze,ne(ne(Ke^vt^Et,Nt),Li)),ne(Ze<<Ri|Ze>>>32-Ri,Ke)}function It(Ze,Ke,vt,Et,Nt,Ri,Li){return Ze=ne(Ze,ne(ne(vt^(Ke|~Et),Nt),Li)),ne(Ze<<Ri|Ze>>>32-Ri,Ke)}function Qt(Ze){var Ke="",vt="",Et;for(Et=0;Et<=3;Et++)vt=Ze>>>Et*8&255,vt="0"+vt.toString(16),Ke+=vt.substr(vt.length-2,2);return Ke}var Te=[],Ai,on,Ei,Xi,wi,B,p,A,Y=function(Ze){for(var Ze=Ze.replace(/\r\n/g,`
`),Ke="",vt=0;vt<Ze.length;vt++){var Et=Ze.charCodeAt(vt);Et<128?Ke+=String.fromCharCode(Et):(Et>127&&Et<2048?Ke+=String.fromCharCode(Et>>6|192):(Ke+=String.fromCharCode(Et>>12|224),Ke+=String.fromCharCode(Et>>6&63|128)),Ke+=String.fromCharCode(Et&63|128))}return Ke}(Y),Te=function(Ze){var Ke,vt=Ze.length;Ke=vt+8;for(var Et=((Ke-Ke%64)/64+1)*16,Nt=Array(Et-1),Ri=0,Li=0;Li<vt;)Ke=(Li-Li%4)/4,Ri=Li%4*8,Nt[Ke]|=Ze.charCodeAt(Li)<<Ri,Li++;return Nt[(Li-Li%4)/4]|=128<<Li%4*8,Nt[Et-2]=vt<<3,Nt[Et-1]=vt>>>29,Nt}(Y);for(wi=1732584193,B=4023233417,p=2562383102,A=271733878,Y=0;Y<Te.length;Y+=16)Ai=wi,on=B,Ei=p,Xi=A,wi=he(wi,B,p,A,Te[Y+0],7,3614090360),A=he(A,wi,B,p,Te[Y+1],12,3905402710),p=he(p,A,wi,B,Te[Y+2],17,606105819),B=he(B,p,A,wi,Te[Y+3],22,3250441966),wi=he(wi,B,p,A,Te[Y+4],7,4118548399),A=he(A,wi,B,p,Te[Y+5],12,1200080426),p=he(p,A,wi,B,Te[Y+6],17,2821735955),B=he(B,p,A,wi,Te[Y+7],22,4249261313),wi=he(wi,B,p,A,Te[Y+8],7,1770035416),A=he(A,wi,B,p,Te[Y+9],12,2336552879),p=he(p,A,wi,B,Te[Y+10],17,4294925233),B=he(B,p,A,wi,Te[Y+11],22,2304563134),wi=he(wi,B,p,A,Te[Y+12],7,1804603682),A=he(A,wi,B,p,Te[Y+13],12,4254626195),p=he(p,A,wi,B,Te[Y+14],17,2792965006),B=he(B,p,A,wi,Te[Y+15],22,1236535329),wi=et(wi,B,p,A,Te[Y+1],5,4129170786),A=et(A,wi,B,p,Te[Y+6],9,3225465664),p=et(p,A,wi,B,Te[Y+11],14,643717713),B=et(B,p,A,wi,Te[Y+0],20,3921069994),wi=et(wi,B,p,A,Te[Y+5],5,3593408605),A=et(A,wi,B,p,Te[Y+10],9,38016083),p=et(p,A,wi,B,Te[Y+15],14,3634488961),B=et(B,p,A,wi,Te[Y+4],20,3889429448),wi=et(wi,B,p,A,Te[Y+9],5,568446438),A=et(A,wi,B,p,Te[Y+14],9,3275163606),p=et(p,A,wi,B,Te[Y+3],14,4107603335),B=et(B,p,A,wi,Te[Y+8],20,1163531501),wi=et(wi,B,p,A,Te[Y+13],5,2850285829),A=et(A,wi,B,p,Te[Y+2],9,4243563512),p=et(p,A,wi,B,Te[Y+7],14,1735328473),B=et(B,p,A,wi,Te[Y+12],20,2368359562),wi=Rt(wi,B,p,A,Te[Y+5],4,4294588738),A=Rt(A,wi,B,p,Te[Y+8],11,2272392833),p=Rt(p,A,wi,B,Te[Y+11],16,1839030562),B=Rt(B,p,A,wi,Te[Y+14],23,4259657740),wi=Rt(wi,B,p,A,Te[Y+1],4,2763975236),A=Rt(A,wi,B,p,Te[Y+4],11,1272893353),p=Rt(p,A,wi,B,Te[Y+7],16,4139469664),B=Rt(B,p,A,wi,Te[Y+10],23,3200236656),wi=Rt(wi,B,p,A,Te[Y+13],4,681279174),A=Rt(A,wi,B,p,Te[Y+0],11,3936430074),p=Rt(p,A,wi,B,Te[Y+3],16,3572445317),B=Rt(B,p,A,wi,Te[Y+6],23,76029189),wi=Rt(wi,B,p,A,Te[Y+9],4,3654602809),A=Rt(A,wi,B,p,Te[Y+12],11,3873151461),p=Rt(p,A,wi,B,Te[Y+15],16,530742520),B=Rt(B,p,A,wi,Te[Y+2],23,3299628645),wi=It(wi,B,p,A,Te[Y+0],6,4096336452),A=It(A,wi,B,p,Te[Y+7],10,1126891415),p=It(p,A,wi,B,Te[Y+14],15,2878612391),B=It(B,p,A,wi,Te[Y+5],21,4237533241),wi=It(wi,B,p,A,Te[Y+12],6,1700485571),A=It(A,wi,B,p,Te[Y+3],10,2399980690),p=It(p,A,wi,B,Te[Y+10],15,4293915773),B=It(B,p,A,wi,Te[Y+1],21,2240044497),wi=It(wi,B,p,A,Te[Y+8],6,1873313359),A=It(A,wi,B,p,Te[Y+15],10,4264355552),p=It(p,A,wi,B,Te[Y+6],15,2734768916),B=It(B,p,A,wi,Te[Y+13],21,1309151649),wi=It(wi,B,p,A,Te[Y+4],6,4149444226),A=It(A,wi,B,p,Te[Y+11],10,3174756917),p=It(p,A,wi,B,Te[Y+2],15,718787259),B=It(B,p,A,wi,Te[Y+9],21,3951481745),wi=ne(wi,Ai),B=ne(B,on),p=ne(p,Ei),A=ne(A,Xi);return(Qt(wi)+Qt(B)+Qt(p)+Qt(A)).toLowerCase()};function dr(j,W){return new u(j,W)}function xa(j,W){if(W<j.length+11)throw"Message too long for RSA (n="+W+", l="+j.length+")";for(var ne=[],he=j.length-1;he>=0&&W>0;){var et=j.charCodeAt(he--);et<128?ne[--W]=et:et>127&&et<2048?(ne[--W]=et&63|128,ne[--W]=et>>6|192):(ne[--W]=et&63|128,ne[--W]=et>>6&63|128,ne[--W]=et>>12|224)}for(ne[--W]=0,he=new ea,et=[];W>2;){for(et[0]=0;et[0]==0;)he.nextBytes(et);ne[--W]=et[0]}return ne[--W]=2,ne[--W]=0,new u(ne)}function Ar(){this.n=null,this.e=0,this.coeff=this.dmq1=this.dmp1=this.q=this.p=this.d=null}function Ia(j,W){j!=null&&W!=null&&j.length>0&&W.length>0?(this.n=dr(j,16),this.e=parseInt(W,16)):alert("Invalid RSA public key")}function uo(j){return j.modPowInt(this.e,this.n)}function Xa(j){return j=xa(j,this.n.bitLength()+7>>3),j==null||(j=this.doPublic(j),j==null)?null:(j=j.toString(16),j.length&1?"0"+j:j)}Ar.prototype.doPublic=uo,Ar.prototype.setPublic=Ia,Ar.prototype.encrypt=Xa;function Ua(j,W){for(var ne=j.toByteArray(),he=0;he<ne.length&&ne[he]==0;)++he;if(ne.length-he!=W-1||ne[he]!=2)return null;for(++he;ne[he]!=0;)if(++he>=ne.length)return null;for(var et="";++he<ne.length;){var Rt=ne[he]&255;Rt<128?et+=String.fromCharCode(Rt):Rt>191&&Rt<224?(et+=String.fromCharCode((Rt&31)<<6|ne[he+1]&63),++he):(et+=String.fromCharCode((Rt&15)<<12|(ne[he+1]&63)<<6|ne[he+2]&63),he+=2)}return et}function Bo(j,W,ne){j!=null&&W!=null&&j.length>0&&W.length>0?(this.n=dr(j,16),this.e=parseInt(W,16),this.d=dr(ne,16)):alert("Invalid RSA private key")}function To(j,W,ne,he,et,Rt,It,Qt){j!=null&&W!=null&&j.length>0&&W.length>0?(this.n=dr(j,16),this.e=parseInt(W,16),this.d=dr(ne,16),this.p=dr(he,16),this.q=dr(et,16),this.dmp1=dr(Rt,16),this.dmq1=dr(It,16),this.coeff=dr(Qt,16)):alert("Invalid RSA private key")}function jo(j,W){var ne=new Rn,he=j>>1;this.e=parseInt(W,16);for(var et=new u(W,16);;){for(;this.p=new u(j-he,1,ne),!(this.p.subtract(u.ONE).gcd(et).compareTo(u.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new u(he,1,ne),!(this.q.subtract(u.ONE).gcd(et).compareTo(u.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var Rt=this.p;this.p=this.q,this.q=Rt}var Rt=this.p.subtract(u.ONE),It=this.q.subtract(u.ONE),Qt=Rt.multiply(It);if(Qt.gcd(et).compareTo(u.ONE)==0){this.n=this.p.multiply(this.q),this.d=et.modInverse(Qt),this.dmp1=this.d.mod(Rt),this.dmq1=this.d.mod(It),this.coeff=this.q.modInverse(this.p);break}}}function Wr(j){if(this.p==null||this.q==null)return j.modPow(this.d,this.n);for(var W=j.mod(this.p).modPow(this.dmp1,this.p),j=j.mod(this.q).modPow(this.dmq1,this.q);W.compareTo(j)<0;)W=W.add(this.p);return W.subtract(j).multiply(this.coeff).mod(this.p).multiply(this.q).add(j)}function Mt(j){return j=this.doPrivate(dr(j,16)),j==null?null:Ua(j,this.n.bitLength()+7>>3)}Ar.prototype.doPrivate=Wr,Ar.prototype.setPrivate=Bo,Ar.prototype.setPrivateEx=To,Ar.prototype.generate=jo,Ar.prototype.decrypt=Mt;var qa=[];qa.sha1="3021300906052b0e03021a05000414",qa.sha256="3031300d060960864801650304020105000420";var Da=[];Da.sha1=ca.hex,Da.sha256=ka.hex;function ue(j,W,ne){W/=4;for(var j=(0,Da[ne])(j),ne="00"+qa[ne]+j,j="",W=W-4-ne.length,he=0;he<W;he+=2)j+="ff";return sPaddedMessageHex="0001"+j+ne}function bi(j,W){var ne=ue(j,this.n.bitLength(),W);return this.doPrivate(dr(ne,16)).toString(16)}function Je(j){return j=ue(j,this.n.bitLength(),"sha1"),this.doPrivate(dr(j,16)).toString(16)}function f(j){return j=ue(j,this.n.bitLength(),"sha256"),this.doPrivate(dr(j,16)).toString(16)}function l(j,W,ne){var he=new Ar;return he.setPublic(W,ne),he.doPublic(j)}function e(j,W,ne){return l(j,W,ne).toString(16).replace(/^1f+00/,"")}function r(j){for(var W in qa){var ne=qa[W],he=ne.length;if(j.substring(0,he)==ne)return[W,j.substring(he)]}return[]}function C(j,W,ne,he){return W=e(W,ne,he),ne=r(W),ne.length==0?!1:(W=ne[1],j=(0,Da[ne[0]])(j),W==j)}function L(j,W){var ne=dr(j,16);return C(W,ne,this.n.toString(16),this.e.toString(16))}function ke(j,ne){var ne=ne.replace(/[ \n]+/g,""),he=this.doPublic(dr(ne,16)).toString(16).replace(/^1f+00/,""),et=r(he);return et.length==0?!1:(he=et[1],et=(0,Da[et[0]])(j),he==et)}Ar.prototype.signString=bi,Ar.prototype.signStringWithSHA1=Je,Ar.prototype.signStringWithSHA256=f,Ar.prototype.verifyString=ke,Ar.prototype.verifyHexSignatureForMessage=L;var ze=function(){var j={Sbox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ShiftRowTab:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11]};return j.Init=function(){j.Sbox_Inv=Array(256);for(var W=0;W<256;W++)j.Sbox_Inv[j.Sbox[W]]=W;for(j.ShiftRowTab_Inv=Array(16),W=0;W<16;W++)j.ShiftRowTab_Inv[j.ShiftRowTab[W]]=W;for(j.xtime=Array(256),W=0;W<128;W++)j.xtime[W]=W<<1,j.xtime[128+W]=W<<1^27},j.Done=function(){delete j.Sbox_Inv,delete j.ShiftRowTab_Inv,delete j.xtime},j.ExpandKey=function(W){var ne=W.length,he,et=1;switch(ne){case 16:he=176;break;case 24:he=208;break;case 32:he=240;break;default:alert("my.ExpandKey: Only key lengths of 16, 24 or 32 bytes allowed!")}for(var Rt=ne;Rt<he;Rt+=4){var It=W.slice(Rt-4,Rt);Rt%ne==0?(It=[j.Sbox[It[1]]^et,j.Sbox[It[2]],j.Sbox[It[3]],j.Sbox[It[0]]],(et<<=1)>=256&&(et^=283)):ne>24&&Rt%ne==16&&(It=[j.Sbox[It[0]],j.Sbox[It[1]],j.Sbox[It[2]],j.Sbox[It[3]]]);for(var Qt=0;Qt<4;Qt++)W[Rt+Qt]=W[Rt+Qt-ne]^It[Qt]}},j.Encrypt=function(W,ne){var he=ne.length;j.AddRoundKey(W,ne.slice(0,16));for(var et=16;et<he-16;et+=16)j.SubBytes(W,j.Sbox),j.ShiftRows(W,j.ShiftRowTab),j.MixColumns(W),j.AddRoundKey(W,ne.slice(et,et+16));j.SubBytes(W,j.Sbox),j.ShiftRows(W,j.ShiftRowTab),j.AddRoundKey(W,ne.slice(et,he))},j.Decrypt=function(W,ne){var he=ne.length;for(j.AddRoundKey(W,ne.slice(he-16,he)),j.ShiftRows(W,j.ShiftRowTab_Inv),j.SubBytes(W,j.Sbox_Inv),he-=32;he>=16;he-=16)j.AddRoundKey(W,ne.slice(he,he+16)),j.MixColumns_Inv(W),j.ShiftRows(W,j.ShiftRowTab_Inv),j.SubBytes(W,j.Sbox_Inv);j.AddRoundKey(W,ne.slice(0,16))},j.SubBytes=function(W,ne){for(var he=0;he<16;he++)W[he]=ne[W[he]]},j.AddRoundKey=function(W,ne){for(var he=0;he<16;he++)W[he]^=ne[he]},j.ShiftRows=function(W,ne){for(var he=[].concat(W),et=0;et<16;et++)W[et]=he[ne[et]]},j.MixColumns=function(W){for(var ne=0;ne<16;ne+=4){var he=W[ne+0],et=W[ne+1],Rt=W[ne+2],It=W[ne+3],Qt=he^et^Rt^It;W[ne+0]^=Qt^j.xtime[he^et],W[ne+1]^=Qt^j.xtime[et^Rt],W[ne+2]^=Qt^j.xtime[Rt^It],W[ne+3]^=Qt^j.xtime[It^he]}},j.MixColumns_Inv=function(W){for(var ne=0;ne<16;ne+=4){var he=W[ne+0],et=W[ne+1],Rt=W[ne+2],It=W[ne+3],Qt=he^et^Rt^It,Ai=j.xtime[Qt],on=j.xtime[j.xtime[Ai^he^Rt]]^Qt;Qt^=j.xtime[j.xtime[Ai^et^It]],W[ne+0]^=on^j.xtime[he^et],W[ne+1]^=Qt^j.xtime[et^Rt],W[ne+2]^=on^j.xtime[Rt^It],W[ne+3]^=Qt^j.xtime[It^he]}},j}(),Yt=function(){var j={};return ze.Init(),j.b256to64=function(W){var ne,he,et,Rt="",It=0,Qt=W.length;for(et=0;et<Qt;et++)he=W.charCodeAt(et),It==0?(Rt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(he>>2&63),ne=(he&3)<<4):It==1?(Rt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(ne|he>>4&15),ne=(he&15)<<2):It==2&&(Rt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(ne|he>>6&3),Rt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(he&63)),It+=1,It==3&&(It=0);return It>0&&(Rt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(ne),Rt+="="),It==1&&(Rt+="="),Rt},j.b64to256=function(W){var ne,he,et="",Rt=0,It=0,Qt=W.length;for(he=0;he<Qt;he++)ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(W.charAt(he)),ne>=0&&(Rt&&(et+=String.fromCharCode(It|ne>>6-Rt&255)),Rt=Rt+2&7,It=ne<<Rt&255);return et},j.b16to64=function(W){var ne,he,et="";for(W.length%2==1&&(W="0"+W),ne=0;ne+3<=W.length;ne+=3)he=parseInt(W.substring(ne,ne+3),16),et+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(he>>6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(he&63);for(ne+1==W.length?(he=parseInt(W.substring(ne,ne+1),16),et+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(he<<2)):ne+2==W.length&&(he=parseInt(W.substring(ne,ne+2),16),et+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(he>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((he&3)<<4));(et.length&3)>0;)et+="=";return et},j.b64to16=function(W){var ne="",he,et=0,Rt;for(he=0;he<W.length&&W.charAt(he)!="=";++he)v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(W.charAt(he)),v<0||(et==0?(ne+=de(v>>2),Rt=v&3,et=1):et==1?(ne+=de(Rt<<2|v>>4),Rt=v&15,et=2):et==2?(ne+=de(Rt),ne+=de(v>>2),Rt=v&3,et=3):(ne+=de(Rt<<2|v>>4),ne+=de(v&15),et=0));return et==1&&(ne+=de(Rt<<2)),ne},j.string2bytes=function(W){for(var ne=[],he=0;he<W.length;he++)ne.push(W.charCodeAt(he));return ne},j.bytes2string=function(W){for(var ne="",he=0;he<W.length;he++)ne+=String.fromCharCode(W[he]);return ne},j.blockXOR=function(W,ne){for(var he=Array(16),et=0;et<16;et++)he[et]=W[et]^ne[et];return he},j.blockIV=function(){var W=new ea,ne=Array(16);return W.nextBytes(ne),ne},j.pad16=function(W){var ne=W.slice(0),he=(16-W.length%16)%16;for(i=W.length;i<W.length+he;i++)ne.push(0);return ne},j.depad=function(W){for(W=W.slice(0);W[W.length-1]==0;)W=W.slice(0,W.length-1);return W},j.encryptAESCBC=function(W,ne){var he=ne.slice(0);ze.ExpandKey(he);for(var et=j.string2bytes(W),et=j.pad16(et),Rt=j.blockIV(),It=0;It<et.length/16;It++){var Ai=et.slice(It*16,It*16+16),Qt=Rt.slice(It*16,It*16+16),Ai=j.blockXOR(Qt,Ai);ze.Encrypt(Ai,he),Rt=Rt.concat(Ai)}return he=j.bytes2string(Rt),j.b256to64(he)},j.decryptAESCBC=function(W,ne){var he=ne.slice(0);ze.ExpandKey(he);for(var W=j.b64to256(W),et=j.string2bytes(W),Rt=[],It=1;It<et.length/16;It++){var Qt=et.slice(It*16,It*16+16),Ai=et.slice((It-1)*16,(It-1)*16+16);ze.Decrypt(Qt,he),Qt=j.blockXOR(Ai,Qt),Rt=Rt.concat(Qt)}return Rt=j.depad(Rt),j.bytes2string(Rt)},j.wrap60=function(W){for(var ne="",he=0;he<W.length;he++)he%60==0&&he!=0&&(ne+=`
`),ne+=W[he];return ne},j.generateAESKey=function(){var W=Array(16);return new ea().nextBytes(W),W},j.generateRSAKey=function(W,ne){Math.seedrandom(ka.hex(W));var he=new Ar;return he.generate(ne,"10001"),he},j.publicKeyString=function(W){return pubkey=W.n.toString(16)},j.publicKeyID=function(W){return Or(W)},j.publicKeyFromString=function(ne){var ne=ne.split("|")[0],he=new Ar;return he.setPublic(ne,"10001"),he},j.encrypt=function(W,ne,he){var et="";try{var Rt=j.publicKeyFromString(ne);et+=Rt.encrypt(W)+"?"}catch{return{status:"Invalid public key"}}return{status:"success",cipher:et}},j.decrypt=function(W,ne){var he=W.split("?"),et=ne.decrypt(he[0]);return{status:"success",plaintext:et,signature:"unsigned"}},j}();t.exports=Yt},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var c=c||function(d,u){var k={},P=k.lib={},S=function(){},R=P.Base={extend:function(me){S.prototype=this;var m=new S;return me&&m.mixIn(me),m.hasOwnProperty("init")||(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var me=this.extend();return me.init.apply(me,arguments),me},init:function(){},mixIn:function(me){for(var m in me)me.hasOwnProperty(m)&&(this[m]=me[m]);me.hasOwnProperty("toString")&&(this.toString=me.toString)},clone:function(){return this.init.prototype.extend(this)}},b=P.WordArray=R.extend({init:function(me,m){me=this.words=me||[],this.sigBytes=m!=u?m:4*me.length},toString:function(me){return(me||oe).stringify(this)},concat:function(me){var m=this.words,U=me.words,le=this.sigBytes;if(me=me.sigBytes,this.clamp(),le%4)for(var re=0;re<me;re++)m[le+re>>>2]|=(U[re>>>2]>>>24-8*(re%4)&255)<<24-8*((le+re)%4);else if(65535<U.length)for(re=0;re<me;re+=4)m[le+re>>>2]=U[re>>>2];else m.push.apply(m,U);return this.sigBytes+=me,this},clamp:function(){var me=this.words,m=this.sigBytes;me[m>>>2]&=4294967295<<32-8*(m%4),me.length=d.ceil(m/4)},clone:function(){var me=R.clone.call(this);return me.words=this.words.slice(0),me},random:function(me){for(var m=[],U=0;U<me;U+=4)m.push(4294967296*d.random()|0);return new b.init(m,me)}}),_=k.enc={},oe=_.Hex={stringify:function(me){var m=me.words;me=me.sigBytes;for(var U=[],le=0;le<me;le++){var re=m[le>>>2]>>>24-8*(le%4)&255;U.push((re>>>4).toString(16)),U.push((re&15).toString(16))}return U.join("")},parse:function(me){for(var m=me.length,U=[],le=0;le<m;le+=2)U[le>>>3]|=parseInt(me.substr(le,2),16)<<24-4*(le%8);return new b.init(U,m/2)}},de=_.Latin1={stringify:function(me){var m=me.words;me=me.sigBytes;for(var U=[],le=0;le<me;le++)U.push(String.fromCharCode(m[le>>>2]>>>24-8*(le%4)&255));return U.join("")},parse:function(me){for(var m=me.length,U=[],le=0;le<m;le++)U[le>>>2]|=(me.charCodeAt(le)&255)<<24-8*(le%4);return new b.init(U,m)}},xe=_.Utf8={stringify:function(me){try{return decodeURIComponent(escape(de.stringify(me)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(me){return de.parse(unescape(encodeURIComponent(me)))}},se=P.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new b.init,this._nDataBytes=0},_append:function(me){typeof me=="string"&&(me=xe.parse(me)),this._data.concat(me),this._nDataBytes+=me.sigBytes},_process:function(me){var m=this._data,U=m.words,le=m.sigBytes,re=this.blockSize,Pe=le/(4*re),Pe=me?d.ceil(Pe):d.max((Pe|0)-this._minBufferSize,0);if(me=Pe*re,le=d.min(4*me,le),me){for(var fe=0;fe<me;fe+=re)this._doProcessBlock(U,fe);fe=U.splice(0,me),m.sigBytes-=le}return new b.init(fe,le)},clone:function(){var me=R.clone.call(this);return me._data=this._data.clone(),me},_minBufferSize:0});P.Hasher=se.extend({cfg:R.extend(),init:function(me){this.cfg=this.cfg.extend(me),this.reset()},reset:function(){se.reset.call(this),this._doReset()},update:function(me){return this._append(me),this._process(),this},finalize:function(me){return me&&this._append(me),this._doFinalize()},blockSize:16,_createHelper:function(me){return function(m,U){return new me.init(U).finalize(m)}},_createHmacHelper:function(me){return function(m,U){return new Ae.HMAC.init(me,U).finalize(m)}}});var Ae=k.algo={};return k}(Math);(function(){var d=c,u=d.lib.WordArray;d.enc.Base64={stringify:function(P){var S=P.words,R=P.sigBytes,b=this._map;P.clamp(),P=[];for(var _=0;_<R;_+=3)for(var oe=(S[_>>>2]>>>24-8*(_%4)&255)<<16|(S[_+1>>>2]>>>24-8*((_+1)%4)&255)<<8|S[_+2>>>2]>>>24-8*((_+2)%4)&255,de=0;4>de&&_+.75*de<R;de++)P.push(b.charAt(oe>>>6*(3-de)&63));if(S=b.charAt(64))for(;P.length%4;)P.push(S);return P.join("")},parse:function(P){var S=P.length,R=this._map,b=R.charAt(64);b&&(b=P.indexOf(b),b!=-1&&(S=b));for(var b=[],_=0,oe=0;oe<S;oe++)if(oe%4){var de=R.indexOf(P.charAt(oe-1))<<2*(oe%4),xe=R.indexOf(P.charAt(oe))>>>6-2*(oe%4);b[_>>>2]|=(de|xe)<<24-8*(_%4),_++}return u.create(b,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(d){function u(se,Ae,qe,me,m,U,le){return se=se+(Ae&qe|~Ae&me)+m+le,(se<<U|se>>>32-U)+Ae}function k(se,Ae,qe,me,m,U,le){return se=se+(Ae&me|qe&~me)+m+le,(se<<U|se>>>32-U)+Ae}function P(se,Ae,qe,me,m,U,le){return se=se+(Ae^qe^me)+m+le,(se<<U|se>>>32-U)+Ae}function S(se,Ae,qe,me,m,U,le){return se=se+(qe^(Ae|~me))+m+le,(se<<U|se>>>32-U)+Ae}for(var R=c,oe=R.lib,b=oe.WordArray,_=oe.Hasher,oe=R.algo,de=[],xe=0;64>xe;xe++)de[xe]=4294967296*d.abs(d.sin(xe+1))|0;oe=oe.MD5=_.extend({_doReset:function(){this._hash=new b.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Ae,qe){for(var me=0;16>me;me++){var m=qe+me,U=Ae[m];Ae[m]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}var me=this._hash.words,m=Ae[qe+0],U=Ae[qe+1],le=Ae[qe+2],re=Ae[qe+3],Pe=Ae[qe+4],fe=Ae[qe+5],$e=Ae[qe+6],ot=Ae[qe+7],F=Ae[qe+8],Ie=Ae[qe+9],Ve=Ae[qe+10],yi=Ae[qe+11],Hi=Ae[qe+12],Pi=Ae[qe+13],Ci=Ae[qe+14],Qi=Ae[qe+15],at=me[0],We=me[1],rt=me[2],pt=me[3],at=u(at,We,rt,pt,m,7,de[0]),pt=u(pt,at,We,rt,U,12,de[1]),rt=u(rt,pt,at,We,le,17,de[2]),We=u(We,rt,pt,at,re,22,de[3]),at=u(at,We,rt,pt,Pe,7,de[4]),pt=u(pt,at,We,rt,fe,12,de[5]),rt=u(rt,pt,at,We,$e,17,de[6]),We=u(We,rt,pt,at,ot,22,de[7]),at=u(at,We,rt,pt,F,7,de[8]),pt=u(pt,at,We,rt,Ie,12,de[9]),rt=u(rt,pt,at,We,Ve,17,de[10]),We=u(We,rt,pt,at,yi,22,de[11]),at=u(at,We,rt,pt,Hi,7,de[12]),pt=u(pt,at,We,rt,Pi,12,de[13]),rt=u(rt,pt,at,We,Ci,17,de[14]),We=u(We,rt,pt,at,Qi,22,de[15]),at=k(at,We,rt,pt,U,5,de[16]),pt=k(pt,at,We,rt,$e,9,de[17]),rt=k(rt,pt,at,We,yi,14,de[18]),We=k(We,rt,pt,at,m,20,de[19]),at=k(at,We,rt,pt,fe,5,de[20]),pt=k(pt,at,We,rt,Ve,9,de[21]),rt=k(rt,pt,at,We,Qi,14,de[22]),We=k(We,rt,pt,at,Pe,20,de[23]),at=k(at,We,rt,pt,Ie,5,de[24]),pt=k(pt,at,We,rt,Ci,9,de[25]),rt=k(rt,pt,at,We,re,14,de[26]),We=k(We,rt,pt,at,F,20,de[27]),at=k(at,We,rt,pt,Pi,5,de[28]),pt=k(pt,at,We,rt,le,9,de[29]),rt=k(rt,pt,at,We,ot,14,de[30]),We=k(We,rt,pt,at,Hi,20,de[31]),at=P(at,We,rt,pt,fe,4,de[32]),pt=P(pt,at,We,rt,F,11,de[33]),rt=P(rt,pt,at,We,yi,16,de[34]),We=P(We,rt,pt,at,Ci,23,de[35]),at=P(at,We,rt,pt,U,4,de[36]),pt=P(pt,at,We,rt,Pe,11,de[37]),rt=P(rt,pt,at,We,ot,16,de[38]),We=P(We,rt,pt,at,Ve,23,de[39]),at=P(at,We,rt,pt,Pi,4,de[40]),pt=P(pt,at,We,rt,m,11,de[41]),rt=P(rt,pt,at,We,re,16,de[42]),We=P(We,rt,pt,at,$e,23,de[43]),at=P(at,We,rt,pt,Ie,4,de[44]),pt=P(pt,at,We,rt,Hi,11,de[45]),rt=P(rt,pt,at,We,Qi,16,de[46]),We=P(We,rt,pt,at,le,23,de[47]),at=S(at,We,rt,pt,m,6,de[48]),pt=S(pt,at,We,rt,ot,10,de[49]),rt=S(rt,pt,at,We,Ci,15,de[50]),We=S(We,rt,pt,at,fe,21,de[51]),at=S(at,We,rt,pt,Hi,6,de[52]),pt=S(pt,at,We,rt,re,10,de[53]),rt=S(rt,pt,at,We,Ve,15,de[54]),We=S(We,rt,pt,at,U,21,de[55]),at=S(at,We,rt,pt,F,6,de[56]),pt=S(pt,at,We,rt,Qi,10,de[57]),rt=S(rt,pt,at,We,$e,15,de[58]),We=S(We,rt,pt,at,Pi,21,de[59]),at=S(at,We,rt,pt,Pe,6,de[60]),pt=S(pt,at,We,rt,yi,10,de[61]),rt=S(rt,pt,at,We,le,15,de[62]),We=S(We,rt,pt,at,Ie,21,de[63]);me[0]=me[0]+at|0,me[1]=me[1]+We|0,me[2]=me[2]+rt|0,me[3]=me[3]+pt|0},_doFinalize:function(){var Ae=this._data,qe=Ae.words,me=8*this._nDataBytes,m=8*Ae.sigBytes;qe[m>>>5]|=128<<24-m%32;var U=d.floor(me/4294967296);for(qe[(m+64>>>9<<4)+15]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,qe[(m+64>>>9<<4)+14]=(me<<8|me>>>24)&16711935|(me<<24|me>>>8)&4278255360,Ae.sigBytes=4*(qe.length+1),this._process(),Ae=this._hash,qe=Ae.words,me=0;4>me;me++)m=qe[me],qe[me]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360;return Ae},clone:function(){var Ae=_.clone.call(this);return Ae._hash=this._hash.clone(),Ae}}),R.MD5=_._createHelper(oe),R.HmacMD5=_._createHmacHelper(oe)}(Math),function(){var d=c,P=d.lib,u=P.Base,k=P.WordArray,P=d.algo,S=P.EvpKDF=u.extend({cfg:u.extend({keySize:4,hasher:P.MD5,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,_){for(var Ae=this.cfg,oe=Ae.hasher.create(),de=k.create(),xe=de.words,se=Ae.keySize,Ae=Ae.iterations;xe.length<se;){qe&&oe.update(qe);var qe=oe.update(b).finalize(_);oe.reset();for(var me=1;me<Ae;me++)qe=oe.finalize(qe),oe.reset();de.concat(qe)}return de.sigBytes=4*se,de}});d.EvpKDF=function(R,b,_){return S.create(_).compute(R,b)}}(),c.lib.Cipher||function(d){var qe=c,u=qe.lib,k=u.Base,P=u.WordArray,S=u.BufferedBlockAlgorithm,R=qe.enc.Base64,b=qe.algo.EvpKDF,_=u.Cipher=S.extend({cfg:k.extend(),createEncryptor:function(U,le){return this.create(this._ENC_XFORM_MODE,U,le)},createDecryptor:function(U,le){return this.create(this._DEC_XFORM_MODE,U,le)},init:function(U,le,re){this.cfg=this.cfg.extend(re),this._xformMode=U,this._key=le,this.reset()},reset:function(){S.reset.call(this),this._doReset()},process:function(U){return this._append(U),this._process()},finalize:function(U){return U&&this._append(U),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(U){return{encrypt:function(re,Pe,fe){return(typeof Pe=="string"?me:Ae).encrypt(U,re,Pe,fe)},decrypt:function(re,Pe,fe){return(typeof Pe=="string"?me:Ae).decrypt(U,re,Pe,fe)}}}});u.StreamCipher=_.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var se=qe.mode={},oe=function(U,le,re){var Pe=this._iv;Pe?this._iv=d:Pe=this._prevBlock;for(var fe=0;fe<re;fe++)U[le+fe]^=Pe[fe]},de=(u.BlockCipherMode=k.extend({createEncryptor:function(U,le){return this.Encryptor.create(U,le)},createDecryptor:function(U,le){return this.Decryptor.create(U,le)},init:function(U,le){this._cipher=U,this._iv=le}})).extend();de.Encryptor=de.extend({processBlock:function(U,le){var re=this._cipher,Pe=re.blockSize;oe.call(this,U,le,Pe),re.encryptBlock(U,le),this._prevBlock=U.slice(le,le+Pe)}}),de.Decryptor=de.extend({processBlock:function(U,le){var re=this._cipher,Pe=re.blockSize,fe=U.slice(le,le+Pe);re.decryptBlock(U,le),oe.call(this,U,le,Pe),this._prevBlock=fe}}),se=se.CBC=de,de=(qe.pad={}).Pkcs7={pad:function(U,le){for(var re=4*le,re=re-U.sigBytes%re,Pe=re<<24|re<<16|re<<8|re,fe=[],$e=0;$e<re;$e+=4)fe.push(Pe);re=P.create(fe,re),U.concat(re)},unpad:function(U){U.sigBytes-=U.words[U.sigBytes-1>>>2]&255}},u.BlockCipher=_.extend({cfg:_.cfg.extend({mode:se,padding:de}),reset:function(){_.reset.call(this);var le=this.cfg,U=le.iv,le=le.mode;if(this._xformMode==this._ENC_XFORM_MODE)var re=le.createEncryptor;else re=le.createDecryptor,this._minBufferSize=1;this._mode=re.call(le,this,U&&U.words)},_doProcessBlock:function(U,le){this._mode.processBlock(U,le)},_doFinalize:function(){var U=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){U.pad(this._data,this.blockSize);var le=this._process(!0)}else le=this._process(!0),U.unpad(le);return le},blockSize:4});var xe=u.CipherParams=k.extend({init:function(U){this.mixIn(U)},toString:function(U){return(U||this.formatter).stringify(this)}}),se=(qe.format={}).OpenSSL={stringify:function(U){var le=U.ciphertext;return U=U.salt,(U?P.create([1398893684,1701076831]).concat(U).concat(le):le).toString(R)},parse:function(U){U=R.parse(U);var le=U.words;if(le[0]==1398893684&&le[1]==1701076831){var re=P.create(le.slice(2,4));le.splice(0,4),U.sigBytes-=16}return xe.create({ciphertext:U,salt:re})}},Ae=u.SerializableCipher=k.extend({cfg:k.extend({format:se}),encrypt:function(U,le,re,Pe){Pe=this.cfg.extend(Pe);var fe=U.createEncryptor(re,Pe);return le=fe.finalize(le),fe=fe.cfg,xe.create({ciphertext:le,key:re,iv:fe.iv,algorithm:U,mode:fe.mode,padding:fe.padding,blockSize:U.blockSize,formatter:Pe.format})},decrypt:function(U,le,re,Pe){return Pe=this.cfg.extend(Pe),le=this._parse(le,Pe.format),U.createDecryptor(re,Pe).finalize(le.ciphertext)},_parse:function(U,le){return typeof U=="string"?le.parse(U,this):U}}),qe=(qe.kdf={}).OpenSSL={execute:function(U,le,re,Pe){return Pe||(Pe=P.random(8)),U=b.create({keySize:le+re}).compute(U,Pe),re=P.create(U.words.slice(le),4*re),U.sigBytes=4*le,xe.create({key:U,iv:re,salt:Pe})}},me=u.PasswordBasedCipher=Ae.extend({cfg:Ae.cfg.extend({kdf:qe}),encrypt:function(U,le,re,Pe){return Pe=this.cfg.extend(Pe),re=Pe.kdf.execute(re,U.keySize,U.ivSize),Pe.iv=re.iv,U=Ae.encrypt.call(this,U,le,re.key,Pe),U.mixIn(re),U},decrypt:function(U,le,re,Pe){return Pe=this.cfg.extend(Pe),le=this._parse(le,Pe.format),re=Pe.kdf.execute(re,U.keySize,U.ivSize,le.salt),Pe.iv=re.iv,Ae.decrypt.call(this,U,le,re.key,Pe)}})}(),function(){for(var d=c,u=d.lib.BlockCipher,ot=d.algo,k=[],P=[],S=[],R=[],b=[],_=[],oe=[],de=[],xe=[],se=[],Ae=[],qe=0;256>qe;qe++)Ae[qe]=128>qe?qe<<1:qe<<1^283;for(var me=0,m=0,qe=0;256>qe;qe++){var U=m^m<<1^m<<2^m<<3^m<<4,U=U>>>8^U&255^99;k[me]=U,P[U]=me;var le=Ae[me],re=Ae[le],Pe=Ae[re],fe=257*Ae[U]^16843008*U;S[me]=fe<<24|fe>>>8,R[me]=fe<<16|fe>>>16,b[me]=fe<<8|fe>>>24,_[me]=fe,fe=16843009*Pe^65537*re^257*le^16843008*me,oe[U]=fe<<24|fe>>>8,de[U]=fe<<16|fe>>>16,xe[U]=fe<<8|fe>>>24,se[U]=fe,me?(me=le^Ae[Ae[Ae[Pe^le]]],m^=Ae[Ae[m]]):me=m=1}var $e=[0,1,2,4,8,16,32,64,128,27,54],ot=ot.AES=u.extend({_doReset:function(){for(var yi=this._key,Ie=yi.words,Ve=yi.sigBytes/4,yi=4*((this._nRounds=Ve+6)+1),Hi=this._keySchedule=[],Pi=0;Pi<yi;Pi++)if(Pi<Ve)Hi[Pi]=Ie[Pi];else{var Ci=Hi[Pi-1];Pi%Ve?6<Ve&&Pi%Ve==4&&(Ci=k[Ci>>>24]<<24|k[Ci>>>16&255]<<16|k[Ci>>>8&255]<<8|k[Ci&255]):(Ci=Ci<<8|Ci>>>24,Ci=k[Ci>>>24]<<24|k[Ci>>>16&255]<<16|k[Ci>>>8&255]<<8|k[Ci&255],Ci^=$e[Pi/Ve|0]<<24),Hi[Pi]=Hi[Pi-Ve]^Ci}for(Ie=this._invKeySchedule=[],Ve=0;Ve<yi;Ve++)Pi=yi-Ve,Ci=Ve%4?Hi[Pi]:Hi[Pi-4],Ie[Ve]=4>Ve||4>=Pi?Ci:oe[k[Ci>>>24]]^de[k[Ci>>>16&255]]^xe[k[Ci>>>8&255]]^se[k[Ci&255]]},encryptBlock:function(Ie,Ve){this._doCryptBlock(Ie,Ve,this._keySchedule,S,R,b,_,k)},decryptBlock:function(Ie,Ve){var yi=Ie[Ve+1];Ie[Ve+1]=Ie[Ve+3],Ie[Ve+3]=yi,this._doCryptBlock(Ie,Ve,this._invKeySchedule,oe,de,xe,se,P),yi=Ie[Ve+1],Ie[Ve+1]=Ie[Ve+3],Ie[Ve+3]=yi},_doCryptBlock:function(Ie,Ve,yi,Hi,Pi,Ci,Qi,at){for(var pt=this._nRounds,rt=Ie[Ve]^yi[0],We=Ie[Ve+1]^yi[1],ft=Ie[Ve+2]^yi[2],$t=Ie[Ve+3]^yi[3],ri=4,zt=1;zt<pt;zt++)var ae=Hi[rt>>>24]^Pi[We>>>16&255]^Ci[ft>>>8&255]^Qi[$t&255]^yi[ri++],be=Hi[We>>>24]^Pi[ft>>>16&255]^Ci[$t>>>8&255]^Qi[rt&255]^yi[ri++],E=Hi[ft>>>24]^Pi[$t>>>16&255]^Ci[rt>>>8&255]^Qi[We&255]^yi[ri++],$t=Hi[$t>>>24]^Pi[rt>>>16&255]^Ci[We>>>8&255]^Qi[ft&255]^yi[ri++],rt=ae,We=be,ft=E;ae=(at[rt>>>24]<<24|at[We>>>16&255]<<16|at[ft>>>8&255]<<8|at[$t&255])^yi[ri++],be=(at[We>>>24]<<24|at[ft>>>16&255]<<16|at[$t>>>8&255]<<8|at[rt&255])^yi[ri++],E=(at[ft>>>24]<<24|at[$t>>>16&255]<<16|at[rt>>>8&255]<<8|at[We&255])^yi[ri++],$t=(at[$t>>>24]<<24|at[rt>>>16&255]<<16|at[We>>>8&255]<<8|at[ft&255])^yi[ri++],Ie[Ve]=ae,Ie[Ve+1]=be,Ie[Ve+2]=E,Ie[Ve+3]=$t},keySize:8});d.AES=u._createHelper(ot)}(),n.default=c},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function k(P,S){for(var R=0;R<S.length;R++){var b=S[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(P,b.key,b)}}return function(P,S,R){return S&&k(P.prototype,S),R&&k(P,R),P}}();function d(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}var u=function(){var k=function(){function P(){d(this,P)}return c(P,[{key:"createClientObject",value:function(R,b,_,oe){return{socket:R,id:b,playURL:_,deviceSerial:oe.deviceSerial||"",verificationCode:oe.verificationCode||"",resolve:null,reject:null}}},{key:"playCmd",value:function(R){var b={sequence:0,cmd:"realplay",deviceSerial:R.deviceSerial,verificationCode:R.verificationCode,url:R.playURL};return JSON.stringify(b)}},{key:"playbackCmd",value:function(R,b,_){var oe={sequence:0,cmd:"playback",deviceSerial:R.deviceSerial,verificationCode:R.verificationCode,url:R.playURL,startTime:b,endTime:_};return JSON.stringify(oe)}}]),P}();return k}();n.LocalService=u},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.JSPlayCtrl=void 0;var c=function(){function be(E,Q){for(var Ge=0;Ge<Q.length;Ge++){var H=Q[Ge];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(E,H.key,H)}}return function(E,Q,Ge){return Q&&be(E.prototype,Q),Ge&&be(E,Ge),E}}(),d=o(13),u=k(d);function k(be){return be&&be.__esModule?be:{default:be}}function P(be,E){if(!(be instanceof E))throw new TypeError("Cannot call a class as a function")}var S=0,R=1,b=2,_=11,oe=16,de=31,xe=35,se=36,Ae=48,qe=60,me=61,m=63,U=100,le=101,re=0,Pe=1,fe=0,$e=1,ot=0,F=1,Ie=15,Ve=8,yi=1,Hi=50,Pi=5,Ci=2,Qi=5*1024*1024,at=1024*20,pt=100,rt=20,We=100,ft=200,$t={width:0,height:0,frameNum:0,yuvData:null},ri={width:0,height:0,frameNum:0,yuvData:null},zt={sampleRate:0,channel:0,bitsPerSample:0,length:0,pcmData:null},ae={id:null,cmd:null,data:null,errorCode:0,status:null};n.JSPlayCtrl=function(){function be(E,Q,Ge,H){if(P(this,be),E!=null&&E!==void 0&&typeof E=="string")this.szBasePath=E;else return S;if(Q&&typeof Q=="function")this.fnCallBack=Q;else return S;typeof H=="string"&&(this.staticPath=H),this.decodeWorker=null,this.streamOpenMode=null,this.bOpenStream=!1,this.audioRenderer=null,this.aAudioBuffer=[],this.iAudioBufferSize=0,this.Volume=0,this.oSuperRender=null,this.aVideoFrameBuffer=[],this.YUVBufferSize=yi,this.szOSDTime=null,this.bJSPrintLog=!1,this.bWriteYUVData=!1,this.iYUV10size=0,this.aVideoYUVBuffer=[],this.bWritePCMData=!1,this.iAudioBuffer500Size=0,this.aAudioPCMBuffer=[],this.bWriteRawData=!1,this.iRawDataSize=0,this.aRawDataBuffer=[],this.bWriteRTPData=!0,this.iRTPDataSize=0,this.aRTPDataBuffer=[],this.downloadRTP=!1,this.rtpNum=0,this.bPlaySound=!1,this.bPlay=!1,this.bPause=!1,this.bOnebyOne=!1,this.bPlayRateChange=!1,this.audioNum=0,this.videoNum=0,this.FrameForwardLen=1,this.bOnlyPlaySound=!1,this.bVideoCropInfo=!1,this.dataCallBackFun=null,this.YUVBufSizeCBFun=null,this.DecCallBackFun=null,this.DisplayCallBackFun=null,this.PCMCallBackFun=null,this.DecInfoYUV=$t,this.DisplayInfoYUV=ri,this.DecInfoPCM=zt,this.nWidth=0,this.nHeight=0,this.nSPSCropLeft=0,this.nSPSCropRight=0,this.nSPSCropTop=0,this.nSPSCropBottom=0,this.sCanvasId=null,this.aDisplayBuf=null,this.bVisibility=!0,this.nDecFrameType=ot,this.runtimeInfoCBFun=null,this.iCanvasWidth=0,this.iCanvasHeight=0,this.iZoomNum=0,this.iRatio_x=1,this.iRatio_y=1,this.stDisplayRect={top:0,left:0,right:0,bottom:0},this.bDisRect=!1,this.stYUVRect={top:0,left:0,right:0,bottom:0},this.aInputDataLens=[],this.aInputDataBuffer=[],this.bIsGetYUV=!1,this.bIsFirstFrame=!0,this.iInputMaxBufSize=Qi,this.bIsInput=!1,this.bIsInputBufOver=!1,this.bIsInputBufWillOver=!1,this.iInputDataLen=at;var _e=this;this.errorCode=R,this.loopNum=0,this.setCallBack=function(M,z,ce,ie,Oe){var Qe=ae;Qe.id=Ge,Qe.cmd=z,Qe.data=ce,Qe.errorCode=ie,Qe.status=Oe,M.fnCallBack(Qe)},this.convertErrorCode=function(M){switch(M){case 1:return R;case 98:return S;default:return M}},this.arrayBufferCopy=function(M){var z=M.byteLength,ce=new Uint8Array(z),ie=new Uint8Array(M),Oe=0;for(Oe=0;Oe<z;Oe++)ce[Oe]=ie[Oe];return ce},this.inputDataFun=function(){var M,z,ce=0;if(_e.bIsGetYUV=!1,_e.bIsInputBufOver||_e.bIsInputBufWillOver){M=new Uint8Array(1),z=new Uint8Array(M);var ie={command:"InputData",data:z.buffer,dataSize:0};_e.decodeWorker.postMessage(ie,[ie.data])}else if(_e.bPlay&&(!_e.bPause||_e.bOnebyOne)||this.bOnlyPlaySound){for(;_e.aInputDataLens.length>0&&(ce+=_e.aInputDataLens.shift(),!(ce>_e.iInputDataLen)););M=_e.aInputDataBuffer.splice(0,ce),z=new Uint8Array(M);var ie={command:"InputData",data:z.buffer,dataSize:ce};_e.decodeWorker.postMessage(ie,[ie.data])}M=null,z=null},this.getPic=function(M,z){if(this.decodeWorker==null||this.oSuperRender==null||!this.bPlay)return b;if(M&&typeof M=="function")this.dataCallBackFun=M;else return S;if(this.iZoomNum===0)this.stYUVRect.left=0,this.stYUVRect.top=0,this.stYUVRect.right=0,this.stYUVRect.bottom=0;else{if(this.iCanvasWidth===0||this.iCanvasHeight===0)this.stYUVRect.left=0,this.stYUVRect.top=0,this.stYUVRect.right=0,this.stYUVRect.bottom=0;else{var ce=this.nWidth/this.iCanvasWidth,ie=this.nHeight/this.iCanvasHeight;this.stYUVRect.left=Math.round(this.stDisplayRect.left*ce),this.stYUVRect.top=Math.round(this.stDisplayRect.top*ie),this.stYUVRect.right=Math.round(this.stDisplayRect.right*ce),this.stYUVRect.bottom=Math.round(this.stDisplayRect.bottom*ie)}if(this.stYUVRect.right-this.stYUVRect.left<32||this.stYUVRect.bottom-this.stYUVRect.top<32)return S}if(this.aDisplayBuf==null)return b;var Oe=this.arrayBufferCopy(this.aDisplayBuf),Qe={command:z,data:Oe.buffer,width:this.nWidth,height:this.nHeight,rect:this.stYUVRect};return this.decodeWorker.postMessage(Qe,[Qe.data]),R},this.createWorker=function(M){if(window.Worker){if(this.decodeWorker==null){var z=new Blob([(0,u.default)(this.staticPath)]),ce=URL.createObjectURL(z);if(this.decodeWorker=new Worker(ce),M.bJSPrintLog&&console.log(">>>JSPlayV1.1 createWorker success!"),this.decodeWorker==null)return qe}this.decodeWorker.onmessage=function(ie){var Oe=null,Qe=ie.data;switch(Qe.function){case"printLog":console.log("print JSPlayerSDK log failed");break;case"loaded":Oe="loaded",M.setCallBack(M,"loaded",0,0,!0);break;case"SetStreamOpenMode":Oe="SetStreamOpenMode";break;case"OpenStream":if(Oe="OpenStream",Qe.errorCode===1){_e.bOpenStream=!0;return}break;case"InputData":Oe="InputData",Qe.errorCode===_&&(_e.bIsInputBufOver=!0,console.log(`yff inputBuffer over set key frame 
`),_e.nDecFrameType!=F&&_e.PlayM4_SetDecodeFrameType(F)),Qe.errorCode===se&&(_e.bIsInputBufWillOver=!0),Qe.errorCode===de&&(_e.bIsInputBufOver=!1,_e.bIsInputBufWillOver=!1,_e.aInputDataLens.length>0&&_e.bIsInput?(_e.inputDataFun(),_e.bIsInput=!1):_e.bIsGetYUV=!0);break;case"GetFrameData":if(Oe="GetFrameData",!_e.bOnlyPlaySound){if(Qe.data!=null&&Qe.frameInfo!=null&&(Qe.frameInfo.width,Qe.frameInfo.height),!_e.bPlay)return;if(_e.errorCode=Qe.errorCode,!_e.bIsFirstFrame&&(Qe.errorCode===de||Qe.errorCode===xe)){Qe.errorCode===de&&(_e.bIsInputBufOver=!1,_e.bIsInputBufWillOver=!1),_e.loopNum>5?(_e.bIsGetYUV=!0,_e.loopNum=0):(_e.inputDataFun(),_e.loopNum++);break}else _e.bIsInputBufOver||_e.bIsInputBufWillOver?_e.inputDataFun():Qe.type==="videoType"&&(_e.aInputDataLens.length>0&&_e.bIsInput?(_e.inputDataFun(),_e.bIsInput=!1):_e.bIsGetYUV=!0,_e.bIsFirstFrame=!1)}if(_e.bVisibility&&R===Qe.errorCode)switch(Qe.type){case"videoType":if(Qe.data==null||Qe.frameInfo==null)return S;_e.DecCallBackFun!=null&&(_e.DecInfoYUV.height=Qe.frameInfo.height,_e.DecInfoYUV.width=Qe.frameInfo.width,_e.DecInfoYUV.frameNum=Qe.frameInfo.frameNum,_e.DecInfoYUV.yuvData=new Uint8Array(Qe.data),_e.DecCallBackFun(_e.DecInfoYUV)),_e.bIsFirstFrame=!1,M.nWidth=Qe.frameInfo.width,M.nHeight=Qe.frameInfo.height,M.nSPSCropLeft=Qe.frameInfo.cropLeft,M.nSPSCropRight=Qe.frameInfo.cropRight,M.nSPSCropTop=Qe.frameInfo.cropTop,M.nSPSCropBottom=Qe.frameInfo.cropBottom;var st=new Object;if(st.data=Qe.data,st.osdTime=Qe.osd,st.nWidth=Qe.frameInfo.width,st.nHeight=Qe.frameInfo.height,st.frameNum=Qe.frameInfo.frameNum,st.timeStamp=Qe.frameInfo.timeStamp,M.bWriteYUVData){for(var D=new Uint8Array(Qe.data),Xe=M.aVideoYUVBuffer.length,X=0,Ce=D.length;X<Ce;X++)M.aVideoYUVBuffer[Xe+X]=D[X];M.iYUV10size++,D=null}if(M.bWriteYUVData&&M.iYUV10size>=rt){var ve=new Uint8Array(M.aVideoYUVBuffer);M.downloadFile(ve,"videoYUV.data"),M.aVideoYUVBuffer.splice(0,M.aVideoYUVBuffer.length),M.bWriteYUVData=!1,M.iYUV10size=0,ve=null}M.aVideoFrameBuffer.push(st),st=null;var Le=M.aVideoFrameBuffer.length;if(Le>Pi&&(M.bOnebyOne||M.aVideoFrameBuffer.splice(0,Ci)),M.bOnebyOne&&M.aVideoFrameBuffer.length>=Ie){M.setCallBack(M,"OnebyOne",0,0,!1),M.bIsFirstFrame=!0;break}break;case"audioType":if(M.bPlaySound&&!M.bPlayRateChange||_e.bOnlyPlaySound){_e.PCMCallBackFun!=null&&(_e.DecInfoPCM.sampleRate=Qe.frameInfo.samplesPerSec,_e.DecInfoPCM.channel=Qe.frameInfo.channels,_e.DecInfoPCM.bitsPerSample=Qe.frameInfo.bitsPerSample,_e.DecInfoPCM.pcmData=new Uint8Array(Qe.data),_e.DecInfoPCM.length=_e.DecInfoPCM.pcmData.length,_e.PCMCallBackFun(_e.DecInfoPCM));for(var D=new Uint8Array(Qe.data),Xe=M.aAudioBuffer.length,X=0,Ce=D.length;X<Ce;X++)M.aAudioBuffer[Xe+X]=D[X];if(M.iAudioBufferSize++,D=null,M.bWritePCMData){for(var D=new Uint8Array(Qe.data),Xe=M.aAudioPCMBuffer.length,X=0,Ce=D.length;X<Ce;X++)M.aAudioPCMBuffer[Xe+X]=D[X];console.log("audio_type num:"+M.iAudioBuffer500Size+", len:"+D.length),M.iAudioBuffer500Size++,D=null}if(M.bWritePCMData&&M.iAudioBuffer500Size>=pt){var pe=new Uint8Array(M.aAudioPCMBuffer);M.downloadFile(pe,"audioPCM.data"),M.aAudioPCMBuffer.splice(0,M.aAudioPCMBuffer.length),M.bWritePCMData=!1,M.iAudioBuffer500Size=0,pe=null}M.iAudioBufferSize>=Hi&&(M.audioRenderer.Play(M.aAudioBuffer,M.aAudioBuffer.length,Qe.frameInfo),M.aAudioBuffer.splice(0,M.aAudioBuffer.length),M.aAudioBuffer.length=0,M.iAudioBufferSize=0)}break}break;case"GetRawData":if(Oe="GetRawData",M.bWriteRawData){for(var ee=new Uint8Array(Qe.data),je=M.aRawDataBuffer.length,X=0,Ce=ee.length;X<Ce;X++)M.aRawDataBuffer[je+X]=ee[X];M.iRawDataSize++,ee=null}if(M.bWriteRawData&&M.iRawDataSize>=We){var mt=new Uint8Array(M.aRawDataBuffer);M.downloadFile(mt,"rawBuffer.data"),M.aRawDataBuffer.splice(0,M.aRawDataBuffer.length),M.bWriteRawData=!1,M.iRawDataSize=0,mt=null}break;case"PlaySound":Oe="PlaySound";break;case"GetJPEG":if(Oe="GetJPEG",Qe.errorCode!==R){console.log("GetJPEG ErrorParam");return}var gt=Qe.data;M.dataCallBackFun(gt);break;case"GetBMP":if(Oe="GetBMP",Qe.errorCode!==R){console.log("GetBMP ErrorParam");return}var Gt=Qe.data;M.dataCallBackFun(Gt);break;case"RunTimeInfoCallBack":Oe="RunTimeInfoCallBack";var li=Qe.nRunTimeModule,Oi=Qe.nStrVersion,ge=Qe.nFrameTimeStamp,Ji=Qe.nFrameNum,kt=Qe.nErrorCode;M.runtimeInfoCBFun!=null&&M.runtimeInfoCBFun(li,Oi,ge,Ji,kt)}(Oe!=="GetFrameData"&&Oe!="loaded"||oe===Qe.errorCode||le===Qe.errorCode||U===Qe.errorCode||Ae===Qe.errorCode)&&M.setCallBack(M,Oe,0,M.convertErrorCode(Qe.errorCode),!0)}}},this.createWorker(_e),this.draw=function(){if(_e.bPlay){if(!_e.bPause||_e.bOnebyOne){requestAnimationFrame(_e.draw);var M=_e.aVideoFrameBuffer.length;if(_e.YUVBufSizeCBFun!=null&&_e.YUVBufSizeCBFun(M),_e.bOnebyOne){if(M<=Ve&&_e.setCallBack(_e,"OnebyOne",0,de,!0),M<=_e.FrameForwardLen+1){_e.setCallBack(_e,"OnebyOne",0,de,!0);return}else for(var z=_e.FrameForwardLen;z>1;)_e.aVideoFrameBuffer.shift(),z--;_e.bOnebyOne=!1}if(M>0){var ce=_e.aVideoFrameBuffer.shift();_e.aDisplayBuf=ce.data;var ie=new Uint8Array(_e.aDisplayBuf);_e.bVideoCropInfo?_e.oSuperRender.SR_DisplayFrameData(ce.nWidth,ce.nHeight,ie,ce.nWidth-_e.nSPSCropLeft-_e.nSPSCropRight,ce.nHeight-_e.nSPSCropTop-_e.nSPSCropBottom):_e.oSuperRender.SR_DisplayFrameData(ce.nWidth,ce.nHeight,ie,ce.nWidth,ce.nHeight),_e.DisplayCallBackFun!=null&&(_e.DisplayInfoYUV.height=ce.nHeight,_e.DisplayInfoYUV.width=ce.nWidth,_e.DisplayInfoYUV.frameNum=ce.frameNum,_e.DisplayInfoYUV.yuvData=new Uint8Array(ie),_e.DisplayCallBackFun(_e.DisplayInfoYUV)),ie=null,_e.szOSDTime=ce.osdTime,ce=null}else _e.setCallBack(_e,"Play",0,de,!0)}}else _e.bPlay||(_e.aVideoFrameBuffer.splice(0,_e.aVideoFrameBuffer.length),_e.aAudioBuffer.splice(0,_e.aAudioBuffer.length))}}return c(be,[{key:"PlayM4_SetCurrentFrameNum",value:function(Q,Ge){return oe}},{key:"PlayM4_OpenPlayerSDKPrintLog",value:function(Q){return Q===!0?(this.bJSPrintLog=!0,this.decodeWorker.postMessage({command:"printLog",data:Q})):(this.bJSPrintLog=!1,this.decodeWorker.postMessage({command:"printLog",data:Q})),R}},{key:"PlayM4_DownloadYUVdata",value:function(){return this.bWriteYUVData=!0,R}},{key:"PlayM4_DownloadPCMdata",value:function(){return this.bWritePCMData=!0,R}},{key:"PlayM4_SetDecCallBack",value:function(Q){return Q&&typeof Q=="function"?(this.DecCallBackFun=Q,R):S}},{key:"PlayM4_SetDisplayCallBack",value:function(Q){return Q&&typeof Q=="function"?(this.DisplayCallBackFun=Q,R):S}},{key:"PlayM4_SetPCMCallBack",value:function(Q){return Q&&typeof Q=="function"?(this.PCMCallBackFun=Q,R):S}},{key:"PlayM4_SetStreamOpenMode",value:function(Q){return Q==null||Q===void 0||Q!==fe&&Q!==$e?S:(this.streamOpenMode=Q,R)}},{key:"PlayM4_DownloadRTPData",value:function(Q){this.downloadRTP=Q}},{key:"PlayM4_SetVideoCropInfo",value:function(Q){return Q==null||Q===void 0||typeof Q!="boolean"?S:(this.bVideoCropInfo=Q,R)}},{key:"PlayM4_OpenStream",value:function(Q,Ge,H){if(this.bJSPrintLog&&console.log(">>>JS PlayM4_OpenStream nSysTime:"+(new Date().getMonth()+1)+"-"+new Date().getDate()+" "+new Date().getHours()+":"+new Date().getMinutes()+":"+new Date().getSeconds()+"."+new Date().getMilliseconds()),this.decodeWorker==null)return b;if(this.downloadRTP){var _e=new Uint8Array(Q.buffer);this.DownloadRTPData(_e),console.log("write 40 hik head")}return Q==null||Ge<=0||H<=0?S:(this.bPlay=!1,this.bPause=!1,this.bOnebyOne=!1,this.bIsFirstFrame=!0,this.bIsGetYUV=!1,this.bIsInput=!1,this.decodeWorker.postMessage({command:"SetStreamOpenMode",data:this.streamOpenMode}),this.decodeWorker.postMessage({command:"OpenStream",data:Q,dataSize:Ge,bufPoolSize:H}),this.bOpenStream=!0,R)}},{key:"PlayM4_CloseStream",value:function(){return this.decodeWorker===null||this.bOpenStream===!1?b:(this.bOnlyPlaySound=!1,this.PlayM4_Stop(),this.decodeWorker.postMessage({command:"CloseStream"}),this.oSuperRender!==null&&(this.oSuperRender.SR_Destroy(),this.oSuperRender=null),this.audioRenderer!==null&&(this.audioRenderer.Stop(),this.audioRenderer=null),this.aAudioBuffer.splice(0,this.aAudioBuffer.length),this.aVideoFrameBuffer.splice(0,this.aVideoFrameBuffer.length),this.aInputDataBuffer.splice(0,this.aInputDataBuffer.length),this.aInputDataLens.splice(0,this.aInputDataLens.length),this.aVideoYUVBuffer.splice(0,this.aVideoYUVBuffer.length),this.aAudioPCMBuffer.splice(0,this.aAudioPCMBuffer.length),this.aRawDataBuffer.splice(0,this.aRawDataBuffer.length),this.bOpenStream=!1,this.iAudioBufferSize=0,this.szOSDTime=null,R)}},{key:"PlayM4_Destroy",value:function(){return this.decodeWorker===null||(this.PlayM4_CloseStream(),this.decodeWorker.terminate(),this.decodeWorker=null),R}},{key:"PlayM4_InputData",value:function(Q,Ge){var H=this.aInputDataBuffer.length;if(Ge===4){var _e=new Uint8Array(Q.buffer);if(_e[0]===1&&_e[1]===2&&_e[2]===3&&_e[3]===4)return this.bIsFirstFrame?this.inputDataFun():this.bIsGetYUV?this.inputDataFun():this.bIsInput=!0,_e=null,R}if(H+Ge>this.iInputMaxBufSize)return console.log("input over"),this.bIsGetYUV?this.inputDataFun():this.bIsInput=!0,_;var M=null,z=Ge;switch(this.streamOpenMode){case $e:M=new Uint8Array(Q.buffer),this.downloadRTP&&(this.DownloadRTPData(M),this.rtpNum++,console.log("STREAM_FILE psNUm:"+this.rtpNum)),this.aInputDataLens.push(Ge);break;case fe:z=Ge+4;var ce=new Uint32Array([Ge]),ie=new Uint8Array(ce.buffer);M=new Uint8Array(z),M.set(ie,0),M.set(Q,4),this.downloadRTP&&(this.DownloadRTPData(M),this.rtpNum++,console.log("STREAM_REALTIME rtpNUm:"+this.rtpNum)),ce=null,ie=null,this.aInputDataLens.push(Ge+4);break;default:return oe}for(var Oe=0;Oe<z;Oe++)this.aInputDataBuffer[H+Oe]=M[Oe];return!this.bPlay&&!this.bOnlyPlaySound||this.decodeWorker===null||this.bOpenStream===!1||(M=null,this.bOnlyPlaySound?this.inputDataFun():this.bIsFirstFrame?this.inputDataFun():this.bIsGetYUV?this.inputDataFun():this.bIsInput=!0),R}},{key:"DownloadRTPData",value:function(Q){if(this.bWriteRTPData){for(var Ge=new Uint8Array(Q),H=this.aRTPDataBuffer.length,_e=0,M=Ge.length;_e<M;_e++)this.aRTPDataBuffer[H+_e]=Ge[_e];this.iRTPDataSize++,Ge=null}if(this.bWriteRTPData&&this.iRTPDataSize>=ft){console.log("download"+ft+"RTPdata");var z=new Uint8Array(this.aRTPDataBuffer);this.downloadFile(z,"RTP.data"),this.aRTPDataBuffer.splice(0,this.aRTPDataBuffer.length),this.iRTPDataSize=0,this.rtpNum=0,this.downloadRTP=!1,z=null}}},{key:"PlayM4_Play",value:function(Q){if(this.decodeWorker===null)return b;if(this.bJSPrintLog&&console.log(">>>JS PlayM4_Play canvasID: "+Q),Q===null)this.bOnlyPlaySound=!0,this.decodeWorker.postMessage({command:"OnlyPlaySound"}),this.sCanvasId=null;else{if(typeof Q!="string")return S;if(this.bOnebyOne&&(this.bPlayRateChange=!1,this.bOnebyOne=!1,this.bPause=!1,this.draw()),this.bPlay)return R;if(this.oSuperRender==null&&(this.oSuperRender=new SuperRender(Q,this.szBasePath),this.oSuperRender==null))return me;this.sCanvasId=Q,this.bPlay=!0,this.bPause=!1,this.bOnebyOne=!1,this.bPlayRateChange=!1,this.bOnlyPlaySound=!1,this.draw()}return this.audioRenderer==null&&(this.audioRenderer=new AudioRenderer,this.audioRenderer==null)?me:(this.decodeWorker.postMessage({command:"Play"}),R)}},{key:"PlayM4_Stop",value:function(){return this.decodeWorker==null||this.oSuperRender==null||!this.bPlay?b:(this.bPlaySound&&(this.PlayM4_StopSound(),this.bPlaySound=!0),this.bPlay=!1,this.bOnebyOne=!1,this.bPause=!1,this.oSuperRender.SR_SetDisplayRect(null),this.iZoomNum=0,this.bDisRect=!1,R)}},{key:"PlayM4_PlayRate",value:function(Q){return this.decodeWorker==null?b:(Q===1?this.bPlayRateChange=!1:this.bPlayRateChange=!0,Q<1&&(Q=1),this.iInputDataLen=Q*at,this.decodeWorker.postMessage({command:"PlayRate",playRate:Q}),R)}},{key:"PlayM4_Pause",value:function(Q){return this.decodeWorker==null||this.oSuperRender==null||!this.bPlay||this.bOnebyOne||this.bPause==Q?b:typeof Q!="boolean"?S:(this.bPause=Q,this.bIsFirstFrame=!0,Q?this.bPlaySound&&(this.PlayM4_StopSound(),this.bPlaySound=!0):(this.bPlaySound&&this.PlayM4_PlaySound(),this.draw()),R)}},{key:"PlayM4_OneByOne",value:function(Q){return this.decodeWorker==null||this.oSuperRender==null||!this.bPlay?b:Q>10||Q<=0?S:(Q||(Q=1),this.iInputDataLen=at,this.FrameForwardLen=Q,this.bPause=!0,this.bOnebyOne=!0,this.bIsFirstFrame=!0,this.draw(),R)}},{key:"PlayM4_PlaySound",value:function(Q){return this.decodeWorker===null||this.bOpenStream===!1?b:Q<0||Q>16?S:this.audioRenderer==null&&(this.audioRenderer=new AudioRenderer,this.audioRenderer==null)?me:(this.decodeWorker.postMessage({command:"PlaySound"}),this.audioRenderer.SetWndNum(Q),this.Volume!==0&&this.audioRenderer.SetVolume(this.Volume),this.audioRenderer.oAudioContext.resume(),this.bPlaySound=!0,R)}},{key:"PlayM4_StopSound",value:function(){return this.decodeWorker==null||this.audioRenderer==null||!this.bPlaySound?b:(this.decodeWorker.postMessage({command:"StopSound"}),this.bPlaySound=!1,R)}},{key:"PlayM4_SetDisplayBuf",value:function(Q){return this.decodeWorker==null?b:Q<=0?S:(this.YUVBufferSize=Q,R)}},{key:"PlayM4_SetSecretKey",value:function(Q,Ge,H){if(this.decodeWorker==null||this.bOpenStream===!1)return b;if(Ge==null)return S;if(Pe===Q)if(H===128){if(Ge==null||Ge===void 0)return S}else return S;else if(re!==Q)return S;return this.decodeWorker.postMessage({command:"SetSecretKey",data:Ge,nKeyType:Q,nKeyLen:H}),R}},{key:"PlayM4_SetDecodeFrameType",value:function(Q){return console.log("PlayM4_SetDecodeFrameType nFrameType:"+Q),this.decodeWorker==null||this.oSuperRender==null?b:Q!==ot&&Q!==F?S:(this.bJSPrintLog&&console.log(">>>JS PlayM4_SetDecodeFrameType :"+Q),this.nDecFrameType=Q,this.decodeWorker.postMessage({command:"SetDecodeFrameType",data:Q}),R)}},{key:"PlayM4_SetIFrameDecInterval",value:function(Q){return this.nDecFrameType!==F?b:Q<0?S:(this.decodeWorker.postMessage({command:"SetIFrameDecInterval",data:Q}),R)}},{key:"PlayM4_SetLostFrameMode",value:function(Q){return Q<0||Q>1?S:(this.decodeWorker.postMessage({command:"SetLostFrameMode",data:Q}),R)}},{key:"PlayM4_SetDisplayRegion",value:function(Q,Ge){if(this.decodeWorker===null||this.bPlay===!1||this.oSuperRender===null||this.canvasId===null)return b;if(Ge===!0){if(Q==null)return S;if(typeof Q.left=="number"&&typeof Q.top=="number"&&typeof Q.right=="number"&&typeof Q.bottom=="number"){if(Q.right<0||Q.left<0||Q.top<0||Q.bottom<0)return S;var H=Q.left,_e=Q.right,M=Q.top,z=Q.bottom,ce=document.getElementById(this.sCanvasId).getBoundingClientRect();if(this.iCanvasWidth=ce.width,this.iCanvasHeight=ce.height,_e-H<16||z-M<16||_e-H>this.iCanvasWidth||z-M>this.iCanvasHeight)return S;this.iZoomNum!==0&&(H=Math.round(H/this.iRatio_x)+this.stDisplayRect.left,M=Math.round(M/this.iRatio_y)+this.stDisplayRect.top,_e=Math.round(_e/this.iRatio_x)+this.stDisplayRect.left,z=Math.round(z/this.iRatio_y)+this.stDisplayRect.top),this.stDisplayRect={top:M,left:H,right:_e,bottom:z},this.oSuperRender.SR_SetDisplayRect(this.stDisplayRect),this.bDisRect=!0;var ie=_e-H,Oe=z-M;this.iRatio_x=this.iCanvasWidth/ie,this.iRatio_y=this.iCanvasHeight/Oe}else return S}else this.oSuperRender.SR_SetDisplayRect(null),this.iZoomNum=0,this.bDisRect=!1;return(this.bPause||this.bOnebyOne||this.bPlayRateChange)&&(this.bVideoCropInfo?this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,new Uint8Array(this.aDisplayBuf),this.nWidth-this.nSPSCropLeft-this.nSPSCropRight,this.nHeight-this.nSPSCropTop-this.nSPSCropBottom):this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,new Uint8Array(this.aDisplayBuf),this.nWidth,this.nHeight)),R}},{key:"PlayM4_GetBMP",value:function(Q){return this.getPic(Q,"GetBMP")}},{key:"PlayM4_GetJPEG",value:function(Q){return this.getPic(Q,"GetJPEG")}},{key:"PlayM4_SetVolume",value:function(Q){return this.decodeWorker==null||this.audioRenderer==null?b:Q<0||Q>100||Q===""?S:(this.Volume=Q,this.audioRenderer.SetVolume(Q),R)}},{key:"PlayM4_GetVolume",value:function(Q){if(this.decodeWorker==null||this.audioRenderer==null)return b;if(Q&&typeof Q=="function"){var Ge=this.audioRenderer.GetVolume();return Ge===null?m:(Q(Ge),R)}else return S}},{key:"PlayM4_GetOSDTime",value:function(Q){return this.decodeWorker==null||!this.bPlay?b:Q&&typeof Q=="function"?(Q(this.szOSDTime),R):S}},{key:"PlayM4_IsVisible",value:function(Q){return this.bVisibility=Q,R}},{key:"PlayM4_GetSdkVersion",value:function(){return"07040005"}},{key:"PlayM4_GetBuildDate",value:function(){return"20230303"}},{key:"PlayM4_GetInputBufSize",value:function(){return this.aInputDataBuffer.length}},{key:"PlayM4_SetInputBufSize",value:function(Q){return Q>0?(this.iInputMaxBufSize=Q,console.log(">>JSBufferSize SetInputBufSize:"+this.iInputMaxBufSize),R):S}},{key:"PlayM4_GetYUVBufSize",value:function(){return this.aVideoFrameBuffer.length}},{key:"PlayM4_GetFrameResolution",value:function(Q){return this.decodeWorker==null?b:Q&&typeof Q=="function"?(Q(this.nWidth,this.nHeight),R):S}},{key:"PlayM4_RegisterYUVBufSizeCB",value:function(Q){return Q&&typeof Q=="function"?(this.YUVBufSizeCBFun=Q,R):S}},{key:"PlayM4_UnRegisterYUVBufSizeCB",value:function(){return this.YUVBufSizeCBFun!=null&&(this.YUVBufSizeCBFun=null),R}},{key:"PlayM4_ClearCanvas",value:function(){return this.oSuperRender==null?b:(this.bVideoCropInfo?this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,null,this.nWidth-this.nSPSCropLeft-this.nSPSCropRight,this.nHeight-this.nSPSCropTop-this.nSPSCropBottom):this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,null,this.nWidth,this.nHeight),R)}},{key:"PlayM4_ReleaseInputBuffer",value:function(){return this.aInputDataBuffer===null?b:(this.aInputDataBuffer.splice(0,this.aInputDataBuffer.length),this.aInputDataLens.splice(0,this.aInputDataLens.length),R)}},{key:"PlayM4_GetDecodeFrameType",value:function(){return this.nDecFrameType}},{key:"PlayM4_SetRunTimeInfoCallBackEx",value:function(Q,Ge){return this.runtimeInfoCBFun=Ge,this.decodeWorker.postMessage({command:"SetRunTimeInfoCB",nModuleType:Q}),R}},{key:"PlayM4_SetDemuxModel",value:function(Q,Ge){return this.decodeWorker.postMessage({command:"SetDemuxModel",nIdemuxType:Q,bTrue:Ge}),R}},{key:"PlayM4_SkipErrorData",value:function(Q){return this.decodeWorker.postMessage({command:"SkipErrorData",bSkip:Q}),R}},{key:"PlayM4_SetDecodeERC",value:function(Q){return this.decodeWorker.postMessage({command:"SetDecodeERC",nLevel:Q}),R}},{key:"PlayM4_SetANRParam",value:function(Q,Ge){return this.decodeWorker.postMessage({command:"SetANRParam",nEnable:Q,nANRLevel:Ge}),R}},{key:"PlayM4_SetResampleValue",value:function(Q,Ge){return this.decodeWorker.postMessage({command:"SetResampleValue",nEnable:Q,resampleValue:Ge}),R}},{key:"PlayM4_SetGlobalBaseTime",value:function(Q,Ge,H,_e,M,z,ce){return Q<2e3||Q>3e3||Ge<1||Ge>12||Q<0||Ge<0||H<0||_e<0||M<0||z<0||ce<0?oe:(this.decodeWorker.postMessage({command:"SetGlobalBaseTime",year:Q,month:Ge,day:H,hour:_e,min:M,sec:z,ms:ce}),R)}},{key:"downloadFile",value:function(Q,Ge){var H=Q;Q instanceof Blob||Q instanceof File||(H=new Blob([Q]));var _e=window.URL.createObjectURL(H),M=window.document.createElement("a");M.href=_e,M.download=Ge;var z=document.createEvent("MouseEvents");z.initEvent("click",!0,!0),M.dispatchEvent(z)}}]),be}()},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var c=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"https://open.ys7.com/assets/ezuikit_v3.6";return`
/**
 * Created by wangweijie5 on 2016/12/5.
 */
(function (event) {
    const AUDIO_TYPE = 0;	// 音频
    const VIDEO_TYPE = 1;   // 视频
    const PRIVT_TYPE = 2;  // 私有帧

    const PLAYM4_AUDIO_FRAME = 100; // 音频帧
    const PLAYM4_VIDEO_FRAME = 101; // 视频帧

    const PLAYM4_OK = 1;
    const PLAYM4_ORDER_ERROR = 2;
    const PLAYM4_DECODE_ERROR = 44 	// 解码失败
    const PLAYM4_NOT_KEYFRAME = 48; 	// 非关键帧
    const PLAYM4_NEED_MORE_DATA = 31;   // 需要更多数据才能解析
    const PLAYM4_NEED_NEET_LOOP = 35; //丢帧需要下个循环
    const PLAYM4_SYS_NOT_SUPPORT = 16; 	// 不支持

    importScripts('`+u+`/js/playctrl/Decoder.js');
    Module.addOnPostRun(function () {
        postMessage({ 'function': "loaded" });
    });

    var iStreamMode = 0;  // 流模式

    var bOpenMode = false;
    var bOpenStream = false;

    var funGetFrameData = null;
    var funGetAudFrameData = null;

    var bWorkerPrintLog = false;//worker层log开关

    var g_nPort = -1;

    self.JSPlayM4_RunTimeInfoCallBack = function (nPort, pstRunTimeInfo, pUser) {
        let port = nPort;
        let user = pUser;
        let nRunTimeModule = Module.HEAP32[pstRunTimeInfo >> 2];
        let nStrVersion = Module.HEAP32[pstRunTimeInfo + 4 >> 2];
        let nFrameTimeStamp = Module.HEAP32[pstRunTimeInfo + 8 >> 2];
        let nFrameNum = Module.HEAP32[pstRunTimeInfo + 12 >> 2];
        let nErrorCode = Module.HEAP32[pstRunTimeInfo + 16 >> 2];
        // console.log("nRunTimeModule:"+nRunTimeModule+",nFrameNum:"+nFrameNum+",nErrorCode:"+nErrorCode);
        postMessage({ 'function': "RunTimeInfoCallBack", 'nRunTimeModule': nRunTimeModule, 'nStrVersion': nStrVersion, 'nFrameTimeStamp': nFrameTimeStamp, 'nFrameNum': nFrameNum, 'nErrorCode': nErrorCode });
    }

    onmessage = function (event) {
        var eventData = event.data;
        var res = 0;
        switch (eventData.command) {
            case "printLog":
                let downloadFlag = eventData.data;
                if (downloadFlag === true) {
                    bWorkerPrintLog = true;
                    res = Module._SetPrintLogFlag(g_nPort, downloadFlag);
                }
                else {
                    bWorkerPrintLog = false;
                    res = Module._SetPrintLogFlag(g_nPort, downloadFlag);
                }

                if (res !== PLAYM4_OK) {
                    console.log("DecodeWorker.js: PlayerSDK print log failed,res" + res);
                    postMessage({ 'function': "printLog", 'errorCode': res });
                }
                break;
            case "SetPlayPosition":
                let nFrameNumOrTime = eventData.data;
                let enPosType = eventData.type;
                // res = Module._SetPlayPosition(nFrameNumOrTime,enPosType);
                // if (res !== PLAYM4_OK)
                // {
                //     postMessage({'function': "SetPlayPosition", 'errorCode': res});
                //     return;
                // }
                // //有没有buffer需要清除

                break;
            case "SetStreamOpenMode":
                //获取端口号
                g_nPort = Module._GetPort();
                //设置流打开模式
                iStreamMode = eventData.data;
                res = Module._SetStreamOpenMode(g_nPort, iStreamMode);
                if (res !== PLAYM4_OK) {
                    postMessage({ 'function': "SetStreamOpenMode", 'errorCode': res });
                    return;
                }
                bOpenMode = true;
                break;

            case "OpenStream":
                // 接收到的数据
                var iHeadLen = eventData.dataSize;
                var pHead = Module._malloc(iHeadLen + 4);
                if (pHead === null) {
                    return;
                }
                var aHead = Module.HEAPU8.subarray(pHead, pHead + iHeadLen);
                aHead.set(eventData.data);
                res = Module._OpenStream(g_nPort, pHead, iHeadLen, eventData.bufPoolSize);
                postMessage({ 'function': "OpenStream", 'errorCode': res });
                if (res !== PLAYM4_OK) {
                    //释放内存
                    Module._free(pHead);
                    pHead = null;
                    return;
                }
                bOpenStream = true;
                break;
            case "Play":
                let resP = Module._Play(g_nPort);
                if (resP !== PLAYM4_OK) {
                    return;
                }
                break;
            case "InputData":
                // 接收到的数据
                var iLen = eventData.dataSize;
                if (iLen > 0) {
                    var pInputData = Module._malloc(iLen);
                    if (pInputData === null) {
                        return;
                    }
                    var inputData = new Uint8Array(eventData.data);
                    // var aInputData = Module.HEAPU8.subarray(pInputData, pInputData + iLen);
                    // aInputData.set(inputData);
                    Module.writeArrayToMemory(inputData, pInputData);
                    inputData = null;
                    res = Module._InputData(g_nPort, pInputData, iLen);
                    if (res !== PLAYM4_OK) {
                        let errorCode = Module._GetLastError(g_nPort);
                        let sourceRemain = Module._GetSourceBufferRemain(g_nPort);
                        postMessage({ 'function': "InputData", 'errorCode': errorCode, "sourceRemain": sourceRemain });
                    }
                    Module._free(pInputData);
                    pInputData = null;
                } else {
                    let sourceRemain = Module._GetSourceBufferRemain(g_nPort);
                    if (sourceRemain == 0) {
                        // console.log("C buffer and JS buffer size is both 0");
                        postMessage({ 'function': "InputData", 'errorCode': PLAYM4_NEED_MORE_DATA });
                        return;
                    }
                }

                /////////////////////
                if (funGetFrameData === null) {
                    funGetFrameData = Module.cwrap('GetFrameData', 'number');
                }

                while (bOpenMode && bOpenStream) {

                    var ret = getFrameData(funGetFrameData);
                    // 直到获取视频帧或数据不足为止
                    if (PLAYM4_VIDEO_FRAME === ret || PLAYM4_NEED_MORE_DATA === ret || PLAYM4_ORDER_ERROR === ret || PLAYM4_NEED_NEET_LOOP === ret)//PLAYM4_VIDEO_FRAME === ret ||
                    {
                        break;
                    }
                }
                break;

            case "SetSecretKey":
                var keyLen = eventData.nKeyLen;
                var pKeyData = Module._malloc(keyLen);
                if (pKeyData === null) {
                    return;
                }
                var nKeySize = eventData.data.length
                var bufData = stringToBytes(eventData.data);
                var aKeyData = Module.HEAPU8.subarray(pKeyData, pKeyData + keyLen);
                let u8array = new Uint8Array(keyLen);
                aKeyData.set(u8array, 0);
                aKeyData.set(new Uint8Array(bufData));
                aKeyData = null;
                u8array = null;

                res = Module._SetSecretKey(g_nPort, eventData.nKeyType, pKeyData, keyLen);//, nKeySize
                if (res !== PLAYM4_OK) {
                    postMessage({ 'function': "SetSecretKey", 'errorCode': res });
                    Module._free(pKeyData);
                    pKeyData = null;
                    return;
                }

                Module._free(pKeyData);
                pKeyData = null;
                break;

            case "GetBMP":
                var nBMPWidth = eventData.width;
                var nBMPHeight = eventData.height;
                var pYUVData = eventData.data;
                var nYUVSize = nBMPWidth * nBMPHeight * 3 / 2;
                var oBMPCropRect = eventData.rect;

                var pDataYUV = Module._malloc(nYUVSize);
                if (pDataYUV === null) {
                    return;
                }

                Module.writeArrayToMemory(new Uint8Array(pYUVData, 0, nYUVSize), pDataYUV);

                // 分配BMP空间
                var nBmpSize = nBMPWidth * nBMPHeight * 4 + 60;
                var pBmpData = Module._malloc(nBmpSize);
                var pBmpSize = Module._malloc(4);
                if (pBmpData === null || pBmpSize === null) {
                    Module._free(pDataYUV);
                    pDataYUV = null;

                    if (pBmpData != null) {
                        Module._free(pBmpData);
                        pBmpData = null;
                    }

                    if (pBmpSize != null) {
                        Module._free(pBmpSize);
                        pBmpSize = null;
                    }
                    return;
                }

                //Module._memset(pBmpSize, nBmpSize, 4); // 防止bmp截图出现输入数据过大的错误码
                Module.setValue(pBmpSize, nBmpSize, "i32");
                res = Module._GetBMP(g_nPort, pDataYUV, nYUVSize, pBmpData, pBmpSize,
                    oBMPCropRect.left, oBMPCropRect.top, oBMPCropRect.right, oBMPCropRect.bottom);
                if (res !== PLAYM4_OK) {
                    postMessage({ 'function': "GetBMP", 'errorCode': res });
                    Module._free(pDataYUV);
                    pDataYUV = null;
                    Module._free(pBmpData);
                    pBmpData = null;
                    Module._free(pBmpSize);
                    pBmpSize = null;
                    return;
                }

                // 获取BMP图片大小
                var nBmpDataSize = Module.getValue(pBmpSize, "i32");

                // 获取BMP图片数据
                var aBmpData = new Uint8Array(nBmpDataSize);
                aBmpData.set(Module.HEAPU8.subarray(pBmpData, pBmpData + nBmpDataSize));

                postMessage({ 'function': "GetBMP", 'data': aBmpData, 'errorCode': res }, [aBmpData.buffer]);
                aBmpData = null;
                if (pDataYUV != null) {
                    Module._free(pDataYUV);
                    pDataYUV = null;
                }
                if (pBmpData != null) {
                    Module._free(pBmpData);
                    pBmpData = null;
                }
                if (pBmpSize != null) {
                    Module._free(pBmpSize);
                    pBmpSize = null;
                }
                break;

            case "GetJPEG":
                var nJpegWidth = eventData.width;
                var nJpegHeight = eventData.height;
                var pYUVData1 = eventData.data;
                var nYUVSize1 = nJpegWidth * nJpegHeight * 3 / 2;
                var oJpegCropRect = eventData.rect;

                var pDataYUV1 = Module._malloc(nYUVSize1);
                if (pDataYUV1 === null) {
                    return;
                }

                Module.writeArrayToMemory(new Uint8Array(pYUVData1, 0, nYUVSize1), pDataYUV1);

                // 分配JPEG空间
                var pJpegData = Module._malloc(nYUVSize1);
                var pJpegSize = Module._malloc(4);
                if (pJpegData === null || pJpegSize === null) {
                    if (pJpegData != null) {
                        Module._free(pJpegData);
                        pJpegData = null;
                    }

                    if (pJpegSize != null) {
                        Module._free(pJpegSize);
                        pJpegSize = null;
                    }

                    if (pDataYUV1 != null) {
                        Module._free(pDataYUV1);
                        pDataYUV1 = null;
                    }
                    return;
                }

                Module.setValue(pJpegSize, nJpegWidth * nJpegHeight * 2, "i32");    // JPEG抓图，输入缓冲长度不小于当前帧YUV大小

                res = Module._GetJPEG(g_nPort, pDataYUV1, nYUVSize1, pJpegData, pJpegSize,
                    oJpegCropRect.left, oJpegCropRect.top, oJpegCropRect.right, oJpegCropRect.bottom);
                if (res !== PLAYM4_OK) {
                    postMessage({ 'function': "GetJPEG", 'errorCode': res });
                    if (pJpegData != null) {
                        Module._free(pJpegData);
                        pJpegData = null;
                    }

                    if (pJpegSize != null) {
                        Module._free(pJpegSize);
                        pJpegSize = null;
                    }

                    if (pDataYUV1 != null) {
                        Module._free(pDataYUV1);
                        pDataYUV1 = null;
                    }
                    return;
                }

                // 获取JPEG图片大小
                var nJpegSize = Module.getValue(pJpegSize, "i32");

                // 获取JPEG图片数据
                var aJpegData = new Uint8Array(nJpegSize);
                aJpegData.set(Module.HEAPU8.subarray(pJpegData, pJpegData + nJpegSize));

                postMessage({ 'function': "GetJPEG", 'data': aJpegData, 'errorCode': res }, [aJpegData.buffer]);

                nJpegSize = null;
                aJpegData = null;

                if (pDataYUV1 != null) {
                    Module._free(pDataYUV1);
                    pDataYUV1 = null;
                }
                if (pJpegData != null) {
                    Module._free(pJpegData);
                    pJpegData = null;
                }
                if (pJpegSize != null) {
                    Module._free(pJpegSize);
                    pJpegSize = null;
                }
                break;

            case "SetDecodeFrameType":
                var nFrameType = eventData.data;
                res = Module._SetDecodeFrameType(g_nPort, nFrameType);
                if (res !== PLAYM4_OK) {
                    postMessage({ 'function': "SetDecodeFrameType", 'errorCode': res });
                    return;
                }
                break;
            case "CloseStream":
                //stop
                let resS = Module._Stop(g_nPort);
                if (resS !== PLAYM4_OK) {
                    postMessage({ 'function': "Stop", 'errorCode': res });
                    return;
                }
                //closeStream
                res = Module._CloseStream(g_nPort);
                if (res !== PLAYM4_OK) {
                    postMessage({ 'function': "CloseStream", 'errorCode': res });
                    return;
                }
                //freePort
                let resF = Module._FreePort(g_nPort);
                if (resF !== PLAYM4_OK) {
                    postMessage({ 'function': "FreePort", 'errorCode': res });
                    return;
                }
                break;
            case "PlaySound":
                let resPS = Module._PlaySound(g_nPort);
                if (resPS !== PLAYM4_OK) {
                    console.log("PlaySound failed");
                    return;
                }
                break;
            case "StopSound":
                let resSS = Module._StopSound();
                if (resSS !== PLAYM4_OK) {
                    console.log("StopSound failed");
                    return;
                }
                break;
            case "SetVolume":
                let resSV = Module._SetVolume(g_nPort, eventData.volume);
                if (resSV !== PLAYM4_OK) {
                    console.log("Audio SetVolume failed");
                    return;
                }
                break;
            case "GetVolume":
                let volume = Module._GetVolume();
                if (volume > 0) {
                    postMessage({ 'function': "GetVolume", 'volume': volume });
                }
                else {
                    console.log("Audio GetVolume failed");
                    return;
                }
                break;
            case "OnlyPlaySound":
                let resOPS = Module._OnlyPlaySound(g_nPort);
                if (resOPS !== PLAYM4_OK) {
                    console.log("OnlyPlaySound failed");
                    return;
                }
                break;
            case "Pause":
                let resPa = Module._Pause(g_nPort, eventData.bPlay);
                if (resPa !== PLAYM4_OK) {
                    console.log("Pause failed");
                    return;
                }
            case "PlayRate":
                Module._SetPlayRate(g_nPort, eventData.playRate);
                break;
            case "SetIFrameDecInterval":
                Module._SetIFrameDecInterval(g_nPort, eventData.data);
                break;
            case "SetLostFrameMode":
                Module._SetLostFrameMode(g_nPort, eventData.data);
                break;
            case "SetDemuxModel":
                Module._SetDemuxModel(g_nPort, eventData.nIdemuxType, eventData.bTrue);
                break;
            case "SkipErrorData":
                Module._SkipErrorData(g_nPort, eventData.bSkip);
                break;
            case "SetDecodeERC":
                Module._SetDecodeERC(g_nPort, eventData.nLevel);
                break;
            case "SetANRParam":
                Module._SetANRParam(g_nPort, eventData.nEnable, eventData.nANRLevel);
                break;
            case "SetResampleValue":
                Module._SetResampleValue(g_nPort, eventData.nEnable, eventData.resampleValue);
                break;
            case "GetLastError":
                let errorCode = Module._GetLastError(g_nPort);
                postMessage({ 'function': "GetLastError", 'errorCode': errorCode });
                break;
            case "SetGlobalBaseTime":
                Module._SetGlobalBaseTime(g_nPort, eventData.year, eventData.month, eventData.day, eventData.hour, eventData.min, eventData.sec, eventData.ms);
                break;
            case "SetRunTimeInfoCB":
                Module._SetRunTimeInfoCallBackEx(g_nPort, eventData.nModuleType, 0);
                break;
            default:
                break;
        }
    };

    function getOSDTime(oFrameInfo) {
        var iYear = oFrameInfo.year;
        var iMonth = oFrameInfo.month;
        var iDay = oFrameInfo.day;
        var iHour = oFrameInfo.hour;
        var iMinute = oFrameInfo.minute;
        var iSecond = oFrameInfo.second;

        if (iMonth < 10) {
            iMonth = "0" + iMonth;
        }
        if (iDay < 10) {
            iDay = "0" + iDay;
        }
        if (iHour < 10) {
            iHour = "0" + iHour;
        }
        if (iMinute < 10) {
            iMinute = "0" + iMinute;
        }
        if (iSecond < 10) {
            iSecond = "0" + iSecond;
        }

        return iYear + "-" + iMonth + "-" + iDay + " " + iHour + ":" + iMinute + ":" + iSecond;
    }
    // 获取帧数据
    function getFrameData(fun) {
        // function getFrameData() {
        // 获取帧数据
        // var res = Module._GetFrameData();
        var res = fun();
        if (res === PLAYM4_OK) {
            var oFrameInfo = Module._GetFrameInfo();
            switch (oFrameInfo.frameType) {
                case AUDIO_TYPE:
                    var iSize = oFrameInfo.frameSize;
                    if (0 === iSize) {
                        return -1;
                    }
                    var pPCM = Module._GetFrameBuffer();
                    // var audioBuf = new ArrayBuffer(iSize);
                    var aPCMData = new Uint8Array(iSize);
                    aPCMData.set(Module.HEAPU8.subarray(pPCM, pPCM + iSize));
                    if (bWorkerPrintLog) {
                        console.log("<<<Worker: audio media Info: nSise:" + oFrameInfo.frameSize + ",nSampleRate:" + oFrameInfo.samplesPerSec + ',channel:' + oFrameInfo.channels + ',bitsPerSample:' + oFrameInfo.bitsPerSample);
                    }
                    postMessage({
                        'function': "GetFrameData", 'type': "audioType", 'data': aPCMData.buffer,
                        'frameInfo': oFrameInfo, 'errorCode': res
                    }, [aPCMData.buffer]);

                    oFrameInfo = null;
                    pPCM = null;
                    aPCMData = null;
                    return PLAYM4_AUDIO_FRAME;

                case VIDEO_TYPE:
                    var szOSDTime = getOSDTime(oFrameInfo);

                    var iWidth = oFrameInfo.width;
                    var iHeight = oFrameInfo.height;

                    var iYUVSize = iWidth * iHeight * 3 / 2;
                    if (0 === iYUVSize) {
                        return -1;
                    }

                    var pYUV = Module._GetFrameBuffer();

                    // 图像数据渲染后压回，若从主码流切到子码流，存在数组大小与图像大小不匹配现象
                    var aYUVData = new Uint8Array(iYUVSize);
                    aYUVData.set(Module.HEAPU8.subarray(pYUV, pYUV + iYUVSize));
                    if (bWorkerPrintLog) {
                        console.log("<<<Worker: video media Info: Width:" + oFrameInfo.width + ",Height:" + oFrameInfo.height + ",timeStamp:" + oFrameInfo.timeStamp);
                    }

                    postMessage({
                        'function': "GetFrameData", 'type': "videoType", 'data': aYUVData.buffer,
                        'dataLen': aYUVData.length, 'osd': szOSDTime, 'frameInfo': oFrameInfo, 'errorCode': res
                    }, [aYUVData.buffer]);

                    oFrameInfo = null;
                    pYUV = null;
                    aYUVData = null;
                    return PLAYM4_VIDEO_FRAME;

                case PRIVT_TYPE:
                    postMessage({
                        'function': "GetFrameData", 'type': "", 'data': null,
                        'dataLen': -1, 'osd': 0, 'frameInfo': null, 'errorCode': PLAYM4_SYS_NOT_SUPPORT
                    });
                    return PLAYM4_SYS_NOT_SUPPORT;

                default:
                    postMessage({
                        'function': "GetFrameData", 'type': "", 'data': null,
                        'dataLen': -1, 'osd': 0, 'frameInfo': null, 'errorCode': PLAYM4_SYS_NOT_SUPPORT
                    });
                    return PLAYM4_SYS_NOT_SUPPORT;
            }
        }
        else {
            let errorCode = Module._GetLastError(g_nPort);
            //解码失败返回裸数据
            if (PLAYM4_DECODE_ERROR === errorCode) {
                var rawInfo = Module._GetRawDataInfo();
                var pRawData = Module._GetRawDataBuffer();
                var aRawData = new Uint8Array(rawInfo.isize);
                aRawData.set(Module.HEAPU8.subarray(pRawData, pRawData + rawInfo.isize));
                postMessage({
                    'function': "GetRawData", 'type': "", 'data': aRawData.buffer,
                    'rawDataLen': rawInfo.isize, 'osd': 0, 'frameInfo': null, 'errorCode': errorCode
                });
                rawInfo = null;
                pRawData = null;
                aRawData = null;
            }
            //需要更多数据
            if (PLAYM4_NEED_MORE_DATA === errorCode || PLAYM4_SYS_NOT_SUPPORT === errorCode || PLAYM4_NEED_NEET_LOOP === errorCode) {
                postMessage({
                    'function': "GetFrameData", 'type': "", 'data': null,
                    'dataLen': -1, 'osd': 0, 'frameInfo': null, 'errorCode': errorCode
                });
            }
            return errorCode;
        }
    }

    // 开始计算时间
    function startTime() {
        return new Date().getTime();
    }

    // 结束计算时间
    function endTime() {
        return new Date().getTime();
    }

    // 字母字符串转byte数组
    function stringToBytes(str) {
        var ch, st, re = [];
        for (var i = 0; i < str.length; i++) {
            ch = str.charCodeAt(i);  // get char
            st = [];                 // set up "stack"
            do {
                st.push(ch & 0xFF);  // push byte to stack
                ch = ch >> 8;          // shift value down by 1 byte
            }
            while (ch);
            // add stack contents to result
            // done because chars have "wrong" endianness
            re = re.concat(st.reverse());
        }
        // return an array of bytes
        return re;
    }
})();
`};n.default=c},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.StorageManager=void 0;var c=function(){function me(m,U){for(var le=0;le<U.length;le++){var re=U[le];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(m,re.key,re)}}return function(m,U,le){return U&&me(m.prototype,U),le&&me(m,le),m}}(),d=o(2),u=o(0),k=o(15),P=S(k);function S(me){return me&&me.__esModule?me:{default:me}}function R(me,m){if(!(me instanceof m))throw new TypeError("Cannot call a class as a function")}var b="Web/RecordFiles/",_="Web/PlaybackFiles/",oe=1e3,de=1,xe=3001;window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.URL=window.URL||window.webkitURL;var se=function(){function me(m,U,le,re){R(this,me),this.szUUID=m,this.szFileName=U,this.iStreamType=le,this.szPath="",this.bStart=!1,this.aStreamList=[],this.options=re}return c(me,[{key:"init",value:function(){var U=this;this.iStreamType===0?this.szPath=b:this.iStreamType===1&&(this.szPath=_),this.szPath+=this.getDateDir();var le=U.szPath.split("/"),re=new Promise(function(Pe){window.requestFileSystem(window.TEMPORARY,U.options.iFileSize,function(fe){U.createDir(fe.root,le,function(){Pe()})},U.errorHandler)});return re}},{key:"getDateDir",value:function(){return u.oTool.dateFormat(new Date,"yyyy-MM-dd")}},{key:"createDir",value:function(U,le,re){var Pe=this;le.length?U.getDirectory(le[0],{create:!0},function(fe){Pe.createDir(fe,le.slice(1),re)},Pe.errorHandler):re()}},{key:"errorHandler",value:function(){}},{key:"writeFileHeader",value:function(U){var le=this;window.requestFileSystem(window.TEMPORARY,le.options.iFileSize,function(re){re.root.getFile(le.szPath+"/"+le.szFileName,{create:!0},function(Pe){Pe.createWriter(function(fe){fe.onwriteend=function(){le.bStart=!0,le.writeFile(fe)},fe.onerror=function(){},fe.seek(fe.length);var $e=new Blob([U]);fe.write($e)},le.errorHandler)},le.errorHandler)},le.errorHandler)}},{key:"writeFileContent",value:function(U){this.aStreamList.push(U)}},{key:"writeFile",value:function(U){var le=this;if(this.bStart)if(this.aStreamList.length>0){var re=this.aStreamList.shift();if(U.seek(U.length),U.length>=this.options.iFileSize){this.options.cbEventHandler&&this.options.cbEventHandler(xe,this.szUUID);return}var Pe=new Blob([re]);U.write(Pe)}else setTimeout(function(){le.writeFile(U)},oe)}},{key:"stopWriteFile",value:function(){var U=this;this.bStart=!1,this.aStreamList.length=0;var le=new Promise(function(re){window.requestFileSystem(window.TEMPORARY,U.options.iFileSize,function(Pe){Pe.root.getFile(U.szPath+"/"+U.szFileName,{create:!1},function(fe){fe.file(function($e){re(),u.oTool.downloadFile($e,$e.name)})},U.errorHandler)},U.errorHandler)});return le}}]),me}(),Ae=function(){function me(m,U,le,re,Pe,fe,$e,ot){R(this,me),this.szBasePath=m,this.szUUID=U,this.szFileName=le,this.aHeadBuf=new Uint8Array(re),this.iPackType=Pe,this.iStreamType=fe,this.oWorker=null,this.oFileSystem=null,this.options=$e,this.bHead=!0,this.staticPath=ot}return c(me,[{key:"init",value:function(){var U=this,le=new Promise(function(re,Pe){U.initFileSystem().then(function(){U.initWorker().then(function(){re(U.szUUID)},function(fe){Pe(fe)})},function(fe){Pe(fe)})});return le}},{key:"initFileSystem",value:function(){var U=this;this.oFileSystem=new se(this.szUUID,this.szFileName,this.iStreamType,this.options);var le=new Promise(function(re,Pe){U.oFileSystem.init().then(function(){re()},function(fe){Pe(fe)})});return le}},{key:"initWorker",value:function(){var U=this,le=new Promise(function(re){var Pe=new Blob([(0,P.default)(U.staticPath)]),fe=URL.createObjectURL(Pe);U.oWorker=new Worker(fe),U.oWorker.onmessage=function($e){var ot=$e.data,F=U.iPackType;if(U.options.iPackage===1&&(F=12),ot.type==="loaded")U.oWorker.postMessage({type:"create",buf:U.aHeadBuf.buffer,len:40,packType:F},[U.aHeadBuf.buffer]);else if(ot.type==="created")re();else if(ot.type==="outputData"){var Ie=new Uint8Array(ot.buf);U.options.iPackage===1?U.bHead?(U.oFileSystem.writeFileHeader(Ie),U.bHead=!1):U.oFileSystem.writeFileContent(Ie):de===ot.dType?U.oFileSystem.writeFileHeader(Ie):U.oFileSystem.writeFileContent(Ie)}}});return le}},{key:"inputData",value:function(U){if(this.oWorker){var le=new Uint8Array(U);this.oWorker.postMessage({type:"inputData",buf:le.buffer,len:le.length},[le.buffer])}}},{key:"stopRecord",value:function(){var U=this,le=new Promise(function(re,Pe){U.oWorker?U.oWorker.postMessage({type:"release"}):Pe(),U.oFileSystem?U.oFileSystem.stopWriteFile().then(function(){U.bHead=!0,re()},function(){Pe()}):Pe()});return le}}]),me}(),qe=function(){var me=Symbol("STORAGELIST"),m=function(){function U(le,re,Pe){R(this,U),this.szBasePath=le,this[me]={},this.options={iFileSize:1024*1024*1024},Object.assign(this.options,re),typeof re.staticPath=="string"&&(this.staticPath=re.staticPath)}return c(U,[{key:"startRecord",value:function(re,Pe,fe,$e,ot){var F=this,Ie=(0,d.v4)(),Ve=Object.assign({},this.options,ot),yi=new Ae(this.szBasePath,Ie,re,Pe,fe,$e,Ve,this.staticPath),Hi=new Promise(function(Pi,Ci){yi.init().then(function(Qi){F[me][Qi]=yi,Pi(Qi)},function(Qi){Ci(Qi)})});return Hi}},{key:"inputData",value:function(re,Pe){var fe=this[me][re];fe&&fe.inputData(Pe)}},{key:"stopRecord",value:function(re){var Pe=this,fe=new Promise(function($e,ot){var F=Pe[me][re];F?F.stopRecord().then(function(){delete Pe[me][re],$e()},function(){ot()}):ot()});return fe}}]),U}();return m}();n.StorageManager=qe},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0});var c=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"https://open.ys7.com/assets/ezuikit_v3.6";return`(function() {
    const RECORDRTP = 0;  //录制一份未经过转封装的码流原始数据，用于定位问题
    self.Module = { memoryInitializerRequest: loadMemInitFile(), TOTAL_MEMORY: 128*1024*1024 };
    importScripts('`+u+`/js/transform/SystemTransform.js');

    Module.postRun.push(function() {
        postMessage({type: "loaded"});
    });

    onmessage = function (e) {
        var data = e.data;

        if ("create" === data.type) {
            var iHeadLen = data.len;
            var pHead = Module._malloc(iHeadLen);

            var aData = Module.HEAPU8.subarray(pHead, pHead + iHeadLen);
            aData.set(new Uint8Array(data.buf));

            var iTransType = data.packType;//目标格式 RTP->PS
            if (RECORDRTP) {
                postMessage({type: "created"});
                postMessage({type: "outputData", buf: data.buf, dType: 1}, [data.buf]);
            } else {
                var iRet = Module._ST_Create(pHead, iHeadLen, iTransType);
                if (iRet != 0) {
                    console.log("_ST_Create failed!");
                } else {
                    Module._ST_Start();
                    postMessage({type: "created"});
                }
            }

        } else if ("inputData" === data.type) {
            if (RECORDRTP) {
                var aFileData = new Uint8Array(data.buf);  // 拷贝一份
                var iBufferLen = aFileData.length;
                var szBufferLen = iBufferLen.toString(16);
                if (szBufferLen.length === 1) {
                    szBufferLen = "000" + szBufferLen;
                } else if (szBufferLen.length === 2) {
                    szBufferLen = "00" + szBufferLen;
                } else if (szBufferLen.length === 3) {
                    szBufferLen = "0" + szBufferLen;
                }
                var aData = [0, 0, parseInt(szBufferLen.substring(0, 2), 16), parseInt(szBufferLen.substring(2, 4), 16)];
                for(var iIndex = 0, iDataLength = aFileData.length; iIndex < iDataLength; iIndex++) {
                    aData[iIndex + 4] = aFileData[iIndex]
                }
                var dataUint8 = new Uint8Array(aData);
                postMessage({type: "outputData", buf: dataUint8.buffer, dType: 2}, [dataUint8.buffer]);
            } else {
                var iDataLen = data.len;
                var pData = Module._malloc(iDataLen);

                var aData = Module.HEAPU8.subarray(pData, pData + iDataLen);
                aData.set(new Uint8Array(data.buf));

                var iRet = Module._ST_InputData(0, pData, iDataLen);
                if (iRet != 0) {
                    //console.log("_ST_InputData failed!");// 一开始会有一些失败，但是不影响后面的文件存储
                }

                Module._free(pData);
            }
        } else if ("release" === data.type) {
            Module._ST_Stop();
            Module._ST_Release();

            close();
        }
    };

    function loadMemInitFile() {
        var req = new XMLHttpRequest();
        req.open('GET', '`+u+`/js/transform/SystemTransform.js.mem');
        req.responseType = 'arraybuffer';
        req.send();

        return req;
    }
})();`};n.default=c},function(t,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.ESCanvas=void 0;var c=function(){function _(oe,de){for(var xe=0;xe<de.length;xe++){var se=de[xe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(oe,se.key,se)}}return function(oe,de,xe){return de&&_(oe.prototype,de),xe&&_(oe,xe),oe}}(),d=o(1),u=k(d);function k(_){return _&&_.__esModule?_:{default:_}}function P(_,oe){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(K(oe)==="object"||typeof oe=="function")?oe:_}function S(_,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+K(oe));_.prototype=Object.create(oe&&oe.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(_,oe):_.__proto__=oe)}function R(_,oe){if(!(_ instanceof oe))throw new TypeError("Cannot call a class as a function")}var b=function(){var _=null,oe=Symbol("TRANS"),de=Symbol("CANVAS"),xe=Symbol("CONTEXT"),se=Symbol("SHAPES"),Ae=Symbol("DRAWSTATUS"),qe=Symbol("SHAPETYPE"),me=Symbol("MAXSHAPENUMSUPPORT"),m=Symbol("SHAPESTYLE"),U=Symbol("POLYGONDRAWING"),le=Symbol("CURRENTSHAPEINFO"),re=Symbol("DRAWSHAPEMULTIONETIME"),Pe=Symbol("EVENTCALLBACK");function fe(){_[xe].clearRect(0,0,_.m_iCanvasWidth,_.m_iCanvasHeight);for(var at=0,pt=_[se].length;at<pt;at++)_[se][at].draw()}function $e(at){var pt=_[se].length;pt<_[me]&&_[se].push(at)}function ot(){var at=!1,pt={},rt=0,We=0,ft=0,$t=0,ri=0,zt=0,ae="draw",be=null;function E(){for(var Q=-1,Ge=0,H=_[se].length;Ge<H;Ge++)if(_[se][Ge].m_bChoosed){Q=Ge;break}return Q}_[de][0].oncontextmenu=function(){return!1},_[de][0].onselectstart=function(){return!1},_[de].unbind(),_[de].bind("mousedown",function(Q){if(Q.button===2)_[U]&&be&&be.m_aPoint.length>=be.m_iMinClosed&&(be.m_bClosed=!0,_[U]=!1,be.setPointInfo(be.m_aPoint),$e(be),fe(),at=!1,_[re]||(_[Ae]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(be.m_szType,"onDrawEnd",be.m_szId));else if(Q.button===0){if(at){if(Math.abs(Q.offsetX-rt)>2&&Math.abs(Q.offsetY-We)>2&&($e(be),_[re]||(_[Ae]=!1)),_[Pe]){var Ge={startPos:[],endPos:[]};Ge.startPos=[rt,We],Ge.endPos=[Q.offsetX,Q.offsetY],_[Pe]&&_[Pe](Ge),_.clearAllShape()}be=null,at=!1;return}if(rt=Q.offsetX,We=Q.offsetY,ae="draw",!_[U]){var H=E();if(H!==-1&&_[se][H].inArc(Q.offsetX,Q.offsetY,5)&&(ae="stretch"),ae!=="stretch")for(var _e=0,M=_[se].length;_e<M;_e++)_[se][_e].inShape(Q.offsetX,Q.offsetY)&&_[se][_e].m_iEditType!==2?(_[se][_e].m_bChoosed=!0,_[se][_e].getMouseDownPoints(Q.offsetX,Q.offsetY),ae="drag",window.onDrawShapeEvent&&window.onDrawShapeEvent(_[se][_e].m_szType,"onChoose",_[se][_e].m_szId)):_[se][_e].m_bChoosed=!1;ae==="drag"?_[de][0].style.cursor="move":_[de][0].style.cursor="default",ae==="draw"&&_[se].length===1&&_[se][0].m_iRedrawMode===1&&(_.deleteRepeatPolyonById(_[se][0].m_szId),_[Ae]=!0),_[Ae]&&!_[re]&&(ae="draw")}if(ae==="draw"&&_[Ae]){if(_[me]<=_[se].length&&_[qe]!=="Grid"&&_[qe]!=="Point")return;_[qe]==="Rect"?(be=new Ie,be.m_szTips=_[le].szTips||""):_[qe]==="Grid"?_[se].length===0&&(be=new yi,$e(be)):_[qe]==="Polygon"?(_[U]||(_[U]=!0,be=new Pi,be.m_szId=_[le].szId||"",be.m_szTips=_[le].szTips||"",be.m_iMinClosed=_[le].iMinClosed||3,be.m_iMaxPointNum=_[le].iMaxPointNum||11,be.m_iPolygonType=_[le].iPolygonType,be.m_szDrawColor=_[le].szDrawColor,be.m_szFillColor=_[le].szFillColor,be.m_iTranslucent=_[le].iTranslucent,be.m_iRedrawMode=_[le].iRedrawMode),be.m_iPolygonType===1&&(be.addPoint(rt,We),be.m_aPoint.length===be.m_iMaxPointNum&&(be.m_bClosed=!0,_[U]=!1,$e(be),fe(),at=!1,_[re]||(_[Ae]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(be.m_szType,"onDrawEnd",be.m_szId)))):_[qe]==="Point"&&(_.clearShapeByType("Point"),be=new Ci,be.m_szId=_[le].szId||"",be.m_szDrawColor=_[le].szDrawColor,be.setPointInfo([[rt,We]]),$e(be),fe())}at=!0}}),_[de].bind("mouseenter",function(Q){pt={isIn:!0,offsetX:Q.offsetX,offsetY:Q.offsetY},_[Ae]&&at&&(_[qe]==="Rect"?be.move([[rt,We],[Q.offsetX,Q.offsetY]]):_[qe]==="Grid"&&_[se][0].move(rt,We,Q.offsetX,Q.offsetY))}),_[de].bind("mouseleave",function(Q){pt={isIn:!1,offsetX:Q.offsetX,offsetY:Q.offsetY}}),_[de].bind("mousemove",function(Q){if(_[U])_[Ae]&&at&&(_[qe]==="Polygon"&&be.m_iPolygonType===0&&(be.m_bClosed=!0),fe(),be.move(Q.offsetX,Q.offsetY,rt,We));else{var Ge=E();Ge>-1?at&&(ae==="drag"?(_[se][Ge].drag(Q.offsetX,Q.offsetY),window.onDrawShapeEvent&&window.onDrawShapeEvent(_[se][Ge].m_szType,"onDrag",_[se][Ge].m_szId)):ae==="stretch"&&(_[se][Ge].stretch(Q.offsetX,Q.offsetY),window.onDrawShapeEvent&&window.onDrawShapeEvent(_[se][Ge].m_szType,"onStretch",_[se][Ge].m_szId))):_[Ae]&&at&&pt.isIn&&(_[qe]==="Rect"?be.move([[rt,We],[Q.offsetX,Q.offsetY]]):_[qe]==="Grid"&&_[se][0].move(rt,We,Q.offsetX,Q.offsetY))}}),_[de].bind("mouseup",function(Q){if(_[de][0].style.cursor="default",be!==null&&typeof be<"u"&&ae==="draw")if(_[qe]==="Rect"){if(Math.abs(Q.offsetX-rt)>2&&Math.abs(Q.offsetY-We)>2&&($e(be),_[re]||(_[Ae]=!1)),_[Pe]){var Ge={startPos:[],endPos:[]};Ge.startPos=[rt,We],Ge.endPos=[Q.offsetX,Q.offsetY],_[Pe]&&_[Pe](Ge),_.clearAllShape()}be=null}else _[qe]==="Polygon"&&be.m_iPolygonType===0&&_[U]&&Math.abs(Q.offsetX-rt)>2&&Math.abs(Q.offsetY-We)>2&&($e(be),_[U]=!1,_[re]||(_[Ae]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(be.m_szType,"onDrawEnd",be.m_szId));_[U]?at=!0:at=!1,_[U]||fe()}),_[de].bind("dblclick",function(){_[Ae]&&_[qe]==="Grid"&&(_[se][0].m_szGridMap="fffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffc",fe())}),_[de].bind("touchstart",function(Q){var Ge=Q.target.getBoundingClientRect();if(Q.touches&&Q.touches[0]){if(_[oe]?(ft=parseInt(Q.touches[0].clientY-Ge.x)>0?parseInt(Q.touches[0].clientY-Ge.x):0,$t=parseInt(Q.touches[0].clientX-Ge.y)>0?parseInt(Q.touches[0].clientX-Ge.y):0):(ft=parseInt(Q.touches[0].clientX-Ge.x)>0?parseInt(Q.touches[0].clientX-Ge.x):0,$t=parseInt(Q.touches[0].clientY-Ge.y)>0?parseInt(Q.touches[0].clientY-Ge.y):0),ae="draw",_[Ae]){if(_[me]<=_[se].length&&_[qe]!=="Grid"&&_[qe]!=="Point")return;_[qe]==="Rect"?(be=new Ie,be.m_szTips=_[le].szTips||""):_[qe]==="Grid"?_[se].length===0&&(be=new yi,$e(be)):_[qe]==="Polygon"?(_[U]||(_[U]=!0,be=new Pi,be.m_szId=_[le].szId||"",be.m_szTips=_[le].szTips||"",be.m_iMinClosed=_[le].iMinClosed||3,be.m_iMaxPointNum=_[le].iMaxPointNum||11,be.m_iPolygonType=_[le].iPolygonType,be.m_szDrawColor=_[le].szDrawColor,be.m_szFillColor=_[le].szFillColor,be.m_iTranslucent=_[le].iTranslucent,be.m_iRedrawMode=_[le].iRedrawMode),be.m_iPolygonType===1&&(be.addPoint(ft,$t),be.m_aPoint.length===be.m_iMaxPointNum&&(be.m_bClosed=!0,_[U]=!1,$e(be),fe(),at=!1,_[re]||(_[Ae]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(be.m_szType,"onDrawEnd",be.m_szId)))):_[qe]==="Point"&&(_.clearShapeByType("Point"),be=new Ci,be.m_szId=_[le].szId||"",be.m_szDrawColor=_[le].szDrawColor,be.setPointInfo([[ft,$t]]),$e(be),fe())}at=!0}}),_[de].bind("touchmove",function(Q){var Ge=Q.target.getBoundingClientRect();if(Q.touches&&Q.touches[0])if(_[oe]?(ri=parseInt(Q.touches[0].clientY-Ge.x)>0?parseInt(Q.touches[0].clientY-Ge.x):0,zt=parseInt(Q.touches[0].clientX-Ge.y)>0?parseInt(Q.touches[0].clientX-Ge.y):0):(ri=parseInt(Q.touches[0].clientX-Ge.x)>0?parseInt(Q.touches[0].clientX-Ge.x):0,zt=parseInt(Q.touches[0].clientY-Ge.y)>0?parseInt(Q.touches[0].clientY-Ge.y):0),_[U])_[Ae]&&at&&(_[qe]==="Polygon"&&be.m_iPolygonType===0&&(be.m_bClosed=!0),fe(),be.move(Q.touches[0].offsetX,Q.touches[0].offsetY,ft,$t));else{var H=E();H>-1?at&&(ae==="drag"?(_[se][H].drag(ri,zt),window.onDrawShapeEvent&&window.onDrawShapeEvent(_[se][H].m_szType,"onDrag",_[se][H].m_szId)):ae==="stretch"&&(_[se][H].stretch(ri,zt),window.onDrawShapeEvent&&window.onDrawShapeEvent(_[se][H].m_szType,"onStretch",_[se][H].m_szId))):_[Ae]&&at&&(_[qe]==="Rect"?_[oe]?be.move([[ft*2,(Ge.width-$t)*2],[ri*2,(Ge.width-zt)*2]]):be.move([[ft*2,$t*2],[ri*2,zt*2]]):_[qe]==="Grid"&&_[se][0].move(ft,$t,ri,zt))}}),_[de].bind("touchend",function(Q){if(console.log("起始点坐标：",ft,$t),console.log("结束点坐标：",ri,zt),!(ft==ri&&$t==zt)){if(_[de][0].style.cursor="default",be!==null&&typeof be<"u"&&ae==="draw")if(_[qe]==="Rect"){if(Math.abs(ri-ft)>2&&Math.abs(zt-$t)>2&&($e(be),_[re]||(_[Ae]=!1)),_[Pe]&&Math.abs(ri-ft)>15&&Math.abs(zt-$t)>15){var Ge={startPos:[],endPos:[]};Ge.startPos=[ft,$t],Ge.endPos=[ri,zt],_[Pe]&&_[Pe](Ge)}_.clearAllShape(),be=null}else _[qe]==="Polygon"&&be.m_iPolygonType===0&&_[U]&&Math.abs(ri-ft)>2&&Math.abs(zt-$t)>2&&($e(be),_[U]=!1,_[re]||(_[Ae]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(be.m_szType,"onDrawEnd",be.m_szId));_[U]?at=!0:at=!1,_[U]||fe()}})}var F=function(){function at(){R(this,at),this.m_szId="",this.m_aPoint=[],this.m_bChoosed=!1,this.m_szDrawColor=_[m].szDrawColor,this.m_szFillColor=_[m].szFillColor,this.m_iTranslucent=_[m].iTranslucent,this.m_iIndexChoosePoint=-1,this.m_iDriftStartX=0,this.m_iDriftStartY=0,this.m_oEdgePoints={top:{x:0,y:0},left:{x:0,y:0},right:{x:0,y:0},bottom:{x:0,y:0}},this.m_szTips="",this.m_iEditType=0,this.m_iMinClosed=3,this.m_iMaxPointNum=11,this.m_bClosed=!1,this.m_iRedrawMode=0}return c(at,[{key:"draw",value:function(){}},{key:"drag",value:function(rt,We){if(this.m_iEditType!==2){var ft=this.m_aPoint.length,$t=0;for($t=0;$t<ft;$t++)if(this.m_aPoint[$t][0]+rt-this.m_iDriftStartX>_.m_iCanvasWidth||this.m_aPoint[$t][1]+We-this.m_iDriftStartY>_.m_iCanvasHeight||this.m_aPoint[$t][0]+rt-this.m_iDriftStartX<0||this.m_aPoint[$t][1]+We-this.m_iDriftStartY<0){this.m_iDriftStartX=rt,this.m_iDriftStartY=We;return}for($t=0;$t<ft;$t++)this.m_aPoint[$t][0]=this.m_aPoint[$t][0]+rt-this.m_iDriftStartX,this.m_aPoint[$t][1]=this.m_aPoint[$t][1]+We-this.m_iDriftStartY;this.m_iDriftStartX=rt,this.m_iDriftStartY=We,this.setPointInfo(this.m_aPoint),fe()}}},{key:"stretch",value:function(rt,We){this.m_iEditType===0&&(this.m_iIndexChoosePoint!==-1&&(this.m_aPoint[this.m_iIndexChoosePoint][0]=rt,this.m_aPoint[this.m_iIndexChoosePoint][1]=We),this.setPointInfo(this.m_aPoint),fe())}},{key:"inShape",value:function(rt,We){for(var ft=!1,$t=this.m_aPoint.length,ri=0,zt=$t-1;ri<$t;zt=ri++)this.m_aPoint[ri][1]>We!=this.m_aPoint[zt][1]>We&&rt<(this.m_aPoint[zt][0]-this.m_aPoint[ri][0])*(We-this.m_aPoint[ri][1])/(this.m_aPoint[zt][1]-this.m_aPoint[ri][1])+this.m_aPoint[ri][0]&&(ft=!ft);return ft}},{key:"inArc",value:function(rt,We,ft){for(var $t=!1,ri=0,zt=this.m_aPoint.length;ri<zt;ri++){var ae=Math.sqrt((rt-this.m_aPoint[ri][0])*(rt-this.m_aPoint[ri][0])+(We-this.m_aPoint[ri][1])*(We-this.m_aPoint[ri][1]));if(ae<ft){$t=!0,this.m_iIndexChoosePoint=ri;break}}return $t}},{key:"getMouseDownPoints",value:function(rt,We){this.m_iDriftStartX=rt,this.m_iDriftStartY=We}},{key:"getPointInfo",value:function(){return this.m_aPoint}},{key:"setPointInfo",value:function(rt){rt!==null&&typeof rt<"u"&&rt.length>0&&(this.m_aPoint=rt,this.setEdgePoints(rt))}},{key:"addPoint",value:function(rt,We){this.m_aPoint.length<this.m_iMaxPointNum&&this.m_aPoint.push([rt,We]),this.m_aPoint.length===this.m_iMaxPointNum&&this.setPointInfo(this.m_aPoint)}},{key:"setEdgePoints",value:function(rt){for(var We=0,ft=rt.length;We<ft;We++)We===0?(this.m_oEdgePoints.top.x=rt[We][0],this.m_oEdgePoints.top.y=rt[We][1],this.m_oEdgePoints.left.x=rt[We][0],this.m_oEdgePoints.left.y=rt[We][1],this.m_oEdgePoints.right.x=rt[We][0],this.m_oEdgePoints.right.y=rt[We][1],this.m_oEdgePoints.bottom.x=rt[We][0],this.m_oEdgePoints.bottom.y=rt[We][1]):(rt[We][1]<this.m_oEdgePoints.top.y&&(this.m_oEdgePoints.top.x=rt[We][0],this.m_oEdgePoints.top.y=rt[We][1]),rt[We][0]>this.m_oEdgePoints.right.x&&(this.m_oEdgePoints.right.x=rt[We][0],this.m_oEdgePoints.right.y=rt[We][1]),rt[We][1]>this.m_oEdgePoints.bottom.y&&(this.m_oEdgePoints.bottom.x=rt[We][0],this.m_oEdgePoints.bottom.y=rt[We][1]),rt[We][0]<this.m_oEdgePoints.left.x&&(this.m_oEdgePoints.left.x=rt[We][0],this.m_oEdgePoints.left.y=rt[We][1]))}}]),at}(),Ie=function(at){S(pt,at);function pt(){R(this,pt);var rt=P(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return rt.m_szType="Rect",rt}return c(pt,[{key:"setPointInfo",value:function(We){if(We!==null&&typeof We<"u"){for(var ft=We[0][0],$t=We[0][1],ri=We[0][0],zt=We[0][1],ae=0,be=We.length;ae<be;ae++)ft>We[ae][0]&&(ft=We[ae][0]),$t>We[ae][1]&&($t=We[ae][1]),ri<We[ae][0]&&(ri=We[ae][0]),zt<We[ae][1]&&(zt=We[ae][1]);this.m_aPoint=[[ft,$t],[ri,$t],[ri,zt],[ft,zt]]}}},{key:"draw",value:function(){_[xe].fillStyle=this.m_szFillColor,_[xe].strokeStyle=this.m_szDrawColor;var We=this.m_aPoint[0][0],ft=this.m_aPoint[0][1],$t=this.m_aPoint[2][0]-We,ri=this.m_aPoint[2][1]-ft;if(_[xe].globalAlpha=this.m_iTranslucent,_[xe].fillRect(We,ft,$t,ri),_[xe].globalAlpha=1,_[xe].fillText(this.m_szTips,(We+this.m_aPoint[2][0])/2,(ft+this.m_aPoint[2][1])/2),this.m_bChoosed){var zt=Math.round($t/2),ae=Math.round(ri/2);if(this.m_iEditType===0)for(var be=[We,We+zt,We+$t,We,We+$t,We,We+zt,We+$t],E=[ft,ft,ft,ft+ae,ft+ae,ft+ri,ft+ri,ft+ri],Q=0;Q<8;Q++)_[xe].beginPath(),_[xe].arc(be[Q],E[Q],3,0,360,!1),_[xe].fillStyle=this.m_szDrawColor,_[xe].closePath(),_[xe].fill()}_[xe].strokeRect(We,ft,$t,ri)}},{key:"stretch",value:function(We,ft){this.m_iEditType===0&&(this.m_iIndexChoosePoint===0?We<this.m_aPoint[2][0]&&ft<this.m_aPoint[2][1]&&(this.m_aPoint[0][0]=We,this.m_aPoint[0][1]=ft,this.m_aPoint[3][0]=We,this.m_aPoint[1][1]=ft):this.m_iIndexChoosePoint===1?ft<this.m_aPoint[2][1]&&(this.m_aPoint[0][1]=ft,this.m_aPoint[1][1]=ft):this.m_iIndexChoosePoint===2?We>this.m_aPoint[3][0]&&ft<this.m_aPoint[3][1]&&(this.m_aPoint[1][0]=We,this.m_aPoint[1][1]=ft,this.m_aPoint[2][0]=We,this.m_aPoint[0][1]=ft):this.m_iIndexChoosePoint===3?We<this.m_aPoint[2][0]&&(this.m_aPoint[0][0]=We,this.m_aPoint[3][0]=We):this.m_iIndexChoosePoint===4?We>this.m_aPoint[0][0]&&(this.m_aPoint[1][0]=We,this.m_aPoint[2][0]=We):this.m_iIndexChoosePoint===5?We<this.m_aPoint[1][0]&&ft>this.m_aPoint[1][1]&&(this.m_aPoint[3][0]=We,this.m_aPoint[3][1]=ft,this.m_aPoint[0][0]=We,this.m_aPoint[2][1]=ft):this.m_iIndexChoosePoint===6?ft>this.m_aPoint[1][1]&&(this.m_aPoint[2][1]=ft,this.m_aPoint[3][1]=ft):this.m_iIndexChoosePoint===7&&We>this.m_aPoint[0][0]&&ft>this.m_aPoint[0][1]&&(this.m_aPoint[2][0]=We,this.m_aPoint[2][1]=ft,this.m_aPoint[1][0]=We,this.m_aPoint[3][1]=ft),fe())}},{key:"move",value:function(We){fe(),this.m_bChoosed=!0;var ft=We[0][0],$t=We[0][1],ri=We[1][0],zt=We[1][1];this.setPointInfo([[ft,$t],[ri,$t],[ri,zt],[ft,zt]]),this.draw()}},{key:"inArc",value:function(We,ft,$t){for(var ri=this.m_aPoint[0][0],zt=this.m_aPoint[0][1],ae=this.m_aPoint[2][0]-ri,be=this.m_aPoint[2][1]-zt,E=Math.round(ae/2),Q=Math.round(be/2),Ge=[ri,ri+E,ri+ae,ri,ri+ae,ri,ri+E,ri+ae],H=[zt,zt,zt,zt+Q,zt+Q,zt+be,zt+be,zt+be],_e=0;_e<8;_e++){var M=Math.sqrt((We-Ge[_e])*(We-Ge[_e])+(ft-H[_e])*(ft-H[_e]));if(M<$t)return this.m_iIndexChoosePoint=_e,!0}return!1}}]),pt}(F),Ve=function(at){S(pt,at);function pt(rt,We){R(this,pt);var ft=P(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return ft.m_szType="RectOSD",ft.m_szOSDType="overlay-date",ft.m_szText=rt||"",ft.m_szEnabled=We||"",ft.m_szDateStyle="",ft.m_szClockType="",ft.m_szDisplayWeek="",ft.m_szId="",ft.m_szAlignment="0",ft}return c(pt,[{key:"draw",value:function(){if(this.m_szEnabled==="true"){var We=this.m_aPoint[0][0],ft=this.m_aPoint[0][1],$t=this.m_aPoint[2][0]-We,ri=this.m_aPoint[2][1]-ft;_[xe].beginPath(),_[xe].strokeStyle=this.m_szDrawColor,_[xe].globalAlpha=1,_[xe].rect(We,ft,$t,ri),_[xe].font="15px serif",_[xe].strokeText(this.m_szText,We,ft+15),_[xe].stroke()}}},{key:"drag",value:function(We,ft){var $t=this.m_aPoint.length,ri=0;if(this.m_szAlignment==="0"){for(ri=0;ri<$t;ri++)if(this.m_aPoint[ri][1]+ft-this.m_iDriftStartY>_.m_iCanvasHeight||this.m_aPoint[ri][0]+We-this.m_iDriftStartX<0||this.m_aPoint[ri][1]+ft-this.m_iDriftStartY<0){this.m_iDriftStartX=We,this.m_iDriftStartY=ft;return}for(ri=0;ri<$t;ri++)this.m_aPoint[ri][0]=this.m_aPoint[ri][0]+We-this.m_iDriftStartX,this.m_aPoint[ri][1]=this.m_aPoint[ri][1]+ft-this.m_iDriftStartY}else if(this.m_szAlignment==="1"||this.m_szAlignment==="2"){for(ri=0;ri<$t;ri++)if(this.m_aPoint[ri][1]+ft-this.m_iDriftStartY>_.m_iCanvasHeight||this.m_aPoint[ri][1]+ft-this.m_iDriftStartY<0){this.m_iDriftStartX=We,this.m_iDriftStartY=ft;return}for(ri=0;ri<$t;ri++)this.m_aPoint[ri][1]=this.m_aPoint[ri][1]+ft-this.m_iDriftStartY}this.m_iDriftStartX=We,this.m_iDriftStartY=ft,this.setEdgePoints(this.m_aPoint),fe()}},{key:"stretch",value:function(){}}]),pt}(F),yi=function(at){S(pt,at);function pt(){R(this,pt);var rt=P(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return rt.m_szType="Grid",rt.m_iGridColNum=22,rt.m_iGridRowNum=18,rt.m_szGridMap="",rt.m_aAddGridMap=[],rt}return c(pt,[{key:"draw",value:function(){for(var We=_.m_iCanvasWidth/this.m_iGridColNum,ft=_.m_iCanvasHeight/this.m_iGridRowNum,$t="",ri=0;ri<this.m_iGridRowNum;ri++){for(var zt=this.m_szGridMap.substring(ri*6,ri*6+6),ae=parseInt("f"+zt,16).toString(2).split("").slice(4),be="",E=0;E<this.m_iGridColNum;E++){var Q="";ae[E]==="1"?(_[xe].strokeStyle=this.m_szDrawColor,_[xe].globalAlpha=1,_[xe].strokeRect(We*E,ft*ri,We,ft),Q="1"):Q="0",this.m_aAddGridMap.length&&this.m_aAddGridMap[ri][E]===1&&(_[xe].strokeStyle=this.m_szDrawColor,_[xe].strokeRect(We*E,ft*ri,We,ft),Q="1"),be+=Q}$t+=parseInt("1111"+be+"00",2).toString(16).substring(1)}this.m_szGridMap=$t}},{key:"move",value:function(We,ft,$t,ri){var zt=_.m_iCanvasWidth/this.m_iGridColNum,ae=_.m_iCanvasHeight/this.m_iGridRowNum,be=Math.floor(We/zt),E=Math.floor(ft/ae),Q=Math.floor(Math.abs($t-We)/zt),Ge=Math.floor(Math.abs(ri-ft)/ae),H=1,_e=1;$t-We>0?H=1:H=-1,ri-ft>0?_e=1:_e=-1;for(var M=[],z=0;z<this.m_iGridRowNum;z++){M[z]=[];for(var ce=0;ce<this.m_iGridColNum;ce++)H===1?_e===1?z>=E&&z<=E+Ge&&ce>=be&&ce<=be+Q?M[z][ce]=1:M[z][ce]=0:z<=E&&z>=E-Ge&&ce>=be&&ce<=be+Q?M[z][ce]=1:M[z][ce]=0:_e===1?z>=E&&z<=E+Ge&&ce<=be&&ce>=be-Q?M[z][ce]=1:M[z][ce]=0:z<=E&&z>=E-Ge&&ce<=be&&ce>=be-Q?M[z][ce]=1:M[z][ce]=0}this.m_aAddGridMap=M,this.draw()}}]),pt}(F),Hi=function(at){S(pt,at);function pt(){R(this,pt);var rt=P(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return rt.m_szType="Line",rt.m_iLineType=0,rt.m_iDirection=0,rt.m_iArrowType=0,rt.m_aCrossArrowPoint=[],rt}return c(pt,[{key:"draw",value:function(){this.m_iLineType===0?this.drawNormalLine():this.m_iLineType===1?this.drawArrowLine():this.m_iLineType===3?this.drawCrossLine():this.m_iLineType===4&&this.drawLineCount()}},{key:"drawNormalLine",value:function(){if(_[xe].globalAlpha=1,this.m_aPoint.length>0){_[xe].beginPath(),_[xe].strokeStyle=this.m_szDrawColor,_[xe].lineWidth=2,_[xe].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]);for(var We=1,ft=this.m_aPoint.length;We<ft;We++)_[xe].lineTo(this.m_aPoint[We][0],this.m_aPoint[We][1]);if(_[xe].stroke(),this.m_bChoosed)for(var $t=0,ri=this.m_aPoint.length;$t<ri;$t++)_[xe].beginPath(),_[xe].fillStyle=this.m_szDrawColor,_[xe].arc(this.m_aPoint[$t][0],this.m_aPoint[$t][1],3,0,Math.PI*2,!0),_[xe].closePath(),_[xe].fill();this.m_szTips!==""&&(_[xe].strokeStyle=this.m_szDrawColor,_[xe].fillText(this.m_szTips,this.m_aPoint[0][0]+10,this.m_aPoint[0][1]+4))}}},{key:"drawArrowLine",value:function(We,ft,$t,ri,zt,ae,be,E){ae=typeof ae<"u"?ae:30,be=typeof be<"u"?be:10,E=typeof E<"u"?E:1;var Q=Math.atan2($t-zt,ft-ri)*180/Math.PI,Ge=(Q+ae)*Math.PI/180,H=(Q-ae)*Math.PI/180,_e=be*Math.cos(Ge),M=be*Math.sin(Ge),z=be*Math.cos(H),ce=be*Math.sin(H);_[xe].save(),_[xe].beginPath();var ie=ft-_e,Oe=$t-M;_[xe].moveTo(ie,Oe),_[xe].lineTo(ft,$t),ie=ft-z,Oe=$t-ce,_[xe].lineTo(ie,Oe),_[xe].moveTo(ft,$t),_[xe].lineTo(ri,zt),We===1&&(ie=ri+_e,Oe=zt+M,_[xe].moveTo(ie,Oe),_[xe].lineTo(ri,zt),ie=ri+z,Oe=zt+ce,_[xe].lineTo(ie,Oe)),_[xe].strokeStyle=this.m_szDrawColor,_[xe].lineWidth=E,_[xe].stroke(),_[xe].restore()}},{key:"drawCrossLine",value:function(){this.drawNormalLine();var We=(this.m_aPoint[0][0]+this.m_aPoint[1][0])/2,ft=(this.m_aPoint[0][1]+this.m_aPoint[1][1])/2,$t=Math.atan2(ft-this.m_aPoint[0][1],We-this.m_aPoint[0][0])*180/Math.PI,ri=($t+90)*Math.PI/180,zt=($t-90)*Math.PI/180,ae=25*Math.cos(ri),be=25*Math.sin(ri),E=25*Math.cos(zt),Q=25*Math.sin(zt),Ge=0,H=0;Ge=We-ae,H=ft-be;var _e=0,M=0;this.m_iDirection===0?(_e=-10,M=-15):this.m_iDirection===1?(_e=10,M=10):(_e=10,M=-15),this.m_iDirection!==0&&this.drawArrowLine(0,Ge,H,We,ft),_[xe].strokeStyle=this.m_szDrawColor,_[xe].font="8px",_[xe].strokeText("A",Ge+_e,H+4),Ge=We-E,H=ft-Q,this.m_iDirection!==1&&this.drawArrowLine(0,Ge,H,We,ft),_[xe].strokeStyle=this.m_szDrawColor,_[xe].font="8px",_[xe].strokeText("B",Ge+M,H+4)}},{key:"drawLineCount",value:function(){this.drawNormalLine();var We=(this.m_aPoint[0][0]+this.m_aPoint[1][0])/2,ft=(this.m_aPoint[0][1]+this.m_aPoint[1][1])/2,$t=Math.atan2(ft-this.m_aPoint[0][1],We-this.m_aPoint[0][0])*180/Math.PI,ri=($t+90)*Math.PI/180,zt=($t-90)*Math.PI/180,ae=25*Math.cos(ri),be=25*Math.sin(ri),E=25*Math.cos(zt),Q=25*Math.sin(zt),Ge=0,H=0;Ge=We-ae,H=ft-be,this.m_iArrowType===1?(Ge=We-E,H=ft-Q,this.drawArrowLine(0,Ge,H,We,ft)):this.m_iArrowType===0&&this.drawArrowLine(0,Ge,H,We,ft),this.m_aCrossArrowPoint=[[We,ft],[Ge,H]]}},{key:"inShape",value:function(We,ft){for(var $t=!1,ri=0,zt=this.m_aPoint.length-1;ri<zt;ri++){var ae=Math.sqrt((this.m_aPoint[ri+1][0]-this.m_aPoint[ri][0])*(this.m_aPoint[ri+1][0]-this.m_aPoint[ri][0])+(this.m_aPoint[ri+1][1]-this.m_aPoint[ri][1])*(this.m_aPoint[ri+1][1]-this.m_aPoint[ri][1])),be=Math.sqrt((We-this.m_aPoint[ri][0])*(We-this.m_aPoint[ri][0])+(ft-this.m_aPoint[ri][1])*(ft-this.m_aPoint[ri][1])),E=Math.sqrt((We-this.m_aPoint[ri+1][0])*(We-this.m_aPoint[ri+1][0])+(ft-this.m_aPoint[ri+1][1])*(ft-this.m_aPoint[ri+1][1]));be+E-ae<1&&($t=!0)}return $t}}]),pt}(F),Pi=function(at){S(pt,at);function pt(){R(this,pt);var rt=P(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return rt.m_szType="Polygon",rt.m_iPolygonType=1,rt}return c(pt,[{key:"setPointInfo",value:function(We){if(We!==null&&typeof We<"u"){if(this.m_iPolygonType===0){for(var ft=We[0][0],$t=We[0][1],ri=We[0][0],zt=We[0][1],ae=0,be=We.length;ae<be;ae++)ft>We[ae][0]&&(ft=We[ae][0]),$t>We[ae][1]&&($t=We[ae][1]),ri<We[ae][0]&&(ri=We[ae][0]),zt<We[ae][1]&&(zt=We[ae][1]);this.m_aPoint=[[ft,$t],[ri,$t],[ri,zt],[ft,zt]]}else this.m_iPolygonType===1?this.m_aPoint=We:this.m_aPoint=We;this.setEdgePoints(We)}}},{key:"draw",value:function(){if(this.m_aPoint.length>0){_[xe].fillStyle=this.m_szFillColor,_[xe].strokeStyle=this.m_szDrawColor,_[xe].globalAlpha=1;var We=0,ft=0;if(this.m_bChoosed)for(We=0,ft=this.m_aPoint.length;We<ft;We++)_[xe].beginPath(),_[xe].arc(this.m_aPoint[We][0],this.m_aPoint[We][1],3,0,360,!1),_[xe].fillStyle=this.m_szDrawColor,_[xe].closePath(),_[xe].fill();for(_[xe].beginPath(),_[xe].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]),We=0,ft=this.m_aPoint.length;We<ft;We++)We!==0&&_[xe].lineTo(this.m_aPoint[We][0],this.m_aPoint[We][1]);_[xe].stroke(),this.m_bClosed&&(_[xe].fillText(this.m_szTips,(this.m_oEdgePoints.left.x+this.m_oEdgePoints.right.x)/2,(this.m_oEdgePoints.top.y+this.m_oEdgePoints.bottom.y)/2),_[xe].closePath(),_[xe].stroke(),_[xe].globalAlpha=this.m_iTranslucent,_[xe].fill())}}},{key:"move",value:function(We,ft,$t,ri){if(this.m_iPolygonType===1){if(this.m_aPoint.length<this.m_iMaxPointNum&&this.m_aPoint.length>0){_[xe].fillStyle=this.m_szFillColor,_[xe].strokeStyle=this.m_szDrawColor,_[xe].globalAlpha=1;var zt=0,ae=0;for(zt=0,ae=this.m_aPoint.length;zt<ae;zt++)_[xe].beginPath(),_[xe].arc(this.m_aPoint[zt][0],this.m_aPoint[zt][1],3,0,360,!1),_[xe].fillStyle=this.m_szDrawColor,_[xe].closePath(),_[xe].fill();for(_[xe].beginPath(),_[xe].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]),zt=0,ae=this.m_aPoint.length;zt<ae;zt++)zt!==0&&_[xe].lineTo(this.m_aPoint[zt][0],this.m_aPoint[zt][1]);_[xe].lineTo(We,ft),_[xe].closePath(),_[xe].stroke()}}else if(this.m_iPolygonType===0){this.m_bChoosed=!0;var be=$t,E=ri,Q=We,Ge=ft;this.setPointInfo([[be,E],[Q,E],[Q,Ge],[be,Ge]]),this.draw()}}},{key:"stretch",value:function(We,ft){this.m_iEditType===0&&(this.m_iPolygonType===1?this.m_iIndexChoosePoint!==-1&&(this.m_aPoint[this.m_iIndexChoosePoint][0]=We,this.m_aPoint[this.m_iIndexChoosePoint][1]=ft):this.m_iIndexChoosePoint===0?We<this.m_aPoint[2][0]&&ft<this.m_aPoint[2][1]&&(this.m_aPoint[0][0]=We,this.m_aPoint[0][1]=ft,this.m_aPoint[3][0]=We,this.m_aPoint[1][1]=ft):this.m_iIndexChoosePoint===1?We>this.m_aPoint[3][0]&&ft<this.m_aPoint[3][1]&&(this.m_aPoint[1][0]=We,this.m_aPoint[1][1]=ft,this.m_aPoint[2][0]=We,this.m_aPoint[0][1]=ft):this.m_iIndexChoosePoint===2?We>this.m_aPoint[0][0]&&ft>this.m_aPoint[0][1]&&(this.m_aPoint[2][0]=We,this.m_aPoint[2][1]=ft,this.m_aPoint[1][0]=We,this.m_aPoint[3][1]=ft):this.m_iIndexChoosePoint===3&&We<this.m_aPoint[1][0]&&ft>this.m_aPoint[1][1]&&(this.m_aPoint[3][0]=We,this.m_aPoint[3][1]=ft,this.m_aPoint[0][0]=We,this.m_aPoint[2][1]=ft),this.setPointInfo(this.m_aPoint),fe())}}]),pt}(F),Ci=function(at){S(pt,at);function pt(){R(this,pt);var rt=P(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return rt.m_szType="Point",rt.m_szId="",rt}return c(pt,[{key:"draw",value:function(){_[xe].beginPath(),_[xe].fillStyle=this.m_szDrawColor,_[xe].globalAlpha=1,_[xe].arc(this.m_aPoint[0][0],this.m_aPoint[0][1],10,0,Math.PI*2,!0),_[xe].closePath(),_[xe].fill()}},{key:"drag",value:function(){}},{key:"stretch",value:function(){}}]),pt}(F),Qi=function(){function at(pt,rt){R(this,at),_=this,this[de]=(0,u.default)("#"+pt),this[oe]=rt||!1,this[xe]=this[de][0].getContext("2d"),this[se]=[],this[Ae]=!1,this[qe]="Rect",this[me]=10,this[re]=!0,this[le]={},this[Pe]=null,this[m]={szDrawColor:"#ff0000",szFillColor:"#343434",iTranslucent:.7},this[U]=!1,this.m_iCanvasWidth=this[de].width(),this.m_iCanvasHeight=this[de].height(),this.m_iHorizontalResolution=0,this.m_iVerticalResolution=0,this.m_szDisplayMode="",this.m_szVideoFormat="",ot(),this[se].length=0}return c(at,[{key:"setDrawMutiShapeOneTime",value:function(rt){this[re]=rt}},{key:"setMaxShapeSupport",value:function(rt){this[me]=rt}},{key:"getMaxShapeSupport",value:function(){return this[me]}},{key:"setDrawStatus",value:function(rt,We){this[Ae]=rt,We&&rt&&(this[Pe]=We),rt||(this[Pe]=null)}},{key:"setShapeType",value:function(rt){this[qe]=rt,fe()}},{key:"setCurrentShapeInfo",value:function(rt){this[le]=rt||{szId:"",szTips:"",iMinClosed:3,iMaxPointNum:11,iPolygonType:1,iRedrawMode:0}}},{key:"getShapeType",value:function(){return this[qe]}},{key:"getAllShapesInfo",value:function(){for(var rt=[],We=0,ft=this[se].length;We<ft;We++)this[se][We].m_szType==="Grid"?rt.push({szType:this[se][We].m_szType,szGridMap:this[se][We].m_szGridMap,iGridColNum:this[se][We].m_iGridColNum,iGridRowNum:this[se][We].m_iGridRowNum}):this[se][We].m_szType==="RectOSD"?rt.push({szType:this[se][We].m_szType,szText:this[se][We].m_szText,szEnabled:this[se][We].m_szEnabled,szOSDType:this[se][We].m_szOSDType,iPositionX:this[se][We].m_aPoint[0][0],iPositionY:this[se][We].m_aPoint[0][1],szDateStyle:this[se][We].m_szDateStyle,szClockType:this[se][We].m_szClockType,szDisplayWeek:this[se][We].m_szDisplayWeek,szId:this[se][We].m_szId,szAlignment:this[se][We].m_szAlignment}):rt.push({szType:this[se][We].m_szType,aPoint:this[se][We].m_aPoint,szId:this[se][We].m_szId,bChoosed:this[se][We].m_bChoosed});return rt}},{key:"deleteRepeatPolyonById",value:function(rt){var We=this.getAllShapesInfo(),ft=We.length;if(ft>0)for(var $t=0;$t<ft;$t++)We[$t].szType==="Polygon"&&We[$t].szId===rt&&this.deleteShape($t)}},{key:"getShapesInfoByType",value:function(rt){for(var We=[],ft=0,$t=this[se].length;ft<$t;ft++)this[se][ft].m_szType===rt&&(this[se][ft].m_szType==="Grid"?We.push({szType:this[se][ft].m_szType,szGridMap:this[se][ft].m_szGridMap,iGridColNum:this[se][ft].m_iGridColNum,iGridRowNum:this[se][ft].m_iGridRowNum}):this[se][ft].m_szType==="RectOSD"?We.push({szType:this[se][ft].m_szType,szText:this[se][ft].m_szText,szEnabled:this[se][ft].m_szEnabled,szOSDType:this[se][ft].m_szOSDType,iPositionX:this[se][ft].m_aPoint[0][0],iPositionY:this[se][ft].m_aPoint[0][1],szDateStyle:this[se][ft].m_szDateStyle,szClockType:this[se][ft].m_szClockType,szDisplayWeek:this[se][ft].m_szDisplayWeek,szId:this[se][ft].m_szId,szAlignment:this[se][ft].m_szAlignment}):rt==="Polygon"?We.push({szType:this[se][ft].m_szType,szId:this[se][ft].m_szId,iPolygonType:this[se][ft].m_iPolygonType,iMinClosed:this[se][ft].m_iMinClosed,iMaxPointNum:this[se][ft].m_iMaxPointNum,iEditType:this[se][ft].m_iEditType,aPoint:this[se][ft].m_aPoint,bClosed:this[se][ft].m_bClosed,szTips:this[se][ft].m_szTips,szDrawColor:this[se][ft].m_szDrawColor,szFillColor:this[se][ft].m_szFillColor,iTranslucent:this[se][ft].m_iTranslucent}):rt==="Line"?We.push({szType:this[se][ft].m_szType,szId:this[se][ft].m_szId,aPoint:this[se][ft].m_aPoint,szTips:this[se][ft].m_szTips,iLineType:this[se][ft].m_iLineType,iDirection:this[se][ft].m_iDirection,iArrowType:this[se][ft].m_iArrowType,szDrawColor:this[se][ft].m_szDrawColor,aCrossArrowPoint:this[se][ft].m_aCrossArrowPoint}):rt==="Rect"?We.push({szType:this[se][ft].m_szType,iEditType:this[se][ft].m_iEditType,aPoint:this[se][ft].m_aPoint,szTips:this[se][ft].m_szTips,szDrawColor:this[se][ft].m_szDrawColor,szFillColor:this[se][ft].m_szFillColor,iTranslucent:this[se][ft].m_iTranslucent}):We.push({szType:this[se][ft].m_szType,aPoint:this[se][ft].m_aPoint}));return We}},{key:"setShapesInfoByType",value:function(rt,We){We||(We=[]);var ft=null;if(rt==="Rect"||rt==="Polygon"||rt==="Line"||rt==="Point")for(var $t=0,ri=We.length;$t<ri;$t++)rt==="Rect"?(ft=new Ie,ft.m_iEditType=We[$t].iEditType,ft.m_szTips=We[$t].szTips||"",ft.m_szDrawColor=We[$t].szDrawColor,ft.m_szFillColor=We[$t].szFillColor,ft.m_iTranslucent=We[$t].iTranslucent,ft.m_iRedrawMode=We[$t].iRedrawMode):rt==="Polygon"?(ft=new Pi,We[$t].iPolygonType===0?ft.m_bClosed=!0:ft.m_bClosed=We[$t].bClosed,ft.m_szTips=We[$t].szTips||"",ft.m_szId=We[$t].szId||"",ft.m_iPolygonType=We[$t].iPolygonType,ft.m_iMinClosed=We[$t].iMinClosed||3,ft.m_iMaxPointNum=We[$t].iMaxPointNum||11,ft.m_iEditType=We[$t].iEditType,ft.m_szDrawColor=We[$t].szDrawColor,ft.m_szFillColor=We[$t].szFillColor,ft.m_iTranslucent=We[$t].iTranslucent,ft.m_iRedrawMode=We[$t].iRedrawMode):rt==="Line"?(ft=new Hi,ft.m_iLineType=We[$t].iLineType,ft.m_szTips=We[$t].szTips||"",ft.m_szId=We[$t].szId,ft.m_iDirection=We[$t].iDirection,ft.m_iArrowType=We[$t].iArrowType,ft.m_szDrawColor=We[$t].szDrawColor,ft.setPointInfo(We[$t].aPoint)):rt==="Point"&&(ft=new Ci,ft.m_szId=We[$t].szId,ft.m_szDrawColor=We[$t].szDrawColor,ft.setPointInfo(We[$t].aPoint)),ft.setPointInfo(We[$t].aPoint),$t===0&&(ft.m_bChoosed=!0),$e(ft);else rt==="Grid"&&(ft=new yi,ft.m_szGridMap=We[0].szGridMap||"",ft.m_iGridColNum=We[0].iGridColNum||22,ft.m_iGridRowNum=We[0].iGridRowNum||18,$e(ft));fe()}},{key:"addOSDShape",value:function(rt,We,ft,$t,ri){!ft&&!$t&&(ft=0,$t=0),ri||(ri={});var zt=new Ve(rt,We),ae=rt.replace(/[^x00-xff]/g,"rr").length*10;zt.m_szOSDType=ri.szOSDType||"",zt.m_szDateStyle=ri.szDateStyle||"",zt.m_szClockType=ri.szClockType||"",zt.m_szDisplayWeek=ri.szDisplayWeek||"",zt.m_szId=ri.szId||"",zt.m_szAlignment=""+ri.szAlignment||"0",zt.m_szAlignment==="0"?zt.m_aPoint=[[ft,$t],[ae+ft,$t],[ae+ft,$t+20],[ft,$t+20]]:zt.m_szAlignment==="1"?zt.m_aPoint=[[0,$t],[ae,$t],[ae,$t+20],[0,$t+20]]:zt.m_szAlignment==="2"?zt.m_aPoint=[[this.m_iCanvasWidth-ae,$t],[this.m_iCanvasWidth,$t],[this.m_iCanvasWidth,$t+20],[this.m_iCanvasWidth-ae,$t+20]]:zt.m_aPoint=[[ft,$t],[ae+ft,$t],[ae+ft,$t+20],[ft,$t+20]],$e(zt),fe()}},{key:"selectShapeById",value:function(rt,We){for(var ft=0,$t=_[se].length;ft<$t;ft++)rt===_[se][ft].m_szType&&(We===_[se][ft].m_szId?_[se][ft].m_bChoosed=!0:_[se][ft].m_bChoosed=!1);fe()}},{key:"setCanvasSize",value:function(rt,We){rt>0&&We>0&&(this.m_iCanvasWidth=rt,this.m_iCanvasHeight=We,fe())}},{key:"setDrawStyle",value:function(rt,We,ft){this[m]={szDrawColor:rt,szFillColor:We,iTranslucent:ft}}},{key:"clearAllShape",value:function(){this[se].length=0,_[U]=!1,fe()}},{key:"clearShapeByType",value:function(rt){for(var We=this[se].length,ft=We;ft>0;ft--)this[se][ft-1].m_szType===rt&&(rt==="Grid"?(this[se][ft-1].m_szGridMap="",this[se][ft-1].m_aAddGridMap=[]):this[se].splice(ft-1,1));rt==="Polygon"&&(_[U]=!1),fe()}},{key:"deleteShape",value:function(rt){this[se].length>rt&&this[se].splice(rt,1),fe()}},{key:"updateCanvas",value:function(rt){this[de]=(0,u.default)("#"+rt),this[xe]=this[de][0].getContext("2d"),this.m_iCanvasWidth=this[de].width(),this.m_iCanvasHeight=this[de].height(),ot()}},{key:"resizeCanvas",value:function(){this.m_iCanvasWidth=this[de].width(),this.m_iCanvasHeight=this[de].height()}},{key:"canvasRedraw",value:function(){fe()}}]),at}();return Qi}();n.ESCanvas=b}])})})(c_);var d_={exports:{}};(function(J,g){(function(t,n){J.exports=n()})(Va,function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Va<"u"?Va:typeof self<"u"?self:{};function n(H){return H&&H.__esModule&&Object.prototype.hasOwnProperty.call(H,"default")?H.default:H}var o={exports:{}};(function(H,_e){(function(z,ce){H.exports=ce()})(window,function(){return function(M){var z={};function ce(ie){if(z[ie])return z[ie].exports;var Oe=z[ie]={i:ie,l:!1,exports:{}};return M[ie].call(Oe.exports,Oe,Oe.exports,ce),Oe.l=!0,Oe.exports}return ce.m=M,ce.c=z,ce.d=function(ie,Oe,Qe){ce.o(ie,Oe)||Object.defineProperty(ie,Oe,{enumerable:!0,get:Qe})},ce.r=function(ie){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ie,"__esModule",{value:!0})},ce.t=function(ie,Oe){if(Oe&1&&(ie=ce(ie)),Oe&8||Oe&4&&K(ie)==="object"&&ie&&ie.__esModule)return ie;var Qe=Object.create(null);if(ce.r(Qe),Object.defineProperty(Qe,"default",{enumerable:!0,value:ie}),Oe&2&&typeof ie!="string")for(var st in ie)ce.d(Qe,st,(function(D){return ie[D]}).bind(null,st));return Qe},ce.n=function(ie){var Oe=ie&&ie.__esModule?function(){return ie.default}:function(){return ie};return ce.d(Oe,"a",Oe),Oe},ce.o=function(ie,Oe){return Object.prototype.hasOwnProperty.call(ie,Oe)},ce.p="",ce(ce.s=1)}([function(M,z){var ce;function ie(Ee,De,He){Ee!=null&&(typeof Ee=="number"?this.fromNumber(Ee,De,He):De==null&&typeof Ee!="string"?this.fromString(Ee,256):this.fromString(Ee,De))}function Oe(){return new ie(null)}function Qe(Ee,De,He,lt,Bt,oi){var Ti=De&16383;for(De>>=14;--oi>=0;){var te=this[Ee]&16383,$i=this[Ee++]>>14,sr=De*te+$i*Ti,te=Ti*te+((sr&16383)<<14)+He[lt]+Bt,Bt=(te>>28)+(sr>>14)+De*$i;He[lt++]=te&268435455}return Bt}ie.prototype.am=Qe,ce=28,ie.prototype.DB=ce,ie.prototype.DM=(1<<ce)-1,ie.prototype.DV=1<<ce;var st=52;ie.prototype.FV=Math.pow(2,st),ie.prototype.F1=st-ce,ie.prototype.F2=2*ce-st;var D="0123456789abcdefghijklmnopqrstuvwxyz",Xe=[],X,Ce;for(X=48,Ce=0;Ce<=9;++Ce)Xe[X++]=Ce;for(X=97,Ce=10;Ce<36;++Ce)Xe[X++]=Ce;for(X=65,Ce=10;Ce<36;++Ce)Xe[X++]=Ce;function ve(Ee){return D.charAt(Ee)}function Le(Ee,De){var He=Xe[Ee.charCodeAt(De)];return He??-1}function pe(Ee){for(var De=this.t-1;De>=0;--De)Ee[De]=this[De];Ee.t=this.t,Ee.s=this.s}function ee(Ee){this.t=1,this.s=Ee<0?-1:0,Ee>0?this[0]=Ee:Ee<-1?this[0]=Ee+DV:this.t=0}function je(Ee){var De=Oe();return De.fromInt(Ee),De}function mt(Ee,De){var He;if(De==16)He=4;else if(De==8)He=3;else if(De==256)He=8;else if(De==2)He=1;else if(De==32)He=5;else if(De==4)He=2;else{this.fromRadix(Ee,De);return}this.s=this.t=0;for(var lt=Ee.length,Bt=!1,oi=0;--lt>=0;){var Ti=He==8?Ee[lt]&255:Le(Ee,lt);Ti<0?Ee.charAt(lt)=="-"&&(Bt=!0):(Bt=!1,oi==0?this[this.t++]=Ti:oi+He>this.DB?(this[this.t-1]|=(Ti&(1<<this.DB-oi)-1)<<oi,this[this.t++]=Ti>>this.DB-oi):this[this.t-1]|=Ti<<oi,oi+=He,oi>=this.DB&&(oi-=this.DB))}He==8&&Ee[0]&128&&(this.s=-1,oi>0&&(this[this.t-1]|=(1<<this.DB-oi)-1<<oi)),this.clamp(),Bt&&ie.ZERO.subTo(this,this)}function gt(){for(var Ee=this.s&this.DM;this.t>0&&this[this.t-1]==Ee;)--this.t}function Gt(Ee){if(this.s<0)return"-"+this.negate().toString(Ee);if(Ee==16)Ee=4;else if(Ee==8)Ee=3;else if(Ee==2)Ee=1;else if(Ee==32)Ee=5;else if(Ee==64)Ee=6;else if(Ee==4)Ee=2;else return this.toRadix(Ee);var De=(1<<Ee)-1,He,lt=!1,Bt="",oi=this.t,Ti=this.DB-oi*this.DB%Ee;if(oi-- >0)for(Ti<this.DB&&(He=this[oi]>>Ti)>0&&(lt=!0,Bt=ve(He));oi>=0;)Ti<Ee?(He=(this[oi]&(1<<Ti)-1)<<Ee-Ti,He|=this[--oi]>>(Ti+=this.DB-Ee)):(He=this[oi]>>(Ti-=Ee)&De,Ti<=0&&(Ti+=this.DB,--oi)),He>0&&(lt=!0),lt&&(Bt+=ve(He));return lt?Bt:"0"}function li(){var Ee=Oe();return ie.ZERO.subTo(this,Ee),Ee}function Oi(){return this.s<0?this.negate():this}function ge(Ee){var He=this.s-Ee.s;if(He!=0)return He;var De=this.t,He=De-Ee.t;if(He!=0)return He;for(;--De>=0;)if((He=this[De]-Ee[De])!=0)return He;return 0}function Ji(Ee){var De=1,He;return(He=Ee>>>16)!=0&&(Ee=He,De+=16),(He=Ee>>8)!=0&&(Ee=He,De+=8),(He=Ee>>4)!=0&&(Ee=He,De+=4),(He=Ee>>2)!=0&&(Ee=He,De+=2),Ee>>1&&(De+=1),De}function kt(){return this.t<=0?0:this.DB*(this.t-1)+Ji(this[this.t-1]^this.s&this.DM)}function Lt(Ee,De){var He;for(He=this.t-1;He>=0;--He)De[He+Ee]=this[He];for(He=Ee-1;He>=0;--He)De[He]=0;De.t=this.t+Ee,De.s=this.s}function Tt(Ee,De){for(var He=Ee;He<this.t;++He)De[He-Ee]=this[He];De.t=Math.max(this.t-Ee,0),De.s=this.s}function jt(Ee,De){var He=Ee%this.DB,lt=this.DB-He,Bt=(1<<lt)-1,oi=Math.floor(Ee/this.DB),Ti=this.s<<He&this.DM,$i;for($i=this.t-1;$i>=0;--$i)De[$i+oi+1]=this[$i]>>lt|Ti,Ti=(this[$i]&Bt)<<He;for($i=oi-1;$i>=0;--$i)De[$i]=0;De[oi]=Ti,De.t=this.t+oi+1,De.s=this.s,De.clamp()}function Dt(Ee,De){De.s=this.s;var He=Math.floor(Ee/this.DB);if(He>=this.t)De.t=0;else{var lt=Ee%this.DB,Bt=this.DB-lt,oi=(1<<lt)-1;De[0]=this[He]>>lt;for(var Ti=He+1;Ti<this.t;++Ti)De[Ti-He-1]|=(this[Ti]&oi)<<Bt,De[Ti-He]=this[Ti]>>lt;lt>0&&(De[this.t-He-1]|=(this.s&oi)<<Bt),De.t=this.t-He,De.clamp()}}function Ft(Ee,De){for(var He=0,lt=0,Bt=Math.min(Ee.t,this.t);He<Bt;)lt+=this[He]-Ee[He],De[He++]=lt&this.DM,lt>>=this.DB;if(Ee.t<this.t){for(lt-=Ee.s;He<this.t;)lt+=this[He],De[He++]=lt&this.DM,lt>>=this.DB;lt+=this.s}else{for(lt+=this.s;He<Ee.t;)lt-=Ee[He],De[He++]=lt&this.DM,lt>>=this.DB;lt-=Ee.s}De.s=lt<0?-1:0,lt<-1?De[He++]=this.DV+lt:lt>0&&(De[He++]=lt),De.t=He,De.clamp()}function Kt(Ee,De){var He=this.abs(),lt=Ee.abs(),Bt=He.t;for(De.t=Bt+lt.t;--Bt>=0;)De[Bt]=0;for(Bt=0;Bt<lt.t;++Bt)De[Bt+He.t]=He.am(0,lt[Bt],De,Bt,0,He.t);De.s=0,De.clamp(),this.s!=Ee.s&&ie.ZERO.subTo(De,De)}function wt(Ee){for(var De=this.abs(),He=Ee.t=2*De.t;--He>=0;)Ee[He]=0;for(He=0;He<De.t-1;++He){var lt=De.am(He,De[He],Ee,2*He,0,1);(Ee[He+De.t]+=De.am(He+1,2*De[He],Ee,2*He+1,lt,De.t-He-1))>=De.DV&&(Ee[He+De.t]-=De.DV,Ee[He+De.t+1]=1)}Ee.t>0&&(Ee[Ee.t-1]+=De.am(He,De[He],Ee,2*He,0,1)),Ee.s=0,Ee.clamp()}function si(Ee,De,He){var lt=Ee.abs();if(!(lt.t<=0)){var Bt=this.abs();if(Bt.t<lt.t)De!=null&&De.fromInt(0),He!=null&&this.copyTo(He);else{He==null&&(He=Oe());var oi=Oe(),Ti=this.s,Ee=Ee.s,$i=this.DB-Ji(lt[lt.t-1]);if($i>0?(lt.lShiftTo($i,oi),Bt.lShiftTo($i,He)):(lt.copyTo(oi),Bt.copyTo(He)),lt=oi.t,Bt=oi[lt-1],Bt!=0){var te=Bt*(1<<this.F1)+(lt>1?oi[lt-2]>>this.F2:0),sr=this.FV/te,te=(1<<this.F1)/te,y=1<<this.F2,G=He.t,q=G-lt,ye=De??Oe();for(oi.dlShiftTo(q,ye),He.compareTo(ye)>=0&&(He[He.t++]=1,He.subTo(ye,He)),ie.ONE.dlShiftTo(lt,ye),ye.subTo(oi,oi);oi.t<lt;)oi[oi.t++]=0;for(;--q>=0;){var Fe=He[--G]==Bt?this.DM:Math.floor(He[G]*sr+(He[G-1]+y)*te);if((He[G]+=oi.am(0,Fe,He,q,0,lt))<Fe)for(oi.dlShiftTo(q,ye),He.subTo(ye,He);He[G]<--Fe;)He.subTo(ye,He)}De!=null&&(He.drShiftTo(lt,De),Ti!=Ee&&ie.ZERO.subTo(De,De)),He.t=lt,He.clamp(),$i>0&&He.rShiftTo($i,He),Ti<0&&ie.ZERO.subTo(He,He)}}}}function ht(Ee){var De=Oe();return this.abs().divRemTo(Ee,null,De),this.s<0&&De.compareTo(ie.ZERO)>0&&Ee.subTo(De,De),De}function Ii(Ee){this.m=Ee}function ji(Ee){return Ee.s<0||Ee.compareTo(this.m)>=0?Ee.mod(this.m):Ee}function Zi(Ee){return Ee}function pi(Ee){Ee.divRemTo(this.m,null,Ee)}function sn(Ee,De,He){Ee.multiplyTo(De,He),this.reduce(He)}function ci(Ee,De){Ee.squareTo(De),this.reduce(De)}Ii.prototype.convert=ji,Ii.prototype.revert=Zi,Ii.prototype.reduce=pi,Ii.prototype.mulTo=sn,Ii.prototype.sqrTo=ci;function Ut(){if(this.t<1)return 0;var Ee=this[0];if(!(Ee&1))return 0;var De=Ee&3,De=De*(2-(Ee&15)*De)&15,De=De*(2-(Ee&255)*De)&255,De=De*(2-((Ee&65535)*De&65535))&65535,De=De*(2-Ee*De%this.DV)%this.DV;return De>0?this.DV-De:-De}function V(Ee){this.m=Ee,this.mp=Ee.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<Ee.DB-15)-1,this.mt2=2*Ee.t}function w(Ee){var De=Oe();return Ee.abs().dlShiftTo(this.m.t,De),De.divRemTo(this.m,null,De),Ee.s<0&&De.compareTo(ie.ZERO)>0&&this.m.subTo(De,De),De}function N(Ee){var De=Oe();return Ee.copyTo(De),this.reduce(De),De}function T(Ee){for(;Ee.t<=this.mt2;)Ee[Ee.t++]=0;for(var De=0;De<this.m.t;++De){var lt=Ee[De]&32767,He=lt*this.mpl+((lt*this.mph+(Ee[De]>>15)*this.mpl&this.um)<<15)&Ee.DM,lt=De+this.m.t;for(Ee[lt]+=this.m.am(0,He,Ee,De,0,this.m.t);Ee[lt]>=Ee.DV;)Ee[lt]-=Ee.DV,Ee[++lt]++}Ee.clamp(),Ee.drShiftTo(this.m.t,Ee),Ee.compareTo(this.m)>=0&&Ee.subTo(this.m,Ee)}function we(Ee,De){Ee.squareTo(De),this.reduce(De)}function Se(Ee,De,He){Ee.multiplyTo(De,He),this.reduce(He)}V.prototype.convert=w,V.prototype.revert=N,V.prototype.reduce=T,V.prototype.mulTo=Se,V.prototype.sqrTo=we;function Ne(){return(this.t>0?this[0]&1:this.s)==0}function Ye(Ee,De){if(Ee>4294967295||Ee<1)return ie.ONE;var He=Oe(),lt=Oe(),Bt=De.convert(this),oi=Ji(Ee)-1;for(Bt.copyTo(He);--oi>=0;)if(De.sqrTo(He,lt),(Ee&1<<oi)>0)De.mulTo(lt,Bt,He);else var Ti=He,He=lt,lt=Ti;return De.revert(He)}function bt(Ee,De){var He;return He=Ee<256||De.isEven()?new Ii(De):new V(De),this.exp(Ee,He)}ie.prototype.copyTo=pe,ie.prototype.fromInt=ee,ie.prototype.fromString=mt,ie.prototype.clamp=gt,ie.prototype.dlShiftTo=Lt,ie.prototype.drShiftTo=Tt,ie.prototype.lShiftTo=jt,ie.prototype.rShiftTo=Dt,ie.prototype.subTo=Ft,ie.prototype.multiplyTo=Kt,ie.prototype.squareTo=wt,ie.prototype.divRemTo=si,ie.prototype.invDigit=Ut,ie.prototype.isEven=Ne,ie.prototype.exp=Ye,ie.prototype.toString=Gt,ie.prototype.negate=li,ie.prototype.abs=Oi,ie.prototype.compareTo=ge,ie.prototype.bitLength=kt,ie.prototype.mod=ht,ie.prototype.modPowInt=bt,ie.ZERO=je(0),ie.ONE=je(1);function ni(){var Ee=Oe();return this.copyTo(Ee),Ee}function Zt(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Me(){return this.t==0?this.s:this[0]<<24>>24}function dt(){return this.t==0?this.s:this[0]<<16>>16}function ai(Ee){return Math.floor(Math.LN2*this.DB/Math.log(Ee))}function Fi(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function di(Ee){if(Ee==null&&(Ee=10),this.signum()==0||Ee<2||Ee>36)return"0";var De=this.chunkSize(Ee),De=Math.pow(Ee,De),He=je(De),lt=Oe(),Bt=Oe(),oi="";for(this.divRemTo(He,lt,Bt);lt.signum()>0;)oi=(De+Bt.intValue()).toString(Ee).substr(1)+oi,lt.divRemTo(He,lt,Bt);return Bt.intValue().toString(Ee)+oi}function gi(Ee,De){this.fromInt(0),De==null&&(De=10);for(var He=this.chunkSize(De),lt=Math.pow(De,He),Bt=!1,oi=0,Ti=0,$i=0;$i<Ee.length;++$i){var sr=Le(Ee,$i);sr<0?Ee.charAt($i)=="-"&&this.signum()==0&&(Bt=!0):(Ti=De*Ti+sr,++oi>=He&&(this.dMultiply(lt),this.dAddOffset(Ti,0),Ti=oi=0))}oi>0&&(this.dMultiply(Math.pow(De,oi)),this.dAddOffset(Ti,0)),Bt&&ie.ZERO.subTo(this,this)}function Ki(Ee,De,He){if(typeof De=="number")if(Ee<2)this.fromInt(1);else for(this.fromNumber(Ee,He),this.testBit(Ee-1)||this.bitwiseTo(ie.ONE.shiftLeft(Ee-1),cn,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(De);)this.dAddOffset(2,0),this.bitLength()>Ee&&this.subTo(ie.ONE.shiftLeft(Ee-1),this);else{var He=[],lt=Ee&7;He.length=(Ee>>3)+1,De.nextBytes(He),lt>0?He[0]&=(1<<lt)-1:He[0]=0,this.fromString(He,256)}}function Si(){var Ee=this.t,De=[];De[0]=this.s;var He=this.DB-Ee*this.DB%8,lt,Bt=0;if(Ee-- >0)for(He<this.DB&&(lt=this[Ee]>>He)!=(this.s&this.DM)>>He&&(De[Bt++]=lt|this.s<<this.DB-He);Ee>=0;)He<8?(lt=(this[Ee]&(1<<He)-1)<<8-He,lt|=this[--Ee]>>(He+=this.DB-8)):(lt=this[Ee]>>(He-=8)&255,He<=0&&(He+=this.DB,--Ee)),lt&128&&(lt|=-256),Bt==0&&(this.s&128)!=(lt&128)&&++Bt,(Bt>0||lt!=this.s)&&(De[Bt++]=lt);return De}function Ht(Ee){return this.compareTo(Ee)==0}function qt(Ee){return this.compareTo(Ee)<0?this:Ee}function vi(Ee){return this.compareTo(Ee)>0?this:Ee}function rn(Ee,De,He){var lt,Bt,oi=Math.min(Ee.t,this.t);for(lt=0;lt<oi;++lt)He[lt]=De(this[lt],Ee[lt]);if(Ee.t<this.t){for(Bt=Ee.s&this.DM,lt=oi;lt<this.t;++lt)He[lt]=De(this[lt],Bt);He.t=this.t}else{for(Bt=this.s&this.DM,lt=oi;lt<Ee.t;++lt)He[lt]=De(Bt,Ee[lt]);He.t=Ee.t}He.s=De(this.s,Ee.s),He.clamp()}function En(Ee,De){return Ee&De}function an(Ee){var De=Oe();return this.bitwiseTo(Ee,En,De),De}function cn(Ee,De){return Ee|De}function Rn(Ee){var De=Oe();return this.bitwiseTo(Ee,cn,De),De}function fn(Ee,De){return Ee^De}function xn(Ee){var De=Oe();return this.bitwiseTo(Ee,fn,De),De}function tr(Ee,De){return Ee&~De}function $n(Ee){var De=Oe();return this.bitwiseTo(Ee,tr,De),De}function Tr(){for(var Ee=Oe(),De=0;De<this.t;++De)Ee[De]=this.DM&~this[De];return Ee.t=this.t,Ee.s=~this.s,Ee}function jn(Ee){var De=Oe();return Ee<0?this.rShiftTo(-Ee,De):this.lShiftTo(Ee,De),De}function wr(Ee){var De=Oe();return Ee<0?this.lShiftTo(-Ee,De):this.rShiftTo(Ee,De),De}function Er(Ee){if(Ee==0)return-1;var De=0;return!(Ee&65535)&&(Ee>>=16,De+=16),!(Ee&255)&&(Ee>>=8,De+=8),!(Ee&15)&&(Ee>>=4,De+=4),!(Ee&3)&&(Ee>>=2,De+=2),!(Ee&1)&&++De,De}function Qn(){for(var Ee=0;Ee<this.t;++Ee)if(this[Ee]!=0)return Ee*this.DB+Er(this[Ee]);return this.s<0?this.t*this.DB:-1}function Un(Ee){for(var De=0;Ee!=0;)Ee&=Ee-1,++De;return De}function ar(){for(var Ee=0,De=this.s&this.DM,He=0;He<this.t;++He)Ee+=Un(this[He]^De);return Ee}function Sa(Ee){var De=Math.floor(Ee/this.DB);return De>=this.t?this.s!=0:(this[De]&1<<Ee%this.DB)!=0}function Gr(Ee,De){var He=ie.ONE.shiftLeft(Ee);return this.bitwiseTo(He,De,He),He}function br(Ee){return this.changeBit(Ee,cn)}function ea(Ee){return this.changeBit(Ee,tr)}function Fa(Ee){return this.changeBit(Ee,fn)}function ka(Ee,De){for(var He=0,lt=0,Bt=Math.min(Ee.t,this.t);He<Bt;)lt+=this[He]+Ee[He],De[He++]=lt&this.DM,lt>>=this.DB;if(Ee.t<this.t){for(lt+=Ee.s;He<this.t;)lt+=this[He],De[He++]=lt&this.DM,lt>>=this.DB;lt+=this.s}else{for(lt+=this.s;He<Ee.t;)lt+=Ee[He],De[He++]=lt&this.DM,lt>>=this.DB;lt+=Ee.s}De.s=lt<0?-1:0,lt>0?De[He++]=lt:lt<-1&&(De[He++]=this.DV+lt),De.t=He,De.clamp()}function Jn(Ee){var De=Oe();return this.addTo(Ee,De),De}function ca(Ee){var De=Oe();return this.subTo(Ee,De),De}function Or(Ee){var De=Oe();return this.multiplyTo(Ee,De),De}function dr(){var Ee=Oe();return this.squareTo(Ee),Ee}function xa(Ee){var De=Oe();return this.divRemTo(Ee,De,null),De}function Ar(Ee){var De=Oe();return this.divRemTo(Ee,null,De),De}function Ia(Ee){var De=Oe(),He=Oe();return this.divRemTo(Ee,De,He),[De,He]}function uo(Ee){this[this.t]=this.am(0,Ee-1,this,0,0,this.t),++this.t,this.clamp()}function Xa(Ee,De){if(Ee!=0){for(;this.t<=De;)this[this.t++]=0;for(this[De]+=Ee;this[De]>=this.DV;)this[De]-=this.DV,++De>=this.t&&(this[this.t++]=0),++this[De]}}function Ua(){}function Bo(Ee){return Ee}function To(Ee,De,He){Ee.multiplyTo(De,He)}function jo(Ee,De){Ee.squareTo(De)}Ua.prototype.convert=Bo,Ua.prototype.revert=Bo,Ua.prototype.mulTo=To,Ua.prototype.sqrTo=jo;function Wr(Ee){return this.exp(Ee,new Ua)}function Mt(Ee,De,He){var lt=Math.min(this.t+Ee.t,De);for(He.s=0,He.t=lt;lt>0;)He[--lt]=0;var Bt;for(Bt=He.t-this.t;lt<Bt;++lt)He[lt+this.t]=this.am(0,Ee[lt],He,lt,0,this.t);for(Bt=Math.min(Ee.t,De);lt<Bt;++lt)this.am(0,Ee[lt],He,lt,0,De-lt);He.clamp()}function qa(Ee,De,He){--De;var lt=He.t=this.t+Ee.t-De;for(He.s=0;--lt>=0;)He[lt]=0;for(lt=Math.max(De-this.t,0);lt<Ee.t;++lt)He[this.t+lt-De]=this.am(De-lt,Ee[lt],He,0,0,this.t+lt-De);He.clamp(),He.drShiftTo(1,He)}function Da(Ee){this.r2=Oe(),this.q3=Oe(),ie.ONE.dlShiftTo(2*Ee.t,this.r2),this.mu=this.r2.divide(Ee),this.m=Ee}function ue(Ee){if(Ee.s<0||Ee.t>2*this.m.t)return Ee.mod(this.m);if(Ee.compareTo(this.m)<0)return Ee;var De=Oe();return Ee.copyTo(De),this.reduce(De),De}function bi(Ee){return Ee}function Je(Ee){for(Ee.drShiftTo(this.m.t-1,this.r2),Ee.t>this.m.t+1&&(Ee.t=this.m.t+1,Ee.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);Ee.compareTo(this.r2)<0;)Ee.dAddOffset(1,this.m.t+1);for(Ee.subTo(this.r2,Ee);Ee.compareTo(this.m)>=0;)Ee.subTo(this.m,Ee)}function f(Ee,De){Ee.squareTo(De),this.reduce(De)}function l(Ee,De,He){Ee.multiplyTo(De,He),this.reduce(He)}Da.prototype.convert=ue,Da.prototype.revert=bi,Da.prototype.reduce=Je,Da.prototype.mulTo=l,Da.prototype.sqrTo=f;function e(Ee,De){var He=Ee.bitLength(),lt,Bt=je(1),oi;if(He<=0)return Bt;lt=He<18?1:He<48?3:He<144?4:He<768?5:6,oi=He<8?new Ii(De):De.isEven()?new Da(De):new V(De);var Ti=[],$i=3,sr=lt-1,te=(1<<lt)-1;if(Ti[1]=oi.convert(this),lt>1)for(He=Oe(),oi.sqrTo(Ti[1],He);$i<=te;)Ti[$i]=Oe(),oi.mulTo(He,Ti[$i-2],Ti[$i]),$i+=2;for(var y=Ee.t-1,G,q=!0,ye=Oe(),He=Ji(Ee[y])-1;y>=0;){for(He>=sr?G=Ee[y]>>He-sr&te:(G=(Ee[y]&(1<<He+1)-1)<<sr-He,y>0&&(G|=Ee[y-1]>>this.DB+He-sr)),$i=lt;!(G&1);)G>>=1,--$i;if((He-=$i)<0&&(He+=this.DB,--y),q)Ti[G].copyTo(Bt),q=!1;else{for(;$i>1;)oi.sqrTo(Bt,ye),oi.sqrTo(ye,Bt),$i-=2;$i>0?oi.sqrTo(Bt,ye):($i=Bt,Bt=ye,ye=$i),oi.mulTo(ye,Ti[G],Bt)}for(;y>=0&&!(Ee[y]&1<<He);)oi.sqrTo(Bt,ye),$i=Bt,Bt=ye,ye=$i,--He<0&&(He=this.DB-1,--y)}return oi.revert(Bt)}function r(He){var De=this.s<0?this.negate():this.clone(),He=He.s<0?He.negate():He.clone();if(De.compareTo(He)<0)var lt=De,De=He,He=lt;var lt=De.getLowestSetBit(),Bt=He.getLowestSetBit();if(Bt<0)return De;for(lt<Bt&&(Bt=lt),Bt>0&&(De.rShiftTo(Bt,De),He.rShiftTo(Bt,He));De.signum()>0;)(lt=De.getLowestSetBit())>0&&De.rShiftTo(lt,De),(lt=He.getLowestSetBit())>0&&He.rShiftTo(lt,He),De.compareTo(He)>=0?(De.subTo(He,De),De.rShiftTo(1,De)):(He.subTo(De,He),He.rShiftTo(1,He));return Bt>0&&He.lShiftTo(Bt,He),He}function C(Ee){if(Ee<=0)return 0;var De=this.DV%Ee,He=this.s<0?Ee-1:0;if(this.t>0)if(De==0)He=this[0]%Ee;else for(var lt=this.t-1;lt>=0;--lt)He=(De*He+this[lt])%Ee;return He}function L(Ee){var De=Ee.isEven();if(this.isEven()&&De||Ee.signum()==0)return ie.ZERO;for(var He=Ee.clone(),lt=this.clone(),Bt=je(1),oi=je(0),Ti=je(0),$i=je(1);He.signum()!=0;){for(;He.isEven();)He.rShiftTo(1,He),De?((!Bt.isEven()||!oi.isEven())&&(Bt.addTo(this,Bt),oi.subTo(Ee,oi)),Bt.rShiftTo(1,Bt)):oi.isEven()||oi.subTo(Ee,oi),oi.rShiftTo(1,oi);for(;lt.isEven();)lt.rShiftTo(1,lt),De?((!Ti.isEven()||!$i.isEven())&&(Ti.addTo(this,Ti),$i.subTo(Ee,$i)),Ti.rShiftTo(1,Ti)):$i.isEven()||$i.subTo(Ee,$i),$i.rShiftTo(1,$i);He.compareTo(lt)>=0?(He.subTo(lt,He),De&&Bt.subTo(Ti,Bt),oi.subTo($i,oi)):(lt.subTo(He,lt),De&&Ti.subTo(Bt,Ti),$i.subTo(oi,$i))}if(lt.compareTo(ie.ONE)!=0)return ie.ZERO;if($i.compareTo(Ee)>=0)return $i.subtract(Ee);if($i.signum()<0)$i.addTo(Ee,$i);else return $i;return $i.signum()<0?$i.add(Ee):$i}var ke=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ze=67108864/ke[ke.length-1];function Yt(Ee){var De,He=this.abs();if(He.t==1&&He[0]<=ke[ke.length-1]){for(De=0;De<ke.length;++De)if(He[0]==ke[De])return!0;return!1}if(He.isEven())return!1;for(De=1;De<ke.length;){for(var lt=ke[De],Bt=De+1;Bt<ke.length&&lt<ze;)lt*=ke[Bt++];for(lt=He.modInt(lt);De<Bt;)if(lt%ke[De++]==0)return!1}return He.millerRabin(Ee)}function j(Bt){var De=this.subtract(ie.ONE),He=De.getLowestSetBit();if(He<=0)return!1;var lt=De.shiftRight(He),Bt=Bt+1>>1;Bt>ke.length&&(Bt=ke.length);for(var oi=Oe(),Ti=0;Ti<Bt;++Ti){oi.fromInt(ke[Math.floor(Math.random()*ke.length)]);var $i=oi.modPow(lt,this);if($i.compareTo(ie.ONE)!=0&&$i.compareTo(De)!=0){for(var sr=1;sr++<He&&$i.compareTo(De)!=0;)if($i=$i.modPowInt(2,this),$i.compareTo(ie.ONE)==0)return!1;if($i.compareTo(De)!=0)return!1}}return!0}ie.prototype.chunkSize=ai,ie.prototype.toRadix=di,ie.prototype.fromRadix=gi,ie.prototype.fromNumber=Ki,ie.prototype.bitwiseTo=rn,ie.prototype.changeBit=Gr,ie.prototype.addTo=ka,ie.prototype.dMultiply=uo,ie.prototype.dAddOffset=Xa,ie.prototype.multiplyLowerTo=Mt,ie.prototype.multiplyUpperTo=qa,ie.prototype.modInt=C,ie.prototype.millerRabin=j,ie.prototype.clone=ni,ie.prototype.intValue=Zt,ie.prototype.byteValue=Me,ie.prototype.shortValue=dt,ie.prototype.signum=Fi,ie.prototype.toByteArray=Si,ie.prototype.equals=Ht,ie.prototype.min=qt,ie.prototype.max=vi,ie.prototype.and=an,ie.prototype.or=Rn,ie.prototype.xor=xn,ie.prototype.andNot=$n,ie.prototype.not=Tr,ie.prototype.shiftLeft=jn,ie.prototype.shiftRight=wr,ie.prototype.getLowestSetBit=Qn,ie.prototype.bitCount=ar,ie.prototype.testBit=Sa,ie.prototype.setBit=br,ie.prototype.clearBit=ea,ie.prototype.flipBit=Fa,ie.prototype.add=Jn,ie.prototype.subtract=ca,ie.prototype.multiply=Or,ie.prototype.divide=xa,ie.prototype.remainder=Ar,ie.prototype.divideAndRemainder=Ia,ie.prototype.modPow=e,ie.prototype.modInverse=L,ie.prototype.pow=Wr,ie.prototype.gcd=r,ie.prototype.isProbablePrime=Yt,ie.prototype.square=dr,function(Ee,De,He,lt,Bt,oi,Ti){function $i(y){var G,q,ye=this,Fe=y.length,Ue=0,ct=ye.i=ye.j=ye.m=0;for(ye.S=[],ye.c=[],Fe||(y=[Fe++]);Ue<He;)ye.S[Ue]=Ue++;for(Ue=0;Ue<He;Ue++)G=ye.S[Ue],ct=ct+G+y[Ue%Fe]&He-1,q=ye.S[ct],ye.S[Ue]=q,ye.S[ct]=G;ye.g=function(yt){var Ot=ye.S,hi=ye.i+1&He-1,Bi=Ot[hi],Yi=ye.j+Bi&He-1,ki=Ot[Yi];Ot[hi]=ki,Ot[Yi]=Bi;for(var en=Ot[Bi+ki&He-1];--yt;)hi=hi+1&He-1,Bi=Ot[hi],Yi=Yi+Bi&He-1,ki=Ot[Yi],Ot[hi]=ki,Ot[Yi]=Bi,en=en*He+Ot[Bi+ki&He-1];return ye.i=hi,ye.j=Yi,en},ye.g(He)}function sr(y,G,q,ye,Fe){if(q=[],Fe=K(y),G&&Fe=="object"){for(ye in y)if(ye.indexOf("S")<5)try{q.push(sr(y[ye],G-1))}catch{}}return q.length?q:y+(Fe!="string"?"\0":"")}function te(y,G,q,ye){for(y+="",ye=q=0;ye<y.length;ye++){var Fe=G,Ue=ye&He-1,ct=(q^=G[ye&He-1]*19)+y.charCodeAt(ye);Fe[Ue]=ct&He-1}y="";for(ye in G)y+=String.fromCharCode(G[ye]);return y}De.seedrandom=function(Fe,G){var q=[],ye,Fe=te(sr(G?[Fe,Ee]:arguments.length?Fe:[new Date().getTime(),Ee,window],3),q);return ye=new $i(q),te(ye.S,Ee),De.random=function(){for(var Ue=ye.g(lt),ct=Ti,yt=0;Ue<Bt;)Ue=(Ue+yt)*He,ct*=He,yt=ye.g(1);for(;Ue>=oi;)Ue/=2,ct/=2,yt>>>=1;return(Ue+yt)/ct},Fe},Ti=De.pow(He,lt),Bt=De.pow(2,Bt),oi=Bt*2,te(De.random(),Ee)}([],Math,256,6,52);function W(){}function ne(Ee){var De;for(De=0;De<Ee.length;De++)Ee[De]=Math.floor(Math.random()*256)}W.prototype.nextBytes=ne;function he(){this.j=this.i=0,this.S=[]}function et(Ee){var De,He,lt;for(De=0;De<256;++De)this.S[De]=De;for(De=He=0;De<256;++De)He=He+this.S[De]+Ee[De%Ee.length]&255,lt=this.S[De],this.S[De]=this.S[He],this.S[He]=lt;this.j=this.i=0}function Rt(){var Ee;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,Ee=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=Ee,this.S[Ee+this.S[this.i]&255]}he.prototype.init=et,he.prototype.next=Rt;function It(){return new he}var Qt=256,Ai,on,Ei;function Xi(Ee){on[Ei++]^=Ee&255,on[Ei++]^=Ee>>8&255,on[Ei++]^=Ee>>16&255,on[Ei++]^=Ee>>24&255,Ei>=Qt&&(Ei-=Qt)}function wi(){Xi(new Date().getTime())}if(on==null){on=[],Ei=0;for(var B;Ei<Qt;)B=Math.floor(65536*Math.random()),on[Ei++]=B>>>8,on[Ei++]=B&255;Ei=0,wi()}function p(){if(Ai==null){for(wi(),Ai=It(),Ai.init(on),Ei=0;Ei<on.length;++Ei)on[Ei]=0;Ei=0}return Ai.next()}function A(Ee){var De;for(De=0;De<Ee.length;++De)Ee[De]=p()}function Y(){}Y.prototype.nextBytes=A;function Te(Ee){function De(lt,Bt){var oi=(lt&65535)+(Bt&65535);return(lt>>16)+(Bt>>16)+(oi>>16)<<16|oi&65535}function He(lt,Bt){return lt>>>Bt|lt<<32-Bt}return Ee=function(lt){for(var lt=lt.replace(/\r\n/g,`
`),Bt="",oi=0;oi<lt.length;oi++){var Ti=lt.charCodeAt(oi);Ti<128?Bt+=String.fromCharCode(Ti):(Ti>127&&Ti<2048?Bt+=String.fromCharCode(Ti>>6|192):(Bt+=String.fromCharCode(Ti>>12|224),Bt+=String.fromCharCode(Ti>>6&63|128)),Bt+=String.fromCharCode(Ti&63|128))}return Bt}(Ee),function(lt){for(var Bt="",oi=0;oi<lt.length*4;oi++)Bt+="0123456789abcdef".charAt(lt[oi>>2]>>(3-oi%4)*8+4&15)+"0123456789abcdef".charAt(lt[oi>>2]>>(3-oi%4)*8&15);return Bt}(function(lt,Bt){var oi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ti=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],$i=Array(64),sr,te,y,G,q,ye,Fe,Ue,ct,yt,Ot,hi;for(lt[Bt>>5]|=128<<24-Bt%32,lt[(Bt+64>>9<<4)+15]=Bt,ct=0;ct<lt.length;ct+=16){for(sr=Ti[0],te=Ti[1],y=Ti[2],G=Ti[3],q=Ti[4],ye=Ti[5],Fe=Ti[6],Ue=Ti[7],yt=0;yt<64;yt++)$i[yt]=yt<16?lt[yt+ct]:De(De(De(He($i[yt-2],17)^He($i[yt-2],19)^$i[yt-2]>>>10,$i[yt-7]),He($i[yt-15],7)^He($i[yt-15],18)^$i[yt-15]>>>3),$i[yt-16]),Ot=De(De(De(De(Ue,He(q,6)^He(q,11)^He(q,25)),q&ye^~q&Fe),oi[yt]),$i[yt]),hi=De(He(sr,2)^He(sr,13)^He(sr,22),sr&te^sr&y^te&y),Ue=Fe,Fe=ye,ye=q,q=De(G,Ot),G=y,y=te,te=sr,sr=De(Ot,hi);Ti[0]=De(sr,Ti[0]),Ti[1]=De(te,Ti[1]),Ti[2]=De(y,Ti[2]),Ti[3]=De(G,Ti[3]),Ti[4]=De(q,Ti[4]),Ti[5]=De(ye,Ti[5]),Ti[6]=De(Fe,Ti[6]),Ti[7]=De(Ue,Ti[7])}return Ti}(function(lt){for(var Bt=[],oi=0;oi<lt.length*8;oi+=8)Bt[oi>>5]|=(lt.charCodeAt(oi/8)&255)<<24-oi%32;return Bt}(Ee),Ee.length*8))}var Ze={hex:function(De){return Te(De)}};function Ke(ct){function De(Ot,hi){return Ot<<hi|Ot>>>32-hi}function He(Ot){var hi="",Bi,Yi;for(Bi=7;Bi>=0;Bi--)Yi=Ot>>>Bi*4&15,hi+=Yi.toString(16);return hi}var lt,Bt,oi=Array(80),Ti=1732584193,$i=4023233417,sr=2562383102,te=271733878,y=3285377520,G,q,ye,Fe,Ue,ct=function(Ot){for(var Ot=Ot.replace(/\r\n/g,`
`),hi="",Bi=0;Bi<Ot.length;Bi++){var Yi=Ot.charCodeAt(Bi);Yi<128?hi+=String.fromCharCode(Yi):(Yi>127&&Yi<2048?hi+=String.fromCharCode(Yi>>6|192):(hi+=String.fromCharCode(Yi>>12|224),hi+=String.fromCharCode(Yi>>6&63|128)),hi+=String.fromCharCode(Yi&63|128))}return hi}(ct);G=ct.length;var yt=[];for(lt=0;lt<G-3;lt+=4)Bt=ct.charCodeAt(lt)<<24|ct.charCodeAt(lt+1)<<16|ct.charCodeAt(lt+2)<<8|ct.charCodeAt(lt+3),yt.push(Bt);switch(G%4){case 0:lt=2147483648;break;case 1:lt=ct.charCodeAt(G-1)<<24|8388608;break;case 2:lt=ct.charCodeAt(G-2)<<24|ct.charCodeAt(G-1)<<16|32768;break;case 3:lt=ct.charCodeAt(G-3)<<24|ct.charCodeAt(G-2)<<16|ct.charCodeAt(G-1)<<8|128}for(yt.push(lt);yt.length%16!=14;)yt.push(0);for(yt.push(G>>>29),yt.push(G<<3&4294967295),ct=0;ct<yt.length;ct+=16){for(lt=0;lt<16;lt++)oi[lt]=yt[ct+lt];for(lt=16;lt<=79;lt++)oi[lt]=De(oi[lt-3]^oi[lt-8]^oi[lt-14]^oi[lt-16],1);for(Bt=Ti,G=$i,q=sr,ye=te,Fe=y,lt=0;lt<=19;lt++)Ue=De(Bt,5)+(G&q|~G&ye)+Fe+oi[lt]+1518500249&4294967295,Fe=ye,ye=q,q=De(G,30),G=Bt,Bt=Ue;for(lt=20;lt<=39;lt++)Ue=De(Bt,5)+(G^q^ye)+Fe+oi[lt]+1859775393&4294967295,Fe=ye,ye=q,q=De(G,30),G=Bt,Bt=Ue;for(lt=40;lt<=59;lt++)Ue=De(Bt,5)+(G&q|G&ye|q&ye)+Fe+oi[lt]+2400959708&4294967295,Fe=ye,ye=q,q=De(G,30),G=Bt,Bt=Ue;for(lt=60;lt<=79;lt++)Ue=De(Bt,5)+(G^q^ye)+Fe+oi[lt]+3395469782&4294967295,Fe=ye,ye=q,q=De(G,30),G=Bt,Bt=Ue;Ti=Ti+Bt&4294967295,$i=$i+G&4294967295,sr=sr+q&4294967295,te=te+ye&4294967295,y=y+Fe&4294967295}return Ue=He(Ti)+He($i)+He(sr)+He(te)+He(y),Ue.toLowerCase()}var vt={hex:function(De){return Ke(De)}},Et=function(ct){function He(Ot,hi){var Bi,Yi,ki,en,Xt;return ki=Ot&2147483648,en=hi&2147483648,Bi=Ot&1073741824,Yi=hi&1073741824,Xt=(Ot&1073741823)+(hi&1073741823),Bi&Yi?Xt^2147483648^ki^en:Bi|Yi?Xt&1073741824?Xt^3221225472^ki^en:Xt^1073741824^ki^en:Xt^ki^en}function lt(Ot,hi,Bi,Yi,ki,en,Xt){return Ot=He(Ot,He(He(hi&Bi|~hi&Yi,ki),Xt)),He(Ot<<en|Ot>>>32-en,hi)}function Bt(Ot,hi,Bi,Yi,ki,en,Xt){return Ot=He(Ot,He(He(hi&Yi|Bi&~Yi,ki),Xt)),He(Ot<<en|Ot>>>32-en,hi)}function oi(Ot,hi,Bi,Yi,ki,en,Xt){return Ot=He(Ot,He(He(hi^Bi^Yi,ki),Xt)),He(Ot<<en|Ot>>>32-en,hi)}function Ti(Ot,hi,Bi,Yi,ki,en,Xt){return Ot=He(Ot,He(He(Bi^(hi|~Yi),ki),Xt)),He(Ot<<en|Ot>>>32-en,hi)}function $i(Ot){var hi="",Bi="",Yi;for(Yi=0;Yi<=3;Yi++)Bi=Ot>>>Yi*8&255,Bi="0"+Bi.toString(16),hi+=Bi.substr(Bi.length-2,2);return hi}var yt=[],sr,te,y,G,q,ye,Fe,Ue,ct=function(Ot){for(var Ot=Ot.replace(/\r\n/g,`
`),hi="",Bi=0;Bi<Ot.length;Bi++){var Yi=Ot.charCodeAt(Bi);Yi<128?hi+=String.fromCharCode(Yi):(Yi>127&&Yi<2048?hi+=String.fromCharCode(Yi>>6|192):(hi+=String.fromCharCode(Yi>>12|224),hi+=String.fromCharCode(Yi>>6&63|128)),hi+=String.fromCharCode(Yi&63|128))}return hi}(ct),yt=function(Ot){var hi,Bi=Ot.length;hi=Bi+8;for(var Yi=((hi-hi%64)/64+1)*16,ki=Array(Yi-1),en=0,Xt=0;Xt<Bi;)hi=(Xt-Xt%4)/4,en=Xt%4*8,ki[hi]|=Ot.charCodeAt(Xt)<<en,Xt++;return ki[(Xt-Xt%4)/4]|=128<<Xt%4*8,ki[Yi-2]=Bi<<3,ki[Yi-1]=Bi>>>29,ki}(ct);for(q=1732584193,ye=4023233417,Fe=2562383102,Ue=271733878,ct=0;ct<yt.length;ct+=16)sr=q,te=ye,y=Fe,G=Ue,q=lt(q,ye,Fe,Ue,yt[ct+0],7,3614090360),Ue=lt(Ue,q,ye,Fe,yt[ct+1],12,3905402710),Fe=lt(Fe,Ue,q,ye,yt[ct+2],17,606105819),ye=lt(ye,Fe,Ue,q,yt[ct+3],22,3250441966),q=lt(q,ye,Fe,Ue,yt[ct+4],7,4118548399),Ue=lt(Ue,q,ye,Fe,yt[ct+5],12,1200080426),Fe=lt(Fe,Ue,q,ye,yt[ct+6],17,2821735955),ye=lt(ye,Fe,Ue,q,yt[ct+7],22,4249261313),q=lt(q,ye,Fe,Ue,yt[ct+8],7,1770035416),Ue=lt(Ue,q,ye,Fe,yt[ct+9],12,2336552879),Fe=lt(Fe,Ue,q,ye,yt[ct+10],17,4294925233),ye=lt(ye,Fe,Ue,q,yt[ct+11],22,2304563134),q=lt(q,ye,Fe,Ue,yt[ct+12],7,1804603682),Ue=lt(Ue,q,ye,Fe,yt[ct+13],12,4254626195),Fe=lt(Fe,Ue,q,ye,yt[ct+14],17,2792965006),ye=lt(ye,Fe,Ue,q,yt[ct+15],22,1236535329),q=Bt(q,ye,Fe,Ue,yt[ct+1],5,4129170786),Ue=Bt(Ue,q,ye,Fe,yt[ct+6],9,3225465664),Fe=Bt(Fe,Ue,q,ye,yt[ct+11],14,643717713),ye=Bt(ye,Fe,Ue,q,yt[ct+0],20,3921069994),q=Bt(q,ye,Fe,Ue,yt[ct+5],5,3593408605),Ue=Bt(Ue,q,ye,Fe,yt[ct+10],9,38016083),Fe=Bt(Fe,Ue,q,ye,yt[ct+15],14,3634488961),ye=Bt(ye,Fe,Ue,q,yt[ct+4],20,3889429448),q=Bt(q,ye,Fe,Ue,yt[ct+9],5,568446438),Ue=Bt(Ue,q,ye,Fe,yt[ct+14],9,3275163606),Fe=Bt(Fe,Ue,q,ye,yt[ct+3],14,4107603335),ye=Bt(ye,Fe,Ue,q,yt[ct+8],20,1163531501),q=Bt(q,ye,Fe,Ue,yt[ct+13],5,2850285829),Ue=Bt(Ue,q,ye,Fe,yt[ct+2],9,4243563512),Fe=Bt(Fe,Ue,q,ye,yt[ct+7],14,1735328473),ye=Bt(ye,Fe,Ue,q,yt[ct+12],20,2368359562),q=oi(q,ye,Fe,Ue,yt[ct+5],4,4294588738),Ue=oi(Ue,q,ye,Fe,yt[ct+8],11,2272392833),Fe=oi(Fe,Ue,q,ye,yt[ct+11],16,1839030562),ye=oi(ye,Fe,Ue,q,yt[ct+14],23,4259657740),q=oi(q,ye,Fe,Ue,yt[ct+1],4,2763975236),Ue=oi(Ue,q,ye,Fe,yt[ct+4],11,1272893353),Fe=oi(Fe,Ue,q,ye,yt[ct+7],16,4139469664),ye=oi(ye,Fe,Ue,q,yt[ct+10],23,3200236656),q=oi(q,ye,Fe,Ue,yt[ct+13],4,681279174),Ue=oi(Ue,q,ye,Fe,yt[ct+0],11,3936430074),Fe=oi(Fe,Ue,q,ye,yt[ct+3],16,3572445317),ye=oi(ye,Fe,Ue,q,yt[ct+6],23,76029189),q=oi(q,ye,Fe,Ue,yt[ct+9],4,3654602809),Ue=oi(Ue,q,ye,Fe,yt[ct+12],11,3873151461),Fe=oi(Fe,Ue,q,ye,yt[ct+15],16,530742520),ye=oi(ye,Fe,Ue,q,yt[ct+2],23,3299628645),q=Ti(q,ye,Fe,Ue,yt[ct+0],6,4096336452),Ue=Ti(Ue,q,ye,Fe,yt[ct+7],10,1126891415),Fe=Ti(Fe,Ue,q,ye,yt[ct+14],15,2878612391),ye=Ti(ye,Fe,Ue,q,yt[ct+5],21,4237533241),q=Ti(q,ye,Fe,Ue,yt[ct+12],6,1700485571),Ue=Ti(Ue,q,ye,Fe,yt[ct+3],10,2399980690),Fe=Ti(Fe,Ue,q,ye,yt[ct+10],15,4293915773),ye=Ti(ye,Fe,Ue,q,yt[ct+1],21,2240044497),q=Ti(q,ye,Fe,Ue,yt[ct+8],6,1873313359),Ue=Ti(Ue,q,ye,Fe,yt[ct+15],10,4264355552),Fe=Ti(Fe,Ue,q,ye,yt[ct+6],15,2734768916),ye=Ti(ye,Fe,Ue,q,yt[ct+13],21,1309151649),q=Ti(q,ye,Fe,Ue,yt[ct+4],6,4149444226),Ue=Ti(Ue,q,ye,Fe,yt[ct+11],10,3174756917),Fe=Ti(Fe,Ue,q,ye,yt[ct+2],15,718787259),ye=Ti(ye,Fe,Ue,q,yt[ct+9],21,3951481745),q=He(q,sr),ye=He(ye,te),Fe=He(Fe,y),Ue=He(Ue,G);return($i(q)+$i(ye)+$i(Fe)+$i(Ue)).toLowerCase()};function Nt(Ee,De){return new ie(Ee,De)}function Ri(Ee,De){if(De<Ee.length+11)throw"Message too long for RSA (n="+De+", l="+Ee.length+")";for(var He=[],lt=Ee.length-1;lt>=0&&De>0;){var Bt=Ee.charCodeAt(lt--);Bt<128?He[--De]=Bt:Bt>127&&Bt<2048?(He[--De]=Bt&63|128,He[--De]=Bt>>6|192):(He[--De]=Bt&63|128,He[--De]=Bt>>6&63|128,He[--De]=Bt>>12|224)}for(He[--De]=0,lt=new Y,Bt=[];De>2;){for(Bt[0]=0;Bt[0]==0;)lt.nextBytes(Bt);He[--De]=Bt[0]}return He[--De]=2,He[--De]=0,new ie(He)}function Li(){this.n=null,this.e=0,this.coeff=this.dmq1=this.dmp1=this.q=this.p=this.d=null}function vn(Ee,De){Ee!=null&&De!=null&&Ee.length>0&&De.length>0?(this.n=Nt(Ee,16),this.e=parseInt(De,16)):alert("Invalid RSA public key")}function Wi(Ee){return Ee.modPowInt(this.e,this.n)}function Cn(Ee){return Ee=Ri(Ee,this.n.bitLength()+7>>3),Ee==null||(Ee=this.doPublic(Ee),Ee==null)?null:(Ee=Ee.toString(16),Ee.length&1?"0"+Ee:Ee)}Li.prototype.doPublic=Wi,Li.prototype.setPublic=vn,Li.prototype.encrypt=Cn;function ur(Ee,De){for(var He=Ee.toByteArray(),lt=0;lt<He.length&&He[lt]==0;)++lt;if(He.length-lt!=De-1||He[lt]!=2)return null;for(++lt;He[lt]!=0;)if(++lt>=He.length)return null;for(var Bt="";++lt<He.length;){var oi=He[lt]&255;oi<128?Bt+=String.fromCharCode(oi):oi>191&&oi<224?(Bt+=String.fromCharCode((oi&31)<<6|He[lt+1]&63),++lt):(Bt+=String.fromCharCode((oi&15)<<12|(He[lt+1]&63)<<6|He[lt+2]&63),lt+=2)}return Bt}function yr(Ee,De,He){Ee!=null&&De!=null&&Ee.length>0&&De.length>0?(this.n=Nt(Ee,16),this.e=parseInt(De,16),this.d=Nt(He,16)):alert("Invalid RSA private key")}function Ur(Ee,De,He,lt,Bt,oi,Ti,$i){Ee!=null&&De!=null&&Ee.length>0&&De.length>0?(this.n=Nt(Ee,16),this.e=parseInt(De,16),this.d=Nt(He,16),this.p=Nt(lt,16),this.q=Nt(Bt,16),this.dmp1=Nt(oi,16),this.dmq1=Nt(Ti,16),this.coeff=Nt($i,16)):alert("Invalid RSA private key")}function Ca(Ee,De){var He=new W,lt=Ee>>1;this.e=parseInt(De,16);for(var Bt=new ie(De,16);;){for(;this.p=new ie(Ee-lt,1,He),!(this.p.subtract(ie.ONE).gcd(Bt).compareTo(ie.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new ie(lt,1,He),!(this.q.subtract(ie.ONE).gcd(Bt).compareTo(ie.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var oi=this.p;this.p=this.q,this.q=oi}var oi=this.p.subtract(ie.ONE),Ti=this.q.subtract(ie.ONE),$i=oi.multiply(Ti);if($i.gcd(Bt).compareTo(ie.ONE)==0){this.n=this.p.multiply(this.q),this.d=Bt.modInverse($i),this.dmp1=this.d.mod(oi),this.dmq1=this.d.mod(Ti),this.coeff=this.q.modInverse(this.p);break}}}function no(Ee){if(this.p==null||this.q==null)return Ee.modPow(this.d,this.n);for(var De=Ee.mod(this.p).modPow(this.dmp1,this.p),Ee=Ee.mod(this.q).modPow(this.dmq1,this.q);De.compareTo(Ee)<0;)De=De.add(this.p);return De.subtract(Ee).multiply(this.coeff).mod(this.p).multiply(this.q).add(Ee)}function Pa(Ee){return Ee=this.doPrivate(Nt(Ee,16)),Ee==null?null:ur(Ee,this.n.bitLength()+7>>3)}Li.prototype.doPrivate=no,Li.prototype.setPrivate=yr,Li.prototype.setPrivateEx=Ur,Li.prototype.generate=Ca,Li.prototype.decrypt=Pa;var _a=[];_a.sha1="3021300906052b0e03021a05000414",_a.sha256="3031300d060960864801650304020105000420";var or=[];or.sha1=vt.hex,or.sha256=Ze.hex;function fo(Ee,De,He){De/=4;for(var Ee=(0,or[He])(Ee),He="00"+_a[He]+Ee,Ee="",De=De-4-He.length,lt=0;lt<De;lt+=2)Ee+="ff";return sPaddedMessageHex="0001"+Ee+He}function fa(Ee,De){var He=fo(Ee,this.n.bitLength(),De);return this.doPrivate(Nt(He,16)).toString(16)}function pa(Ee){return Ee=fo(Ee,this.n.bitLength(),"sha1"),this.doPrivate(Nt(Ee,16)).toString(16)}function da(Ee){return Ee=fo(Ee,this.n.bitLength(),"sha256"),this.doPrivate(Nt(Ee,16)).toString(16)}function Ko(Ee,De,He){var lt=new Li;return lt.setPublic(De,He),lt.doPublic(Ee)}function ro(Ee,De,He){return Ko(Ee,De,He).toString(16).replace(/^1f+00/,"")}function Ja(Ee){for(var De in _a){var He=_a[De],lt=He.length;if(Ee.substring(0,lt)==He)return[De,Ee.substring(lt)]}return[]}function ga(Ee,De,He,lt){return De=ro(De,He,lt),He=Ja(De),He.length==0?!1:(De=He[1],Ee=(0,or[He[0]])(Ee),De==Ee)}function Ka(Ee,De){var He=Nt(Ee,16);return ga(De,He,this.n.toString(16),this.e.toString(16))}function Ga(Ee,He){var He=He.replace(/[ \n]+/g,""),lt=this.doPublic(Nt(He,16)).toString(16).replace(/^1f+00/,""),Bt=Ja(lt);return Bt.length==0?!1:(lt=Bt[1],Bt=(0,or[Bt[0]])(Ee),lt==Bt)}Li.prototype.signString=fa,Li.prototype.signStringWithSHA1=pa,Li.prototype.signStringWithSHA256=da,Li.prototype.verifyString=Ga,Li.prototype.verifyHexSignatureForMessage=Ka;var va=function(){var Ee={Sbox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ShiftRowTab:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11]};return Ee.Init=function(){Ee.Sbox_Inv=Array(256);for(var De=0;De<256;De++)Ee.Sbox_Inv[Ee.Sbox[De]]=De;for(Ee.ShiftRowTab_Inv=Array(16),De=0;De<16;De++)Ee.ShiftRowTab_Inv[Ee.ShiftRowTab[De]]=De;for(Ee.xtime=Array(256),De=0;De<128;De++)Ee.xtime[De]=De<<1,Ee.xtime[128+De]=De<<1^27},Ee.Done=function(){delete Ee.Sbox_Inv,delete Ee.ShiftRowTab_Inv,delete Ee.xtime},Ee.ExpandKey=function(De){var He=De.length,lt,Bt=1;switch(He){case 16:lt=176;break;case 24:lt=208;break;case 32:lt=240;break;default:alert("my.ExpandKey: Only key lengths of 16, 24 or 32 bytes allowed!")}for(var oi=He;oi<lt;oi+=4){var Ti=De.slice(oi-4,oi);oi%He==0?(Ti=[Ee.Sbox[Ti[1]]^Bt,Ee.Sbox[Ti[2]],Ee.Sbox[Ti[3]],Ee.Sbox[Ti[0]]],(Bt<<=1)>=256&&(Bt^=283)):He>24&&oi%He==16&&(Ti=[Ee.Sbox[Ti[0]],Ee.Sbox[Ti[1]],Ee.Sbox[Ti[2]],Ee.Sbox[Ti[3]]]);for(var $i=0;$i<4;$i++)De[oi+$i]=De[oi+$i-He]^Ti[$i]}},Ee.Encrypt=function(De,He){var lt=He.length;Ee.AddRoundKey(De,He.slice(0,16));for(var Bt=16;Bt<lt-16;Bt+=16)Ee.SubBytes(De,Ee.Sbox),Ee.ShiftRows(De,Ee.ShiftRowTab),Ee.MixColumns(De),Ee.AddRoundKey(De,He.slice(Bt,Bt+16));Ee.SubBytes(De,Ee.Sbox),Ee.ShiftRows(De,Ee.ShiftRowTab),Ee.AddRoundKey(De,He.slice(Bt,lt))},Ee.Decrypt=function(De,He){var lt=He.length;for(Ee.AddRoundKey(De,He.slice(lt-16,lt)),Ee.ShiftRows(De,Ee.ShiftRowTab_Inv),Ee.SubBytes(De,Ee.Sbox_Inv),lt-=32;lt>=16;lt-=16)Ee.AddRoundKey(De,He.slice(lt,lt+16)),Ee.MixColumns_Inv(De),Ee.ShiftRows(De,Ee.ShiftRowTab_Inv),Ee.SubBytes(De,Ee.Sbox_Inv);Ee.AddRoundKey(De,He.slice(0,16))},Ee.SubBytes=function(De,He){for(var lt=0;lt<16;lt++)De[lt]=He[De[lt]]},Ee.AddRoundKey=function(De,He){for(var lt=0;lt<16;lt++)De[lt]^=He[lt]},Ee.ShiftRows=function(De,He){for(var lt=[].concat(De),Bt=0;Bt<16;Bt++)De[Bt]=lt[He[Bt]]},Ee.MixColumns=function(De){for(var He=0;He<16;He+=4){var lt=De[He+0],Bt=De[He+1],oi=De[He+2],Ti=De[He+3],$i=lt^Bt^oi^Ti;De[He+0]^=$i^Ee.xtime[lt^Bt],De[He+1]^=$i^Ee.xtime[Bt^oi],De[He+2]^=$i^Ee.xtime[oi^Ti],De[He+3]^=$i^Ee.xtime[Ti^lt]}},Ee.MixColumns_Inv=function(De){for(var He=0;He<16;He+=4){var lt=De[He+0],Bt=De[He+1],oi=De[He+2],Ti=De[He+3],$i=lt^Bt^oi^Ti,sr=Ee.xtime[$i],te=Ee.xtime[Ee.xtime[sr^lt^oi]]^$i;$i^=Ee.xtime[Ee.xtime[sr^Bt^Ti]],De[He+0]^=te^Ee.xtime[lt^Bt],De[He+1]^=$i^Ee.xtime[Bt^oi],De[He+2]^=te^Ee.xtime[oi^Ti],De[He+3]^=$i^Ee.xtime[Ti^lt]}},Ee}(),$a=function(){var Ee={};return va.Init(),Ee.b256to64=function(De){var He,lt,Bt,oi="",Ti=0,$i=De.length;for(Bt=0;Bt<$i;Bt++)lt=De.charCodeAt(Bt),Ti==0?(oi+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(lt>>2&63),He=(lt&3)<<4):Ti==1?(oi+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(He|lt>>4&15),He=(lt&15)<<2):Ti==2&&(oi+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(He|lt>>6&3),oi+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(lt&63)),Ti+=1,Ti==3&&(Ti=0);return Ti>0&&(oi+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(He),oi+="="),Ti==1&&(oi+="="),oi},Ee.b64to256=function(De){var He,lt,Bt="",oi=0,Ti=0,$i=De.length;for(lt=0;lt<$i;lt++)He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(De.charAt(lt)),He>=0&&(oi&&(Bt+=String.fromCharCode(Ti|He>>6-oi&255)),oi=oi+2&7,Ti=He<<oi&255);return Bt},Ee.b16to64=function(De){var He,lt,Bt="";for(De.length%2==1&&(De="0"+De),He=0;He+3<=De.length;He+=3)lt=parseInt(De.substring(He,He+3),16),Bt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(lt>>6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(lt&63);for(He+1==De.length?(lt=parseInt(De.substring(He,He+1),16),Bt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(lt<<2)):He+2==De.length&&(lt=parseInt(De.substring(He,He+2),16),Bt+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(lt>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((lt&3)<<4));(Bt.length&3)>0;)Bt+="=";return Bt},Ee.b64to16=function(De){var He="",lt,Bt=0,oi;for(lt=0;lt<De.length&&De.charAt(lt)!="=";++lt)v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(De.charAt(lt)),v<0||(Bt==0?(He+=ve(v>>2),oi=v&3,Bt=1):Bt==1?(He+=ve(oi<<2|v>>4),oi=v&15,Bt=2):Bt==2?(He+=ve(oi),He+=ve(v>>2),oi=v&3,Bt=3):(He+=ve(oi<<2|v>>4),He+=ve(v&15),Bt=0));return Bt==1&&(He+=ve(oi<<2)),He},Ee.string2bytes=function(De){for(var He=[],lt=0;lt<De.length;lt++)He.push(De.charCodeAt(lt));return He},Ee.bytes2string=function(De){for(var He="",lt=0;lt<De.length;lt++)He+=String.fromCharCode(De[lt]);return He},Ee.blockXOR=function(De,He){for(var lt=Array(16),Bt=0;Bt<16;Bt++)lt[Bt]=De[Bt]^He[Bt];return lt},Ee.blockIV=function(){var De=new Y,He=Array(16);return De.nextBytes(He),He},Ee.pad16=function(De){var He=De.slice(0),lt=(16-De.length%16)%16;for(i=De.length;i<De.length+lt;i++)He.push(0);return He},Ee.depad=function(De){for(De=De.slice(0);De[De.length-1]==0;)De=De.slice(0,De.length-1);return De},Ee.encryptAESCBC=function(De,He){var lt=He.slice(0);va.ExpandKey(lt);for(var Bt=Ee.string2bytes(De),Bt=Ee.pad16(Bt),oi=Ee.blockIV(),Ti=0;Ti<Bt.length/16;Ti++){var sr=Bt.slice(Ti*16,Ti*16+16),$i=oi.slice(Ti*16,Ti*16+16),sr=Ee.blockXOR($i,sr);va.Encrypt(sr,lt),oi=oi.concat(sr)}return lt=Ee.bytes2string(oi),Ee.b256to64(lt)},Ee.decryptAESCBC=function(De,He){var lt=He.slice(0);va.ExpandKey(lt);for(var De=Ee.b64to256(De),Bt=Ee.string2bytes(De),oi=[],Ti=1;Ti<Bt.length/16;Ti++){var $i=Bt.slice(Ti*16,Ti*16+16),sr=Bt.slice((Ti-1)*16,(Ti-1)*16+16);va.Decrypt($i,lt),$i=Ee.blockXOR(sr,$i),oi=oi.concat($i)}return oi=Ee.depad(oi),Ee.bytes2string(oi)},Ee.wrap60=function(De){for(var He="",lt=0;lt<De.length;lt++)lt%60==0&&lt!=0&&(He+=`
`),He+=De[lt];return He},Ee.generateAESKey=function(){var De=Array(16);return new Y().nextBytes(De),De},Ee.generateRSAKey=function(De,He){Math.seedrandom(Ze.hex(De));var lt=new Li;return lt.generate(He,"10001"),lt},Ee.publicKeyString=function(De){return pubkey=De.n.toString(16)},Ee.publicKeyID=function(De){return Et(De)},Ee.publicKeyFromString=function(He){var He=He.split("|")[0],lt=new Li;return lt.setPublic(He,"10001"),lt},Ee.encrypt=function(De,He,lt){var Bt="";try{var oi=Ee.publicKeyFromString(He);Bt+=oi.encrypt(De)+"?"}catch{return{status:"Invalid public key"}}return{status:"success",cipher:Bt}},Ee.decrypt=function(De,He){var lt=De.split("?"),Bt=He.decrypt(lt[0]);return{status:"success",plaintext:Bt,signature:"unsigned"}},Ee}();M.exports=$a},function(M,z,ce){M.exports=ce(2)},function(M,z,ce){ce.r(z),ce.d(z,"StreamClient",function(){return jt});var ie,Oe=new Uint8Array(16);function Qe(){if(!ie&&(ie=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ie))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ie(Oe)}var st=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function D(Dt){return typeof Dt=="string"&&st.test(Dt)}for(var Xe=D,X=[],Ce=0;Ce<256;++Ce)X.push((Ce+256).toString(16).substr(1));function ve(Dt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Kt=(X[Dt[Ft+0]]+X[Dt[Ft+1]]+X[Dt[Ft+2]]+X[Dt[Ft+3]]+"-"+X[Dt[Ft+4]]+X[Dt[Ft+5]]+"-"+X[Dt[Ft+6]]+X[Dt[Ft+7]]+"-"+X[Dt[Ft+8]]+X[Dt[Ft+9]]+"-"+X[Dt[Ft+10]]+X[Dt[Ft+11]]+X[Dt[Ft+12]]+X[Dt[Ft+13]]+X[Dt[Ft+14]]+X[Dt[Ft+15]]).toLowerCase();if(!Xe(Kt))throw TypeError("Stringified UUID is invalid");return Kt}var Le=ve;function pe(Dt,Ft,Kt){Dt=Dt||{};var wt=Dt.random||(Dt.rng||Qe)();if(wt[6]=wt[6]&15|64,wt[8]=wt[8]&63|128,Ft){Kt=Kt||0;for(var si=0;si<16;++si)Ft[Kt+si]=wt[si];return Ft}return Le(wt)}var ee=pe,je=function(){var Dt=function(){function Ft(){Re(this,Ft)}return xt(Ft,[{key:"createClientObject",value:function(wt,si,ht,Ii){return{socket:wt,id:si,iCurChannel:ht,iCurStream:Ii,resolve:null,reject:null}}},{key:"zeroPlayCmd",value:function(wt,si){var ht=[0,0,0,44,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,wt+1,0,0,0,si,0,0,4,0];return new Uint8Array(ht)}},{key:"playCmd",value:function(wt,si){var ht=[0,0,0,44,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,wt,0,0,0,si,0,0,4,0];return new Uint8Array(ht)}},{key:"playbackCmd",value:function(wt,si,ht,Ii){var ji=wt.split("T")[0],Zi=wt.split("T")[1],pi="0"+parseInt(ji.substring(0,4),10).toString(16),sn=parseInt(ji.substring(4,6),10),ci=parseInt(ji.substring(6),10),Ut=parseInt(Zi.substring(0,2),10),V=parseInt(Zi.substring(2,4),10),w=parseInt(Zi.substring(4,6),10),N=si.split("T")[0],T=si.split("T")[1],we="0"+parseInt(N.substring(0,4),10).toString(16),Se=parseInt(N.substring(4,6),10),Ne=parseInt(T.substring(0,2),10),Ye=parseInt(T.substring(2,4),10),bt=parseInt(T.substring(4,6),10),ni=[0,0,0,96,0,0,0,0,0,0,0,0,0,3,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ht,0,0,parseInt(pi.substring(0,2),16),parseInt(pi.substring(2,4),16),0,0,0,sn,0,0,0,ci,0,0,0,Ut,0,0,0,V,0,0,0,w,0,0,parseInt(we.substring(0,2),16),parseInt(we.substring(2,4),16),0,0,0,Se,0,0,0,ci,0,0,0,Ne,0,0,0,Ye,0,0,0,bt,0,0,0,0,0,0,0,0,Ii,0,0,0];return new Uint8Array(ni)}},{key:"playRateCmd",value:function(wt){for(var si=(parseInt(wt,10)>>>0).toString(16).toLocaleUpperCase().toString(16),ht=si.length;ht<8;ht++)si="0"+si;for(var Ii=[0,0,0,0],ji=0,Zi=si.length;ji<Zi;ji=ji+2)Ii[Math.floor(ji/2)]=parseInt(si.substring(ji,ji+2),16);var pi=[0,0,0,36,0,0,0,0,0,0,0,0,0,3,1,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Ii[0],Ii[1],Ii[2],Ii[3]];return new Uint8Array(pi)}},{key:"pauseCmd",value:function(){var wt=[0,0,0,32,0,0,0,0,0,0,0,0,0,3,1,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return new Uint8Array(wt)}},{key:"resumeCmd",value:function(){var wt=[0,0,0,32,0,0,0,0,0,0,0,0,0,3,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return new Uint8Array(wt)}}]),Ft}();return Dt}(),mt=3001,gt=3002,Gt=3003,li=function(){var Dt=function(){function Ft(){Re(this,Ft)}return xt(Ft,[{key:"createClientObject",value:function(wt,si,ht){return{socket:wt,id:si,playURL:ht,resolve:null,reject:null}}},{key:"getMediaFromSdp",value:function(wt){for(var si=wt.indexOf("MEDIAINFO=")+10,ht=wt.slice(si,si+80),Ii=[],ji=0,Zi=ht.length/2;ji<Zi;ji++)Ii[ji]=parseInt(ht.slice(ji*2,ji*2+2),16);return new Uint8Array(Ii)}},{key:"playCmd",value:function(wt){var si={sequence:0,cmd:"realplay",url:wt};return JSON.stringify(si)}},{key:"playbackCmd",value:function(wt,si,ht){var Ii={sequence:0,cmd:"playback",url:ht,startTime:wt,endTime:si};return JSON.stringify(Ii)}},{key:"playRateCmd",value:function(wt){var si={sequence:0,cmd:"changespeed",speed:wt};return JSON.stringify(si)}},{key:"pauseCmd",value:function(){var wt={sequence:0,cmd:"pause"};return JSON.stringify(wt)}},{key:"resumeCmd",value:function(){var wt={sequence:0,cmd:"resume"};return JSON.stringify(wt)}},{key:"getError",value:function(wt){var si=mt;return wt&&(parseInt(wt.statusCode,10)===6&&wt.subStatusCode==="streamLimit"?si=gt:parseInt(wt.statusCode,10)===4&&wt.subStatusCode==="badAuthorization"&&(si=Gt)),{iErrorNum:si,oError:wt}}}]),Ft}();return Dt}(),Oi=ce(0),ge=ce.n(Oi),Ji=Ji||function(Dt,Ft){var Kt={},wt=Kt.lib={},si=function(){},ht=wt.Base={extend:function(w){si.prototype=this;var N=new si;return w&&N.mixIn(w),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var N in w)w.hasOwnProperty(N)&&(this[N]=w[N]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}},Ii=wt.WordArray=ht.extend({init:function(w,N){w=this.words=w||[],this.sigBytes=N!=Ft?N:4*w.length},toString:function(w){return(w||Zi).stringify(this)},concat:function(w){var N=this.words,T=w.words,we=this.sigBytes;if(w=w.sigBytes,this.clamp(),we%4)for(var Se=0;Se<w;Se++)N[we+Se>>>2]|=(T[Se>>>2]>>>24-8*(Se%4)&255)<<24-8*((we+Se)%4);else if(65535<T.length)for(Se=0;Se<w;Se+=4)N[we+Se>>>2]=T[Se>>>2];else N.push.apply(N,T);return this.sigBytes+=w,this},clamp:function(){var w=this.words,N=this.sigBytes;w[N>>>2]&=4294967295<<32-8*(N%4),w.length=Dt.ceil(N/4)},clone:function(){var w=ht.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var N=[],T=0;T<w;T+=4)N.push(4294967296*Dt.random()|0);return new Ii.init(N,w)}}),ji=Kt.enc={},Zi=ji.Hex={stringify:function(w){var N=w.words;w=w.sigBytes;for(var T=[],we=0;we<w;we++){var Se=N[we>>>2]>>>24-8*(we%4)&255;T.push((Se>>>4).toString(16)),T.push((Se&15).toString(16))}return T.join("")},parse:function(w){for(var N=w.length,T=[],we=0;we<N;we+=2)T[we>>>3]|=parseInt(w.substr(we,2),16)<<24-4*(we%8);return new Ii.init(T,N/2)}},pi=ji.Latin1={stringify:function(w){var N=w.words;w=w.sigBytes;for(var T=[],we=0;we<w;we++)T.push(String.fromCharCode(N[we>>>2]>>>24-8*(we%4)&255));return T.join("")},parse:function(w){for(var N=w.length,T=[],we=0;we<N;we++)T[we>>>2]|=(w.charCodeAt(we)&255)<<24-8*(we%4);return new Ii.init(T,N)}},sn=ji.Utf8={stringify:function(w){try{return decodeURIComponent(escape(pi.stringify(w)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(w){return pi.parse(unescape(encodeURIComponent(w)))}},ci=wt.BufferedBlockAlgorithm=ht.extend({reset:function(){this._data=new Ii.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=sn.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var N=this._data,T=N.words,we=N.sigBytes,Se=this.blockSize,Ne=we/(4*Se),Ne=w?Dt.ceil(Ne):Dt.max((Ne|0)-this._minBufferSize,0);if(w=Ne*Se,we=Dt.min(4*w,we),w){for(var Ye=0;Ye<w;Ye+=Se)this._doProcessBlock(T,Ye);Ye=T.splice(0,w),N.sigBytes-=we}return new Ii.init(Ye,we)},clone:function(){var w=ht.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});wt.Hasher=ci.extend({cfg:ht.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){ci.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){return w&&this._append(w),this._doFinalize()},blockSize:16,_createHelper:function(w){return function(N,T){return new w.init(T).finalize(N)}},_createHmacHelper:function(w){return function(N,T){return new Ut.HMAC.init(w,T).finalize(N)}}});var Ut=Kt.algo={};return Kt}(Math);(function(){var Dt=Ji,Ft=Dt.lib.WordArray;Dt.enc.Base64={stringify:function(wt){var si=wt.words,ht=wt.sigBytes,Ii=this._map;wt.clamp(),wt=[];for(var ji=0;ji<ht;ji+=3)for(var Zi=(si[ji>>>2]>>>24-8*(ji%4)&255)<<16|(si[ji+1>>>2]>>>24-8*((ji+1)%4)&255)<<8|si[ji+2>>>2]>>>24-8*((ji+2)%4)&255,pi=0;4>pi&&ji+.75*pi<ht;pi++)wt.push(Ii.charAt(Zi>>>6*(3-pi)&63));if(si=Ii.charAt(64))for(;wt.length%4;)wt.push(si);return wt.join("")},parse:function(wt){var si=wt.length,ht=this._map,Ii=ht.charAt(64);Ii&&(Ii=wt.indexOf(Ii),Ii!=-1&&(si=Ii));for(var Ii=[],ji=0,Zi=0;Zi<si;Zi++)if(Zi%4){var pi=ht.indexOf(wt.charAt(Zi-1))<<2*(Zi%4),sn=ht.indexOf(wt.charAt(Zi))>>>6-2*(Zi%4);Ii[ji>>>2]|=(pi|sn)<<24-8*(ji%4),ji++}return Ft.create(Ii,ji)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(Dt){function Ft(ci,Ut,V,w,N,T,we){return ci=ci+(Ut&V|~Ut&w)+N+we,(ci<<T|ci>>>32-T)+Ut}function Kt(ci,Ut,V,w,N,T,we){return ci=ci+(Ut&w|V&~w)+N+we,(ci<<T|ci>>>32-T)+Ut}function wt(ci,Ut,V,w,N,T,we){return ci=ci+(Ut^V^w)+N+we,(ci<<T|ci>>>32-T)+Ut}function si(ci,Ut,V,w,N,T,we){return ci=ci+(V^(Ut|~w))+N+we,(ci<<T|ci>>>32-T)+Ut}for(var ht=Ji,Zi=ht.lib,Ii=Zi.WordArray,ji=Zi.Hasher,Zi=ht.algo,pi=[],sn=0;64>sn;sn++)pi[sn]=4294967296*Dt.abs(Dt.sin(sn+1))|0;Zi=Zi.MD5=ji.extend({_doReset:function(){this._hash=new Ii.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Ut,V){for(var w=0;16>w;w++){var N=V+w,T=Ut[N];Ut[N]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var w=this._hash.words,N=Ut[V+0],T=Ut[V+1],we=Ut[V+2],Se=Ut[V+3],Ne=Ut[V+4],Ye=Ut[V+5],bt=Ut[V+6],ni=Ut[V+7],Zt=Ut[V+8],Me=Ut[V+9],dt=Ut[V+10],ai=Ut[V+11],Fi=Ut[V+12],di=Ut[V+13],gi=Ut[V+14],Ki=Ut[V+15],Si=w[0],vi=w[1],qt=w[2],Ht=w[3],Si=Ft(Si,vi,qt,Ht,N,7,pi[0]),Ht=Ft(Ht,Si,vi,qt,T,12,pi[1]),qt=Ft(qt,Ht,Si,vi,we,17,pi[2]),vi=Ft(vi,qt,Ht,Si,Se,22,pi[3]),Si=Ft(Si,vi,qt,Ht,Ne,7,pi[4]),Ht=Ft(Ht,Si,vi,qt,Ye,12,pi[5]),qt=Ft(qt,Ht,Si,vi,bt,17,pi[6]),vi=Ft(vi,qt,Ht,Si,ni,22,pi[7]),Si=Ft(Si,vi,qt,Ht,Zt,7,pi[8]),Ht=Ft(Ht,Si,vi,qt,Me,12,pi[9]),qt=Ft(qt,Ht,Si,vi,dt,17,pi[10]),vi=Ft(vi,qt,Ht,Si,ai,22,pi[11]),Si=Ft(Si,vi,qt,Ht,Fi,7,pi[12]),Ht=Ft(Ht,Si,vi,qt,di,12,pi[13]),qt=Ft(qt,Ht,Si,vi,gi,17,pi[14]),vi=Ft(vi,qt,Ht,Si,Ki,22,pi[15]),Si=Kt(Si,vi,qt,Ht,T,5,pi[16]),Ht=Kt(Ht,Si,vi,qt,bt,9,pi[17]),qt=Kt(qt,Ht,Si,vi,ai,14,pi[18]),vi=Kt(vi,qt,Ht,Si,N,20,pi[19]),Si=Kt(Si,vi,qt,Ht,Ye,5,pi[20]),Ht=Kt(Ht,Si,vi,qt,dt,9,pi[21]),qt=Kt(qt,Ht,Si,vi,Ki,14,pi[22]),vi=Kt(vi,qt,Ht,Si,Ne,20,pi[23]),Si=Kt(Si,vi,qt,Ht,Me,5,pi[24]),Ht=Kt(Ht,Si,vi,qt,gi,9,pi[25]),qt=Kt(qt,Ht,Si,vi,Se,14,pi[26]),vi=Kt(vi,qt,Ht,Si,Zt,20,pi[27]),Si=Kt(Si,vi,qt,Ht,di,5,pi[28]),Ht=Kt(Ht,Si,vi,qt,we,9,pi[29]),qt=Kt(qt,Ht,Si,vi,ni,14,pi[30]),vi=Kt(vi,qt,Ht,Si,Fi,20,pi[31]),Si=wt(Si,vi,qt,Ht,Ye,4,pi[32]),Ht=wt(Ht,Si,vi,qt,Zt,11,pi[33]),qt=wt(qt,Ht,Si,vi,ai,16,pi[34]),vi=wt(vi,qt,Ht,Si,gi,23,pi[35]),Si=wt(Si,vi,qt,Ht,T,4,pi[36]),Ht=wt(Ht,Si,vi,qt,Ne,11,pi[37]),qt=wt(qt,Ht,Si,vi,ni,16,pi[38]),vi=wt(vi,qt,Ht,Si,dt,23,pi[39]),Si=wt(Si,vi,qt,Ht,di,4,pi[40]),Ht=wt(Ht,Si,vi,qt,N,11,pi[41]),qt=wt(qt,Ht,Si,vi,Se,16,pi[42]),vi=wt(vi,qt,Ht,Si,bt,23,pi[43]),Si=wt(Si,vi,qt,Ht,Me,4,pi[44]),Ht=wt(Ht,Si,vi,qt,Fi,11,pi[45]),qt=wt(qt,Ht,Si,vi,Ki,16,pi[46]),vi=wt(vi,qt,Ht,Si,we,23,pi[47]),Si=si(Si,vi,qt,Ht,N,6,pi[48]),Ht=si(Ht,Si,vi,qt,ni,10,pi[49]),qt=si(qt,Ht,Si,vi,gi,15,pi[50]),vi=si(vi,qt,Ht,Si,Ye,21,pi[51]),Si=si(Si,vi,qt,Ht,Fi,6,pi[52]),Ht=si(Ht,Si,vi,qt,Se,10,pi[53]),qt=si(qt,Ht,Si,vi,dt,15,pi[54]),vi=si(vi,qt,Ht,Si,T,21,pi[55]),Si=si(Si,vi,qt,Ht,Zt,6,pi[56]),Ht=si(Ht,Si,vi,qt,Ki,10,pi[57]),qt=si(qt,Ht,Si,vi,bt,15,pi[58]),vi=si(vi,qt,Ht,Si,di,21,pi[59]),Si=si(Si,vi,qt,Ht,Ne,6,pi[60]),Ht=si(Ht,Si,vi,qt,ai,10,pi[61]),qt=si(qt,Ht,Si,vi,we,15,pi[62]),vi=si(vi,qt,Ht,Si,Me,21,pi[63]);w[0]=w[0]+Si|0,w[1]=w[1]+vi|0,w[2]=w[2]+qt|0,w[3]=w[3]+Ht|0},_doFinalize:function(){var Ut=this._data,V=Ut.words,w=8*this._nDataBytes,N=8*Ut.sigBytes;V[N>>>5]|=128<<24-N%32;var T=Dt.floor(w/4294967296);for(V[(N+64>>>9<<4)+15]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,V[(N+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,Ut.sigBytes=4*(V.length+1),this._process(),Ut=this._hash,V=Ut.words,w=0;4>w;w++)N=V[w],V[w]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;return Ut},clone:function(){var Ut=ji.clone.call(this);return Ut._hash=this._hash.clone(),Ut}}),ht.MD5=ji._createHelper(Zi),ht.HmacMD5=ji._createHmacHelper(Zi)}(Math),function(){var Dt=Ji,wt=Dt.lib,Ft=wt.Base,Kt=wt.WordArray,wt=Dt.algo,si=wt.EvpKDF=Ft.extend({cfg:Ft.extend({keySize:4,hasher:wt.MD5,iterations:1}),init:function(Ii){this.cfg=this.cfg.extend(Ii)},compute:function(Ii,ji){for(var Ut=this.cfg,Zi=Ut.hasher.create(),pi=Kt.create(),sn=pi.words,ci=Ut.keySize,Ut=Ut.iterations;sn.length<ci;){V&&Zi.update(V);var V=Zi.update(Ii).finalize(ji);Zi.reset();for(var w=1;w<Ut;w++)V=Zi.finalize(V),Zi.reset();pi.concat(V)}return pi.sigBytes=4*ci,pi}});Dt.EvpKDF=function(ht,Ii,ji){return si.create(ji).compute(ht,Ii)}}(),Ji.lib.Cipher||function(Dt){var V=Ji,Ft=V.lib,Kt=Ft.Base,wt=Ft.WordArray,si=Ft.BufferedBlockAlgorithm,ht=V.enc.Base64,Ii=V.algo.EvpKDF,ji=Ft.Cipher=si.extend({cfg:Kt.extend(),createEncryptor:function(T,we){return this.create(this._ENC_XFORM_MODE,T,we)},createDecryptor:function(T,we){return this.create(this._DEC_XFORM_MODE,T,we)},init:function(T,we,Se){this.cfg=this.cfg.extend(Se),this._xformMode=T,this._key=we,this.reset()},reset:function(){si.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){return T&&this._append(T),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(T){return{encrypt:function(Se,Ne,Ye){return(typeof Ne=="string"?w:Ut).encrypt(T,Se,Ne,Ye)},decrypt:function(Se,Ne,Ye){return(typeof Ne=="string"?w:Ut).decrypt(T,Se,Ne,Ye)}}}});Ft.StreamCipher=ji.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var ci=V.mode={},Zi=function(T,we,Se){var Ne=this._iv;Ne?this._iv=Dt:Ne=this._prevBlock;for(var Ye=0;Ye<Se;Ye++)T[we+Ye]^=Ne[Ye]},pi=(Ft.BlockCipherMode=Kt.extend({createEncryptor:function(T,we){return this.Encryptor.create(T,we)},createDecryptor:function(T,we){return this.Decryptor.create(T,we)},init:function(T,we){this._cipher=T,this._iv=we}})).extend();pi.Encryptor=pi.extend({processBlock:function(T,we){var Se=this._cipher,Ne=Se.blockSize;Zi.call(this,T,we,Ne),Se.encryptBlock(T,we),this._prevBlock=T.slice(we,we+Ne)}}),pi.Decryptor=pi.extend({processBlock:function(T,we){var Se=this._cipher,Ne=Se.blockSize,Ye=T.slice(we,we+Ne);Se.decryptBlock(T,we),Zi.call(this,T,we,Ne),this._prevBlock=Ye}}),ci=ci.CBC=pi,pi=(V.pad={}).Pkcs7={pad:function(T,we){for(var Se=4*we,Se=Se-T.sigBytes%Se,Ne=Se<<24|Se<<16|Se<<8|Se,Ye=[],bt=0;bt<Se;bt+=4)Ye.push(Ne);Se=wt.create(Ye,Se),T.concat(Se)},unpad:function(T){T.sigBytes-=T.words[T.sigBytes-1>>>2]&255}},Ft.BlockCipher=ji.extend({cfg:ji.cfg.extend({mode:ci,padding:pi}),reset:function(){ji.reset.call(this);var we=this.cfg,T=we.iv,we=we.mode;if(this._xformMode==this._ENC_XFORM_MODE)var Se=we.createEncryptor;else Se=we.createDecryptor,this._minBufferSize=1;this._mode=Se.call(we,this,T&&T.words)},_doProcessBlock:function(T,we){this._mode.processBlock(T,we)},_doFinalize:function(){var T=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){T.pad(this._data,this.blockSize);var we=this._process(!0)}else we=this._process(!0),T.unpad(we);return we},blockSize:4});var sn=Ft.CipherParams=Kt.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),ci=(V.format={}).OpenSSL={stringify:function(T){var we=T.ciphertext;return T=T.salt,(T?wt.create([1398893684,1701076831]).concat(T).concat(we):we).toString(ht)},parse:function(T){T=ht.parse(T);var we=T.words;if(we[0]==1398893684&&we[1]==1701076831){var Se=wt.create(we.slice(2,4));we.splice(0,4),T.sigBytes-=16}return sn.create({ciphertext:T,salt:Se})}},Ut=Ft.SerializableCipher=Kt.extend({cfg:Kt.extend({format:ci}),encrypt:function(T,we,Se,Ne){Ne=this.cfg.extend(Ne);var Ye=T.createEncryptor(Se,Ne);return we=Ye.finalize(we),Ye=Ye.cfg,sn.create({ciphertext:we,key:Se,iv:Ye.iv,algorithm:T,mode:Ye.mode,padding:Ye.padding,blockSize:T.blockSize,formatter:Ne.format})},decrypt:function(T,we,Se,Ne){return Ne=this.cfg.extend(Ne),we=this._parse(we,Ne.format),T.createDecryptor(Se,Ne).finalize(we.ciphertext)},_parse:function(T,we){return typeof T=="string"?we.parse(T,this):T}}),V=(V.kdf={}).OpenSSL={execute:function(T,we,Se,Ne){return Ne||(Ne=wt.random(8)),T=Ii.create({keySize:we+Se}).compute(T,Ne),Se=wt.create(T.words.slice(we),4*Se),T.sigBytes=4*we,sn.create({key:T,iv:Se,salt:Ne})}},w=Ft.PasswordBasedCipher=Ut.extend({cfg:Ut.cfg.extend({kdf:V}),encrypt:function(T,we,Se,Ne){return Ne=this.cfg.extend(Ne),Se=Ne.kdf.execute(Se,T.keySize,T.ivSize),Ne.iv=Se.iv,T=Ut.encrypt.call(this,T,we,Se.key,Ne),T.mixIn(Se),T},decrypt:function(T,we,Se,Ne){return Ne=this.cfg.extend(Ne),we=this._parse(we,Ne.format),Se=Ne.kdf.execute(Se,T.keySize,T.ivSize,we.salt),Ne.iv=Se.iv,Ut.decrypt.call(this,T,we,Se.key,Ne)}})}(),function(){for(var Dt=Ji,Ft=Dt.lib.BlockCipher,ni=Dt.algo,Kt=[],wt=[],si=[],ht=[],Ii=[],ji=[],Zi=[],pi=[],sn=[],ci=[],Ut=[],V=0;256>V;V++)Ut[V]=128>V?V<<1:V<<1^283;for(var w=0,N=0,V=0;256>V;V++){var T=N^N<<1^N<<2^N<<3^N<<4,T=T>>>8^T&255^99;Kt[w]=T,wt[T]=w;var we=Ut[w],Se=Ut[we],Ne=Ut[Se],Ye=257*Ut[T]^16843008*T;si[w]=Ye<<24|Ye>>>8,ht[w]=Ye<<16|Ye>>>16,Ii[w]=Ye<<8|Ye>>>24,ji[w]=Ye,Ye=16843009*Ne^65537*Se^257*we^16843008*w,Zi[T]=Ye<<24|Ye>>>8,pi[T]=Ye<<16|Ye>>>16,sn[T]=Ye<<8|Ye>>>24,ci[T]=Ye,w?(w=we^Ut[Ut[Ut[Ne^we]]],N^=Ut[Ut[N]]):w=N=1}var bt=[0,1,2,4,8,16,32,64,128,27,54],ni=ni.AES=Ft.extend({_doReset:function(){for(var ai=this._key,Me=ai.words,dt=ai.sigBytes/4,ai=4*((this._nRounds=dt+6)+1),Fi=this._keySchedule=[],di=0;di<ai;di++)if(di<dt)Fi[di]=Me[di];else{var gi=Fi[di-1];di%dt?6<dt&&di%dt==4&&(gi=Kt[gi>>>24]<<24|Kt[gi>>>16&255]<<16|Kt[gi>>>8&255]<<8|Kt[gi&255]):(gi=gi<<8|gi>>>24,gi=Kt[gi>>>24]<<24|Kt[gi>>>16&255]<<16|Kt[gi>>>8&255]<<8|Kt[gi&255],gi^=bt[di/dt|0]<<24),Fi[di]=Fi[di-dt]^gi}for(Me=this._invKeySchedule=[],dt=0;dt<ai;dt++)di=ai-dt,gi=dt%4?Fi[di]:Fi[di-4],Me[dt]=4>dt||4>=di?gi:Zi[Kt[gi>>>24]]^pi[Kt[gi>>>16&255]]^sn[Kt[gi>>>8&255]]^ci[Kt[gi&255]]},encryptBlock:function(Me,dt){this._doCryptBlock(Me,dt,this._keySchedule,si,ht,Ii,ji,Kt)},decryptBlock:function(Me,dt){var ai=Me[dt+1];Me[dt+1]=Me[dt+3],Me[dt+3]=ai,this._doCryptBlock(Me,dt,this._invKeySchedule,Zi,pi,sn,ci,wt),ai=Me[dt+1],Me[dt+1]=Me[dt+3],Me[dt+3]=ai},_doCryptBlock:function(Me,dt,ai,Fi,di,gi,Ki,Si){for(var Ht=this._nRounds,Rn=Me[dt]^ai[0],fn=Me[dt+1]^ai[1],xn=Me[dt+2]^ai[2],cn=Me[dt+3]^ai[3],qt=4,vi=1;vi<Ht;vi++)var rn=Fi[Rn>>>24]^di[fn>>>16&255]^gi[xn>>>8&255]^Ki[cn&255]^ai[qt++],En=Fi[fn>>>24]^di[xn>>>16&255]^gi[cn>>>8&255]^Ki[Rn&255]^ai[qt++],an=Fi[xn>>>24]^di[cn>>>16&255]^gi[Rn>>>8&255]^Ki[fn&255]^ai[qt++],cn=Fi[cn>>>24]^di[Rn>>>16&255]^gi[fn>>>8&255]^Ki[xn&255]^ai[qt++],Rn=rn,fn=En,xn=an;rn=(Si[Rn>>>24]<<24|Si[fn>>>16&255]<<16|Si[xn>>>8&255]<<8|Si[cn&255])^ai[qt++],En=(Si[fn>>>24]<<24|Si[xn>>>16&255]<<16|Si[cn>>>8&255]<<8|Si[Rn&255])^ai[qt++],an=(Si[xn>>>24]<<24|Si[cn>>>16&255]<<16|Si[Rn>>>8&255]<<8|Si[fn&255])^ai[qt++],cn=(Si[cn>>>24]<<24|Si[Rn>>>16&255]<<16|Si[fn>>>8&255]<<8|Si[xn&255])^ai[qt++],Me[dt]=rn,Me[dt+1]=En,Me[dt+2]=an,Me[dt+3]=cn},keySize:8});Dt.AES=Ft._createHelper(ni)}();var kt=Ji,Lt=function(){var Dt=function(){function Ft(){Re(this,Ft)}return xt(Ft,[{key:"createClientObject",value:function(wt,si,ht,Ii,ji){var Zi=kt.AES.encrypt(new Date().getTime().toString(),kt.enc.Hex.parse("1234567891234567123456789123456712345678912345671234567891234567"),{mode:kt.mode.CBC,iv:kt.enc.Hex.parse("12345678912345671234567891234567"),padding:kt.pad.Pkcs7}).ciphertext.toString();Zi.length<64&&(Zi=Zi+Zi);var pi=kt.AES.encrypt(new Date().getTime().toString(),kt.enc.Hex.parse("12345678912345671234567891234567"),{mode:kt.mode.CBC,iv:kt.enc.Hex.parse("12345678912345671234567891234567"),padding:kt.pad.Pkcs7}).ciphertext.toString();return{socket:wt,id:si,PKD:ht,rand:Ii,playURL:ji.playURL||"",auth:ji.auth||"",token:ji.token||"",key:Zi,iv:pi,resolve:null,reject:null}}},{key:"playCmd",value:function(wt){var si={sequence:0,cmd:"realplay",url:wt.playURL,key:ge.a.encrypt(wt.iv+":"+wt.key,wt.PKD).cipher.split("?")[0],authorization:kt.AES.encrypt(wt.rand+":"+wt.auth,kt.enc.Hex.parse(wt.key),{mode:kt.mode.CBC,iv:kt.enc.Hex.parse(wt.iv),padding:kt.pad.Pkcs7}).ciphertext.toString(),token:kt.AES.encrypt(wt.token,kt.enc.Hex.parse(wt.key),{mode:kt.mode.CBC,iv:kt.enc.Hex.parse(wt.iv),padding:kt.pad.Pkcs7}).ciphertext.toString()};return JSON.stringify(si)}},{key:"playbackCmd",value:function(wt,si,ht){var Ii={sequence:0,cmd:"playback",url:wt.playURL,key:ge.a.encrypt(wt.iv+":"+wt.key,wt.PKD).cipher.split("?")[0],authorization:kt.AES.encrypt(wt.rand+":"+wt.auth,kt.enc.Hex.parse(wt.key),{mode:kt.mode.CBC,iv:kt.enc.Hex.parse(wt.iv),padding:kt.pad.Pkcs7}).ciphertext.toString(),token:kt.AES.encrypt(wt.token,kt.enc.Hex.parse(wt.key),{mode:kt.mode.CBC,iv:kt.enc.Hex.parse(wt.iv),padding:kt.pad.Pkcs7}).ciphertext.toString(),startTime:si,endTime:ht};return JSON.stringify(Ii)}},{key:"seekCmd",value:function(wt,si){var ht={sequence:0,cmd:"seek",startTime:wt,endTime:si};return JSON.stringify(ht)}}]),Ft}();return Dt}(),Tt=function(){var Dt=function(){function Ft(){Re(this,Ft)}return xt(Ft,[{key:"createClientObject",value:function(wt,si,ht,Ii){return{socket:wt,id:si,playURL:ht,deviceSerial:Ii.deviceSerial||"",verificationCode:Ii.verificationCode||"",resolve:null,reject:null}}},{key:"playCmd",value:function(wt){var si={sequence:0,cmd:"realplay",deviceSerial:wt.deviceSerial,verificationCode:wt.verificationCode,url:wt.playURL};return JSON.stringify(si)}},{key:"playbackCmd",value:function(wt,si,ht){var Ii={sequence:0,cmd:"playback",deviceSerial:wt.deviceSerial,verificationCode:wt.verificationCode,url:wt.playURL,startTime:si,endTime:ht};return JSON.stringify(Ii)}}]),Ft}();return Dt}(),jt=function(){var Dt=Symbol("WEBSOCKET"),Ft=Symbol("GETINDEX"),Kt=Symbol("PROTOCOLVERSION"),wt=Symbol("CIPHERSUITES"),si=new je,ht=new li,Ii=new Lt,ji=new Tt,Zi=function(){function pi(){Re(this,pi),this[Kt]="0.1",this[wt]=0,this[Dt]=[],this.ERRORS={},this[Ft]=function(sn){for(var ci=-1,Ut=0,V=this[Dt].length;Ut<V;Ut++)if(this[Dt][Ut].id===sn){ci=Ut;break}return ci}}return xt(pi,[{key:"openStream",value:function(ci,Ut,V,w){var N=!1;ci.indexOf("[")>-1&&(N=!0);var T=this,we=ci.split("://"),Se=we[0],Ne="",Ye=7681,bt=1,ni=0,Zt=!1;if(N)Ne=we[1].split("]:")[0]+"]",Ye=Math.floor(we[1].split("]:")[1].split("/")[0]),bt=Math.floor(we[1].split("]:")[1].split("/")[1]/100),ni=Math.floor(we[1].split("]:")[1].split("/")[1]%100)-1;else{Ne=we[1].split(":")[0],Ye=Math.floor(we[1].split(":")[1].split("/")[0]),bt=Math.floor(we[1].split(":")[1].split("/")[1]/100),ni=Math.floor(we[1].split(":")[1].split("/")[1]%100)-1;var Me=we[1].split(":")[1].split("/")[2];Me!==""&&Me==="webSocketVideoCtrlProxy"&&(Zt=!0)}bt===0&&(ni=0),Ut=Ut||{};var dt="&sessionID=";Ut.token&&!Ut.playURL&&(dt="&token=");var ai=Ut.sessionID||Ut.session||(Ut.playURL?"":Ut.token)||"",Fi=new window.WebSocket(Se+"://"+Ne+":"+Ye+(Ut.mode?"/"+Ut.mode:"")+(Zt?"/webSocketVideoCtrlProxy":"")+"?version="+T[Kt]+"&cipherSuites="+T[wt]+dt+ai+(Ut.proxy?"&proxy="+Ut.proxy:""));Fi.binaryType="arraybuffer";var di=ee(),gi=-1,Ki=new Promise(function(Si,Ht){Fi.onopen=function(){!Ut.playURL&&!Ut.sessionID&&!Ut.deviceSerial&&!Ut.token&&(T[Dt].push(si.createClientObject(Fi,di,bt,ni)),Si(di))},Fi.onmessage=function(qt){if(typeof qt.data=="string"){var vi=JSON.parse(qt.data),rn=T[Ft](di);if(vi&&vi.version&&vi.cipherSuite){if(T[Kt]=vi.version,T[wt]=parseInt(vi.cipherSuite,10),vi&&vi.PKD&&vi.rand)T[Dt].push(Ii.createClientObject(Fi,di,vi.PKD,vi.rand,Ut));else{var En="live://"+Ne+":"+Ye+"/"+bt+"/"+ni;T[wt]===-1?T[Dt].push(ji.createClientObject(Fi,di,En,Ut)):T[Dt].push(ht.createClientObject(Fi,di,En))}Si(di);return}if(vi&&vi.sdp){var an=ht.getMediaFromSdp(vi.sdp);V({bHead:!0,buf:an})}if(vi&&vi.cmd&&vi.cmd==="end"&&V({type:"exception",cmd:vi.cmd}),vi&&vi.statusString&&(vi.statusString.toLowerCase()==="ok"&&T[Dt][rn].resolve&&T[Dt][rn].resolve(vi),vi.statusString.toLowerCase()!=="ok")){var cn=ht.getError(vi);rn>-1?T[Dt][rn].reject&&T[Dt][rn].reject(cn):Ht(cn)}vi&&vi.errorCode&&V(vi)}else{var Rn={},fn=new Uint8Array(qt.data);if(gi++,fn.byteLength===64||fn.byteLength===40){for(var xn=-1,tr=fn.byteLength,$n=0;$n<tr;$n++)if(fn[$n]===73&&fn[$n+1]===77&&fn[$n+2]===75&&fn[$n+3]===72){xn=$n;break}if(xn!==-1){var Tr=fn.slice(xn,xn+40);Rn={bHead:!0,buf:Tr}}else Rn={bHead:!1,buf:fn};V(Rn)}else gi>0&&(Rn={bHead:!1,buf:fn},V(Rn));fn=null,Rn=null,qt=null}},Fi.onclose=function(){for(var qt=0,vi=T[Dt].length;qt<vi;qt++)if(T[Dt][qt].id===di){T[Dt][qt].resolve(),T[Dt].splice(qt,1),setTimeout(function(){w()},200);break}Ht()}});return Ki}},{key:"startPlay",value:function(ci,Ut,V){var w=this,N=this[Ft](ci);Ut&&V&&w[Kt]==="0.1"&&(Ut=Ut.replace(/-/g,"").replace(/:/g,""),V=V.replace(/-/g,"").replace(/:/g,""));var T=new Promise(function(we,Se){if(N>-1){w[Dt][N].resolve=we,w[Dt][N].reject=Se;var Ne=null;!Ut||!V?w[Dt][N].iCurChannel===0&&w[Kt]==="0.1"?Ne=si.zeroPlayCmd(w[Dt][N].iCurChannel,w[Dt][N].iCurStream):w[Kt]!=="0.1"?w[wt]===0?Ne=Ii.playCmd(w[Dt][N]):w[wt]===1?Ne=ht.playCmd(w[Dt][N].playURL):w[wt]===-1&&(Ne=ji.playCmd(w[Dt][N])):Ne=si.playCmd(w[Dt][N].iCurChannel,w[Dt][N].iCurStream):w[Kt]!=="0.1"?w[wt]===0?Ne=Ii.playbackCmd(w[Dt][N],Ut,V):w[wt]===1?Ne=ht.playbackCmd(Ut,V,w[Dt][N].playURL):w[wt]===-1&&(Ne=ji.playbackCmd(w[Dt][N],Ut,V)):Ne=si.playbackCmd(Ut,V,w[Dt][N].iCurChannel,w[Dt][N].iCurStream),w[Dt][N].socket.send(Ne),w[Kt]==="0.1"&&we()}else w[Kt]==="0.1"&&Se()});return T}},{key:"singleFrame",value:function(){}},{key:"setPlayRate",value:function(ci,Ut){var V=this,w=new Promise(function(N,T){for(var we=0,Se=V[Dt].length;we<Se;we++)if(V[Dt][we].id===ci)if(V[Kt]==="0.1"){var Ne=si.playRateCmd(Ut);V[Dt][we].socket.send(Ne),N();break}else{V[Dt][we].resolve=N,V[Dt][we].reject=T;var Ye=ht.playRateCmd(Ut);V[Dt][we].socket.send(Ye)}});return w}},{key:"seek",value:function(ci,Ut,V){var w=this,N=new Promise(function(T,we){for(var Se=0,Ne=w[Dt].length;Se<Ne;Se++)if(w[Dt][Se].id===ci){w[Dt][Se].resolve=T,w[Dt][Se].reject=we;var Ye=Ii.seekCmd(Ut,V);w[Dt][Se].socket.send(Ye)}});return N}},{key:"pause",value:function(ci){var Ut=this,V=new Promise(function(w,N){for(var T=0,we=Ut[Dt].length;T<we;T++)if(Ut[Dt][T].id===ci)if(Ut[Kt]==="0.1"){var Se=si.pauseCmd();Ut[Dt][T].socket.send(Se),w();break}else{Ut[Dt][T].resolve=w,Ut[Dt][T].reject=N;var Ne=ht.pauseCmd();Ut[Dt][T].socket.send(Ne)}});return V}},{key:"transmission",value:function(ci,Ut){var V=this,w=new Promise(function(N,T){for(var we=0,Se=V[Dt].length;we<Se;we++)V[Dt][we].id===ci&&(V[Dt][we].resolve=N,V[Dt][we].reject=T,V[Dt][we].socket.send(Ut))});return w}},{key:"resume",value:function(ci){var Ut=this,V=new Promise(function(w,N){for(var T=0,we=Ut[Dt].length;T<we;T++)if(Ut[Dt][T].id===ci)if(Ut[Kt]==="0.1"){var Se=si.resumeCmd();Ut[Dt][T].socket.send(Se),w();break}else{Ut[Dt][T].resolve=w,Ut[Dt][T].reject=N;var Ne=ht.resumeCmd();Ut[Dt][T].socket.send(Ne)}});return V}},{key:"stop",value:function(ci){var Ut=this,V=new Promise(function(w,N){if(!ci)N();else{for(var T=-1,we=0,Se=Ut[Dt].length;we<Se;we++)if(Ut[Dt][we].id===ci){T=we,Ut[Dt][we].resolve=w,Ut[Dt][we].socket.close(1e3,"CLOSE");break}T===-1&&N()}});return V}},{key:"stopAll",value:function(){var ci=this,Ut=new Promise(function(V,w){for(var N=0,T=ci[Dt].length;N<T;N++)ci[Dt][N].socket.close(1e3,"CLOSE");console.log("停止所有流"),V()});return Ut}}]),pi}();return Zi}()}])})})(o);var c=o.exports,d,u=new Uint8Array(16);function k(){if(!d&&(d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(u)}var P=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function S(H){return typeof H=="string"&&P.test(H)}for(var R=[],b=0;b<256;++b)R.push((b+256).toString(16).substr(1));function _(H){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=(R[H[_e+0]]+R[H[_e+1]]+R[H[_e+2]]+R[H[_e+3]]+"-"+R[H[_e+4]]+R[H[_e+5]]+"-"+R[H[_e+6]]+R[H[_e+7]]+"-"+R[H[_e+8]]+R[H[_e+9]]+"-"+R[H[_e+10]]+R[H[_e+11]]+R[H[_e+12]]+R[H[_e+13]]+R[H[_e+14]]+R[H[_e+15]]).toLowerCase();if(!S(M))throw TypeError("Stringified UUID is invalid");return M}function oe(H,_e,M){H=H||{};var z=H.random||(H.rng||k)();if(z[6]=z[6]&15|64,z[8]=z[8]&63|128,_e){M=M||0;for(var ce=0;ce<16;++ce)_e[M+ce]=z[ce];return _e}return _(z)}var de=function(){function H(){Re(this,H),this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}return xt(H,[{key:"$",value:function(M){var z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=/^(?:\s*(<[\w\W]+>)[^>]*|.([\w-]*))$/;if(z.test(M)){var ie=z.exec(M);return document.getElementById(ie[2])}else if(ce.test(M)){for(var Oe=ce.exec(M),Qe=document.getElementsByTagName("*"),st=[],D=0,Xe=Qe.length;D<Xe;D++)Qe[D].className.match(new RegExp("(\\s|^)"+Oe[2]+"(\\s|$)"))&&st.push(Qe[D]);return st}}},{key:"dateFormat",value:function(M,z){var ce={"M+":M.getMonth()+1,"d+":M.getDate(),"h+":M.getHours(),"m+":M.getMinutes(),"s+":M.getSeconds(),"q+":Math.floor((M.getMonth()+3)/3),S:M.getMilliseconds()};/(y+)/.test(z)&&(z=z.replace(RegExp.$1,(M.getFullYear()+"").substr(4-RegExp.$1.length)));for(var ie in ce)new RegExp("("+ie+")").test(z)&&(z=z.replace(RegExp.$1,RegExp.$1.length===1?ce[ie]:("00"+ce[ie]).substr((""+ce[ie]).length)));return z}},{key:"downloadFile",value:function(M,z){var ce=M;M instanceof Blob||M instanceof File||(ce=new Blob([M]));var ie=window.URL.createObjectURL(ce),Oe=window.document.createElement("a");Oe.href=ie,Oe.download=z;var Qe=document.createEvent("MouseEvents");Qe.initEvent("click",!0,!0),Oe.dispatchEvent(Qe)}},{key:"createxmlDoc",value:function(){for(var M,z=["MSXML2.DOMDocument","MSXML2.DOMDocument.5.0","MSXML2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","Microsoft.XmlDom"],ce=0,ie=z.length;ce<ie;ce++)try{M=new ActiveXObject(z[ce]);break}catch{M=document.implementation.createDocument("","",null);break}return M.async="false",M}},{key:"parseXmlFromStr",value:function(M){if(M===null||M==="")return null;var z=this.createxmlDoc();if(navigator.appName==="Netscape"||navigator.appName==="Opera"){var ce=new DOMParser;z=ce.parseFromString(M,"text/xml")}else z.loadXML(M);return z}},{key:"encode",value:function(M){var z="",ce,ie,Oe,Qe,st,D,Xe,X=0;for(M=this._utf8_encode(M);X<M.length;)ce=M.charCodeAt(X++),ie=M.charCodeAt(X++),Oe=M.charCodeAt(X++),Qe=ce>>2,st=(ce&3)<<4|ie>>4,D=(ie&15)<<2|Oe>>6,Xe=Oe&63,isNaN(ie)?D=Xe=64:isNaN(Oe)&&(Xe=64),z=z+this._keyStr.charAt(Qe)+this._keyStr.charAt(st)+this._keyStr.charAt(D)+this._keyStr.charAt(Xe);return z}},{key:"decode",value:function(M){var z="",ce,ie,Oe,Qe,st,D,Xe,X=0;for(M=M.replace(/[^A-Za-z0-9+/=]/g,"");X<M.length;)Qe=this._keyStr.indexOf(M.charAt(X++)),st=this._keyStr.indexOf(M.charAt(X++)),D=this._keyStr.indexOf(M.charAt(X++)),Xe=this._keyStr.indexOf(M.charAt(X++)),ce=Qe<<2|st>>4,ie=(st&15)<<4|D>>2,Oe=(D&3)<<6|Xe,z=z+String.fromCharCode(ce),D!==64&&(z=z+String.fromCharCode(ie)),Xe!==64&&(z=z+String.fromCharCode(Oe));return z=this._utf8_decode(z),z}},{key:"_utf8_encode",value:function(M){M=M.replace(/\r\n/g,`
`);for(var z="",ce=0;ce<M.length;ce++){var ie=M.charCodeAt(ce);ie<128?z+=String.fromCharCode(ie):ie>127&&ie<2048?(z+=String.fromCharCode(ie>>6|192),z+=String.fromCharCode(ie&63|128)):(z+=String.fromCharCode(ie>>12|224),z+=String.fromCharCode(ie>>6&63|128),z+=String.fromCharCode(ie&63|128))}return z}},{key:"_utf8_decode",value:function(M){for(var z="",ce=0,ie=0,Oe=0;ce<M.length;)if(ie=M.charCodeAt(ce),ie<128)z+=String.fromCharCode(ie),ce++;else if(ie>191&&ie<224)Oe=M.charCodeAt(ce+1),z+=String.fromCharCode((ie&31)<<6|Oe&63),ce+=2;else{Oe=M.charCodeAt(ce+1);var Qe=M.charCodeAt(ce+2);z+=String.fromCharCode((ie&15)<<12|(Oe&63)<<6|Qe&63),ce+=3}return z}},{key:"isFirefox",value:function(){var M=!1,z=navigator.userAgent.toLowerCase(),ce="",ie=-1;return z.match(/firefox\/([\d.]+)/)&&(ce=z.match(/firefox\/([\d.]+)/)[1],ie=parseInt(ce.split(".")[0],10),ie>-1&&(M=!0)),M}},{key:"isSafari",value:function(){var M=!1,z=navigator.userAgent.toLowerCase(),ce="",ie=-1;return z.match(/version\/([\d.]+).safari./)&&(ce=z.match(/version\/([\d.]+).safari./)[1],ie=parseInt(ce.split(".")[0],10),ie>-1&&(M=!0)),M}},{key:"isEdge",value:function(){return navigator.userAgent.toLowerCase().indexOf("edge")>-1}},{key:"isIOS",value:function(){var M=navigator.userAgent,z=!!M.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return z}}]),H}(),xe=new de,se=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"https://open.ys7.com/assets/ezuikit_v3.6";return`(function() {
    const RECORDRTP = 0;  //录制一份未经过转封装的码流原始数据，用于定位问题
    self.Module = { memoryInitializerRequest: loadMemInitFile(), TOTAL_MEMORY: 128*1024*1024 };
    importScripts = (function (globalEval) {
        var xhr = new XMLHttpRequest;
        return function importScripts() {
          var
            args = Array.prototype.slice.call(arguments)
            , len = args.length
            , i = 0
            , meta
            , data
            , content
            ;
          for (; i < len; i++) {
            if (args[i].substr(0, 5).toLowerCase() === "data:") {
              data = args[i];
              content = data.indexOf(",");
              meta = data.substr(5, content).toLowerCase();
              data = decodeURIComponent(data.substr(content + 1));
              if (/;s*base64s*[;,]/.test(meta)) {
                data = atob(data);
              }
              if (/;s*charset=[uU][tT][fF]-?8s*[;,]/.test(meta)) {
                data = decodeURIComponent(escape(data));
              }
            } else {
              xhr.open("GET", args[i], false);
              xhr.send(null);
              data = xhr.responseText;
            }
            globalEval(data);
          }
        };
      }(eval));
    importScripts('`.concat(_e,`/js/transform/SystemTransform.js');

    Module.postRun.push(function() {
        postMessage({type: "loaded"});
    });

    onmessage = function (e) {
        var data = e.data;

        if ("create" === data.type) {
            var iHeadLen = data.len;
            var pHead = Module._malloc(iHeadLen);

            var aData = Module.HEAPU8.subarray(pHead, pHead + iHeadLen);
            aData.set(new Uint8Array(data.buf));

            var iTransType = data.packType;//目标格式 RTP->PS
            if (RECORDRTP) {
                postMessage({type: "created"});
                postMessage({type: "outputData", buf: data.buf, dType: 1}, [data.buf]);
            } else {
                var iRet = Module._ST_Create(pHead, iHeadLen, iTransType);
                if (iRet != 0) {
                    console.log("_ST_Create failed!");
                } else {
                    Module._ST_Start();
                    postMessage({type: "created"});
                }
            }

        } else if ("inputData" === data.type) {
            if (RECORDRTP) {
                var aFileData = new Uint8Array(data.buf);  // 拷贝一份
                var iBufferLen = aFileData.length;
                var szBufferLen = iBufferLen.toString(16);
                if (szBufferLen.length === 1) {
                    szBufferLen = "000" + szBufferLen;
                } else if (szBufferLen.length === 2) {
                    szBufferLen = "00" + szBufferLen;
                } else if (szBufferLen.length === 3) {
                    szBufferLen = "0" + szBufferLen;
                }
                var aData = [0, 0, parseInt(szBufferLen.substring(0, 2), 16), parseInt(szBufferLen.substring(2, 4), 16)];
                for(var iIndex = 0, iDataLength = aFileData.length; iIndex < iDataLength; iIndex++) {
                    aData[iIndex + 4] = aFileData[iIndex]
                }
                var dataUint8 = new Uint8Array(aData);
                postMessage({type: "outputData", buf: dataUint8.buffer, dType: 2}, [dataUint8.buffer]);
            } else {
                var iDataLen = data.len;
                var pData = Module._malloc(iDataLen);

                var aData = Module.HEAPU8.subarray(pData, pData + iDataLen);
                aData.set(new Uint8Array(data.buf));

                var iRet = Module._ST_InputData(0, pData, iDataLen);
                if (iRet != 0) {
                    //console.log("_ST_InputData failed!");// 一开始会有一些失败，但是不影响后面的文件存储
                }

                Module._free(pData);
            }
        } else if ("release" === data.type) {
            Module._ST_Stop();
            Module._ST_Release();

            close();
        }
    };

    function loadMemInitFile() {
        var req = new XMLHttpRequest();
        req.open('GET', '`).concat(_e,`/js/transform/SystemTransform.js.mem');
        req.responseType = 'arraybuffer';
        req.send();

        return req;
    }
})();`)},Ae="Web/RecordFiles/",qe="Web/PlaybackFiles/",me=1e3,m=1,U=3001;window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.URL=window.URL||window.webkitURL;var le=function(){function H(_e,M,z,ce){Re(this,H),this.szUUID=_e,this.szFileName=M,this.iStreamType=z,this.szPath="",this.bStart=!1,this.aStreamList=[],this.options=ce}return xt(H,[{key:"init",value:function(){var M=this;this.iStreamType===0?this.szPath=Ae:this.iStreamType===1&&(this.szPath=qe),this.szPath+=this.getDateDir();var z=M.szPath.split("/"),ce=new Promise(function(ie){window.requestFileSystem(window.TEMPORARY,M.options.iFileSize,function(Oe){M.createDir(Oe.root,z,function(){ie()})},M.errorHandler)});return ce}},{key:"getDateDir",value:function(){return xe.dateFormat(new Date,"yyyy-MM-dd")}},{key:"createDir",value:function(M,z,ce){var ie=this;z.length?M.getDirectory(z[0],{create:!0},function(Oe){ie.createDir(Oe,z.slice(1),ce)},ie.errorHandler):ce()}},{key:"errorHandler",value:function(){}},{key:"writeFileHeader",value:function(M){var z=this;window.requestFileSystem(window.TEMPORARY,z.options.iFileSize,function(ce){ce.root.getFile(z.szPath+"/"+z.szFileName,{create:!0},function(ie){ie.createWriter(function(Oe){Oe.onwriteend=function(){z.bStart=!0,z.writeFile(Oe)},Oe.onerror=function(){},Oe.seek(Oe.length);var Qe=new Blob([M]);Oe.write(Qe)},z.errorHandler)},z.errorHandler)},z.errorHandler)}},{key:"writeFileContent",value:function(M){this.aStreamList.push(M)}},{key:"writeFile",value:function(M){var z=this;if(this.bStart)if(this.aStreamList.length>0){var ce=this.aStreamList.shift();if(M.seek(M.length),M.length>=this.options.iFileSize){this.options.cbEventHandler&&this.options.cbEventHandler(U,this.szUUID);return}var ie=new Blob([ce]);M.write(ie)}else setTimeout(function(){z.writeFile(M)},me)}},{key:"stopWriteFile",value:function(){var M=this;this.bStart=!1,this.aStreamList.length=0;var z=new Promise(function(ce){window.requestFileSystem(window.TEMPORARY,M.options.iFileSize,function(ie){ie.root.getFile(M.szPath+"/"+M.szFileName,{create:!1},function(Oe){Oe.file(function(Qe){ce(),xe.downloadFile(Qe,Qe.name)})},M.errorHandler)},M.errorHandler)});return z}}]),H}(),re=function(){function H(_e,M,z,ce,ie,Oe,Qe,st){Re(this,H),this.szBasePath=_e,this.szUUID=M,this.szFileName=z,this.aHeadBuf=new Uint8Array(ce),this.iPackType=ie,this.iStreamType=Oe,this.oWorker=null,this.oFileSystem=null,this.options=Qe,this.bHead=!0,this.staticPath=st}return xt(H,[{key:"init",value:function(){var M=this,z=new Promise(function(ce,ie){M.initFileSystem().then(function(){M.initWorker().then(function(){ce(M.szUUID)},function(Oe){ie(Oe)})},function(Oe){ie(Oe)})});return z}},{key:"initFileSystem",value:function(){var M=this;this.oFileSystem=new le(this.szUUID,this.szFileName,this.iStreamType,this.options);var z=new Promise(function(ce,ie){M.oFileSystem.init().then(function(){ce()},function(Oe){ie(Oe)})});return z}},{key:"initWorker",value:function(){var M=this,z=new Promise(function(ce){var ie=new Blob([se(M.staticPath)]),Oe=URL.createObjectURL(ie);M.oWorker=new Worker(Oe),M.oWorker.onmessage=function(Qe){var st=Qe.data,D=M.iPackType;if(M.options.iPackage===1&&(D=12),st.type==="loaded")M.oWorker.postMessage({type:"create",buf:M.aHeadBuf.buffer,len:40,packType:D},[M.aHeadBuf.buffer]);else if(st.type==="created")ce();else if(st.type==="outputData"){var Xe=new Uint8Array(st.buf);M.options.iPackage===1?M.bHead?(M.oFileSystem.writeFileHeader(Xe),M.bHead=!1):M.oFileSystem.writeFileContent(Xe):m===st.dType?M.oFileSystem.writeFileHeader(Xe):M.oFileSystem.writeFileContent(Xe)}}});return z}},{key:"inputData",value:function(M){if(this.oWorker){var z=new Uint8Array(M);this.oWorker.postMessage({type:"inputData",buf:z.buffer,len:z.length},[z.buffer])}}},{key:"stopRecord",value:function(){var M=this,z=new Promise(function(ce,ie){M.oWorker?M.oWorker.postMessage({type:"release"}):ie(),M.oFileSystem?M.oFileSystem.stopWriteFile().then(function(){M.bHead=!0,ce()},function(){ie()}):ie()});return z}}]),H}(),Pe=function(){var H=Symbol("STORAGELIST"),_e=function(){function M(z,ce,ie){Re(this,M),this.szBasePath=z,this[H]={},this.options={iFileSize:1024*1024*1024},Object.assign(this.options,ce),typeof ce.staticPath=="string"&&(this.staticPath=ce.staticPath)}return xt(M,[{key:"startRecord",value:function(ce,ie,Oe,Qe,st){var D=this,Xe=oe(),X=Object.assign({},this.options,st),Ce=new re(this.szBasePath,Xe,ce,ie,Oe,Qe,X,this.staticPath),ve=new Promise(function(Le,pe){Ce.init().then(function(ee){D[H][ee]=Ce,Le(ee)},function(ee){pe(ee)})});return ve}},{key:"inputData",value:function(ce,ie){var Oe=this[H][ce];Oe&&Oe.inputData(ie)}},{key:"stopRecord",value:function(ce){var ie=this,Oe=new Promise(function(Qe,st){var D=ie[H][ce];D?D.stopRecord().then(function(){delete ie[H][ce],Qe()},function(){st()}):st()});return Oe}}]),M}();return _e}();function fe(H,_e){if(!(H instanceof _e))throw new TypeError("Cannot call a class as a function")}function $e(H,_e){for(var M=0;M<_e.length;M++){var z=_e[M];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,at(z.key),z)}}function ot(H,_e,M){return _e&&$e(H.prototype,_e),M&&$e(H,M),Object.defineProperty(H,"prototype",{writable:!1}),H}function F(H,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(_e&&_e.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),_e&&Ve(H,_e)}function Ie(H){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},Ie(H)}function Ve(H,_e){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,ce){return z.__proto__=ce,z},Ve(H,_e)}function yi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hi(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function Pi(H,_e){if(_e&&(K(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hi(H)}function Ci(H){var _e=yi();return function(){var z=Ie(H),ce;if(_e){var ie=Ie(this).constructor;ce=Reflect.construct(z,arguments,ie)}else ce=z.apply(this,arguments);return Pi(this,ce)}}function Qi(H,_e){if(K(H)!=="object"||H===null)return H;var M=H[Symbol.toPrimitive];if(M!==void 0){var z=M.call(H,_e||"default");if(K(z)!=="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(H)}function at(H){var _e=Qi(H,"string");return K(_e)==="symbol"?_e:String(_e)}var pt={exports:{}};(function(H){(function(_e,M){H.exports=_e.document?M(_e,!0):function(z){if(!z.document)throw new Error("jQuery requires a window with a document");return M(z)}})(typeof window<"u"?window:t,function(_e,M){var z=[],ce=Object.getPrototypeOf,ie=z.slice,Oe=z.flat?function(te){return z.flat.call(te)}:function(te){return z.concat.apply([],te)},Qe=z.push,st=z.indexOf,D={},Xe=D.toString,X=D.hasOwnProperty,Ce=X.toString,ve=Ce.call(Object),Le={},pe=function(y){return typeof y=="function"&&typeof y.nodeType!="number"&&typeof y.item!="function"},ee=function(y){return y!=null&&y===y.window},je=_e.document,mt={type:!0,src:!0,nonce:!0,noModule:!0};function gt(te,y,G){G=G||je;var q,ye,Fe=G.createElement("script");if(Fe.text=te,y)for(q in mt)ye=y[q]||y.getAttribute&&y.getAttribute(q),ye&&Fe.setAttribute(q,ye);G.head.appendChild(Fe).parentNode.removeChild(Fe)}function Gt(te){return te==null?te+"":K(te)==="object"||typeof te=="function"?D[Xe.call(te)]||"object":K(te)}var li="3.7.1",Oi=/HTML$/i,ge=function te(y,G){return new te.fn.init(y,G)};ge.fn=ge.prototype={jquery:li,constructor:ge,length:0,toArray:function(){return ie.call(this)},get:function(y){return y==null?ie.call(this):y<0?this[y+this.length]:this[y]},pushStack:function(y){var G=ge.merge(this.constructor(),y);return G.prevObject=this,G},each:function(y){return ge.each(this,y)},map:function(y){return this.pushStack(ge.map(this,function(G,q){return y.call(G,q,G)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ge.grep(this,function(y,G){return(G+1)%2}))},odd:function(){return this.pushStack(ge.grep(this,function(y,G){return G%2}))},eq:function(y){var G=this.length,q=+y+(y<0?G:0);return this.pushStack(q>=0&&q<G?[this[q]]:[])},end:function(){return this.prevObject||this.constructor()},push:Qe,sort:z.sort,splice:z.splice},ge.extend=ge.fn.extend=function(){var te,y,G,q,ye,Fe,Ue=arguments[0]||{},ct=1,yt=arguments.length,Ot=!1;for(typeof Ue=="boolean"&&(Ot=Ue,Ue=arguments[ct]||{},ct++),K(Ue)!=="object"&&!pe(Ue)&&(Ue={}),ct===yt&&(Ue=this,ct--);ct<yt;ct++)if((te=arguments[ct])!=null)for(y in te)q=te[y],!(y==="__proto__"||Ue===q)&&(Ot&&q&&(ge.isPlainObject(q)||(ye=Array.isArray(q)))?(G=Ue[y],ye&&!Array.isArray(G)?Fe=[]:!ye&&!ge.isPlainObject(G)?Fe={}:Fe=G,ye=!1,Ue[y]=ge.extend(Ot,Fe,q)):q!==void 0&&(Ue[y]=q));return Ue},ge.extend({expando:"jQuery"+(li+Math.random()).replace(/\D/g,""),isReady:!0,error:function(y){throw new Error(y)},noop:function(){},isPlainObject:function(y){var G,q;return!y||Xe.call(y)!=="[object Object]"?!1:(G=ce(y),G?(q=X.call(G,"constructor")&&G.constructor,typeof q=="function"&&Ce.call(q)===ve):!0)},isEmptyObject:function(y){var G;for(G in y)return!1;return!0},globalEval:function(y,G,q){gt(y,{nonce:G&&G.nonce},q)},each:function(y,G){var q,ye=0;if(Ji(y))for(q=y.length;ye<q&&G.call(y[ye],ye,y[ye])!==!1;ye++);else for(ye in y)if(G.call(y[ye],ye,y[ye])===!1)break;return y},text:function(y){var G,q="",ye=0,Fe=y.nodeType;if(!Fe)for(;G=y[ye++];)q+=ge.text(G);return Fe===1||Fe===11?y.textContent:Fe===9?y.documentElement.textContent:Fe===3||Fe===4?y.nodeValue:q},makeArray:function(y,G){var q=G||[];return y!=null&&(Ji(Object(y))?ge.merge(q,typeof y=="string"?[y]:y):Qe.call(q,y)),q},inArray:function(y,G,q){return G==null?-1:st.call(G,y,q)},isXMLDoc:function(y){var G=y&&y.namespaceURI,q=y&&(y.ownerDocument||y).documentElement;return!Oi.test(G||q&&q.nodeName||"HTML")},merge:function(y,G){for(var q=+G.length,ye=0,Fe=y.length;ye<q;ye++)y[Fe++]=G[ye];return y.length=Fe,y},grep:function(y,G,q){for(var ye,Fe=[],Ue=0,ct=y.length,yt=!q;Ue<ct;Ue++)ye=!G(y[Ue],Ue),ye!==yt&&Fe.push(y[Ue]);return Fe},map:function(y,G,q){var ye,Fe,Ue=0,ct=[];if(Ji(y))for(ye=y.length;Ue<ye;Ue++)Fe=G(y[Ue],Ue,q),Fe!=null&&ct.push(Fe);else for(Ue in y)Fe=G(y[Ue],Ue,q),Fe!=null&&ct.push(Fe);return Oe(ct)},guid:1,support:Le}),typeof Symbol=="function"&&(ge.fn[Symbol.iterator]=z[Symbol.iterator]),ge.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(te,y){D["[object "+y+"]"]=y.toLowerCase()});function Ji(te){var y=!!te&&"length"in te&&te.length,G=Gt(te);return pe(te)||ee(te)?!1:G==="array"||y===0||typeof y=="number"&&y>0&&y-1 in te}function kt(te,y){return te.nodeName&&te.nodeName.toLowerCase()===y.toLowerCase()}var Lt=z.pop,Tt=z.sort,jt=z.splice,Dt="[\\x20\\t\\r\\n\\f]",Ft=new RegExp("^"+Dt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Dt+"+$","g");ge.contains=function(te,y){var G=y&&y.parentNode;return te===G||!!(G&&G.nodeType===1&&(te.contains?te.contains(G):te.compareDocumentPosition&&te.compareDocumentPosition(G)&16))};var Kt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function wt(te,y){return y?te==="\0"?"�":te.slice(0,-1)+"\\"+te.charCodeAt(te.length-1).toString(16)+" ":"\\"+te}ge.escapeSelector=function(te){return(te+"").replace(Kt,wt)};var si=je,ht=Qe;(function(){var te,y,G,q,ye,Fe=ht,Ue,ct,yt,Ot,hi,Bi=ge.expando,Yi=0,ki=0,en=Ls(),Xt=Ls(),zi=Ls(),St=Ls(),Pt=function(Vt,Gi){return Vt===Gi&&(ye=!0),0},fi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",mi="(?:\\\\[\\da-fA-F]{1,6}"+Dt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",qi="\\["+Dt+"*("+mi+")(?:"+Dt+"*([*^$|!~]?=)"+Dt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+mi+"))|)"+Dt+"*\\]",Ni=":("+mi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+qi+")*)|.*)\\)|)",kn=new RegExp(Dt+"+","g"),In=new RegExp("^"+Dt+"*,"+Dt+"*"),bn=new RegExp("^"+Dt+"*([>+~]|"+Dt+")"+Dt+"*"),Bn=new RegExp(Dt+"|>"),hr=new RegExp(Ni),Xn=new RegExp("^"+mi+"$"),xr={ID:new RegExp("^#("+mi+")"),CLASS:new RegExp("^\\.("+mi+")"),TAG:new RegExp("^("+mi+"|[*])"),ATTR:new RegExp("^"+qi),PSEUDO:new RegExp("^"+Ni),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Dt+"*(even|odd|(([+-]|)(\\d*)n|)"+Dt+"*(?:([+-]|)"+Dt+"*(\\d+)|))"+Dt+"*\\)|)","i"),bool:new RegExp("^(?:"+fi+")$","i"),needsContext:new RegExp("^"+Dt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Dt+"*((?:-\\d)?\\d*)"+Dt+"*\\)|)(?=[^-]|$)","i")},lr=/^(?:input|select|textarea|button)$/i,Hn=/^h\d$/i,Zr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ra=/[+~]/,aa=new RegExp("\\\\[\\da-fA-F]{1,6}"+Dt+"?|\\\\([^\\r\\n\\f])","g"),ya=function(Vt,Gi){var Vi="0x"+Vt.slice(1)-65536;return Gi||(Vi<0?String.fromCharCode(Vi+65536):String.fromCharCode(Vi>>10|55296,Vi&1023|56320))},Bs=function(){ho()},_s=U0(function(_i){return _i.disabled===!0&&kt(_i,"fieldset")},{dir:"parentNode",next:"legend"});function Aa(){try{return Ue.activeElement}catch{}}try{Fe.apply(z=ie.call(si.childNodes),si.childNodes),z[si.childNodes.length].nodeType}catch{Fe={apply:function(Gi,Vi){ht.apply(Gi,ie.call(Vi))},call:function(Gi){ht.apply(Gi,ie.call(arguments,1))}}}function jr(_i,Vt,Gi,Vi){var dn,Sn,Dn,Wn,zn,rr,pr,gr=Vt&&Vt.ownerDocument,Rr=Vt?Vt.nodeType:9;if(Gi=Gi||[],typeof _i!="string"||!_i||Rr!==1&&Rr!==9&&Rr!==11)return Gi;if(!Vi&&(ho(Vt),Vt=Vt||Ue,yt)){if(Rr!==11&&(zn=Zr.exec(_i)))if(dn=zn[1]){if(Rr===9)if(Dn=Vt.getElementById(dn)){if(Dn.id===dn)return Fe.call(Gi,Dn),Gi}else return Gi;else if(gr&&(Dn=gr.getElementById(dn))&&jr.contains(Vt,Dn)&&Dn.id===dn)return Fe.call(Gi,Dn),Gi}else{if(zn[2])return Fe.apply(Gi,Vt.getElementsByTagName(_i)),Gi;if((dn=zn[3])&&Vt.getElementsByClassName)return Fe.apply(Gi,Vt.getElementsByClassName(dn)),Gi}if(!St[_i+" "]&&(!Ot||!Ot.test(_i))){if(pr=_i,gr=Vt,Rr===1&&(Bn.test(_i)||bn.test(_i))){for(gr=ra.test(_i)&&Fs(Vt.parentNode)||Vt,(gr!=Vt||!Le.scope)&&((Wn=Vt.getAttribute("id"))?Wn=ge.escapeSelector(Wn):Vt.setAttribute("id",Wn=Bi)),rr=v0(_i),Sn=rr.length;Sn--;)rr[Sn]=(Wn?"#"+Wn:":scope")+" "+j0(rr[Sn]);pr=rr.join(",")}try{return Fe.apply(Gi,gr.querySelectorAll(pr)),Gi}catch{St(_i,!0)}finally{Wn===Bi&&Vt.removeAttribute("id")}}}return Ma(_i.replace(Ft,"$1"),Vt,Gi,Vi)}function Ls(){var _i=[];function Vt(Gi,Vi){return _i.push(Gi+" ")>y.cacheLength&&delete Vt[_i.shift()],Vt[Gi+" "]=Vi}return Vt}function Po(_i){return _i[Bi]=!0,_i}function $o(_i){var Vt=Ue.createElement("fieldset");try{return!!_i(Vt)}catch{return!1}finally{Vt.parentNode&&Vt.parentNode.removeChild(Vt),Vt=null}}function fc(_i){return function(Vt){return kt(Vt,"input")&&Vt.type===_i}}function hc(_i){return function(Vt){return(kt(Vt,"input")||kt(Vt,"button"))&&Vt.type===_i}}function _0(_i){return function(Vt){return"form"in Vt?Vt.parentNode&&Vt.disabled===!1?"label"in Vt?"label"in Vt.parentNode?Vt.parentNode.disabled===_i:Vt.disabled===_i:Vt.isDisabled===_i||Vt.isDisabled!==!_i&&_s(Vt)===_i:Vt.disabled===_i:"label"in Vt?Vt.disabled===_i:!1}}function gs(_i){return Po(function(Vt){return Vt=+Vt,Po(function(Gi,Vi){for(var dn,Sn=_i([],Gi.length,Vt),Dn=Sn.length;Dn--;)Gi[dn=Sn[Dn]]&&(Gi[dn]=!(Vi[dn]=Gi[dn]))})})}function Fs(_i){return _i&&typeof _i.getElementsByTagName<"u"&&_i}function ho(_i){var Vt,Gi=_i?_i.ownerDocument||_i:si;return Gi==Ue||Gi.nodeType!==9||!Gi.documentElement||(Ue=Gi,ct=Ue.documentElement,yt=!ge.isXMLDoc(Ue),hi=ct.matches||ct.webkitMatchesSelector||ct.msMatchesSelector,ct.msMatchesSelector&&si!=Ue&&(Vt=Ue.defaultView)&&Vt.top!==Vt&&Vt.addEventListener("unload",Bs),Le.getById=$o(function(Vi){return ct.appendChild(Vi).id=ge.expando,!Ue.getElementsByName||!Ue.getElementsByName(ge.expando).length}),Le.disconnectedMatch=$o(function(Vi){return hi.call(Vi,"*")}),Le.scope=$o(function(){return Ue.querySelectorAll(":scope")}),Le.cssHas=$o(function(){try{return Ue.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Le.getById?(y.filter.ID=function(Vi){var dn=Vi.replace(aa,ya);return function(Sn){return Sn.getAttribute("id")===dn}},y.find.ID=function(Vi,dn){if(typeof dn.getElementById<"u"&&yt){var Sn=dn.getElementById(Vi);return Sn?[Sn]:[]}}):(y.filter.ID=function(Vi){var dn=Vi.replace(aa,ya);return function(Sn){var Dn=typeof Sn.getAttributeNode<"u"&&Sn.getAttributeNode("id");return Dn&&Dn.value===dn}},y.find.ID=function(Vi,dn){if(typeof dn.getElementById<"u"&&yt){var Sn,Dn,Wn,zn=dn.getElementById(Vi);if(zn){if(Sn=zn.getAttributeNode("id"),Sn&&Sn.value===Vi)return[zn];for(Wn=dn.getElementsByName(Vi),Dn=0;zn=Wn[Dn++];)if(Sn=zn.getAttributeNode("id"),Sn&&Sn.value===Vi)return[zn]}return[]}}),y.find.TAG=function(Vi,dn){return typeof dn.getElementsByTagName<"u"?dn.getElementsByTagName(Vi):dn.querySelectorAll(Vi)},y.find.CLASS=function(Vi,dn){if(typeof dn.getElementsByClassName<"u"&&yt)return dn.getElementsByClassName(Vi)},Ot=[],$o(function(Vi){var dn;ct.appendChild(Vi).innerHTML="<a id='"+Bi+"' href='' disabled='disabled'></a><select id='"+Bi+"-\r\\' disabled='disabled'><option selected=''></option></select>",Vi.querySelectorAll("[selected]").length||Ot.push("\\["+Dt+"*(?:value|"+fi+")"),Vi.querySelectorAll("[id~="+Bi+"-]").length||Ot.push("~="),Vi.querySelectorAll("a#"+Bi+"+*").length||Ot.push(".#.+[+~]"),Vi.querySelectorAll(":checked").length||Ot.push(":checked"),dn=Ue.createElement("input"),dn.setAttribute("type","hidden"),Vi.appendChild(dn).setAttribute("name","D"),ct.appendChild(Vi).disabled=!0,Vi.querySelectorAll(":disabled").length!==2&&Ot.push(":enabled",":disabled"),dn=Ue.createElement("input"),dn.setAttribute("name",""),Vi.appendChild(dn),Vi.querySelectorAll("[name='']").length||Ot.push("\\["+Dt+"*name"+Dt+"*="+Dt+`*(?:''|"")`)}),Le.cssHas||Ot.push(":has"),Ot=Ot.length&&new RegExp(Ot.join("|")),Pt=function(dn,Sn){if(dn===Sn)return ye=!0,0;var Dn=!dn.compareDocumentPosition-!Sn.compareDocumentPosition;return Dn||(Dn=(dn.ownerDocument||dn)==(Sn.ownerDocument||Sn)?dn.compareDocumentPosition(Sn):1,Dn&1||!Le.sortDetached&&Sn.compareDocumentPosition(dn)===Dn?dn===Ue||dn.ownerDocument==si&&jr.contains(si,dn)?-1:Sn===Ue||Sn.ownerDocument==si&&jr.contains(si,Sn)?1:q?st.call(q,dn)-st.call(q,Sn):0:Dn&4?-1:1)}),Ue}jr.matches=function(_i,Vt){return jr(_i,null,null,Vt)},jr.matchesSelector=function(_i,Vt){if(ho(_i),yt&&!St[Vt+" "]&&(!Ot||!Ot.test(Vt)))try{var Gi=hi.call(_i,Vt);if(Gi||Le.disconnectedMatch||_i.document&&_i.document.nodeType!==11)return Gi}catch{St(Vt,!0)}return jr(Vt,Ue,null,[_i]).length>0},jr.contains=function(_i,Vt){return(_i.ownerDocument||_i)!=Ue&&ho(_i),ge.contains(_i,Vt)},jr.attr=function(_i,Vt){(_i.ownerDocument||_i)!=Ue&&ho(_i);var Gi=y.attrHandle[Vt.toLowerCase()],Vi=Gi&&X.call(y.attrHandle,Vt.toLowerCase())?Gi(_i,Vt,!yt):void 0;return Vi!==void 0?Vi:_i.getAttribute(Vt)},jr.error=function(_i){throw new Error("Syntax error, unrecognized expression: "+_i)},ge.uniqueSort=function(_i){var Vt,Gi=[],Vi=0,dn=0;if(ye=!Le.sortStable,q=!Le.sortStable&&ie.call(_i,0),Tt.call(_i,Pt),ye){for(;Vt=_i[dn++];)Vt===_i[dn]&&(Vi=Gi.push(dn));for(;Vi--;)jt.call(_i,Gi[Vi],1)}return q=null,_i},ge.fn.uniqueSort=function(){return this.pushStack(ge.uniqueSort(ie.apply(this)))},y=ge.expr={cacheLength:50,createPseudo:Po,match:xr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Vt){return Vt[1]=Vt[1].replace(aa,ya),Vt[3]=(Vt[3]||Vt[4]||Vt[5]||"").replace(aa,ya),Vt[2]==="~="&&(Vt[3]=" "+Vt[3]+" "),Vt.slice(0,4)},CHILD:function(Vt){return Vt[1]=Vt[1].toLowerCase(),Vt[1].slice(0,3)==="nth"?(Vt[3]||jr.error(Vt[0]),Vt[4]=+(Vt[4]?Vt[5]+(Vt[6]||1):2*(Vt[3]==="even"||Vt[3]==="odd")),Vt[5]=+(Vt[7]+Vt[8]||Vt[3]==="odd")):Vt[3]&&jr.error(Vt[0]),Vt},PSEUDO:function(Vt){var Gi,Vi=!Vt[6]&&Vt[2];return xr.CHILD.test(Vt[0])?null:(Vt[3]?Vt[2]=Vt[4]||Vt[5]||"":Vi&&hr.test(Vi)&&(Gi=v0(Vi,!0))&&(Gi=Vi.indexOf(")",Vi.length-Gi)-Vi.length)&&(Vt[0]=Vt[0].slice(0,Gi),Vt[2]=Vi.slice(0,Gi)),Vt.slice(0,3))}},filter:{TAG:function(Vt){var Gi=Vt.replace(aa,ya).toLowerCase();return Vt==="*"?function(){return!0}:function(Vi){return kt(Vi,Gi)}},CLASS:function(Vt){var Gi=en[Vt+" "];return Gi||(Gi=new RegExp("(^|"+Dt+")"+Vt+"("+Dt+"|$)"))&&en(Vt,function(Vi){return Gi.test(typeof Vi.className=="string"&&Vi.className||typeof Vi.getAttribute<"u"&&Vi.getAttribute("class")||"")})},ATTR:function(Vt,Gi,Vi){return function(dn){var Sn=jr.attr(dn,Vt);return Sn==null?Gi==="!=":Gi?(Sn+="",Gi==="="?Sn===Vi:Gi==="!="?Sn!==Vi:Gi==="^="?Vi&&Sn.indexOf(Vi)===0:Gi==="*="?Vi&&Sn.indexOf(Vi)>-1:Gi==="$="?Vi&&Sn.slice(-Vi.length)===Vi:Gi==="~="?(" "+Sn.replace(kn," ")+" ").indexOf(Vi)>-1:Gi==="|="?Sn===Vi||Sn.slice(0,Vi.length+1)===Vi+"-":!1):!0}},CHILD:function(Vt,Gi,Vi,dn,Sn){var Dn=Vt.slice(0,3)!=="nth",Wn=Vt.slice(-4)!=="last",zn=Gi==="of-type";return dn===1&&Sn===0?function(rr){return!!rr.parentNode}:function(rr,pr,gr){var Rr,Dr,ta,ma,go,Qa=Dn!==Wn?"nextSibling":"previousSibling",Wa=rr.parentNode,Qo=zn&&rr.nodeName.toLowerCase(),Os=!gr&&!zn,Ct=!1;if(Wa){if(Dn){for(;Qa;){for(ta=rr;ta=ta[Qa];)if(zn?kt(ta,Qo):ta.nodeType===1)return!1;go=Qa=Vt==="only"&&!go&&"nextSibling"}return!0}if(go=[Wn?Wa.firstChild:Wa.lastChild],Wn&&Os){for(Dr=Wa[Bi]||(Wa[Bi]={}),Rr=Dr[Vt]||[],ma=Rr[0]===Yi&&Rr[1],Ct=ma&&Rr[2],ta=ma&&Wa.childNodes[ma];ta=++ma&&ta&&ta[Qa]||(Ct=ma=0)||go.pop();)if(ta.nodeType===1&&++Ct&&ta===rr){Dr[Vt]=[Yi,ma,Ct];break}}else if(Os&&(Dr=rr[Bi]||(rr[Bi]={}),Rr=Dr[Vt]||[],ma=Rr[0]===Yi&&Rr[1],Ct=ma),Ct===!1)for(;(ta=++ma&&ta&&ta[Qa]||(Ct=ma=0)||go.pop())&&!((zn?kt(ta,Qo):ta.nodeType===1)&&++Ct&&(Os&&(Dr=ta[Bi]||(ta[Bi]={}),Dr[Vt]=[Yi,Ct]),ta===rr)););return Ct-=Sn,Ct===dn||Ct%dn===0&&Ct/dn>=0}}},PSEUDO:function(Vt,Gi){var Vi,dn=y.pseudos[Vt]||y.setFilters[Vt.toLowerCase()]||jr.error("unsupported pseudo: "+Vt);return dn[Bi]?dn(Gi):dn.length>1?(Vi=[Vt,Vt,"",Gi],y.setFilters.hasOwnProperty(Vt.toLowerCase())?Po(function(Sn,Dn){for(var Wn,zn=dn(Sn,Gi),rr=zn.length;rr--;)Wn=st.call(Sn,zn[rr]),Sn[Wn]=!(Dn[Wn]=zn[rr])}):function(Sn){return dn(Sn,0,Vi)}):dn}},pseudos:{not:Po(function(_i){var Vt=[],Gi=[],Vi=Sl(_i.replace(Ft,"$1"));return Vi[Bi]?Po(function(dn,Sn,Dn,Wn){for(var zn,rr=Vi(dn,null,Wn,[]),pr=dn.length;pr--;)(zn=rr[pr])&&(dn[pr]=!(Sn[pr]=zn))}):function(dn,Sn,Dn){return Vt[0]=dn,Vi(Vt,null,Dn,Gi),Vt[0]=null,!Gi.pop()}}),has:Po(function(_i){return function(Vt){return jr(_i,Vt).length>0}}),contains:Po(function(_i){return _i=_i.replace(aa,ya),function(Vt){return(Vt.textContent||ge.text(Vt)).indexOf(_i)>-1}}),lang:Po(function(_i){return Xn.test(_i||"")||jr.error("unsupported lang: "+_i),_i=_i.replace(aa,ya).toLowerCase(),function(Vt){var Gi;do if(Gi=yt?Vt.lang:Vt.getAttribute("xml:lang")||Vt.getAttribute("lang"))return Gi=Gi.toLowerCase(),Gi===_i||Gi.indexOf(_i+"-")===0;while((Vt=Vt.parentNode)&&Vt.nodeType===1);return!1}}),target:function(Vt){var Gi=_e.location&&_e.location.hash;return Gi&&Gi.slice(1)===Vt.id},root:function(Vt){return Vt===ct},focus:function(Vt){return Vt===Aa()&&Ue.hasFocus()&&!!(Vt.type||Vt.href||~Vt.tabIndex)},enabled:_0(!1),disabled:_0(!0),checked:function(Vt){return kt(Vt,"input")&&!!Vt.checked||kt(Vt,"option")&&!!Vt.selected},selected:function(Vt){return Vt.parentNode&&Vt.parentNode.selectedIndex,Vt.selected===!0},empty:function(Vt){for(Vt=Vt.firstChild;Vt;Vt=Vt.nextSibling)if(Vt.nodeType<6)return!1;return!0},parent:function(Vt){return!y.pseudos.empty(Vt)},header:function(Vt){return Hn.test(Vt.nodeName)},input:function(Vt){return lr.test(Vt.nodeName)},button:function(Vt){return kt(Vt,"input")&&Vt.type==="button"||kt(Vt,"button")},text:function(Vt){var Gi;return kt(Vt,"input")&&Vt.type==="text"&&((Gi=Vt.getAttribute("type"))==null||Gi.toLowerCase()==="text")},first:gs(function(){return[0]}),last:gs(function(_i,Vt){return[Vt-1]}),eq:gs(function(_i,Vt,Gi){return[Gi<0?Gi+Vt:Gi]}),even:gs(function(_i,Vt){for(var Gi=0;Gi<Vt;Gi+=2)_i.push(Gi);return _i}),odd:gs(function(_i,Vt){for(var Gi=1;Gi<Vt;Gi+=2)_i.push(Gi);return _i}),lt:gs(function(_i,Vt,Gi){var Vi;for(Gi<0?Vi=Gi+Vt:Gi>Vt?Vi=Vt:Vi=Gi;--Vi>=0;)_i.push(Vi);return _i}),gt:gs(function(_i,Vt,Gi){for(var Vi=Gi<0?Gi+Vt:Gi;++Vi<Vt;)_i.push(Vi);return _i})}},y.pseudos.nth=y.pseudos.eq;for(te in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[te]=fc(te);for(te in{submit:!0,reset:!0})y.pseudos[te]=hc(te);function g0(){}g0.prototype=y.filters=y.pseudos,y.setFilters=new g0;function v0(_i,Vt){var Gi,Vi,dn,Sn,Dn,Wn,zn,rr=Xt[_i+" "];if(rr)return Vt?0:rr.slice(0);for(Dn=_i,Wn=[],zn=y.preFilter;Dn;){(!Gi||(Vi=In.exec(Dn)))&&(Vi&&(Dn=Dn.slice(Vi[0].length)||Dn),Wn.push(dn=[])),Gi=!1,(Vi=bn.exec(Dn))&&(Gi=Vi.shift(),dn.push({value:Gi,type:Vi[0].replace(Ft," ")}),Dn=Dn.slice(Gi.length));for(Sn in y.filter)(Vi=xr[Sn].exec(Dn))&&(!zn[Sn]||(Vi=zn[Sn](Vi)))&&(Gi=Vi.shift(),dn.push({value:Gi,type:Sn,matches:Vi}),Dn=Dn.slice(Gi.length));if(!Gi)break}return Vt?Dn.length:Dn?jr.error(_i):Xt(_i,Wn).slice(0)}function j0(_i){for(var Vt=0,Gi=_i.length,Vi="";Vt<Gi;Vt++)Vi+=_i[Vt].value;return Vi}function U0(_i,Vt,Gi){var Vi=Vt.dir,dn=Vt.next,Sn=dn||Vi,Dn=Gi&&Sn==="parentNode",Wn=ki++;return Vt.first?function(zn,rr,pr){for(;zn=zn[Vi];)if(zn.nodeType===1||Dn)return _i(zn,rr,pr);return!1}:function(zn,rr,pr){var gr,Rr,Dr=[Yi,Wn];if(pr){for(;zn=zn[Vi];)if((zn.nodeType===1||Dn)&&_i(zn,rr,pr))return!0}else for(;zn=zn[Vi];)if(zn.nodeType===1||Dn)if(Rr=zn[Bi]||(zn[Bi]={}),dn&&kt(zn,dn))zn=zn[Vi]||zn;else{if((gr=Rr[Sn])&&gr[0]===Yi&&gr[1]===Wn)return Dr[2]=gr[2];if(Rr[Sn]=Dr,Dr[2]=_i(zn,rr,pr))return!0}return!1}}function i0(_i){return _i.length>1?function(Vt,Gi,Vi){for(var dn=_i.length;dn--;)if(!_i[dn](Vt,Gi,Vi))return!1;return!0}:_i[0]}function H0(_i,Vt,Gi){for(var Vi=0,dn=Vt.length;Vi<dn;Vi++)jr(_i,Vt[Vi],Gi);return Gi}function n0(_i,Vt,Gi,Vi,dn){for(var Sn,Dn=[],Wn=0,zn=_i.length,rr=Vt!=null;Wn<zn;Wn++)(Sn=_i[Wn])&&(!Gi||Gi(Sn,Vi,dn))&&(Dn.push(Sn),rr&&Vt.push(Wn));return Dn}function bl(_i,Vt,Gi,Vi,dn,Sn){return Vi&&!Vi[Bi]&&(Vi=bl(Vi)),dn&&!dn[Bi]&&(dn=bl(dn,Sn)),Po(function(Dn,Wn,zn,rr){var pr,gr,Rr,Dr,ta=[],ma=[],go=Wn.length,Qa=Dn||H0(Vt||"*",zn.nodeType?[zn]:zn,[]),Wa=_i&&(Dn||!Vt)?n0(Qa,ta,_i,zn,rr):Qa;if(Gi?(Dr=dn||(Dn?_i:go||Vi)?[]:Wn,Gi(Wa,Dr,zn,rr)):Dr=Wa,Vi)for(pr=n0(Dr,ma),Vi(pr,[],zn,rr),gr=pr.length;gr--;)(Rr=pr[gr])&&(Dr[ma[gr]]=!(Wa[ma[gr]]=Rr));if(Dn){if(dn||_i){if(dn){for(pr=[],gr=Dr.length;gr--;)(Rr=Dr[gr])&&pr.push(Wa[gr]=Rr);dn(null,Dr=[],pr,rr)}for(gr=Dr.length;gr--;)(Rr=Dr[gr])&&(pr=dn?st.call(Dn,Rr):ta[gr])>-1&&(Dn[pr]=!(Wn[pr]=Rr))}}else Dr=n0(Dr===Wn?Dr.splice(go,Dr.length):Dr),dn?dn(null,Wn,Dr,rr):Fe.apply(Wn,Dr)})}function V0(_i){for(var Vt,Gi,Vi,dn=_i.length,Sn=y.relative[_i[0].type],Dn=Sn||y.relative[" "],Wn=Sn?1:0,zn=U0(function(gr){return gr===Vt},Dn,!0),rr=U0(function(gr){return st.call(Vt,gr)>-1},Dn,!0),pr=[function(gr,Rr,Dr){var ta=!Sn&&(Dr||Rr!=G)||((Vt=Rr).nodeType?zn(gr,Rr,Dr):rr(gr,Rr,Dr));return Vt=null,ta}];Wn<dn;Wn++)if(Gi=y.relative[_i[Wn].type])pr=[U0(i0(pr),Gi)];else{if(Gi=y.filter[_i[Wn].type].apply(null,_i[Wn].matches),Gi[Bi]){for(Vi=++Wn;Vi<dn&&!y.relative[_i[Vi].type];Vi++);return bl(Wn>1&&i0(pr),Wn>1&&j0(_i.slice(0,Wn-1).concat({value:_i[Wn-2].type===" "?"*":""})).replace(Ft,"$1"),Gi,Wn<Vi&&V0(_i.slice(Wn,Vi)),Vi<dn&&V0(_i=_i.slice(Vi)),Vi<dn&&j0(_i))}pr.push(Gi)}return i0(pr)}function Hd(_i,Vt){var Gi=Vt.length>0,Vi=_i.length>0,dn=function(Dn,Wn,zn,rr,pr){var gr,Rr,Dr,ta=0,ma="0",go=Dn&&[],Qa=[],Wa=G,Qo=Dn||Vi&&y.find.TAG("*",pr),Os=Yi+=Wa==null?1:Math.random()||.1,Ct=Qo.length;for(pr&&(G=Wn==Ue||Wn||pr);ma!==Ct&&(gr=Qo[ma])!=null;ma++){if(Vi&&gr){for(Rr=0,!Wn&&gr.ownerDocument!=Ue&&(ho(gr),zn=!yt);Dr=_i[Rr++];)if(Dr(gr,Wn||Ue,zn)){Fe.call(rr,gr);break}pr&&(Yi=Os)}Gi&&((gr=!Dr&&gr)&&ta--,Dn&&go.push(gr))}if(ta+=ma,Gi&&ma!==ta){for(Rr=0;Dr=Vt[Rr++];)Dr(go,Qa,Wn,zn);if(Dn){if(ta>0)for(;ma--;)go[ma]||Qa[ma]||(Qa[ma]=Lt.call(rr));Qa=n0(Qa)}Fe.apply(rr,Qa),pr&&!Dn&&Qa.length>0&&ta+Vt.length>1&&ge.uniqueSort(rr)}return pr&&(Yi=Os,G=Wa),go};return Gi?Po(dn):dn}function Sl(_i,Vt){var Gi,Vi=[],dn=[],Sn=zi[_i+" "];if(!Sn){for(Vt||(Vt=v0(_i)),Gi=Vt.length;Gi--;)Sn=V0(Vt[Gi]),Sn[Bi]?Vi.push(Sn):dn.push(Sn);Sn=zi(_i,Hd(dn,Vi)),Sn.selector=_i}return Sn}function Ma(_i,Vt,Gi,Vi){var dn,Sn,Dn,Wn,zn,rr=typeof _i=="function"&&_i,pr=!Vi&&v0(_i=rr.selector||_i);if(Gi=Gi||[],pr.length===1){if(Sn=pr[0]=pr[0].slice(0),Sn.length>2&&(Dn=Sn[0]).type==="ID"&&Vt.nodeType===9&&yt&&y.relative[Sn[1].type]){if(Vt=(y.find.ID(Dn.matches[0].replace(aa,ya),Vt)||[])[0],Vt)rr&&(Vt=Vt.parentNode);else return Gi;_i=_i.slice(Sn.shift().value.length)}for(dn=xr.needsContext.test(_i)?0:Sn.length;dn--&&(Dn=Sn[dn],!y.relative[Wn=Dn.type]);)if((zn=y.find[Wn])&&(Vi=zn(Dn.matches[0].replace(aa,ya),ra.test(Sn[0].type)&&Fs(Vt.parentNode)||Vt))){if(Sn.splice(dn,1),_i=Vi.length&&j0(Sn),!_i)return Fe.apply(Gi,Vi),Gi;break}}return(rr||Sl(_i,pr))(Vi,Vt,!yt,Gi,!Vt||ra.test(_i)&&Fs(Vt.parentNode)||Vt),Gi}Le.sortStable=Bi.split("").sort(Pt).join("")===Bi,ho(),Le.sortDetached=$o(function(_i){return _i.compareDocumentPosition(Ue.createElement("fieldset"))&1}),ge.find=jr,ge.expr[":"]=ge.expr.pseudos,ge.unique=ge.uniqueSort,jr.compile=Sl,jr.select=Ma,jr.setDocument=ho,jr.tokenize=v0,jr.escape=ge.escapeSelector,jr.getText=ge.text,jr.isXML=ge.isXMLDoc,jr.selectors=ge.expr,jr.support=ge.support,jr.uniqueSort=ge.uniqueSort})();var Ii=function(y,G,q){for(var ye=[],Fe=q!==void 0;(y=y[G])&&y.nodeType!==9;)if(y.nodeType===1){if(Fe&&ge(y).is(q))break;ye.push(y)}return ye},ji=function(y,G){for(var q=[];y;y=y.nextSibling)y.nodeType===1&&y!==G&&q.push(y);return q},Zi=ge.expr.match.needsContext,pi=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function sn(te,y,G){return pe(y)?ge.grep(te,function(q,ye){return!!y.call(q,ye,q)!==G}):y.nodeType?ge.grep(te,function(q){return q===y!==G}):typeof y!="string"?ge.grep(te,function(q){return st.call(y,q)>-1!==G}):ge.filter(y,te,G)}ge.filter=function(te,y,G){var q=y[0];return G&&(te=":not("+te+")"),y.length===1&&q.nodeType===1?ge.find.matchesSelector(q,te)?[q]:[]:ge.find.matches(te,ge.grep(y,function(ye){return ye.nodeType===1}))},ge.fn.extend({find:function(y){var G,q,ye=this.length,Fe=this;if(typeof y!="string")return this.pushStack(ge(y).filter(function(){for(G=0;G<ye;G++)if(ge.contains(Fe[G],this))return!0}));for(q=this.pushStack([]),G=0;G<ye;G++)ge.find(y,Fe[G],q);return ye>1?ge.uniqueSort(q):q},filter:function(y){return this.pushStack(sn(this,y||[],!1))},not:function(y){return this.pushStack(sn(this,y||[],!0))},is:function(y){return!!sn(this,typeof y=="string"&&Zi.test(y)?ge(y):y||[],!1).length}});var ci,Ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,V=ge.fn.init=function(te,y,G){var q,ye;if(!te)return this;if(G=G||ci,typeof te=="string")if(te[0]==="<"&&te[te.length-1]===">"&&te.length>=3?q=[null,te,null]:q=Ut.exec(te),q&&(q[1]||!y))if(q[1]){if(y=y instanceof ge?y[0]:y,ge.merge(this,ge.parseHTML(q[1],y&&y.nodeType?y.ownerDocument||y:je,!0)),pi.test(q[1])&&ge.isPlainObject(y))for(q in y)pe(this[q])?this[q](y[q]):this.attr(q,y[q]);return this}else return ye=je.getElementById(q[2]),ye&&(this[0]=ye,this.length=1),this;else return!y||y.jquery?(y||G).find(te):this.constructor(y).find(te);else{if(te.nodeType)return this[0]=te,this.length=1,this;if(pe(te))return G.ready!==void 0?G.ready(te):te(ge)}return ge.makeArray(te,this)};V.prototype=ge.fn,ci=ge(je);var w=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};ge.fn.extend({has:function(y){var G=ge(y,this),q=G.length;return this.filter(function(){for(var ye=0;ye<q;ye++)if(ge.contains(this,G[ye]))return!0})},closest:function(y,G){var q,ye=0,Fe=this.length,Ue=[],ct=typeof y!="string"&&ge(y);if(!Zi.test(y)){for(;ye<Fe;ye++)for(q=this[ye];q&&q!==G;q=q.parentNode)if(q.nodeType<11&&(ct?ct.index(q)>-1:q.nodeType===1&&ge.find.matchesSelector(q,y))){Ue.push(q);break}}return this.pushStack(Ue.length>1?ge.uniqueSort(Ue):Ue)},index:function(y){return y?typeof y=="string"?st.call(ge(y),this[0]):st.call(this,y.jquery?y[0]:y):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(y,G){return this.pushStack(ge.uniqueSort(ge.merge(this.get(),ge(y,G))))},addBack:function(y){return this.add(y==null?this.prevObject:this.prevObject.filter(y))}});function T(te,y){for(;(te=te[y])&&te.nodeType!==1;);return te}ge.each({parent:function(y){var G=y.parentNode;return G&&G.nodeType!==11?G:null},parents:function(y){return Ii(y,"parentNode")},parentsUntil:function(y,G,q){return Ii(y,"parentNode",q)},next:function(y){return T(y,"nextSibling")},prev:function(y){return T(y,"previousSibling")},nextAll:function(y){return Ii(y,"nextSibling")},prevAll:function(y){return Ii(y,"previousSibling")},nextUntil:function(y,G,q){return Ii(y,"nextSibling",q)},prevUntil:function(y,G,q){return Ii(y,"previousSibling",q)},siblings:function(y){return ji((y.parentNode||{}).firstChild,y)},children:function(y){return ji(y.firstChild)},contents:function(y){return y.contentDocument!=null&&ce(y.contentDocument)?y.contentDocument:(kt(y,"template")&&(y=y.content||y),ge.merge([],y.childNodes))}},function(te,y){ge.fn[te]=function(G,q){var ye=ge.map(this,y,G);return te.slice(-5)!=="Until"&&(q=G),q&&typeof q=="string"&&(ye=ge.filter(q,ye)),this.length>1&&(N[te]||ge.uniqueSort(ye),w.test(te)&&ye.reverse()),this.pushStack(ye)}});var we=/[^\x20\t\r\n\f]+/g;function Se(te){var y={};return ge.each(te.match(we)||[],function(G,q){y[q]=!0}),y}ge.Callbacks=function(te){te=typeof te=="string"?Se(te):ge.extend({},te);var y,G,q,ye,Fe=[],Ue=[],ct=-1,yt=function(){for(ye=ye||te.once,q=y=!0;Ue.length;ct=-1)for(G=Ue.shift();++ct<Fe.length;)Fe[ct].apply(G[0],G[1])===!1&&te.stopOnFalse&&(ct=Fe.length,G=!1);te.memory||(G=!1),y=!1,ye&&(G?Fe=[]:Fe="")},Ot={add:function(){return Fe&&(G&&!y&&(ct=Fe.length-1,Ue.push(G)),function Bi(Yi){ge.each(Yi,function(ki,en){pe(en)?(!te.unique||!Ot.has(en))&&Fe.push(en):en&&en.length&&Gt(en)!=="string"&&Bi(en)})}(arguments),G&&!y&&yt()),this},remove:function(){return ge.each(arguments,function(Bi,Yi){for(var ki;(ki=ge.inArray(Yi,Fe,ki))>-1;)Fe.splice(ki,1),ki<=ct&&ct--}),this},has:function(Bi){return Bi?ge.inArray(Bi,Fe)>-1:Fe.length>0},empty:function(){return Fe&&(Fe=[]),this},disable:function(){return ye=Ue=[],Fe=G="",this},disabled:function(){return!Fe},lock:function(){return ye=Ue=[],!G&&!y&&(Fe=G=""),this},locked:function(){return!!ye},fireWith:function(Bi,Yi){return ye||(Yi=Yi||[],Yi=[Bi,Yi.slice?Yi.slice():Yi],Ue.push(Yi),y||yt()),this},fire:function(){return Ot.fireWith(this,arguments),this},fired:function(){return!!q}};return Ot};function Ne(te){return te}function Ye(te){throw te}function bt(te,y,G,q){var ye;try{te&&pe(ye=te.promise)?ye.call(te).done(y).fail(G):te&&pe(ye=te.then)?ye.call(te,y,G):y.apply(void 0,[te].slice(q))}catch(Fe){G.apply(void 0,[Fe])}}ge.extend({Deferred:function(y){var G=[["notify","progress",ge.Callbacks("memory"),ge.Callbacks("memory"),2],["resolve","done",ge.Callbacks("once memory"),ge.Callbacks("once memory"),0,"resolved"],["reject","fail",ge.Callbacks("once memory"),ge.Callbacks("once memory"),1,"rejected"]],q="pending",ye={state:function(){return q},always:function(){return Fe.done(arguments).fail(arguments),this},catch:function(ct){return ye.then(null,ct)},pipe:function(){var ct=arguments;return ge.Deferred(function(yt){ge.each(G,function(Ot,hi){var Bi=pe(ct[hi[4]])&&ct[hi[4]];Fe[hi[1]](function(){var Yi=Bi&&Bi.apply(this,arguments);Yi&&pe(Yi.promise)?Yi.promise().progress(yt.notify).done(yt.resolve).fail(yt.reject):yt[hi[0]+"With"](this,Bi?[Yi]:arguments)})}),ct=null}).promise()},then:function(ct,yt,Ot){var hi=0;function Bi(Yi,ki,en,Xt){return function(){var zi=this,St=arguments,Pt=function(){var qi,Ni;if(!(Yi<hi)){if(qi=en.apply(zi,St),qi===ki.promise())throw new TypeError("Thenable self-resolution");Ni=qi&&(K(qi)==="object"||typeof qi=="function")&&qi.then,pe(Ni)?Xt?Ni.call(qi,Bi(hi,ki,Ne,Xt),Bi(hi,ki,Ye,Xt)):(hi++,Ni.call(qi,Bi(hi,ki,Ne,Xt),Bi(hi,ki,Ye,Xt),Bi(hi,ki,Ne,ki.notifyWith))):(en!==Ne&&(zi=void 0,St=[qi]),(Xt||ki.resolveWith)(zi,St))}},fi=Xt?Pt:function(){try{Pt()}catch(mi){ge.Deferred.exceptionHook&&ge.Deferred.exceptionHook(mi,fi.error),Yi+1>=hi&&(en!==Ye&&(zi=void 0,St=[mi]),ki.rejectWith(zi,St))}};Yi?fi():(ge.Deferred.getErrorHook?fi.error=ge.Deferred.getErrorHook():ge.Deferred.getStackHook&&(fi.error=ge.Deferred.getStackHook()),_e.setTimeout(fi))}}return ge.Deferred(function(Yi){G[0][3].add(Bi(0,Yi,pe(Ot)?Ot:Ne,Yi.notifyWith)),G[1][3].add(Bi(0,Yi,pe(ct)?ct:Ne)),G[2][3].add(Bi(0,Yi,pe(yt)?yt:Ye))}).promise()},promise:function(ct){return ct!=null?ge.extend(ct,ye):ye}},Fe={};return ge.each(G,function(Ue,ct){var yt=ct[2],Ot=ct[5];ye[ct[1]]=yt.add,Ot&&yt.add(function(){q=Ot},G[3-Ue][2].disable,G[3-Ue][3].disable,G[0][2].lock,G[0][3].lock),yt.add(ct[3].fire),Fe[ct[0]]=function(){return Fe[ct[0]+"With"](this===Fe?void 0:this,arguments),this},Fe[ct[0]+"With"]=yt.fireWith}),ye.promise(Fe),y&&y.call(Fe,Fe),Fe},when:function(y){var G=arguments.length,q=G,ye=Array(q),Fe=ie.call(arguments),Ue=ge.Deferred(),ct=function(Ot){return function(hi){ye[Ot]=this,Fe[Ot]=arguments.length>1?ie.call(arguments):hi,--G||Ue.resolveWith(ye,Fe)}};if(G<=1&&(bt(y,Ue.done(ct(q)).resolve,Ue.reject,!G),Ue.state()==="pending"||pe(Fe[q]&&Fe[q].then)))return Ue.then();for(;q--;)bt(Fe[q],ct(q),Ue.reject);return Ue.promise()}});var ni=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ge.Deferred.exceptionHook=function(te,y){_e.console&&_e.console.warn&&te&&ni.test(te.name)&&_e.console.warn("jQuery.Deferred exception: "+te.message,te.stack,y)},ge.readyException=function(te){_e.setTimeout(function(){throw te})};var Zt=ge.Deferred();ge.fn.ready=function(te){return Zt.then(te).catch(function(y){ge.readyException(y)}),this},ge.extend({isReady:!1,readyWait:1,ready:function(y){(y===!0?--ge.readyWait:ge.isReady)||(ge.isReady=!0,!(y!==!0&&--ge.readyWait>0)&&Zt.resolveWith(je,[ge]))}}),ge.ready.then=Zt.then;function Me(){je.removeEventListener("DOMContentLoaded",Me),_e.removeEventListener("load",Me),ge.ready()}je.readyState==="complete"||je.readyState!=="loading"&&!je.documentElement.doScroll?_e.setTimeout(ge.ready):(je.addEventListener("DOMContentLoaded",Me),_e.addEventListener("load",Me));var dt=function te(y,G,q,ye,Fe,Ue,ct){var yt=0,Ot=y.length,hi=q==null;if(Gt(q)==="object"){Fe=!0;for(yt in q)te(y,G,yt,q[yt],!0,Ue,ct)}else if(ye!==void 0&&(Fe=!0,pe(ye)||(ct=!0),hi&&(ct?(G.call(y,ye),G=null):(hi=G,G=function(Yi,ki,en){return hi.call(ge(Yi),en)})),G))for(;yt<Ot;yt++)G(y[yt],q,ct?ye:ye.call(y[yt],yt,G(y[yt],q)));return Fe?y:hi?G.call(y):Ot?G(y[0],q):Ue},ai=/^-ms-/,Fi=/-([a-z])/g;function di(te,y){return y.toUpperCase()}function gi(te){return te.replace(ai,"ms-").replace(Fi,di)}var Ki=function(y){return y.nodeType===1||y.nodeType===9||!+y.nodeType};function Si(){this.expando=ge.expando+Si.uid++}Si.uid=1,Si.prototype={cache:function(y){var G=y[this.expando];return G||(G={},Ki(y)&&(y.nodeType?y[this.expando]=G:Object.defineProperty(y,this.expando,{value:G,configurable:!0}))),G},set:function(y,G,q){var ye,Fe=this.cache(y);if(typeof G=="string")Fe[gi(G)]=q;else for(ye in G)Fe[gi(ye)]=G[ye];return Fe},get:function(y,G){return G===void 0?this.cache(y):y[this.expando]&&y[this.expando][gi(G)]},access:function(y,G,q){return G===void 0||G&&typeof G=="string"&&q===void 0?this.get(y,G):(this.set(y,G,q),q!==void 0?q:G)},remove:function(y,G){var q,ye=y[this.expando];if(ye!==void 0){if(G!==void 0)for(Array.isArray(G)?G=G.map(gi):(G=gi(G),G=G in ye?[G]:G.match(we)||[]),q=G.length;q--;)delete ye[G[q]];(G===void 0||ge.isEmptyObject(ye))&&(y.nodeType?y[this.expando]=void 0:delete y[this.expando])}},hasData:function(y){var G=y[this.expando];return G!==void 0&&!ge.isEmptyObject(G)}};var Ht=new Si,qt=new Si,vi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rn=/[A-Z]/g;function En(te){return te==="true"?!0:te==="false"?!1:te==="null"?null:te===+te+""?+te:vi.test(te)?JSON.parse(te):te}function an(te,y,G){var q;if(G===void 0&&te.nodeType===1)if(q="data-"+y.replace(rn,"-$&").toLowerCase(),G=te.getAttribute(q),typeof G=="string"){try{G=En(G)}catch{}qt.set(te,y,G)}else G=void 0;return G}ge.extend({hasData:function(y){return qt.hasData(y)||Ht.hasData(y)},data:function(y,G,q){return qt.access(y,G,q)},removeData:function(y,G){qt.remove(y,G)},_data:function(y,G,q){return Ht.access(y,G,q)},_removeData:function(y,G){Ht.remove(y,G)}}),ge.fn.extend({data:function(y,G){var q,ye,Fe,Ue=this[0],ct=Ue&&Ue.attributes;if(y===void 0){if(this.length&&(Fe=qt.get(Ue),Ue.nodeType===1&&!Ht.get(Ue,"hasDataAttrs"))){for(q=ct.length;q--;)ct[q]&&(ye=ct[q].name,ye.indexOf("data-")===0&&(ye=gi(ye.slice(5)),an(Ue,ye,Fe[ye])));Ht.set(Ue,"hasDataAttrs",!0)}return Fe}return K(y)==="object"?this.each(function(){qt.set(this,y)}):dt(this,function(yt){var Ot;if(Ue&&yt===void 0)return Ot=qt.get(Ue,y),Ot!==void 0||(Ot=an(Ue,y),Ot!==void 0)?Ot:void 0;this.each(function(){qt.set(this,y,yt)})},null,G,arguments.length>1,null,!0)},removeData:function(y){return this.each(function(){qt.remove(this,y)})}}),ge.extend({queue:function(y,G,q){var ye;if(y)return G=(G||"fx")+"queue",ye=Ht.get(y,G),q&&(!ye||Array.isArray(q)?ye=Ht.access(y,G,ge.makeArray(q)):ye.push(q)),ye||[]},dequeue:function(y,G){G=G||"fx";var q=ge.queue(y,G),ye=q.length,Fe=q.shift(),Ue=ge._queueHooks(y,G),ct=function(){ge.dequeue(y,G)};Fe==="inprogress"&&(Fe=q.shift(),ye--),Fe&&(G==="fx"&&q.unshift("inprogress"),delete Ue.stop,Fe.call(y,ct,Ue)),!ye&&Ue&&Ue.empty.fire()},_queueHooks:function(y,G){var q=G+"queueHooks";return Ht.get(y,q)||Ht.access(y,q,{empty:ge.Callbacks("once memory").add(function(){Ht.remove(y,[G+"queue",q])})})}}),ge.fn.extend({queue:function(y,G){var q=2;return typeof y!="string"&&(G=y,y="fx",q--),arguments.length<q?ge.queue(this[0],y):G===void 0?this:this.each(function(){var ye=ge.queue(this,y,G);ge._queueHooks(this,y),y==="fx"&&ye[0]!=="inprogress"&&ge.dequeue(this,y)})},dequeue:function(y){return this.each(function(){ge.dequeue(this,y)})},clearQueue:function(y){return this.queue(y||"fx",[])},promise:function(y,G){var q,ye=1,Fe=ge.Deferred(),Ue=this,ct=this.length,yt=function(){--ye||Fe.resolveWith(Ue,[Ue])};for(typeof y!="string"&&(G=y,y=void 0),y=y||"fx";ct--;)q=Ht.get(Ue[ct],y+"queueHooks"),q&&q.empty&&(ye++,q.empty.add(yt));return yt(),Fe.promise(G)}});var cn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rn=new RegExp("^(?:([+-])=|)("+cn+")([a-z%]*)$","i"),fn=["Top","Right","Bottom","Left"],xn=je.documentElement,tr=function(y){return ge.contains(y.ownerDocument,y)},$n={composed:!0};xn.getRootNode&&(tr=function(y){return ge.contains(y.ownerDocument,y)||y.getRootNode($n)===y.ownerDocument});var Tr=function(y,G){return y=G||y,y.style.display==="none"||y.style.display===""&&tr(y)&&ge.css(y,"display")==="none"};function jn(te,y,G,q){var ye,Fe,Ue=20,ct=q?function(){return q.cur()}:function(){return ge.css(te,y,"")},yt=ct(),Ot=G&&G[3]||(ge.cssNumber[y]?"":"px"),hi=te.nodeType&&(ge.cssNumber[y]||Ot!=="px"&&+yt)&&Rn.exec(ge.css(te,y));if(hi&&hi[3]!==Ot){for(yt=yt/2,Ot=Ot||hi[3],hi=+yt||1;Ue--;)ge.style(te,y,hi+Ot),(1-Fe)*(1-(Fe=ct()/yt||.5))<=0&&(Ue=0),hi=hi/Fe;hi=hi*2,ge.style(te,y,hi+Ot),G=G||[]}return G&&(hi=+hi||+yt||0,ye=G[1]?hi+(G[1]+1)*G[2]:+G[2],q&&(q.unit=Ot,q.start=hi,q.end=ye)),ye}var wr={};function Er(te){var y,G=te.ownerDocument,q=te.nodeName,ye=wr[q];return ye||(y=G.body.appendChild(G.createElement(q)),ye=ge.css(y,"display"),y.parentNode.removeChild(y),ye==="none"&&(ye="block"),wr[q]=ye,ye)}function Qn(te,y){for(var G,q,ye=[],Fe=0,Ue=te.length;Fe<Ue;Fe++)q=te[Fe],q.style&&(G=q.style.display,y?(G==="none"&&(ye[Fe]=Ht.get(q,"display")||null,ye[Fe]||(q.style.display="")),q.style.display===""&&Tr(q)&&(ye[Fe]=Er(q))):G!=="none"&&(ye[Fe]="none",Ht.set(q,"display",G)));for(Fe=0;Fe<Ue;Fe++)ye[Fe]!=null&&(te[Fe].style.display=ye[Fe]);return te}ge.fn.extend({show:function(){return Qn(this,!0)},hide:function(){return Qn(this)},toggle:function(y){return typeof y=="boolean"?y?this.show():this.hide():this.each(function(){Tr(this)?ge(this).show():ge(this).hide()})}});var Un=/^(?:checkbox|radio)$/i,ar=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Sa=/^$|^module$|\/(?:java|ecma)script/i;(function(){var te=je.createDocumentFragment(),y=te.appendChild(je.createElement("div")),G=je.createElement("input");G.setAttribute("type","radio"),G.setAttribute("checked","checked"),G.setAttribute("name","t"),y.appendChild(G),Le.checkClone=y.cloneNode(!0).cloneNode(!0).lastChild.checked,y.innerHTML="<textarea>x</textarea>",Le.noCloneChecked=!!y.cloneNode(!0).lastChild.defaultValue,y.innerHTML="<option></option>",Le.option=!!y.lastChild})();var Gr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Gr.tbody=Gr.tfoot=Gr.colgroup=Gr.caption=Gr.thead,Gr.th=Gr.td,Le.option||(Gr.optgroup=Gr.option=[1,"<select multiple='multiple'>","</select>"]);function br(te,y){var G;return typeof te.getElementsByTagName<"u"?G=te.getElementsByTagName(y||"*"):typeof te.querySelectorAll<"u"?G=te.querySelectorAll(y||"*"):G=[],y===void 0||y&&kt(te,y)?ge.merge([te],G):G}function ea(te,y){for(var G=0,q=te.length;G<q;G++)Ht.set(te[G],"globalEval",!y||Ht.get(y[G],"globalEval"))}var Fa=/<|&#?\w+;/;function ka(te,y,G,q,ye){for(var Fe,Ue,ct,yt,Ot,hi,Bi=y.createDocumentFragment(),Yi=[],ki=0,en=te.length;ki<en;ki++)if(Fe=te[ki],Fe||Fe===0)if(Gt(Fe)==="object")ge.merge(Yi,Fe.nodeType?[Fe]:Fe);else if(!Fa.test(Fe))Yi.push(y.createTextNode(Fe));else{for(Ue=Ue||Bi.appendChild(y.createElement("div")),ct=(ar.exec(Fe)||["",""])[1].toLowerCase(),yt=Gr[ct]||Gr._default,Ue.innerHTML=yt[1]+ge.htmlPrefilter(Fe)+yt[2],hi=yt[0];hi--;)Ue=Ue.lastChild;ge.merge(Yi,Ue.childNodes),Ue=Bi.firstChild,Ue.textContent=""}for(Bi.textContent="",ki=0;Fe=Yi[ki++];){if(q&&ge.inArray(Fe,q)>-1){ye&&ye.push(Fe);continue}if(Ot=tr(Fe),Ue=br(Bi.appendChild(Fe),"script"),Ot&&ea(Ue),G)for(hi=0;Fe=Ue[hi++];)Sa.test(Fe.type||"")&&G.push(Fe)}return Bi}var Jn=/^([^.]*)(?:\.(.+)|)/;function ca(){return!0}function Or(){return!1}function dr(te,y,G,q,ye,Fe){var Ue,ct;if(K(y)==="object"){typeof G!="string"&&(q=q||G,G=void 0);for(ct in y)dr(te,ct,G,q,y[ct],Fe);return te}if(q==null&&ye==null?(ye=G,q=G=void 0):ye==null&&(typeof G=="string"?(ye=q,q=void 0):(ye=q,q=G,G=void 0)),ye===!1)ye=Or;else if(!ye)return te;return Fe===1&&(Ue=ye,ye=function(Ot){return ge().off(Ot),Ue.apply(this,arguments)},ye.guid=Ue.guid||(Ue.guid=ge.guid++)),te.each(function(){ge.event.add(this,y,ye,q,G)})}ge.event={global:{},add:function(y,G,q,ye,Fe){var Ue,ct,yt,Ot,hi,Bi,Yi,ki,en,Xt,zi,St=Ht.get(y);if(Ki(y))for(q.handler&&(Ue=q,q=Ue.handler,Fe=Ue.selector),Fe&&ge.find.matchesSelector(xn,Fe),q.guid||(q.guid=ge.guid++),(Ot=St.events)||(Ot=St.events=Object.create(null)),(ct=St.handle)||(ct=St.handle=function(Pt){return typeof ge<"u"&&ge.event.triggered!==Pt.type?ge.event.dispatch.apply(y,arguments):void 0}),G=(G||"").match(we)||[""],hi=G.length;hi--;)yt=Jn.exec(G[hi])||[],en=zi=yt[1],Xt=(yt[2]||"").split(".").sort(),en&&(Yi=ge.event.special[en]||{},en=(Fe?Yi.delegateType:Yi.bindType)||en,Yi=ge.event.special[en]||{},Bi=ge.extend({type:en,origType:zi,data:ye,handler:q,guid:q.guid,selector:Fe,needsContext:Fe&&ge.expr.match.needsContext.test(Fe),namespace:Xt.join(".")},Ue),(ki=Ot[en])||(ki=Ot[en]=[],ki.delegateCount=0,(!Yi.setup||Yi.setup.call(y,ye,Xt,ct)===!1)&&y.addEventListener&&y.addEventListener(en,ct)),Yi.add&&(Yi.add.call(y,Bi),Bi.handler.guid||(Bi.handler.guid=q.guid)),Fe?ki.splice(ki.delegateCount++,0,Bi):ki.push(Bi),ge.event.global[en]=!0)},remove:function(y,G,q,ye,Fe){var Ue,ct,yt,Ot,hi,Bi,Yi,ki,en,Xt,zi,St=Ht.hasData(y)&&Ht.get(y);if(!(!St||!(Ot=St.events))){for(G=(G||"").match(we)||[""],hi=G.length;hi--;){if(yt=Jn.exec(G[hi])||[],en=zi=yt[1],Xt=(yt[2]||"").split(".").sort(),!en){for(en in Ot)ge.event.remove(y,en+G[hi],q,ye,!0);continue}for(Yi=ge.event.special[en]||{},en=(ye?Yi.delegateType:Yi.bindType)||en,ki=Ot[en]||[],yt=yt[2]&&new RegExp("(^|\\.)"+Xt.join("\\.(?:.*\\.|)")+"(\\.|$)"),ct=Ue=ki.length;Ue--;)Bi=ki[Ue],(Fe||zi===Bi.origType)&&(!q||q.guid===Bi.guid)&&(!yt||yt.test(Bi.namespace))&&(!ye||ye===Bi.selector||ye==="**"&&Bi.selector)&&(ki.splice(Ue,1),Bi.selector&&ki.delegateCount--,Yi.remove&&Yi.remove.call(y,Bi));ct&&!ki.length&&((!Yi.teardown||Yi.teardown.call(y,Xt,St.handle)===!1)&&ge.removeEvent(y,en,St.handle),delete Ot[en])}ge.isEmptyObject(Ot)&&Ht.remove(y,"handle events")}},dispatch:function(y){var G,q,ye,Fe,Ue,ct,yt=new Array(arguments.length),Ot=ge.event.fix(y),hi=(Ht.get(this,"events")||Object.create(null))[Ot.type]||[],Bi=ge.event.special[Ot.type]||{};for(yt[0]=Ot,G=1;G<arguments.length;G++)yt[G]=arguments[G];if(Ot.delegateTarget=this,!(Bi.preDispatch&&Bi.preDispatch.call(this,Ot)===!1)){for(ct=ge.event.handlers.call(this,Ot,hi),G=0;(Fe=ct[G++])&&!Ot.isPropagationStopped();)for(Ot.currentTarget=Fe.elem,q=0;(Ue=Fe.handlers[q++])&&!Ot.isImmediatePropagationStopped();)(!Ot.rnamespace||Ue.namespace===!1||Ot.rnamespace.test(Ue.namespace))&&(Ot.handleObj=Ue,Ot.data=Ue.data,ye=((ge.event.special[Ue.origType]||{}).handle||Ue.handler).apply(Fe.elem,yt),ye!==void 0&&(Ot.result=ye)===!1&&(Ot.preventDefault(),Ot.stopPropagation()));return Bi.postDispatch&&Bi.postDispatch.call(this,Ot),Ot.result}},handlers:function(y,G){var q,ye,Fe,Ue,ct,yt=[],Ot=G.delegateCount,hi=y.target;if(Ot&&hi.nodeType&&!(y.type==="click"&&y.button>=1)){for(;hi!==this;hi=hi.parentNode||this)if(hi.nodeType===1&&!(y.type==="click"&&hi.disabled===!0)){for(Ue=[],ct={},q=0;q<Ot;q++)ye=G[q],Fe=ye.selector+" ",ct[Fe]===void 0&&(ct[Fe]=ye.needsContext?ge(Fe,this).index(hi)>-1:ge.find(Fe,this,null,[hi]).length),ct[Fe]&&Ue.push(ye);Ue.length&&yt.push({elem:hi,handlers:Ue})}}return hi=this,Ot<G.length&&yt.push({elem:hi,handlers:G.slice(Ot)}),yt},addProp:function(y,G){Object.defineProperty(ge.Event.prototype,y,{enumerable:!0,configurable:!0,get:pe(G)?function(){if(this.originalEvent)return G(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[y]},set:function(ye){Object.defineProperty(this,y,{enumerable:!0,configurable:!0,writable:!0,value:ye})}})},fix:function(y){return y[ge.expando]?y:new ge.Event(y)},special:{load:{noBubble:!0},click:{setup:function(y){var G=this||y;return Un.test(G.type)&&G.click&&kt(G,"input")&&xa(G,"click",!0),!1},trigger:function(y){var G=this||y;return Un.test(G.type)&&G.click&&kt(G,"input")&&xa(G,"click"),!0},_default:function(y){var G=y.target;return Un.test(G.type)&&G.click&&kt(G,"input")&&Ht.get(G,"click")||kt(G,"a")}},beforeunload:{postDispatch:function(y){y.result!==void 0&&y.originalEvent&&(y.originalEvent.returnValue=y.result)}}}};function xa(te,y,G){if(!G){Ht.get(te,y)===void 0&&ge.event.add(te,y,ca);return}Ht.set(te,y,!1),ge.event.add(te,y,{namespace:!1,handler:function(ye){var Fe,Ue=Ht.get(this,y);if(ye.isTrigger&1&&this[y]){if(Ue)(ge.event.special[y]||{}).delegateType&&ye.stopPropagation();else if(Ue=ie.call(arguments),Ht.set(this,y,Ue),this[y](),Fe=Ht.get(this,y),Ht.set(this,y,!1),Ue!==Fe)return ye.stopImmediatePropagation(),ye.preventDefault(),Fe}else Ue&&(Ht.set(this,y,ge.event.trigger(Ue[0],Ue.slice(1),this)),ye.stopPropagation(),ye.isImmediatePropagationStopped=ca)}})}ge.removeEvent=function(te,y,G){te.removeEventListener&&te.removeEventListener(y,G)},ge.Event=function(te,y){if(!(this instanceof ge.Event))return new ge.Event(te,y);te&&te.type?(this.originalEvent=te,this.type=te.type,this.isDefaultPrevented=te.defaultPrevented||te.defaultPrevented===void 0&&te.returnValue===!1?ca:Or,this.target=te.target&&te.target.nodeType===3?te.target.parentNode:te.target,this.currentTarget=te.currentTarget,this.relatedTarget=te.relatedTarget):this.type=te,y&&ge.extend(this,y),this.timeStamp=te&&te.timeStamp||Date.now(),this[ge.expando]=!0},ge.Event.prototype={constructor:ge.Event,isDefaultPrevented:Or,isPropagationStopped:Or,isImmediatePropagationStopped:Or,isSimulated:!1,preventDefault:function(){var y=this.originalEvent;this.isDefaultPrevented=ca,y&&!this.isSimulated&&y.preventDefault()},stopPropagation:function(){var y=this.originalEvent;this.isPropagationStopped=ca,y&&!this.isSimulated&&y.stopPropagation()},stopImmediatePropagation:function(){var y=this.originalEvent;this.isImmediatePropagationStopped=ca,y&&!this.isSimulated&&y.stopImmediatePropagation(),this.stopPropagation()}},ge.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ge.event.addProp),ge.each({focus:"focusin",blur:"focusout"},function(te,y){function G(q){if(je.documentMode){var ye=Ht.get(this,"handle"),Fe=ge.event.fix(q);Fe.type=q.type==="focusin"?"focus":"blur",Fe.isSimulated=!0,ye(q),Fe.target===Fe.currentTarget&&ye(Fe)}else ge.event.simulate(y,q.target,ge.event.fix(q))}ge.event.special[te]={setup:function(){var ye;if(xa(this,te,!0),je.documentMode)ye=Ht.get(this,y),ye||this.addEventListener(y,G),Ht.set(this,y,(ye||0)+1);else return!1},trigger:function(){return xa(this,te),!0},teardown:function(){var ye;if(je.documentMode)ye=Ht.get(this,y)-1,ye?Ht.set(this,y,ye):(this.removeEventListener(y,G),Ht.remove(this,y));else return!1},_default:function(ye){return Ht.get(ye.target,te)},delegateType:y},ge.event.special[y]={setup:function(){var ye=this.ownerDocument||this.document||this,Fe=je.documentMode?this:ye,Ue=Ht.get(Fe,y);Ue||(je.documentMode?this.addEventListener(y,G):ye.addEventListener(te,G,!0)),Ht.set(Fe,y,(Ue||0)+1)},teardown:function(){var ye=this.ownerDocument||this.document||this,Fe=je.documentMode?this:ye,Ue=Ht.get(Fe,y)-1;Ue?Ht.set(Fe,y,Ue):(je.documentMode?this.removeEventListener(y,G):ye.removeEventListener(te,G,!0),Ht.remove(Fe,y))}}}),ge.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(te,y){ge.event.special[te]={delegateType:y,bindType:y,handle:function(q){var ye,Fe=this,Ue=q.relatedTarget,ct=q.handleObj;return(!Ue||Ue!==Fe&&!ge.contains(Fe,Ue))&&(q.type=ct.origType,ye=ct.handler.apply(this,arguments),q.type=y),ye}}}),ge.fn.extend({on:function(y,G,q,ye){return dr(this,y,G,q,ye)},one:function(y,G,q,ye){return dr(this,y,G,q,ye,1)},off:function(y,G,q){var ye,Fe;if(y&&y.preventDefault&&y.handleObj)return ye=y.handleObj,ge(y.delegateTarget).off(ye.namespace?ye.origType+"."+ye.namespace:ye.origType,ye.selector,ye.handler),this;if(K(y)==="object"){for(Fe in y)this.off(Fe,G,y[Fe]);return this}return(G===!1||typeof G=="function")&&(q=G,G=void 0),q===!1&&(q=Or),this.each(function(){ge.event.remove(this,y,q,G)})}});var Ar=/<script|<style|<link/i,Ia=/checked\s*(?:[^=]|=\s*.checked.)/i,uo=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Xa(te,y){return kt(te,"table")&&kt(y.nodeType!==11?y:y.firstChild,"tr")&&ge(te).children("tbody")[0]||te}function Ua(te){return te.type=(te.getAttribute("type")!==null)+"/"+te.type,te}function Bo(te){return(te.type||"").slice(0,5)==="true/"?te.type=te.type.slice(5):te.removeAttribute("type"),te}function To(te,y){var G,q,ye,Fe,Ue,ct,yt;if(y.nodeType===1){if(Ht.hasData(te)&&(Fe=Ht.get(te),yt=Fe.events,yt)){Ht.remove(y,"handle events");for(ye in yt)for(G=0,q=yt[ye].length;G<q;G++)ge.event.add(y,ye,yt[ye][G])}qt.hasData(te)&&(Ue=qt.access(te),ct=ge.extend({},Ue),qt.set(y,ct))}}function jo(te,y){var G=y.nodeName.toLowerCase();G==="input"&&Un.test(te.type)?y.checked=te.checked:(G==="input"||G==="textarea")&&(y.defaultValue=te.defaultValue)}function Wr(te,y,G,q){y=Oe(y);var ye,Fe,Ue,ct,yt,Ot,hi=0,Bi=te.length,Yi=Bi-1,ki=y[0],en=pe(ki);if(en||Bi>1&&typeof ki=="string"&&!Le.checkClone&&Ia.test(ki))return te.each(function(Xt){var zi=te.eq(Xt);en&&(y[0]=ki.call(this,Xt,zi.html())),Wr(zi,y,G,q)});if(Bi&&(ye=ka(y,te[0].ownerDocument,!1,te,q),Fe=ye.firstChild,ye.childNodes.length===1&&(ye=Fe),Fe||q)){for(Ue=ge.map(br(ye,"script"),Ua),ct=Ue.length;hi<Bi;hi++)yt=ye,hi!==Yi&&(yt=ge.clone(yt,!0,!0),ct&&ge.merge(Ue,br(yt,"script"))),G.call(te[hi],yt,hi);if(ct)for(Ot=Ue[Ue.length-1].ownerDocument,ge.map(Ue,Bo),hi=0;hi<ct;hi++)yt=Ue[hi],Sa.test(yt.type||"")&&!Ht.access(yt,"globalEval")&&ge.contains(Ot,yt)&&(yt.src&&(yt.type||"").toLowerCase()!=="module"?ge._evalUrl&&!yt.noModule&&ge._evalUrl(yt.src,{nonce:yt.nonce||yt.getAttribute("nonce")},Ot):gt(yt.textContent.replace(uo,""),yt,Ot))}return te}function Mt(te,y,G){for(var q,ye=y?ge.filter(y,te):te,Fe=0;(q=ye[Fe])!=null;Fe++)!G&&q.nodeType===1&&ge.cleanData(br(q)),q.parentNode&&(G&&tr(q)&&ea(br(q,"script")),q.parentNode.removeChild(q));return te}ge.extend({htmlPrefilter:function(y){return y},clone:function(y,G,q){var ye,Fe,Ue,ct,yt=y.cloneNode(!0),Ot=tr(y);if(!Le.noCloneChecked&&(y.nodeType===1||y.nodeType===11)&&!ge.isXMLDoc(y))for(ct=br(yt),Ue=br(y),ye=0,Fe=Ue.length;ye<Fe;ye++)jo(Ue[ye],ct[ye]);if(G)if(q)for(Ue=Ue||br(y),ct=ct||br(yt),ye=0,Fe=Ue.length;ye<Fe;ye++)To(Ue[ye],ct[ye]);else To(y,yt);return ct=br(yt,"script"),ct.length>0&&ea(ct,!Ot&&br(y,"script")),yt},cleanData:function(y){for(var G,q,ye,Fe=ge.event.special,Ue=0;(q=y[Ue])!==void 0;Ue++)if(Ki(q)){if(G=q[Ht.expando]){if(G.events)for(ye in G.events)Fe[ye]?ge.event.remove(q,ye):ge.removeEvent(q,ye,G.handle);q[Ht.expando]=void 0}q[qt.expando]&&(q[qt.expando]=void 0)}}}),ge.fn.extend({detach:function(y){return Mt(this,y,!0)},remove:function(y){return Mt(this,y)},text:function(y){return dt(this,function(G){return G===void 0?ge.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=G)})},null,y,arguments.length)},append:function(){return Wr(this,arguments,function(y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var G=Xa(this,y);G.appendChild(y)}})},prepend:function(){return Wr(this,arguments,function(y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var G=Xa(this,y);G.insertBefore(y,G.firstChild)}})},before:function(){return Wr(this,arguments,function(y){this.parentNode&&this.parentNode.insertBefore(y,this)})},after:function(){return Wr(this,arguments,function(y){this.parentNode&&this.parentNode.insertBefore(y,this.nextSibling)})},empty:function(){for(var y,G=0;(y=this[G])!=null;G++)y.nodeType===1&&(ge.cleanData(br(y,!1)),y.textContent="");return this},clone:function(y,G){return y=y??!1,G=G??y,this.map(function(){return ge.clone(this,y,G)})},html:function(y){return dt(this,function(G){var q=this[0]||{},ye=0,Fe=this.length;if(G===void 0&&q.nodeType===1)return q.innerHTML;if(typeof G=="string"&&!Ar.test(G)&&!Gr[(ar.exec(G)||["",""])[1].toLowerCase()]){G=ge.htmlPrefilter(G);try{for(;ye<Fe;ye++)q=this[ye]||{},q.nodeType===1&&(ge.cleanData(br(q,!1)),q.innerHTML=G);q=0}catch{}}q&&this.empty().append(G)},null,y,arguments.length)},replaceWith:function(){var y=[];return Wr(this,arguments,function(G){var q=this.parentNode;ge.inArray(this,y)<0&&(ge.cleanData(br(this)),q&&q.replaceChild(G,this))},y)}}),ge.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(te,y){ge.fn[te]=function(G){for(var q,ye=[],Fe=ge(G),Ue=Fe.length-1,ct=0;ct<=Ue;ct++)q=ct===Ue?this:this.clone(!0),ge(Fe[ct])[y](q),Qe.apply(ye,q.get());return this.pushStack(ye)}});var qa=new RegExp("^("+cn+")(?!px)[a-z%]+$","i"),Da=/^--/,ue=function(y){var G=y.ownerDocument.defaultView;return(!G||!G.opener)&&(G=_e),G.getComputedStyle(y)},bi=function(y,G,q){var ye,Fe,Ue={};for(Fe in G)Ue[Fe]=y.style[Fe],y.style[Fe]=G[Fe];ye=q.call(y);for(Fe in G)y.style[Fe]=Ue[Fe];return ye},Je=new RegExp(fn.join("|"),"i");(function(){function te(){if(Ot){yt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ot.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xn.appendChild(yt).appendChild(Ot);var hi=_e.getComputedStyle(Ot);G=hi.top!=="1%",ct=y(hi.marginLeft)===12,Ot.style.right="60%",Fe=y(hi.right)===36,q=y(hi.width)===36,Ot.style.position="absolute",ye=y(Ot.offsetWidth/3)===12,xn.removeChild(yt),Ot=null}}function y(hi){return Math.round(parseFloat(hi))}var G,q,ye,Fe,Ue,ct,yt=je.createElement("div"),Ot=je.createElement("div");Ot.style&&(Ot.style.backgroundClip="content-box",Ot.cloneNode(!0).style.backgroundClip="",Le.clearCloneStyle=Ot.style.backgroundClip==="content-box",ge.extend(Le,{boxSizingReliable:function(){return te(),q},pixelBoxStyles:function(){return te(),Fe},pixelPosition:function(){return te(),G},reliableMarginLeft:function(){return te(),ct},scrollboxSize:function(){return te(),ye},reliableTrDimensions:function(){var Bi,Yi,ki,en;return Ue==null&&(Bi=je.createElement("table"),Yi=je.createElement("tr"),ki=je.createElement("div"),Bi.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Yi.style.cssText="box-sizing:content-box;border:1px solid",Yi.style.height="1px",ki.style.height="9px",ki.style.display="block",xn.appendChild(Bi).appendChild(Yi).appendChild(ki),en=_e.getComputedStyle(Yi),Ue=parseInt(en.height,10)+parseInt(en.borderTopWidth,10)+parseInt(en.borderBottomWidth,10)===Yi.offsetHeight,xn.removeChild(Bi)),Ue}}))})();function f(te,y,G){var q,ye,Fe,Ue,ct=Da.test(y),yt=te.style;return G=G||ue(te),G&&(Ue=G.getPropertyValue(y)||G[y],ct&&Ue&&(Ue=Ue.replace(Ft,"$1")||void 0),Ue===""&&!tr(te)&&(Ue=ge.style(te,y)),!Le.pixelBoxStyles()&&qa.test(Ue)&&Je.test(y)&&(q=yt.width,ye=yt.minWidth,Fe=yt.maxWidth,yt.minWidth=yt.maxWidth=yt.width=Ue,Ue=G.width,yt.width=q,yt.minWidth=ye,yt.maxWidth=Fe)),Ue!==void 0?Ue+"":Ue}function l(te,y){return{get:function(){if(te()){delete this.get;return}return(this.get=y).apply(this,arguments)}}}var e=["Webkit","Moz","ms"],r=je.createElement("div").style,C={};function L(te){for(var y=te[0].toUpperCase()+te.slice(1),G=e.length;G--;)if(te=e[G]+y,te in r)return te}function ke(te){var y=ge.cssProps[te]||C[te];return y||(te in r?te:C[te]=L(te)||te)}var ze=/^(none|table(?!-c[ea]).+)/,Yt={position:"absolute",visibility:"hidden",display:"block"},j={letterSpacing:"0",fontWeight:"400"};function W(te,y,G){var q=Rn.exec(y);return q?Math.max(0,q[2]-(G||0))+(q[3]||"px"):y}function ne(te,y,G,q,ye,Fe){var Ue=y==="width"?1:0,ct=0,yt=0,Ot=0;if(G===(q?"border":"content"))return 0;for(;Ue<4;Ue+=2)G==="margin"&&(Ot+=ge.css(te,G+fn[Ue],!0,ye)),q?(G==="content"&&(yt-=ge.css(te,"padding"+fn[Ue],!0,ye)),G!=="margin"&&(yt-=ge.css(te,"border"+fn[Ue]+"Width",!0,ye))):(yt+=ge.css(te,"padding"+fn[Ue],!0,ye),G!=="padding"?yt+=ge.css(te,"border"+fn[Ue]+"Width",!0,ye):ct+=ge.css(te,"border"+fn[Ue]+"Width",!0,ye));return!q&&Fe>=0&&(yt+=Math.max(0,Math.ceil(te["offset"+y[0].toUpperCase()+y.slice(1)]-Fe-yt-ct-.5))||0),yt+Ot}function he(te,y,G){var q=ue(te),ye=!Le.boxSizingReliable()||G,Fe=ye&&ge.css(te,"boxSizing",!1,q)==="border-box",Ue=Fe,ct=f(te,y,q),yt="offset"+y[0].toUpperCase()+y.slice(1);if(qa.test(ct)){if(!G)return ct;ct="auto"}return(!Le.boxSizingReliable()&&Fe||!Le.reliableTrDimensions()&&kt(te,"tr")||ct==="auto"||!parseFloat(ct)&&ge.css(te,"display",!1,q)==="inline")&&te.getClientRects().length&&(Fe=ge.css(te,"boxSizing",!1,q)==="border-box",Ue=yt in te,Ue&&(ct=te[yt])),ct=parseFloat(ct)||0,ct+ne(te,y,G||(Fe?"border":"content"),Ue,q,ct)+"px"}ge.extend({cssHooks:{opacity:{get:function(y,G){if(G){var q=f(y,"opacity");return q===""?"1":q}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(y,G,q,ye){if(!(!y||y.nodeType===3||y.nodeType===8||!y.style)){var Fe,Ue,ct,yt=gi(G),Ot=Da.test(G),hi=y.style;if(Ot||(G=ke(yt)),ct=ge.cssHooks[G]||ge.cssHooks[yt],q!==void 0){if(Ue=K(q),Ue==="string"&&(Fe=Rn.exec(q))&&Fe[1]&&(q=jn(y,G,Fe),Ue="number"),q==null||q!==q)return;Ue==="number"&&!Ot&&(q+=Fe&&Fe[3]||(ge.cssNumber[yt]?"":"px")),!Le.clearCloneStyle&&q===""&&G.indexOf("background")===0&&(hi[G]="inherit"),(!ct||!("set"in ct)||(q=ct.set(y,q,ye))!==void 0)&&(Ot?hi.setProperty(G,q):hi[G]=q)}else return ct&&"get"in ct&&(Fe=ct.get(y,!1,ye))!==void 0?Fe:hi[G]}},css:function(y,G,q,ye){var Fe,Ue,ct,yt=gi(G),Ot=Da.test(G);return Ot||(G=ke(yt)),ct=ge.cssHooks[G]||ge.cssHooks[yt],ct&&"get"in ct&&(Fe=ct.get(y,!0,q)),Fe===void 0&&(Fe=f(y,G,ye)),Fe==="normal"&&G in j&&(Fe=j[G]),q===""||q?(Ue=parseFloat(Fe),q===!0||isFinite(Ue)?Ue||0:Fe):Fe}}),ge.each(["height","width"],function(te,y){ge.cssHooks[y]={get:function(q,ye,Fe){if(ye)return ze.test(ge.css(q,"display"))&&(!q.getClientRects().length||!q.getBoundingClientRect().width)?bi(q,Yt,function(){return he(q,y,Fe)}):he(q,y,Fe)},set:function(q,ye,Fe){var Ue,ct=ue(q),yt=!Le.scrollboxSize()&&ct.position==="absolute",Ot=yt||Fe,hi=Ot&&ge.css(q,"boxSizing",!1,ct)==="border-box",Bi=Fe?ne(q,y,Fe,hi,ct):0;return hi&&yt&&(Bi-=Math.ceil(q["offset"+y[0].toUpperCase()+y.slice(1)]-parseFloat(ct[y])-ne(q,y,"border",!1,ct)-.5)),Bi&&(Ue=Rn.exec(ye))&&(Ue[3]||"px")!=="px"&&(q.style[y]=ye,ye=ge.css(q,y)),W(q,ye,Bi)}}}),ge.cssHooks.marginLeft=l(Le.reliableMarginLeft,function(te,y){if(y)return(parseFloat(f(te,"marginLeft"))||te.getBoundingClientRect().left-bi(te,{marginLeft:0},function(){return te.getBoundingClientRect().left}))+"px"}),ge.each({margin:"",padding:"",border:"Width"},function(te,y){ge.cssHooks[te+y]={expand:function(q){for(var ye=0,Fe={},Ue=typeof q=="string"?q.split(" "):[q];ye<4;ye++)Fe[te+fn[ye]+y]=Ue[ye]||Ue[ye-2]||Ue[0];return Fe}},te!=="margin"&&(ge.cssHooks[te+y].set=W)}),ge.fn.extend({css:function(y,G){return dt(this,function(q,ye,Fe){var Ue,ct,yt={},Ot=0;if(Array.isArray(ye)){for(Ue=ue(q),ct=ye.length;Ot<ct;Ot++)yt[ye[Ot]]=ge.css(q,ye[Ot],!1,Ue);return yt}return Fe!==void 0?ge.style(q,ye,Fe):ge.css(q,ye)},y,G,arguments.length>1)}});function et(te,y,G,q,ye){return new et.prototype.init(te,y,G,q,ye)}ge.Tween=et,et.prototype={constructor:et,init:function(y,G,q,ye,Fe,Ue){this.elem=y,this.prop=q,this.easing=Fe||ge.easing._default,this.options=G,this.start=this.now=this.cur(),this.end=ye,this.unit=Ue||(ge.cssNumber[q]?"":"px")},cur:function(){var y=et.propHooks[this.prop];return y&&y.get?y.get(this):et.propHooks._default.get(this)},run:function(y){var G,q=et.propHooks[this.prop];return this.options.duration?this.pos=G=ge.easing[this.easing](y,this.options.duration*y,0,1,this.options.duration):this.pos=G=y,this.now=(this.end-this.start)*G+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),q&&q.set?q.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(y){var G;return y.elem.nodeType!==1||y.elem[y.prop]!=null&&y.elem.style[y.prop]==null?y.elem[y.prop]:(G=ge.css(y.elem,y.prop,""),!G||G==="auto"?0:G)},set:function(y){ge.fx.step[y.prop]?ge.fx.step[y.prop](y):y.elem.nodeType===1&&(ge.cssHooks[y.prop]||y.elem.style[ke(y.prop)]!=null)?ge.style(y.elem,y.prop,y.now+y.unit):y.elem[y.prop]=y.now}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(y){y.elem.nodeType&&y.elem.parentNode&&(y.elem[y.prop]=y.now)}},ge.easing={linear:function(y){return y},swing:function(y){return .5-Math.cos(y*Math.PI)/2},_default:"swing"},ge.fx=et.prototype.init,ge.fx.step={};var Rt,It,Qt=/^(?:toggle|show|hide)$/,Ai=/queueHooks$/;function on(){It&&(je.hidden===!1&&_e.requestAnimationFrame?_e.requestAnimationFrame(on):_e.setTimeout(on,ge.fx.interval),ge.fx.tick())}function Ei(){return _e.setTimeout(function(){Rt=void 0}),Rt=Date.now()}function Xi(te,y){var G,q=0,ye={height:te};for(y=y?1:0;q<4;q+=2-y)G=fn[q],ye["margin"+G]=ye["padding"+G]=te;return y&&(ye.opacity=ye.width=te),ye}function wi(te,y,G){for(var q,ye=(A.tweeners[y]||[]).concat(A.tweeners["*"]),Fe=0,Ue=ye.length;Fe<Ue;Fe++)if(q=ye[Fe].call(G,y,te))return q}function B(te,y,G){var q,ye,Fe,Ue,ct,yt,Ot,hi,Bi="width"in y||"height"in y,Yi=this,ki={},en=te.style,Xt=te.nodeType&&Tr(te),zi=Ht.get(te,"fxshow");G.queue||(Ue=ge._queueHooks(te,"fx"),Ue.unqueued==null&&(Ue.unqueued=0,ct=Ue.empty.fire,Ue.empty.fire=function(){Ue.unqueued||ct()}),Ue.unqueued++,Yi.always(function(){Yi.always(function(){Ue.unqueued--,ge.queue(te,"fx").length||Ue.empty.fire()})}));for(q in y)if(ye=y[q],Qt.test(ye)){if(delete y[q],Fe=Fe||ye==="toggle",ye===(Xt?"hide":"show"))if(ye==="show"&&zi&&zi[q]!==void 0)Xt=!0;else continue;ki[q]=zi&&zi[q]||ge.style(te,q)}if(yt=!ge.isEmptyObject(y),!(!yt&&ge.isEmptyObject(ki))){Bi&&te.nodeType===1&&(G.overflow=[en.overflow,en.overflowX,en.overflowY],Ot=zi&&zi.display,Ot==null&&(Ot=Ht.get(te,"display")),hi=ge.css(te,"display"),hi==="none"&&(Ot?hi=Ot:(Qn([te],!0),Ot=te.style.display||Ot,hi=ge.css(te,"display"),Qn([te]))),(hi==="inline"||hi==="inline-block"&&Ot!=null)&&ge.css(te,"float")==="none"&&(yt||(Yi.done(function(){en.display=Ot}),Ot==null&&(hi=en.display,Ot=hi==="none"?"":hi)),en.display="inline-block")),G.overflow&&(en.overflow="hidden",Yi.always(function(){en.overflow=G.overflow[0],en.overflowX=G.overflow[1],en.overflowY=G.overflow[2]})),yt=!1;for(q in ki)yt||(zi?"hidden"in zi&&(Xt=zi.hidden):zi=Ht.access(te,"fxshow",{display:Ot}),Fe&&(zi.hidden=!Xt),Xt&&Qn([te],!0),Yi.done(function(){Xt||Qn([te]),Ht.remove(te,"fxshow");for(q in ki)ge.style(te,q,ki[q])})),yt=wi(Xt?zi[q]:0,q,Yi),q in zi||(zi[q]=yt.start,Xt&&(yt.end=yt.start,yt.start=0))}}function p(te,y){var G,q,ye,Fe,Ue;for(G in te)if(q=gi(G),ye=y[q],Fe=te[G],Array.isArray(Fe)&&(ye=Fe[1],Fe=te[G]=Fe[0]),G!==q&&(te[q]=Fe,delete te[G]),Ue=ge.cssHooks[q],Ue&&"expand"in Ue){Fe=Ue.expand(Fe),delete te[q];for(G in Fe)G in te||(te[G]=Fe[G],y[G]=ye)}else y[q]=ye}function A(te,y,G){var q,ye,Fe=0,Ue=A.prefilters.length,ct=ge.Deferred().always(function(){delete yt.elem}),yt=function(){if(ye)return!1;for(var Yi=Rt||Ei(),ki=Math.max(0,Ot.startTime+Ot.duration-Yi),en=ki/Ot.duration||0,Xt=1-en,zi=0,St=Ot.tweens.length;zi<St;zi++)Ot.tweens[zi].run(Xt);return ct.notifyWith(te,[Ot,Xt,ki]),Xt<1&&St?ki:(St||ct.notifyWith(te,[Ot,1,0]),ct.resolveWith(te,[Ot]),!1)},Ot=ct.promise({elem:te,props:ge.extend({},y),opts:ge.extend(!0,{specialEasing:{},easing:ge.easing._default},G),originalProperties:y,originalOptions:G,startTime:Rt||Ei(),duration:G.duration,tweens:[],createTween:function(Yi,ki){var en=ge.Tween(te,Ot.opts,Yi,ki,Ot.opts.specialEasing[Yi]||Ot.opts.easing);return Ot.tweens.push(en),en},stop:function(Yi){var ki=0,en=Yi?Ot.tweens.length:0;if(ye)return this;for(ye=!0;ki<en;ki++)Ot.tweens[ki].run(1);return Yi?(ct.notifyWith(te,[Ot,1,0]),ct.resolveWith(te,[Ot,Yi])):ct.rejectWith(te,[Ot,Yi]),this}}),hi=Ot.props;for(p(hi,Ot.opts.specialEasing);Fe<Ue;Fe++)if(q=A.prefilters[Fe].call(Ot,te,hi,Ot.opts),q)return pe(q.stop)&&(ge._queueHooks(Ot.elem,Ot.opts.queue).stop=q.stop.bind(q)),q;return ge.map(hi,wi,Ot),pe(Ot.opts.start)&&Ot.opts.start.call(te,Ot),Ot.progress(Ot.opts.progress).done(Ot.opts.done,Ot.opts.complete).fail(Ot.opts.fail).always(Ot.opts.always),ge.fx.timer(ge.extend(yt,{elem:te,anim:Ot,queue:Ot.opts.queue})),Ot}ge.Animation=ge.extend(A,{tweeners:{"*":[function(te,y){var G=this.createTween(te,y);return jn(G.elem,te,Rn.exec(y),G),G}]},tweener:function(y,G){pe(y)?(G=y,y=["*"]):y=y.match(we);for(var q,ye=0,Fe=y.length;ye<Fe;ye++)q=y[ye],A.tweeners[q]=A.tweeners[q]||[],A.tweeners[q].unshift(G)},prefilters:[B],prefilter:function(y,G){G?A.prefilters.unshift(y):A.prefilters.push(y)}}),ge.speed=function(te,y,G){var q=te&&K(te)==="object"?ge.extend({},te):{complete:G||!G&&y||pe(te)&&te,duration:te,easing:G&&y||y&&!pe(y)&&y};return ge.fx.off?q.duration=0:typeof q.duration!="number"&&(q.duration in ge.fx.speeds?q.duration=ge.fx.speeds[q.duration]:q.duration=ge.fx.speeds._default),(q.queue==null||q.queue===!0)&&(q.queue="fx"),q.old=q.complete,q.complete=function(){pe(q.old)&&q.old.call(this),q.queue&&ge.dequeue(this,q.queue)},q},ge.fn.extend({fadeTo:function(y,G,q,ye){return this.filter(Tr).css("opacity",0).show().end().animate({opacity:G},y,q,ye)},animate:function(y,G,q,ye){var Fe=ge.isEmptyObject(y),Ue=ge.speed(G,q,ye),ct=function(){var Ot=A(this,ge.extend({},y),Ue);(Fe||Ht.get(this,"finish"))&&Ot.stop(!0)};return ct.finish=ct,Fe||Ue.queue===!1?this.each(ct):this.queue(Ue.queue,ct)},stop:function(y,G,q){var ye=function(Ue){var ct=Ue.stop;delete Ue.stop,ct(q)};return typeof y!="string"&&(q=G,G=y,y=void 0),G&&this.queue(y||"fx",[]),this.each(function(){var Fe=!0,Ue=y!=null&&y+"queueHooks",ct=ge.timers,yt=Ht.get(this);if(Ue)yt[Ue]&&yt[Ue].stop&&ye(yt[Ue]);else for(Ue in yt)yt[Ue]&&yt[Ue].stop&&Ai.test(Ue)&&ye(yt[Ue]);for(Ue=ct.length;Ue--;)ct[Ue].elem===this&&(y==null||ct[Ue].queue===y)&&(ct[Ue].anim.stop(q),Fe=!1,ct.splice(Ue,1));(Fe||!q)&&ge.dequeue(this,y)})},finish:function(y){return y!==!1&&(y=y||"fx"),this.each(function(){var G,q=Ht.get(this),ye=q[y+"queue"],Fe=q[y+"queueHooks"],Ue=ge.timers,ct=ye?ye.length:0;for(q.finish=!0,ge.queue(this,y,[]),Fe&&Fe.stop&&Fe.stop.call(this,!0),G=Ue.length;G--;)Ue[G].elem===this&&Ue[G].queue===y&&(Ue[G].anim.stop(!0),Ue.splice(G,1));for(G=0;G<ct;G++)ye[G]&&ye[G].finish&&ye[G].finish.call(this);delete q.finish})}}),ge.each(["toggle","show","hide"],function(te,y){var G=ge.fn[y];ge.fn[y]=function(q,ye,Fe){return q==null||typeof q=="boolean"?G.apply(this,arguments):this.animate(Xi(y,!0),q,ye,Fe)}}),ge.each({slideDown:Xi("show"),slideUp:Xi("hide"),slideToggle:Xi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(te,y){ge.fn[te]=function(G,q,ye){return this.animate(y,G,q,ye)}}),ge.timers=[],ge.fx.tick=function(){var te,y=0,G=ge.timers;for(Rt=Date.now();y<G.length;y++)te=G[y],!te()&&G[y]===te&&G.splice(y--,1);G.length||ge.fx.stop(),Rt=void 0},ge.fx.timer=function(te){ge.timers.push(te),ge.fx.start()},ge.fx.interval=13,ge.fx.start=function(){It||(It=!0,on())},ge.fx.stop=function(){It=null},ge.fx.speeds={slow:600,fast:200,_default:400},ge.fn.delay=function(te,y){return te=ge.fx&&ge.fx.speeds[te]||te,y=y||"fx",this.queue(y,function(G,q){var ye=_e.setTimeout(G,te);q.stop=function(){_e.clearTimeout(ye)}})},function(){var te=je.createElement("input"),y=je.createElement("select"),G=y.appendChild(je.createElement("option"));te.type="checkbox",Le.checkOn=te.value!=="",Le.optSelected=G.selected,te=je.createElement("input"),te.value="t",te.type="radio",Le.radioValue=te.value==="t"}();var Y,Te=ge.expr.attrHandle;ge.fn.extend({attr:function(y,G){return dt(this,ge.attr,y,G,arguments.length>1)},removeAttr:function(y){return this.each(function(){ge.removeAttr(this,y)})}}),ge.extend({attr:function(y,G,q){var ye,Fe,Ue=y.nodeType;if(!(Ue===3||Ue===8||Ue===2)){if(typeof y.getAttribute>"u")return ge.prop(y,G,q);if((Ue!==1||!ge.isXMLDoc(y))&&(Fe=ge.attrHooks[G.toLowerCase()]||(ge.expr.match.bool.test(G)?Y:void 0)),q!==void 0){if(q===null){ge.removeAttr(y,G);return}return Fe&&"set"in Fe&&(ye=Fe.set(y,q,G))!==void 0?ye:(y.setAttribute(G,q+""),q)}return Fe&&"get"in Fe&&(ye=Fe.get(y,G))!==null?ye:(ye=ge.find.attr(y,G),ye??void 0)}},attrHooks:{type:{set:function(y,G){if(!Le.radioValue&&G==="radio"&&kt(y,"input")){var q=y.value;return y.setAttribute("type",G),q&&(y.value=q),G}}}},removeAttr:function(y,G){var q,ye=0,Fe=G&&G.match(we);if(Fe&&y.nodeType===1)for(;q=Fe[ye++];)y.removeAttribute(q)}}),Y={set:function(y,G,q){return G===!1?ge.removeAttr(y,q):y.setAttribute(q,q),q}},ge.each(ge.expr.match.bool.source.match(/\w+/g),function(te,y){var G=Te[y]||ge.find.attr;Te[y]=function(q,ye,Fe){var Ue,ct,yt=ye.toLowerCase();return Fe||(ct=Te[yt],Te[yt]=Ue,Ue=G(q,ye,Fe)!=null?yt:null,Te[yt]=ct),Ue}});var Ze=/^(?:input|select|textarea|button)$/i,Ke=/^(?:a|area)$/i;ge.fn.extend({prop:function(y,G){return dt(this,ge.prop,y,G,arguments.length>1)},removeProp:function(y){return this.each(function(){delete this[ge.propFix[y]||y]})}}),ge.extend({prop:function(y,G,q){var ye,Fe,Ue=y.nodeType;if(!(Ue===3||Ue===8||Ue===2))return(Ue!==1||!ge.isXMLDoc(y))&&(G=ge.propFix[G]||G,Fe=ge.propHooks[G]),q!==void 0?Fe&&"set"in Fe&&(ye=Fe.set(y,q,G))!==void 0?ye:y[G]=q:Fe&&"get"in Fe&&(ye=Fe.get(y,G))!==null?ye:y[G]},propHooks:{tabIndex:{get:function(y){var G=ge.find.attr(y,"tabindex");return G?parseInt(G,10):Ze.test(y.nodeName)||Ke.test(y.nodeName)&&y.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Le.optSelected||(ge.propHooks.selected={get:function(y){var G=y.parentNode;return G&&G.parentNode&&G.parentNode.selectedIndex,null},set:function(y){var G=y.parentNode;G&&(G.selectedIndex,G.parentNode&&G.parentNode.selectedIndex)}}),ge.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ge.propFix[this.toLowerCase()]=this});function vt(te){var y=te.match(we)||[];return y.join(" ")}function Et(te){return te.getAttribute&&te.getAttribute("class")||""}function Nt(te){return Array.isArray(te)?te:typeof te=="string"?te.match(we)||[]:[]}ge.fn.extend({addClass:function(y){var G,q,ye,Fe,Ue,ct;return pe(y)?this.each(function(yt){ge(this).addClass(y.call(this,yt,Et(this)))}):(G=Nt(y),G.length?this.each(function(){if(ye=Et(this),q=this.nodeType===1&&" "+vt(ye)+" ",q){for(Ue=0;Ue<G.length;Ue++)Fe=G[Ue],q.indexOf(" "+Fe+" ")<0&&(q+=Fe+" ");ct=vt(q),ye!==ct&&this.setAttribute("class",ct)}}):this)},removeClass:function(y){var G,q,ye,Fe,Ue,ct;return pe(y)?this.each(function(yt){ge(this).removeClass(y.call(this,yt,Et(this)))}):arguments.length?(G=Nt(y),G.length?this.each(function(){if(ye=Et(this),q=this.nodeType===1&&" "+vt(ye)+" ",q){for(Ue=0;Ue<G.length;Ue++)for(Fe=G[Ue];q.indexOf(" "+Fe+" ")>-1;)q=q.replace(" "+Fe+" "," ");ct=vt(q),ye!==ct&&this.setAttribute("class",ct)}}):this):this.attr("class","")},toggleClass:function(y,G){var q,ye,Fe,Ue,ct=K(y),yt=ct==="string"||Array.isArray(y);return pe(y)?this.each(function(Ot){ge(this).toggleClass(y.call(this,Ot,Et(this),G),G)}):typeof G=="boolean"&&yt?G?this.addClass(y):this.removeClass(y):(q=Nt(y),this.each(function(){if(yt)for(Ue=ge(this),Fe=0;Fe<q.length;Fe++)ye=q[Fe],Ue.hasClass(ye)?Ue.removeClass(ye):Ue.addClass(ye);else(y===void 0||ct==="boolean")&&(ye=Et(this),ye&&Ht.set(this,"__className__",ye),this.setAttribute&&this.setAttribute("class",ye||y===!1?"":Ht.get(this,"__className__")||""))}))},hasClass:function(y){var G,q,ye=0;for(G=" "+y+" ";q=this[ye++];)if(q.nodeType===1&&(" "+vt(Et(q))+" ").indexOf(G)>-1)return!0;return!1}});var Ri=/\r/g;ge.fn.extend({val:function(y){var G,q,ye,Fe=this[0];return arguments.length?(ye=pe(y),this.each(function(Ue){var ct;this.nodeType===1&&(ye?ct=y.call(this,Ue,ge(this).val()):ct=y,ct==null?ct="":typeof ct=="number"?ct+="":Array.isArray(ct)&&(ct=ge.map(ct,function(yt){return yt==null?"":yt+""})),G=ge.valHooks[this.type]||ge.valHooks[this.nodeName.toLowerCase()],(!G||!("set"in G)||G.set(this,ct,"value")===void 0)&&(this.value=ct))})):Fe?(G=ge.valHooks[Fe.type]||ge.valHooks[Fe.nodeName.toLowerCase()],G&&"get"in G&&(q=G.get(Fe,"value"))!==void 0?q:(q=Fe.value,typeof q=="string"?q.replace(Ri,""):q??"")):void 0}}),ge.extend({valHooks:{option:{get:function(y){var G=ge.find.attr(y,"value");return G??vt(ge.text(y))}},select:{get:function(y){var G,q,ye,Fe=y.options,Ue=y.selectedIndex,ct=y.type==="select-one",yt=ct?null:[],Ot=ct?Ue+1:Fe.length;for(Ue<0?ye=Ot:ye=ct?Ue:0;ye<Ot;ye++)if(q=Fe[ye],(q.selected||ye===Ue)&&!q.disabled&&(!q.parentNode.disabled||!kt(q.parentNode,"optgroup"))){if(G=ge(q).val(),ct)return G;yt.push(G)}return yt},set:function(y,G){for(var q,ye,Fe=y.options,Ue=ge.makeArray(G),ct=Fe.length;ct--;)ye=Fe[ct],(ye.selected=ge.inArray(ge.valHooks.option.get(ye),Ue)>-1)&&(q=!0);return q||(y.selectedIndex=-1),Ue}}}}),ge.each(["radio","checkbox"],function(){ge.valHooks[this]={set:function(y,G){if(Array.isArray(G))return y.checked=ge.inArray(ge(y).val(),G)>-1}},Le.checkOn||(ge.valHooks[this].get=function(te){return te.getAttribute("value")===null?"on":te.value})});var Li=_e.location,vn={guid:Date.now()},Wi=/\?/;ge.parseXML=function(te){var y,G;if(!te||typeof te!="string")return null;try{y=new _e.DOMParser().parseFromString(te,"text/xml")}catch{}return G=y&&y.getElementsByTagName("parsererror")[0],(!y||G)&&ge.error("Invalid XML: "+(G?ge.map(G.childNodes,function(q){return q.textContent}).join(`
`):te)),y};var Cn=/^(?:focusinfocus|focusoutblur)$/,ur=function(y){y.stopPropagation()};ge.extend(ge.event,{trigger:function(y,G,q,ye){var Fe,Ue,ct,yt,Ot,hi,Bi,Yi,ki=[q||je],en=X.call(y,"type")?y.type:y,Xt=X.call(y,"namespace")?y.namespace.split("."):[];if(Ue=Yi=ct=q=q||je,!(q.nodeType===3||q.nodeType===8)&&!Cn.test(en+ge.event.triggered)&&(en.indexOf(".")>-1&&(Xt=en.split("."),en=Xt.shift(),Xt.sort()),Ot=en.indexOf(":")<0&&"on"+en,y=y[ge.expando]?y:new ge.Event(en,K(y)==="object"&&y),y.isTrigger=ye?2:3,y.namespace=Xt.join("."),y.rnamespace=y.namespace?new RegExp("(^|\\.)"+Xt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,y.result=void 0,y.target||(y.target=q),G=G==null?[y]:ge.makeArray(G,[y]),Bi=ge.event.special[en]||{},!(!ye&&Bi.trigger&&Bi.trigger.apply(q,G)===!1))){if(!ye&&!Bi.noBubble&&!ee(q)){for(yt=Bi.delegateType||en,Cn.test(yt+en)||(Ue=Ue.parentNode);Ue;Ue=Ue.parentNode)ki.push(Ue),ct=Ue;ct===(q.ownerDocument||je)&&ki.push(ct.defaultView||ct.parentWindow||_e)}for(Fe=0;(Ue=ki[Fe++])&&!y.isPropagationStopped();)Yi=Ue,y.type=Fe>1?yt:Bi.bindType||en,hi=(Ht.get(Ue,"events")||Object.create(null))[y.type]&&Ht.get(Ue,"handle"),hi&&hi.apply(Ue,G),hi=Ot&&Ue[Ot],hi&&hi.apply&&Ki(Ue)&&(y.result=hi.apply(Ue,G),y.result===!1&&y.preventDefault());return y.type=en,!ye&&!y.isDefaultPrevented()&&(!Bi._default||Bi._default.apply(ki.pop(),G)===!1)&&Ki(q)&&Ot&&pe(q[en])&&!ee(q)&&(ct=q[Ot],ct&&(q[Ot]=null),ge.event.triggered=en,y.isPropagationStopped()&&Yi.addEventListener(en,ur),q[en](),y.isPropagationStopped()&&Yi.removeEventListener(en,ur),ge.event.triggered=void 0,ct&&(q[Ot]=ct)),y.result}},simulate:function(y,G,q){var ye=ge.extend(new ge.Event,q,{type:y,isSimulated:!0});ge.event.trigger(ye,null,G)}}),ge.fn.extend({trigger:function(y,G){return this.each(function(){ge.event.trigger(y,G,this)})},triggerHandler:function(y,G){var q=this[0];if(q)return ge.event.trigger(y,G,q,!0)}});var yr=/\[\]$/,Ur=/\r?\n/g,Ca=/^(?:submit|button|image|reset|file)$/i,no=/^(?:input|select|textarea|keygen)/i;function Pa(te,y,G,q){var ye;if(Array.isArray(y))ge.each(y,function(Fe,Ue){G||yr.test(te)?q(te,Ue):Pa(te+"["+(K(Ue)==="object"&&Ue!=null?Fe:"")+"]",Ue,G,q)});else if(!G&&Gt(y)==="object")for(ye in y)Pa(te+"["+ye+"]",y[ye],G,q);else q(te,y)}ge.param=function(te,y){var G,q=[],ye=function(Ue,ct){var yt=pe(ct)?ct():ct;q[q.length]=encodeURIComponent(Ue)+"="+encodeURIComponent(yt??"")};if(te==null)return"";if(Array.isArray(te)||te.jquery&&!ge.isPlainObject(te))ge.each(te,function(){ye(this.name,this.value)});else for(G in te)Pa(G,te[G],y,ye);return q.join("&")},ge.fn.extend({serialize:function(){return ge.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var y=ge.prop(this,"elements");return y?ge.makeArray(y):this}).filter(function(){var y=this.type;return this.name&&!ge(this).is(":disabled")&&no.test(this.nodeName)&&!Ca.test(y)&&(this.checked||!Un.test(y))}).map(function(y,G){var q=ge(this).val();return q==null?null:Array.isArray(q)?ge.map(q,function(ye){return{name:G.name,value:ye.replace(Ur,`\r
`)}}):{name:G.name,value:q.replace(Ur,`\r
`)}}).get()}});var _a=/%20/g,or=/#.*$/,fo=/([?&])_=[^&]*/,fa=/^(.*?):[ \t]*([^\r\n]*)$/gm,pa=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,da=/^(?:GET|HEAD)$/,Ko=/^\/\//,ro={},Ja={},ga="*/".concat("*"),Ka=je.createElement("a");Ka.href=Li.href;function Ga(te){return function(y,G){typeof y!="string"&&(G=y,y="*");var q,ye=0,Fe=y.toLowerCase().match(we)||[];if(pe(G))for(;q=Fe[ye++];)q[0]==="+"?(q=q.slice(1)||"*",(te[q]=te[q]||[]).unshift(G)):(te[q]=te[q]||[]).push(G)}}function va(te,y,G,q){var ye={},Fe=te===Ja;function Ue(ct){var yt;return ye[ct]=!0,ge.each(te[ct]||[],function(Ot,hi){var Bi=hi(y,G,q);if(typeof Bi=="string"&&!Fe&&!ye[Bi])return y.dataTypes.unshift(Bi),Ue(Bi),!1;if(Fe)return!(yt=Bi)}),yt}return Ue(y.dataTypes[0])||!ye["*"]&&Ue("*")}function $a(te,y){var G,q,ye=ge.ajaxSettings.flatOptions||{};for(G in y)y[G]!==void 0&&((ye[G]?te:q||(q={}))[G]=y[G]);return q&&ge.extend(!0,te,q),te}function Ee(te,y,G){for(var q,ye,Fe,Ue,ct=te.contents,yt=te.dataTypes;yt[0]==="*";)yt.shift(),q===void 0&&(q=te.mimeType||y.getResponseHeader("Content-Type"));if(q){for(ye in ct)if(ct[ye]&&ct[ye].test(q)){yt.unshift(ye);break}}if(yt[0]in G)Fe=yt[0];else{for(ye in G){if(!yt[0]||te.converters[ye+" "+yt[0]]){Fe=ye;break}Ue||(Ue=ye)}Fe=Fe||Ue}if(Fe)return Fe!==yt[0]&&yt.unshift(Fe),G[Fe]}function De(te,y,G,q){var ye,Fe,Ue,ct,yt,Ot={},hi=te.dataTypes.slice();if(hi[1])for(Ue in te.converters)Ot[Ue.toLowerCase()]=te.converters[Ue];for(Fe=hi.shift();Fe;)if(te.responseFields[Fe]&&(G[te.responseFields[Fe]]=y),!yt&&q&&te.dataFilter&&(y=te.dataFilter(y,te.dataType)),yt=Fe,Fe=hi.shift(),Fe){if(Fe==="*")Fe=yt;else if(yt!=="*"&&yt!==Fe){if(Ue=Ot[yt+" "+Fe]||Ot["* "+Fe],!Ue){for(ye in Ot)if(ct=ye.split(" "),ct[1]===Fe&&(Ue=Ot[yt+" "+ct[0]]||Ot["* "+ct[0]],Ue)){Ue===!0?Ue=Ot[ye]:Ot[ye]!==!0&&(Fe=ct[0],hi.unshift(ct[1]));break}}if(Ue!==!0)if(Ue&&te.throws)y=Ue(y);else try{y=Ue(y)}catch(Bi){return{state:"parsererror",error:Ue?Bi:"No conversion from "+yt+" to "+Fe}}}}return{state:"success",data:y}}ge.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Li.href,type:"GET",isLocal:pa.test(Li.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ga,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ge.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(y,G){return G?$a($a(y,ge.ajaxSettings),G):$a(ge.ajaxSettings,y)},ajaxPrefilter:Ga(ro),ajaxTransport:Ga(Ja),ajax:function(y,G){K(y)==="object"&&(G=y,y=void 0),G=G||{};var q,ye,Fe,Ue,ct,yt,Ot,hi,Bi,Yi,ki=ge.ajaxSetup({},G),en=ki.context||ki,Xt=ki.context&&(en.nodeType||en.jquery)?ge(en):ge.event,zi=ge.Deferred(),St=ge.Callbacks("once memory"),Pt=ki.statusCode||{},fi={},mi={},qi="canceled",Ni={readyState:0,getResponseHeader:function(bn){var Bn;if(Ot){if(!Ue)for(Ue={};Bn=fa.exec(Fe);)Ue[Bn[1].toLowerCase()+" "]=(Ue[Bn[1].toLowerCase()+" "]||[]).concat(Bn[2]);Bn=Ue[bn.toLowerCase()+" "]}return Bn==null?null:Bn.join(", ")},getAllResponseHeaders:function(){return Ot?Fe:null},setRequestHeader:function(bn,Bn){return Ot==null&&(bn=mi[bn.toLowerCase()]=mi[bn.toLowerCase()]||bn,fi[bn]=Bn),this},overrideMimeType:function(bn){return Ot==null&&(ki.mimeType=bn),this},statusCode:function(bn){var Bn;if(bn)if(Ot)Ni.always(bn[Ni.status]);else for(Bn in bn)Pt[Bn]=[Pt[Bn],bn[Bn]];return this},abort:function(bn){var Bn=bn||qi;return q&&q.abort(Bn),kn(0,Bn),this}};if(zi.promise(Ni),ki.url=((y||ki.url||Li.href)+"").replace(Ko,Li.protocol+"//"),ki.type=G.method||G.type||ki.method||ki.type,ki.dataTypes=(ki.dataType||"*").toLowerCase().match(we)||[""],ki.crossDomain==null){yt=je.createElement("a");try{yt.href=ki.url,yt.href=yt.href,ki.crossDomain=Ka.protocol+"//"+Ka.host!=yt.protocol+"//"+yt.host}catch{ki.crossDomain=!0}}if(ki.data&&ki.processData&&typeof ki.data!="string"&&(ki.data=ge.param(ki.data,ki.traditional)),va(ro,ki,G,Ni),Ot)return Ni;hi=ge.event&&ki.global,hi&&ge.active++===0&&ge.event.trigger("ajaxStart"),ki.type=ki.type.toUpperCase(),ki.hasContent=!da.test(ki.type),ye=ki.url.replace(or,""),ki.hasContent?ki.data&&ki.processData&&(ki.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ki.data=ki.data.replace(_a,"+")):(Yi=ki.url.slice(ye.length),ki.data&&(ki.processData||typeof ki.data=="string")&&(ye+=(Wi.test(ye)?"&":"?")+ki.data,delete ki.data),ki.cache===!1&&(ye=ye.replace(fo,"$1"),Yi=(Wi.test(ye)?"&":"?")+"_="+vn.guid+++Yi),ki.url=ye+Yi),ki.ifModified&&(ge.lastModified[ye]&&Ni.setRequestHeader("If-Modified-Since",ge.lastModified[ye]),ge.etag[ye]&&Ni.setRequestHeader("If-None-Match",ge.etag[ye])),(ki.data&&ki.hasContent&&ki.contentType!==!1||G.contentType)&&Ni.setRequestHeader("Content-Type",ki.contentType),Ni.setRequestHeader("Accept",ki.dataTypes[0]&&ki.accepts[ki.dataTypes[0]]?ki.accepts[ki.dataTypes[0]]+(ki.dataTypes[0]!=="*"?", "+ga+"; q=0.01":""):ki.accepts["*"]);for(Bi in ki.headers)Ni.setRequestHeader(Bi,ki.headers[Bi]);if(ki.beforeSend&&(ki.beforeSend.call(en,Ni,ki)===!1||Ot))return Ni.abort();if(qi="abort",St.add(ki.complete),Ni.done(ki.success),Ni.fail(ki.error),q=va(Ja,ki,G,Ni),!q)kn(-1,"No Transport");else{if(Ni.readyState=1,hi&&Xt.trigger("ajaxSend",[Ni,ki]),Ot)return Ni;ki.async&&ki.timeout>0&&(ct=_e.setTimeout(function(){Ni.abort("timeout")},ki.timeout));try{Ot=!1,q.send(fi,kn)}catch(In){if(Ot)throw In;kn(-1,In)}}function kn(In,bn,Bn,hr){var Xn,xr,lr,Hn,Zr,ra=bn;Ot||(Ot=!0,ct&&_e.clearTimeout(ct),q=void 0,Fe=hr||"",Ni.readyState=In>0?4:0,Xn=In>=200&&In<300||In===304,Bn&&(Hn=Ee(ki,Ni,Bn)),!Xn&&ge.inArray("script",ki.dataTypes)>-1&&ge.inArray("json",ki.dataTypes)<0&&(ki.converters["text script"]=function(){}),Hn=De(ki,Hn,Ni,Xn),Xn?(ki.ifModified&&(Zr=Ni.getResponseHeader("Last-Modified"),Zr&&(ge.lastModified[ye]=Zr),Zr=Ni.getResponseHeader("etag"),Zr&&(ge.etag[ye]=Zr)),In===204||ki.type==="HEAD"?ra="nocontent":In===304?ra="notmodified":(ra=Hn.state,xr=Hn.data,lr=Hn.error,Xn=!lr)):(lr=ra,(In||!ra)&&(ra="error",In<0&&(In=0))),Ni.status=In,Ni.statusText=(bn||ra)+"",Xn?zi.resolveWith(en,[xr,ra,Ni]):zi.rejectWith(en,[Ni,ra,lr]),Ni.statusCode(Pt),Pt=void 0,hi&&Xt.trigger(Xn?"ajaxSuccess":"ajaxError",[Ni,ki,Xn?xr:lr]),St.fireWith(en,[Ni,ra]),hi&&(Xt.trigger("ajaxComplete",[Ni,ki]),--ge.active||ge.event.trigger("ajaxStop")))}return Ni},getJSON:function(y,G,q){return ge.get(y,G,q,"json")},getScript:function(y,G){return ge.get(y,void 0,G,"script")}}),ge.each(["get","post"],function(te,y){ge[y]=function(G,q,ye,Fe){return pe(q)&&(Fe=Fe||ye,ye=q,q=void 0),ge.ajax(ge.extend({url:G,type:y,dataType:Fe,data:q,success:ye},ge.isPlainObject(G)&&G))}}),ge.ajaxPrefilter(function(te){var y;for(y in te.headers)y.toLowerCase()==="content-type"&&(te.contentType=te.headers[y]||"")}),ge._evalUrl=function(te,y,G){return ge.ajax({url:te,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ye){ge.globalEval(ye,y,G)}})},ge.fn.extend({wrapAll:function(y){var G;return this[0]&&(pe(y)&&(y=y.call(this[0])),G=ge(y,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&G.insertBefore(this[0]),G.map(function(){for(var q=this;q.firstElementChild;)q=q.firstElementChild;return q}).append(this)),this},wrapInner:function(y){return pe(y)?this.each(function(G){ge(this).wrapInner(y.call(this,G))}):this.each(function(){var G=ge(this),q=G.contents();q.length?q.wrapAll(y):G.append(y)})},wrap:function(y){var G=pe(y);return this.each(function(q){ge(this).wrapAll(G?y.call(this,q):y)})},unwrap:function(y){return this.parent(y).not("body").each(function(){ge(this).replaceWith(this.childNodes)}),this}}),ge.expr.pseudos.hidden=function(te){return!ge.expr.pseudos.visible(te)},ge.expr.pseudos.visible=function(te){return!!(te.offsetWidth||te.offsetHeight||te.getClientRects().length)},ge.ajaxSettings.xhr=function(){try{return new _e.XMLHttpRequest}catch{}};var He={0:200,1223:204},lt=ge.ajaxSettings.xhr();Le.cors=!!lt&&"withCredentials"in lt,Le.ajax=lt=!!lt,ge.ajaxTransport(function(te){var y,G;if(Le.cors||lt&&!te.crossDomain)return{send:function(ye,Fe){var Ue,ct=te.xhr();if(ct.open(te.type,te.url,te.async,te.username,te.password),te.xhrFields)for(Ue in te.xhrFields)ct[Ue]=te.xhrFields[Ue];te.mimeType&&ct.overrideMimeType&&ct.overrideMimeType(te.mimeType),!te.crossDomain&&!ye["X-Requested-With"]&&(ye["X-Requested-With"]="XMLHttpRequest");for(Ue in ye)ct.setRequestHeader(Ue,ye[Ue]);y=function(Ot){return function(){y&&(y=G=ct.onload=ct.onerror=ct.onabort=ct.ontimeout=ct.onreadystatechange=null,Ot==="abort"?ct.abort():Ot==="error"?typeof ct.status!="number"?Fe(0,"error"):Fe(ct.status,ct.statusText):Fe(He[ct.status]||ct.status,ct.statusText,(ct.responseType||"text")!=="text"||typeof ct.responseText!="string"?{binary:ct.response}:{text:ct.responseText},ct.getAllResponseHeaders()))}},ct.onload=y(),G=ct.onerror=ct.ontimeout=y("error"),ct.onabort!==void 0?ct.onabort=G:ct.onreadystatechange=function(){ct.readyState===4&&_e.setTimeout(function(){y&&G()})},y=y("abort");try{ct.send(te.hasContent&&te.data||null)}catch(yt){if(y)throw yt}},abort:function(){y&&y()}}}),ge.ajaxPrefilter(function(te){te.crossDomain&&(te.contents.script=!1)}),ge.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(y){return ge.globalEval(y),y}}}),ge.ajaxPrefilter("script",function(te){te.cache===void 0&&(te.cache=!1),te.crossDomain&&(te.type="GET")}),ge.ajaxTransport("script",function(te){if(te.crossDomain||te.scriptAttrs){var y,G;return{send:function(ye,Fe){y=ge("<script>").attr(te.scriptAttrs||{}).prop({charset:te.scriptCharset,src:te.url}).on("load error",G=function(ct){y.remove(),G=null,ct&&Fe(ct.type==="error"?404:200,ct.type)}),je.head.appendChild(y[0])},abort:function(){G&&G()}}}});var Bt=[],oi=/(=)\?(?=&|$)|\?\?/;ge.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var y=Bt.pop()||ge.expando+"_"+vn.guid++;return this[y]=!0,y}}),ge.ajaxPrefilter("json jsonp",function(te,y,G){var q,ye,Fe,Ue=te.jsonp!==!1&&(oi.test(te.url)?"url":typeof te.data=="string"&&(te.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&oi.test(te.data)&&"data");if(Ue||te.dataTypes[0]==="jsonp")return q=te.jsonpCallback=pe(te.jsonpCallback)?te.jsonpCallback():te.jsonpCallback,Ue?te[Ue]=te[Ue].replace(oi,"$1"+q):te.jsonp!==!1&&(te.url+=(Wi.test(te.url)?"&":"?")+te.jsonp+"="+q),te.converters["script json"]=function(){return Fe||ge.error(q+" was not called"),Fe[0]},te.dataTypes[0]="json",ye=_e[q],_e[q]=function(){Fe=arguments},G.always(function(){ye===void 0?ge(_e).removeProp(q):_e[q]=ye,te[q]&&(te.jsonpCallback=y.jsonpCallback,Bt.push(q)),Fe&&pe(ye)&&ye(Fe[0]),Fe=ye=void 0}),"script"}),Le.createHTMLDocument=function(){var te=je.implementation.createHTMLDocument("").body;return te.innerHTML="<form></form><form></form>",te.childNodes.length===2}(),ge.parseHTML=function(te,y,G){if(typeof te!="string")return[];typeof y=="boolean"&&(G=y,y=!1);var q,ye,Fe;return y||(Le.createHTMLDocument?(y=je.implementation.createHTMLDocument(""),q=y.createElement("base"),q.href=je.location.href,y.head.appendChild(q)):y=je),ye=pi.exec(te),Fe=!G&&[],ye?[y.createElement(ye[1])]:(ye=ka([te],y,Fe),Fe&&Fe.length&&ge(Fe).remove(),ge.merge([],ye.childNodes))},ge.fn.load=function(te,y,G){var q,ye,Fe,Ue=this,ct=te.indexOf(" ");return ct>-1&&(q=vt(te.slice(ct)),te=te.slice(0,ct)),pe(y)?(G=y,y=void 0):y&&K(y)==="object"&&(ye="POST"),Ue.length>0&&ge.ajax({url:te,type:ye||"GET",dataType:"html",data:y}).done(function(yt){Fe=arguments,Ue.html(q?ge("<div>").append(ge.parseHTML(yt)).find(q):yt)}).always(G&&function(yt,Ot){Ue.each(function(){G.apply(this,Fe||[yt.responseText,Ot,yt])})}),this},ge.expr.pseudos.animated=function(te){return ge.grep(ge.timers,function(y){return te===y.elem}).length},ge.offset={setOffset:function(y,G,q){var ye,Fe,Ue,ct,yt,Ot,hi,Bi=ge.css(y,"position"),Yi=ge(y),ki={};Bi==="static"&&(y.style.position="relative"),yt=Yi.offset(),Ue=ge.css(y,"top"),Ot=ge.css(y,"left"),hi=(Bi==="absolute"||Bi==="fixed")&&(Ue+Ot).indexOf("auto")>-1,hi?(ye=Yi.position(),ct=ye.top,Fe=ye.left):(ct=parseFloat(Ue)||0,Fe=parseFloat(Ot)||0),pe(G)&&(G=G.call(y,q,ge.extend({},yt))),G.top!=null&&(ki.top=G.top-yt.top+ct),G.left!=null&&(ki.left=G.left-yt.left+Fe),"using"in G?G.using.call(y,ki):Yi.css(ki)}},ge.fn.extend({offset:function(y){if(arguments.length)return y===void 0?this:this.each(function(Fe){ge.offset.setOffset(this,y,Fe)});var G,q,ye=this[0];if(ye)return ye.getClientRects().length?(G=ye.getBoundingClientRect(),q=ye.ownerDocument.defaultView,{top:G.top+q.pageYOffset,left:G.left+q.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var y,G,q,ye=this[0],Fe={top:0,left:0};if(ge.css(ye,"position")==="fixed")G=ye.getBoundingClientRect();else{for(G=this.offset(),q=ye.ownerDocument,y=ye.offsetParent||q.documentElement;y&&(y===q.body||y===q.documentElement)&&ge.css(y,"position")==="static";)y=y.parentNode;y&&y!==ye&&y.nodeType===1&&(Fe=ge(y).offset(),Fe.top+=ge.css(y,"borderTopWidth",!0),Fe.left+=ge.css(y,"borderLeftWidth",!0))}return{top:G.top-Fe.top-ge.css(ye,"marginTop",!0),left:G.left-Fe.left-ge.css(ye,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var y=this.offsetParent;y&&ge.css(y,"position")==="static";)y=y.offsetParent;return y||xn})}}),ge.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(te,y){var G=y==="pageYOffset";ge.fn[te]=function(q){return dt(this,function(ye,Fe,Ue){var ct;if(ee(ye)?ct=ye:ye.nodeType===9&&(ct=ye.defaultView),Ue===void 0)return ct?ct[y]:ye[Fe];ct?ct.scrollTo(G?ct.pageXOffset:Ue,G?Ue:ct.pageYOffset):ye[Fe]=Ue},te,q,arguments.length)}}),ge.each(["top","left"],function(te,y){ge.cssHooks[y]=l(Le.pixelPosition,function(G,q){if(q)return q=f(G,y),qa.test(q)?ge(G).position()[y]+"px":q})}),ge.each({Height:"height",Width:"width"},function(te,y){ge.each({padding:"inner"+te,content:y,"":"outer"+te},function(G,q){ge.fn[q]=function(ye,Fe){var Ue=arguments.length&&(G||typeof ye!="boolean"),ct=G||(ye===!0||Fe===!0?"margin":"border");return dt(this,function(yt,Ot,hi){var Bi;return ee(yt)?q.indexOf("outer")===0?yt["inner"+te]:yt.document.documentElement["client"+te]:yt.nodeType===9?(Bi=yt.documentElement,Math.max(yt.body["scroll"+te],Bi["scroll"+te],yt.body["offset"+te],Bi["offset"+te],Bi["client"+te])):hi===void 0?ge.css(yt,Ot,ct):ge.style(yt,Ot,hi,ct)},y,Ue?ye:void 0,Ue)}})}),ge.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(te,y){ge.fn[y]=function(G){return this.on(y,G)}}),ge.fn.extend({bind:function(y,G,q){return this.on(y,null,G,q)},unbind:function(y,G){return this.off(y,null,G)},delegate:function(y,G,q,ye){return this.on(G,y,q,ye)},undelegate:function(y,G,q){return arguments.length===1?this.off(y,"**"):this.off(G,y||"**",q)},hover:function(y,G){return this.on("mouseenter",y).on("mouseleave",G||y)}}),ge.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(te,y){ge.fn[y]=function(G,q){return arguments.length>0?this.on(y,null,G,q):this.trigger(y)}});var Ti=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;ge.proxy=function(te,y){var G,q,ye;if(typeof y=="string"&&(G=te[y],y=te,te=G),!!pe(te))return q=ie.call(arguments,2),ye=function(){return te.apply(y||this,q.concat(ie.call(arguments)))},ye.guid=te.guid=te.guid||ge.guid++,ye},ge.holdReady=function(te){te?ge.readyWait++:ge.ready(!0)},ge.isArray=Array.isArray,ge.parseJSON=JSON.parse,ge.nodeName=kt,ge.isFunction=pe,ge.isWindow=ee,ge.camelCase=gi,ge.type=Gt,ge.now=Date.now,ge.isNumeric=function(te){var y=ge.type(te);return(y==="number"||y==="string")&&!isNaN(te-parseFloat(te))},ge.trim=function(te){return te==null?"":(te+"").replace(Ti,"$1")};var $i=_e.jQuery,sr=_e.$;return ge.noConflict=function(te){return _e.$===ge&&(_e.$=sr),te&&_e.jQuery===ge&&(_e.jQuery=$i),ge},typeof M>"u"&&(_e.jQuery=_e.$=ge),ge})})(pt);var rt=pt.exports,We=n(rt),ft=function(){var H=null,_e=Symbol("CANVAS"),M=Symbol("CONTEXT"),z=Symbol("SHAPES"),ce=Symbol("DRAWSTATUS"),ie=Symbol("SHAPETYPE"),Oe=Symbol("MAXSHAPENUMSUPPORT"),Qe=Symbol("SHAPESTYLE"),st=Symbol("POLYGONDRAWING"),D=Symbol("CURRENTSHAPEINFO"),Xe=Symbol("DRAWSHAPEMULTIONETIME"),X=Symbol("EVENTCALLBACK");function Ce(){H[M].clearRect(0,0,H.m_iCanvasWidth,H.m_iCanvasHeight);for(var ge=0,Ji=H[z].length;ge<Ji;ge++)H[z][ge].draw()}function ve(ge){var Ji=H[z].length;Ji<H[Oe]&&H[z].push(ge)}function Le(){var ge=!1,Ji={},kt=0,Lt=0,Tt=0,jt=0,Dt=0,Ft=0,Kt="draw",wt=null;function si(){for(var ht=-1,Ii=0,ji=H[z].length;Ii<ji;Ii++)if(H[z][Ii].m_bChoosed){ht=Ii;break}return ht}H[_e][0].oncontextmenu=function(){return!1},H[_e][0].onselectstart=function(){return!1},H[_e].unbind(),H[_e].bind("mousedown",function(ht){if(ht.button===2)H[st]&&wt&&wt.m_aPoint.length>=wt.m_iMinClosed&&(wt.m_bClosed=!0,H[st]=!1,wt.setPointInfo(wt.m_aPoint),ve(wt),Ce(),ge=!1,H[Xe]||(H[ce]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(wt.m_szType,"onDrawEnd",wt.m_szId));else if(ht.button===0){if(ge){if(Math.abs(ht.offsetX-kt)>2&&Math.abs(ht.offsetY-Lt)>2&&(ve(wt),H[Xe]||(H[ce]=!1)),H[X]){var Ii={startPos:[],endPos:[]};Ii.startPos=[kt,Lt],Ii.endPos=[ht.offsetX,ht.offsetY],H[X]&&H[X](Ii),H.clearAllShape()}wt=null,ge=!1;return}if(kt=ht.offsetX,Lt=ht.offsetY,Kt="draw",!H[st]){var ji=si();if(ji!==-1&&H[z][ji].inArc(ht.offsetX,ht.offsetY,5)&&(Kt="stretch"),Kt!=="stretch")for(var Zi=0,pi=H[z].length;Zi<pi;Zi++)H[z][Zi].inShape(ht.offsetX,ht.offsetY)&&H[z][Zi].m_iEditType!==2?(H[z][Zi].m_bChoosed=!0,H[z][Zi].getMouseDownPoints(ht.offsetX,ht.offsetY),Kt="drag",window.onDrawShapeEvent&&window.onDrawShapeEvent(H[z][Zi].m_szType,"onChoose",H[z][Zi].m_szId)):H[z][Zi].m_bChoosed=!1;Kt==="drag"?H[_e][0].style.cursor="move":H[_e][0].style.cursor="default",Kt==="draw"&&H[z].length===1&&H[z][0].m_iRedrawMode===1&&(H.deleteRepeatPolyonById(H[z][0].m_szId),H[ce]=!0),H[ce]&&!H[Xe]&&(Kt="draw")}if(Kt==="draw"&&H[ce]){if(H[Oe]<=H[z].length&&H[ie]!=="Grid"&&H[ie]!=="Point")return;H[ie]==="Rect"?(wt=new ee,wt.m_szTips=H[D].szTips||""):H[ie]==="Grid"?H[z].length===0&&(wt=new mt,ve(wt)):H[ie]==="Polygon"?(H[st]||(H[st]=!0,wt=new Gt,wt.m_szId=H[D].szId||"",wt.m_szTips=H[D].szTips||"",wt.m_iMinClosed=H[D].iMinClosed||3,wt.m_iMaxPointNum=H[D].iMaxPointNum||11,wt.m_iPolygonType=H[D].iPolygonType,wt.m_szDrawColor=H[D].szDrawColor,wt.m_szFillColor=H[D].szFillColor,wt.m_iTranslucent=H[D].iTranslucent,wt.m_iRedrawMode=H[D].iRedrawMode),wt.m_iPolygonType===1&&(wt.addPoint(kt,Lt),wt.m_aPoint.length===wt.m_iMaxPointNum&&(wt.m_bClosed=!0,H[st]=!1,ve(wt),Ce(),ge=!1,H[Xe]||(H[ce]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(wt.m_szType,"onDrawEnd",wt.m_szId)))):H[ie]==="Point"&&(H.clearShapeByType("Point"),wt=new li,wt.m_szId=H[D].szId||"",wt.m_szDrawColor=H[D].szDrawColor,wt.setPointInfo([[kt,Lt]]),ve(wt),Ce())}ge=!0}}),H[_e].bind("mouseenter",function(ht){Ji={isIn:!0,offsetX:ht.offsetX,offsetY:ht.offsetY},H[ce]&&ge&&(H[ie]==="Rect"?wt.move([[kt,Lt],[ht.offsetX,ht.offsetY]]):H[ie]==="Grid"&&H[z][0].move(kt,Lt,ht.offsetX,ht.offsetY))}),H[_e].bind("mouseleave",function(ht){Ji={isIn:!1,offsetX:ht.offsetX,offsetY:ht.offsetY}}),H[_e].bind("mousemove",function(ht){if(H[st])H[ce]&&ge&&(H[ie]==="Polygon"&&wt.m_iPolygonType===0&&(wt.m_bClosed=!0),Ce(),wt.move(ht.offsetX,ht.offsetY,kt,Lt));else{var Ii=si();Ii>-1?ge&&(Kt==="drag"?(H[z][Ii].drag(ht.offsetX,ht.offsetY),window.onDrawShapeEvent&&window.onDrawShapeEvent(H[z][Ii].m_szType,"onDrag",H[z][Ii].m_szId)):Kt==="stretch"&&(H[z][Ii].stretch(ht.offsetX,ht.offsetY),window.onDrawShapeEvent&&window.onDrawShapeEvent(H[z][Ii].m_szType,"onStretch",H[z][Ii].m_szId))):H[ce]&&ge&&Ji.isIn&&(H[ie]==="Rect"?wt.move([[kt,Lt],[ht.offsetX,ht.offsetY]]):H[ie]==="Grid"&&H[z][0].move(kt,Lt,ht.offsetX,ht.offsetY))}}),H[_e].bind("mouseup",function(ht){if(H[_e][0].style.cursor="default",wt!==null&&typeof wt<"u"&&Kt==="draw")if(H[ie]==="Rect"){if(Math.abs(ht.offsetX-kt)>2&&Math.abs(ht.offsetY-Lt)>2&&(ve(wt),H[Xe]||(H[ce]=!1)),H[X]){var Ii={startPos:[],endPos:[]};Ii.startPos=[kt,Lt],Ii.endPos=[ht.offsetX,ht.offsetY],H[X]&&H[X](Ii),H.clearAllShape()}wt=null}else H[ie]==="Polygon"&&wt.m_iPolygonType===0&&H[st]&&Math.abs(ht.offsetX-kt)>2&&Math.abs(ht.offsetY-Lt)>2&&(ve(wt),H[st]=!1,H[Xe]||(H[ce]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(wt.m_szType,"onDrawEnd",wt.m_szId));H[st]?ge=!0:ge=!1,H[st]||Ce()}),H[_e].bind("dblclick",function(){H[ce]&&H[ie]==="Grid"&&(H[z][0].m_szGridMap="fffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffc",Ce())}),H[_e].bind("touchstart",function(ht){var Ii=ht.target.getBoundingClientRect();if(console.log("开始触摸：",ht,Ii),ht.touches&&ht.touches[0]){if(Tt=parseInt(ht.touches[0].clientX-Ii.x)>0?parseInt(ht.touches[0].clientX-Ii.x):0,jt=parseInt(ht.touches[0].clientY-Ii.y)>0?parseInt(ht.touches[0].clientY-Ii.y):0,Kt="draw",H[ce]){if(H[Oe]<=H[z].length&&H[ie]!=="Grid"&&H[ie]!=="Point")return;H[ie]==="Rect"?(wt=new ee,wt.m_szTips=H[D].szTips||""):H[ie]==="Grid"?H[z].length===0&&(wt=new mt,ve(wt)):H[ie]==="Polygon"?(H[st]||(H[st]=!0,wt=new Gt,wt.m_szId=H[D].szId||"",wt.m_szTips=H[D].szTips||"",wt.m_iMinClosed=H[D].iMinClosed||3,wt.m_iMaxPointNum=H[D].iMaxPointNum||11,wt.m_iPolygonType=H[D].iPolygonType,wt.m_szDrawColor=H[D].szDrawColor,wt.m_szFillColor=H[D].szFillColor,wt.m_iTranslucent=H[D].iTranslucent,wt.m_iRedrawMode=H[D].iRedrawMode),wt.m_iPolygonType===1&&(wt.addPoint(Tt,jt),wt.m_aPoint.length===wt.m_iMaxPointNum&&(wt.m_bClosed=!0,H[st]=!1,ve(wt),Ce(),ge=!1,H[Xe]||(H[ce]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(wt.m_szType,"onDrawEnd",wt.m_szId)))):H[ie]==="Point"&&(H.clearShapeByType("Point"),wt=new li,wt.m_szId=H[D].szId||"",wt.m_szDrawColor=H[D].szDrawColor,wt.setPointInfo([[Tt,jt]]),ve(wt),Ce())}ge=!0}}),H[_e].bind("touchmove",function(ht){var Ii=ht.target.getBoundingClientRect();if(ht.touches&&ht.touches[0])if(Dt=parseInt(ht.touches[0].clientX-Ii.x)>0?parseInt(ht.touches[0].clientX-Ii.x):0,Ft=parseInt(ht.touches[0].clientY-Ii.y)>0?parseInt(ht.touches[0].clientY-Ii.y):0,H[st])H[ce]&&ge&&(H[ie]==="Polygon"&&wt.m_iPolygonType===0&&(wt.m_bClosed=!0),Ce(),wt.move(ht.touches[0].offsetX,ht.touches[0].offsetY,Tt,jt));else{var ji=si();ji>-1?ge&&(Kt==="drag"?(H[z][ji].drag(Dt,Ft),window.onDrawShapeEvent&&window.onDrawShapeEvent(H[z][ji].m_szType,"onDrag",H[z][ji].m_szId)):Kt==="stretch"&&(H[z][ji].stretch(Dt,Ft),window.onDrawShapeEvent&&window.onDrawShapeEvent(H[z][ji].m_szType,"onStretch",H[z][ji].m_szId))):H[ce]&&ge&&(H[ie]==="Rect"?wt.move([[Tt*2,jt*2],[Dt*2,Ft*2]]):H[ie]==="Grid"&&H[z][0].move(Tt,jt,Dt,Ft))}}),H[_e].bind("touchend",function(ht){if(!(Tt==Dt&&jt==Ft)){if(H[_e][0].style.cursor="default",wt!==null&&typeof wt<"u"&&Kt==="draw")if(H[ie]==="Rect"){if(Math.abs(Dt-Tt)>2&&Math.abs(Ft-jt)>2&&(ve(wt),H[Xe]||(H[ce]=!1)),H[X]&&Math.abs(Dt-Tt)>15&&Math.abs(Ft-jt)>15){var Ii={startPos:[],endPos:[]};Ii.startPos=[Tt,jt],Ii.endPos=[Dt,Ft],H[X]&&H[X](Ii)}H.clearAllShape(),wt=null}else H[ie]==="Polygon"&&wt.m_iPolygonType===0&&H[st]&&Math.abs(Dt-Tt)>2&&Math.abs(Ft-jt)>2&&(ve(wt),H[st]=!1,H[Xe]||(H[ce]=!1),window.onDrawShapeEvent&&window.onDrawShapeEvent(wt.m_szType,"onDrawEnd",wt.m_szId));H[st]?ge=!0:ge=!1,H[st]||Ce()}})}var pe=function(){function ge(){fe(this,ge),this.m_szId="",this.m_aPoint=[],this.m_bChoosed=!1,this.m_szDrawColor=H[Qe].szDrawColor,this.m_szFillColor=H[Qe].szFillColor,this.m_iTranslucent=H[Qe].iTranslucent,this.m_iIndexChoosePoint=-1,this.m_iDriftStartX=0,this.m_iDriftStartY=0,this.m_oEdgePoints={top:{x:0,y:0},left:{x:0,y:0},right:{x:0,y:0},bottom:{x:0,y:0}},this.m_szTips="",this.m_iEditType=0,this.m_iMinClosed=3,this.m_iMaxPointNum=11,this.m_bClosed=!1,this.m_iRedrawMode=0}return ot(ge,[{key:"draw",value:function(){}},{key:"drag",value:function(kt,Lt){if(this.m_iEditType!==2){var Tt=this.m_aPoint.length,jt=0;for(jt=0;jt<Tt;jt++)if(this.m_aPoint[jt][0]+kt-this.m_iDriftStartX>H.m_iCanvasWidth||this.m_aPoint[jt][1]+Lt-this.m_iDriftStartY>H.m_iCanvasHeight||this.m_aPoint[jt][0]+kt-this.m_iDriftStartX<0||this.m_aPoint[jt][1]+Lt-this.m_iDriftStartY<0){this.m_iDriftStartX=kt,this.m_iDriftStartY=Lt;return}for(jt=0;jt<Tt;jt++)this.m_aPoint[jt][0]=this.m_aPoint[jt][0]+kt-this.m_iDriftStartX,this.m_aPoint[jt][1]=this.m_aPoint[jt][1]+Lt-this.m_iDriftStartY;this.m_iDriftStartX=kt,this.m_iDriftStartY=Lt,this.setPointInfo(this.m_aPoint),Ce()}}},{key:"stretch",value:function(kt,Lt){this.m_iEditType===0&&(this.m_iIndexChoosePoint!==-1&&(this.m_aPoint[this.m_iIndexChoosePoint][0]=kt,this.m_aPoint[this.m_iIndexChoosePoint][1]=Lt),this.setPointInfo(this.m_aPoint),Ce())}},{key:"inShape",value:function(kt,Lt){for(var Tt=!1,jt=this.m_aPoint.length,Dt=0,Ft=jt-1;Dt<jt;Ft=Dt++)this.m_aPoint[Dt][1]>Lt!=this.m_aPoint[Ft][1]>Lt&&kt<(this.m_aPoint[Ft][0]-this.m_aPoint[Dt][0])*(Lt-this.m_aPoint[Dt][1])/(this.m_aPoint[Ft][1]-this.m_aPoint[Dt][1])+this.m_aPoint[Dt][0]&&(Tt=!Tt);return Tt}},{key:"inArc",value:function(kt,Lt,Tt){for(var jt=!1,Dt=0,Ft=this.m_aPoint.length;Dt<Ft;Dt++){var Kt=Math.sqrt((kt-this.m_aPoint[Dt][0])*(kt-this.m_aPoint[Dt][0])+(Lt-this.m_aPoint[Dt][1])*(Lt-this.m_aPoint[Dt][1]));if(Kt<Tt){jt=!0,this.m_iIndexChoosePoint=Dt;break}}return jt}},{key:"getMouseDownPoints",value:function(kt,Lt){this.m_iDriftStartX=kt,this.m_iDriftStartY=Lt}},{key:"getPointInfo",value:function(){return this.m_aPoint}},{key:"setPointInfo",value:function(kt){kt!==null&&typeof kt<"u"&&kt.length>0&&(this.m_aPoint=kt,this.setEdgePoints(kt))}},{key:"addPoint",value:function(kt,Lt){this.m_aPoint.length<this.m_iMaxPointNum&&this.m_aPoint.push([kt,Lt]),this.m_aPoint.length===this.m_iMaxPointNum&&this.setPointInfo(this.m_aPoint)}},{key:"setEdgePoints",value:function(kt){for(var Lt=0,Tt=kt.length;Lt<Tt;Lt++)Lt===0?(this.m_oEdgePoints.top.x=kt[Lt][0],this.m_oEdgePoints.top.y=kt[Lt][1],this.m_oEdgePoints.left.x=kt[Lt][0],this.m_oEdgePoints.left.y=kt[Lt][1],this.m_oEdgePoints.right.x=kt[Lt][0],this.m_oEdgePoints.right.y=kt[Lt][1],this.m_oEdgePoints.bottom.x=kt[Lt][0],this.m_oEdgePoints.bottom.y=kt[Lt][1]):(kt[Lt][1]<this.m_oEdgePoints.top.y&&(this.m_oEdgePoints.top.x=kt[Lt][0],this.m_oEdgePoints.top.y=kt[Lt][1]),kt[Lt][0]>this.m_oEdgePoints.right.x&&(this.m_oEdgePoints.right.x=kt[Lt][0],this.m_oEdgePoints.right.y=kt[Lt][1]),kt[Lt][1]>this.m_oEdgePoints.bottom.y&&(this.m_oEdgePoints.bottom.x=kt[Lt][0],this.m_oEdgePoints.bottom.y=kt[Lt][1]),kt[Lt][0]<this.m_oEdgePoints.left.x&&(this.m_oEdgePoints.left.x=kt[Lt][0],this.m_oEdgePoints.left.y=kt[Lt][1]))}}]),ge}(),ee=function(ge){F(kt,ge);var Ji=Ci(kt);function kt(){var Lt;return fe(this,kt),Lt=Ji.call(this),Lt.m_szType="Rect",Lt}return ot(kt,[{key:"setPointInfo",value:function(Tt){if(Tt!==null&&typeof Tt<"u"){for(var jt=Tt[0][0],Dt=Tt[0][1],Ft=Tt[0][0],Kt=Tt[0][1],wt=0,si=Tt.length;wt<si;wt++)jt>Tt[wt][0]&&(jt=Tt[wt][0]),Dt>Tt[wt][1]&&(Dt=Tt[wt][1]),Ft<Tt[wt][0]&&(Ft=Tt[wt][0]),Kt<Tt[wt][1]&&(Kt=Tt[wt][1]);this.m_aPoint=[[jt,Dt],[Ft,Dt],[Ft,Kt],[jt,Kt]]}}},{key:"draw",value:function(){H[M].fillStyle=this.m_szFillColor,H[M].strokeStyle=this.m_szDrawColor;var Tt=this.m_aPoint[0][0],jt=this.m_aPoint[0][1],Dt=this.m_aPoint[2][0]-Tt,Ft=this.m_aPoint[2][1]-jt;if(H[M].globalAlpha=this.m_iTranslucent,H[M].fillRect(Tt,jt,Dt,Ft),H[M].globalAlpha=1,H[M].fillText(this.m_szTips,(Tt+this.m_aPoint[2][0])/2,(jt+this.m_aPoint[2][1])/2),this.m_bChoosed){var Kt=Math.round(Dt/2),wt=Math.round(Ft/2);if(this.m_iEditType===0)for(var si=[Tt,Tt+Kt,Tt+Dt,Tt,Tt+Dt,Tt,Tt+Kt,Tt+Dt],ht=[jt,jt,jt,jt+wt,jt+wt,jt+Ft,jt+Ft,jt+Ft],Ii=0;Ii<8;Ii++)H[M].beginPath(),H[M].arc(si[Ii],ht[Ii],3,0,360,!1),H[M].fillStyle=this.m_szDrawColor,H[M].closePath(),H[M].fill()}H[M].strokeRect(Tt,jt,Dt,Ft)}},{key:"stretch",value:function(Tt,jt){this.m_iEditType===0&&(this.m_iIndexChoosePoint===0?Tt<this.m_aPoint[2][0]&&jt<this.m_aPoint[2][1]&&(this.m_aPoint[0][0]=Tt,this.m_aPoint[0][1]=jt,this.m_aPoint[3][0]=Tt,this.m_aPoint[1][1]=jt):this.m_iIndexChoosePoint===1?jt<this.m_aPoint[2][1]&&(this.m_aPoint[0][1]=jt,this.m_aPoint[1][1]=jt):this.m_iIndexChoosePoint===2?Tt>this.m_aPoint[3][0]&&jt<this.m_aPoint[3][1]&&(this.m_aPoint[1][0]=Tt,this.m_aPoint[1][1]=jt,this.m_aPoint[2][0]=Tt,this.m_aPoint[0][1]=jt):this.m_iIndexChoosePoint===3?Tt<this.m_aPoint[2][0]&&(this.m_aPoint[0][0]=Tt,this.m_aPoint[3][0]=Tt):this.m_iIndexChoosePoint===4?Tt>this.m_aPoint[0][0]&&(this.m_aPoint[1][0]=Tt,this.m_aPoint[2][0]=Tt):this.m_iIndexChoosePoint===5?Tt<this.m_aPoint[1][0]&&jt>this.m_aPoint[1][1]&&(this.m_aPoint[3][0]=Tt,this.m_aPoint[3][1]=jt,this.m_aPoint[0][0]=Tt,this.m_aPoint[2][1]=jt):this.m_iIndexChoosePoint===6?jt>this.m_aPoint[1][1]&&(this.m_aPoint[2][1]=jt,this.m_aPoint[3][1]=jt):this.m_iIndexChoosePoint===7&&Tt>this.m_aPoint[0][0]&&jt>this.m_aPoint[0][1]&&(this.m_aPoint[2][0]=Tt,this.m_aPoint[2][1]=jt,this.m_aPoint[1][0]=Tt,this.m_aPoint[3][1]=jt),Ce())}},{key:"move",value:function(Tt){Ce(),this.m_bChoosed=!0;var jt=Tt[0][0],Dt=Tt[0][1],Ft=Tt[1][0],Kt=Tt[1][1];this.setPointInfo([[jt,Dt],[Ft,Dt],[Ft,Kt],[jt,Kt]]),this.draw()}},{key:"inArc",value:function(Tt,jt,Dt){for(var Ft=this.m_aPoint[0][0],Kt=this.m_aPoint[0][1],wt=this.m_aPoint[2][0]-Ft,si=this.m_aPoint[2][1]-Kt,ht=Math.round(wt/2),Ii=Math.round(si/2),ji=[Ft,Ft+ht,Ft+wt,Ft,Ft+wt,Ft,Ft+ht,Ft+wt],Zi=[Kt,Kt,Kt,Kt+Ii,Kt+Ii,Kt+si,Kt+si,Kt+si],pi=0;pi<8;pi++){var sn=Math.sqrt((Tt-ji[pi])*(Tt-ji[pi])+(jt-Zi[pi])*(jt-Zi[pi]));if(sn<Dt)return this.m_iIndexChoosePoint=pi,!0}return!1}}]),kt}(pe),je=function(ge){F(kt,ge);var Ji=Ci(kt);function kt(Lt,Tt){var jt;return fe(this,kt),jt=Ji.call(this),jt.m_szType="RectOSD",jt.m_szOSDType="overlay-date",jt.m_szText=Lt||"",jt.m_szEnabled=Tt||"",jt.m_szDateStyle="",jt.m_szClockType="",jt.m_szDisplayWeek="",jt.m_szId="",jt.m_szAlignment="0",jt}return ot(kt,[{key:"draw",value:function(){if(this.m_szEnabled==="true"){var Tt=this.m_aPoint[0][0],jt=this.m_aPoint[0][1],Dt=this.m_aPoint[2][0]-Tt,Ft=this.m_aPoint[2][1]-jt;H[M].beginPath(),H[M].strokeStyle=this.m_szDrawColor,H[M].globalAlpha=1,H[M].rect(Tt,jt,Dt,Ft),H[M].font="15px serif",H[M].strokeText(this.m_szText,Tt,jt+15),H[M].stroke()}}},{key:"drag",value:function(Tt,jt){var Dt=this.m_aPoint.length,Ft=0;if(this.m_szAlignment==="0"){for(Ft=0;Ft<Dt;Ft++)if(this.m_aPoint[Ft][1]+jt-this.m_iDriftStartY>H.m_iCanvasHeight||this.m_aPoint[Ft][0]+Tt-this.m_iDriftStartX<0||this.m_aPoint[Ft][1]+jt-this.m_iDriftStartY<0){this.m_iDriftStartX=Tt,this.m_iDriftStartY=jt;return}for(Ft=0;Ft<Dt;Ft++)this.m_aPoint[Ft][0]=this.m_aPoint[Ft][0]+Tt-this.m_iDriftStartX,this.m_aPoint[Ft][1]=this.m_aPoint[Ft][1]+jt-this.m_iDriftStartY}else if(this.m_szAlignment==="1"||this.m_szAlignment==="2"){for(Ft=0;Ft<Dt;Ft++)if(this.m_aPoint[Ft][1]+jt-this.m_iDriftStartY>H.m_iCanvasHeight||this.m_aPoint[Ft][1]+jt-this.m_iDriftStartY<0){this.m_iDriftStartX=Tt,this.m_iDriftStartY=jt;return}for(Ft=0;Ft<Dt;Ft++)this.m_aPoint[Ft][1]=this.m_aPoint[Ft][1]+jt-this.m_iDriftStartY}this.m_iDriftStartX=Tt,this.m_iDriftStartY=jt,this.setEdgePoints(this.m_aPoint),Ce()}},{key:"stretch",value:function(){}}]),kt}(pe),mt=function(ge){F(kt,ge);var Ji=Ci(kt);function kt(){var Lt;return fe(this,kt),Lt=Ji.call(this),Lt.m_szType="Grid",Lt.m_iGridColNum=22,Lt.m_iGridRowNum=18,Lt.m_szGridMap="",Lt.m_aAddGridMap=[],Lt}return ot(kt,[{key:"draw",value:function(){for(var Tt=H.m_iCanvasWidth/this.m_iGridColNum,jt=H.m_iCanvasHeight/this.m_iGridRowNum,Dt="",Ft=0;Ft<this.m_iGridRowNum;Ft++){for(var Kt=this.m_szGridMap.substring(Ft*6,Ft*6+6),wt=parseInt("f"+Kt,16).toString(2).split("").slice(4),si="",ht=0;ht<this.m_iGridColNum;ht++){var Ii="";wt[ht]==="1"?(H[M].strokeStyle=this.m_szDrawColor,H[M].globalAlpha=1,H[M].strokeRect(Tt*ht,jt*Ft,Tt,jt),Ii="1"):Ii="0",this.m_aAddGridMap.length&&this.m_aAddGridMap[Ft][ht]===1&&(H[M].strokeStyle=this.m_szDrawColor,H[M].strokeRect(Tt*ht,jt*Ft,Tt,jt),Ii="1"),si+=Ii}Dt+=parseInt("1111"+si+"00",2).toString(16).substring(1)}this.m_szGridMap=Dt}},{key:"move",value:function(Tt,jt,Dt,Ft){var Kt=H.m_iCanvasWidth/this.m_iGridColNum,wt=H.m_iCanvasHeight/this.m_iGridRowNum,si=Math.floor(Tt/Kt),ht=Math.floor(jt/wt),Ii=Math.floor(Math.abs(Dt-Tt)/Kt),ji=Math.floor(Math.abs(Ft-jt)/wt),Zi=1,pi=1;Dt-Tt>0?Zi=1:Zi=-1,Ft-jt>0?pi=1:pi=-1;for(var sn=[],ci=0;ci<this.m_iGridRowNum;ci++){sn[ci]=[];for(var Ut=0;Ut<this.m_iGridColNum;Ut++)Zi===1?pi===1?ci>=ht&&ci<=ht+ji&&Ut>=si&&Ut<=si+Ii?sn[ci][Ut]=1:sn[ci][Ut]=0:ci<=ht&&ci>=ht-ji&&Ut>=si&&Ut<=si+Ii?sn[ci][Ut]=1:sn[ci][Ut]=0:pi===1?ci>=ht&&ci<=ht+ji&&Ut<=si&&Ut>=si-Ii?sn[ci][Ut]=1:sn[ci][Ut]=0:ci<=ht&&ci>=ht-ji&&Ut<=si&&Ut>=si-Ii?sn[ci][Ut]=1:sn[ci][Ut]=0}this.m_aAddGridMap=sn,this.draw()}}]),kt}(pe),gt=function(ge){F(kt,ge);var Ji=Ci(kt);function kt(){var Lt;return fe(this,kt),Lt=Ji.call(this),Lt.m_szType="Line",Lt.m_iLineType=0,Lt.m_iDirection=0,Lt.m_iArrowType=0,Lt.m_aCrossArrowPoint=[],Lt}return ot(kt,[{key:"draw",value:function(){this.m_iLineType===0?this.drawNormalLine():this.m_iLineType===1?this.drawArrowLine():this.m_iLineType===3?this.drawCrossLine():this.m_iLineType===4&&this.drawLineCount()}},{key:"drawNormalLine",value:function(){if(H[M].globalAlpha=1,this.m_aPoint.length>0){H[M].beginPath(),H[M].strokeStyle=this.m_szDrawColor,H[M].lineWidth=2,H[M].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]);for(var Tt=1,jt=this.m_aPoint.length;Tt<jt;Tt++)H[M].lineTo(this.m_aPoint[Tt][0],this.m_aPoint[Tt][1]);if(H[M].stroke(),this.m_bChoosed)for(var Dt=0,Ft=this.m_aPoint.length;Dt<Ft;Dt++)H[M].beginPath(),H[M].fillStyle=this.m_szDrawColor,H[M].arc(this.m_aPoint[Dt][0],this.m_aPoint[Dt][1],3,0,Math.PI*2,!0),H[M].closePath(),H[M].fill();this.m_szTips!==""&&(H[M].strokeStyle=this.m_szDrawColor,H[M].fillText(this.m_szTips,this.m_aPoint[0][0]+10,this.m_aPoint[0][1]+4))}}},{key:"drawArrowLine",value:function(Tt,jt,Dt,Ft,Kt,wt,si,ht){wt=typeof wt<"u"?wt:30,si=typeof si<"u"?si:10,ht=typeof ht<"u"?ht:1;var Ii=Math.atan2(Dt-Kt,jt-Ft)*180/Math.PI,ji=(Ii+wt)*Math.PI/180,Zi=(Ii-wt)*Math.PI/180,pi=si*Math.cos(ji),sn=si*Math.sin(ji),ci=si*Math.cos(Zi),Ut=si*Math.sin(Zi);H[M].save(),H[M].beginPath();var V=jt-pi,w=Dt-sn;H[M].moveTo(V,w),H[M].lineTo(jt,Dt),V=jt-ci,w=Dt-Ut,H[M].lineTo(V,w),H[M].moveTo(jt,Dt),H[M].lineTo(Ft,Kt),Tt===1&&(V=Ft+pi,w=Kt+sn,H[M].moveTo(V,w),H[M].lineTo(Ft,Kt),V=Ft+ci,w=Kt+Ut,H[M].lineTo(V,w)),H[M].strokeStyle=this.m_szDrawColor,H[M].lineWidth=ht,H[M].stroke(),H[M].restore()}},{key:"drawCrossLine",value:function(){this.drawNormalLine();var Tt=(this.m_aPoint[0][0]+this.m_aPoint[1][0])/2,jt=(this.m_aPoint[0][1]+this.m_aPoint[1][1])/2,Dt=Math.atan2(jt-this.m_aPoint[0][1],Tt-this.m_aPoint[0][0])*180/Math.PI,Ft=(Dt+90)*Math.PI/180,Kt=(Dt-90)*Math.PI/180,wt=25*Math.cos(Ft),si=25*Math.sin(Ft),ht=25*Math.cos(Kt),Ii=25*Math.sin(Kt),ji=0,Zi=0;ji=Tt-wt,Zi=jt-si;var pi=0,sn=0;this.m_iDirection===0?(pi=-10,sn=-15):this.m_iDirection===1?(pi=10,sn=10):(pi=10,sn=-15),this.m_iDirection!==0&&this.drawArrowLine(0,ji,Zi,Tt,jt),H[M].strokeStyle=this.m_szDrawColor,H[M].font="8px",H[M].strokeText("A",ji+pi,Zi+4),ji=Tt-ht,Zi=jt-Ii,this.m_iDirection!==1&&this.drawArrowLine(0,ji,Zi,Tt,jt),H[M].strokeStyle=this.m_szDrawColor,H[M].font="8px",H[M].strokeText("B",ji+sn,Zi+4)}},{key:"drawLineCount",value:function(){this.drawNormalLine();var Tt=(this.m_aPoint[0][0]+this.m_aPoint[1][0])/2,jt=(this.m_aPoint[0][1]+this.m_aPoint[1][1])/2,Dt=Math.atan2(jt-this.m_aPoint[0][1],Tt-this.m_aPoint[0][0])*180/Math.PI,Ft=(Dt+90)*Math.PI/180,Kt=(Dt-90)*Math.PI/180,wt=25*Math.cos(Ft),si=25*Math.sin(Ft),ht=25*Math.cos(Kt),Ii=25*Math.sin(Kt),ji=0,Zi=0;ji=Tt-wt,Zi=jt-si,this.m_iArrowType===1?(ji=Tt-ht,Zi=jt-Ii,this.drawArrowLine(0,ji,Zi,Tt,jt)):this.m_iArrowType===0&&this.drawArrowLine(0,ji,Zi,Tt,jt),this.m_aCrossArrowPoint=[[Tt,jt],[ji,Zi]]}},{key:"inShape",value:function(Tt,jt){for(var Dt=!1,Ft=0,Kt=this.m_aPoint.length-1;Ft<Kt;Ft++){var wt=Math.sqrt((this.m_aPoint[Ft+1][0]-this.m_aPoint[Ft][0])*(this.m_aPoint[Ft+1][0]-this.m_aPoint[Ft][0])+(this.m_aPoint[Ft+1][1]-this.m_aPoint[Ft][1])*(this.m_aPoint[Ft+1][1]-this.m_aPoint[Ft][1])),si=Math.sqrt((Tt-this.m_aPoint[Ft][0])*(Tt-this.m_aPoint[Ft][0])+(jt-this.m_aPoint[Ft][1])*(jt-this.m_aPoint[Ft][1])),ht=Math.sqrt((Tt-this.m_aPoint[Ft+1][0])*(Tt-this.m_aPoint[Ft+1][0])+(jt-this.m_aPoint[Ft+1][1])*(jt-this.m_aPoint[Ft+1][1]));si+ht-wt<1&&(Dt=!0)}return Dt}}]),kt}(pe),Gt=function(ge){F(kt,ge);var Ji=Ci(kt);function kt(){var Lt;return fe(this,kt),Lt=Ji.call(this),Lt.m_szType="Polygon",Lt.m_iPolygonType=1,Lt}return ot(kt,[{key:"setPointInfo",value:function(Tt){if(Tt!==null&&typeof Tt<"u"){if(this.m_iPolygonType===0){for(var jt=Tt[0][0],Dt=Tt[0][1],Ft=Tt[0][0],Kt=Tt[0][1],wt=0,si=Tt.length;wt<si;wt++)jt>Tt[wt][0]&&(jt=Tt[wt][0]),Dt>Tt[wt][1]&&(Dt=Tt[wt][1]),Ft<Tt[wt][0]&&(Ft=Tt[wt][0]),Kt<Tt[wt][1]&&(Kt=Tt[wt][1]);this.m_aPoint=[[jt,Dt],[Ft,Dt],[Ft,Kt],[jt,Kt]]}else this.m_iPolygonType===1?this.m_aPoint=Tt:this.m_aPoint=Tt;this.setEdgePoints(Tt)}}},{key:"draw",value:function(){if(this.m_aPoint.length>0){H[M].fillStyle=this.m_szFillColor,H[M].strokeStyle=this.m_szDrawColor,H[M].globalAlpha=1;var Tt=0,jt=0;if(this.m_bChoosed)for(Tt=0,jt=this.m_aPoint.length;Tt<jt;Tt++)H[M].beginPath(),H[M].arc(this.m_aPoint[Tt][0],this.m_aPoint[Tt][1],3,0,360,!1),H[M].fillStyle=this.m_szDrawColor,H[M].closePath(),H[M].fill();for(H[M].beginPath(),H[M].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]),Tt=0,jt=this.m_aPoint.length;Tt<jt;Tt++)Tt!==0&&H[M].lineTo(this.m_aPoint[Tt][0],this.m_aPoint[Tt][1]);H[M].stroke(),this.m_bClosed&&(H[M].fillText(this.m_szTips,(this.m_oEdgePoints.left.x+this.m_oEdgePoints.right.x)/2,(this.m_oEdgePoints.top.y+this.m_oEdgePoints.bottom.y)/2),H[M].closePath(),H[M].stroke(),H[M].globalAlpha=this.m_iTranslucent,H[M].fill())}}},{key:"move",value:function(Tt,jt,Dt,Ft){if(this.m_iPolygonType===1){if(this.m_aPoint.length<this.m_iMaxPointNum&&this.m_aPoint.length>0){H[M].fillStyle=this.m_szFillColor,H[M].strokeStyle=this.m_szDrawColor,H[M].globalAlpha=1;var Kt=0,wt=0;for(Kt=0,wt=this.m_aPoint.length;Kt<wt;Kt++)H[M].beginPath(),H[M].arc(this.m_aPoint[Kt][0],this.m_aPoint[Kt][1],3,0,360,!1),H[M].fillStyle=this.m_szDrawColor,H[M].closePath(),H[M].fill();for(H[M].beginPath(),H[M].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]),Kt=0,wt=this.m_aPoint.length;Kt<wt;Kt++)Kt!==0&&H[M].lineTo(this.m_aPoint[Kt][0],this.m_aPoint[Kt][1]);H[M].lineTo(Tt,jt),H[M].closePath(),H[M].stroke()}}else if(this.m_iPolygonType===0){this.m_bChoosed=!0;var si=Dt,ht=Ft,Ii=Tt,ji=jt;this.setPointInfo([[si,ht],[Ii,ht],[Ii,ji],[si,ji]]),this.draw()}}},{key:"stretch",value:function(Tt,jt){this.m_iEditType===0&&(this.m_iPolygonType===1?this.m_iIndexChoosePoint!==-1&&(this.m_aPoint[this.m_iIndexChoosePoint][0]=Tt,this.m_aPoint[this.m_iIndexChoosePoint][1]=jt):this.m_iIndexChoosePoint===0?Tt<this.m_aPoint[2][0]&&jt<this.m_aPoint[2][1]&&(this.m_aPoint[0][0]=Tt,this.m_aPoint[0][1]=jt,this.m_aPoint[3][0]=Tt,this.m_aPoint[1][1]=jt):this.m_iIndexChoosePoint===1?Tt>this.m_aPoint[3][0]&&jt<this.m_aPoint[3][1]&&(this.m_aPoint[1][0]=Tt,this.m_aPoint[1][1]=jt,this.m_aPoint[2][0]=Tt,this.m_aPoint[0][1]=jt):this.m_iIndexChoosePoint===2?Tt>this.m_aPoint[0][0]&&jt>this.m_aPoint[0][1]&&(this.m_aPoint[2][0]=Tt,this.m_aPoint[2][1]=jt,this.m_aPoint[1][0]=Tt,this.m_aPoint[3][1]=jt):this.m_iIndexChoosePoint===3&&Tt<this.m_aPoint[1][0]&&jt>this.m_aPoint[1][1]&&(this.m_aPoint[3][0]=Tt,this.m_aPoint[3][1]=jt,this.m_aPoint[0][0]=Tt,this.m_aPoint[2][1]=jt),this.setPointInfo(this.m_aPoint),Ce())}}]),kt}(pe),li=function(ge){F(kt,ge);var Ji=Ci(kt);function kt(){var Lt;return fe(this,kt),Lt=Ji.call(this),Lt.m_szType="Point",Lt.m_szId="",Lt}return ot(kt,[{key:"draw",value:function(){H[M].beginPath(),H[M].fillStyle=this.m_szDrawColor,H[M].globalAlpha=1,H[M].arc(this.m_aPoint[0][0],this.m_aPoint[0][1],10,0,Math.PI*2,!0),H[M].closePath(),H[M].fill()}},{key:"drag",value:function(){}},{key:"stretch",value:function(){}}]),kt}(pe),Oi=function(){function ge(Ji){fe(this,ge),H=this,this[_e]=We("#"+Ji),this[M]=this[_e][0].getContext("2d"),this[z]=[],this[ce]=!1,this[ie]="Rect",this[Oe]=10,this[Xe]=!0,this[D]={},this[X]=null,this[Qe]={szDrawColor:"#ff0000",szFillColor:"#343434",iTranslucent:.7},this[st]=!1,this.m_iCanvasWidth=this[_e].width(),this.m_iCanvasHeight=this[_e].height(),this.m_iHorizontalResolution=0,this.m_iVerticalResolution=0,this.m_szDisplayMode="",this.m_szVideoFormat="",Le(),this[z].length=0}return ot(ge,[{key:"setDrawMutiShapeOneTime",value:function(kt){this[Xe]=kt}},{key:"setMaxShapeSupport",value:function(kt){this[Oe]=kt}},{key:"getMaxShapeSupport",value:function(){return this[Oe]}},{key:"setDrawStatus",value:function(kt,Lt){this[ce]=kt,Lt&&kt&&(this[X]=Lt),kt||(this[X]=null)}},{key:"setShapeType",value:function(kt){this[ie]=kt,Ce()}},{key:"setCurrentShapeInfo",value:function(kt){this[D]=kt||{szId:"",szTips:"",iMinClosed:3,iMaxPointNum:11,iPolygonType:1,iRedrawMode:0}}},{key:"getShapeType",value:function(){return this[ie]}},{key:"getAllShapesInfo",value:function(){for(var kt=[],Lt=0,Tt=this[z].length;Lt<Tt;Lt++)this[z][Lt].m_szType==="Grid"?kt.push({szType:this[z][Lt].m_szType,szGridMap:this[z][Lt].m_szGridMap,iGridColNum:this[z][Lt].m_iGridColNum,iGridRowNum:this[z][Lt].m_iGridRowNum}):this[z][Lt].m_szType==="RectOSD"?kt.push({szType:this[z][Lt].m_szType,szText:this[z][Lt].m_szText,szEnabled:this[z][Lt].m_szEnabled,szOSDType:this[z][Lt].m_szOSDType,iPositionX:this[z][Lt].m_aPoint[0][0],iPositionY:this[z][Lt].m_aPoint[0][1],szDateStyle:this[z][Lt].m_szDateStyle,szClockType:this[z][Lt].m_szClockType,szDisplayWeek:this[z][Lt].m_szDisplayWeek,szId:this[z][Lt].m_szId,szAlignment:this[z][Lt].m_szAlignment}):kt.push({szType:this[z][Lt].m_szType,aPoint:this[z][Lt].m_aPoint,szId:this[z][Lt].m_szId,bChoosed:this[z][Lt].m_bChoosed});return kt}},{key:"deleteRepeatPolyonById",value:function(kt){var Lt=this.getAllShapesInfo(),Tt=Lt.length;if(Tt>0)for(var jt=0;jt<Tt;jt++)Lt[jt].szType==="Polygon"&&Lt[jt].szId===kt&&this.deleteShape(jt)}},{key:"getShapesInfoByType",value:function(kt){for(var Lt=[],Tt=0,jt=this[z].length;Tt<jt;Tt++)this[z][Tt].m_szType===kt&&(this[z][Tt].m_szType==="Grid"?Lt.push({szType:this[z][Tt].m_szType,szGridMap:this[z][Tt].m_szGridMap,iGridColNum:this[z][Tt].m_iGridColNum,iGridRowNum:this[z][Tt].m_iGridRowNum}):this[z][Tt].m_szType==="RectOSD"?Lt.push({szType:this[z][Tt].m_szType,szText:this[z][Tt].m_szText,szEnabled:this[z][Tt].m_szEnabled,szOSDType:this[z][Tt].m_szOSDType,iPositionX:this[z][Tt].m_aPoint[0][0],iPositionY:this[z][Tt].m_aPoint[0][1],szDateStyle:this[z][Tt].m_szDateStyle,szClockType:this[z][Tt].m_szClockType,szDisplayWeek:this[z][Tt].m_szDisplayWeek,szId:this[z][Tt].m_szId,szAlignment:this[z][Tt].m_szAlignment}):kt==="Polygon"?Lt.push({szType:this[z][Tt].m_szType,szId:this[z][Tt].m_szId,iPolygonType:this[z][Tt].m_iPolygonType,iMinClosed:this[z][Tt].m_iMinClosed,iMaxPointNum:this[z][Tt].m_iMaxPointNum,iEditType:this[z][Tt].m_iEditType,aPoint:this[z][Tt].m_aPoint,bClosed:this[z][Tt].m_bClosed,szTips:this[z][Tt].m_szTips,szDrawColor:this[z][Tt].m_szDrawColor,szFillColor:this[z][Tt].m_szFillColor,iTranslucent:this[z][Tt].m_iTranslucent}):kt==="Line"?Lt.push({szType:this[z][Tt].m_szType,szId:this[z][Tt].m_szId,aPoint:this[z][Tt].m_aPoint,szTips:this[z][Tt].m_szTips,iLineType:this[z][Tt].m_iLineType,iDirection:this[z][Tt].m_iDirection,iArrowType:this[z][Tt].m_iArrowType,szDrawColor:this[z][Tt].m_szDrawColor,aCrossArrowPoint:this[z][Tt].m_aCrossArrowPoint}):kt==="Rect"?Lt.push({szType:this[z][Tt].m_szType,iEditType:this[z][Tt].m_iEditType,aPoint:this[z][Tt].m_aPoint,szTips:this[z][Tt].m_szTips,szDrawColor:this[z][Tt].m_szDrawColor,szFillColor:this[z][Tt].m_szFillColor,iTranslucent:this[z][Tt].m_iTranslucent}):Lt.push({szType:this[z][Tt].m_szType,aPoint:this[z][Tt].m_aPoint}));return Lt}},{key:"setShapesInfoByType",value:function(kt,Lt){Lt||(Lt=[]);var Tt=null;if(kt==="Rect"||kt==="Polygon"||kt==="Line"||kt==="Point")for(var jt=0,Dt=Lt.length;jt<Dt;jt++)kt==="Rect"?(Tt=new ee,Tt.m_iEditType=Lt[jt].iEditType,Tt.m_szTips=Lt[jt].szTips||"",Tt.m_szDrawColor=Lt[jt].szDrawColor,Tt.m_szFillColor=Lt[jt].szFillColor,Tt.m_iTranslucent=Lt[jt].iTranslucent,Tt.m_iRedrawMode=Lt[jt].iRedrawMode):kt==="Polygon"?(Tt=new Gt,Lt[jt].iPolygonType===0?Tt.m_bClosed=!0:Tt.m_bClosed=Lt[jt].bClosed,Tt.m_szTips=Lt[jt].szTips||"",Tt.m_szId=Lt[jt].szId||"",Tt.m_iPolygonType=Lt[jt].iPolygonType,Tt.m_iMinClosed=Lt[jt].iMinClosed||3,Tt.m_iMaxPointNum=Lt[jt].iMaxPointNum||11,Tt.m_iEditType=Lt[jt].iEditType,Tt.m_szDrawColor=Lt[jt].szDrawColor,Tt.m_szFillColor=Lt[jt].szFillColor,Tt.m_iTranslucent=Lt[jt].iTranslucent,Tt.m_iRedrawMode=Lt[jt].iRedrawMode):kt==="Line"?(Tt=new gt,Tt.m_iLineType=Lt[jt].iLineType,Tt.m_szTips=Lt[jt].szTips||"",Tt.m_szId=Lt[jt].szId,Tt.m_iDirection=Lt[jt].iDirection,Tt.m_iArrowType=Lt[jt].iArrowType,Tt.m_szDrawColor=Lt[jt].szDrawColor,Tt.setPointInfo(Lt[jt].aPoint)):kt==="Point"&&(Tt=new li,Tt.m_szId=Lt[jt].szId,Tt.m_szDrawColor=Lt[jt].szDrawColor,Tt.setPointInfo(Lt[jt].aPoint)),Tt.setPointInfo(Lt[jt].aPoint),jt===0&&(Tt.m_bChoosed=!0),ve(Tt);else kt==="Grid"&&(Tt=new mt,Tt.m_szGridMap=Lt[0].szGridMap||"",Tt.m_iGridColNum=Lt[0].iGridColNum||22,Tt.m_iGridRowNum=Lt[0].iGridRowNum||18,ve(Tt));Ce()}},{key:"addOSDShape",value:function(kt,Lt,Tt,jt,Dt){!Tt&&!jt&&(Tt=0,jt=0),Dt||(Dt={});var Ft=new je(kt,Lt),Kt=kt.replace(/[^x00-xff]/g,"rr").length*10;Ft.m_szOSDType=Dt.szOSDType||"",Ft.m_szDateStyle=Dt.szDateStyle||"",Ft.m_szClockType=Dt.szClockType||"",Ft.m_szDisplayWeek=Dt.szDisplayWeek||"",Ft.m_szId=Dt.szId||"",Ft.m_szAlignment=""+Dt.szAlignment||"0",Ft.m_szAlignment==="0"?Ft.m_aPoint=[[Tt,jt],[Kt+Tt,jt],[Kt+Tt,jt+20],[Tt,jt+20]]:Ft.m_szAlignment==="1"?Ft.m_aPoint=[[0,jt],[Kt,jt],[Kt,jt+20],[0,jt+20]]:Ft.m_szAlignment==="2"?Ft.m_aPoint=[[this.m_iCanvasWidth-Kt,jt],[this.m_iCanvasWidth,jt],[this.m_iCanvasWidth,jt+20],[this.m_iCanvasWidth-Kt,jt+20]]:Ft.m_aPoint=[[Tt,jt],[Kt+Tt,jt],[Kt+Tt,jt+20],[Tt,jt+20]],ve(Ft),Ce()}},{key:"selectShapeById",value:function(kt,Lt){for(var Tt=0,jt=H[z].length;Tt<jt;Tt++)kt===H[z][Tt].m_szType&&(Lt===H[z][Tt].m_szId?H[z][Tt].m_bChoosed=!0:H[z][Tt].m_bChoosed=!1);Ce()}},{key:"setCanvasSize",value:function(kt,Lt){kt>0&&Lt>0&&(this.m_iCanvasWidth=kt,this.m_iCanvasHeight=Lt,Ce())}},{key:"setDrawStyle",value:function(kt,Lt,Tt){this[Qe]={szDrawColor:kt,szFillColor:Lt,iTranslucent:Tt}}},{key:"clearAllShape",value:function(){this[z].length=0,H[st]=!1,Ce()}},{key:"clearShapeByType",value:function(kt){for(var Lt=this[z].length,Tt=Lt;Tt>0;Tt--)this[z][Tt-1].m_szType===kt&&(kt==="Grid"?(this[z][Tt-1].m_szGridMap="",this[z][Tt-1].m_aAddGridMap=[]):this[z].splice(Tt-1,1));kt==="Polygon"&&(H[st]=!1),Ce()}},{key:"deleteShape",value:function(kt){this[z].length>kt&&this[z].splice(kt,1),Ce()}},{key:"updateCanvas",value:function(kt){this[_e]=We("#"+kt),this[M]=this[_e][0].getContext("2d"),this.m_iCanvasWidth=this[_e].width(),this.m_iCanvasHeight=this[_e].height(),Le()}},{key:"resizeCanvas",value:function(){this.m_iCanvasWidth=this[_e].width(),this.m_iCanvasHeight=this[_e].height()}},{key:"canvasRedraw",value:function(){Ce()}}]),ge}();return Oi}(),$t={exports:{}};$t.exports,function(H,_e){function M(ce,ie){var Oe=z();return M=function(st,D){st=st-309;var Xe=Oe[st];return Xe},M(ce,ie)}(function(ce,ie){for(var Oe=M,Qe=ce();;)try{var st=parseInt(Oe(410))/1*(parseInt(Oe(486))/2)+-parseInt(Oe(1354))/3+-parseInt(Oe(1104))/4+-parseInt(Oe(489))/5+parseInt(Oe(969))/6*(parseInt(Oe(916))/7)+-parseInt(Oe(1423))/8+parseInt(Oe(1269))/9*(parseInt(Oe(1397))/10);if(st===ie)break;Qe.push(Qe.shift())}catch{Qe.push(Qe.shift())}})(z,841567),function(ce,ie){var Oe=M;if(Oe(1415)=="object"&&Oe(1415)=="object")H[Oe(509)]=ie();else{var Qe,st=ie();for(Qe in st)(Oe(1415)=="object"?_e:ce)[Qe]=st[Qe]}}(self,function(){var ce=M;return Oe={477:function(Xe){Xe.exports=function(X,Ce,ve,Le){var pe=M,ee,je=self||window;try{try{try{ee=new je[pe(540)]([X])}catch{(ee=new(je[pe(1487)]||je[pe(1403)]||je.MozBlobBuilder||je[pe(548)])).append(X),ee=ee.getBlob()}var mt=je[pe(1244)]||je[pe(1318)],gt=mt.createObjectURL(ee),Gt=new je[Ce](gt,ve);return mt[pe(1261)](gt),Gt}catch{return new je[Ce](pe(544)[pe(1438)](encodeURIComponent(X)),ve)}}catch{if(Le)return new je[Ce](Le,ve);throw Error(pe(935))}}},61:function(Xe,X,Ce){var ve=M,Le=Ce(698).default;function pe(){var ee=M;Xe[ee(509)]=function(){return je},Xe[ee(509)][ee(1249)]=!0,Xe[ee(509)][ee(1507)]=Xe[ee(509)];var je={},mt=Object[ee(1178)],gt=mt[ee(1340)],Ft=ee(1536)==(typeof Symbol>"u"?"undefined":K(Symbol))?Symbol:{},Gt=Ft.iterator||ee(1568),li=Ft.asyncIterator||ee(931),Oi=Ft[ee(1111)]||"@@toStringTag";function ge(ci,Ut,V){var w=ee;return Object[w(645)](ci,Ut,{value:V,enumerable:!0,configurable:!0,writable:!0}),ci[Ut]}try{ge({},"")}catch{ge=function(V,w,N){return V[w]=N}}function Ji(ci,Ye,V,bt){var N=ee,T,we,Se,Ne,Ye=Ye&&Ye[N(1178)]instanceof Tt?Ye:Tt,Ye=Object[N(1287)](Ye[N(1178)]),bt=new Zi(bt||[]);return Ye._invoke=(T=ci,we=V,Se=bt,Ne=N(1259),function(ni,Zt){var Me=N;if(Me(1556)===Ne)throw new Error(Me(1391));if(Me(611)===Ne){if(Me(1317)===ni)throw Zt;return sn()}for(Se[Me(1515)]=ni,Se.arg=Zt;;){var dt=Se[Me(1218)];if(dt&&(dt=function ai(Fi,di){var gi=Me,Ki=Fi[gi(1528)][di[gi(1515)]];if(Ki===void 0){if(di[gi(1218)]=null,gi(1317)===di[gi(1515)]){if(Fi[gi(1528)][gi(678)]&&(di[gi(1515)]="return",di[gi(529)]=void 0,ai(Fi,di),gi(1317)===di.method))return Lt;di[gi(1515)]=gi(1317),di[gi(529)]=new TypeError(gi(1593))}return Lt}return Ki=kt(Ki,Fi[gi(1528)],di[gi(529)]),gi(1317)===Ki[gi(1378)]?(di[gi(1515)]=gi(1317),di[gi(529)]=Ki[gi(529)],di[gi(1218)]=null,Lt):(Ki=Ki[gi(529)],Ki?Ki.done?(di[Fi[gi(1100)]]=Ki[gi(591)],di[gi(811)]=Fi[gi(896)],gi(678)!==di[gi(1515)]&&(di[gi(1515)]="next",di[gi(529)]=void 0),di[gi(1218)]=null,Lt):Ki:(di[gi(1515)]=gi(1317),di[gi(529)]=new TypeError(gi(1377)),di[gi(1218)]=null,Lt))}(dt,Se),dt)){if(dt===Lt)continue;return dt}if(Me(811)===Se[Me(1515)])Se[Me(1520)]=Se[Me(1434)]=Se.arg;else if(Me(1317)===Se[Me(1515)]){if(Me(1259)===Ne)throw Ne="completed",Se.arg;Se.dispatchException(Se[Me(529)])}else Se[Me(1515)]==="return"&&Se[Me(341)]("return",Se[Me(529)]);if(Ne="executing",dt=kt(T,we,Se),Me(655)===dt[Me(1378)]){if(Ne=Se.done?Me(611):Me(1525),dt.arg===Lt)continue;return{value:dt[Me(529)],done:Se[Me(1251)]}}Me(1317)===dt[Me(1378)]&&(Ne=Me(611),Se.method=Me(1317),Se[Me(529)]=dt[Me(529)])}}),Ye}function kt(ci,Ut,V){var w=ee;try{return{type:w(655),arg:ci[w(1098)](Ut,V)}}catch(N){return{type:"throw",arg:N}}}je[ee(894)]=Ji;var Lt={};function Tt(){}function jt(){}function Dt(){}var Ft={},Kt=(ge(Ft,Gt,function(){return this}),Object[ee(1363)]),Kt=Kt&&Kt(Kt(pi([]))),wt=(Kt&&Kt!==mt&&gt[ee(1098)](Kt,Gt)&&(Ft=Kt),Dt[ee(1178)]=Tt[ee(1178)]=Object[ee(1287)](Ft));function si(ci){var Ut=ee;[Ut(811),"throw",Ut(678)][Ut(689)](function(V){ge(ci,V,function(w){var N=M;return this[N(1352)](V,w)})})}function ht(ci,Ut){var V=ee,w;this[V(1352)]=function(N,T){var we=V;function Se(){return new Ut(function(Ne,Ye){(function bt(di,Zt,Me,dt){var ai=M,Fi,di=kt(ci[di],ci,Zt);if(di[ai(1378)]!=="throw")return(Zt=(Fi=di[ai(529)])[ai(591)])&&Le(Zt)=="object"&&gt[ai(1098)](Zt,"__await")?Ut[ai(1548)](Zt[ai(1155)]).then(function(gi){bt("next",gi,Me,dt)},function(gi){var Ki=ai;bt(Ki(1317),gi,Me,dt)}):Ut[ai(1548)](Zt)[ai(705)](function(gi){Fi.value=gi,Me(Fi)},function(gi){var Ki=ai;return bt(Ki(1317),gi,Me,dt)});dt(di[ai(529)])})(N,T,Ne,Ye)})}return w=w?w[we(705)](Se,Se):Se()}}function Ii(ci){var Ut=ee,V={tryLoc:ci[0]};1 in ci&&(V[Ut(932)]=ci[1]),2 in ci&&(V[Ut(1482)]=ci[2],V.afterLoc=ci[3]),this.tryEntries[Ut(962)](V)}function ji(ci){var Ut=ee,V=ci[Ut(929)]||{};V[Ut(1378)]=Ut(655),delete V[Ut(529)],ci[Ut(929)]=V}function Zi(ci){var Ut=ee;this[Ut(1386)]=[{tryLoc:Ut(1157)}],ci[Ut(689)](Ii,this),this.reset(!0)}function pi(ci){var Ut=ee;if(ci){var V,w=ci[Gt];if(w)return w[Ut(1098)](ci);if(Ut(1536)==K(ci[Ut(811)]))return ci;if(!isNaN(ci[Ut(525)]))return V=-1,(w=function N(){for(var T=Ut;++V<ci.length;)if(gt[T(1098)](ci,V))return N[T(591)]=ci[V],N[T(1251)]=!1,N;return N[T(591)]=void 0,N[T(1251)]=!0,N}).next=w}return{next:sn}}function sn(){return{value:void 0,done:!0}}return ge(wt,ee(370),jt[ee(1178)]=Dt),ge(Dt,ee(370),jt),jt.displayName=ge(Dt,Oi,ee(570)),je[ee(885)]=function(ci){var Ut=ee;return ci=Ut(1536)==K(ci)&&ci[Ut(370)],!!ci&&(ci===jt||(ci[Ut(519)]||ci[Ut(642)])==="GeneratorFunction")},je.mark=function(ci){var Ut=ee;return Object[Ut(767)]?Object[Ut(767)](ci,Dt):(ci[Ut(1323)]=Dt,ge(ci,Oi,"GeneratorFunction")),ci.prototype=Object[Ut(1287)](wt),ci},je[ee(318)]=function(ci){return{__await:ci}},si(ht[ee(1178)]),ge(ht[ee(1178)],li,function(){return this}),je[ee(441)]=ht,je.async=function(ci,Ut,V,w,N){var T=ee;N===void 0&&(N=Promise);var we=new ht(Ji(ci,Ut,V,w),N);return je.isGeneratorFunction(Ut)?we:we.next()[T(705)](function(Se){var Ne=T;return Se[Ne(1251)]?Se[Ne(591)]:we[Ne(811)]()})},si(wt),ge(wt,Oi,"Generator"),ge(wt,Gt,function(){return this}),ge(wt,ee(1503),function(){return"[object Generator]"}),je[ee(743)]=function(ci){var Ut=ee,V,w=[];for(V in ci)w[Ut(962)](V);return w[Ut(408)](),function N(){for(var T=Ut;w[T(525)];){var we=w[T(1162)]();if(we in ci)return N[T(591)]=we,N[T(1251)]=!1,N}return N[T(1251)]=!0,N}},je[ee(1544)]=pi,Zi[ee(1178)]={constructor:Zi,reset:function(Ut){var V=ee;if(this.prev=0,this[V(811)]=0,this[V(1520)]=this[V(1434)]=void 0,this[V(1251)]=!1,this.delegate=null,this[V(1515)]="next",this[V(529)]=void 0,this[V(1386)][V(689)](ji),!Ut)for(var w in this)w.charAt(0)==="t"&&gt[V(1098)](this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){var Ut=ee;this[Ut(1251)]=!0;var V=this.tryEntries[0][Ut(929)];if(Ut(1317)===V[Ut(1378)])throw V[Ut(529)];return this[Ut(1472)]},dispatchException:function(Ut){var V=ee;if(this[V(1251)])throw Ut;var w=this;function N(bt,ni){var Zt=V;return Se[Zt(1378)]=Zt(1317),Se[Zt(529)]=Ut,w.next=bt,ni&&(w.method=Zt(811),w[Zt(529)]=void 0),!!ni}for(var T=this.tryEntries[V(525)]-1;0<=T;--T){var we=this[V(1386)][T],Se=we[V(929)];if(we[V(1061)]==="root")return N(V(974));if(we.tryLoc<=this[V(707)]){var Ne=gt[V(1098)](we,V(932)),Ye=gt[V(1098)](we,V(1482));if(Ne&&Ye){if(this[V(707)]<we[V(932)])return N(we.catchLoc,!0);if(this[V(707)]<we.finallyLoc)return N(we[V(1482)])}else if(Ne){if(this.prev<we[V(932)])return N(we[V(932)],!0)}else{if(!Ye)throw new Error(V(946));if(this.prev<we.finallyLoc)return N(we[V(1482)])}}}},abrupt:function(Ut,V){for(var w=ee,N=this[w(1386)].length-1;0<=N;--N){var T=this[w(1386)][N];if(T.tryLoc<=this[w(707)]&&gt[w(1098)](T,w(1482))&&this.prev<T[w(1482)]){var we=T;break}}var Se=(we=we&&(w(1478)===Ut||Ut==="continue")&&we[w(1061)]<=V&&V<=we[w(1482)]?null:we)?we[w(929)]:{};return Se[w(1378)]=Ut,Se[w(529)]=V,we?(this[w(1515)]="next",this[w(811)]=we[w(1482)],Lt):this[w(1196)](Se)},complete:function(Ut,V){var w=ee;if(w(1317)===Ut[w(1378)])throw Ut[w(529)];return Ut[w(1378)]==="break"||w(1187)===Ut[w(1378)]?this[w(811)]=Ut[w(529)]:w(678)===Ut[w(1378)]?(this[w(1472)]=this[w(529)]=Ut[w(529)],this[w(1515)]=w(678),this[w(811)]=w(974)):w(655)===Ut[w(1378)]&&V&&(this[w(811)]=V),Lt},finish:function(Ut){for(var V=ee,w=this[V(1386)].length-1;0<=w;--w){var N=this.tryEntries[w];if(N[V(1482)]===Ut)return this[V(1196)](N.completion,N[V(478)]),ji(N),Lt}},catch:function(Ut){for(var V=ee,w=this.tryEntries.length-1;0<=w;--w){var N,T,we=this[V(1386)][w];if(we[V(1061)]===Ut)return(N=we.completion)[V(1378)]==="throw"&&(T=N.arg,ji(we)),T}throw new Error(V(1279))},delegateYield:function(Ut,V,w){var N=ee;return this.delegate={iterator:pi(Ut),resultName:V,nextLoc:w},N(811)===this[N(1515)]&&(this.arg=void 0),Lt}},je}Xe.exports=pe,Xe.exports[ve(1249)]=!0,Xe[ve(509)].default=Xe[ve(509)]},698:function(Xe){var X=M;function Ce(ve){var Le=M;return Xe[Le(509)]=Ce=Le(1536)==(typeof Symbol>"u"?"undefined":K(Symbol))&&Le(1142)==K(Symbol[Le(1528)])?function(pe){return K(pe)}:function(pe){var ee=Le;return pe&&ee(1536)==(typeof Symbol>"u"?"undefined":K(Symbol))&&pe[ee(370)]===Symbol&&pe!==Symbol[ee(1178)]?"symbol":K(pe)},Xe.exports[Le(1249)]=!0,Xe[Le(509)][Le(1507)]=Xe[Le(509)],Ce(ve)}Xe[X(509)]=Ce,Xe[X(509)].__esModule=!0,Xe[X(509)].default=Xe[X(509)]},687:function(Xe,X,Ce){var ve=M;Ce=Ce(61)(),Xe.exports=Ce;try{regeneratorRuntime=Ce}catch{ve(1415)==(typeof globalThis>"u"?"undefined":K(globalThis))?globalThis[ve(731)]=Ce:Function("r","regeneratorRuntime = r")(Ce)}}},Qe={},ie.n=function(D){var Xe=M,X=D&&D.__esModule?function(){return D[Xe(1507)]}:function(){return D};return ie.d(X,{a:X}),X},ie.d=function(D,Xe){var X=M;for(var Ce in Xe)ie.o(Xe,Ce)&&!ie.o(D,Ce)&&Object[X(645)](D,Ce,{enumerable:!0,get:Xe[Ce]})},ie.o=function(D,Xe){return Object[ce(1178)][ce(1340)][ce(1098)](D,Xe)},ie.r=function(D){var Xe=ce;typeof Symbol<"u"&&Symbol[Xe(1111)]&&Object.defineProperty(D,Symbol.toStringTag,{value:Xe(384)}),Object.defineProperty(D,"__esModule",{value:!0})},st={},function(){var D=ce;function Xe(ue,bi,Je,f,l,e,r){var C=M;try{var L=ue[e](r),ke=L[C(591)]}catch(ze){return void Je(ze)}L[C(1251)]?bi(ke):Promise[C(1548)](ke)[C(705)](f,l)}function X(ue){return function(){var bi=this,Je=arguments;return new Promise(function(f,l){var e=M,r=ue[e(1089)](bi,Je);function C(ke){Xe(r,f,l,C,L,"next",ke)}function L(ke){Xe(r,f,l,C,L,"throw",ke)}C(void 0)})}}function Ce(ue,bi){if(!(ue instanceof bi))throw new TypeError("Cannot call a class as a function")}function ve(ue,bi){for(var Je=M,f=0;f<bi.length;f++){var l=bi[f];l.enumerable=l[Je(1296)]||!1,l[Je(815)]=!0,Je(591)in l&&(l[Je(443)]=!0),Object[Je(645)](ue,l.key,l)}}function Le(ue,bi,Je){var f=M;return bi&&ve(ue[f(1178)],bi),Je&&ve(ue,Je),Object[f(645)](ue,f(1178),{writable:!1}),ue}ie.r(st),ie.d(st,{JSPlayCtrl:function(){return Da}});var ee=ie(687),pe=ie.n(ee),ee=ie(477),je=ie.n(ee);function mt(){var ue=M;return je()(ue(1586),ue(845),void 0,void 0)}var gt,Gt,li,Oi,ge,Ji,kt=1281,Lt=1282,Tt=1285,jt=1287,Dt=1288,Ft=1289,Kt=1302,wt=1,si=2,ht=3,Ii=0,ji=256,Zi=512,pi=768,sn=1024,ci=1280,Ut=1536,V=1792,w=2048,N=2304,T=2560,we=1,Se=2,Ne=4,Ye=8,bt=16,ni=32,Zt=function(){var ue=M;function bi(Je,f,l){var e=M;Ce(this,bi),this[e(1454)]=0,this[e(1384)]=0,this[e(1349)]=null,this[e(1561)]=!0,this[e(1113)]=[],this[e(1500)]=!0,this.sab=Je,this[e(964)]=30,this.needSetPreSoft=!1,this[e(1416)]=2,this.decoderOutSuccess=!1,this.decoderObjNeedReset=!1,this.oVideoRenderHandle=f,this[e(602)]=this[e(602)].bind(this),this[e(312)]=this[e(312)][e(979)](this),(this[e(1376)]=null)!=l&&(this[e(1376)]=l)}return Le(bi,[{key:ue(1271),value:function(){var f=ue,l;this.decoderObj==null&&(l={output:this[f(602)],error:this[f(312)]},this[f(1349)]=new VideoDecoder(l)),this[f(1500)]&&(this.underflow=!1,setTimeout(this[f(1439)][f(1141)](),0)),this.decoderCurStatus=2,this.FirstFrame=!0}},{key:ue(1545),value:function(f,l){var e=ue;this.decoderObj==null||e(600)!=this.decoderObj[e(1037)]&&!this[e(1561)]||this.decodeProcess(f,l),l[e(386)]&&this[e(1110)]()}},{key:ue(837),value:function(f){for(var l=ue,e=0,r=arguments[l(525)],C=new Array(1<r?r-1:0),L=1;L<r;L++)C[L-1]=arguments[L];for(var ke=0,ze=C;ke<ze[l(525)];ke++)e+=ze[ke][l(525)];for(var Yt=new f(e),j=0,W=0,ne=C;W<ne[l(525)];W++){var he=ne[W];Yt[l(483)](he,j),j+=he.length}return Yt}},{key:ue(523),value:function(f){for(var l=ue,e=null,r=null,C=null,L=!1,ke=!1,ze=0,Yt=0;Yt<f.length-4;Yt++){if(f[Yt]!=0||f[Yt+1]!=0||f[Yt+2]!=0||f[Yt+3]!=1||f[Yt+4]!=103&&f[Yt+4]!=39||(Yt!=0?(ke=!0,e=f[l(809)](Yt),ze=Yt):e=f),f[Yt]==0&&f[Yt+1]==0&&f[Yt+2]==0&&f[Yt+3]==1&&(f[Yt+4]==9||f[Yt+4]==6)){if(e==null)continue;r==null&&(r=f.slice(ze,Yt),L=!0)}if(f[Yt]==0&&f[Yt+1]==0&&f[Yt+2]==0&&f[Yt+3]==1&&(f[Yt+4]==101||f[Yt+4]==37)){L&&(C=f[l(809)](Yt));break}}return L?this.concatenate(Uint8Array,r,C):ke?e:f}},{key:ue(1369),value:function(f){return f[0]!=0||f[1]!=0||f[2]!=0||f[3]!=1||f[4]!=9&&f[4]!=6?f:f.slice(5)}},{key:ue(622),value:function(f,l,e,r){var C=ue,L="";if(l==5)L=C(848),console[C(1590)]("265 hard decoder");else if(l==256){for(var ke=0;ke<f[C(525)];ke++)if(f[ke]===103||f[ke]===39){for(var ze=f.subarray(ke+1,ke+4),L=C(1510),Yt=0;Yt<3;Yt++){var j=ze[Yt].toString(16);L+=j=j[C(525)]<2?"0"+j:j}break}console.log("264 hard decoder")}else console[C(1590)](C(876));var W={codec:L,hardwareAcceleration:"prefer-hardware",optimizeForLatency:1};return l!=5&&this[C(1222)]&&(W[C(453)]="prefer-software"),W}},{key:ue(1358),value:function(f,l){var e=ue;this[e(964)]!=l[e(964)]&&(this[e(964)]=l.frameRate),this[e(1454)]!=l[e(1454)]&&(this[e(1454)]=l[e(1454)]),this[e(1384)]!=l.height&&(this[e(1384)]=l.height),l[e(1222)]&&(this[e(1222)]=l[e(1222)]);var r=f;if(this[e(1416)]!=4&&this[e(1349)]!=null){if(this[e(1349)][e(1037)]=="configured"){var C=new EncodedVideoChunk({data:r,timestamp:l[e(432)],type:l[e(1392)]?e(581):e(945)});this[e(1349)][e(1027)](C),f=r=null,l[e(952)]}else if(l[e(1392)]&&e(1283)==this[e(1349)][e(1037)]){if(C=this[e(622)](f,l[e(714)],l[e(1454)],l[e(1384)]),C.codec=="")return-1;this[e(1349)][e(1185)](C),r=this[e(523)](f),this[e(1561)]=!1,C=new EncodedVideoChunk({data:r,timestamp:l.timeStamp,type:l[e(1392)]?e(581):e(945)}),this[e(1349)][e(1027)](C),r=null}}}},{key:ue(602),value:function(f){var l=ue;this[l(1349)][l(1037)]=="configured"?(f.format,f.codedWidth,f.codedHeight,f.displayWidth,f.displayHeight,f.duration,f.timestamp,this[l(1113)][l(962)](f),this[l(345)]||(this[l(345)]=!0)):f.close()}},{key:ue(778),value:function(f){var l=ue,e=this;f[l(559)],createImageBitmap(f)[l(705)](function(r){var C=l;f[C(327)](),e[C(1113)][C(962)](r)})}},{key:ue(312),value:function(f){var l=ue;console[l(1590)]("hardDecode reportError:"+f[l(1321)]+l(1099)+this[l(1349)][l(1037)]+",frameRate:"+this.frameRate),this[l(345)]?this[l(503)]=!0:(this[l(1439)][l(598)](),console[l(1590)]("%cswitch hardVideoDecoder to softVideoDecoder",l(692)))}},{key:"destroyDecoder",value:function(){var f=this;return new Promise(function(l,e){var r=M;f.clearDecoderObjBuffer()[r(705)](function(){var C=r;f.decoderObj!=null&&(C(897)!=f[C(1349)][C(1037)]&&f[C(1349)].close(),console[C(1590)](C(1165)),f[C(1349)]=null),f[C(1416)]=4,f.decoderOutSuccess=!1,f[C(1561)]=!0,f[C(1500)]=!0,f[C(1222)]=!1,f[C(503)]=!1,l()},function(){e()})})}},{key:"resetDecoder",value:function(){var f=this;return new Promise(function(l,e){var r=M;f[r(437)]()[r(705)](function(){var C=r;f.initDecoder(),console[C(1590)](C(1073),"color:red"),l()},function(){e()})})}},{key:ue(1579),value:function(){var f=this;return new Promise(function(l,e){for(var r=M,C=f.ready_frames[r(525)],L=0;L<C;L++)f[r(1113)].shift()[r(327)]();f[r(1113)][r(387)](0,f[r(1113)][r(525)]),f[r(1349)]!=null&&r(600)==f[r(1349)][r(1037)]&&f[r(1349)].reset(),l()})}},{key:ue(1110),value:function(){var f=ue;return this[f(1349)][f(1537)]==0&&this[f(1113)].length==0&&(this.decoderObj[f(1468)](),console[f(1590)](f(1468))),1}}]),bi}(),Me={SR_OK:1,SR_ERR_NOT_SUPPORT:2147483649,SR_ERR_SUBPORT:2147483650,SR_ERR_ALLOC_MEMORY:2147483651,SR_ERR_CALL_ORDER:2147483652,SR_ERR_PARAM:2147483653,SR_ERR_CAPTURE:2147483654,SR_ERR_SUBPORT_FULL:2147483655,SR_ERR_SHADER:2147483656,SR_ERR_3D_MODEL:2147483657,SR_ERR_FONT:2147483658,SR_ERR_MEMORY_LIMIT:2147483659,SR_ERR_WEBGPU_RESOURCE:2147483660,SR_ERR_CANVAS:2147483661,SR_ERR_FREETYPE_INIT:2147483662,SR_ERR_FREETYPE_RESOURCE:2147483663},dt={SR_DE_NULL:0,SR_DE_FISH_ORIGINAL:1,SR_DE_FISH_PTZ_CEILING:2,SR_DE_FISH_PTZ_FLOOR:3,SR_DE_FISH_PTZ_WALL:4,SR_DE_FISH_PANORAMA_CEILING_360:5,SR_DE_FISH_PANORAMA_CEILING_180:6,SR_DE_FISH_PANORAMA_FLOOR_360:7,SR_DE_FISH_PANORAMA_FLOOR_180:8,SR_DE_FISH_PANORAMA_WALL:9,SR_DE_FISH_SEMISPHERE:10,SR_DE_EAGLEEYE_SEMISPHERE:11,SR_DE_EAGLEEYE_PLANE:12,SR_DE_FISH_CYLINDER_CEILING:13,SR_DE_FISH_CYLINDER_FLOOR:14,SR_DE_FISH_CYLINDER_SPLIT_CEILING:15,SR_DE_FISH_CYLINDER_SPLIT_FLOOR:16,SR_DE_FISH_PLANET:17,SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL:18,SR_DE_FISH_ARCSPHERE_VERTICAL_WALL:19,SR_DE_FISH_ANIMATION_SWITCH_CEILING:20,SR_DE_FISH_ANIMATION_SWITCH_FLOOR:21,SR_DE_PANORAMA_SPHERE:22,SR_DE_PANORAMA_PLANET:23},ai=0,Fi=1,di=2,gi=3,Ki=4,Si=0,Ht=1,qt=2,vi=1,rn=2,En=3,an=0,cn=1,Rn=1,fn=2;function xn(ue,bi,Je){var f=M;bi in ue?Object[f(645)](ue,bi,{value:Je,enumerable:!0,configurable:!0,writable:!0}):ue[bi]=Je}function tr(ue,bi,Je,f){var l=M;return ue[l(494)](0)<<24|bi[l(494)](0)<<16|Je[l(494)](0)<<8|f[l(494)](0)}var $n=null,Tr=Le(function ue(){var bi=M;Ce(this,ue),xn(this,bi(844),function(){var Je=bi,f=X(pe()[Je(460)](function l(e,r,C){var L=Je,ke;return pe()[L(894)](function(ze){for(var Yt=L;;)switch(ze.prev=ze[Yt(811)]){case 0:$n==null&&((ke=document[Yt(1546)](Yt(1237)))[Yt(1378)]=Yt(953),ke.src=e,ke[Yt(1173)]=function(){var j=Yt;window[j(384)]()[j(705)](function(W){$n=W,r(C)})},document[Yt(1051)][Yt(1175)](ke));case 1:case Yt(974):return ze[Yt(1476)]()}},l)}));return function(l,e,r){var C=Je;return f[C(1089)](this,arguments)}}()),xn(this,"Error_String",function(Je){var f=bi;return $n[f(1401)](Je)}),xn(this,"Library_Version",function(Je){var f=bi,l=[0],e=[0],r=[0];return $n[f(1583)](Je.bind,l,e,r),{major:l[0],minor:e[0],patch:r[0]}}),xn(this,"Init_FreeType",function(Je){var f=bi;if($n!=null)return $n[f(1375)](Je[f(979)])}),xn(this,"Done_FreeType",function(Je){var f=bi;if($n!=null)return $n[f(792)](Je[f(979)])}),xn(this,bi(883),function(Je,f,l,e){var r=bi;if($n!=null)return $n[r(1338)](Je[r(979)],f,l,e[r(979)])}),xn(this,bi(1310),function(Je){var f=bi;if($n!=null)return $n[f(853)](Je[f(979)])}),xn(this,bi(530),function(Je,f){if($n!=null)return $n.FT_Get_Char_Index(Je.bind,f)}),xn(this,bi(1186),function(Je,f){var l=bi,e=2<arguments[l(525)]&&arguments[2]!==void 0?arguments[2]:ge[l(971)];if($n!=null)return $n.FT_Load_Char(Je[l(979)],f,e)}),xn(this,bi(354),function(Je,f,l,e,r){var C=bi;if($n!=null)return $n[C(1270)](Je[C(979)],f,l,e,r)}),xn(this,bi(1431),function(Je,f,l){var e=bi;if($n!=null)return $n[e(764)](Je[e(979)],f,l)}),xn(this,bi(1273),function(Je){var f=bi,l=1<arguments[f(525)]&&arguments[1]!==void 0?arguments[1]:Ji[f(800)];if($n!=null)return $n[f(1118)](Je,l)}),xn(this,bi(623),function(Je,f,l,e){var r=bi,C=4<arguments[r(525)]&&arguments[4]!==void 0?arguments[4]:new Gt;if($n!=null)return $n[r(740)](Je.bind,f,l,e,C)}),xn(this,bi(889),function(Je,f,l){var e=bi;if($n!=null)return $n[e(1007)](Je,f,l)})}),jn=((ee=gt=gt||{})[ee.Ok=0]="Ok",ee[ee[D(996)]=1]=D(996),ee[ee[D(653)]=2]="Unknown_File_Format",ee[ee[D(803)]=3]=D(803),ee[ee[D(807)]=4]=D(807),ee[ee[D(1059)]=5]="Lower_Module_Version",ee[ee[D(1481)]=6]=D(1481),ee[ee[D(688)]=7]="Unimplemented_Feature",ee[ee.Invalid_Table=8]=D(1448),ee[ee[D(1031)]=9]=D(1031),ee[ee[D(1289)]=10]=D(1289),ee[ee[D(1460)]=11]=D(1460),ee[ee[D(827)]=12]=D(827),ee[ee[D(1034)]=16]=D(1034),ee[ee[D(1013)]=17]="Invalid_Character_Code",ee[ee[D(627)]=18]=D(627),ee[ee[D(748)]=19]=D(748),ee[ee[D(1102)]=20]=D(1102),ee[ee[D(1471)]=21]=D(1471),ee[ee[D(557)]=22]="Too_Many_Hints",ee[ee[D(736)]=23]=D(736),ee[ee.Invalid_Handle=32]=D(542),ee[ee[D(1332)]=33]="Invalid_Library_Handle",ee[ee[D(887)]=34]="Invalid_Driver_Handle",ee[ee[D(859)]=35]=D(859),ee[ee.Invalid_Size_Handle=36]=D(392),ee[ee[D(1368)]=37]=D(1368),ee[ee[D(608)]=38]="Invalid_CharMap_Handle",ee[ee[D(511)]=39]="Invalid_Cache_Handle",ee[ee[D(898)]=40]=D(898),ee[ee[D(936)]=48]=D(936),ee[ee.Too_Many_Extensions=49]=D(679),ee[ee[D(1121)]=64]=D(1121),ee[ee[D(1390)]=65]=D(1390),ee[ee[D(638)]=81]=D(638),ee[ee[D(1513)]=82]=D(1513),ee[ee[D(524)]=83]=D(524),ee[ee[D(385)]=84]=D(385),ee[ee[D(821)]=85]=D(821),ee[ee.Invalid_Frame_Operation=86]=D(546),ee[ee[D(403)]=87]=D(403),ee[ee[D(1550)]=88]=D(1550),ee[ee.Raster_Uninitialized=96]="Raster_Uninitialized",ee[ee[D(1534)]=97]=D(1534),ee[ee[D(1493)]=98]=D(1493),ee[ee[D(1050)]=99]=D(1050),ee[ee.Too_Many_Caches=112]=D(1406),ee[ee[D(1191)]=128]=D(1191),ee[ee[D(1319)]=129]="Too_Few_Arguments",ee[ee.Stack_Overflow=130]=D(434),ee[ee[D(702)]=131]=D(702),ee[ee[D(538)]=132]="Bad_Argument",ee[ee[D(346)]=133]="Divide_By_Zero",ee[ee[D(1281)]=134]=D(1281),ee[ee[D(1495)]=135]=D(1495),ee[ee.ENDF_In_Exec_Stream=136]=D(849),ee[ee[D(553)]=137]=D(553),ee[ee[D(865)]=138]=D(865),ee[ee[D(637)]=139]=D(637),ee[ee[D(1428)]=140]="Too_Many_Function_Defs",ee[ee[D(1506)]=141]=D(1506),ee[ee[D(1560)]=142]="Table_Missing",ee[ee[D(1297)]=143]="Horiz_Header_Missing",ee[ee[D(910)]=144]=D(910),ee[ee[D(568)]=145]="Name_Table_Missing",ee[ee[D(1435)]=146]=D(1435),ee[ee[D(1389)]=147]="Hmtx_Table_Missing",ee[ee[D(975)]=148]="Post_Table_Missing",ee[ee.Invalid_Horiz_Metrics=149]=D(382),ee[ee[D(324)]=150]="Invalid_CharMap_Format",ee[ee[D(620)]=151]=D(620),ee[ee.Invalid_Vert_Metrics=152]="Invalid_Vert_Metrics",ee[ee[D(1008)]=153]=D(1008),ee[ee[D(1213)]=154]=D(1213),ee[ee[D(1449)]=155]=D(1449),ee[ee.DEF_In_Glyf_Bytecode=156]=D(1231),ee[ee.Missing_Bitmap=157]=D(495),ee[ee[D(566)]=160]=D(566),ee[ee[D(718)]=161]=D(718),ee[ee[D(1225)]=162]=D(1225),ee[ee[D(1234)]=163]=D(1234),ee[ee[D(662)]=164]="Glyph_Too_Big",ee[ee[D(442)]=176]="Missing_Startfont_Field",ee[ee[D(618)]=177]=D(618),ee[ee[D(464)]=178]="Missing_Size_Field",ee[ee[D(888)]=179]=D(888),ee[ee.Missing_Chars_Field=180]=D(999),ee[ee[D(1144)]=181]="Missing_Startchar_Field",ee[ee[D(788)]=182]=D(788),ee[ee[D(1093)]=183]=D(1093),ee[ee.Bbx_Too_Big=184]=D(895),ee[ee[D(1288)]=185]="Corrupted_Font_Header",ee[ee[D(735)]=186]=D(735),(ee={NONE:0,0:D(672)})[ee[D(1412)]=tr("c","o","m","p")]=D(1412),ee[ee[D(339)]=tr("b","i","t","s")]="BITMAP",ee[ee[D(1022)]=tr("o","u","t","l")]="OUTLINE",ee[ee[D(477)]=tr("p","l","o","t")]=D(477),Gt=Le(function ue(){Ce(this,ue),this.x=0,this.y=0}),li=function(){var ue=D;function bi(){Ce(this,bi),this.bind=[null]}return Le(bi,[{key:ue(520),value:function(){var f=ue,l=bind.FT_Init_FreeType(this[f(979)]);if(l!==gt.Ok)throw new Error("Library:init "+l[f(1503)]())}},{key:"done",value:function(){var f=ue,l=bind[f(792)](this[f(979)]);if(l!==gt.Ok)throw new Error("Library:done "+l[f(1503)]())}}]),bi}(),Oi=function(){var ue=D;function bi(){var Je=M;Ce(this,bi),this[Je(979)]=[null]}return Le(bi,[{key:ue(1479),get:function(){var f=ue;if(this[f(979)][0]===null)throw new Error;return this.bind[0]}},{key:ue(1518),get:function(){var f=ue;return this[f(1479)][f(1518)]}},{key:ue(709),get:function(){var f=ue;return this._bind[f(709)]}},{key:ue(1276),get:function(){var f=ue;return this[f(1479)][f(1276)]}},{key:ue(797),get:function(){var f=ue;return this[f(1479)][f(797)]}},{key:ue(1293),get:function(){var f=ue;return this[f(1479)][f(1293)]}},{key:ue(1312),get:function(){var f=ue;return this[f(1479)][f(1312)]}},{key:ue(1489),get:function(){var f=ue;return this[f(1479)][f(1489)]}},{key:ue(673),get:function(){var f=ue;return this[f(1479)][f(673)]}},{key:ue(475),get:function(){var f=ue;return this[f(1479)].units_per_EM}},{key:ue(1143),get:function(){var f=ue;return this[f(1479)][f(1143)]}},{key:ue(470),get:function(){return this._bind.descender}},{key:"height",get:function(){var f=ue;return this[f(1479)].height}},{key:"max_advance_width",get:function(){var f=ue;return this[f(1479)][f(1496)]}},{key:ue(860),get:function(){var f=ue;return this[f(1479)][f(860)]}},{key:ue(417),get:function(){var f=ue;return this[f(1479)][f(417)]}},{key:ue(590),get:function(){var f=ue;return this[f(1479)][f(590)]}},{key:ue(347),get:function(){var f=ue;return this[f(1479)].glyph}}]),bi}(),(ee=ge=ge||{})[ee[D(971)]=0]=D(971),ee[ee[D(1526)]=1]=D(1526),ee[ee[D(861)]=2]=D(861),ee[ee[D(851)]=4]="RENDER",ee[ee[D(913)]=8]=D(913),ee[ee.VERTICAL_LAYOUT=16]=D(1223),ee[ee[D(615)]=32]="FORCE_AUTOHINT",ee[ee.CROP_BITMAP=64]=D(1320),ee[ee[D(340)]=128]=D(340),ee[ee[D(425)]=512]="IGNORE_GLOBAL_ADVANCE_WIDTH",ee[ee[D(1253)]=1024]="NO_RECURSE",ee[ee[D(1543)]=2048]="IGNORE_TRANSFORM",ee[ee.MONOCHROME=4096]=D(1393),ee[ee.LINEAR_DESIGN=8192]=D(1202),ee[ee[D(1445)]=32768]=D(1445),ee[ee[D(1071)]=1048576]=D(1071),ee[ee.COMPUTE_METRICS=2097152]=D(1017),ee[ee.BITMAP_METRICS_ONLY=4194304]="BITMAP_METRICS_ONLY",ee[ee[D(455)]=256]=D(455),ee[ee[D(377)]=16384]=D(377),(ee=Ji=Ji||{})[ee[D(800)]=0]=D(800),ee[ee[D(1413)]=1]=D(1413),ee[ee[D(872)]=2]=D(872),ee[ee.LCD=3]=D(1587),ee[ee[D(808)]=4]=D(808),ee[ee[D(701)]=5]=D(701),D(1475)),wr=D(641),Er=D(1035),Qn=.05,Un=1e-6,ar=3.1415926,Sa=.78539815,Gr=1e-6,br=D(1011)!=(typeof Float32Array>"u"?"undefined":K(Float32Array))?Float32Array:Array;Math.hypot||(Math[D(378)]=function(){for(var ue=0,bi=arguments.length;bi--;)ue+=arguments[bi]*arguments[bi];return Math.sqrt(ue)});function ea(){var ue=new br(16);return br!=Float32Array&&(ue[1]=0,ue[2]=0,ue[3]=0,ue[4]=0,ue[6]=0,ue[7]=0,ue[8]=0,ue[9]=0,ue[11]=0,ue[12]=0,ue[13]=0,ue[14]=0),ue[0]=1,ue[5]=1,ue[10]=1,ue[15]=1,ue}function Fa(ue,It,Je){var f=It[0],l=It[1],e=It[2],r=It[3],C=It[4],L=It[5],ke=It[6],ze=It[7],Yt=It[8],j=It[9],W=It[10],ne=It[11],he=It[12],et=It[13],Rt=It[14],It=It[15],Qt=Je[0],Ai=Je[1],on=Je[2],Ei=Je[3];return ue[0]=Qt*f+Ai*C+on*Yt+Ei*he,ue[1]=Qt*l+Ai*L+on*j+Ei*et,ue[2]=Qt*e+Ai*ke+on*W+Ei*Rt,ue[3]=Qt*r+Ai*ze+on*ne+Ei*It,Qt=Je[4],Ai=Je[5],on=Je[6],Ei=Je[7],ue[4]=Qt*f+Ai*C+on*Yt+Ei*he,ue[5]=Qt*l+Ai*L+on*j+Ei*et,ue[6]=Qt*e+Ai*ke+on*W+Ei*Rt,ue[7]=Qt*r+Ai*ze+on*ne+Ei*It,Qt=Je[8],Ai=Je[9],on=Je[10],Ei=Je[11],ue[8]=Qt*f+Ai*C+on*Yt+Ei*he,ue[9]=Qt*l+Ai*L+on*j+Ei*et,ue[10]=Qt*e+Ai*ke+on*W+Ei*Rt,ue[11]=Qt*r+Ai*ze+on*ne+Ei*It,Qt=Je[12],Ai=Je[13],on=Je[14],Ei=Je[15],ue[12]=Qt*f+Ai*C+on*Yt+Ei*he,ue[13]=Qt*l+Ai*L+on*j+Ei*et,ue[14]=Qt*e+Ai*ke+on*W+Ei*Rt,ue[15]=Qt*r+Ai*ze+on*ne+Ei*It,ue}function ka(ue,bi,Je,A){var l=D,e,r,C,L,ke,ze,Yt,j,W,ne,he,et,Rt,It,Qt,Ai,on,Ei,Xi,wi,B=A[0],p=A[1],A=A[2],Y=Math.hypot(B,p,A);Y<Gr||(B*=Y=1/Y,p*=Y,A*=Y,Y=Math[l(514)](Je),Je=Math[l(1268)](Je),r=bi[0],C=bi[1],L=bi[2],ke=bi[3],ze=bi[4],Yt=bi[5],j=bi[6],W=bi[7],ne=bi[8],he=bi[9],et=bi[10],Rt=bi[11],Qt=B*p*(e=1-Je)-A*Y,Ai=p*p*e+Je,on=A*p*e+B*Y,Ei=B*A*e+p*Y,Xi=p*A*e-B*Y,wi=A*A*e+Je,ue[0]=r*(Je=B*B*e+Je)+ze*(It=p*B*e+A*Y)+ne*(A=A*B*e-p*Y),ue[1]=C*Je+Yt*It+he*A,ue[2]=L*Je+j*It+et*A,ue[3]=ke*Je+W*It+Rt*A,ue[4]=r*Qt+ze*Ai+ne*on,ue[5]=C*Qt+Yt*Ai+he*on,ue[6]=L*Qt+j*Ai+et*on,ue[7]=ke*Qt+W*Ai+Rt*on,ue[8]=r*Ei+ze*Xi+ne*wi,ue[9]=C*Ei+Yt*Xi+he*wi,ue[10]=L*Ei+j*Xi+et*wi,ue[11]=ke*Ei+W*Xi+Rt*wi,bi!==ue&&(ue[12]=bi[12],ue[13]=bi[13],ue[14]=bi[14],ue[15]=bi[15]))}var Jn=function(bi,Je,f,l,e){var r=D;return Je=1/Math[r(616)](Je/2),bi[0]=Je/f,bi[1]=0,bi[2]=0,bi[3]=0,bi[4]=0,bi[5]=Je,bi[6]=0,bi[7]=0,bi[8]=0,bi[9]=0,bi[11]=-1,bi[12]=0,bi[13]=0,bi[15]=0,e!=null&&e!==1/0?(bi[10]=(e+l)*(f=1/(l-e)),bi[14]=2*e*l*f):(bi[10]=-1,bi[14]=-2*l),bi},ca=function(bi,Je,f,l,e,r,C){var L=1/(Je-f),ke=1/(l-e),ze=1/(r-C);return bi[0]=-2*L,bi[1]=0,bi[2]=0,bi[3]=0,bi[4]=0,bi[5]=-2*ke,bi[6]=0,bi[7]=0,bi[8]=0,bi[9]=0,bi[10]=2*ze,bi[11]=0,bi[12]=(Je+f)*L,bi[13]=(e+l)*ke,bi[14]=(C+r)*ze,bi[15]=1,bi};function Or(){var ue=new br(3);return br!=Float32Array&&(ue[0]=0,ue[1]=0,ue[2]=0),ue}function dr(ue,bi,Je){var f=new br(3);return f[0]=ue,f[1]=bi,f[2]=Je,f}Or(),ee=new br(4),br!=Float32Array&&(ee[0]=0,ee[1]=0,ee[2]=0,ee[3]=0);function xa(){var ue=new br(4);return br!=Float32Array&&(ue[0]=0,ue[1]=0,ue[2]=0),ue[3]=1,ue}Or(),dr(1,0,0),dr(0,1,0),xa(),xa(),ee=new br(9),br!=Float32Array&&(ee[1]=0,ee[2]=0,ee[3]=0,ee[5]=0,ee[6]=0,ee[7]=0),ee[0]=1,ee[4]=1,ee[8]=1,ee=new br(2),br!=Float32Array&&(ee[0]=0,ee[1]=0);var Ar=function(){var ue=D;function bi(){var Je=M;Ce(this,bi),this[Je(852)]=.785,this[Je(1488)]=1,this[Je(1240)]=.02,this[Je(1505)]=1e3,this[Je(1337)]=0,this[Je(1095)]=0,this[Je(970)]=0,this[Je(649)]=1,this.bOrtho=!1,this.matView=ea(),this[Je(1308)]=ea(),this[Je(1169)]=dr(0,0,0),this.vecCenter=dr(0,0,100),this[Je(1581)]=dr(0,1,0)}return Le(bi,[{key:ue(338),value:function(f){this.fTheta=f}},{key:"GetYaw",value:function(){var f=ue;return this[f(1337)]}},{key:"SetPitch",value:function(f){var l=ue;this[l(1095)]=f}},{key:ue(1177),value:function(){return this.fAlpha}},{key:"SetRoll",value:function(f){var l=ue;this[l(970)]=f}},{key:ue(348),value:function(){return this.fBeta}},{key:ue(995),value:function(f){var l=ue;this[l(649)]=f}},{key:"GetScale",value:function(){var f=ue;return this[f(649)]}},{key:ue(659),value:function(f){var l=ue;this[l(852)]=f}},{key:ue(791),value:function(f){this.fAspect=f}},{key:ue(1400),value:function(f){var l=ue;this[l(1240)]=f}},{key:"SetFar",value:function(f){var l=ue;this[l(1505)]=f}},{key:ue(1136),value:function(f){var l=ue;this[l(1517)]=f}},{key:ue(311),value:function(f,l){var e=ue,r,C,L,ke,ze,Yt;f<=0||l<=0||(this[e(1517)]==1?ca(this.matProj,0,f,l,0,this[e(1240)],this[e(1505)]):(r=this[e(852)]/ar*180,Jn(this.matProj,r,f/l,this[e(1240)],this[e(1505)])),this[e(1169)]=dr(0,0,this.fScale),this[e(506)]=dr(0,0,0),this[e(1581)]=dr(0,1,0),r=dr(1,0,0),f=dr(0,1,0),l=dr(0,0,1),function(j,Xi,Te,p){var et=e,Rt,It,Qt,Ai,on=Xi[0],Ei=Xi[1],Xi=Xi[2],wi=p[0],B=p[1],p=p[2],A=Te[0],Y=Te[1],Te=Te[2];if(Math[et(1502)](on-A)<Gr&&Math[et(1502)](Ei-Y)<Gr&&Math.abs(Xi-Te)<Gr)return(Ai=j)[0]=1,Ai[1]=0,Ai[2]=0,Ai[3]=0,Ai[4]=0,Ai[5]=1,Ai[6]=0,Ai[7]=0,Ai[8]=0,Ai[9]=0,Ai[10]=1,Ai[11]=0,Ai[12]=0,Ai[13]=0,Ai[14]=0,Ai[15]=1;Ai=Xi-Te,Rt=B*(Ai*=Y=1/Math[et(378)](Te=on-A,A=Ei-Y,Ai))-p*(A*=Y),p=p*(Te*=Y)-wi*Ai,wi=wi*A-B*Te,(Y=Math[et(378)](Rt,p,wi))?(Rt*=Y=1/Y,p*=Y,wi*=Y):wi=p=Rt=0,B=A*wi-Ai*p,It=Ai*Rt-Te*wi,Qt=Te*p-A*Rt,(Y=Math[et(378)](B,It,Qt))?(B*=Y=1/Y,It*=Y,Qt*=Y):Qt=It=B=0,j[0]=Rt,j[1]=B,j[2]=Te,j[3]=0,j[4]=p,j[5]=It,j[6]=A,j[7]=0,j[8]=wi,j[9]=Qt,j[10]=Ai,j[11]=0,j[12]=-(Rt*on+p*Ei+wi*Xi),j[13]=-(B*on+It*Ei+Qt*Xi),j[14]=-(Te*on+A*Ei+Ai*Xi),j[15]=1}(C=ea(),this[e(1169)],this.vecCenter,this[e(1581)]),L=ea(),ke=ea(),ze=ea(),Yt=ea(),ka(ke,L,-this[e(1095)],r),ka(ze,ke,-this[e(1337)],f),ka(Yt,ze,-this[e(970)],l),Fa(this[e(956)],C,Yt))}},{key:ue(998),value:function(){var f=ue;return this[f(956)]}},{key:ue(1210),value:function(){var f=ue;return this[f(1308)]}}]),bi}(),Ia=function(){var ue=D;function bi(){var f=M;Ce(this,bi),this[f(863)]=null,this.ctx=null,this.videoShaderProgram=0,this[f(309)]=0,this[f(775)]=0,this.frameDisplayWidth=0,this[f(320)]=0,this[f(978)]=!1,this[f(355)]=!1,this[f(1023)]=!0,this[f(1571)]=0,this.nMaxPointNum=0,this[f(522)]=null,this[f(1394)]=null,this[f(1014)]=0,this.glLineClrBuffer=0,this[f(1256)]=0,this[f(1108)]=0,this[f(1065)]=null,this[f(603)]=null,this.nMaxFillBlockTriNum=0,this[f(1130)]=0,this[f(1085)]=0,this[f(560)]=0,this[f(1096)]=!1,this[f(782)]=null,this.FreetypeLibHandle=null,this.FTFace=null,this[f(411)]=null,this[f(890)]=0,this[f(1313)]=0,this.nFontColorTexture=0,this[f(644)]=0,this[f(551)]=0,this[f(1328)]=0,this[f(941)]=[],this[f(828)]=!1,this[f(429)]=null,this.enDisplayEffect=dt.SR_DE_NULL,this[f(1491)]=-1,this[f(582)]=!1,this.pSemiSpherePos=null,this.pSemiSphereTex=null,this.nSemiSpherePosNum=0,this[f(1566)]=0,this.nSemiSphereTexSize=0,this[f(334)]=null,this[f(371)]=null,this[f(801)]=0,this[f(1109)]=0,this[f(749)]=0,this.fCylinderHeight=0,this[f(493)]=0,this[f(983)]=!1,this[f(482)]=null,this.fRotateX=0,this[f(669)]=0,this.fScale=0,this[f(1333)]=null,this[f(1075)]=null,this[f(1230)]=null,this[f(1411)]=null,this[f(762)]=!0}var Je;return Le(bi,[{key:ue(1359),value:function(l,e){var r=ue,C=this[r(926)];if(C==null||l==null||e==null)return-1;var L=C[r(855)](C[r(353)]);return C.shaderSource(L,l),C[r(1307)](L),C.getShaderParameter(L,C[r(629)])?(l=C.createShader(C[r(539)]),C[r(532)](l,e),C[r(1307)](l),C[r(757)](l,C[r(629)])?(e=C.createProgram(),C[r(730)](e,L),C[r(730)](e,l),C[r(1573)](e),C.getProgramParameter(e,C[r(1149)])?(C[r(1205)](L),C[r(1205)](l),e):(console[r(1590)]("Program failed to compile: "+C[r(950)](e)),-1)):(console[r(1590)](r(906)+C[r(813)](l)),-1)):(console[r(1590)](r(407)+C[r(813)](L)),-1)}},{key:ue(1483),value:function(l){var e=ue;return l==null?Me[e(650)]:(this[e(863)]=l,this[e(926)]=this[e(863)].getContext(e(1549)),this[e(926)]||(this[e(926)]=this[e(863)][e(1021)]("webgl")||this[e(863)].getContext(e(763)),this[e(978)]=!0,console[e(1590)]("only support webgl1")),this[e(926)]?Me.SR_OK:(console[e(1590)]("your browser does not support WebGL"),Me[e(1129)]))}},{key:"SR_Draw",value:function(l){var e=ue;if(this[e(926)]==null)return Me.SR_ERR_CALL_ORDER;if(l==null)return Me.SR_ERR_PARAM;if(this.videoShaderProgram==0||this[e(309)]==0||this[e(775)]==0)return Me[e(1538)];if(this[e(1584)]==l[e(1501)]&&this[e(320)]==l[e(526)]||(this[e(1584)]=l[e(1501)],this[e(320)]=l[e(526)]),this.bRecreateTex==1){this[e(1571)]!=0&&(r=this[e(1571)],this.ctx.deleteTexture(r),this[e(1571)]=0);var r=this[e(926)][e(1514)]();if(r<=0)return Me[e(528)];this[e(926)].bindTexture(this[e(926)].TEXTURE_2D,r),this.bAntialias==1?this[e(926)][e(760)](this[e(926)][e(588)],this.ctx[e(373)],this[e(926)].LINEAR_MIPMAP_NEAREST):this[e(926)][e(760)](this[e(926)][e(588)],this.ctx[e(373)],this[e(926)].LINEAR),this[e(926)][e(760)](this[e(926)].TEXTURE_2D,this[e(926)][e(715)],this[e(926)][e(406)]),this[e(926)][e(760)](this[e(926)][e(588)],this[e(926)][e(976)],this[e(926)].CLAMP_TO_EDGE),this[e(926)].texParameteri(this[e(926)][e(588)],this[e(926)].TEXTURE_WRAP_T,this.ctx.CLAMP_TO_EDGE),this[e(1571)]=r,this[e(1023)]=!1}if(this[e(926)][e(756)](this[e(1257)]),this.ctx[e(1044)](this.ctx[e(1331)],this[e(309)]),r=this[e(926)][e(416)](this[e(1257)],"xy"),r<0)return Me[e(528)];if(this[e(926)].vertexAttribPointer(r,3,this[e(926)][e(1473)],!1,0,0),this[e(926)][e(1362)](r),this.ctx[e(1044)](this[e(926)][e(1331)],this[e(775)]),r=this[e(926)][e(416)](this.videoShaderProgram,"uv"),r<0)return Me.SR_ERR_WEBGL_RESOURCE;this[e(926)][e(1193)](r,2,this.ctx[e(1473)],!1,0,0),this[e(926)][e(1362)](r),this[e(926)][e(1044)](this[e(926)][e(1331)],null);var C=this.enDisplayEffect;switch(C){case dt[e(1347)]:break;case dt.SR_DE_FISH_ORIGINAL:case dt[e(1282)]:case dt[e(474)]:case dt[e(994)]:case dt[e(1379)]:case dt[e(1212)]:case dt[e(472)]:case dt.SR_DE_FISH_PANORAMA_FLOOR_180:case dt.SR_DE_FISH_PANORAMA_WALL:if(this[e(429)]==null)return Me[e(1538)];var ke=[],L=this.pFishParamManager[e(796)](this[e(1491)],ke);if(Me[e(593)]!=L)return L;if(dt[e(677)]==C){if(L=this.ctx[e(893)](this.videoShaderProgram,e(368)),L<=0||(this[e(926)][e(871)](L,ke.bBlack),L=this[e(926)].getUniformLocation(this[e(1257)],e(818)),L<=0))return Me[e(528)];this.ctx[e(871)](L,ke[e(818)])}if(dt.SR_DE_FISH_PTZ_CEILING==C||dt[e(474)]==C||dt.SR_DE_FISH_PTZ_WALL==C){if(L=this[e(926)][e(893)](this[e(1257)],e(988)),L<=0||(this.ctx.uniform1f(L,ke[e(780)]),L=this[e(926)].getUniformLocation(this.videoShaderProgram,e(1211)),L<=0)||(this[e(926)].uniform1f(L,ke.fSinH),L=this.ctx.getUniformLocation(this.videoShaderProgram,e(927)),L<=0)||(this[e(926)].uniform1f(L,ke[e(1025)]),L=this[e(926)][e(893)](this.videoShaderProgram,e(451)),L<=0)||(this[e(926)].uniform1f(L,ke.fSinV),L=this[e(926)][e(893)](this[e(1257)],e(1580)),L<=0))return Me[e(528)];this[e(926)][e(375)](L,ke[e(1580)])}if(dt[e(1379)]==C||dt[e(1212)]==C||dt[e(472)]==C||dt.SR_DE_FISH_PANORAMA_FLOOR_180==C){if(L=this[e(926)].getUniformLocation(this.videoShaderProgram,"fAngle"),L<=0)return Me.SR_ERR_WEBGL_RESOURCE;this[e(926)][e(375)](L,ke[e(1485)])}if(L=this.ctx.getUniformLocation(this.videoShaderProgram,"fRX1"),L<=0)return Me[e(528)];if(this.ctx[e(375)](L,ke[e(473)]),L=this[e(926)][e(893)](this.videoShaderProgram,e(332)),L<=0)return Me.SR_ERR_WEBGL_RESOURCE;if(this.ctx[e(375)](L,ke[e(919)]),L=this[e(926)][e(893)](this[e(1257)],e(737)),L<=0||(this[e(926)].uniform1f(L,ke[e(1171)]),L=this.ctx[e(893)](this[e(1257)],"fRY2"),L<=0))return Me[e(528)];this[e(926)][e(375)](L,ke[e(825)]);break;case dt[e(1010)]:this[e(482)][e(995)](this[e(649)]),this[e(482)].SetPitch(3.14-this[e(420)]),this[e(482)].SetYaw(-this[e(669)]),this.pCamera[e(311)](this[e(863)][e(1454)],this[e(863)][e(1384)]);var L=this[e(482)][e(998)](),ke=this[e(482)][e(1210)](),ze=this.ctx[e(893)](this[e(1257)],e(956));if(ze<=0||(this[e(926)][e(1541)](ze,!1,L),ze=this[e(926)][e(893)](this.videoShaderProgram,e(1308)),ze<=0))return Me[e(528)];this.ctx.uniformMatrix4fv(ze,!1,ke);break;case dt.SR_DE_FISH_CYLINDER_CEILING:case dt[e(405)]:if(this.pCamera[e(995)](this.fScale),this[e(482)][e(515)](-this.fRotateX),this[e(482)][e(338)](-this[e(669)]),this.pCamera[e(311)](this[e(863)][e(1454)],this[e(863)][e(1384)]),L=this[e(482)][e(998)](),ze=this[e(482)][e(1210)](),ke=this.ctx.getUniformLocation(this[e(1257)],e(956)),ke<=0||(this[e(926)].uniformMatrix4fv(ke,!1,L),ke=this[e(926)][e(893)](this[e(1257)],e(1308)),ke<=0))return Me[e(528)];this[e(926)].uniformMatrix4fv(ke,!1,ze)}if(this.canvas.width<=0||this.canvas[e(1384)]<=0)return Me[e(1129)];if(this[e(926)][e(349)](0,0,this[e(863)][e(1454)],this[e(863)][e(1384)]),this.ctx.clearColor(0,0,0,1),this[e(926)].clear(this[e(926)][e(744)]|this[e(926)].DEPTH_BUFFER_BIT),this[e(983)]&&(this[e(926)][e(326)](this[e(926)].DEPTH_TEST),this[e(926)][e(610)](this.ctx.LESS),this.ctx[e(1383)](!0),this[e(762)]==1?this.ctx[e(326)](this[e(926)][e(533)]):this[e(926)].disable(this.ctx[e(533)])),this.ctx[e(1227)](this[e(926)].TEXTURE_2D,0,this[e(926)].RGBA,this.ctx[e(917)],this.ctx[e(1084)],l),this[e(355)]==1&&this[e(926)][e(450)](this.ctx[e(588)]),this.onlySupportedWebGL1||this[e(926)][e(314)](this[e(926)][e(1078)],0,1,0),this[e(983)]==0)this.ctx[e(908)](this.ctx[e(424)],0,4);else if(this[e(1198)]==dt[e(1010)]){if(this[e(794)]<=0)return Me.SR_ERR_CALL_ORDER;this.ctx[e(908)](this[e(926)][e(1381)],0,this.nSemiSpherePosNum)}else if(this[e(1198)]==dt[e(364)]){if(this[e(801)]<=0)return Me.SR_ERR_CALL_ORDER;this[e(926)].drawArrays(this[e(926)].TRIANGLES,0,this[e(801)])}return this[e(926)][e(756)](null),this[e(582)]==0&&this[e(429)]!=null&&(r=this.pFishParamManager[e(631)]())!=-1&&r==this[e(1491)]&&this[e(617)](),this[e(1333)]!=null&&this[e(1333)](this[e(1230)]),this[e(1075)]!=null&&this[e(1075)](this[e(1411)]),Me[e(593)]}},{key:ue(617),value:function(){var l=ue;if(this[l(429)]==null)return Me.SR_ERR_CALL_ORDER;for(var e=this[l(429)][l(1062)](),r=0,C=[],L=(C.fR=0,C.fG=0,C.fB=0,C.fA=0,Me[l(593)]),ke=0;ke<32;++ke)if(this[l(429)].IsPortAllocated(ke)!=0){if(r=2,L=this[l(429)][l(613)](ke,C),Me[l(593)]!=L)return L;this[l(429)][l(954)](ke)==1&&(r+=1);var ze=this[l(429)][l(631)]();if(ke!=ze&&qt==e){if(dt[l(677)]==this.pFishParamManager.GetDisplayEffect(ze)){var Yt=[],L=this[l(429)][l(802)](ke,Yt,qt);if(Me.SR_OK!=L||Yt[l(319)]!=null&&Yt.nPointNum!=0&&(L=this.SR_DrawLines(Yt[l(319)],Yt[l(665)],!0,C,r,!1),Me[l(593)]!=L))return L}}else if(ke!=ze&&Ht==e&&(Yt=[],L=this[l(429)][l(802)](ke,Yt,Ht),Me[l(593)]!=L||Yt[l(319)]!=null&&Yt.nPointNum!=0&&(L=this[l(691)](Yt.pstPoints,Yt[l(665)],!0,C,r,!1),Me[l(593)]!=L)))return L}return Me.SR_OK}},{key:ue(508),value:function(l,e,r){var C=ue;if(this.ctx==null)return Me[C(1538)];if(l==null||e<1||r<2)return Me[C(650)];for(var L=0,ke=0;ke<e;++ke){if(l[ke][C(319)]==null||l[ke].nPointNum<3||l[ke][C(667)]!==!0||l[ke][C(556)]==null)return Me[C(650)];L+=l[ke][C(665)]}if(L!==r)return Me[C(650)];if(r-=2*e,r>this[C(1038)]&&(this.pFillBlockPosVertices=null,this[C(603)]=null,this[C(1038)]=r),this[C(1130)]==0&&(this[C(1130)]=this[C(926)].createBuffer(),this.glBlockPosBuffer==0)||this[C(1085)]==0&&(this.glBlockClrBuffer=this[C(926)][C(1450)](),this[C(1085)]==0))return Me[C(528)];if(this[C(1065)]==null){var ze=this.nMaxFillBlockTriNum;if(this[C(1065)]=new Float32Array(3*ze*3),this[C(1065)]==null)return Me[C(694)]}if(this.pFillBlockPosVertices[C(329)](0),this[C(603)]==null&&(ze=this.nMaxFillBlockTriNum,this[C(603)]=new Float32Array(4*ze*3),this[C(603)]==null))return Me[C(694)];this[C(603)][C(329)](0);for(var Yt,j,W,ne=0,he=0,et={},Rt={},It={},Qt=0;Qt<e;++Qt){Yt=l[Qt].nPointNum,j=l[Qt].pstPoints,W=l[Qt][C(556)],et.fX=2*j[0].fX-1,et.fY=1-2*j[0].fY;for(var Ai=1;Ai<Yt-1;Ai++)Rt.fX=2*j[Ai].fX-1,Rt.fY=1-2*j[Ai].fY,It.fX=2*j[Ai+1].fX-1,It.fY=1-2*j[Ai+1].fY,this[C(1065)][ne++]=et.fX,this[C(1065)][ne++]=et.fY,this[C(1065)][ne++]=0,this[C(603)][he++]=W.fR,this[C(603)][he++]=W.fG,this[C(603)][he++]=W.fB,this[C(603)][he++]=W.fA,this.pFillBlockPosVertices[ne++]=Rt.fX,this.pFillBlockPosVertices[ne++]=Rt.fY,this[C(1065)][ne++]=0,this[C(603)][he++]=W.fR,this[C(603)][he++]=W.fG,this.pFillBlockClrVertices[he++]=W.fB,this.pFillBlockClrVertices[he++]=W.fA,this.pFillBlockPosVertices[ne++]=It.fX,this.pFillBlockPosVertices[ne++]=It.fY,this[C(1065)][ne++]=0,this[C(603)][he++]=W.fR,this[C(603)][he++]=W.fG,this.pFillBlockClrVertices[he++]=W.fB,this[C(603)][he++]=W.fA}return this.nBlockShaderProgram==0&&(this.nBlockShaderProgram=this.CompileProgram(wr,Er),this[C(560)]==0)?Me.SR_ERR_WEBGL_RESOURCE:(this[C(926)][C(326)](this.ctx.BLEND),this[C(926)].blendFunc(this[C(926)][C(858)],this[C(926)][C(921)]),this.ctx.bindBuffer(this[C(926)][C(1331)],this[C(1130)]),this[C(926)].bufferData(this[C(926)][C(1331)],this[C(1065)],this[C(926)][C(914)]),this.ctx[C(1044)](this[C(926)].ARRAY_BUFFER,null),this[C(926)][C(1044)](this[C(926)].ARRAY_BUFFER,this[C(1085)]),this[C(926)][C(724)](this.ctx[C(1331)],this[C(603)],this[C(926)][C(914)]),this[C(926)][C(1044)](this.ctx[C(1331)],null),this[C(926)].useProgram(this.nBlockShaderProgram),this[C(926)].bindBuffer(this.ctx[C(1331)],this[C(1130)]),ze=this[C(926)][C(416)](this[C(560)],C(1052)),this[C(926)][C(1362)](ze),this[C(926)][C(1193)](ze,3,this[C(926)][C(1473)],!1,0,0),this[C(926)][C(1044)](this[C(926)][C(1331)],null),this[C(926)][C(1044)](this[C(926)][C(1331)],this[C(1085)]),ze=this.ctx.getAttribLocation(this[C(560)],C(882)),this.ctx[C(1362)](ze),this[C(926)][C(1193)](ze,4,this[C(926)][C(1473)],!1,0,0),this.ctx[C(1044)](this.ctx[C(1331)],null),this[C(926)].drawArrays(this[C(926)].TRIANGLES,0,3*r),this[C(926)].useProgram(null),this[C(926)][C(1076)](this[C(926)][C(661)]),Me[C(593)])}},{key:"ComputeLinePoint",value:function(l,e){var r=ue;if(l==null||e<1)return Me[r(650)];if(this[r(522)]==null||this[r(1394)]==null)return Me[r(1538)];for(var C,L,ke=0,ze=0,Yt=0,j=0,W=0,ne=0,he=0,et=0,Rt=0;Rt<e;++Rt){var It=[],Qt=l[Rt][r(665)];if(!(Qt<=0)){for(var Ai=0;Ai<Qt;++Ai){var on={};on.fX=l[Rt][r(319)][Ai].fX,on.fX=2*on.fX-1,on.fY=l[Rt].pstPoints[Ai].fY,on.fY=1-2*on.fY,It.push(on)}if(this.canvas[r(1454)]<=0||this[r(863)][r(1384)]<=0)return Me.SR_ERR_CANVAS;if(C=3.5*l[Rt][r(609)]/this.canvas[r(1454)],L=3.5*l[Rt][r(609)]/this[r(863)].height,C<=0||L<=0)return Me[r(650)];var Ei=l[Rt][r(556)];if(Ei==null)return Me.SR_ERR_PARAM;for(var Xi=0;Xi<Qt-1;++Xi)ze=It[Xi+1].fX-It[Xi].fX,Yt=It[Xi+1].fY-It[Xi].fY,ke=Math[r(1540)](ze*ze+Yt*Yt),Math[r(1502)](+ke)<1e-6||(W=L*ze/ke/2,this[r(522)][he++]=It[Xi].fX+(j=-C*Yt/ke/2),this[r(522)][he++]=It[Xi].fY+W,this.pLinePosVertices[he++]=-1,this[r(1394)][et++]=Ei.fR,this[r(1394)][et++]=Ei.fG,this[r(1394)][et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,this[r(522)][he++]=It[Xi+1].fX-j,this[r(522)][he++]=It[Xi+1].fY-W,this[r(522)][he++]=1,this[r(1394)][et++]=Ei.fR,this.pLineClrVertices[et++]=Ei.fG,this.pLineClrVertices[et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,this[r(522)][he++]=It[Xi].fX-j,this[r(522)][he++]=It[Xi].fY-W,this.pLinePosVertices[he++]=1,this[r(1394)][et++]=Ei.fR,this[r(1394)][et++]=Ei.fG,this[r(1394)][et++]=Ei.fB,this.pLineClrVertices[et++]=Ei.fA,this[r(522)][he++]=It[Xi].fX+j,this.pLinePosVertices[he++]=It[Xi].fY+W,this[r(522)][he++]=-1,this[r(1394)][et++]=Ei.fR,this[r(1394)][et++]=Ei.fG,this[r(1394)][et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,this[r(522)][he++]=It[Xi+1].fX+j,this[r(522)][he++]=It[Xi+1].fY+W,this.pLinePosVertices[he++]=-1,this.pLineClrVertices[et++]=Ei.fR,this.pLineClrVertices[et++]=Ei.fG,this[r(1394)][et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,this[r(522)][he++]=It[Xi+1].fX-j,this.pLinePosVertices[he++]=It[Xi+1].fY-W,this.pLinePosVertices[he++]=1,this.pLineClrVertices[et++]=Ei.fR,this[r(1394)][et++]=Ei.fG,this.pLineClrVertices[et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,ne+=2);l[Rt][r(667)]==1&&2<Qt&&(ze=It[Qt-1].fX-It[0].fX,Yt=It[Qt-1].fY-It[0].fY,ke=Math[r(1540)](ze*ze+Yt*Yt),1e-6<Math[r(1502)](+ke)&&(W=L*ze/ke/2,this[r(522)][he++]=It[0].fX+(j=-C*Yt/ke/2),this[r(522)][he++]=It[0].fY+W,this[r(522)][he++]=-1,this.pLineClrVertices[et++]=Ei.fR,this[r(1394)][et++]=Ei.fG,this[r(1394)][et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,this[r(522)][he++]=It[Qt-1].fX-j,this[r(522)][he++]=It[Qt-1].fY-W,this[r(522)][he++]=1,this[r(1394)][et++]=Ei.fR,this[r(1394)][et++]=Ei.fG,this[r(1394)][et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,this[r(522)][he++]=It[0].fX-j,this[r(522)][he++]=It[0].fY-W,this[r(522)][he++]=1,this[r(1394)][et++]=Ei.fR,this[r(1394)][et++]=Ei.fG,this.pLineClrVertices[et++]=Ei.fB,this.pLineClrVertices[et++]=Ei.fA,this[r(522)][he++]=It[0].fX+j,this.pLinePosVertices[he++]=It[0].fY+W,this.pLinePosVertices[he++]=-1,this[r(1394)][et++]=Ei.fR,this.pLineClrVertices[et++]=Ei.fG,this[r(1394)][et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,this[r(522)][he++]=It[Qt-1].fX+j,this.pLinePosVertices[he++]=It[Qt-1].fY+W,this[r(522)][he++]=-1,this[r(1394)][et++]=Ei.fR,this[r(1394)][et++]=Ei.fG,this[r(1394)][et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,this[r(522)][he++]=It[Qt-1].fX-j,this[r(522)][he++]=It[Qt-1].fY-W,this[r(522)][he++]=1,this[r(1394)][et++]=Ei.fR,this[r(1394)][et++]=Ei.fG,this[r(1394)][et++]=Ei.fB,this[r(1394)][et++]=Ei.fA,ne+=2))}}return ne==0?Me[r(650)]:(this[r(1256)]=ne,Me[r(593)])}},{key:"SR_DrawLines",value:function(l,e,r,C,L,ke){var ze=ue,Yt=[],j=[];return j[ze(319)]=l,j[ze(665)]=e,j[ze(667)]=r,j.pstColor=C,j[ze(609)]=L,Yt[ze(962)](j),this.SR_DrawLinesEx(Yt,1,e,ke)}},{key:ue(1521),value:function(l,e,he,Yt){var L=ue;if(this[L(926)]==null)return Me[L(1538)];if(l==null||e<1||he<2)return Me[L(650)];if(this[L(1108)]==0){var j=this[L(1359)](wr,Er);if(j<=0)return Me.SR_ERR_WEBGL_RESOURCE;this[L(1108)]=j}if(Yt==1)return this[L(508)](l,e,he);for(var ke=0,ze=0;ze<e;++ze){if(l[ze][L(319)]==null||l[ze].nPointNum<=1||1024<=l[ze][L(665)]||l[ze][L(609)]<=0||l[ze][L(556)]==null)return Me[L(650)];ke+=l[ze][L(665)]}if(ke!=he)return Me[L(650)];if((ke+=e)>this[L(607)]&&(this[L(607)]=ke,this[L(522)]=null,this.pLineClrVertices=null),this[L(522)]==null&&(this[L(522)]=new Float32Array(6*this.nMaxPointNum*3),this.pLinePosVertices==null)||(this[L(522)][L(329)](0),this[L(1394)]==null&&(this[L(1394)]=new Float32Array(6*this[L(607)]*4),this.pLineClrVertices==null)))return Me[L(694)];if(this[L(1394)][L(329)](0),this[L(1014)]==0&&(this.glLinePosBuffer=this[L(926)][L(1450)](),this[L(1014)]==0)||this[L(541)]==0&&(this[L(541)]=this[L(926)].createBuffer(),this[L(541)]==0))return Me[L(528)];if(j=this[L(1189)](l,e),Me.SR_OK!=j)return j;this.ctx[L(326)](this.ctx.BLEND),this[L(926)].blendFunc(this[L(926)][L(858)],this[L(926)][L(921)]);var Yt=this[L(1108)],he=(this.ctx.useProgram(Yt),this[L(1014)]),j=this.glLineClrBuffer,W=this[L(1256)],et=this[L(522)],ne=this.pLineClrVertices,he=(this[L(926)].bindBuffer(this[L(926)][L(1331)],he),this[L(926)][L(724)](this[L(926)][L(1331)],et,this.ctx[L(914)]),this[L(926)][L(416)](Yt,"position")),et=(this[L(926)][L(1362)](he),this[L(926)].vertexAttribPointer(he,3,this[L(926)].FLOAT,!1,0,0),this[L(926)][L(1044)](this.ctx[L(1331)],j),this.ctx[L(724)](this[L(926)].ARRAY_BUFFER,ne,this.ctx[L(914)]),this[L(926)][L(416)](Yt,L(882)));return this.ctx.enableVertexAttribArray(et),this.ctx.vertexAttribPointer(et,4,this[L(926)][L(1473)],!1,0,0),this[L(926)][L(1044)](this[L(926)][L(1331)],null),this[L(926)][L(349)](0,0,this[L(863)][L(1454)],this[L(863)][L(1384)]),this[L(926)].drawArrays(this[L(926)][L(1381)],0,3*W),this.ctx[L(756)](null),this[L(926)].disable(this.ctx[L(661)]),Me.SR_OK}},{key:ue(1408),value:(Je=X(pe()[ue(460)](function f(l){var e=ue,r,C,L,ke,ze,Yt,j,W;return pe()[e(894)](function(ne){for(var he=e;;)switch(ne[he(707)]=ne[he(811)]){case 0:if(l==null)return ne[he(341)]("return");ne[he(811)]=2;break;case 2:if((C=(r=l).FreetypeLibHandle)==null)return ne.abrupt(he(678),Me.SR_ERR_PARAM);ne.next=6;break;case 6:if((L=new li)==null)return ne[he(341)](he(678),Me[he(694)]);ne.next=9;break;case 9:if((ke=C[he(436)](L))!==gt.Ok)throw new Error(C[he(754)](ke));ne[he(811)]=12;break;case 12:if(r[he(782)]==null||r[he(782)]==null)return ne.abrupt(he(678),Me.SR_ERR_CALL_ORDER);ne.next=14;break;case 14:return ne[he(811)]=16,fetch(r[he(782)]);case 16:if((ze=ne[he(1520)])==null)return ne[he(341)](he(678),Me[he(713)]);ne.next=19;break;case 19:return ne[he(811)]=21,ze[he(415)]();case 21:if((Yt=ne[he(1520)])==null)return ne.abrupt(he(678),Me[he(713)]);ne.next=24;break;case 24:if((j=new Uint8Array(Yt))==null)return ne[he(341)](he(678),Me.SR_ERR_FREETYPE_INIT);ne[he(811)]=27;break;case 27:if((W=new Oi)==null)return ne[he(341)]("return",Me[he(713)]);ne.next=30;break;case 30:if((ke=C[he(883)](L,j,0,W))!==gt.Ok)throw r.FreetypeLibHandle=null,new Error(C[he(754)](ke));ne[he(811)]=34;break;case 34:r[he(411)]=L,r[he(1043)]=W;case 36:case"end":return ne[he(1476)]()}},f)})),function(f){var l=ue;return Je[l(1089)](this,arguments)})},{key:ue(578),value:function(l,e){var r=ue;if(e==null)return Me[r(650)];if(!this[r(1096)]){var C=new Tr;if(C==null)return Me[r(366)];this.pFontPath=e,e=this[r(1408)],(this[r(1522)]=C).loadWasm(l,e,this),this[r(1096)]=!0}return Me.SR_OK}},{key:"SR_DrawFont",value:function(l,e,r,C,L,ke,ze){var Yt=ue;if(l==null||e==null||r==null||C<=1||L<=1||ke==1&&ze==null)return Me[Yt(650)];var j=[],W=[];return W[Yt(1002)]=ke,W.nFontWidth=C,W.nFontHeight=L,W.pstBGColor=ze,W[Yt(1474)]=r,W[Yt(400)]=l,W[Yt(1267)]=e,j[Yt(962)](W),this[Yt(1419)](j,1)}},{key:ue(1419),value:function(l,e){var r=ue;if(this[r(926)]==null||this.FreetypeLibHandle==null)return Me[r(1538)];if(e<0||l==null)return Me[r(650)];if(this.nDrawFontWidth==this[r(863)][r(1454)]/4*4&&this[r(863)][r(1384)]==this[r(1277)]/4*4||(this[r(644)]=null,this[r(835)]=0,this.nDrawFontWidth=this[r(863)].width/4*4,this[r(1313)]=this.canvas[r(1384)]/4*4),this[r(644)]==null||this[r(835)]==0){if(this[r(644)]=new Uint8Array(this[r(890)]*this[r(1313)]*4),this.pFontColorBuffer==null)return Me.SR_ERR_ALLOC_MEMORY;if(this.pFontColorBuffer[r(329)](0),this[r(835)]=this.ctx[r(1514)](),this[r(835)]==0)return Me[r(528)];this[r(926)].bindTexture(this.ctx.TEXTURE_2D,this[r(835)]),this.ctx.texParameteri(this[r(926)][r(588)],this[r(926)][r(715)],this.ctx.LINEAR),this[r(926)].texParameteri(this[r(926)][r(588)],this[r(926)][r(373)],this[r(926)][r(406)]),this[r(926)].texParameteri(this[r(926)][r(588)],this[r(926)][r(976)],this[r(926)][r(597)]),this[r(926)].texParameteri(this[r(926)].TEXTURE_2D,this.ctx[r(1132)],this[r(926)].CLAMP_TO_EDGE)}for(var C=0,L=0;L<e;L++)l[L][r(452)]&&C++;if(this[r(1328)]<C){for(var ke=0;ke<this.nFontBGNum;++ke)this[r(941)][ke][r(319)]=null,this[r(941)][ke][r(556)]=null;this.pstFontBGLines=null,this[r(941)]=[];for(var ze=0;ze<C;++ze)this[r(941)][ze][r(319)]=[],this[r(941)][ze][r(556)]=[];this[r(1328)]=C}for(var C=0,Yt=0;Yt<e;++Yt){var j=l[Yt].pstStartPos.fX*this.nDrawFontWidth,W=l[Yt][r(1267)].fY*this[r(1313)],ne=l[Yt][r(400)][r(525)],he=(l[Yt].nFontWidth==l[Yt].nFontHeight&&(l[Yt][r(1570)]=l[Yt].nFontHeight-1),this[r(1313)]),et=0,Rt=255*l[Yt][r(1474)].fA,It=255*l[Yt][r(1474)].fR,Qt=255*l[Yt][r(1474)].fG,Ai=255*l[Yt].pstFontColor.fB;if((Ei=this.FreetypeLibHandle[r(354)](this[r(1043)],64*this.nDrawFontWidth,64*this[r(1313)],300,300))!==gt.Ok)throw new Error(this.FreetypeLibHandle.Error_String(Ei));for(var on=0;on<ne;++on){var Ei,Xi=l[Yt][r(400)][r(494)](on);if((Ei=this[r(1522)][r(1186)](this.FTFace,Xi,ge[r(1526)]))!=gt.Ok)throw new Error(this[r(1522)][r(754)](Ei));var wi=this[r(1043)][r(347)];if((Ei=this[r(1522)][r(1273)](wi,Ji[r(800)]))!==gt.Ok)throw new Error(Tr[r(754)](Ei));var B=wi[r(1555)];j+=wi[r(1348)],(Xi=this[r(1313)]-wi[r(654)])<he&&(he=Xi),et<(Xi=B.row)&&(et=Xi);for(var p=0;p<B[r(419)]*B.width;++p){var A,Y=Math[r(1265)](l[Yt][r(1570)]-wi[r(654)]+W+p/B[r(1454)]);Y>=this[r(1313)]||(Y=j+Y*this[r(890)]+p%B.width)<0||Y>=this[r(890)]*this[r(1313)]||0<B.buffer[p]&&((A=this.pFontColorBuffer)[4*Y]=Ai,A[4*Y+1]=Qt,A[4*Y+2]=It,A[4*Y+3]=Rt)}j+=B[r(1454)]}var Te=[];Te[r(1575)]=l[Yt][r(1267)].fX,Te[r(322)]=l[Yt].pstStartPos.fY+he/this.nDrawFontHeight,Te[r(518)]=j/this[r(890)],Te[r(1209)]=et/this[r(1313)]+Te[r(322)],Te[r(1575)]-=.01,Te[r(322)]-=.01,Te.fRight+=.01,Te[r(1209)]+=.01,l[Yt][r(452)]==1&&(this.pstFontBGLines[C][r(319)]=Te,this[r(941)][C][r(665)]=4,this.pstFontBGLines[C][r(667)]=!0,this.pstFontBGLines[C][r(556)]=l[Yt][r(940)],C+=this[r(941)][C].nLineWidth=1)}C!=0&&this[r(1521)](this[r(941)],C,4*C,!1),this[r(926)][r(317)](this.ctx[r(588)],this[r(835)]),this[r(926)].texImage2D(this[r(926)][r(588)],0,this.ctx[r(917)],this[r(890)],this.nDrawFontHeight,0,this[r(926)][r(917)],this[r(926)][r(1084)],this[r(644)]),this[r(551)]==0&&(this.nFontShaderProgram=this[r(1359)](r(676),r(766))),this.ctx[r(349)](0,0,this[r(863)][r(1454)],this[r(863)][r(1384)]),this[r(926)][r(326)](this[r(926)][r(661)]),this[r(926)][r(823)](this[r(926)][r(858)],this[r(926)].ONE_MINUS_SRC_ALPHA),this[r(926)].useProgram(this[r(551)]),this[r(926)].activeTexture(this.ctx[r(599)]),this[r(926)].bindTexture(this[r(926)].TEXTURE_2D,this[r(835)]);var Ze=this[r(926)][r(893)](this[r(551)],r(1236)),Ze=(this[r(926)][r(871)](Ze,0),this.ctx[r(1044)](this[r(926)][r(1331)],this.vertexPosBuffer),this[r(926)].getAttribLocation(this[r(551)],r(1052))),Ze=(this[r(926)][r(1362)](Ze),this[r(926)][r(1193)](Ze,3,this[r(926)][r(1473)],!1,0,0),this[r(926)][r(1044)](this[r(926)][r(1331)],this[r(775)]),this[r(926)][r(416)](this[r(551)],r(567)));return this.ctx[r(1362)](Ze),this[r(926)][r(1193)](Ze,2,this[r(926)][r(1473)],!1,0,0),this[r(926)].bindBuffer(this[r(926)][r(1331)],null),this[r(926)][r(908)](this[r(926)][r(1381)],0,6),this[r(926)][r(756)](null),this[r(926)][r(1076)](this[r(926)].BLEND),Me[r(593)]}},{key:"SR_AddSubPort",value:function(l){var e=ue;if(this.ctx==null)return Me[e(1538)];var r,C,ke=-1;if(l==dt.SR_DE_NULL)ke=0;else if((ke=this[e(429)]!=null?this[e(429)].GetFECPort(l):ke)==-1)return ke;switch(this[e(1491)]=ke,l){case dt[e(1347)]:r=jn,this[e(983)]=!(C=`
varying highp vec2 v_uv;
uniform sampler2D texture;
void main(void) {
  gl_FragColor = texture2D(texture, v_uv);
}
`);break;case dt[e(677)]:r=jn,C=`
precision mediump float;
varying vec2 v_uv;
uniform sampler2D texture;
uniform float fRX1;
uniform float fRX2;
uniform float fRY1;
uniform float fRY2;
uniform int bBlack; 
uniform int bCut;

void main()
{ 
	float r,g,b;
	vec4 origin;

	float  w;
	float  h;
	float  fCenterX;
	float  fCenterY;
	float  fRadius;
	w = 1.0;
	h = (fRX2 - fRX1) / (fRY2 - fRY1);
	fCenterX = (fRX1 + fRX2) / 2.0 * w;    ///<圆心实际坐标
	fCenterY = (fRY1 + fRY2) / 2.0 * h;
	fRadius = (fRX2 - fRX1) / 2.0 * w;     ///<半径实际长度
	float  leftCut = 0.0;
	float  rightCut = 1.0;
	float  topCut = 0.0;
	float  bottomCut = 1.0;
	if(bCut == 1)
	{
		if(fRX1 > 0.0)
		{
			leftCut = fRX1;
		}
		if(fRX2 < 1.0)
		{
			rightCut = fRX2;
		}
		if(fRY1 > 0.0)
		{
			topCut = fRY1;
		}
		if(fRY2 < 1.0)
		{
			bottomCut = fRY2;
		}
	}
	origin.s = v_uv.s * (rightCut-leftCut) + leftCut;
	origin.t = v_uv.t * (bottomCut-topCut) + topCut;

	r = texture2D(texture, origin.st).r; 
	g = texture2D(texture, origin.st).g; 
	b = texture2D(texture, origin.st).b; 

	if(bBlack == 1)
	{
		float tmpX, tmpY;
		tmpX = origin.s * w; 
		tmpY = origin.t * h; 
		float d2 = (tmpX-fCenterX)*(tmpX-fCenterX) + (tmpY-fCenterY)*(tmpY-fCenterY);
		if(d2 > fRadius*fRadius)
		{
			r = 0.0; 
			g = 0.0; 
			b = 0.0; 
		}
	}

	gl_FragColor = vec4(r ,g ,b , 1.0);
}
`,this[e(828)]=!0,this[e(983)]=!1;break;case dt[e(1282)]:r=jn,C=e(1082),this[e(828)]=!0,this[e(983)]=!1;break;case dt[e(474)]:r=jn,C=e(1087),this[e(828)]=!0;break;case dt[e(994)]:r=jn,C=`
precision mediump float;
varying vec2 v_uv;
uniform sampler2D texture;
uniform float fHAngleCos;
uniform float fHAngleSin;  
uniform float fVAngleCos;  
uniform float fVAngleSin;  
uniform float fZoom;

uniform float fRX1; 
uniform float fRX2; 
uniform float fRY1; 
uniform float fRY2; 

void main()
{
    float r,g,b;  

    vec4 origin1;
    vec4 origin2;
    vec4 origin3;
    vec4 result;
    float  z1;
    float  z2;
    float  z3;
    float  dnew;

    float  w;
    float  h;
    float  fCenterX;
    float  fCenterY;
    float  fRadius;
    w = 1.0;
    h = (fRX2 - fRX1) / (fRY2 - fRY1);
    fCenterX = (fRX1 + fRX2) / 2.0 * w;    ///<Բ��ʵ������
    fCenterY = (fRY1 + fRY2) / 2.0 * h;
    fRadius = (fRX2 - fRX1) / 2.0 * w;    ///<�뾶ʵ�ʳ���

    origin1.s = v_uv.s - 0.5;
    origin1.t = v_uv.t - 0.5;
    z1 = fZoom ;

    origin2.s = origin1.s ;
    origin2.t = (origin1.t*fVAngleCos + z1*fVAngleSin);
    z2 = z1*fVAngleCos - origin1.t*fVAngleSin;

    origin3.s = origin2.s*fHAngleCos + z2*fHAngleSin ;
    origin3.t = origin2.y;
    z3 = z2*fHAngleCos - origin2.x*fHAngleSin;

    dnew = sqrt(origin3.s*origin3.s + origin3.t*origin3.t) ;
    float d = sqrt(origin3.s*origin3.s + origin3.t*origin3.t + z3*z3);
    float theta = asin(dnew/d);
    float tmp = theta / 1.5707963 * 0.5;
    result.s = (tmp*origin3.s / dnew * fRadius * 2.0 + fCenterX)/w;
    result.t = (tmp*origin3.t / dnew * fRadius * 2.0 + fCenterY)/h;

    r = texture2D(texture, result.st).r; 
    g = texture2D(texture, result.st).g; 
    b = texture2D(texture, result.st).b; 
    if(result.s > 1.0 || result.t > 1.0 || result.s < 0.0 || result.t < 0.0)
    {
        r = 0.0; 
        g = 0.0; 
        b = 0.0; 
    }
    gl_FragColor = vec4(r ,g ,b , 1.0);
} 
`,this[e(828)]=!0,this.b3DPort=!1;break;case dt[e(1379)]:r=jn,C=e(830),this[e(828)]=!0,this[e(983)]=!1;break;case dt[e(1212)]:r=jn,C=`
    precision highp float;
    varying vec2 v_uv;
    uniform sampler2D texture;
    uniform float fAngle;
    uniform float fRX1; 
    uniform float fRX2; 
    uniform float fRY1; 
    uniform float fRY2; 
    
    void main()
    {
        float r,g,b;  
    
        vec4 origin;
        vec4 result;
        float  thetabase;
        float  d;
    
        vec4 newpp;  ///<180矫正pp纹理坐标的点对应360矫正newpp纹理坐标对应的点
        if (v_uv.t  <= 0.5)
        {
            newpp.s =  v_uv.s / 2.0 + 0.5;
            newpp.t =  v_uv.t * 2.0;
        }
        else
        {
            newpp.s =  v_uv.s / 2.0;
            newpp.t =  (v_uv.t - 0.5) * 2.0;
        }
        float  w;
        float  h;
        float  fCenterX;
        float  fCenterY;
        float  fRadius;
        w = 1.0;
        h = (fRX2 - fRX1) / (fRY2 - fRY1);
        fCenterX = (fRX1 + fRX2) / 2.0 * w;     ///<圆心实际坐标
        fCenterY = (fRY1 + fRY2) / 2.0 * h;
        fRadius = (fRX2 - fRX1) / 2.0 * w;     ///<半径实际长度
        float fMax = 0.0;
        if(fRX2 > 1.0 || fRY2 > 1.0 || fRX1 < 0.0 || fRY1 < 0.0) ///<如果不是一个完整的圆
        {
            float tmp;
            if(fRX1 < 0.0)
            {
                tmp = -fRX1 * w; ///<左边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRX2 > 1.0)
            {
                tmp = (fRX2 - 1.0) * w; ///<右边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRY1 < 0.0)
            {
                tmp = -fRY1 * h; ///<上边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRY2 > 1.0)
            {
                tmp = (fRY2 - 1.0) * h; ///<下边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
        }
        float topCut = fMax / fRadius;   ///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切
        float bottomCut = 0.8;           ///<为矫正效果,最终矫正图固定切掉下面一部分
        origin.s = newpp.s;
        origin.t = (bottomCut - topCut) * newpp.t + topCut;
        thetabase = 6.2831853 * origin.s + fAngle;
        d = fRadius * (1.0 - origin.t);
        result.s = (fCenterX - d*sin(thetabase)) / w;
        result.t = (fCenterY + d*cos(thetabase)) / h;
    
        r = texture2D(texture, result.st).r;
        g = texture2D(texture, result.st).g;
        b = texture2D(texture, result.st).b;
        if(result.s > 1.0 || result.t > 1.0 || result.s < 0.0 || result.t < 0.0)
        {
            r = 0.0;
            g = 0.0;
            b = 0.0;
        }
        gl_FragColor = vec4(r ,g ,b , 1.0);
    }
`,this.bFECHandle=!0,this[e(983)]=!1;break;case dt[e(472)]:r=jn,C=e(1067),this[e(828)]=!0,this[e(983)]=!1;break;case dt[e(1366)]:r=jn,C=e(1101),this[e(828)]=!0,this[e(983)]=!1;break;case dt[e(1018)]:r=jn,C=SHADER_PS_RGBA_PANORAMA_WALL,this[e(828)]=!0,this.b3DPort=!1;break;case dt[e(1010)]:case dt.SR_DE_FISH_CYLINDER_CEILING:case dt[e(405)]:r=e(335),C=e(1535),this[e(828)]=!0,this[e(983)]=!0}var ke=this[e(1359)](r,C),ke=(this.videoShaderProgram=ke,null),L=null,ze=(this.b3DPort==0?(ke=new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0]),L=new Float32Array([0,1,0,0,1,0,1,1])):l==dt[e(1010)]&&(this.CreateSemiSphere(0,1,0,1),ke=this[e(881)],L=this[e(1524)]),this.ctx.createBuffer()),ke=(this[e(926)].bindBuffer(this[e(926)][e(1331)],ze),this[e(926)][e(724)](this[e(926)].ARRAY_BUFFER,ke,this[e(926)][e(914)]),this.vertexPosBuffer=ze,this[e(926)].createBuffer()),ze=(this[e(926)].bindBuffer(this.ctx.ARRAY_BUFFER,ke),this[e(926)][e(724)](this.ctx[e(1331)],L,this[e(926)][e(914)]),this[e(775)]=ke,this.ctx.bindBuffer(this.ctx[e(1331)],null),this.InitCamera(l));return Me.SR_OK!=ze?-1:(this[e(1198)]=l,this[e(1491)])}},{key:ue(943),value:function(l){var e=ue;return this[e(926)]==null?Me.SR_ERR_CALL_ORDER:(this.pFishParamManager!=null&&this[e(429)][e(1360)](l),this.bFECHandle=!1,this[e(1198)]=dt[e(1347)],this[e(1257)]!=0&&this[e(926)]!=null&&(this[e(926)][e(1124)](this[e(1257)]),this.videoShaderProgram=0),this[e(309)]!=0&&this[e(926)]!=null&&(this.ctx.deleteBuffer(this[e(309)]),this[e(309)]=0),this[e(775)]!=0&&this[e(926)]!=null&&(this[e(926)].deleteBuffer(this.texturePosBuffer),this[e(775)]=0),this[e(607)]=0,this[e(522)]=null,this.pLineClrVertices=null,this[e(1014)]!=0&&this[e(926)]!=null&&(this.ctx[e(1443)](this[e(1014)]),this[e(1014)]=0),this[e(1539)]!=0&&this[e(926)]!=null&&(this.ctx[e(1443)](this[e(1539)]),this[e(1539)]=0),(this.nLineTriangleNum=0)!=this[e(1108)]&&this.ctx!=null&&(this[e(926)][e(1124)](this.nLineShaderProgram),this[e(1108)]=0),this.pFillBlockPosVertices=null,this[e(603)]=null,(this[e(1038)]=0)!=this[e(1130)]&&this[e(926)]!=null&&(this[e(926)].deleteBuffer(this[e(1130)]),this[e(1130)]=0),this.glBlockClrBuffer!=0&&this[e(926)]!=null&&(this[e(926)].deleteBuffer(this[e(1085)]),this[e(1085)]=0),this[e(560)]!=0&&this[e(926)]!=null&&(this[e(926)][e(1124)](this[e(560)]),this[e(560)]=0),this[e(1522)]!=null&&this[e(1043)]!=null&&(this[e(1522)][e(1310)](this[e(1043)]),this[e(1043)]=null),this.FreetypeLibHandle!=null&&this[e(411)]!=null&&(this[e(1522)].Done_FreeType(this[e(411)]),this[e(411)]=null),this[e(1096)]=!1,this.pFontPath=null,this.FreetypeLibHandle=null,this[e(890)]=0,(this[e(1313)]=0)!=this[e(835)]&&this[e(926)]!=null&&(this[e(926)][e(1470)](this.nFontColorTexture),this.nFontColorTexture=0),(this[e(644)]=0)!=this[e(551)]&&this[e(926)]!=null&&(this[e(926)].deleteProgram(this[e(551)]),this[e(551)]=0),this.nFontBGNum=0,this[e(941)]=null,this.pSemiSpherePos=null,this[e(1524)]=null,this[e(794)]=0,this[e(1566)]=0,this[e(1229)]=0,this[e(334)]=null,this[e(371)]=null,this[e(801)]=0,this[e(1109)]=0,this[e(749)]=0,this.fCylinderHeight=0,this.fCylinderRadius=0,this[e(983)]=!1,this.pCamera=null,this.fRotateX=0,this.fRotateY=0,this.fScale=0,this[e(1333)]=null,this[e(1075)]=null,this[e(1230)]=null,this.pUserOut=null,this[e(926)][e(1076)](this.ctx[e(533)]),this[e(926)].disable(this[e(926)].DEPTH_TEST),Me[e(593)])}},{key:ue(1116),value:function(l){var e=ue;return l==null?Me[e(650)]:this[e(429)]==null?Me[e(1538)]:this[e(429)][e(444)](this.nFECPort,l)}},{key:ue(412),value:function(l){var e=ue;return l==null?Me[e(650)]:this[e(429)]==null?Me.SR_ERR_CALL_ORDER:this[e(429)][e(1057)](this[e(1491)],l)}},{key:"SR_SetDisplayRect",value:function(l,e,r,C){var L=ue;if(this[L(926)]==null)return Me[L(1538)];var ke,ze,Yt=null;return Yt=0<this[L(1584)]&&0<this[L(320)]?(ke=l/this[L(1584)],ze=e/this[L(320)],l=(l+r)/this[L(1584)],r=(e+C)/this[L(320)],new Float32Array([ke,r,ke,ze,l,ze,l,r])):new Float32Array([0,1,0,0,1,0,1,1]),this[L(926)][L(1044)](this[L(926)].ARRAY_BUFFER,this[L(775)]),this[L(926)][L(440)](this[L(926)][L(1331)],0,Yt),this[L(926)][L(1044)](this[L(926)][L(1331)],null),Me.SR_OK}},{key:ue(1577),value:function(){var l=ue;return this[l(926)]==null?Me[l(1538)]:(this[l(1584)]=0,(this.frameDisplayHeight=0)!=this.nSurfaceTexture&&this[l(926)]!=null&&(this[l(926)][l(1470)](this[l(1571)]),this[l(1571)]=0),this[l(828)]==0?this[l(943)](0):this[l(1491)]!=-1&&this[l(943)](this[l(1491)]),this[l(978)]=!1,this[l(355)]=!1,this[l(1023)]=!0,this.pFishParamManager=null,this.canvas=null,this.ctx=null,Me[l(593)])}},{key:ue(422),value:function(l,e){var r=ue;return this.canvas.width=l,this[r(863)][r(1384)]=e,Me[r(593)]}},{key:ue(918),value:function(){var l=ue;return console[l(1590)](l(720)+this[l(863)].width+l(468)+this[l(863)][l(1384)]),Me[l(593)]}},{key:ue(552),value:function(l){var e=ue;return this[e(978)]==1?Me[e(1112)]:(this[e(355)]!=l&&(this[e(1023)]=!0,this[e(355)]=l),Me[e(593)])}},{key:ue(328),value:function(l){var e=ue;return this[e(429)]==null?Me[e(1538)]:this.pFishParamManager[e(728)](l)}},{key:ue(1299),value:function(l){var e=ue;return this.pFishParamManager!=null?Me[e(1112)]:(this[e(429)]=l,Me[e(593)])}},{key:ue(1322),value:function(l,e,r,C){var L=ue;if(this.pSemiSpherePos!=null||this[L(1524)]!=null)return Me[L(1538)];this[L(881)]=new Float32Array(43200),this[L(1524)]=new Float32Array(28800);for(var ke=(e-l)/(C-r),ze=(e-l)/2*1,Yt=2*ar/60,j=ar/2/40,W=0,ne=0,he=0,et=0;et<60;++et)for(var Rt=0;Rt<40;++Rt){var It,Qt,Ai=et*Yt,on=(et==0&&(W=Ai),et==59?W:(et+1)*Yt),Ei=-Rt*j,Xi=-(Rt+1)*j;this[L(881)][ne]=-1*Math[L(1268)](Ei)*Math[L(1268)](Ai),this[L(881)][ne+1]=+Math[L(514)](Ei),this[L(881)][ne+2]=-1*Math.cos(Ei)*Math[L(514)](Ai),Qt=.5-.5*(1+Ei/(ar/2))*Math[L(514)](Ai),It=.5-.5*(1+Ei/(ar/2))*Math[L(1268)](Ai),this[L(1524)][he++]=2*It*ze+ +l,this[L(1524)][he++]=(2*Qt*ze+r*ke)/ke,ne+=3,this[L(881)][ne]=-1*Math[L(1268)](Xi)*Math.cos(Ai),this.pSemiSpherePos[ne+1]=+Math[L(514)](Xi),this[L(881)][ne+2]=-1*Math[L(1268)](Xi)*Math[L(514)](Ai),Qt=.5-.5*(1+Xi/(ar/2))*Math[L(514)](Ai),It=.5-.5*(1+Xi/(ar/2))*Math[L(1268)](Ai),this[L(1524)][he++]=2*It*ze+ +l,this[L(1524)][he++]=(2*Qt*ze+r*ke)/ke,ne+=3,this[L(881)][ne]=-1*Math.cos(Ei)*Math[L(1268)](on),this[L(881)][ne+1]=+Math[L(514)](Ei),this.pSemiSpherePos[ne+2]=-1*Math[L(1268)](Ei)*Math[L(514)](on),Qt=.5-.5*(1+Ei/(ar/2))*Math.sin(on),It=.5-.5*(1+Ei/(ar/2))*Math[L(1268)](on),this[L(1524)][he++]=2*It*ze+ +l,this.pSemiSphereTex[he++]=(2*Qt*ze+r*ke)/ke,ne+=3,this[L(881)][ne]=-1*Math[L(1268)](Ei)*Math[L(1268)](on),this[L(881)][ne+1]=+Math[L(514)](Ei),this[L(881)][ne+2]=-1*Math[L(1268)](Ei)*Math[L(514)](on),Qt=.5-.5*(1+Ei/(ar/2))*Math[L(514)](on),It=.5-.5*(1+Ei/(ar/2))*Math[L(1268)](on),this.pSemiSphereTex[he++]=2*It*ze+ +l,this[L(1524)][he++]=(2*Qt*ze+r*ke)/ke,ne+=3,this[L(881)][ne]=-1*Math[L(1268)](Xi)*Math[L(1268)](Ai),this[L(881)][ne+1]=+Math[L(514)](Xi),this.pSemiSpherePos[ne+2]=-1*Math.cos(Xi)*Math[L(514)](Ai),Qt=.5-.5*(1+Xi/(ar/2))*Math[L(514)](Ai),It=.5-.5*(1+Xi/(ar/2))*Math[L(1268)](Ai),this.pSemiSphereTex[he++]=2*It*ze+ +l,this.pSemiSphereTex[he++]=(2*Qt*ze+r*ke)/ke,ne+=3,this[L(881)][ne]=-1*Math[L(1268)](Xi)*Math[L(1268)](on),this[L(881)][ne+1]=+Math[L(514)](Xi),this[L(881)][ne+2]=-1*Math[L(1268)](Xi)*Math[L(514)](on),Qt=.5-.5*(1+Xi/(ar/2))*Math[L(514)](on),It=.5-.5*(1+Xi/(ar/2))*Math[L(1268)](on),this.pSemiSphereTex[he++]=2*It*ze+ +l,this[L(1524)][he++]=(2*Qt*ze+r*ke)/ke,ne+=3}return this[L(794)]=ne/3,this[L(1566)]=3,this[L(1229)]=2,Me[L(593)]}},{key:ue(742),value:function(l){var e=ue;if(this.pCamera!=null)return SR_ERR_CALL_ORDER;switch(l){case dt[e(1347)]:case dt[e(677)]:case dt[e(1282)]:case dt.SR_DE_FISH_PTZ_FLOOR:case dt.SR_DE_FISH_PTZ_WALL:case dt[e(1379)]:case dt[e(1212)]:case dt.SR_DE_FISH_PANORAMA_FLOOR_360:case dt[e(1366)]:case dt[e(1018)]:return Me.SR_OK;case dt[e(1010)]:if(this[e(482)]=new Ar,this[e(482)]==null)return Me[e(694)];this[e(482)].SetFov(Sa),this.pCamera.SetNear(.02),this[e(482)][e(824)](1e3),this[e(420)]=1.57,this[e(482)][e(515)](3.14-this.fRotateX),this[e(649)]=3,this[e(482)][e(995)](this[e(649)]);break;case dt[e(364)]:case dt.SR_DE_FISH_CYLINDER_FLOOR:if(this[e(482)]=new Ar,this[e(482)]==null)return Me[e(694)];this[e(482)][e(659)](Sa),this[e(482)][e(1400)](.02),this[e(482)][e(824)](1e3),this.fRotateX=-.785,this[e(482)][e(515)](-this.fRotateX),this[e(649)]=6,this[e(482)][e(995)](this[e(649)]);break;case dt[e(414)]:case dt[e(1139)]:if(this[e(482)]=new Ar,this[e(482)]==null)return Me[e(694)];this[e(482)][e(1136)](!0),this[e(482)][e(1400)](.02),this.pCamera.SetFar(1e3),this[e(649)]=3,this[e(482)][e(995)](this[e(649)]);break;default:return Me[e(1112)]}return Me[e(593)]}},{key:ue(1294),value:function(l,e){var r=ue;if(!this[r(983)])return Me.SR_ERR_NOT_SUPPORT;switch(l){case vi:this[r(420)]=e;break;case rn:this[r(669)]=e;break;case En:if(this[r(1198)]==dt[r(1010)]){if(e<-.8||900<e)return Me[r(650)]}else if((this[r(1198)]==dt[r(405)]||this.enDisplayEffect==dt[r(364)])&&(e<0||900<e))return Me[r(650)];this[r(649)]=e;break;default:return Me[r(1112)]}return Me[r(593)]}},{key:ue(418),value:function(l){var e=ue;if(!this[e(983)])return Me[e(1112)];var r=0;switch(l){case vi:r=this[e(420)];break;case rn:r=this[e(669)];break;case En:r=this[e(649)]}return r}},{key:ue(504),value:function(l,e,r){var C=ue;switch(r){case an:this[C(1333)]=l,this.pUserIn=e;break;case cn:this[C(1075)]=l,this[C(1411)]=e;break;default:return Me[C(1112)]}return Me[C(593)]}},{key:"SR_SetRenderState",value:function(l,e){var r=ue;switch(l){case Rn:if(this[r(983)])return Me[r(1112)];break;case fn:if(!this[r(983)])return Me[r(1112)];Math[r(1502)](+e)<Un?this[r(762)]=!1:this[r(762)]=!0;break;default:return Me[r(1112)]}return Me.SR_OK}},{key:ue(1372),value:function(l,e){var r=ue;return this.pFishParamManager==null?Me.SR_ERR_CALL_ORDER:this[r(429)][r(1486)](l,e)}},{key:"SR_GetPTZColor",value:function(l,e){var r=ue;return this[r(429)]==null?Me[r(1538)]:this[r(429)][r(613)](l,e)}},{key:ue(1551),value:function(l){var e=ue;return this.pFishParamManager==null?Me[e(1538)]:this[e(429)][e(430)](l)}},{key:"SR_GetPTZPort",value:function(l,e){var r=ue;return this[r(429)]==null?Me.SR_ERR_CALL_ORDER:this[r(429)][r(993)](l,e)}}]),bi}(),uo=function(){var ue=D;function bi(){var Je=M;Ce(this,bi),this[Je(863)]=null,this[Je(926)]=null,this[Je(795)]=0,this[Je(521)]=0,this[Je(379)]=0,this.regionSh=0,this[Je(1009)]=!1,this[Je(355)]=!1,this[Je(668)]=!1}return Le(bi,[{key:"SR_Init",value:function(f){var l=M;this[l(863)]=f,this[l(926)]=this[l(863)][l(1021)]("2d"),this[l(926)]||console[l(1590)](l(944))}},{key:"SR_Draw",value:function(f){var l=M;this[l(1009)]?this[l(926)][l(1079)](f,this[l(795)],this[l(521)],this[l(379)],this[l(1365)],0,0,this[l(863)][l(1454)],this[l(863)][l(1384)]):this[l(926)][l(1079)](f,0,0,f[l(1501)],f[l(526)],0,0,this[l(863)][l(1454)],this.canvas[l(1384)])}},{key:ue(943),value:function(f){return 0}},{key:ue(856),value:function(f){return 0}},{key:ue(1166),value:function(f,l,e,r){var C=ue;this[C(795)]=f,this[C(521)]=l,this[C(379)]=e,this.regionSh=r,this[C(1009)]=!0}},{key:ue(1577),value:function(){var f=ue;this.canvas=null,this[f(926)]=null,this[f(795)]=0,this.regionSy=0,this[f(379)]=0,this.regionSh=0,this[f(1009)]=!1}},{key:ue(422),value:function(f,l){var e=ue;this[e(863)][e(1454)]=f,this[e(863)].height=l}},{key:ue(918),value:function(){var f=ue;console[f(1590)](f(720)+this.canvas[f(1454)]+",height:"+this[f(863)][f(1384)])}},{key:ue(552),value:function(f){var l=ue;return f!=this[l(355)]?(this.bAntialias=f,this[l(668)]=!0):this[l(668)]=!1,this[l(668)]&&(this[l(355)]?(this.canvas[l(1454)]=5*this[l(863)][l(1454)],this[l(863)][l(1384)]=5*this[l(863)].height,this[l(863)][l(396)].transform=l(1199)):(this.canvas[l(1454)]=this.canvas[l(1454)]/5,this[l(863)][l(1384)]=this[l(863)].height/5,this.canvas[l(396)][l(1492)]="scale(1)"),this.canvas.style[l(390)]=l(706)),1}}]),bi}(),Xa=function(){var ue=D;function bi(){var Je=M;Ce(this,bi),this[Je(1105)]=[],this.pRenderParam=[],this[Je(812)]=[],this[Je(1208)]=[],this[Je(739)]=null,this[Je(1042)]=[],this[Je(652)]=[],this[Je(1405)]=[],this.nPTZFragmentNum=[],this[Je(884)]=[],this[Je(1325)]=[],this[Je(1459)]=[],this[Je(1343)]=[],this[Je(1120)]=Si,this[Je(915)]=0,this[Je(332)]=1,this[Je(737)]=0,this[Je(402)]=1,this[Je(368)]=!1,this.pOriPTZPoints=[],this[Je(884)]=[],this[Je(1398)]=-1,this[Je(1252)]=0,this[Je(1138)]=[],this[Je(646)]=[],this.nPTZDisplayMode=qt;for(var f=0;f<32;++f){this[Je(1105)][f]=!1,this.bPTZSelected[f]=!1,this[Je(675)][f]=[],this.pRenderParam[f][Je(780)]=1,this[Je(675)][f][Je(1181)]=0,this[Je(675)][f][Je(1025)]=1,this.pRenderParam[f][Je(810)]=0,this[Je(675)][f].fAngle=0,this[Je(675)][f][Je(1580)]=0,this.pRenderParam[f][Je(915)]=0,this[Je(675)][f][Je(332)]=1,this[Je(675)][f].fRY1=0,this[Je(675)][f][Je(402)]=1,this.pRenderParam[f].nDisplayEffect=0,this[Je(675)][f][Je(368)]=!1,this[Je(675)][f].bCut=!1,this[Je(812)][f]=[],this[Je(812)][f].nFishParamType=0,this[Je(812)][f].fRXLeft=0,this[Je(812)][f][Je(919)]=1,this[Je(812)][f].fRYTop=0,this[Je(812)][f][Je(825)]=1,this[Je(812)][f].bBlack=!1,this.pFishParam[f][Je(818)]=!1,this[Je(812)][f][Je(1485)]=0,this[Je(812)][f][Je(1580)]=0,this.pFishParam[f].fPTZX=.5,this[Je(812)][f][Je(660)]=.5,this.stPTZColor[f]=[],this.stPTZColor[f].fR=0,this[Je(1208)][f].fG=0,this[Je(1208)][f].fB=0,this[Je(1208)][f].fA=0,this[Je(1042)][f]=0,this.nOriPTZPointNum[f]=0,this[Je(1405)][f]=0,this[Je(1343)][f]=0,this[Je(1325)][f]=[],this[Je(1459)][f]=[],this[Je(884)][f]=[],this[Je(1183)][f]=[];for(var l=0;l<4;++l)this[Je(1459)][f][l]=[],this[Je(1459)][f][l].fX=0,this[Je(1459)][f][l].fY=0;for(var e=0;e<1024;++e)this[Je(884)][f][e]=[],this[Je(884)][f][e].fX=0,this[Je(884)][f][e].fY=0,this[Je(1183)][f][e]=[],this[Je(1183)][f][e].fX=0,this[Je(1183)][f][e].fY=0,this[Je(1325)][f][e]=[],this[Je(1325)][f][e].fX=0,this[Je(1325)][f][e].fY=0;this[Je(733)][f]=0,this.nPTZFragmentNode[f]=[];for(var r=0;r<100;++r)this[Je(1138)][f][r]=0}this[Je(948)]()}return Le(bi,[{key:ue(1385),value:function(f){for(var l=ue,e=-1,r=0;r<32;++r)if(this[l(1105)][r]==0){e=r;break}if(e!=-1){var C=this[l(817)](f);if(Me[l(593)]!=C)return this[l(1360)](e),e=-1;if(dt[l(1379)]==f||dt[l(1212)]==f||dt[l(472)]==f||dt[l(1366)]==f||dt[l(1018)]==f||dt[l(677)]==f){if(this[l(1398)]!=-1)return this.FreeFECPort(e),e=-1;this[l(1398)]=e}if(!(dt[l(1282)]!=f&&dt[l(474)]!=f&&dt[l(994)]!=f||this[l(1398)]==-1||this[l(675)][this[l(1398)]]==null||dt.SR_DE_FISH_PANORAMA_CEILING_180!=this.pRenderParam[this[l(1398)]][l(310)]&&dt.SR_DE_FISH_PANORAMA_FLOOR_180!=this[l(675)][this[l(1398)]].nDisplayEffect))return this[l(1360)](e),e=-1;if(dt[l(1212)]==f||dt[l(1366)]==f){for(var L=0;L<32;++L)if(this[l(675)][L]!=null&&(dt[l(1282)]==this[l(675)][L][l(310)]||dt.SR_DE_FISH_PTZ_FLOOR==this[l(675)][L].nDisplayEffect||dt[l(994)]==this[l(675)][L].nDisplayEffect))return this[l(1360)](e),e=-1}if(dt.SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL==f){for(var ke=0;ke<32;++ke)if(this[l(675)][ke]!=null&&dt[l(614)]==this[l(675)][ke].nDisplayEffect)return this[l(1360)](e),e=-1}if(dt[l(614)]==f){for(var ze=0;ze<32;++ze)if(this.pRenderParam[ze]!=null&&dt.SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL==this[l(675)][ze].nDisplayEffect)return this[l(1360)](e),e=-1}this.pRenderParam[e][l(780)]=1,this[l(675)][e][l(1181)]=0,this.pRenderParam[e][l(1025)]=1,this[l(675)][e][l(1181)]=0,this[l(675)][e].fAngle=0,this[l(675)][e][l(915)]=this.fRX1,this[l(675)][e][l(332)]=this[l(332)],this.pRenderParam[e][l(737)]=this.fRY1,this[l(675)][e][l(402)]=this.fRY2,this.pRenderParam[e][l(368)]=this[l(368)],this[l(675)][e][l(1580)]=.035+.8,this[l(675)][e][l(310)]=f,this[l(812)][e][l(1485)]=this.pRenderParam[e].fAngle,this[l(812)][e][l(875)]=.5,this[l(812)][e][l(660)]=.5,this[l(812)][e][l(473)]=this[l(675)][e][l(915)],this.pFishParam[e][l(919)]=this[l(675)][e].fRX2,this[l(812)][e][l(1171)]=this[l(675)][e][l(737)],this.pFishParam[e].fRYBottom=this.pRenderParam[e].fRY2,this[l(812)][e][l(368)]=this[l(675)][e][l(368)],this[l(812)][e][l(1580)]=(this[l(675)][e][l(1580)]-.8)/7,this[l(1105)][e]=!0}return e}},{key:ue(1360),value:function(f){var l=ue;if(f<0||32<=f)return Me[l(650)];this[l(1398)]==f&&(this[l(1398)]=-1),this[l(675)][f][l(780)]=1,this[l(675)][f].fSinH=0,this[l(675)][f][l(1025)]=1,this[l(675)][f][l(810)]=0,this[l(675)][f].fAngle=0,this[l(675)][f][l(1580)]=0,this[l(675)][f][l(915)]=0,this.pRenderParam[f][l(332)]=1,this[l(675)][f][l(737)]=0,this[l(675)][f].fRY2=1,this[l(675)][f][l(310)]=0,this[l(675)][f].bBlack=!1,this.pRenderParam[f][l(818)]=!1,this[l(812)][f][l(572)]=0,this.pFishParam[f][l(473)]=0,this[l(812)][f][l(919)]=1,this[l(812)][f][l(1171)]=0,this[l(812)][f][l(825)]=1,this[l(812)][f].bBlack=!1,this[l(812)][f].bCut=!1,this.pFishParam[f][l(1485)]=0,this[l(812)][f][l(1580)]=0,this.pFishParam[f][l(875)]=.5,this[l(812)][f][l(660)]=.5,this[l(1042)][f]=0,this[l(652)][f]=0,this[l(1405)][f]=0;for(var e=this[l(1343)][f]=0;e<4;++e)this[l(1459)][f][e].fX=0,this.pRectPoints[f][e].fY=0;for(var r=0;r<1024;++r)this[l(884)][f][r].fX=0,this.pBasePTZPoints[f][r].fY=0,this[l(1183)][f][r].fX=0,this[l(1183)][f][r].fY=0,this.pPanoPTZPoints[f][r].fX=0,this[l(1325)][f][r].fY=0;if(this[l(739)]!=null&&(this[l(739)][f].fA=0,this.pPTZSetColor[f].fR=0,this.pPTZSetColor[f].fG=0,this.pPTZSetColor[f].fB=0),this[l(646)][f]=!1,this[l(1252)]!=0){var C=!1;if(this[l(675)][i]!=null){for(var L=0;L<32;++L)if(this[l(675)][L]!=null&&(dt.SR_DE_FISH_PTZ_CEILING==this[l(675)][L].nDisplayEffect||dt[l(474)]==this.pRenderParam[L][l(310)]||dt[l(994)]==this[l(675)][L][l(310)]||dt.SR_DE_FISH_PANORAMA_CEILING_360==this[l(675)][L][l(310)]||dt.SR_DE_FISH_PANORAMA_CEILING_180==this[l(675)][L].nDisplayEffect||dt[l(472)]==this.pRenderParam[L].nDisplayEffect||dt[l(1366)]==this.pRenderParam[L][l(310)]||dt[l(1018)]==this.pRenderParam[L].nDisplayEffect||dt[l(364)]==this.pRenderParam[L][l(310)]||dt[l(405)]==this[l(675)][L][l(310)]||dt[l(414)]==this[l(675)][L][l(310)]||dt[l(1139)]==this.pRenderParam[L][l(310)]||dt.SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL==this.pRenderParam[L].nDisplayEffect||dt[l(614)]==this[l(675)][L][l(310)])){C=!0;break}}C||(this.nPlaceType=0)}for(var ke=!1,ze=0;ze<32;++ze)if(this[l(675)][ze]!=null){ke=!0;break}ke||(this[l(915)]=0,this[l(332)]=1,this[l(737)]=0,this[l(402)]=1,this[l(368)]=!1);for(var Yt=this.nPTZFragmentNum[f]=0;Yt<100;++Yt)this[l(1138)][f][Yt]=0;return this[l(1105)][f]=!1,Me[l(593)]}},{key:ue(505),value:function(){for(var f=ue,l=0;l<32;++l){for(var e=0;e<4;++e)this[f(1459)][l][e]=null;for(var r=0;r<1024;++r)this.pBasePTZPoints[l][r]=null,this[f(1183)][l][r]=null,this.pPanoPTZPoints[l][r]=null;this[f(733)][l]=0,this.nPTZFragmentNode[l]=null,this.bPortAllocated[l]=!1,this[f(646)][l]=!1,this.pRenderParam[l]=null,this[f(812)][l]=null,this[f(1208)][l]=null,this[f(1042)][l]=0,this[f(652)][l]=0,this.nPanoPTZPointNum[l]=0,this[f(1343)][l]=0,this.pPanoPTZPoints[l]=null,this.pRectPoints[l]=null,this[f(884)][l]=null,this[f(1183)][l]=null}this[f(1105)]=null,this.pRenderParam=null,this[f(812)]=null,this[f(1208)]=null,this[f(739)]=null,this.nBasePTZPointNum=null,this[f(652)]=null,this[f(1405)]=null,this.nPTZFragmentNum=null,this.pBasePTZPoints=null,this.pPanoPTZPoints=null,this[f(1459)]=null,this.nPTZRectNum=null,this[f(1120)]=Si,this[f(915)]=0,this[f(332)]=1,this.fRY1=0,this[f(402)]=1,this[f(368)]=!1,this.pOriPTZPoints=null,this.pBasePTZPoints=null,this[f(1398)]=-1,this.nPlaceType=0,this[f(1138)]=null,this[f(646)]=null,this[f(1120)]=qt}},{key:"InitColorList",value:function(){var f=ue;this.stPTZColor[0].fR=.5,this[f(1208)][0].fG=.5,this[f(1208)][0].fB=0,this.stPTZColor[0].fA=1,this[f(1208)][1].fR=1,this[f(1208)][1].fG=0,this[f(1208)][1].fB=0,this[f(1208)][1].fA=1,this[f(1208)][2].fR=0,this.stPTZColor[2].fG=1,this[f(1208)][2].fB=0,this.stPTZColor[2].fA=1,this[f(1208)][3].fR=0,this[f(1208)][3].fG=0,this.stPTZColor[3].fB=1,this[f(1208)][3].fA=1,this.stPTZColor[4].fR=1,this.stPTZColor[4].fG=1,this[f(1208)][4].fB=0,this[f(1208)][4].fA=1,this[f(1208)][5].fR=.5,this.stPTZColor[5].fG=0,this[f(1208)][5].fB=1,this[f(1208)][5].fA=1,this[f(1208)][6].fR=0,this.stPTZColor[6].fG=1,this[f(1208)][6].fB=1,this[f(1208)][6].fA=1,this[f(1208)][7].fR=1,this[f(1208)][7].fG=.5,this.stPTZColor[7].fB=0,this[f(1208)][7].fA=1,this[f(1208)][8].fR=0,this[f(1208)][8].fG=.5,this[f(1208)][8].fB=.5,this[f(1208)][8].fA=1;for(var l=9;l<32;l++)this[f(1208)][l].fR=+l/32,this[f(1208)][l].fG=+l/32,this[f(1208)][l].fB=+l/32,this[f(1208)][l].fA=1;return Me[f(593)]}},{key:ue(391),value:function(f){var l=ue;if(f<0||32<=f)return Me.SR_ERR_PARAM;if(this[l(675)][f]==null)return Me.SR_ERR_CALL_ORDER;var e=0,r=0;switch(this[l(652)][f]=0,this[l(1042)][f]=0,this.pRenderParam[f][l(310)]){case dt[l(1282)]:for(r=0;r<1;r+=.01)this[l(1003)](e,r,f);for(r=.9995,e=0;e<1;e+=.02)this.GetFishPTZCeiling(e,r,f);for(e=.999,r=.9995;0<=r;r-=.01)this[l(1003)](e,r,f);for(r=0,e=.999;0<=e;e-=.02)this.GetFishPTZCeiling(e,r,f);break;case dt[l(474)]:for(r=0;r<1;r+=.01)this[l(576)](e,r,f);for(r=.9995,e=0;e<1;e+=.02)this[l(576)](e,r,f);for(e=.999,r=.9995;0<=r;r-=.01)this.GetFishPTZFloor(e,r,f);for(r=0,e=.999;0<=e;e-=.02)this[l(576)](e,r,f);break;case dt[l(994)]:for(r=0;r<1;r+=.01)this[l(1090)](e,r,f);for(r=.9995,e=0;e<1;e+=.02)this[l(1090)](e,r,f);for(e=.999,r=.9995;0<=r;r-=.01)this.GetFishPTZWALL(e,r,f);for(r=0,e=.999;0<=e;e-=.02)this.GetFishPTZWALL(e,r,f)}return Me[l(593)]}},{key:ue(838),value:function(f){var l=ue;if(this.nWndPort==-1||this[l(884)][f]==null||this[l(675)][this[l(1398)]]==null)return Me[l(1538)];this[l(1405)][f]=0;var e=Me[l(593)],r=this[l(1398)];switch(this[l(675)][r][l(310)]){case dt[l(1018)]:if(e=this[l(1024)](f),Me[l(593)]!=e)return e;break;case dt[l(472)]:if(e=this[l(1356)](f),Me[l(593)]!=e)return e;break;case dt[l(1379)]:if(e=this[l(1091)](f),Me.SR_OK!=e)return e;break;default:return Me[l(1112)]}return this[l(779)](f),Me[l(593)]}},{key:"GetRectPoints",value:function(f){var l=ue;if(f<0||32<=f)return Me[l(650)];if(this[l(1398)]==-1||this[l(675)][this[l(1398)]]==null||this[l(812)][f]==null)return Me.SR_ERR_CALL_ORDER;var e=this[l(675)][this[l(1398)]][l(310)],r=Me[l(593)],C=[];switch(C.fX=0,C.fY=0,e){case dt.SR_DE_FISH_PANORAMA_WALL:if(r=this[l(1238)](C,this[l(812)][f][l(875)],this.pFishParam[f][l(660)]),Me[l(593)]!=r)return r;break;case dt[l(472)]:if(r=this[l(1077)](C,this[l(812)][f][l(875)],this[l(812)][f][l(660)]),Me[l(593)]!=r)return Me[l(1112)]==r&&(this.pRectPoints[f]=null),r;break;case dt[l(1379)]:if(r=this.GetPointFish2PanoCeiling(C,this[l(812)][f][l(875)],this[l(812)][f].fPTZY),Me[l(593)]!=r)return Me[l(1112)]==r&&(this.pRectPoints[f]=null),r;break;case dt.SR_DE_FISH_ORIGINAL:C.fX=this.pFishParam[f].fPTZX,C.fY=this[l(812)][f][l(660)];break;default:return Me.SR_ERR_NOT_SUPPORT}if(this[l(1459)][f]==null){this[l(1459)][f]=[];for(var L=0;L<4;++L)this[l(1459)][f][L]=[],this.pRectPoints[f][L].fX=0,this.pRectPoints[f][L].fY=0}return this[l(1459)][f][0].fX=C.fX-Qn,this[l(1459)][f][0].fY=C.fY-Qn,this[l(1459)][f][1].fX=C.fX+Qn,this[l(1459)][f][1].fY=C.fY-Qn,this[l(1459)][f][2].fX=C.fX+Qn,this[l(1459)][f][2].fY=C.fY+Qn,this.pRectPoints[f][3].fX=C.fX-Qn,this.pRectPoints[f][3].fY=C.fY+Qn,this[l(1343)][f]=4,Me[l(593)]}},{key:ue(1003),value:function(W,ne,e){var r=ue,j=[],he=(j.fX=0,j.fY=0,[]),C=(he.fX=0,he.fY=0,[]),L=(C.fX=0,C.fY=0,[]),ke=(this.fRX2-this[r(915)])/(this[r(402)]-this[r(737)]),et=(this.fRX1+this[r(332)])/2*1,ze=(this[r(737)]+this[r(402)])/2*ke,Yt=(this.fRX2-this[r(915)])/2*1,W=(j.fX=ne-.5,j.fY=.5-W,ne=this[r(675)][e][r(1580)],he.fX=j.fX,he.fY=j.fY*this[r(675)][e][r(1025)]+ne*this[r(675)][e].fSinV,ne*this[r(675)][e][r(1025)]-j.fY*this[r(675)][e].fSinV),ne=Math[r(1540)](he.fX*he.fX+he.fY*he.fY),j=Math[r(1540)](he.fX*he.fX+he.fY*he.fY+W*W),W=Math[r(925)](ne/j)/1.5707963*.5,j=(he.fX=W*he.fX/ne,he.fY=W*he.fY/ne,C.fX=he.fX*this.pRenderParam[e][r(780)]-he.fY*this[r(675)][e][r(1181)],C.fY=he.fX*this.pRenderParam[e][r(1181)]+he.fY*this.pRenderParam[e][r(780)],L.fX=2*C.fX*Yt+et,L.fY=2*-C.fY*Yt+ze,this[r(1042)][e]),W=(this.pBasePTZPoints[e][j].fX=C.fX+.5,this[r(884)][e][j].fY=.5-C.fY,this.nBasePTZPointNum[e]=this[r(1042)][e]+1,this[r(915)]<=0?0:+this.fRX1),ne=this[r(737)]<=0?0:this.fRY1*ke,he=1<=this[r(332)]?1-W:+this[r(332)]-W,et=1<=this[r(402)]?ke-ne:this[r(402)]*ke-ne;return L.fX=(L.fX-W)/he,L.fY=(L.fY-ne)/et,L.fX<=1&&L.fY<=1&&0<=L.fX&&0<=L.fY&&(Yt=this[r(652)][e],this[r(1183)][e][Yt].fX=L.fX,this.pOriPTZPoints[e][Yt].fY=L.fY,this[r(652)][e]=this[r(652)][e]+1),Me[r(593)]}},{key:ue(576),value:function(ne,W,e){var r=ue,j=[],he=(j.fX=0,j.fY=0,[]),C=(he.fX=0,he.fY=0,[]),L=(C.fX=0,C.fY=0,[]),ke=(this[r(332)]-this[r(915)])/(this.fRY2-this[r(737)]),et=(this[r(915)]+this.fRX2)/2*1,ze=(this.fRY1+this[r(402)])/2*ke,Yt=(this[r(332)]-this.fRX1)/2*1,W=(j.fX=ne-.5,j.fY=W-.5,ne=this[r(675)][e][r(1580)],he.fX=j.fX,he.fY=j.fY*this.pRenderParam[e][r(1025)]+ne*this.pRenderParam[e].fSinV,ne*this.pRenderParam[e][r(1025)]-j.fY*this[r(675)][e][r(810)]),ne=Math[r(1540)](he.fX*he.fX+he.fY*he.fY),j=Math[r(1540)](he.fX*he.fX+he.fY*he.fY+W*W),W=Math.asin(ne/j)/1.5707963*.5,j=(he.fX=W*he.fX/ne,he.fY=W*he.fY/ne,C.fX=he.fX*this[r(675)][e].fCosH-he.fY*this[r(675)][e][r(1181)],C.fY=he.fX*this[r(675)][e][r(1181)]+he.fY*this.pRenderParam[e][r(780)],L.fX=2*C.fX*Yt+et,L.fY=2*C.fY*Yt+ze,this[r(1042)][e]),W=(this[r(884)][e][j].fX=C.fX+.5,this.pBasePTZPoints[e][j].fY=C.fY+.5,this[r(1042)][e]=this.nBasePTZPointNum[e]+1,this[r(915)]<=0?0:+this[r(915)]),ne=this[r(737)]<=0?0:this[r(737)]*ke,he=1<=this[r(332)]?1-W:+this[r(332)]-W,et=1<=this[r(402)]?ke-ne:this[r(402)]*ke-ne;return L.fX=(L.fX-W)/he,L.fY=(L.fY-ne)/et,L.fX<=1&&L.fY<=1&&0<=L.fX&&0<=L.fY&&(Yt=this[r(652)][e],this[r(1183)][e][Yt].fX=L.fX,this.pOriPTZPoints[e][Yt].fY=L.fY,this[r(652)][e]=this[r(652)][e]+1),Me[r(593)]}},{key:ue(1090),value:function(W,j,e){var r=ue,ze=[],Yt=(ze.fX=0,ze.fY=0,[]),C=(Yt.fX=0,Yt.fY=0,[]),L=(C.fX=0,C.fY=0,[]),ke=(this[r(332)]-this.fRX1)/(this[r(402)]-this[r(737)]),ne=(this.fRX1+this[r(332)])/2*1,et=(this[r(737)]+this.fRY2)/2*ke,he=(this[r(332)]-this.fRX1)/2*1,j=(ze.fX=j-.5,ze.fY=W-.5,j=this[r(675)][e].fZoom,Yt.fX=ze.fX,Yt.fY=ze.fY*this[r(675)][e][r(1025)]+j*this[r(675)][e][r(810)],W=j*this[r(675)][e][r(1025)]-ze.fY*this[r(675)][e][r(810)],C.fX=Yt.fX*this[r(675)][e][r(780)]+W*this[r(675)][e][r(1181)],C.fY=Yt.fY,W*this[r(675)][e][r(780)]-Yt.fX*this[r(675)][e][r(1181)]),ze=Math.sqrt(C.fX*C.fX+C.fY*C.fY),W=Math.sqrt(C.fX*C.fX+C.fY*C.fY+j*j),Yt=Math.asin(ze/W)/1.5707963*.5,j=(L.fX=Yt*C.fX/ze*he*2+ne,L.fY=Yt*C.fY/ze*he*2+et,this.nBasePTZPointNum[e]),W=(this[r(884)][e][j].fX=Yt*C.fX/ze+.5,this.pBasePTZPoints[e][j].fY=Yt*C.fY/ze+.5,this[r(1042)][e]=this.nBasePTZPointNum[e]+1,this[r(915)]<=0?0:+this[r(915)]),ne=this.fRY1<=0?0:this[r(737)]*ke,he=1<=this[r(332)]?1-W:+this.fRX2-W,et=1<=this[r(402)]?ke-ne:this[r(402)]*ke-ne;return L.fX=(L.fX-W)/he,L.fY=(L.fY-ne)/et,L.fX<=1&&L.fY<=1&&0<=L.fX&&0<=L.fY&&(j=this[r(652)][e],this[r(1183)][e][j].fX=L.fX,this[r(1183)][e][j].fY=L.fY,this[r(652)][e]=this[r(652)][e]+1),Me[r(593)]}},{key:ue(1091),value:function(f){var l=ue;if(this.pRenderParam[f]==null||this.pRenderParam[this[l(1398)]]==null)return Me.SR_ERR_CALL_ORDER;if(this[l(884)][f]==null)return Me[l(1538)];var e,r=this[l(1042)][f],C=(this[l(332)]-this[l(915)])/(this[l(402)]-this[l(737)]),L=(this.fRX2-this[l(915)])/2*1,ke=0,ze=((1<this.fRX2||1<this[l(402)]||this[l(737)]<0||this[l(915)]<0)&&(this[l(915)]<0&&ke<(e=-this[l(915)])&&(ke=e),1<this[l(332)]&&ke<(e=this.fRX2-1)&&(ke=e),this.fRY1<0&&ke<(e=-this[l(737)]*C)&&(ke=e),1<this[l(402)]&&ke<(e=(this[l(402)]-1)*C)&&(ke=e)),ke/L),Yt=[],j=(Yt.fX=0,Yt.fY=0,[]);j.fX=0;for(var W,ne,he,et,Rt=j.fY=0;Rt<r;++Rt)j.fX=this[l(884)][f][Rt].fX,j.fY=this[l(884)][f][Rt].fY,Math[l(1502)](j.fX-.5)<Un&&Math[l(1502)](j.fY-.5)<Un||((he=[]).fX=0,he.fY=0,(W=[]).fX=0,W.fY=0,he.fX=j.fX-.5,he.fY=j.fY-.5,W.fX=-.5*Math.sin(this[l(675)][this[l(1398)]].fAngle),W.fY=.5*Math[l(1268)](this[l(675)][this.nWndPort].fAngle),ne=Math[l(1540)](he.fX*he.fX+he.fY*he.fY),et=Math[l(1540)](W.fX*W.fX+W.fY*W.fY),et=Math[l(1200)]((he.fX*W.fX+he.fY*W.fY)/(ne*et)),0<he.fX*W.fY-he.fY*W.fX&&(et=6.2831852-et),Yt.fX=et/6.2831853,Yt.fY=(2*(.5-ne)-ze)/(.8-ze),0<=Yt.fY&&0<=Yt.fX&&Yt.fY<=1&&Yt.fX<=1&&(he=this.nPanoPTZPointNum[f],this[l(1325)][f][he].fX=Yt.fX,this.pPanoPTZPoints[f][he].fY=Yt.fY,this[l(1405)][f]=this[l(1405)][f]+1));return Me.SR_OK}},{key:"GetPanoPTZFloor",value:function(f){var l=ue;if(this[l(675)][f]==null||this.pRenderParam[this.nWndPort]==null||this[l(884)][f]==null)return Me[l(1538)];var e,r=this[l(1042)][f],C=(this[l(332)]-this[l(915)])/(this[l(402)]-this[l(737)]),L=(this.fRX2-this.fRX1)/2*1,ke=0,ze=((1<this[l(332)]||1<this[l(402)]||this[l(737)]<0||this[l(915)]<0)&&(this[l(915)]<0&&ke<(e=-this.fRX1)&&(ke=e),1<this.fRX2&&ke<(e=this.fRX2-1)&&(ke=e),this[l(737)]<0&&ke<(e=-this.fRY1*C)&&(ke=e),1<this.fRY2&&ke<(e=(this[l(402)]-1)*C)&&(ke=e)),ke/L),Yt=[],j=(Yt.fX=0,Yt.fY=0,[]);j.fX=0;for(var W,ne,he,et,Rt=j.fY=0;Rt<r;++Rt)j.fX=this.pBasePTZPoints[f][Rt].fX,j.fY=this[l(884)][f][Rt].fY,Math[l(1502)](j.fX-.5)<Un&&Math.abs(j.fY-.5)<Un||((he=[]).fX=0,he.fY=0,(W=[]).fX=0,W.fY=0,he.fX=j.fX-.5,he.fY=j.fY-.5,W.fX=-.5*Math[l(514)](this[l(675)][this[l(1398)]][l(1485)]),W.fY=.5*Math[l(1268)](this[l(675)][this[l(1398)]][l(1485)]),ne=Math.sqrt(he.fX*he.fX+he.fY*he.fY),et=Math[l(1540)](W.fX*W.fX+W.fY*W.fY),et=Math.acos((he.fX*W.fX+he.fY*W.fY)/(ne*et)),0<he.fX*W.fY-he.fY*W.fX&&(et=6.2831852-et),Yt.fX=1-et/6.2831853,Yt.fY=1-(2*(.5-ne)-ze)/(.8-ze),0<=Yt.fY&&0<=Yt.fX&&Yt.fY<=1&&Yt.fX<=1&&(he=this[l(1405)][f],this[l(1325)][f][he].fX=Yt.fX,this[l(1325)][f][he].fY=Yt.fY,this[l(1405)][f]=this[l(1405)][f]+1));return Me[l(593)]}},{key:ue(1024),value:function(f){var l=ue;if(this[l(675)][f]==null||this[l(675)][this.nWndPort]==null||this[l(884)][f]==null)return Me[l(1538)];var e,r=this[l(1042)][f],C=(this[l(332)]-this[l(915)])/(this[l(402)]-this.fRY1),L=(this[l(332)]-this.fRX1)/2*1,ke=0,ze=1,Yt=.1,j=.9,W=(this[l(915)]<0&&(e=-this[l(915)],ke=e/=2*L),1<this[l(332)]&&(e=this.fRX2-1,ze=1-(e/=2*L)),this[l(737)]<0&&(e=-this.fRY1*C,Yt=.1<(e/=2*L)?e:.1),1<this.fRY2&&(e=(this[l(402)]-1)*C,j=1-.9<(e/=2*L)?1-e:.9),[]),ne=(W.fX=0,W.fY=0,[]);ne.fX=0;for(var he=ne.fY=0;he<r;++he){ne.fX=this[l(884)][f][he].fX,ne.fY=this[l(884)][f][he].fY;var et=2*ne.fX*L,Rt=2*ne.fY*L,It=Math.sqrt(L*L-(Rt-L)*(Rt-L));Math[l(1502)](It)<Un||(ne.fX=L*(et-L)/It+L,ne.fY=Rt,W.fX=(ne.fX-2*ke*L)/(2*(ze-ke)*L),W.fY=(ne.fY-2*Yt*L)/(2*(j-Yt)*L),0<=W.fY&&0<=W.fX&&W.fY<=1&&W.fX<=1&&(et=this[l(1405)][f],this[l(1325)][f][et].fX=W.fX,this[l(1325)][f][et].fY=W.fY,this[l(1405)][f]=this[l(1405)][f]+1))}return Me.SR_OK}},{key:ue(1436),value:function(f,l,e){var r=ue;if(f==null||this[r(675)][this.nWndPort]==null)return Me[r(1538)];var ke=(this[r(332)]-this[r(915)])/(this[r(402)]-this.fRY1),C=(this[r(332)]-this[r(915)])/2*1,L=0,ke=((1<this.fRX2||1<this[r(402)]||this.fRX1<0||this.fRY1<0)&&(this[r(915)]<0&&L<(ze=-this[r(915)])&&(L=ze),1<this[r(332)]&&L<(ze=this.fRX2-1)&&(L=ze),this[r(737)]<0&&L<(ze=-this[r(737)]*ke)&&(L=ze),1<this.fRY2&&L<(ze=(this.fRY2-1)*ke)&&(L=ze)),L/C),ze=[];return Math[r(1502)](l-.5)<Un&&Math[r(1502)](e-.5)<Un?Me.SR_ERR_NOT_SUPPORT:(L=[],L.fX=0,L.fY=0,C=[],C.fX=0,L.fX=l-.5,L.fY=e-.5,C.fX=-.5*Math[r(514)](this[r(675)][this[r(1398)]][r(1485)]),C.fY=.5*Math[r(1268)](this[r(675)][this[r(1398)]][r(1485)]),l=Math[r(1540)](L.fX*L.fX+L.fY*L.fY),e=Math[r(1540)](C.fX*C.fX+C.fY*C.fY),e=Math.acos((L.fX*C.fX+L.fY*C.fY)/(l*e)),0<L.fX*C.fY-L.fY*C.fX&&(e=6.2831852-e),ze.fX=e/6.2861853,ze.fY=(2*(.5-l)-ke)/(.8-ke),0<=ze.fY&&0<=ze.fX&&ze.fY<=1&&ze.fX<=1?(f.fX=ze.fX,f.fY=ze.fY,Me[r(593)]):Me[r(650)])}},{key:ue(690),value:function(f,l,e){var r=ue;if(this[r(675)][this.nWndPort]==null)return Me[r(1538)];if(f==null)return Me[r(650)];var j=(this[r(332)]-this[r(915)])/(this[r(402)]-this[r(737)]),C=(this[r(332)]-this.fRX1)/2*1,L=0,ke=1,ze=0,Yt=1,ne=0,j=((1<this[r(332)]||1<this[r(402)]||this[r(915)]<0||this[r(737)]<0)&&(this[r(915)]<0&&(ne<(W=-this[r(915)])&&(ne=W),L=W/=2*C),1<this[r(332)]&&(ne<(W=this[r(332)]-1)&&(ne=W),ke=1-(W/=2*C)),this[r(737)]<0&&(ne<(W=-this[r(737)]*j)&&(ne=W),ze=W/=2*C),1<this[r(402)]&&(ne<(W=(this[r(402)]-1)*j)&&(ne=W),Yt=1-(W/=2*C))),ne/C),W=[],ne=[];return W.fX=1-l,W.fY=(.8-j)*(1-e)+j,C=6.2831853*W.fX+this[r(675)][this.nWndPort][r(1485)],l=.5*(1-W.fY),ne.fX=.5-l*Math.sin(C),ne.fY=.5+l*Math[r(1268)](C),ne.fX=(ne.fX-L)/(ke-L),ne.fY=(ne.fY-ze)/(Yt-ze),f.fX=ne.fX,f.fY=ne.fY,Me[r(593)]}},{key:ue(630),value:function(f,l,e){var r=ue;if(this.pRenderParam[this.nWndPort]==null)return Me[r(1538)];if(f==null)return Me[r(650)];var j=(this.fRX2-this[r(915)])/(this[r(402)]-this[r(737)]),C=(this.fRX2-this[r(915)])/2*1,L=0,ke=1,ze=.1,Yt=.9,j=(this[r(915)]<0&&(W=-this[r(915)],L=W/=2*C),1<this.fRX2&&(W=this[r(332)]-1,ke=1-(W/=2*C)),this[r(737)]<0&&(W=-this[r(737)]*j,ze=.1<(W/=2*C)?W:.1),1<this[r(402)]&&(W=(this[r(402)]-1)*j,Yt=1-.9<(W/=2*C)?1-W:.9),[]),W=2*l*C,ne=2*e*C,he=Math[r(1540)](C*C-(ne-C)*(ne-C));return Math[r(1502)](he)<Un?Me[r(650)]:(e=ne,j.fX=((l=C*(W-C)/he+C)-2*L*C)/(2*(ke-L)*C),j.fY=(e-2*ze*C)/(2*(Yt-ze)*C),0<=j.fY&&0<=j.fX&&j.fY<=1&&j.fX<=1?(f.fX=j.fX,f.fY=j.fY,Me[r(593)]):Me[r(650)])}},{key:ue(1361),value:function(f,l,e){var r=ue;if(this[r(675)][f]==null)return Me[r(1538)];var C=[],L=(C.fHAngleSin=0,C[r(988)]=0,C[r(451)]=0,C[r(927)]=0,Me.SR_OK);if(dt.SR_DE_FISH_PTZ_FLOOR==this[r(675)][f][r(310)]||dt[r(1282)]==this[r(675)][f].nDisplayEffect){if((L=this[r(331)](l,e,C,this[r(675)][f][r(310)]))!=Me.SR_OK)return L}else{if(dt[r(994)]!=this[r(675)][f].nDisplayEffect)return Me[r(1112)];if((L=this.ComputeAngleHorizontal(l,e,C))!=Me[r(593)])return L}return this[r(725)](this[r(915)],this[r(332)],this[r(737)],this[r(402)],C,this[r(675)][f][r(1580)],this[r(675)][f].nDisplayEffect)==0?Me[r(650)]:(this.pRenderParam[f][r(780)]=C[r(988)],this.pRenderParam[f][r(1181)]=C[r(1211)],this[r(675)][f][r(1025)]=C[r(927)],this[r(675)][f][r(810)]=C.fVAngleSin,Me[r(593)])}},{key:ue(817),value:function(f){var l=ue,e=0;switch(e){case 0:return e=this[l(841)](f),this[l(1252)]==4&&(this[l(1252)]=0),Me.SR_OK;case 3:return(e=this[l(841)](f))==this[l(1252)]||this[l(1252)]==4?Me[l(593)]:Me[l(1112)];case 2:case 1:return(e=this.GetPlaceType(f))==this[l(1252)]||e==4?Me[l(593)]:Me[l(1112)];default:return Me.SR_ERR_NOT_SUPPORT}return Me.SR_ERR_NOT_SUPPORT}},{key:ue(841),value:function(f){var l=ue;switch(f){case dt[l(1282)]:case dt.SR_DE_FISH_PANORAMA_CEILING_360:case dt[l(1212)]:case dt.SR_DE_FISH_CYLINDER_CEILING:case dt[l(414)]:return 3;case dt[l(474)]:case dt[l(472)]:case dt[l(563)]:case dt[l(405)]:case dt[l(1139)]:return 2;case dt.SR_DE_FISH_PTZ_WALL:case dt[l(1018)]:case dt.SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL:case dt.SR_DE_FISH_ARCSPHERE_VERTICAL_WALL:return 1;case dt.SR_DE_FISH_SEMISPHERE:case dt[l(677)]:case dt[l(1262)]:case dt[l(1046)]:case dt[l(1262)]:return 4;default:return 0}return 0}},{key:ue(1057),value:function(f,l){var e=ue;if(f<0||32<=f||l==null)return Me[e(650)];if(this[e(675)][f]==null)return Me[e(1538)];var r=Me[e(593)];switch(l[e(572)]){case Fi:if((r=this[e(922)](l[e(473)],l[e(919)],l[e(1171)],l[e(825)]))!=Me[e(593)])return r;this[e(675)][f][e(818)]=l[e(818)],this[e(368)]=l[e(368)];break;case di:if(dt[e(1379)]!=this[e(675)][f][e(310)]&&dt[e(1212)]!=this.pRenderParam[f][e(310)]&&dt[e(472)]!=this[e(675)][f][e(310)]&&dt[e(1366)]!=this.pRenderParam[f][e(310)])return Me.SR_ERR_NOT_SUPPORT;if((r=this[e(955)](f,l[e(1485)]))!=Me[e(593)])return r;this[e(812)][f][e(1485)]=l[e(1485)];break;case gi:if(dt[e(994)]!=this[e(675)][f][e(310)]&&dt.SR_DE_FISH_PTZ_CEILING!=this[e(675)][f][e(310)]&&dt[e(474)]!=this[e(675)][f][e(310)])return Me[e(1112)];if((r=this[e(891)](f,l[e(1580)]))!=Me[e(593)])return r;this[e(812)][f][e(1580)]=l.fZoom;break;case Ki:if(dt[e(994)]!=this[e(675)][f].nDisplayEffect&&dt.SR_DE_FISH_PTZ_CEILING!=this[e(675)][f][e(310)]&&dt.SR_DE_FISH_PTZ_FLOOR!=this[e(675)][f][e(310)])return Me[e(1112)];if((r=this.UpdatePTZPosition(f,l[e(875)],l[e(660)],this[e(675)][f][e(1580)],!0))!=Me[e(593)])return r;this[e(812)][f].fPTZX=l[e(875)],this[e(812)][f][e(660)]=l[e(660)];break;case ai:return Me[e(1112)]}return r=this[e(439)]()}},{key:ue(444),value:function(f,l){var e=ue;return f<0||32<=f||l==null||this[e(812)][f]==null?Me[e(650)]:(l.fRXLeft=this[e(915)],l[e(919)]=this[e(332)],l[e(1171)]=this.fRY1,l[e(825)]=this[e(402)],l[e(368)]=this[e(368)],l[e(818)]=this[e(675)][f][e(818)],l.nFishParamType=this[e(812)][f][e(572)],l.fAngle=this[e(812)][f][e(1485)],l[e(1580)]=this.pFishParam[f].fZoom,l.fPTZX=this.pFishParam[f][e(875)],l[e(660)]=this[e(812)][f].fPTZY,Me[e(593)])}},{key:ue(796),value:function(f,l){var e=ue;return f<0||32<=f||l==null||this[e(675)][f]==null?Me[e(650)]:(l[e(473)]=this[e(915)],l[e(919)]=this.fRX2,l.fRYTop=this.fRY1,l[e(825)]=this[e(402)],l[e(368)]=this[e(368)],l.fCosH=this[e(675)][f][e(780)],l[e(1181)]=this[e(675)][f][e(1181)],l[e(1025)]=this[e(675)][f][e(1025)],l[e(810)]=this[e(675)][f][e(810)],l.fAngle=this[e(675)][f].fAngle,l[e(1580)]=this[e(675)][f][e(1580)],l.nDisplayEffect=this.pRenderParam[f][e(310)],l[e(818)]=this[e(675)][f][e(818)],Me[e(593)])}},{key:ue(922),value:function(f,l,e,r){var C=ue;if(f<=-.5||.4<=f||l<=.6||1.5<=l||e<=-.5||.4<=e||r<=.6||1.5<=r||f+l<=.8||1.2<=f+l||e+r<=.8||1.2<=e+r)return Me[C(650)];if(f<0||1<l||e<0||1<r){for(var L=0;L<32;++L)if(dt[C(1282)]==this[C(675)][L][C(310)]||dt.SR_DE_FISH_PTZ_FLOOR==this[C(675)][L].nDisplayEffect||dt[C(994)]==this[C(675)][L].nDisplayEffect){var ke=[];if(ke.fHAngleCos=this.pRenderParam[L].fCosH,ke.fHAngleSin=this[C(675)][L].fSinH,ke[C(927)]=this[C(675)][L][C(1025)],ke[C(451)]=this.pRenderParam[L][C(810)],this[C(725)](f,l,e,r,ke,this[C(675)][L][C(1580)],this[C(675)][L].nDisplayEffect)==0)return Me[C(650)]}}return this[C(915)]=f,this[C(332)]=l,this.fRY1=e,this[C(402)]=r,Me[C(593)]}},{key:ue(955),value:function(f,l){var e=ue;return this[e(675)][f]==null?Me[e(1538)]:(dt[e(472)]==this[e(675)][f][e(310)]||dt[e(1366)]==this[e(675)][f][e(310)]?this.pRenderParam[f][e(1485)]=l:dt[e(1379)]!=this.pRenderParam[f][e(310)]&&dt.SR_DE_FISH_PANORAMA_CEILING_180!=this[e(675)][f][e(310)]||(this[e(675)][f][e(1485)]=-l),Me.SR_OK)}},{key:"ComputeAngleVertical",value:function(f,l,e,r){var C=ue,L=Math[C(1540)]((l-.5)*(l-.5)+(f-.5)*(f-.5));if(.5<L)return Me[C(650)];if(L<.001)return e[C(927)]=1,e[C(451)]=0,e[C(988)]=1,e.fHAngleSin=0,Me[C(593)];if(r==dt[C(1282)]){e[C(988)]=(.5-l)/L,e[C(1211)]=(.5-f)/L;var ke=L*ar;e[C(927)]=Math[C(1268)](ke),e[C(451)]=Math[C(514)](ke)}else{if(r!=dt[C(474)])return Me[C(650)];e[C(988)]=(l-.5)/L,e[C(1211)]=(.5-f)/L,ke=L*ar,e[C(927)]=Math[C(1268)](ke),e[C(451)]=Math.sin(ke)}return Me[C(593)]}},{key:ue(456),value:function(f,l,e){var r=ue,C,L;return .25<(l-.5)*(l-.5)+(f-.5)*(f-.5)?Me[r(650)]:(l=(l-.5)/.5*ar/2,C=Math.cos(l),l=Math.sin(l),1<(f-.5)/.5/C||(f-.5)/.5/C<-1?SR_ERR_PARAM:(f=(f-.5)/.5/C*ar/2,L=Math[r(1268)](f),f=Math[r(514)](f),e[r(927)]=C,e[r(451)]=l,e[r(988)]=L,e[r(1211)]=f,Me[r(593)]))}},{key:ue(725),value:function(f,l,e,r,C,L,ke){var ze=ue;return this[ze(656)](f,l,e,r,C[ze(988)],C[ze(1211)],C[ze(927)],C.fVAngleSin,L,1,.5,ke)!=1&&this[ze(656)](f,l,e,r,C.fHAngleCos,C[ze(1211)],C.fVAngleCos,C[ze(451)],L,0,.5,ke)!=1&&this[ze(656)](f,l,e,r,C.fHAngleCos,C[ze(1211)],C[ze(927)],C.fVAngleSin,L,.5,1,ke)!=1&&this.IsOutofImage(f,l,e,r,C[ze(988)],C[ze(1211)],C[ze(927)],C[ze(451)],L,.5,0,ke)!=1&&this[ze(656)](f,l,e,r,C[ze(988)],C.fHAngleSin,C[ze(927)],C[ze(451)],L,0,0,ke)!=1&&this[ze(656)](f,l,e,r,C[ze(988)],C.fHAngleSin,C[ze(927)],C[ze(451)],L,0,1,ke)!=1&&this[ze(656)](f,l,e,r,C.fHAngleCos,C[ze(1211)],C[ze(927)],C[ze(451)],L,1,1,ke)!=1&&this[ze(656)](f,l,e,r,C[ze(988)],C[ze(1211)],C[ze(927)],C.fVAngleSin,L,1,0,ke)!=1}},{key:ue(656),value:function(f,l,on,Ei,C,L,ke,ze,Yt,j,W,ne){var he=ue,et,Rt,It,Qt=(l-f)/(Ei-on),Ai=(f+l)/2*1,on=(on+Ei)/2*Qt,Ei=(l-f)/2*1;if(ne==SR_DE_FISH_PTZ_CEILING){if(Xi=j-.5,wi=(et=.5-W)*ke+(Rt=Yt)*ze,(It=Rt*ke-et*ze)<=0)return!0;var Xi,wi,B,p=Math[he(1540)](Xi*Xi+wi*wi),l=Math.sqrt(Xi*Xi+wi*wi+It*It),f=Math[he(925)](p/l)/1.5707963*.5,A=(-((Xi=f*Xi/p)*L+(wi=f*wi/p)*C)*Ei*2+on)/Qt;if((B=(Xi*C-wi*L)*Ei*2+Ai)<0||1<B||A<0||1<A)return!0}return ne==SR_DE_FISH_PTZ_FLOOR&&(Xi=j-.5,wi=(et=W-.5)*ke+(Rt=Yt)*ze,(It=Rt*ke-et*ze)<=0||(p=Math[he(1540)](Xi*Xi+wi*wi),l=Math[he(1540)](Xi*Xi+wi*wi+It*It),f=Math.asin(p/l)/1.5707963*.5,A=(((Xi=f*Xi/p)*L+(wi=f*wi/p)*C)*Ei*2+on)/Qt,(B=(Xi*C-wi*L)*Ei*2+Ai)<0||1<B||A<0||1<A))||ne==SR_DE_FISH_PTZ_WALL&&(B=(Xi=j-.5)*C+(It=(Rt=Yt)*ke-(et=W-.5)*ze)*L,A=wi=et*ke+Rt*ze,(l=It*C-Xi*L)<=0||(p=Math[he(1540)](B*B+A*A),f=Math[he(1540)](B*B+A*A+l*l),ne=Math[he(925)](p/f)/1.5707963*.5,A=(ne*A/p*Ei*2+on)/Qt,(B=ne*B/p*Ei*2+Ai)<0||1<B||A<0||1<A))}},{key:ue(439),value:function(){var f=ue;if(this.nWndPort==-1)return Me[f(1538)];for(var l,e=0;e<32;++e)this[f(675)][e]==null||dt[f(1282)]!=this[f(675)][e].nDisplayEffect&&dt[f(474)]!=this[f(675)][e][f(310)]&&dt[f(994)]!=this.pRenderParam[e].nDisplayEffect||(l=Me[f(593)],this[f(1120)]==qt?(l=this[f(391)](e),Me[f(593)]==l&&(l=this[f(838)](e))):this.nPTZDisplayMode==Ht&&(l=this[f(755)](e)));return Me[f(593)]}},{key:ue(631),value:function(){var f=ue;return this[f(1398)]}},{key:ue(1062),value:function(){var f=ue;return this[f(1120)]}},{key:"GetPTZColor",value:function(f,l){var e=ue;return f<0||32<=f||l==null?Me.SR_ERR_PARAM:(l.fA=this[e(1208)][f].fA,l.fR=this[e(1208)][f].fR,l.fG=this.stPTZColor[f].fG,l.fB=this[e(1208)][f].fB,this[e(739)]!=null&&(Math.abs(this.pPTZSetColor[f].fA)<Un||Math[e(1502)](this[e(739)][f].fR)<Un||Math[e(1502)](this[e(739)][f].fG)<Un||Math.abs(this[e(739)][f].fB)<Un)&&(l.fA=this.pPTZSetColor[f].fA,l.fR=this[e(739)][f].fR,l.fG=this[e(739)][f].fG,l.fB=this[e(739)][f].fB),Me.SR_OK)}},{key:ue(1486),value:function(f,l){var e=ue;if(f<0||32<=f||l==null)return Me[e(650)];if(this[e(739)]==null){this.pPTZSetColor=[];for(var r=0;r<32;++r)this[e(739)][r]=[],this[e(739)][r].fR=0,this[e(739)][r].fG=0,this.pPTZSetColor[r].fB=0,this[e(739)][r].fA=1}return this[e(739)][f].fR=l.fR,this.pPTZSetColor[f].fG=l.fG,this.pPTZSetColor[f].fB=l.fB,this.pPTZSetColor[f].fA=l.fA,Me.SR_OK}},{key:"IsPTZSelected",value:function(f){return!(f<0||32<=f)&&this.bPTZSelected[f]}},{key:ue(993),value:function(f,l){var e=ue;if(this[e(1398)]==-1||this[e(675)][this.nWndPort]==null)return-1;var r=32,C=[];C.fX=f,C.fY=l;for(var L=0;L<32;++L)this[e(646)][L]=!1;if(this[e(1120)]==qt){switch(this.pRenderParam[this.nWndPort][e(310)]){case dt[e(472)]:this[e(690)](C,f,l);break;case dt.SR_DE_FISH_PANORAMA_CEILING_360:this[e(1436)](C,f,l);break;case dt[e(1018)]:this[e(630)](C,f,l)}for(var ke=0;ke<32;++ke)if(this[e(652)][ke]!=0){var ze=[],Yt=(ze.fX=this[e(1183)][ke][0].fX,ze.fY=this[e(1183)][ke][0].fY,[]);Yt.fX=this[e(1183)][ke][0].fX,Yt.fY=this[e(1183)][ke][0].fY;for(var j=1;j<this[e(652)][ke];++j)this[e(640)](ze,Yt,this[e(1183)][ke][j]);if(C.fX<=ze.fX&&C.fX>=Yt.fX&&C.fY>=Yt.fY&&C.fY<=ze.fY){r=ke;break}}}else{if(this.nPTZDisplayMode!=Ht)return-1;for(var W=0;W<32;++W)if(C.fX<=this[e(1459)][W][2].fX&&C.fX>=this[e(1459)][W][0].fX&&C.fY>=this.pRectPoints[W][0].fY&&C.fY<=this[e(1459)][W][2].fY){r=W;break}}return r<32?(this.bPTZSelected[r]=!0,r):-1}},{key:ue(430),value:function(f){var l=ue;if(f<0||32<=f)return Me.SR_ERR_PARAM;for(var e=0;e<32;++e)this[l(646)][e]=!1;if(this.nPTZDisplayMode==qt){if(this[l(652)][f]==0)return Me[l(650)];this.bPTZSelected[f]=!0}else{if(this[l(1343)][f]==0)return Me.SR_ERR_PARAM;this.bPTZSelected[f]=!0}return Me.SR_OK}},{key:ue(640),value:function(f,l,e){var r=ue;return e.fX<l.fX&&(l.fX=e.fX),e.fY<l.fY&&(l.fY=e.fY),e.fX>f.fX&&(f.fX=e.fX),e.fY>f.fY&&(f.fY=e.fY),Me[r(593)]}},{key:ue(802),value:function(f,l,e){var r=ue;return f<0||32<=f?Me[r(650)]:this[r(675)][this[r(1398)]]==null?Me[r(1538)]:(qt==e?this[r(1183)][f]!=null&&this.nOriPTZPointNum[f]!=0&&(l.pstPoints=this[r(1183)][f],l.nPointNum=this[r(652)][f]):Ht==e&&this[r(1459)][f]!=null&&(l[r(319)]=this[r(1459)][f],l[r(665)]=4),Me[r(593)])}},{key:ue(728),value:function(f){var l=ue;return this[l(1120)]=f,this[l(439)]()}},{key:ue(1154),value:function(f){var l=ue;return f<0||32<=f?Me[l(650)]:this[l(675)]==null?Me[l(1538)]:this.pRenderParam[f][l(310)]}},{key:ue(1504),value:function(f,l,e){var r=ue;if(f<0||32<=f)return Me.SR_ERR_PARAM;if(this[r(1325)][f]==null||this[r(1405)][f]==0)return Me[r(650)];var C=this[r(1138)][f][e];if(l.nPointNum=this[r(1138)][f][e+1]-this[r(1138)][f][e],l.nPointNum<0)return Me[r(1538)];l[r(319)]=[];for(var L=0;L<l[r(665)];++L){var ke=[];ke.fX=this[r(1325)][f][C+L].fX,ke.fY=this[r(1325)][f][C+L].fY,l[r(319)][r(962)](ke)}return Me[r(593)]}},{key:"GetPTZFragmentNum",value:function(f){var l=ue;return f<0||32<=f?Me[l(650)]:this[l(733)][f]==0?Me[l(1538)]:this[l(733)][f]}},{key:ue(779),value:function(f){var l=ue;if(f<0||32<=f)return Me.SR_ERR_PARAM;if(this[l(1325)][f]==null||this[l(1405)][f]==0)return Me.SR_ERR_CALL_ORDER;this[l(1138)][f][0]=0,this[l(733)][f]=1;for(var e=0,r=0;r<this[l(1405)][f]-1;r++).5<Math[l(1502)](this[l(1325)][f][r+1].fX-this[l(1325)][f][r].fX)&&(e=this[l(733)][f],this.nPTZFragmentNode[f][e]=r+1,this.nPTZFragmentNum[f]=this[l(733)][f]+1);var C=this[l(1405)][f];return Math[l(1502)](this.pPanoPTZPoints[f][0].fX-this[l(1325)][f][C-1].fX)<.5&&(this[l(1325)][f][C].fX=this[l(1325)][f][0].fX,this[l(1325)][f][C].fY=this[l(1325)][f][0].fY,this.nPanoPTZPointNum[f]=this[l(1405)][f]+1),e=this[l(733)][f],this[l(1138)][f][e]=this.nPanoPTZPointNum[f],Me[l(593)]}},{key:ue(433),value:function(f){var l=ue;return this[l(1105)][f]}},{key:ue(886),value:function(f,l,e){var r=ue;if(this.pRenderParam[this[r(1398)]]==null)return Me[r(1538)];if(f==null)return Me.SR_ERR_PARAM;var ke=(this.fRX2-this[r(915)])/(this[r(402)]-this[r(737)]),C=(this.fRX2-this.fRX1)/2*1,L=0,ke=((1<this[r(332)]||1<this.fRY2||this.fRX1<0||this[r(737)]<0)&&(this[r(915)]<0&&L<(ze=-this[r(915)])&&(L=ze),1<this[r(332)]&&L<(ze=this[r(332)]-1)&&(L=ze),this[r(737)]<0&&L<(ze=-this[r(737)]*ke)&&(L=ze),1<this[r(402)]&&L<(ze=(this.fRY2-1)*ke)&&(L=ze)),L/C),ze=[];return ze.fX=0,ze.fY=0,Math[r(1502)](l-.5)<Un&&Math[r(1502)](e-.5)<Un?Me[r(1112)]:(L=[],C=[],L.fX=l-.5,L.fY=e-.5,C.fX=-.5*Math[r(514)](this[r(675)][this[r(1398)]][r(1485)]),C.fY=.5*Math[r(1268)](this[r(675)][this[r(1398)]].fAngle),l=Math.sqrt(L.fX*L.fX+L.fY*L.fY),e=Math[r(1540)](C.fX*C.fX+C.fY*C.fY),e=Math[r(1200)]((L.fX*C.fX+L.fY*C.fY)/(l*e)),0<L.fX*C.fY-L.fY*C.fX&&(e=6.2831852-e),ze.fX=e/6.2831853,ze.fY=(2*(.5-l)-ke)/(.8-ke),0<=ze.fY&&0<=ze.fX&&ze.fY<=1&&ze.fX<=1?(f.fX=ze.fX,f.fY=ze.fY,Me[r(593)]):Me[r(650)])}},{key:ue(1077),value:function(f,l,e){var r=ue;if(this[r(675)][this[r(1398)]]==null)return Me[r(1538)];if(f==null)return Me[r(650)];var ke=(this.fRX2-this.fRX1)/(this[r(402)]-this[r(737)]),C=(this[r(332)]-this.fRX1)/2*1,L=0,ke=((1<this[r(332)]||1<this.fRY2||this.fRX1<0||this[r(737)]<0)&&(this.fRX1<0&&L<(ze=-this[r(915)])&&(L=ze),1<this[r(332)]&&L<(ze=this[r(332)]-1)&&(L=ze),this[r(737)]<0&&L<(ze=-this[r(737)]*ke)&&(L=ze),1<this[r(402)]&&L<(ze=(this.fRY2-1)*ke)&&(L=ze)),L/C),ze=[];return ze.fX=0,ze.fY=0,Math.abs(l-.5)<Un&&Math[r(1502)](e-.5)<Un?Me[r(1112)]:(L=[],C=[],L.fX=l-.5,L.fY=e-.5,C.fX=-.5*Math[r(514)](this.pRenderParam[this[r(1398)]][r(1485)]),C.fY=.5*Math[r(1268)](this.pRenderParam[this[r(1398)]][r(1485)]),l=Math[r(1540)](L.fX*L.fX+L.fY*L.fY),e=Math[r(1540)](C.fX*C.fX+C.fY*C.fY),e=Math[r(1200)]((L.fX*C.fX+L.fY*C.fY)/(l*e)),0<L.fX*C.fY-L.fY*C.fX&&(e=6.2831852-e),ze.fX=1-e/6.2831853,ze.fY=1-(2*(.5-l)-ke)/(.8-ke),0<=ze.fY&&0<=ze.fX&&ze.fY<=1&&ze.fX<=1?(f.fX=ze.fX,f.fY=ze.fY,Me[r(593)]):Me[r(650)])}},{key:"GetPointFish2PanoWall",value:function(f,l,e){var r=ue;if(this[r(675)][this[r(1398)]]==null)return Me[r(1538)];if(f==null)return Me[r(650)];var j=(this[r(332)]-this.fRX1)/(this.fRY2-this[r(737)]),C=(this[r(332)]-this[r(915)])/2*1,L=0,ke=1,ze=.1,Yt=.9,j=(this[r(915)]<0&&(W=-this[r(915)],L=W/=2*C),1<this.fRX2&&(W=this.fRX2-1,ke=1-(W/=2*C)),this.fRY1<0&&(W=-this.fRY1*j,ze=.1<(W/=2*C)?W:.1),1<this[r(402)]&&(W=(this[r(402)]-1)*j,Yt=1-.9<(W/=2*C)?1-W:.9),[]),W=(j.fX=0,j.fY=0,2*l*C),ne=2*e*C,he=Math.sqrt(C*C-(ne-C)*(ne-C));return Math[r(1502)](he)<Un?SR_ERR_PARAM:(e=ne,j.fX=((l=C*(W-C)/he+C)-2*L*C)/(2*(ke-L)*C),j.fY=(e-2*ze*C)/(2*(Yt-ze)*C),0<=j.fY&&0<=j.fX&&j.fY<=1&&j.fX<=1?(f.fX=j.fX,f.fY=j.fY,Me[r(593)]):Me.SR_ERR_PARAM)}}]),bi}(),Ua=function(){var ue=D;function bi(){var Je=M;Ce(this,bi),this[Je(1264)]=Je(1258),this[Je(1128)]=null,this.mainCanvasID="",this[Je(1233)]=0,this[Je(359)]=dt[Je(1347)],this[Je(752)]=0,this[Je(723)]=0,this[Je(1346)]=0,this[Je(429)],this[Je(867)]()}return Le(bi,[{key:ue(867),value:function(){var f=ue;this[f(902)]=[];for(var l=0;l<32;l++)this[f(902)][l]={},this.stFishEyeManager[l][f(1512)]=null,this[f(902)][l][f(1404)]=0,this[f(902)][l][f(352)]="",this.stFishEyeManager[l][f(960)]=0,this[f(902)][l].bInit=0,this[f(902)][l][f(1305)]=0,this[f(902)][l][f(985)]=ht,this[f(902)][l][f(1490)]=Ii,this[f(902)][l][f(776)]=dt.SR_DE_FISH_ORIGINAL;this.stFishParam=[];for(var e=0;e<32;e++)this.stFishParam[e]={},this[f(1324)][e][f(1278)]=0,this[f(1324)][e].stPTZParam={},this[f(1324)][e].stPTZParam.fPTZPositionX=0,this.stFishParam[e][f(1458)][f(1357)]=0,this.stFishParam[e][f(612)]={},this.stFishParam[e].stCycleParam[f(313)]=0,this[f(1324)][e].stCycleParam[f(586)]=0,this[f(1324)][e][f(612)][f(554)]=0,this[f(1324)][e][f(612)][f(550)]=0,this.stFishParam[e][f(1580)]=0,this[f(1324)][e][f(545)]=0,this[f(1324)][e].stPTZColor={},this.stFishParam[e][f(1208)].nR=0,this[f(1324)][e].stPTZColor.nG=0,this[f(1324)][e][f(1208)].nB=0,this[f(1324)][e].stPTZColor[f(991)]=0,this[f(1324)][e][f(750)]={},this[f(1324)][e][f(750)][f(322)]=0,this[f(1324)][e][f(750)][f(1209)]=0,this[f(1324)][e][f(750)][f(1575)]=0,this[f(1324)][e][f(750)][f(518)]=0,this[f(1324)][e][f(834)]=0}},{key:ue(814),value:function(f){return 1}},{key:ue(1480),value:function(f,l){var e=ue;return this[e(1264)]=l,this[e(831)]=f,this[e(429)]==null&&(this.pFishParamManager=new Xa),this[e(1264)]==="2d"||this[e(1264)]==="2D"?(this[e(1128)]=new uo,console[e(1590)]("2d render")):(this[e(1128)]=new Ia,this[e(1128)][e(1299)](this[e(429)]),console.log(e(873))),this.oVideoHandle.SR_Init(f),this[e(1233)]=this[e(1128)][e(856)](this[e(359)]),this[e(902)][0].pRender==null&&this.mainFECCorrect!==dt[e(1347)]&&(this[e(902)][0][e(1512)]=this.oVideoHandle,this.stFishEyeManager[0][e(1404)]=0,this[e(902)][0][e(352)]=this[e(831)],this[e(902)][0][e(960)]=1,this[e(902)][0][e(1033)]=1,this[e(902)][0].nValidSubPort=0),this.mainSubPort==-1?(console[e(786)](e(1529),e(692),this[e(1233)]),0):1}},{key:ue(785),value:function(){var f=ue;this[f(1128)]!=null&&(this[f(1128)][f(943)](this[f(1233)]),this.oVideoHandle.SR_Destroy(),this[f(1128)]=null);for(var l=0;l<32;l++)this[f(902)][l][f(1512)]=null;return this[f(902)][f(387)](0,this[f(902)][f(525)]),this[f(1324)][f(387)](0,this.stFishParam[f(525)]),this[f(429)][f(505)](),this[f(429)]=null,1}},{key:ue(700),value:function(f){var l=ue;return this[l(1128)]!=null?this[l(1128)][l(658)](f):0}},{key:ue(399),value:function(f,l,e,r){var C=ue;return this[C(1128)]!=null?this[C(1128)].SR_SetDisplayRect(f,l,e,r):0}},{key:ue(343),value:function(f,l){var e=ue;return this[e(1128)]!=null?this[e(1128)][e(422)](f,l):0}},{key:"GetCanvasSize",value:function(){var f=ue;return this.oVideoHandle!=null?this[f(1128)][f(918)]():0}},{key:"SetAntialias",value:function(f){var l=ue;return this[l(1128)]!=null?this[l(1128)][l(552)](f):0}},{key:ue(1206),value:function(f,l,e){var r=ue;if(e!=Ii&&e!=Zi&&e!=pi&&e!=ci)return console.log("%c 20230516 hardDecoder not support correctType:%d",r(657),e),16;var C=this[r(1457)](l,e);return f==0?(this[r(1128)]!=null&&(this.oVideoHandle[r(943)](this[r(1233)]),this[r(1233)]=this[r(1128)][r(856)](C),this[r(902)][f][r(1512)]==null&&(this.stFishEyeManager[f].pRender=this[r(1128)],this.stFishEyeManager[f][r(1404)]=0,this[r(902)][f][r(352)]=this[r(831)],this[r(902)][f][r(960)]=1,this[r(902)][f][r(1033)]=1,this[r(902)][f].nValidSubPort=this[r(1233)])),this[r(902)][f][r(985)]=l,this[r(902)][f][r(1490)]=e,this[r(902)][f][r(776)]=C,this.mainFECCorrect=C,ci<=this[r(902)][f][r(1490)]&&(l=this[r(902)][f][r(1512)].SR_SetRenderState(fn,0),Me.SR_OK!=l&&console.log(r(487),l))):this[r(902)][f][r(1512)]!=null?(this[r(902)][f][r(1512)].SR_DelSubPort(this[r(902)][f][r(1305)]),this[r(902)][f][r(1305)]=this[r(902)][f].pRender[r(856)](C)):console[r(786)](r(492),r(657)),1}},{key:"FEC_GetPort",value:function(f,l){var e=ue;if((si==f||ht==f)&&sn==l)return this[e(752)]=Tt,-1;if(wt==f&&Ut==l)return this[e(752)]=Tt,-1;if(wt==f&&V==l)return this[e(752)]=Tt,-1;if((si==f||ht==f)&&N==l)return this[e(752)]=Tt,-1;if((si==f||ht==f)&&T==l)return this[e(752)]=Tt,-1;if(wt!=f&&si!=f&&ht!=f)return this.FECErrorCode=MP_E_SUPPORT,-1;if(l!=0&&l!=ji&&l!=Zi&&l!=pi&&l!=sn&&l!=ci&&l!=Ut&&l!=V&&l!=w&&l!=N&&l!=T)return this[e(752)]=MP_E_SUPPORT,-1;for(var r=0,C=1;C<32;C++){if(this[e(902)][C][e(960)]&&this[e(902)][C][e(985)]!=f)return this.FECErrorCode=1303,-1;if(this[e(902)][C][e(960)]&&this.stFishEyeManager[C][e(1490)]!=ji&&this[e(902)][C][e(1490)]!=ci&&this[e(902)][C][e(1490)]!=Ut&&this[e(902)][C][e(1490)]!=V&&this[e(902)][C][e(1490)]!=w&&this[e(902)][C].emCorrectType!=N&&this[e(902)][C][e(1490)]!=T&&l!=ji&&l!=ci&&l!=Ut&&l!=V&&l!=w&&l!=N&&l!=T)return this[e(752)]=1304,-1;if(this[e(902)][C][e(960)]&&(this.stFishEyeManager[C][e(1490)]==ji&&l==Zi||this[e(902)][C].emCorrectType==Zi&&l==ji))return this[e(752)]=1304,-1;if(T==l&&(this[e(1324)][0][e(612)].fRadiusLeft<=-.5||0<this[e(1324)][0].stCycleParam[e(313)]||this.stFishParam[0][e(612)][e(586)]<1||1.5<=this[e(1324)][0][e(612)][e(586)]||this.stFishParam[0][e(612)].fRadiusTop<=-.5||.4<=this.stFishParam[0][e(612)][e(554)]||this.stFishParam[0][e(612)].fRadiusBottom<=.6||1.5<=this.stFishParam[0][e(612)][e(550)]||this[e(1324)][0][e(612)][e(313)]+this[e(1324)][0][e(612)][e(586)]<=.8||1.2<=this.stFishParam[0][e(612)][e(313)]+this.stFishParam[0][e(612)][e(586)]||this[e(1324)][0][e(612)][e(554)]+this[e(1324)][0][e(612)][e(550)]<=.8||1.2<=this[e(1324)][0].stCycleParam.fRadiusTop+this.stFishParam[0].stCycleParam[e(550)]))return this[e(752)]=Dt,-1}for(C=1;C<32;C++)if(this.stFishEyeManager[C][e(1404)]==0&&this[e(902)][C].bUsed==0){this.stFishEyeManager[C][e(1404)]=C,this[e(902)][r][e(1305)]=-1,this[e(902)][C][e(960)]=1,this[e(902)][C][e(985)]=f,this[e(902)][C][e(1490)]=l,r=C;break}if(C==32)return this[e(752)]=1284,-1;var L=this[e(1457)](this[e(902)][r][e(985)],this[e(902)][r][e(1490)]);return dt[e(677)]!=L?(this[e(902)][r][e(761)]==0&&(this.stFishEyeManager[r][e(776)]=L,this[e(902)][r][e(761)]=0,this.stFishParam[r].fZoom=.005,this[e(1324)][r][e(1458)][e(989)]=.5,this[e(1324)][r][e(1458)][e(1357)]=.5,this[e(1324)][r].fWideScanOffset=0),this.FECErrorCode=0,this.subPortNum++,C):r<32&&this[e(902)][r][e(761)]==0?(this[e(902)][r].emEffect=L,this[e(902)][r][e(761)]=0,this[e(1324)][r][e(1580)]=0,this[e(1324)][r][e(1458)][e(989)]=0,this[e(1324)][r][e(1458)][e(1357)]=0,this[e(1324)][r][e(545)]=0,this[e(752)]=0,this[e(723)]++,C):(this[e(902)][C][e(1512)]=null,this[e(902)][C][e(1404)]=0,this[e(902)][C][e(352)]="",this[e(902)][C][e(960)]=0,this[e(902)][C].bInit=0,this.stFishEyeManager[C][e(1305)]=0,this[e(902)][C][e(985)]=ht,this[e(902)][C].emCorrectType=Ii,this[e(902)][C].emEffect=dt[e(677)],this.FECErrorCode=Tt,-1)}},{key:ue(1015),value:function(f){var l=ue;return this.stFishEyeManager[f][l(1512)]!==null&&(this[l(752)]=1301,returnmpCtrlDefine[l(1275)]),this[l(902)][f][l(1512)]==null&&(this[l(902)][f][l(1512)]=new Ia,this[l(902)][f][l(1512)].SR_SetFishParamManager(this[l(429)])),1}},{key:ue(1145),value:function(f,l){var e=ue;if(this[e(902)][f][e(1512)]==null)return this[e(752)]=kt;if(f<1||31<f)return this[e(752)]=1298;if(this[e(902)][f][e(960)]==0)return this[e(752)]=Lt;if(l==null)return this.FECErrorCode=1305;if(this[e(902)][f][e(1404)]==0||this[e(902)][f][e(960)]==0)return this[e(752)]=Lt;if(this[e(902)][f][e(761)]!=0&&this[e(902)][f][e(352)]!=null)return l!=this[e(902)][f][e(352)]?this[e(752)]=1286:1;SR_DE_FISH_ORIGINAL;var r=this[e(1457)](this[e(902)][f][e(985)],this[e(902)][f][e(1490)]),C=this[e(902)][f][e(1512)][e(1483)](l);return this[e(902)][f].nValidSubPort=this[e(902)][f][e(1512)].SR_AddSubPort(r),Me[e(593)]!=C||Me[e(593)]!=retSASP?(this[e(902)][f].bInited=0,this.stFishEyeManager[f].sCanvasID=null,this[e(752)]=Lt):(this[e(902)][f][e(761)]=1,this.stFishEyeManager[f][e(352)]=l,ci<=this.stFishEyeManager[f].emCorrectType&&(r=this[e(902)][f][e(1512)][e(924)](fn,0),Me[e(593)]!=r&&console[e(1590)](e(487),r)),0<this[e(1346)]&&(this[e(902)][f][e(1512)][e(328)](this[e(1346)]),this.FECShowMode=0),1)}},{key:ue(1582),value:function(f,l,e){var r=ue;return f!=0&&(this.stFishEyeManager[f][r(761)]==1&&(Me[r(593)]==this[r(902)][f][r(1512)].SR_DelSubPort(this[r(902)][f][r(1305)])&&(this[r(902)][f].bInited=0,this[r(902)][f][r(1305)]=-1),this[r(902)][f][r(1512)][r(1577)]()),this.stFishEyeManager[f][r(1512)]=null,this[r(902)][f].nSubPort=0,this[r(902)][f][r(352)]="",this.stFishEyeManager[f][r(960)]=0,this[r(902)][f][r(1033)]=0,this[r(902)][f][r(1305)]=0,this[r(902)][f][r(985)]=ht,this[r(902)][f][r(1490)]=Ii,this.stFishEyeManager[f].emEffect=dt.SR_DE_FISH_ORIGINAL),1}},{key:"FEC_DelPort",value:function(f){var l=ue;if(f!=0){if(f<1||31<f)return this[l(752)]=1298;if(this.stFishEyeManager[f][l(960)]==0)return this.FECErrorCode=Lt;this.stFishParam[f][l(612)][l(313)]=0,this[l(1324)][f][l(612)][l(586)]=1,this[l(1324)][f][l(612)].fRadiusTop=0,this[l(1324)][f][l(612)].fRadiusBottom=1,this[l(752)]=0,(this[l(1346)]=0)<this[l(723)]&&this.subPortNum--}return 1}},{key:ue(671),value:function(f,l){var e=ue;if(this.FECErrorCode=0,this[e(902)][f][e(1512)]==null)return this.FECErrorCode=kt;if(this.stFishEyeManager[f][e(960)]==0)return this[e(752)]=Lt;if(this[e(902)][f].emCorrectType>=ci&&this.stFishEyeManager[f].emCorrectType<=T&&30&l.upDateType)return this[e(752)]=Ft;if(we&l[e(457)]){if(l[e(612)]==null)return Dt;for(var r=1;r<32;r++){if(this[e(902)][r].bUsed&&this.stFishEyeManager[r][e(1404)]&&N==this[e(902)][r][e(1490)]&&(l[e(612)][e(313)]<=-.5||.4<=l[e(612)][e(313)]||l[e(612)][e(586)]<=.6||1.5<=l[e(612)][e(586)]||l[e(612)][e(554)]<=-.5||0<l.stCycleParam[e(554)]||l[e(612)][e(550)]<1||1.5<=l[e(612)][e(550)]||l[e(612)][e(313)]+l[e(612)][e(586)]<=.8||1.2<=l[e(612)][e(313)]+l[e(612)][e(586)]||l[e(612)][e(554)]+l[e(612)][e(550)]<=.8||1.2<=l.stCycleParam.fRadiusTop+l[e(612)].fRadiusBottom))return this[e(752)]=Dt;if(this[e(902)][r][e(960)]&&this[e(902)][r][e(1404)]&&T==this.stFishEyeManager[r][e(1490)]&&(l[e(612)][e(313)]<=-.5||0<l.stCycleParam[e(313)]||l[e(612)].fRadiusRight<1||1.5<=l[e(612)][e(586)]||l[e(612)].fRadiusTop<=-.5||.4<=l[e(612)][e(554)]||l[e(612)][e(550)]<=.6||1.5<=l[e(612)][e(550)]||l.stCycleParam.fRadiusLeft+l[e(612)][e(586)]<=.8||1.2<=l.stCycleParam.fRadiusLeft+l[e(612)][e(586)]||l[e(612)].fRadiusTop+l[e(612)][e(550)]<=.8||1.2<=l.stCycleParam.fRadiusTop+l.stCycleParam[e(550)]))return this[e(752)]=Dt}}if(this.stFishEyeManager[f][e(761)]==0){if(Ne&l[e(457)]){if(Zi!=this[e(902)][f][e(1490)]&&pi!=this[e(902)][f][e(1490)]||wt==this[e(902)][f][e(985)])return this.FECErrorCode=Ft;for(var C=1;C<32;C++)if(this.stFishEyeManager[C][e(1404)]&&this[e(902)][C][e(960)]&&this[e(902)][C][e(1490)]==ji)return this[e(752)]=jt;this[e(1324)][f][e(545)]=l[e(1303)]}if(bt&l[e(457)]){if(l[e(1208)]==null)return Dt;if(255<l[e(1208)].nR||255<l.stPTZColor.nG||255<l.stPTZColor.nB||255<l[e(1208)][e(991)])return this[e(752)]=Ft;this[e(1324)][f][e(1208)].nR=l[e(1208)].nR,this[e(1324)][f][e(1208)].nG=l[e(1208)].nG,this.stFishParam[f][e(1208)].nB=l[e(1208)].nB,this[e(1324)][f].stPTZColor.nAlpha=l.stPTZColor[e(991)]}if(Ye&l[e(457)]){if(ji!=this[e(902)][f][e(1490)])return this[e(752)]=Ft;this.stFishParam[f][e(1458)].fPTZPositionX=l.fPTZParam[e(989)],this[e(1324)][f][e(1458)][e(1357)]=l[e(626)][e(1357)]}if(Se&l.upDateType){if(ji!=this.stFishEyeManager[f][e(1490)])return this[e(752)]=Ft;this[e(1324)][f].fZoom=l[e(431)]}if(ni&l.upDateType){if(this.stFishParam[e(750)]==null)return Ft;if(ji!=this[e(902)][f][e(1490)])return this[e(752)]=Ft;this.stFishParam[e(750)][e(322)]=l[e(750)].fTop,this.stFishParam[e(750)][e(1209)]=l.stPTZSelect[e(1209)],this.stFishParam[e(750)][e(1575)]=l.stPTZSelect[e(1575)],this.stFishParam[e(750)][e(518)]=l.stPTZSelect[e(518)]}if(we&l[e(457)]){if(l[e(612)]==null)return Dt;if(this[e(1094)](l[e(612)])==0)return this[e(752)]=Dt;this[e(1324)][0][e(612)][e(313)]=l[e(612)][e(313)],this[e(1324)][0][e(612)][e(586)]=l[e(612)].fRadiusRight,this.stFishParam[0].stCycleParam[e(554)]=l[e(612)].fRadiusTop,this.stFishParam[0][e(612)][e(550)]=l[e(612)][e(550)]}return 1}if(Ne&l.upDateType){if(Zi!=this[e(902)][f].emCorrectType&&pi!=this[e(902)][f][e(1490)]||wt==this[e(902)][f][e(985)])return this[e(752)]=Ft;for(var L=1;L<32;L++)if(this[e(902)][L][e(1404)]&&this.stFishEyeManager[L][e(960)]&&this[e(902)][L][e(1490)]==ji)return this[e(752)]=jt;var ke={};if(ke[e(572)]=di,ke.bBlack=0,ke[e(1485)]=l[e(1303)],Me.SR_OK!=this[e(902)][f][e(1512)][e(412)](ke))return this.FECErrorCode=jt;this[e(1324)][f][e(545)]=l[e(1303)]}if(bt&l[e(457)]){if(l[e(1208)]==null)return Ft;if(255<l[e(1208)].nR||255<l[e(1208)].nG||255<l[e(1208)].nB||255<l[e(1208)][e(991)])return this[e(752)]=Ft;ke={},ke.fR=float(l.stPTZColor.nR/255),ke.fG=float(l[e(1208)].nG/255),ke.fB=float(l[e(1208)].nB/255),ke.fA=float(l[e(1208)][e(991)]/255),this[e(1324)][f][e(1208)].nR=l.stPTZColor.nR,this.stFishParam[f].stPTZColor.nG=l.stPTZColor.nG,this[e(1324)][f][e(1208)].nB=l[e(1208)].nB,this[e(1324)][f].stPTZColor[e(991)]=l.stPTZColor[e(991)]}if(Ye&l[e(457)]){if(ji!=this[e(902)][f].emCorrectType)return this.FECErrorCode=Ft;if(ke={},ke[e(572)]=Ki,ke[e(368)]=0,ke.fPTZX=l[e(626)][e(989)],ke[e(660)]=l[e(626)][e(1357)],Me[e(593)]!=this.stFishEyeManager[f].pRender[e(412)](ke))return this.FECErrorCode=jt;this[e(1324)][f][e(1458)].fPTZPositionX=l.fPTZParam.fPTZPositionX,this[e(1324)][f][e(1458)][e(1357)]=l[e(626)][e(1357)]}if(Se&l[e(457)]){if(ji!=this.stFishEyeManager[f].emCorrectType)return this[e(752)]=Ft;if(ke={},ke[e(572)]=gi,ke[e(368)]=0,ke[e(1580)]=l[e(431)],Me.SR_OK!=this[e(902)][f].pRender[e(412)](ke))return this.FECErrorCode=jt;this[e(1324)][f][e(1580)]=l[e(431)]}if(we&l.upDateType){if(this[e(1094)](l[e(612)])==0)return this.FECErrorCode=Dt;if(ke={},ke.nFishParamType=Fi,ke[e(368)]=1,ke[e(473)]=l[e(612)][e(313)],ke[e(919)]=l[e(612)][e(586)],ke[e(1171)]=l[e(612)][e(554)],ke.fRYBottom=l.stCycleParam[e(550)],Me[e(593)]!=this[e(902)][f][e(1512)].SR_SetFishParam(this[e(902)][f].nValidSubPort,ke))return this.FECErrorCode=Dt;this[e(1324)][0][e(612)].fRadiusLeft=l[e(612)][e(313)],this[e(1324)][0][e(612)][e(586)]=l[e(612)][e(586)],this[e(1324)][0][e(612)].fRadiusTop=l.stCycleParam[e(554)],this[e(1324)][0][e(612)][e(550)]=l.stCycleParam[e(550)]}return ni&l[e(457)]&&ji==this[e(902)][f][e(1490)]&&Me[e(593)]!=this[e(902)][f][e(1512)][e(412)](this[e(902)][f][e(750)])?this.FECErrorCode=1299:1}},{key:"IsValidRadiusParam",value:function(f){var l=ue;return f.fRadiusBottom<=f[l(554)]||f[l(586)]<=f[l(313)]?0:1}},{key:"FEC_SetViewParam",value:function(f,l,e){var r=ue;return l<vi||En<l?this[r(752)]=Kt:(this[r(752)]=0,this.stFishEyeManager[f].pRender==null?this[r(752)]=kt:this[r(902)][f][r(761)]==0?this[r(752)]=Lt:ci<=this[r(902)][f][r(1490)]?Me[r(593)]!=this[r(902)][f][r(1512)][r(1294)](l,e)?this.FECErrorCode=Kt:1:this[r(752)]=Ft)}},{key:ue(1578),value:function(f,l){var e=ue;return!(l<1||3<l||this[e(902)][f][e(761)]==0)&&ci<=this.stFishEyeManager[f][e(1490)]?this[e(902)][f][e(1512)][e(418)](l):-1}},{key:ue(1345),value:function(f,l,e,r,C,L,ke){var ze=ue;return this[ze(902)][f][ze(1512)]==null?this[ze(752)]=kt:l!=0||e!=0?Kt:this[ze(902)][f].emCorrectType!=Ii&&this[ze(902)][f][ze(1490)]!=Zi&&this[ze(902)][f][ze(1490)]!=pi&&this.stFishEyeManager[f].emCorrectType!=sn?Tt:this.stFishEyeManager[f].bInited==0?this[ze(752)]=Lt:r<0||C<0||L<0||ke<0?Kt:Me[ze(593)]!=this[ze(902)][f][ze(1512)][ze(1166)](r,C,L,ke)?this.FECErrorCode=1297:1}},{key:ue(1020),value:function(f,l){var e=ue;return this[e(902)][f][e(1512)]==null?this[e(752)]=kt:this.stFishEyeManager[f][e(761)]==0?this[e(752)]=Lt:Me[e(593)]!=this[e(902)][f][e(1512)][e(924)](fn,l)?this[e(752)]=1297:1}},{key:"_ConvertDisplayEffect",value:function(f,l){var e=ue;switch(f){case wt:return ji==l?dt.SR_DE_FISH_PTZ_WALL:pi==l||sn==l?dt[e(1018)]:ci==l?dt[e(1010)]:w==l?dt.SR_DE_FISH_PLANET:N==l?dt[e(1174)]:T==l?dt[e(614)]:dt[e(677)];case si:return ji==l?dt[e(474)]:pi==l?dt[e(472)]:Zi==l?dt[e(1366)]:sn==l?dt.SR_DE_FISH_PANORAMA_WALL:ci==l?dt[e(1010)]:Ut==l?dt[e(405)]:V==l?dt[e(1139)]:w==l?dt[e(1262)]:dt[e(677)];case ht:return ji==l?dt[e(1282)]:pi==l?dt[e(1379)]:Zi==l?dt.SR_DE_FISH_PANORAMA_CEILING_180:sn==l?dt[e(1018)]:ci==l?dt.SR_DE_FISH_SEMISPHERE:Ut==l?dt[e(364)]:V==l?dt[e(414)]:w==l?dt[e(1262)]:dt[e(677)];default:return dt.SR_DE_FISH_ORIGINAL}}}]),bi}(),Bo=function(){var ue=D;function bi(){var Je=M;Ce(this,bi),this[Je(491)]=0,this[Je(587)]=0,this[Je(745)]=0,this[Je(1274)]=0,this[Je(606)]=0}return Le(bi,[{key:ue(577),value:function(){var f=ue;this.startTime=this[f(687)]()}},{key:ue(687),value:function(){var f=ue;return this[f(587)]=60*new Date()[f(697)]()*60*1e3+60*new Date()[f(721)]()*1e3+1e3*new Date().getSeconds()+new Date()[f(1216)](),this[f(1274)]=new Date()[f(734)](),this[f(587)]}},{key:ue(536),value:function(){var f=ue,l=this[f(687)]()-this[f(491)];return this[f(1274)]!==new Date()[f(734)]()&&(l+=24*(new Date().getDate()-this.lastDate)*60*60*1e3),l}},{key:"timerReset",value:function(){var f=ue;this.startTime=0,this[f(587)]=0,this[f(745)]=0,this[f(1274)]=0,this.preTimerStamp=0}}]),bi}(),To=function(){var ue=D;function bi(){var Je=M,f=0<arguments[Je(525)]&&arguments[0]!==void 0?arguments[0]:null;Ce(this,bi),this[Je(863)]=null,this[Je(1326)]=0,this[Je(857)]=null,this[Je(1215)]=null,this[Je(1569)]=[],this.initTimer=!1,this[Je(1133)]=0,this.baseTimeStamp=0,this.resetTimer=!0,this.RenderFrame=this[Je(1141)][Je(979)](this),this.renderCurStatus=2,this[Je(1147)]=1,this[Je(555)]=1,this[Je(1498)]=14,this[Je(949)]=!1,this[Je(942)]=!0,this.getImageType="",this.getImageJPEG=!1,this[Je(1302)]=!1,this[Je(1501)]=0,this[Je(526)]=0,this[Je(1424)]=null,this[Je(1254)]=[],this.curFrameInfo={},this[Je(1030)][Je(432)]=0,this.sx=0,this.sy=0,this.sw=0,this.sh=0,this[Je(595)]=!1,this[Je(980)]=!1,this[Je(1295)]=!0,this[Je(704)]=null,this[Je(1048)]=0,this[Je(1246)]=this[Je(1501)]*this[Je(526)]*3/2,this[Je(703)]=!0,(this[Je(1376)]=null)!=f&&(this[Je(1376)]=f),this[Je(1264)]=Je(1258),this[Je(774)]=null}return Le(bi,[{key:ue(520),value:function(f,l,e,r){var C=ue;this[C(863)]=f,this.streamOpenMode=l,this.renderEngine=r,this[C(774)]=new Ua,this.oVideoRender[C(1480)](this[C(863)],this[C(1264)]),this.SetCurStatus(2),this[C(1215)]==null&&(this[C(1215)]=new Zt(e,this,this[C(1376)]),this[C(1569)]=this.oVideoDecoder[C(1113)],this[C(1215)]!==null&&this[C(1215)][C(1271)]()),this[C(704)]==null&&(this[C(704)]=new Bo)}},{key:"HardDecodeError",value:function(){var f=ue;this[f(1376)][f(806)](),this.player[f(682)](0),this[f(1376)][f(772)]()}},{key:ue(1545),value:function(f,l){var e=ue,r={};r[e(798)]=l.port,r.codecType=l[e(714)],r.frameType=l[e(952)],r[e(1119)]=l.frameSize,r.width=l.width,r.height=l[e(1384)],r.timeStamp=l[e(432)],r[e(964)]=l[e(964)],r[e(666)]=l.frameNum,r[e(389)]=l.interlace,r[e(1070)]=l.streamEnd,r.cropLeft=l[e(1444)],r[e(1552)]=l[e(1552)],r.cropTop=l.cropTop,r[e(1429)]=l.cropBottom,r[e(628)]=l[e(628)],r[e(500)]=l[e(500)],r[e(727)]=l[e(727)],r[e(394)]=l[e(394)],r[e(1380)]=l.hour,r[e(1088)]=l.minute,r[e(939)]=l.second,r[e(1221)]=l.milliseconds,this[e(1254)][e(962)](r),this[e(1215)][e(1545)](f,l)}},{key:ue(854),value:function(){var f=this;return new Promise(function(l,e){var r=M;f[r(1215)][r(564)]()[r(705)](function(){var C=r;f[C(1254)][C(387)](0,f[C(1254)][C(525)]),f.curFrameInfo={},f.renderCurStatus=2,f[C(1376)]?f.player[C(1103)]():postMessage({function:C(1123)}),l()},function(){e()})})}},{key:ue(1446),value:function(){var f=ue;this.initTimer=!1,this[f(1133)]=0,this.baseTimeStamp=0,this.resetTimer=!0,this[f(704)]!=null&&this[f(704)].timerReset(),this[f(1141)]=this[f(1141)][f(979)](this),this[f(1335)]=2,this[f(1418)]=0,this[f(879)]=null,this[f(1266)]=!1,this[f(1302)]=!1,this[f(595)]=!1,this.getCropImageBMP=!1,this.curFrameIsDisplay=!0,this[f(1424)]=null,this.displayFrameInfo[f(387)](0,this[f(1254)].length),this.curFrameInfo={}}},{key:ue(722),value:function(){var f=ue,l=this;this[f(1215)][f(437)]()[f(705)](function(){var e=f;(l[e(1215)]=null)!=l[e(774)]&&(l[e(774)][e(785)](),l.oVideoRender=null),l[e(1446)](),l[e(704)]=null,console.log(e(461)),l[e(1295)]=!1},function(){var e=f;console[e(1590)](e(1140))})}},{key:ue(1141),value:function(){var f=ue,l,e,r,C=this;switch(this[f(1335)]){case 0:this._resetRenderTimer(),this._resetDecoder()[f(705)](function(){setTimeout(function(){var L=M;C[L(1141)]()},1)},function(){});break;case 2:this.displayRunning?(this[f(879)]=this[f(1272)](),this[f(1498)]==-1||this[f(1326)]==0?(this.chosenFrame!=null&&(this.curTimeStamp=this[f(879)][f(559)],this[f(963)](this[f(879)])),requestAnimationFrame(this[f(1141)])):this[f(879)]!=null?(this[f(1364)]&&!this.resetTimer||(this[f(704)][f(577)](),this[f(1364)]=!0,this.resetTimer=!1,this[f(1133)]=this[f(879)].timestamp,this[f(1334)]=this[f(879)].timestamp),this[f(1418)]=this.chosenFrame[f(559)],l=this[f(1418)]-this[f(1133)],r=this.curTimeStamp-this[f(1334)],(5e3<l||l<0||r<0)&&(this[f(704)][f(577)](),this.preTimeStamp=this[f(879)][f(559)],this[f(1334)]=this[f(1418)]),(l=(this.curTimeStamp-this.baseTimeStamp)/this.playSpeed-this[f(704)][f(536)]())<15&&-15<l?(this[f(963)](this.chosenFrame),this[f(1133)]=this[f(1418)],this[f(1141)]()):l<0?(setTimeout(this[f(963)](this[f(879)]),1),this.preTimeStamp=this[f(1418)],this.RenderFrame()):e=setTimeout(function(){var L=f;C.renderCurStatus==2?(C[L(963)](C.chosenFrame),C.preTimeStamp=C[L(1418)]):C[L(703)]=!1,C[L(1141)](),clearTimeout(e)},l-5)):(r=5,2<this.playSpeed&&(r=1),setTimeout(function(){var L=f;C[L(1141)]()},r))):setTimeout(function(){var L=f;C[L(1141)]()},5);break;case 3:setTimeout(function(){var L=f;C[L(643)](),C[L(1141)]()},5);break;case 5:this.needForward&&(this[f(879)]=this.chooseFrame(),this[f(879)]!=null&&setTimeout(function(){var L=f;C[L(963)](C[L(879)]),C[L(949)]=!1},1)),setTimeout(function(){var L=f;C[L(643)](),C.RenderFrame()},5);break;case 4:return void this[f(722)]();default:return}}},{key:"paint",value:function(f){var l=ue,e,r,C=this;this[l(1447)]!=4&&f!=null&&(this[l(1048)]===f[l(559)]&&(this.resetTimer=!0),this[l(774)]!=null&&(this[l(774)][l(700)](f),this[l(1424)]!==null&&this[l(648)](f.timestamp),(this[l(1266)]||this[l(1302)]||this[l(595)]||this[l(980)])&&(this[l(1501)]===f[l(1501)]&&this[l(526)]==f[l(526)]||(this.displayWidth=f[l(1501)],this[l(526)]=f[l(526)],this[l(1246)]=this[l(1501)]*this[l(526)]*3/2),e=new Uint8Array(this[l(1246)]),r=f[l(959)],f[l(685)](e).then(function(){var L=l;C[L(454)](e,r)})),this[l(942)]&&(this[l(1376)]!=null?this.player[l(409)]!=null&&this[l(1376)][l(409)]():postMessage({function:"firstFrameCB",value:!0}),this.firstFrame=!1)))}},{key:ue(648),value:function(f){var l=ue;if(this[l(1254)][l(525)]!=0&&this[l(1030)][l(432)]!==f){for(var e={},r=0;r<this.displayFrameInfo.length&&(e=this[l(1254)].shift()).timeStamp!=f;r++);this[l(1030)][l(798)]=e.port,this[l(1030)].codecType=e.codecType,this.curFrameInfo[l(952)]=e[l(952)],this[l(1030)][l(1119)]=e[l(1119)],this[l(1030)][l(1454)]=e[l(1454)],this[l(1030)][l(1384)]=e[l(1384)],this.curFrameInfo[l(432)]=e[l(432)],this.curFrameInfo.frameRate=e.frameRate,this.curFrameInfo[l(666)]=e[l(666)],this.curFrameInfo[l(389)]=e[l(389)],this.curFrameInfo[l(1070)]=e[l(1070)],this[l(1030)][l(1444)]=e[l(1444)],this[l(1030)][l(1552)]=e[l(1552)],this[l(1030)][l(633)]=e[l(633)],this[l(1030)][l(1429)]=e[l(1429)],this[l(1030)][l(628)]=e[l(628)],this[l(1030)][l(500)]=e[l(500)],this[l(1030)][l(727)]=e[l(727)],this.curFrameInfo[l(394)]=e[l(394)],this[l(1030)][l(1380)]=e.hour,this.curFrameInfo.minute=e[l(1088)],this[l(1030)].second=e[l(939)],this[l(1030)][l(1221)]=e[l(1221)],this.displayFrameInfoCB(this.curFrameInfo)}}},{key:ue(454),value:function(f,l){var e=ue;this[e(1376)]?(this[e(1266)]&&(this.getImageJPEG=!1,this[e(1376)][e(625)](f,this[e(1246)],this[e(1501)],this[e(526)],"jpeg",l,0,0,0,0)),this[e(1302)]&&(this[e(1302)]=!1,this[e(1376)]._GetImage2(f,this[e(1246)],this[e(1501)],this[e(526)],e(1292),l,0,0,0,0)),this[e(595)]&&(this[e(595)]=!1,this[e(1376)][e(625)](f,this[e(1246)],this[e(1501)],this[e(526)],e(1239),l,this.sx,this.sy,this.sw,this.sh)),this[e(980)]&&(this[e(980)]=!1,this[e(1376)]._GetImage2(f,this[e(1246)],this.displayWidth,this[e(526)],"bmp",l,this.sx,this.sy,this.sw,this.sh))):(this.getImageJPEG&&(this[e(1266)]=!1,postMessage({function:e(934),value:f[e(1074)],size:this[e(1246)],width:this[e(1501)],height:this.displayHeight,type:"jpeg",yuvType:l,sx:0,sy:0,sw:0,sh:0},[f[e(1074)]])),this[e(1302)]&&(this[e(1302)]=!1,postMessage({function:e(934),value:f[e(1074)],size:this.yuvLength,width:this[e(1501)],height:this[e(526)],type:e(1292),yuvType:l,sx:0,sy:0,sw:0,sh:0},[f.buffer])),this.getCropImageJPEG&&(this[e(595)]=!1,postMessage({function:e(934),value:f[e(1074)],size:this[e(1246)],width:this.displayWidth,height:this[e(526)],type:e(1239),yuvType:l,sx:this.sx,sy:this.sy,sw:this.sw,sh:this.sh},[f.buffer])),this[e(980)]&&(this[e(980)]=!1,postMessage({function:e(934),value:f[e(1074)],size:this[e(1246)],width:this.displayWidth,height:this.displayHeight,type:"bmp",yuvType:l,sx:this.sx,sy:this.sy,sw:this.sw,sh:this.sh},[f[e(1074)]])))}},{key:ue(1272),value:function(){var f=ue,l=this;if(this[f(1326)]==1){if(this[f(1569)][f(525)]<2)return null}else if(this.frameBuffers[f(525)]<1)return null;if(!this[f(703)])return this[f(703)]=!0,this[f(1569)][0];{if(this.chosenFrame!=null&&(this.frameBuffers[f(1158)]()[f(327)](),this[f(879)][f(327)](),this.chosenFrame=null),!this[f(1215)].decoderObjNeedReset)return this[f(1569)][f(525)]<1?null:this[f(1569)][0];this.oVideoDecoder.resetDecoder().then(function(){var e=f;return l.oVideoDecoder[e(503)]=!1,null},function(){return null})}}},{key:ue(1053),value:function(f,l,e,r){var C=ue;return this[C(774)]==null?0:(this.sx=f,this.sy=l,this.sw=e,this.sh=r,this.oVideoRender[C(399)](f,l,e,r))}},{key:"SetCurStatus",value:function(f){this.renderCurStatus=f}},{key:"fast",value:function(){var f=ue,l=this[f(862)](this[f(555)]);return this._SetPlaySpeed(l)}},{key:ue(1207),value:function(){var f=ue,l=this[f(1395)](this[f(555)]);return this._SetPlaySpeed(l)}},{key:ue(1080),value:function(f){var l=ue;if(f)this[l(1315)](3);else{if(this[l(1335)]!==3)return-1;this[l(1315)](2),this[l(1516)]=!0}return 1}},{key:ue(643),value:function(){var f=ue;this[f(1569)][f(525)]!=0&&this[f(963)](this[f(1569)][0])}},{key:ue(869),value:function(f){var l=ue;if(f)this[l(1315)](5),this.needForward=!0;else{if(this[l(1335)]!==5)return-1;this[l(1315)](2),this.resetTimer=!0,this[l(949)]=!1,this[l(716)](1)}return 1}},{key:ue(343),value:function(f,l){var e=ue;return this[e(774)]!=null&&this[e(774)][e(343)](f,l)}},{key:"GetCanvasSize",value:function(){var f=ue;return this.oVideoRender!=null&&this[f(774)][f(1370)]()}},{key:"GetPlayedTime",value:function(){var f=ue;return this[f(1418)]}},{key:ue(716),value:function(f){var l=ue;switch(f){case-16:case-8:case-4:case-2:case 1:case 2:case 4:case 8:case 16:case 32:case 64:break;default:return-1}return f!==this[l(555)]&&(this[l(555)]=f,this[l(1147)]=0<f?f:-1/f,console[l(1590)](l(1005)+this[l(1147)]),this.resetTimer=!0,this.needForward=!1,this[l(1335)]!=2&&this[l(1315)](2)),1}},{key:"_GetFastSpeed",value:function(f){var l=0;switch(f){case-16:l=-8;break;case-8:l=-4;break;case-4:l=-2;break;case-2:l=1;break;case 1:l=2;break;case 2:l=4;break;case 4:l=8;break;case 8:l=16;break;case 16:l=32;break;case 32:l=64;break;default:l=0}return l}},{key:ue(1395),value:function(f){var l=0;switch(f){case-8:l=-16;break;case-4:l=-8;break;case-2:l=-4;break;case 1:l=-2;break;case 2:l=1;break;case 4:l=2;break;case 8:l=4;break;case 16:l=8;break;case 32:l=16;break;case 64:l=32;break;default:l=0}return l}},{key:"SetDisplayBuf",value:function(f){var l=ue;return this[l(1498)]=f,1}},{key:ue(784),value:function(){var f=ue;return this[f(1266)]=!0,this[f(325)]=f(1239),1}},{key:"GetBMP",value:function(){var f=ue;return this[f(1302)]=!0,this[f(325)]=f(1292),1}},{key:ue(1125),value:function(){var f=ue;return this[f(595)]=!0,this[f(325)]=f(1060),1}},{key:ue(1417),value:function(){var f=ue;return this.getCropImageBMP=!0,this.getImageType=f(981),1}},{key:"SetDecodeFrameType",value:function(f){var l=ue;return this[l(1048)]=f,1}},{key:"SetStreamEnd",value:function(){var f=ue;return this.oVideoDecoder[f(1110)](),1}},{key:ue(558),value:function(f){var l=ue;return this[l(774)]!=null?this[l(774)][l(558)](f):0}},{key:ue(1203),value:function(f,l){var e=ue;return this[e(1424)]=l?f:null,1}},{key:ue(814),value:function(f){var l=ue;return this.renderEngine==="2d"||this[l(1264)]==="2D"?(console[l(1590)](l(1342),l(657)),0):this[l(774)]!=null?this[l(774)].FEC_SetCanvasID(f):0}},{key:ue(1206),value:function(f,l,e){var r=ue;return this[r(1264)]==="2d"||this[r(1264)]==="2D"?(console.log(r(1342),r(657)),0):this[r(774)]!=null?this.oVideoRender[r(1206)](f,l,e):0}},{key:"FEC_GetPort",value:function(f,l){var e=ue;return this[e(1264)]==="2d"||this[e(1264)]==="2D"?(console.log(e(1342),"color:red"),0):this.oVideoRender!=null?this[e(774)][e(1012)](f,l):0}},{key:ue(1015),value:function(f){var l=ue;return this[l(1264)]==="2d"||this[l(1264)]==="2D"?(console[l(1590)]("%c 2D render not support FEC correct",l(657)),0):this[l(774)]!=null?this[l(774)][l(1015)](f):0}},{key:ue(671),value:function(f,l){var e=ue;return this[e(1264)]==="2d"||this[e(1264)]==="2D"?(console[e(1590)](e(1342),e(657)),0):this[e(774)]!=null?this[e(774)][e(671)](f,l):0}},{key:ue(992),value:function(f,l,e){var r=ue;return this[r(1264)]==="2d"||this[r(1264)]==="2D"?(console.log(r(1342),r(657)),0):this.oVideoRender!=null?this[r(774)][r(992)](f,l,e):0}},{key:"FEC_GetViewParam",value:function(f,l){var e=ue;return this[e(1264)]==="2d"||this.renderEngine==="2D"?(console[e(1590)](e(1342),e(657)),0):this[e(774)]!=null?this[e(774)][e(1578)](f,l):0}},{key:ue(1145),value:function(f,l){var e=ue;return this[e(1264)]==="2d"||this[e(1264)]==="2D"?(console.log(e(1342),e(657)),0):this[e(774)]!=null?this[e(774)].FEC_SetWnd(f,l):0}},{key:ue(1582),value:function(f,l,e){var r=ue;return this[r(1264)]==="2d"||this[r(1264)]==="2D"?(console.log(r(1342),r(657)),0):this.oVideoRender!=null?this[r(774)][r(1582)](f,l,e):0}},{key:ue(832),value:function(f){var l=ue;return this[l(1264)]==="2d"||this[l(1264)]==="2D"?(console[l(1590)](l(1342),l(657)),0):this.oVideoRender!=null?this[l(774)][l(832)](f):0}},{key:ue(1345),value:function(f,l,e,r,C,L,ke){var ze=ue;return this[ze(1264)]==="2d"||this[ze(1264)]==="2D"?(console[ze(1590)](ze(1342),ze(657)),0):this[ze(774)]!=null?this[ze(774)][ze(1345)](f,l,e,r,C,L,ke):0}},{key:ue(1020),value:function(f,l){var e=ue;return this[e(1264)]==="2d"||this.renderEngine==="2D"?(console[e(1590)]("%c 2D render not support FEC correct",e(657)),0):this.oVideoRender!=null?this[e(774)].FEC_SetBackCilling(f,l):0}}]),bi}(),jo=function(){var ue=D;function bi(Je){var f=M;Ce(this,bi),this[f(1376)]=Je,this[f(1565)]=new To(Je)}return Le(bi,[{key:ue(520),value:function(f,l,e,r){var C=ue;if(this[C(1565)]===null)return 0;this[C(1565)][C(520)](f,l,e,r)}},{key:ue(1545),value:function(f,l){var e=ue;this.oVideoPlayCtrl[e(1545)](f,l)}},{key:"SetDisplayRegion",value:function(f,l,e,r){var C=ue;if(this[C(1565)]===null)return 0;this.oVideoPlayCtrl[C(1053)](f,l,e,r)}},{key:ue(1476),value:function(){var f=ue,l=this;if(this[f(1565)]===null)return 0;this[f(1565)][f(1315)](4);var e=setInterval(function(){var r=f;l[r(1565)].displayRunning||(l[r(1565)]=null,clearInterval(e),e=null,console[r(1590)](">>>JS 03 destroy oVideoPlayCtrl"))},2)}},{key:"fast",value:function(){var f=ue;return this[f(1565)]===null||this[f(1565)][f(1589)]()!==1?0:void 0}},{key:ue(1207),value:function(){var f=ue;return this.oVideoPlayCtrl===null||this.oVideoPlayCtrl[f(1207)]()!==1?0:void 0}},{key:ue(1047),value:function(f){var l=ue;return this[l(1565)]===null||this.oVideoPlayCtrl.SetDisplayBuf(f)!==1?0:void 0}},{key:"Pause",value:function(f){var l=ue;return this.oVideoPlayCtrl===null||this[l(1565)][l(1080)](f)!==1?0:void 0}},{key:ue(869),value:function(f){var l=ue;return this.oVideoPlayCtrl===null||this.oVideoPlayCtrl[l(869)](f)!==1?0:void 0}},{key:ue(343),value:function(f,l){var e=ue;return this[e(1565)]===null||this.oVideoPlayCtrl[e(343)](f,l)!==1?0:void 0}},{key:"GetCanvasSize",value:function(){var f=ue;return this[f(1565)]===null||this[f(1565)].GetCanvasSize()!==1?0:void 0}},{key:ue(768),value:function(){var f=ue;return this.oVideoPlayCtrl===null?0:this.oVideoPlayCtrl[f(768)]()}},{key:ue(1388),value:function(){var f=ue;this[f(1565)][f(1315)](0)}},{key:ue(784),value:function(){var f=ue;this[f(1565)][f(784)]()}},{key:ue(1351),value:function(){var f=ue;this.oVideoPlayCtrl[f(1351)]()}},{key:"GetCropJPEG",value:function(){var f=ue;this[f(1565)].GetCropJPEG()}},{key:"GetCropBMP",value:function(){var f=ue;this[f(1565)][f(1417)]()}},{key:ue(1564),value:function(f){var l=ue;this[l(1565)][l(1564)](f)}},{key:ue(1070),value:function(){this.oVideoPlayCtrl.SetStreamEnd()}},{key:ue(558),value:function(f){var l=ue;return this[l(1565)][l(558)](f)}},{key:ue(1203),value:function(f,l){var e=ue;return this[e(1565)][e(1203)](f,l)}},{key:ue(814),value:function(f){var l=ue;return this[l(1565)][l(814)](f)}},{key:"FEC_ResetCorrectType",value:function(f,l,e){var r=ue;return this[r(1565)][r(1206)](f,l,e)}},{key:ue(1012),value:function(f,l){var e=ue;return this[e(1565)][e(1012)](f,l)}},{key:ue(1015),value:function(f){var l=ue;return this[l(1565)][l(1015)](f)}},{key:ue(671),value:function(f,l){var e=ue;return this.oVideoPlayCtrl[e(671)](f,l)}},{key:ue(992),value:function(f,l,e){var r=ue;return this[r(1565)].FEC_SetViewParam(f,l,e)}},{key:"FEC_GetViewParam",value:function(f,l){var e=ue;return this[e(1565)][e(1578)](f,l)}},{key:ue(1145),value:function(f,l){var e=ue;return this[e(1565)][e(1145)](f,l)}},{key:ue(1582),value:function(f,l,e){var r=ue;return this[r(1565)].FEC_Disable(f,l,e)}},{key:ue(832),value:function(f){var l=ue;return this.oVideoPlayCtrl[l(832)](f)}},{key:"FEC_SetDisplayRegion",value:function(f,l,e,r,C,L,ke){var ze=ue;return this[ze(1565)][ze(1345)](f,l,e,r,C,L,ke)}},{key:ue(1020),value:function(f,l){return this.oVideoPlayCtrl.FEC_SetBackCilling(f,l)}}]),bi}(),Wr=new Array(8)[D(329)](0)[D(458)](function(ue){return new Array(128)}),Mt=null,qa={bSupHardOrSoft:!0,bSupHardDecAVC:!0,bSupHardDecHEVC:!0},Da=(window[D(1232)]=function(ue,bi,Je,f){Wr[f][ue].JSPlayM4_InputRawData(ue,bi,Je)},function(){var ue=D;function bi(l,e){var r=M,C=this,L=2<arguments[r(525)]&&arguments[2]!==void 0?arguments[2]:0,ke=3<arguments.length&&arguments[3]!==void 0?arguments[3]:r(1258),ze=4<arguments[r(525)]&&arguments[4]!==void 0?arguments[4]:0,Yt=5<arguments[r(525)]&&arguments[5]!==void 0?arguments[5]:-1,j=(Ce(this,bi),this.szBasePath=l,(this[r(816)]=this)[r(798)]=-1,this[r(549)]=ze,this[r(1591)]=L,this[r(1264)]=ke,this[r(1058)]=null,this.decodeWorker=null,this.offscreen=null,this[r(1159)]="",this[r(1201)]=null,this[r(1081)]=1,this.hevcDecodeEngine=1,this[r(1106)]=1,this[r(868)]=null,this[r(490)]=204800,this.canvasIDData=null,this[r(1156)]=!1,this[r(1326)]=0,this[r(1454)]=0,this[r(1384)]=0,this.rawDataFrameInfoBuffer=null,this[r(1226)]={},this[r(1254)]={},this[r(512)]=0,this.decodeFrameType=0,this[r(537)]=!1,this[r(1498)]=0,this[r(1561)]=!0,this[r(714)]=0,this[r(1463)]=0,this[r(1147)]=1,this[r(569)]=!1,this[r(531)]=!1,this[r(892)]=0,this[r(829)]=0,this[r(501)]=0,this[r(846)]=0,this[r(1429)]=0,this.cropLeft=0,this[r(1552)]=0,this[r(633)]=0,this[r(363)]=960,this[r(1421)]=480,this.NoHIKHead=1,this[r(481)]=0,this.setHasThread=Yt,this[r(997)]=0,this.aTotalBuffer=[],this[r(1255)]=0,this[r(1467)]=!0,this.downloadFlag=!1,this[r(664)]=!0,this[r(1260)]=[],this.iAudioANRFrameNum=0,this.bWriteAudioBefDecData=!0,this[r(1462)]=[],this[r(1180)]=0,this[r(928)]=!0,this.audioAfDecOUTBuffer=[],this[r(1440)]=0,this[r(1559)]=!0,this[r(1530)]=[],this.iAudioBeRenOUTFrameNum=0,this[r(664)]=!0,this[r(1131)]=[],this[r(383)]=0,this[r(990)]=null,this[r(947)]=0,this[r(463)]=null,this[r(1107)]=null,this[r(589)]=!1,this[r(372)]=null,this[r(1542)]=0,this[r(1040)]=null,this[r(488)]=null,this[r(1146)]=!1,this[r(459)]=[],this[r(1554)]=2097152,this.stDisplayRect={top:0,left:0,right:0,bottom:0},this[r(621)]=0,this[r(397)]=1,this[r(435)]=1,this[r(1068)]=null,this[r(357)]=0,this[r(1451)]=0,this[r(575)]=1,this[r(1469)]=1,this[r(874)]={top:0,left:0,right:0,bottom:0},this.currentFishSubPort=-1,this[r(1176)]=[],this[r(398)]=null,this[r(409)]=null,this[r(367)]=null,this[r(1327)]=null,this.decCallBackFun=null,this[r(476)]=null,this[r(448)]=null,this.fn=e,this[r(965)]=!!window[r(741)],this[r(1179)]=qa,this[r(710)]());j==-1?(console[r(786)]("%c1>your browser does not support hard Decoder,please install chrome",r(692)),this[r(1106)]=0,this[r(1041)]=0,this[r(1179)][r(1092)]=!1,this[r(1179)][r(1e3)]=!1,this[r(965)]?this[r(1179)][r(547)]=!0:this.callBackParameter[r(547)]=!1):j<94?(console[r(786)](r(958),r(692),j),this[r(1106)]=0,this[r(1041)]=0,this[r(1179)][r(1092)]=!1,this[r(1179)][r(1e3)]=!1,this[r(965)]?this.callBackParameter[r(547)]=!0:this[r(1179)][r(547)]=!1):(j<107&&(console.info(r(1001),r(692),j),this[r(1041)]=0),this[r(1179)].bSupHardDecAVC=!0,this[r(1179)][r(1e3)]=!1,this[r(1179)][r(547)]=!0),console.log(r(485)+new Date()[r(721)]()+":"+new Date()[r(579)]()+"."+new Date().getMilliseconds(),r(1063)),Mt==null&&this.callBackParameter.bSupHardOrSoft?(l=this[r(984)],(ze=document[r(1546)](r(1237)))[r(1378)]=r(953),ze[r(510)]=l,console[r(786)](r(1410),"color: green",l),ze[r(1173)]=function(){var W=r;window.JSPlayerModule()[W(705)](function(ne){var he=W;Mt=ne,C._decoderLoaded=!0,console.log(he(843)+new Date()[he(721)]()+":"+new Date()[he(579)]()+"."+new Date().getMilliseconds(),"color: blue"),94<=j?VideoDecoder[he(699)]({codec:he(848),hardwareAcceleration:he(356)}).then(function(et){var Rt=he;et.supported?(C[Rt(1179)].bSupHardDecHEVC=!0,console[Rt(786)](Rt(977),"color: green")):(console[Rt(1414)]("%c1>your PC does not support 265 hard Decoder, if you want to hard decode 265 ,try to update the GPU driver","color: red"),C[Rt(1041)]=0),C.fn(C.callBackParameter)})[he(1301)](function(){var et=he;C.fn(C[et(1179)]),console[et(1590)]("%c hevc supported error",et(692))}):C.fn(C[he(1179)])})},document[r(1051)].appendChild(ze)):new Promise(function(W,ne){W()})[r(705)](function(){var W=r;C.fn(C[W(1179)])})}function Je(l,e){return f.apply(this,arguments)}var f;return Le(bi,[{key:ue(712),value:(f=function(e,r){var C=ue;if(window[C(845)]){if(r[C(877)]==null){if(r.decodeWorker=new mt,r[C(877)]==null)return 0;console[C(1590)](C(708))}r[C(1201)]=document[C(380)](e),r[C(820)]=r[C(1201)][C(957)](),r[C(877)].postMessage({command:C(520),streamOpenMode:r[C(1326)],canvas:r[C(820)],sab:r[C(965)],renderEngine:r[C(1264)]},[r[C(820)]]),r[C(1498)]!=0&&r[C(877)][C(1086)]({command:C(1047),value:r[C(1498)]}),r[C(877)][C(1066)]=function(L){var ke=C,ze=L[ke(864)];switch(ze[ke(1536)]){case ke(1235):startWorker(r[ke(1159)],r);break;case ke(663):var j=new Uint8Array(ze.data);r[ke(1367)](j);break;case"GetRawData":r[ke(850)]();break;case ke(1309):console[ke(1590)](ke(507));break;case ke(768):j=ze[ke(591)],r[ke(476)]&&r[ke(476)](j-r[ke(512)]);break;case ke(1123):r[ke(1103)]();break;case ke(1555):var j=ze.value,Yt=ze[ke(1378)];r[ke(787)](j,Yt);break;case"imageYUV":var j=new Uint8Array(ze.value),Yt=ze[ke(1242)],j=new Uint8Array(j),W=ze.type,ne=ze[ke(1454)],he=ze[ke(1384)],et=ze[ke(840)],Rt=ze.sx,It=ze.sy,Qt=ze.sw,Ai=ze.sh;r[ke(625)](j,Yt,ne,he,W,et,Rt,It,Qt,Ai),ze[ke(591)]=null;break;case ke(1476):r.decodeWorker=null,console.log("HardWorker is null");break;case ke(1350):r[ke(409)]!=null&&r[ke(409)]();break;case ke(1203):r[ke(1254)][ke(798)]=ze.curFrameInfo.port,r[ke(1254)][ke(714)]=ze.curFrameInfo[ke(714)],r[ke(1254)].frameType=ze[ke(1030)].frameType,r[ke(1254)].frameSize=ze[ke(1030)].frameSize,r[ke(1254)][ke(1454)]=ze[ke(1030)].width,r.displayFrameInfo.height=ze[ke(1030)][ke(1384)],r[ke(1254)][ke(432)]=ze[ke(1030)][ke(432)],r[ke(1254)][ke(964)]=ze.curFrameInfo[ke(964)],r[ke(1254)][ke(666)]=ze[ke(1030)][ke(666)],r.displayFrameInfo.interlace=ze[ke(1030)].interlace,r[ke(1254)].streamEnd=ze[ke(1030)][ke(1070)],r[ke(1254)][ke(1444)]=ze.curFrameInfo[ke(1444)],r.displayFrameInfo[ke(1552)]=ze[ke(1030)][ke(1552)],r[ke(1254)].cropTop=ze[ke(1030)].cropTop,r[ke(1254)][ke(1429)]=ze[ke(1030)][ke(1429)],r[ke(1254)][ke(628)]=ze.curFrameInfo.year,r[ke(1254)].month=ze.curFrameInfo[ke(500)],r[ke(1254)][ke(727)]=ze[ke(1030)][ke(727)],r.displayFrameInfo[ke(394)]=ze[ke(1030)][ke(394)],r[ke(1254)][ke(1380)]=ze.curFrameInfo[ke(1380)],r[ke(1254)][ke(1088)]=ze.curFrameInfo.minute,r[ke(1254)][ke(939)]=ze[ke(1030)][ke(939)],r.displayFrameInfo.milliseconds=ze[ke(1030)][ke(1221)];break;case"FECGetViewParam":j=ze[ke(1303)],r.FECViewParamCB!=null&&r[ke(398)](j)}},r[C(877)][C(1153)]("error",function(L){var ke=C;console[ke(1235)](L)})}},Je[ue(1503)]=function(){var l=ue;return f[l(1503)]()},Je)},{key:ue(1137),value:function(){return 0}},{key:ue(804),value:function(){var e=ue;return this[e(531)]&&console.log(e(315)),Mt===null?0:(this[e(798)]=Mt[e(670)](),Wr[this[e(1591)]][this[e(798)]]=this[e(816)],this[e(531)]&&console[e(1590)](">>>>>yff>>> JSPlayM4_GetPort 2"),this[e(549)]==0&&(this[e(1058)]=new jo(this)),1)}},{key:ue(1508),value:function(e){var r=ue;return this[r(531)]&&console[r(1590)](r(907)+e),Mt===null?0:(this[r(1326)]=e,this[r(531)]&&console[r(1590)](">>>>>yff>>>>> JSPlayM4_SetStreamOpenMode 2  mode:"+e),Mt._JSPlayM4_SetStreamOpenMode(this[r(798)],e))}},{key:ue(1399),value:function(e,r,C){var L=ue;if(this[L(531)]&&console[L(1590)](">>>>>yff>>>>> JSPlayM4_OpenStream 1 :"+e),Mt===null)return 0;var ke=Mt._malloc(r);if(ke===null)return console.log(L(1072)),0;this[L(531)]&&console[L(1590)](L(746)+e);var ze=new Uint8Array(e[L(1074)]);if(e[0]==73&&e[1]==77&&e[2]==75&&e[3]==72&&(this[L(362)]=0),e[10]==5&&e[11]==0){if(this[L(714)]=5,!this.callBackParameter[L(1e3)]&&!this[L(965)])return 16;this.printfFlag&&console[L(1590)](">>>>>yff>>>>> JSPlayM4_OpenStream 3:"+e)}else e[10]==1&&e[11]==0?(this[L(714)]=1,this[L(531)]&&console.log(L(1382)+e)):e[10]==0&&e[11]==1?(this.codecType=256,this.printfFlag&&console[L(1590)](L(480)+e)):this[L(714)]=0;return Mt[L(1523)](ze,ke),e=Mt[L(717)](this[L(798)],ke,r,C),ke!==null&&Mt[L(573)](ke),e}},{key:ue(682),value:function(e){var r=ue;return this[r(531)]&&console.log(r(1127)+e),e!=0&&e!=1?(console[r(1590)](r(1387)+e),0):(this[r(1081)]=e,1)}},{key:ue(1533),value:function(){var e=ue;return this[e(1054)]=!0,1}},{key:ue(987),value:function(e,r,C){var L=ue;if(this[L(1588)]=C,this.rawDataFrameInfo[L(798)]=e,this[L(1226)][L(714)]=Mt.HEAP32[this[L(1588)]+4>>2],this[L(1226)][L(952)]=Mt[L(1039)][this.rawDataFrameInfoBuffer+12>>2],this[L(1226)][L(1119)]=Mt[L(1039)][this[L(1588)]+16>>2],this.rawDataFrameInfo[L(1454)]=Mt[L(1039)][this.rawDataFrameInfoBuffer+20>>2],this[L(1226)][L(1384)]=Mt[L(1039)][this[L(1588)]+24>>2],this[L(1226)].timeStamp=Mt.HEAP32[this[L(1588)]+28>>2],this.rawDataFrameInfo[L(964)]=Mt.HEAP32[this[L(1588)]+32>>2],this[L(1226)].frameNum=Mt[L(1039)][this[L(1588)]+36>>2],this[L(1226)][L(1392)]=Mt[L(1039)][this[L(1588)]+40>>2],this.rawDataFrameInfo[L(389)]=Mt[L(1039)][this[L(1588)]+44>>2],this[L(1226)][L(1070)]=Mt[L(1039)][this[L(1588)]+48>>2],this[L(1226)][L(1444)]=Mt[L(1039)][this[L(1588)]+52>>2],this[L(1226)][L(1552)]=Mt[L(1039)][this[L(1588)]+56>>2],this[L(1226)][L(633)]=Mt[L(1039)][this[L(1588)]+60>>2],this[L(1226)][L(1429)]=Mt[L(1039)][this.rawDataFrameInfoBuffer+64>>2],this[L(1226)].year=Mt[L(1006)][this[L(1588)]+68>>1],this.rawDataFrameInfo.month=Mt.HEAP16[this[L(1588)]+70>>1],this[L(1226)][L(727)]=Mt.HEAP16[this[L(1588)]+72>>1],this[L(1226)].day=Mt[L(1006)][this[L(1588)]+74>>1],this.rawDataFrameInfo[L(1380)]=Mt[L(1006)][this[L(1588)]+76>>1],this[L(1226)][L(1088)]=Mt[L(1006)][this[L(1588)]+78>>1],this[L(1226)][L(939)]=Mt[L(1006)][this[L(1588)]+80>>1],this.rawDataFrameInfo[L(1221)]=Mt[L(1006)][this[L(1588)]+82>>1],this[L(1226)].needSetPreSoft=!1,(this.rawDataFrameInfo[L(964)]<1||this.rawDataFrameInfo[L(389)]==1)&&(this.rawDataFrameInfo[L(1222)]=!0),this[L(1454)]!=0&&this[L(1384)]!=0||(this.width=this[L(1226)].width,this.height=this[L(1226)][L(1384)],this[L(512)]=this[L(1226)][L(432)],this[L(1561)]=!1),this[L(1226)][L(1444)]==0&&this[L(1226)].cropRight==0&&this[L(1226)].cropTop==0&&this[L(1226)].cropBottom==0||(this[L(1429)]=this[L(1226)][L(1429)],this[L(1444)]=this[L(1226)].cropLeft,this[L(1552)]=this[L(1226)][L(1552)],this[L(633)]=this[L(1226)][L(633)]),this[L(469)]==1){if(this[L(1226)][L(1392)]!==1)return 1;this[L(569)]&&(this.hasWebWorker?this[L(877)][L(1086)]({command:L(1564),timestamp:this.rawDataFrameInfo[L(432)]}):this[L(1058)][L(1564)](this[L(1226)][L(432)]),this[L(569)]=!1)}if(this[L(469)]==0&&this.switchDecodeFrame==1){if(this[L(1226)][L(1392)]!==1)return 1;this[L(537)]=!1}if(this[L(1054)]&&this.downloadRTPData(r),this[L(549)]){if(this[L(877)]===null)return r=null,0;this[L(877)].postMessage({command:"inputData",rawData:r[L(1074)],rawDataFrameInfo:this.rawDataFrameInfo},[r[L(1074)]])}else this[L(1058)][L(1545)](r,this[L(1226)])}},{key:ue(850),value:function(){Mt._JSPlayM4_GetRawData(this.port)}},{key:ue(1103),value:function(){var e=ue;return Mt[e(920)](this[e(798)])}},{key:ue(1574),value:function(e,r,C){var L=ue;return console.log(L(961)),this.hasWebWorker?Wr[C][e].decodeWorker!=null&&Wr[C][e].decodeWorker[L(1086)]({command:"needReset"}):this[L(1058)][L(1388)](),1}},{key:ue(1329),value:function(e){var r=ue;return Mt===null?0:Mt[r(880)](this.port,e)}},{key:ue(772),value:function(){var e=ue,r=0<arguments[e(525)]&&arguments[0]!==void 0?arguments[0]:null;if(this[e(531)]&&console.log(">>>>>yff>>>>> JSPlayM4_Play 1 this.canvasID:"+this.canvasID+",this.sab:"+this.sab),Mt===null)return 0;if(this[e(531)]&&console.log(e(870)+decodeEngine),this[e(1041)]===0&&this[e(714)]===5?(this[e(1081)]=0,console[e(786)](e(639),"color: green")):this[e(1106)]!==0||this[e(714)]!==256&&this[e(714)]!==1||(this[e(1081)]=0,console[e(786)](e(1311),e(1464))),!this.sab&&this[e(1081)]===0)return console[e(786)](e(1126),"color: red"),0;if(this[e(1190)]!=-1&&(this[e(997)]=this.setHasThread),Mt[e(426)](this[e(798)],this.decodeEngine,this[e(997)]),console.log(e(1170),e(1464),this.decodeEngine,this[e(714)]),r!=null&&(this[e(1159)]=r,this[e(363)]=document.getElementById(this[e(1159)])[e(1454)],this[e(1421)]=document[e(380)](this.canvasID).height),this[e(1159)]!=null&&(r=document[e(380)](this[e(1159)]))&&(this[e(360)]=r[e(1402)](!0),this.clonedCanvasParentNode=r[e(467)],this[e(471)][e(777)](this.clonedCanvas,r)),this.printfFlag&&console.log(e(904)+this[e(1159)]+",this.sab:"+this[e(965)]+",this.decodeEngine:"+this[e(1081)]),r=1,this[e(1081)]===1){this.hasWebWorker?this.startWorker(this.canvasID,this):(this[e(1201)]=document[e(380)](this[e(1159)]),this[e(1058)][e(520)](this[e(1201)],this[e(1326)],this[e(965)],this[e(1264)]),this[e(1498)]!=0&&this[e(1058)][e(1047)](this[e(1498)])),Mt[e(1553)](this[e(798)],this[e(1591)]);var C=Mt.addFunction(this[e(1574)],e(388));Mt[e(937)](this[e(798)],C,this[e(1591)]),(r=Mt[e(842)](this[e(798)],null))==1&&(this[e(1463)]=2)}else if(this[e(1081)]===0){if(this[e(1159)]!=""&&this[e(1159)]!=null){var C=this._stringToBytes("#"+this[e(1159)]),ke=2*(this[e(1159)][e(525)]+1);if(this.canvasIDData=Mt._malloc(ke),this[e(1433)]===null)return 0;var L=Mt[e(447)][e(350)](this.canvasIDData,this.canvasIDData+ke),ke=new Uint8Array(ke);L[e(483)](ke,0),L[e(483)](new Uint8Array(C)),L=null}(r=Mt[e(842)](this[e(798)],this.canvasIDData))==1&&(this[e(1463)]=2)}return this[e(459)].length!=0&&(this[e(1432)](new Uint8Array(this[e(459)]),this[e(459)][e(525)]),this[e(459)][e(387)](0,this[e(459)].length)),this[e(1519)](1),r}},{key:ue(1432),value:function(e,r){var C=ue;if(this.printfFlag&&console[C(1590)](">>>>>yff>>>>> JSPlayM4_InputData 1 res:"+j+",inputSize:"+r),Mt===null){var L=this[C(459)].length;if(L+r>this.iInputMaxBufSize)return console.log(C(938)),0;for(var ke=0;ke<r;ke++)this[C(459)][L+ke]=e[ke];return 0}if(this[C(490)]<r&&(this[C(868)]!==null&&(Mt[C(573)](this.inputDataBuffer),this.inputDataBuffer=null),this.inputDataBufferSize=r),this.inputDataBuffer===null&&(this[C(868)]=Mt[C(1420)](this[C(490)])),this[C(868)]===null)return console[C(1590)](C(365)),0;this[C(481)]==1&&(this.JSPlayM4_SetCanvasSize(this[C(363)],this[C(1421)]),this[C(481)]=0),this.NoHIKHead&&(Yt=(ze=this.JSPlayM4_GetFrameInfo())[C(1454)],ze=ze[C(1384)],Yt&&ze&&(this.JSPlayM4_SetCanvasSize(this[C(363)],this[C(1421)]-1),this[C(362)]=0,this[C(481)]=1));var ze,Yt=new Uint8Array(e[C(1074)]),j=(Mt[C(1523)](Yt,this[C(868)]),Mt._JSPlayM4_InputData(this[C(798)],this[C(868)],r));return this[C(531)]&&console[C(1590)](C(1243)+j+C(604)+r),j}},{key:ue(806),value:function(){var e=ue,r=!(0<arguments[e(525)]&&arguments[0]!==void 0)||arguments[0];if(Mt===null)return 0;if(this.hasWebWorker?this.decodeWorker!=null&&this.decodeWorker.postMessage({command:e(1476)}):this[e(1058)]!=null&&this.pcVideoManager[e(1476)](),this[e(1467)]&&0<this[e(1255)]&&(console.log(e(369)+this[e(1255)]+e(900)),C=new Uint8Array(this[e(601)]),this[e(1163)](C,e(930)),this[e(601)][e(387)](0,this[e(601)][e(525)]),this[e(1467)]=!1,this[e(1255)]=0,C=null),this[e(1463)]!=2&&this[e(1463)]!=5)return 1;var C=Mt[e(903)](this.port);if(C==1&&(this[e(1463)]=4),C==1&&r&&(r=document[e(380)](this[e(1159)]),r&&(this.clonedCanvas=r.cloneNode(!0),this.clonedCanvasParentNode=r[e(467)],this[e(471)][e(777)](this[e(360)],r)),this[e(1176)][e(525)]!=0))for(var L=0;L<this.FECcanvasIDArray.length;L++){var ke=document.getElementById(this[e(1176)][L]);ke&&(this.clonedCanvas=ke[e(1402)](!0),this[e(471)]=ke.parentNode,this[e(471)].replaceChild(this[e(360)],ke))}return C}},{key:"JSPlayM4_CloseStream",value:function(){var e=ue;return Mt===null?0:Mt._JSPlayM4_CloseStream(this[e(798)])}},{key:ue(1306),value:function(){var e=ue;return Mt===null?0:(this[e(868)]!==null&&(Mt[e(573)](this[e(868)]),this[e(868)]=null),this.canvasIDData!==null&&(Mt._free(this[e(1433)]),this[e(1433)]=null,this[e(1561)]=!0),this[e(1068)]!=null&&(Mt._free(this[e(1068)]),this[e(1068)]=null),this[e(990)]!=null&&(Mt[e(573)](this[e(990)]),this[e(990)]=null),this[e(463)]!=null&&(Mt[e(573)](this.pBmpSizeData),this[e(463)]=null),this[e(372)]!=null&&(Mt[e(573)](this[e(372)]),this[e(372)]=null),this.pJPEGSizeData!=null&&(Mt[e(573)](this[e(1040)]),this[e(1040)]=null),this[e(1107)]=null,this[e(488)]=null,this[e(601)].splice(0,this[e(601)][e(525)]),this[e(1260)].splice(0,this[e(1260)].length),this.audioBefDecBuffer[e(387)](0,this.audioBefDecBuffer[e(525)]),this[e(1016)].splice(0,this[e(1016)].length),this[e(1530)].splice(0,this[e(1530)].length),this[e(1131)].splice(0,this[e(1131)][e(525)]),this[e(459)].splice(0,this[e(459)][e(525)]),this[e(1454)]=0,this[e(1384)]=0,this[e(1463)]=1,this[e(1058)]=null,this[e(621)]=0,this[e(1588)]=null,this[e(1254)]={},this[e(1226)]={},Mt[e(729)](this[e(798)]))}},{key:ue(819),value:function(e){var r=ue;return Mt===null?0:this[r(1081)]===1?(e==0&&this[r(469)]==1&&(this.switchDecodeFrame=!0),(this[r(469)]=e)==1&&(this.needWaitIFrame=!0),1):Mt[r(674)](this[r(798)],e)}},{key:ue(711),value:function(){var e=ue;return Mt===null?0:Mt[e(1341)](this.port)}},{key:ue(381),value:function(e,r,C){return new Promise(function(){var L=M,ke=X(pe()[L(460)](function ze(Yt,j){var W=L,ne;return pe()[W(894)](function(he){for(var et=W;;)switch(he[et(707)]=he[et(811)]){case 0:(ne=document[et(1546)]("img"))[et(1173)]=function(){var Rt=et,It=document[Rt(1546)](Rt(863)),Qt=It[Rt(1021)]("2d"),Qt=(It[Rt(1454)]=r,It[Rt(1384)]=C,Qt[Rt(1079)](this,0,0,r,C),It.toDataURL());Yt(Qt)},ne.src=e;case 3:case et(974):return he[et(1476)]()}},ze)}));return function(ze,Yt){var j=L;return ke[j(1089)](this,arguments)}}())}},{key:ue(787),value:function(e,r){var C=ue,L,ke,ze;this.decodeEngine===1&&e[C(1454)]&&e[C(1384)]&&(L="image/"+r,ke=document[C(1546)](C(863)),ze=ke[C(1021)]("2d"),ke[C(1454)]=e.width,ke[C(1384)]=e[C(1384)],ze[C(1079)](e,0,0,e[C(1454)],e[C(1384)]),ke[C(783)](function(W){var j=C;console[j(1590)](j(1195)+W);var W=window[j(1244)].createObjectURL(W),ne=document[j(1546)]("a");ne[j(369)]=new Date().getTime()+"."+r,ne[j(1531)]=W,ne.dataset.downloadurl=[L,ne[j(369)],ne[j(1531)]][j(462)](":"),document[j(1051)].appendChild(ne),ne[j(1168)](),document[j(1051)][j(1026)](ne),e[j(327)](),ze=null},L))}},{key:"_GetImage2",value:function(e,r,C,L,ke,ze,Yt,j,W,ne){var he=this;setTimeout(function(){var et=M;if(C!=0&&L!=0){var Rt=Mt[et(1420)](r);if(Rt!==null){Mt.writeArrayToMemory(new Uint8Array(e,0,r),Rt);var It=0,It=C!=704||L!=288&&L!=240?C*L*4+60:C*L*8+60,Qt=Mt[et(1420)](It),Ai=Mt[et(1420)](4);if(Qt===null||Ai===null)return Mt[et(573)](Rt),(Rt=null)!=Qt&&(Mt[et(573)](Qt),Qt=null),void(Ai!=null&&(Mt[et(573)](Ai),Ai=null));Mt[et(496)](Ai,It,et(1298)),It=2,Rt=(ze==="nv12"?It=2:et(624)===ze&&(It=3),ke=="jpeg"?Mt[et(1194)](he[et(798)],Rt,r,Qt,Ai,C,L,It,Yt,j,W,ne):et(1292)==ke&&Mt[et(527)](he[et(798)],Rt,r,Qt,Ai,C,L,It,Yt,j,W,ne),Mt[et(1461)](Ai,et(1298))),It=new Uint8Array(Rt),It[et(483)](Mt.HEAPU8[et(350)](Qt,Qt+Rt)),Yt==0&&j==0&&W==0&&ne==0?et(1239)==ke?(he.jpegDataCallback!=null&&he.jpegDataCallback(It,Rt),he.jpegDownloadFlag&&he[et(1163)](It,et(561)+ke),he.jpegDataCallback=null,he[et(1146)]=!1):et(1292)==ke&&(he[et(1107)]!=null&&he[et(1107)](It,Rt),he[et(589)]&&he[et(1163)](It,et(561)+ke),he[et(1107)]=null,he.bmpDownloadFlag=!1):he[et(1163)](It,"GetCropImage."+ke),(It=null)!=Qt&&(Mt._free(Qt),Qt=null),Ai!=null&&Mt[et(573)](Ai)}}},0)}},{key:ue(1547),value:function(){var e=ue,r=0<arguments[e(525)]&&arguments[0]!==void 0?arguments[0]:null,C=!(1<arguments[e(525)]&&arguments[1]!==void 0)||arguments[1];if(this.jpegDataCallback=r,this[e(1146)]=C,this[e(1081)]===1)return this[e(549)]?this[e(877)][e(1086)]({command:e(784)}):this[e(1058)]!=null&&this[e(1058)].GetJPEG(),1;var ze=Mt._JSPlayM4_GetFrameInfo(this.port);if(this.width=Mt[e(1039)][ze+12>>2],this[e(1384)]=Mt[e(1039)][ze+16>>2],this[e(1454)]==0||this.height==0)return 0;var L,ke,ze=this.width*this.height*4+60;if(!(this.pJpegData==null||this[e(1247)]<ze)||(this[e(372)]!=null&&(Mt[e(573)](this[e(372)]),this[e(372)]=null),this.nJPEGDataSize=ze,this[e(372)]=Mt[e(1420)](this.nJPEGDataSize),this[e(372)]!==null))return this.pJPEGSizeData==null&&(this.pJPEGSizeData=Mt[e(1420)](4)),ze=Mt[e(498)](this[e(798)],this[e(372)],this[e(1247)],this.pJPEGSizeData),ze!=1&&(L=Mt[e(972)](this.port),console[e(1590)](e(695)+L)),ze==1&&(L=Mt[e(1461)](this[e(1040)],e(1298)),(ke=new Uint8Array(L))[e(483)](Mt[e(447)][e(350)](this[e(372)],this.pJpegData+L)),r!=null&&r(ke,L),C&&this._downloadFile(ke,"GetJPEG.jpeg"),this.jpegDataCallback=ke=null,this[e(1146)]=!1),ze}},{key:ue(1114),value:function(){var e=ue,r=0<arguments[e(525)]&&arguments[0]!==void 0?arguments[0]:null,C=!(1<arguments[e(525)]&&arguments[1]!==void 0)||arguments[1];if(this.bmpDataCallback=r,this[e(589)]=C,this[e(1081)]===1)return this.hasWebWorker?this.decodeWorker.postMessage({command:e(1351)}):this[e(1058)]!=null&&this[e(1058)][e(1351)](),1;var ke=Mt[e(635)](this.port);if(this[e(1454)]=Mt[e(1039)][ke+12>>2],this[e(1384)]=Mt[e(1039)][ke+16>>2],this[e(1454)]==0||this[e(1384)]==0)return 0;var L,ke=0,ke=this[e(1454)]!=704||this[e(1384)]!=288&&this[e(1384)]!=240?this[e(1454)]*this[e(1384)]*4+60:this.width*this[e(1384)]*8+60;if(!(this[e(990)]==null||this.nBmpDataSize<ke)||(this.pBmpData!=null&&(Mt[e(573)](this[e(990)]),this[e(990)]=null),this[e(947)]=ke,this[e(990)]=Mt[e(1420)](this[e(947)]),this.pBmpData!==null))return this[e(463)]==null&&(this[e(463)]=Mt._malloc(4)),ke=Mt[e(693)](this.port,this[e(990)],this.nBmpDataSize,this.pBmpSizeData),ke!=1&&(L=Mt[e(972)](this[e(798)]),console[e(1590)](e(695)+L)),ke==1&&(L=Mt.getValue(this[e(463)],e(1298)),(ke=new Uint8Array(L))[e(483)](Mt[e(447)][e(350)](this[e(990)],this[e(990)]+L)),r!=null&&r(ke,L),C&&this[e(1163)](ke,e(594)),this[e(1107)]=ke=null,this[e(589)]=!1),1}},{key:"JSPlayM4_GetCropJPEG",value:function(){var e=ue;if(this[e(1081)]===1)return this[e(549)]?this.decodeWorker.postMessage({command:e(1125)}):this[e(1058)]!=null&&this[e(1058)][e(1125)](),1;var r=Mt[e(635)](this[e(798)]);if(this[e(1454)]=Mt[e(1039)][r+12>>2],this[e(1384)]=Mt.HEAP32[r+16>>2],this.width==0||this[e(1384)]==0)return 0;var r=this[e(1454)]*this[e(1384)]*4+60,C=Mt._malloc(r),L=Mt[e(1420)](4),ke=this[e(892)],ze=this.SetDisRegionLeft,Yt=this[e(501)],j=this.SetDisRegionTop;if(C!==null)return r=Mt[e(1494)](this.port,C,r,L,0,0,ze,j,Yt,ke),r!=1&&(ze=Mt[e(972)](this[e(798)]),console.log(e(695)+ze)),r==1&&(j=Mt[e(1461)](L,e(1298)),(Yt=new Uint8Array(j)).set(Mt[e(447)][e(350)](C,C+j)),this[e(1163)](Yt,e(1045)),Yt=null),C!=null&&(Mt[e(573)](C),C=null),L!=null&&(Mt._free(L),L=null),r}},{key:ue(1314),value:function(){var e=ue;if(this[e(1081)]===1)return this[e(549)]?this.decodeWorker[e(1086)]({command:e(1417)}):this.pcVideoManager!=null&&this[e(1058)][e(1417)](),1;var r=Mt[e(635)](this.port);if(this[e(1454)]=Mt.HEAP32[r+12>>2],this[e(1384)]=Mt.HEAP32[r+16>>2],this[e(1454)]==0||this[e(1384)]==0)return 0;var r=this[e(1454)]*this[e(1384)]*4+60,C=Mt[e(1420)](r),L=Mt._malloc(4),ke=this[e(892)],ze=this.SetDisRegionLeft,Yt=this[e(501)],j=this[e(846)];if(C!==null)return r=Mt[e(951)](this[e(798)],C,r,L,0,0,ze,j,Yt,ke),r!=1&&(ze=Mt[e(972)](this[e(798)]),console[e(1590)](e(695)+ze)),r==1&&(j=Mt[e(1461)](L,"i32"),(Yt=new Uint8Array(j))[e(483)](Mt[e(447)][e(350)](C,C+j)),this[e(1163)](Yt,"GetCropBmp.bmp"),Yt=null),C!=null&&(Mt._free(C),C=null),L!=null&&(Mt[e(573)](L),L=null),1}},{key:ue(1285),value:function(){var e=ue;return Mt===null?0:Mt[e(421)]()}},{key:ue(1250),value:function(){var e=ue;return Mt===null?0:Mt[e(401)]()}},{key:"JSPlayM4_GetBuildDate",value:function(){return Mt===null?0:Mt._JSPlayM4_GetBuildDate()}},{key:"JSPlayM4_GetLastError",value:function(){var e=ue;return Mt===null?0:Mt[e(972)](this[e(798)])}},{key:ue(773),value:function(){var e=ue;if(Mt===null)return 0;if(this[e(1326)]===0)return 1;if(this[e(1081)]===1)if(this[e(549)]){if(this[e(877)]===null)return 0;this[e(877)][e(1086)]({command:e(1589)})}else this.pcVideoManager!=null&&this[e(1058)].fast();var r=Mt[e(543)](this[e(798)]);return r==1&&(this[e(1147)]=2*this[e(1147)]),r}},{key:ue(1220),value:function(){var e=ue;if(Mt===null)return 0;if(this[e(1326)]===0)return 1;if(this[e(1081)]===1)if(this[e(549)]){if(this[e(877)]===null)return 0;this[e(877)].postMessage({command:"slow"})}else this.pcVideoManager!=null&&this[e(1058)].slow();var r=Mt._JSPlayM4_Slow(this.port);return r==1&&(this[e(1147)]=this[e(1147)]/2),console[e(1590)](e(1263)+this.playSpeed),r}},{key:ue(793),value:function(e){var r=ue;return Mt===null?0:this.decodeEngine===1?1:Mt[r(1115)](this[r(798)],e)}},{key:ue(1055),value:function(e){var r=ue;return Mt===null?0:Mt[r(751)](this[r(798)],e)}},{key:ue(966),value:function(e){var r=ue;return Mt===null?0:this[r(1326)]===0?1:(this[r(1081)]===1&&(this.hasWebWorker?this.decodeWorker[r(1086)]({command:r(1080),value:e}):this.pcVideoManager!=null&&this[r(1058)].Pause(e)),Mt._JSPlayM4_Pause(this[r(798)],e))}},{key:"JSPlayM4_OneByOne",value:function(){var e=ue;return Mt===null?0:this.streamOpenMode===0?1:(this[e(1463)]=5,this[e(1081)]===1&&(this.hasWebWorker?this[e(877)][e(1086)]({command:e(869),value:1}):this[e(1058)]!=null&&this.pcVideoManager[e(869)](1)),Mt[e(799)](this[e(798)]))}},{key:"JSPlayM4_OneByOneResume",value:function(){var e=ue;return Mt===null?0:this[e(1326)]===0?1:(this[e(1463)]=2,this[e(1081)]===1&&(this.hasWebWorker?this.decodeWorker[e(1086)]({command:"OneByOne",value:0}):this[e(1058)]!=null&&this[e(1058)][e(869)](0)),Mt._JSPlayM4_Play(this[e(798)],this[e(1433)]))}},{key:ue(1452),value:function(e){var r=ue;return Mt===null?0:Mt[r(499)](this[r(798)],e)}},{key:ue(330),value:function(){var e=ue;return Mt===null?0:Mt[e(912)](this.port)}},{key:"JSPlayM4_SetDisplayRegion",value:function(e,r,C,L,ke){var ze=ue,Yt=5<arguments[ze(525)]&&arguments[5]!==void 0&&arguments[5],j=!(6<arguments.length&&arguments[6]!==void 0)||arguments[6];if(Mt===null)return 0;var W=1,ne=r,he=L,et=C,Rt=ke;if(typeof r!="number"||ze(911)!=K(L)||ze(911)!=K(C)||typeof ke!="number")return console.log(ze(681)),0;if(Yt)et=this[ze(363)],Rt=this[ze(1421)],this.iZoomNum=he=ne=0,this[ze(397)]=1,this[ze(435)]=1;else if(j){if(ne<0||et<0||he<0||Rt<0)return 0;this[ze(621)]!==0&&(ne=Math[ze(1437)](ne/this.iRatio_x)+this[ze(847)][ze(1161)],he=Math[ze(1437)](he/this[ze(435)])+this[ze(847)][ze(449)],et=Math[ze(1437)](et/this[ze(397)])+this[ze(847)][ze(1161)],Rt=Math[ze(1437)](Rt/this[ze(435)])+this[ze(847)][ze(449)])}if(this[ze(847)]={top:he,left:ne,right:et,bottom:Rt},et-ne<16||Rt-he<16||et-ne>this[ze(363)]||Rt-he>this[ze(1421)])return console.log(ze(686)+r+ze(905)+C+ze(632)+L+ze(833)+ke+",bClose:"+Yt+ze(1344)+j+ze(1284)+this[ze(621)]+ze(574)+this.canvasWidth+ze(933)+this.canvasHeight),0;if(this[ze(1081)]===1)if(this[ze(892)]=Rt/this[ze(1421)]*this[ze(1384)],this.SetDisRegionLeft=ne/this.canvasWidth*this[ze(1454)],this[ze(501)]=et/this.canvasWidth*this.width,this[ze(846)]=he/this[ze(1421)]*this[ze(1384)],this.hasWebWorker){if(this[ze(877)]===null)return 0;this[ze(877)].postMessage({command:ze(1053),sx:this[ze(829)],sy:this[ze(846)],sw:this.SetDisRegionRight-this[ze(829)],sh:this.SetDisRegionBottom-this[ze(846)]})}else this[ze(1058)]!=null&&this[ze(1058)][ze(1053)](this.SetDisRegionLeft,this[ze(846)],this.SetDisRegionRight-this[ze(829)],this[ze(892)]-this[ze(846)]);else r=Mt[ze(635)](this[ze(798)]),this.width=Mt[ze(1039)][r+12>>2],this[ze(1384)]=Mt[ze(1039)][r+16>>2],this[ze(892)]=Rt/this[ze(1421)]*this.height,this[ze(829)]=ne/this.canvasWidth*this[ze(1454)],this[ze(501)]=et/this[ze(363)]*this.width,this.SetDisRegionTop=he/this[ze(1421)]*this[ze(1384)],W=Mt[ze(465)](this.port,this[ze(1159)],this[ze(829)],this[ze(501)],this[ze(846)],this.SetDisRegionBottom);return j&&(this[ze(397)]=this[ze(363)]/(et-ne),this[ze(435)]=this[ze(1421)]/(Rt-he),this.iZoomNum++),W}},{key:ue(427),value:function(e){var r=ue;return Mt===null?0:(this[r(531)]=Number(e),Mt[r(1064)](this[r(798)],e))}},{key:ue(1160),value:function(e,r){var C=ue;return Mt===null?0:Mt[C(790)](this[C(798)],e,r)}},{key:"JSPlayM4_RenderPrivateDataEx",value:function(e,r,C){var L=ue;return Mt===null?0:Mt[L(1219)](this[L(798)],e,r,C)}},{key:ue(438),value:function(e,r){var C=ue,L=2<arguments[C(525)]&&arguments[2]!==void 0?arguments[2]:0;if(e<16||r<16||this[C(1159)]===null)return 0;if(this[C(363)]=e,this[C(1421)]=r,this[C(1081)]!==1)return Mt===null?0:Mt._JSPlayM4_SetCanvasSize(this[C(798)],e,r,L);if(this[C(549)]){if(this.decodeWorker==null)return 0;this.decodeWorker[C(1086)]({command:"SetCanvasSize",width:e,height:r})}else this[C(1058)]!=null&&this[C(1058)].SetCanvasSize(e,r);return 1}},{key:ue(1466),value:function(e){var r=ue;return Mt===null?0:(this[r(1081)]===1&&(this[r(549)]?this[r(877)]===null?this[r(1498)]=e:this[r(877)][r(1086)]({command:r(1047),value:e}):this.pcVideoManager!=null&&this[r(1058)].SetDisplayBuf(e)),Mt._JSPlayM4_SetDisplayBuf(this[r(798)],e))}},{key:ue(404),value:function(){var e=ue;return Mt===null?0:Mt[e(680)](this[e(798)])}},{key:ue(973),value:function(e){var r=ue;return Mt===null?0:Mt[r(923)](this.port,e)}},{key:ue(1151),value:function(){var e=ue;return Mt===null?0:this[e(1326)]===0?1:Mt._JSPlayM4_ReversePlay(this[e(798)])}},{key:ue(1562),value:function(e){return Mt===null?0:Mt._JSPlayM4_SetDecodeThreadNum(this.port,e)}},{key:ue(1509),value:function(){var e=ue,r=0<arguments[e(525)]&&arguments[0]!==void 0?arguments[0]:0;return Mt===null?0:this[e(1081)]===1?(this[e(549)]?this.decodeWorker[e(1086)]({command:e(1370)}):this.pcVideoManager!=null&&this.pcVideoManager[e(1370)](),1):Mt[e(753)](this[e(798)],r)}},{key:ue(1291),value:function(e,r,C){var L=ue;return Mt===null?0:Mt._JSPlayM4_DisplayLostFrames(this[L(798)],e,r,C)}},{key:"JSPlayM4_SetANRParam",value:function(e,r){var C=ue;return Mt===null?0:Mt[C(651)](this[C(798)],e,r)}},{key:"JSPlayM4_SetResampleValue",value:function(e,r){var C=ue;return Mt===null?0:Mt[C(423)](this.port,e,r)}},{key:"JSPlayM4_SetAntialias",value:function(e){var r=ue,C=1;if(this[r(1081)]===1)this[r(549)]?this[r(877)]!=null&&this[r(877)][r(1086)]({command:r(558),value:e}):this[r(1058)]!=null&&(C=this.pcVideoManager[r(558)](e));else{if(Mt===null)return 0;C=Mt[r(1353)](this[r(798)],e)}return C}},{key:ue(361),value:function(e){var r=ue;return Mt===null?0:Mt[r(333)](this[r(798)],e)}},{key:"JSPlayM4_SetAudioThreadModel",value:function(e){return Mt===null?0:Mt._JSPlayM4_SetAudioThreadModel(this.port,e)}},{key:"JSPlayM4_SetDecodeERC",value:function(e){var r=ue;return Mt===null?0:Mt[r(1499)](this[r(798)],e)}},{key:"JSPlayM4_SkipErrorData",value:function(e){var r=ue;return Mt===null?0:Mt._JSPlayM4_SkipErrorData(this[r(798)],e)}},{key:ue(899),value:function(e,r){var C=ue;return Mt===null?0:Mt[C(1484)](this[C(798)],e,r)}},{key:ue(1214),value:function(e,r){var C=ue;return Mt===null?0:Mt._JSPlayM4_SetD3DPostProcess(this[C(798)],e,r)}},{key:ue(323),value:function(e,r){var C=ue;return!(r&&typeof r=="function"||r===null)||(this[C(409)]=r,Mt===null)?0:(r=1,r=this[C(1081)]===0?Mt._JSPlayM4_SetFirstFrameCallBack(this[C(798)],e,this[C(1591)]):r)}},{key:ue(967),value:function(e,r){var C=ue;return r&&C(1536)==K(r)||r===null?(this[C(1164)]=r,Mt===null?0:Mt._JSPlayM4_SetDecCallBack(this.port,e,this[C(1591)])):0}},{key:ue(316),value:function(e,r){var C=ue;return r&&C(1536)==K(r)||r===null?(this[C(1327)]=r,Mt===null?0:Mt[C(636)](this[C(798)],e,this[C(1591)])):0}},{key:ue(1519),value:function(e){var r=ue,C=this,L=1;return this[r(1081)]===1?this.hasWebWorker?this[r(877)]!=null&&this[r(877)][r(1086)]({command:r(1203),value:e}):this[r(1058)]!=null&&(L=this[r(1058)][r(1203)](function(ke){var ze=r;C[ze(1254)].port=ke[ze(798)],C[ze(1254)][ze(714)]=ke.codecType,C[ze(1254)][ze(952)]=ke.frameType,C[ze(1254)][ze(1119)]=ke[ze(1119)],C[ze(1254)][ze(1454)]=ke[ze(1454)],C[ze(1254)][ze(1384)]=ke[ze(1384)],C[ze(1254)][ze(432)]=ke[ze(432)],C[ze(1254)].frameRate=ke.frameRate,C[ze(1254)][ze(666)]=ke.frameNum,C[ze(1254)][ze(389)]=ke[ze(389)],C[ze(1254)][ze(1070)]=ke[ze(1070)],C[ze(1254)].cropLeft=ke[ze(1444)],C[ze(1254)][ze(1552)]=ke[ze(1552)],C[ze(1254)][ze(633)]=ke[ze(633)],C[ze(1254)][ze(1429)]=ke[ze(1429)],C.displayFrameInfo[ze(628)]=ke[ze(628)],C[ze(1254)][ze(500)]=ke[ze(500)],C[ze(1254)].week=ke[ze(727)],C.displayFrameInfo[ze(394)]=ke.day,C[ze(1254)][ze(1380)]=ke.hour,C[ze(1254)][ze(1088)]=ke[ze(1088)],C[ze(1254)][ze(939)]=ke.second,C.displayFrameInfo[ze(1221)]=ke[ze(1221)]},e)):L=Mt[r(968)](this[r(798)],e),L}},{key:ue(805),value:function(e){var r=ue;return Mt===null?0:Mt[r(571)](this[r(798)],e)}},{key:ue(1135),value:function(){var e=ue;if(Mt===null)return 0;var r,C={};return this[e(1081)]==0?(r=Mt[e(635)](this.port),C[e(798)]=Mt[e(1039)][r>>2],C.frameType=Mt[e(1039)][r+4>>2],C[e(1119)]=Mt[e(1039)][r+8>>2],C[e(1454)]=Mt[e(1039)][r+12>>2],C.height=Mt.HEAP32[r+16>>2],C[e(432)]=Mt[e(1039)][r+20>>2],C[e(964)]=Mt.HEAP32[r+24>>2],C[e(1248)]=Mt.HEAP32[r+28>>2],C[e(1316)]=Mt[e(1039)][r+32>>2],C[e(1371)]=Mt.HEAP32[r+36>>2],C.frameNum=Mt[e(1039)][r+40>>2],C[e(1444)]=Mt[e(1039)][r+44>>2],C[e(1552)]=Mt[e(1039)][r+48>>2],C[e(633)]=Mt[e(1039)][r+52>>2],C.cropBottom=Mt[e(1039)][r+56>>2],C[e(628)]=Mt.HEAP16[r+60>>1],C.month=Mt[e(1006)][r+62>>1],C.week=Mt[e(1006)][r+64>>1],C[e(394)]=Mt[e(1006)][r+66>>1],C.hour=Mt[e(1006)][r+68>>1],C.minute=Mt.HEAP16[r+70>>1],C.second=Mt[e(1006)][r+72>>1],C.milliseconds=Mt[e(1006)][r+74>>1],this[e(1454)]=C.width,this[e(1384)]=C[e(1384)]):C=this[e(1254)],C}},{key:ue(878),value:function(){var e=ue;if(Mt===null)return 0;var r=Mt[e(1122)](this[e(798)]);return null[e(1290)]=Mt[e(1039)][r>>2],null[e(758)]=Mt[e(1039)][r+4>>2],null[e(1148)]=Mt[e(1039)][r+8>>2],null[e(596)]=Mt[e(1039)][r+12>>2],null[e(1567)]=Mt[e(1039)][r+16>>2],null[e(1592)]=new Uint8Array(dataLength),additionDataBuffer.set(Mt[e(447)][e(350)](pData,pData+dataLength)),null}},{key:ue(1557),value:function(e,r,C){var L=ue;return Mt!==null&&(C&&L(1536)==K(C)||C===null)?(this[L(367)]=C,Mt._JSPlayM4_SetAdditionDataCallBack(this[L(798)],e,r,this[L(1591)])):0}},{key:ue(428),value:function(e){var r=ue;return Mt!==null&&(e&&r(1536)==K(e)||e===null)?(this.getPlayTimeCallBackFun=e,void(this[r(1081)]===1?this[r(549)]?this[r(877)][r(1086)]({command:r(768)}):this[r(1058)]!=null&&(e=this.pcVideoManager[r(768)](),this.getPlayTimeCallBackFun&&this[r(476)](e-this.startTimeStamp)):(e=Mt[r(1028)](this[r(798)]),this.getPlayTimeCallBackFun(e)))):0}},{key:ue(909),value:function(){var e=ue;return Mt===null?0:Mt._JSPlayM4_GetFileTime(this[e(798)])}},{key:ue(839),value:function(e){var r=ue;return Mt===null?0:this[r(909)]()<e?-1:(this.decodeEngine===1&&(this.hasWebWorker?this[r(877)][r(1086)]({command:r(1388)}):this[r(1058)]!=null&&this[r(1058)][r(1388)]()),Mt[r(770)](this[r(798)],e))}},{key:ue(592),value:function(e){return Mt===null?0:Mt._JSPlayM4_ResetBuffer(this.port,e)}},{key:ue(822),value:function(e,r,C,L,ke,ze,Yt){var j=ue;return Mt===null?0:Mt._JSPlayM4_SetGlobalBaseTime(this[j(798)],e,r,C,L,ke,ze,Yt)}},{key:"JSPlayM4_SetSecretKey",value:function(ke){var r=ue,C,L,ke=this[r(619)](ke),ze=Mt[r(1420)](128);if(ze!==null)return C=Mt[r(447)].subarray(ze,ze+128),L=new Uint8Array(128),C.set(L,0),C[r(483)](new Uint8Array(ke)),L=C=null,ke=Mt[r(769)](this.port,1,ze,128),ze!==null&&Mt[r(573)](ze),ke}},{key:ue(344),value:function(e,r){var C=ue;return this[C(448)]=r,Mt[C(738)](this[C(798)],e,this[C(1591)])}},{key:ue(583),value:function(e){var r=ue;return this[r(1081)]==0?Mt._JSPlayM4_SetPlayOrBackSwitchMode(this.port,e):0}},{key:ue(395),value:function(e){var r=ue;return Mt[r(789)](this[r(798)],e)}},{key:ue(1330),value:function(e){var r=ue;return Mt[r(771)](this[r(798)],e)}},{key:ue(866),value:function(){var e=ue,r=0<arguments[e(525)]&&arguments[0]!==void 0?arguments[0]:null,C=1;if(r!=null&&r!=""){if(this[e(1176)]=r.split(","),this[e(1081)]!==1){for(var L="",ke=0;ke<this[e(1176)][e(525)];ke++)ke==this[e(1176)].length-1?L+="#"+this[e(1176)][ke]:L+="#"+this.FECcanvasIDArray[ke]+",";if(this[e(1176)][e(525)]!=0)for(var ze=0;ze<this[e(1176)].length;ze++){var Yt,j=document[e(380)](this[e(1176)][ze]);j&&(Yt=j[e(1402)](!0),j.parentNode.replaceChild(Yt,j))}var W=this[e(619)](L),he=2*L[e(525)];if(this.pFECTotalCanvasIDData=Mt[e(1420)](he),this[e(1068)]===null)return 0;var ne=Mt[e(447)][e(350)](this.pFECTotalCanvasIDData,this[e(1068)]+he),he=new Uint8Array(he);ne[e(483)](he,0),ne[e(483)](new Uint8Array(W)),ne=null,C=Mt[e(765)](this[e(798)],this[e(1068)])}}else console[e(1590)](e(1056)+r),C=0;return C}},{key:"JSPlayM4_FEC_ResetCorrectType",value:function(e,r,C){var L=ue,ke=1;return this.decodeEngine===1?this.hasWebWorker?this[L(877)]!=null?this[L(877)][L(1086)]({command:L(1280),fishSubPort:e,placeType:r,correctType:C}):ke=0:ke=this[L(1058)]!=null?this[L(1058)][L(1206)](e,r,C):0:ke=Mt[L(1339)](this[L(798)],e,r,C),ke}},{key:ue(1576),value:function(e,r){var C=ue;this[C(531)]&&console[C(1590)](C(781)+this[C(1081)]+C(513)+e+",correctType:"+r);var L=1;return this[C(696)]==0?(console.log(C(516)),L=Mt[C(1339)](this[C(798)],0,e,r)):this[C(1081)]===1?this[C(549)]?this[C(877)]!=null?this.decodeWorker[C(1086)]({command:C(445),placeType:e,correctType:r}):L=0:L=this[C(1058)]!=null?this[C(1058)][C(1012)](e,r):0:L=Mt[C(1032)](this.port,e,r),L}},{key:ue(1241),value:function(e){var r=ue;this[r(696)]=e,this.printfFlag&&console[r(1590)](r(1197)+this[r(1081)]+r(1172)+e);var C=1;return e==0?console[r(1590)](r(1217)):this.decodeEngine===1?this[r(549)]?this[r(877)]!=null?this[r(877)][r(1086)]({command:r(584),fishSubPort:e}):C=0:C=this.pcVideoManager!=null?this[r(1058)].FEC_Enable(e):0:C=Mt[r(1336)](this.port,e),C}},{key:ue(479),value:function(e,r){var C=ue;this[C(531)]&&console.log(C(1572)+this[C(1081)]+C(1172)+e+C(647)+r[C(457)]+C(1097)+r[C(1303)]);var L,ke=1;return this[C(1081)]===1?this.hasWebWorker?this[C(877)]!=null?this.decodeWorker.postMessage({command:C(1477),fishSubPort:e,param2d:r}):ke=0:ke=this.pcVideoManager!=null?this.pcVideoManager[C(671)](e,r):0:(L=Mt[C(342)](),r[C(457)]!=null&&(Mt[C(1039)][L>>2]=r[C(457)]),r.fPTZParam!=null&&r[C(626)][C(989)]!=null&&r[C(626)].fPTZPositionY!=null&&(Mt[C(683)][L+8>>2]=r.fPTZParam[C(989)],Mt.HEAPF32[L+12>>2]=r[C(626)][C(1357)]),r[C(626)]!=null&&(Mt.HEAPF32[L+32>>2]=r[C(431)]),r[C(1303)]!=null&&(Mt.HEAPF32[L+36>>2]=r[C(1303)]),ke=Mt[C(585)](this[C(798)],e)),ke}},{key:ue(826),value:function(e,r,C){var L=ue;this[L(531)]&&console[L(1590)](L(336)+this[L(1081)]+L(1172)+e+L(647)+r+L(1097)+C);var ke=1;return this[L(1081)]===1?this[L(549)]?this[L(877)]!=null?this[L(877)].postMessage({command:L(1355),fishSubPort:e,upDateType:r,fValue:C}):ke=0:ke=this[L(1058)]!=null?this[L(1058)][L(992)](e,r,C):0:ke=Mt[L(719)](this[L(798)],e,r,C),ke}},{key:ue(1409),value:function(e,r,C){var L=ue,ke=1;return this[L(398)]=C,this.decodeEngine===1?this.hasWebWorker?this.decodeWorker!=null?this.decodeWorker[L(1086)]({command:L(1286),fishSubPort:e,upDateType:r}):ke=0:(ke=this.pcVideoManager!=null?this[L(1058)][L(1578)](e,r):0,this[L(398)]!=null&&this.FECViewParamCB(ke)):(ke=Mt[L(1374)](this[L(798)],e,r),this.FECViewParamCB!=null&&this.FECViewParamCB(ke)),ke}},{key:ue(1425),value:function(e,r){var C=ue;this[C(531)]&&console[C(1590)](C(732)+this[C(1081)]+C(1172)+e+C(747)+r);var L,ke,ze,Yt,j=1;return e==0?console[C(1590)]("fishPort is 0 ,main canvas doesn't need call FEC_SetWnd"):r!=null?this[C(1081)]===1?(L=document[C(380)](r),this[C(549)]?(ke=L[C(957)](),this.decodeWorker!=null?this[C(877)][C(1086)]({command:C(1184),fishSubPort:e,offscrrenCnv:ke},[ke]):j=0):j=this.pcVideoManager!=null?this[C(1058)].FEC_SetWnd(e,L):0):((ke=null)!=r&&(L=this[C(619)]("#"+r),Yt=2*(r[C(525)]+1),ke=Mt._malloc(Yt),ze=Mt[C(447)][C(350)](ke,ke+Yt),Yt=new Uint8Array(Yt),ze[C(483)](Yt,0),ze[C(483)](new Uint8Array(L)),Yt=ze=null),j=Mt[C(565)](this[C(798)],e,ke),ke!=null&&(Mt[C(573)](ke),ke=null)):(console[C(1590)](C(1029)+this[C(1081)]+C(1172)+e+",hWnd:"+r),j=0),j}},{key:ue(535),value:function(){var e=ue,r=0<arguments[e(525)]&&arguments[0]!==void 0?arguments[0]:0,C=!(1<arguments[e(525)]&&arguments[1]!==void 0)||arguments[1],L=2<arguments[e(525)]&&arguments[2]!==void 0&&arguments[2],ke=1;return r==0?console[e(1590)]("fishPort is 0 ,main canvas doesn't need call FEC_Disable"):this[e(1081)]===1?this[e(549)]?this[e(877)]!=null?this[e(877)][e(1086)]({command:e(1134),fishSubPort:r,clearFECCanvas:C,clearContext:L}):ke=0:ke=this[e(1058)]!=null?this[e(1058)][e(1582)](r,C,L):0:ke=Mt[e(982)](this.port,r,C,L),ke}},{key:ue(1036),value:function(e){var r=ue;this[r(531)]&&console[r(1590)](r(759)+this.decodeEngine+r(1172)+e);var C=1;return e==0?(this[r(696)]=e,console.log(r(1019)),1):(this.decodeEngine===1?this[r(549)]?this[r(877)]!=null?this.decodeWorker[r(1086)]({command:r(358),fishSubPort:e}):C=0:C=this[r(1058)]!=null?this.pcVideoManager[r(832)](e):0:C=Mt._JSPlayM4_FEC_DelPort(this[r(798)],e),C)}},{key:"JSPlayM4_FEC_SetDisplayRegion",value:function(e){var r=ue,C,L,ke,ze,Yt=1<arguments[r(525)]&&arguments[1]!==void 0?arguments[1]:0,j=2<arguments[r(525)]&&arguments[2]!==void 0?arguments[2]:0,Ai=3<arguments[r(525)]?arguments[3]:void 0,W=4<arguments[r(525)]&&arguments[4]!==void 0?arguments[4]:null,ne=5<arguments.length?arguments[5]:void 0,he=6<arguments[r(525)]?arguments[6]:void 0,et=(this[r(531)]&&console[r(1590)](">>>JS JSPlayM4_FEC_SetDisplayRegion this.decodeEngine："+this[r(1081)]+r(1172)+e+r(517)+Ai[r(1161)]+",right:"+Ai[r(1422)]+",top:"+Ai[r(449)]+r(833)+Ai[r(497)]),1),Rt=Ai.left,It=Ai.right,Qt=Ai[r(449)],Ai=Ai.bottom;if(typeof Rt!="number"||r(911)!=K(It)||typeof Ai!="number"||r(911)!=K(Qt))return console.log(r(681)),0;if(ne){if(he){if(Rt<0||It<0||Qt<0||Ai<0)return 0;this[r(1451)]!==0&&(Rt=Math[r(1437)](Rt/this[r(575)])+this[r(874)][r(1161)],Qt=Math[r(1437)](Qt/this[r(1469)])+this[r(874)][r(449)],It=Math.round(It/this[r(575)])+this.stFECDisplayRect[r(1161)],Ai=Math[r(1437)](Ai/this[r(1469)])+this[r(874)][r(449)])}}else It=this[r(363)],Ai=this[r(1421)],this[r(1451)]=Qt=Rt=0,this[r(575)]=1,this[r(1469)]=1;return this[r(874)]={top:Qt,left:Rt,right:It,bottom:Ai},It-Rt<16||Ai-Qt<16||It-Rt>this[r(363)]||Ai-Qt>this.canvasHeight?0:(this[r(1081)]===1?(L=Rt/this[r(363)]*this[r(1454)],C=It/this.canvasWidth*this[r(1454)],ze=Qt/this[r(1421)]*this[r(1384)],ke=Ai/this[r(1421)]*this[r(1384)],this[r(549)]?this[r(877)]!=null?this[r(877)][r(1086)]({command:r(562),fishSubPort:e,type:Yt,regionNum:j,sx:L,sy:ze,sw:C-L,sh:ke-ze}):et=0:et=this.pcVideoManager!=null?this[r(1058)][r(1345)](e,Yt,j,L,ze,C-L,ke-ze):0):et=Mt!==null?(C=Rt/this[r(363)]*1e3,L=It/this[r(363)]*1e3,ke=Qt/this.canvasHeight*1e3,ze=Ai/this[r(1421)]*1e3,ne?Mt[r(446)](this[r(798)],e,Yt,j,C,L,ke,ze,W,ne):Mt[r(446)](this[r(798)],e,0,0,0,0,0,0,null,ne)):0,he&&(this[r(575)]=this.canvasWidth/(It-Rt),this.iFECRatio_y=this[r(1421)]/(Ai-Qt),this[r(1451)]++),et)}},{key:ue(986),value:function(e,r){var C=ue,L=1;return this[C(1081)]===1?this[C(549)]?this[C(877)]!=null?this[C(877)].postMessage({command:C(1396),fishSubPort:e,bValue:r}):L=0:L=this[C(1058)]!=null?this.pcVideoManager[C(1020)](e,r):0:L=Mt[C(1150)](this[C(798)],e,r),L}},{key:ue(710),value:function(){var e=ue,r,C={},L=navigator[e(1426)][e(1558)]();return(r=L[e(1300)](/rv:([\d.]+)\) like gecko/))||(r=L.match(/msie ([\d\.]+)/))?C.ie=r[1]:(r=L[e(1300)](/edge\/([\d\.]+)/))?C[e(684)]=r[1]:(r=L[e(1300)](/firefox\/([\d\.]+)/))?C[e(605)]=r[1]:(r=L[e(1300)](/(?:opera|opr).([\d\.]+)/))?C[e(1427)]=r[1]:(r=L[e(1300)](/chrome\/([\d\.]+)/))?C[e(1497)]=r[1]:(r=L.match(/version\/([\d\.]+).*safari/))&&(C[e(413)]=r[1]),C[e(1497)]?(r=(L=C[e(1497)]).indexOf("."),Number(L.substring(0,r))):(C.ie?console[e(786)](e(484),e(692)):C[e(413)]?console[e(786)](e(1407),e(692)):C.firefox?console[e(786)](e(1441),"color: red"):console.info(e(1224),e(692)),-1)}},{key:ue(619),value:function(e){for(var r=ue,C,L,ke=[],ze=0;ze<e[r(525)];ze++){for(C=e[r(494)](ze),L=[];L[r(962)](255&C),C>>=8;);ke=ke[r(1438)](L[r(408)]())}return ke}},{key:ue(1163),value:function(ke,r){var C=ue,L=ke,ke=(ke instanceof Blob||ke instanceof File||(L=new Blob([ke])),window[C(1244)][C(1245)](L)),L=window[C(502)][C(1546)]("a"),ke=(L[C(1531)]=ke,L.download=r,document[C(1117)](C(1585)));ke[C(1152)](C(1168),!0,!0),L[C(534)](ke)}},{key:"downloadRTPData",value:function(e){var r=ue;if(this.bWriteData){var C=e,L=this[r(601)][r(525)];console[r(1590)](r(1167)+L);for(var ke=0,ze=C[r(525)];ke<ze;ke++)this.aTotalBuffer[L+ke]=C[ke];this.iFrameNum++,C=null,console.log("downloadRTPdata iFrameNum:"+this[r(1255)])}this[r(1467)]&&600<=this[r(1255)]&&(console[r(1590)](r(726)),e=new Uint8Array(this[r(601)]),this._downloadFile(e,r(1430)),this.aTotalBuffer[r(387)](0,this.aTotalBuffer[r(525)]),this[r(1467)]=!1,this[r(1255)]=0)}},{key:ue(1453),value:function(e){var r=ue;if(this[r(1455)]){for(var C=e,L=this.audioANRBuffer[r(525)],ke=0,ze=C[r(525)];ke<ze;ke++)this.audioANRBuffer[L+ke]=C[ke];this.iAudioANRFrameNum++,C=null,console.log(r(1465)+this[r(1182)])}this[r(1455)]&&this.iAudioANRFrameNum>=WRITE_PCM_NUM&&(console[r(1590)](r(369)+WRITE_PCM_NUM+r(1228)),e=new Uint8Array(this[r(1260)]),this[r(1163)](e,r(1373)),this[r(1260)][r(387)](0,this[r(1260)][r(525)]),this.bWriteAudioANRData=!1,this[r(1182)]=0)}},{key:ue(1069),value:function(e){var r=ue;if(this[r(1188)]){for(var C=e,L=this.audioBefDecBuffer[r(525)],ke=0,ze=C.length;ke<ze;ke++)this.audioBefDecBuffer[L+ke]=C[ke];this.iAudioBefDecFrameNum++,C=null,console.log(r(374)+this[r(1180)])}this[r(1188)]&&this[r(1180)]>=WRITE_PCM_NUM&&(console.log("download"+WRITE_PCM_NUM+"this.audioBefDecBuffer"),e=new Uint8Array(this[r(1462)]),this[r(1163)](e,r(351)),this.audioBefDecBuffer.splice(0,this[r(1462)][r(525)]),this[r(1188)]=!1,this[r(1180)]=0)}},{key:ue(1192),value:function(e){var r=ue;if(this[r(928)]){for(var C=e,L=this[r(1016)].length,ke=0,ze=C[r(525)];ke<ze;ke++)this.audioAfDecOUTBuffer[L+ke]=C[ke];this[r(1440)]++,C=null,console[r(1590)]("download 2 After Decode AudioData FrameNum:"+this.iAudioAfDecOUTFrameNum)}this[r(928)]&&this[r(1440)]>=WRITE_PCM_NUM&&(console[r(1590)](r(369)+WRITE_PCM_NUM+"this.audioAfDecOUTBuffer"),e=new Uint8Array(this[r(1016)]),this[r(1163)](e,r(1563)),this[r(1016)][r(387)](0,this[r(1016)][r(525)]),this[r(928)]=!1,this[r(1440)]=0)}},{key:ue(321),value:function(e){var r=ue;if(this[r(1559)]){for(var C=e,L=this[r(1530)][r(525)],ke=0,ze=C.length;ke<ze;ke++)this[r(1530)][L+ke]=C[ke];this[r(1456)]++,C=null,console[r(1590)](r(393)+this.iAudioBeRenOUTFrameNum)}this[r(1559)]&&this[r(1456)]>=WRITE_PCM_NUM&&(console[r(1590)](r(369)+WRITE_PCM_NUM+r(1527)),e=new Uint8Array(this.audioBeRenOUTBuffer),this._downloadFile(e,r(1442)),this[r(1530)][r(387)](0,this[r(1530)][r(525)]),this.bWriteAudioBeforeRender=!1,this[r(1456)]=0)}},{key:"downloadAudioResampleData",value:function(e){var r=ue;if(this[r(664)]){for(var C=e,L=this[r(1131)][r(525)],ke=0,ze=C[r(525)];ke<ze;ke++)this[r(1131)][L+ke]=C[ke];this[r(383)]++,C=null,console[r(1590)](r(1083)+this[r(383)])}this[r(664)]&&this[r(383)]>=WRITE_PCM_NUM&&(console.log("download"+WRITE_PCM_NUM+r(1532)),e=new Uint8Array(this[r(1131)]),this[r(1163)](e,"AudioResampleData.data"),this[r(1131)][r(387)](0,this[r(1131)][r(525)]),this.bWriteAudioResampleData=!1,this[r(383)]=0)}}]),bi}());window[D(1304)]=function(ue,bi,Je){var f=D,l={};l[f(1290)]=Mt.HEAP32[bi>>2],l[f(758)]=Mt.HEAP32[bi+4>>2],l[f(1148)]=Mt.HEAP32[bi+8>>2],l.dataLength=Mt[f(1039)][bi+12>>2],l[f(1567)]=Mt[f(1039)][bi+16>>2],l[f(1592)]=new Uint8Array(l[f(596)]),l.additionDataBuffer[f(483)](Mt[f(447)][f(350)](l[f(1567)],l[f(1567)]+l[f(596)])),Wr[Je][ue].addtionCallBackFun!=null&&Wr[Je][ue][f(367)](l)},window[D(337)]=function(ue,bi,Je,f,l){var e=D,r={};r[e(1511)]=bi,r[e(1049)]=Je,r.timeStamp=f,Wr[l][ue].displayCallBackFun!=null&&Wr[l][ue][e(1327)](r)},window[D(580)]=function(ue,bi,Je,f,l,e){var r=D,C={};C[r(798)]=ue,C.Data=bi,C.isize=Je,C[r(901)]=f,C[r(466)]=l,Wr[e][ue].decCallBackFun!=null&&Wr[e][ue][r(1164)](C)},window[D(376)]=function(ue,bi,Je){var f=D,l,e,r,C;Wr[Je][ue][f(448)]!=null&&(l=Mt[f(1039)][bi>>2],e=Mt[f(1039)][bi+4>>2],r=Mt[f(1039)][bi+8>>2],C=Mt[f(1039)][bi+12>>2],bi=Mt[f(1039)][bi+16>>2],Wr[Je][ue].runtimeCBFun(l,e,r,C,bi))},window[D(836)]=function(ue,bi){var Je=D;Wr[bi][ue][Je(409)]!=null&&Wr[bi][ue][Je(409)]()},window.JSPlayM4_AudioANRCallBack=function(ue,bi,Je,f){var l=D;Wr[f][ue][l(1453)](bi)},window[D(1004)]=function(ue,bi,Je,f){var l=D;Wr[f][ue][l(1069)](bi)},window.JSPlayM4_AudioAfterDecodeCallBack=function(ue,bi,Je,f){var l=D;Wr[f][ue][l(1192)](bi)},window[D(698)]=function(ue,bi,Je,f){Wr[f][ue].downloadAudioBeforeRenderData(bi)},window[D(634)]=function(ue,bi,Je,f){Wr[f][ue].downloadAudioResampleData(bi)},window[D(1204)]=function(ue,bi,Je){Wr[Je][port].downloadRTPData(ue)}}(),st;function ie(D){var Xe=ce,X=Qe[D];return X!==void 0||(X=Qe[D]={exports:{}},Oe[D](X,X[Xe(509)],ie)),X[Xe(509)]}var Oe,Qe,st});function z(){var ce=["Too_Few_Arguments","CROP_BITMAP","message","CreateSemiSphere","__proto__","stFishParam","pPanoPTZPoints","streamOpenMode","displayCallBackFun","nFontBGNum","JSPlayM4_SetAudioDisplayBuf","JSPlayM4_SetSycGroup","ARRAY_BUFFER","Invalid_Library_Handle","pfuncCBIn","baseTimeStamp","renderCurStatus","_JSPlayM4_FEC_Enable","fTheta","FT_New_Memory_Face","_JSPlayM4_FEC_ResetCorrectType","hasOwnProperty","_JSPlayM4_PlaySound","%c 2D render not support FEC correct","nPTZRectNum",",bZoomEnable:","FEC_SetDisplayRegion","FECShowMode","SR_DE_NULL","bitmap_left","decoderObj","firstFrameCB","GetBMP","_invoke","_JSPlayM4_SetAntialias","4848423qxTZsW","FECSetViewParam","GetPanoPTZFloor","fPTZPositionY","decodeProcess","CompileProgram","FreeFECPort","UpdatePTZPosition","enableVertexAttribArray","getPrototypeOf","initTimer","regionSh","SR_DE_FISH_PANORAMA_FLOOR_180","downloadRTPData","Invalid_Slot_Handle","processData1","GetCanvasSize","channel","SR_SetPTZColor","AudioANR.data","_JSPlayM4_GetViewParam","FT_Init_FreeType","player","iterator result is not an object","type","SR_DE_FISH_PANORAMA_CEILING_360","hour","TRIANGLES",">>>>>yff>>>>> JSPlayM4_OpenStream 4:","depthMask","height","GetFECPort","tryEntries","0 is softDecode, 1 is hardDecoder,decodeEngine:","needReset","Hmtx_Table_Missing","Unlisted_Object","Generator is already running","isKeyFrame","MONOCHROME","pLineClrVertices","_GetSlowSpeed","FECSetBackCilling","174710DkIqze","nWndPort","JSPlayM4_OpenStream","SetNear","FT_Error_String","cloneNode","WebKitBlobBuilder","nSubPort","nPanoPTZPointNum","Too_Many_Caches","%c1>your browser is safari ,it does not support softV2.0 or hard decode","FreetypeWasmLoadedCB","JSPlayM4_FEC_GetViewParam","%c>>>>The Decoder.js path:%s","pUserOut","COMPOSITE","LIGHT","warn","object","decoderCurStatus","GetCropBMP","curTimeStamp","SR_DrawFontEx","_malloc","canvasHeight","right","7607872XSOPqC","displayFrameInfoCB","JSPlayM4_FEC_SetWnd","userAgent","opera","Too_Many_Function_Defs","cropBottom","Raw600.data","Set_Pixel_Size","JSPlayM4_InputData","canvasIDData","_sent","CMap_Table_Missing","GetPointPano2FishCeiling","round","concat","oVideoRenderHandle","iAudioAfDecOUTFrameNum","%c1>your browser is Firefox ,it only support soft decode","AudioBeforeRender.data","deleteBuffer","cropLeft","NO_AUTOHINT","_resetRenderTimer","curstatus","Invalid_Table","Invalid_Post_Table","createBuffer","iFECZoomNum","JSPlayM4_SetVolume","downloadAudioANRData","width","bWriteAudioANRData","iAudioBeRenOUTFrameNum","_ConvertDisplayEffect","stPTZParam","pRectPoints","Missing_Module","getValue","audioBefDecBuffer","curStatus","color: green","download ANR Decode AudioData FrameNum:","JSPlayM4_SetDisplayBuf","bWriteData","flush","iFECRatio_y","deleteTexture","Invalid_Composite","rval","FLOAT","pstFontColor",`
attribute vec3 xy;
attribute vec2 uv;
varying highp vec2 v_uv;
void main(void) {
  gl_Position = vec4(xy, 1.0);
  // Map vertex coordinates (-1 to +1) to UV coordinates (0 to 1).
  // UV coordinates are Y-flipped relative to vertex coordinates.
  //v_uv = vec2((1.0 + xy.x) / 2.0, (1.0 - xy.y) / 2.0);
  v_uv = uv;
}
`,"stop","FECSetParam","break","_bind","InitDisplay","Invalid_Argument","finallyLoc","SR_Init","_JSPlayM4_SetDemuxModel","fAngle","SetPTZColor","BlobBuilder","fAspect","style_name","emCorrectType","nFECPort","transform","Raster_Overflow","_JSPlayM4_GetCropJPEG","Debug_OpCode","max_advance_width","chrome","displayBuf","_JSPlayM4_SetDecodeERC","underflow","displayWidth","abs","toString","GetPTZFragmentPoints","fFar","Too_Many_Instruction_Defs","default","JSPlayM4_SetStreamOpenMode","JSPlayM4_GetCanvasSize","avc1.","yuvData","pRender","Invalid_Stream_Seek","createTexture","method","resetTimer","bOrtho","num_faces","JSPlayM4_SetFrameInfoCallBack","sent","SR_DrawLinesEx","FreetypeLibHandle","writeArrayToMemory","pSemiSphereTex","suspendedYield","NO_SCALE","this.audioBeRenOUTBuffer","iterator","%c SR_AddSubPort error subport:%d","audioBeRenOUTBuffer","href","this.audioResampleBuffer","JSPlayM4_DownloadData","Raster_Corrupted",`
    varying highp vec2 v_uv;
    uniform sampler2D texture;
    void main(void) {
        gl_FragColor = texture2D(texture, v_uv);
    }
`,"function","decodeQueueSize","SR_ERR_CALL_ORDER","glLineTexBuffer","sqrt","uniformMatrix4fv","nJpegDataSize","IGNORE_TRANSFORM","values","inputData","createElement","JSPlayM4_GetJPEG","resolve","webgl2","Invalid_Frame_Read","SR_SetPTZPort","cropRight","_JSPlayM4_SetVideoRawDataCallBack","iInputMaxBufSize","bitmap","executing","JSPlayM4_SetAdditionDataCallBack","toLowerCase","bWriteAudioBeforeRender","Table_Missing","FirstFrame","JSPlayM4_SetDecodeThreadNum","AudioAfterDecode.data","SetDecodeFrameType","oVideoPlayCtrl","nSemiSpherePosSize","pData","@@iterator","frameBuffers","nFontHeight","nSurfaceTexture",">>>JS JSPlayM4_FEC_SetParam 1 this.decodeEngine：","linkProgram","JSPlayM4_NeedReset","fLeft","JSPlayM4_FEC_GetPort","SR_Destroy","FEC_GetViewParam","clearDecoderObjBuffer","fZoom","vecUp","FEC_Disable","FT_Library_Version","frameDisplayWidth","MouseEvents","function a0_0x1593(_0x3ac32f,_0x2aab05){var _0xd9f682=a0_0xd9f6();return a0_0x1593=function(_0x1593c7,_0x596b7f){_0x1593c7=_0x1593c7-0x1cd;var _0x58f871=_0xd9f682[_0x1593c7];return _0x58f871;},a0_0x1593(_0x3ac32f,_0x2aab05);}(function(_0xff34d7,_0x5d32c1){var _0x135cc6=a0_0x1593,_0x177edd=_0xff34d7();while(!![]){try{var _0x399e07=parseInt(_0x135cc6(0x4be))/0x1*(parseInt(_0x135cc6(0x228))/0x2)+parseInt(_0x135cc6(0x3d3))/0x3+parseInt(_0x135cc6(0x2a8))/0x4*(-parseInt(_0x135cc6(0x517))/0x5)+parseInt(_0x135cc6(0x3f1))/0x6+-parseInt(_0x135cc6(0x2ed))/0x7+-parseInt(_0x135cc6(0x1ea))/0x8*(parseInt(_0x135cc6(0x45e))/0x9)+parseInt(_0x135cc6(0x48c))/0xa;if(_0x399e07===_0x5d32c1)break;else _0x177edd['push'](_0x177edd['shift']());}catch(_0x317d5a){_0x177edd['push'](_0x177edd['shift']());}}}(a0_0xd9f6,0xed8e4),((()=>{var _0x52413b=a0_0x1593,_0x38a18c={0x3d:(_0x26085d,_0xd23b54,_0x356d53)=>{var _0x211884=a0_0x1593,_0x40e387=_0x356d53(0x2ba)[_0x211884(0x54c)];function _0x538fb2(){'use strict';var _0x5c588c=_0x211884;_0x26085d[_0x5c588c(0x237)]=function(){return _0x1cf6ba;},_0x26085d[_0x5c588c(0x237)][_0x5c588c(0x4fb)]=!0x0,_0x26085d['exports']['default']=_0x26085d[_0x5c588c(0x237)];var _0x1cf6ba={},_0x3249e2=Object['prototype'],_0x435078=_0x3249e2[_0x5c588c(0x246)],_0x2c4240='function'==typeof Symbol?Symbol:{},_0x8f6e32=_0x2c4240['iterator']||_0x5c588c(0x438),_0x56c7d0=_0x2c4240['asyncIterator']||_0x5c588c(0x2a4),_0x51a062=_0x2c4240[_0x5c588c(0x40d)]||_0x5c588c(0x356);function _0x533e29(_0x247309,_0x33c917,_0x41f390){var _0x584901=_0x5c588c;return Object[_0x584901(0x256)](_0x247309,_0x33c917,{'value':_0x41f390,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}),_0x247309[_0x33c917];}try{_0x533e29({},'');}catch(_0x43fa3a){_0x533e29=function(_0x4b14f5,_0x1cab2a,_0x18eb3e){return _0x4b14f5[_0x1cab2a]=_0x18eb3e;};}function _0x291ae3(_0x45b4e,_0xdf225f,_0x1a71fe,_0x1f3a84){var _0x100d17=_0x5c588c,_0x5f70f1,_0x326a7d,_0x3bf0ec,_0x346ee7,_0xdf225f=_0xdf225f&&_0xdf225f['prototype']instanceof _0x20fb7f?_0xdf225f:_0x20fb7f,_0xdf225f=Object[_0x100d17(0x3e9)](_0xdf225f[_0x100d17(0x532)]),_0x1f3a84=new _0xe43bcf(_0x1f3a84||[]);return _0xdf225f[_0x100d17(0x226)]=(_0x5f70f1=_0x45b4e,_0x326a7d=_0x1a71fe,_0x3bf0ec=_0x1f3a84,_0x346ee7='suspendedStart',function(_0xb4f0a9,_0x3f6c2e){var _0x3d6bd7=_0x100d17;if(_0x3d6bd7(0x223)===_0x346ee7)throw new Error(_0x3d6bd7(0x3e8));if(_0x3d6bd7(0x240)===_0x346ee7){if(_0x3d6bd7(0x21d)===_0xb4f0a9)throw _0x3f6c2e;return _0x5245cd();}for(_0x3bf0ec[_0x3d6bd7(0x47e)]=_0xb4f0a9,_0x3bf0ec[_0x3d6bd7(0x42f)]=_0x3f6c2e;;){var _0x219670=_0x3bf0ec['delegate'];if(_0x219670){_0x219670=function _0x37b610(_0x415971,_0x4ef61a){var _0x2b5cf6=_0x3d6bd7,_0x4f4eec=_0x415971['iterator'][_0x4ef61a['method']];if(void 0x0===_0x4f4eec){if(_0x4ef61a['delegate']=null,_0x2b5cf6(0x21d)===_0x4ef61a[_0x2b5cf6(0x47e)]){if(_0x415971[_0x2b5cf6(0x29a)][_0x2b5cf6(0x26c)]&&(_0x4ef61a[_0x2b5cf6(0x47e)]=_0x2b5cf6(0x26c),_0x4ef61a['arg']=void 0x0,_0x37b610(_0x415971,_0x4ef61a),_0x2b5cf6(0x21d)===_0x4ef61a[_0x2b5cf6(0x47e)]))return _0x2e601f;_0x4ef61a[_0x2b5cf6(0x47e)]=_0x2b5cf6(0x21d),_0x4ef61a[_0x2b5cf6(0x42f)]=new TypeError(_0x2b5cf6(0x2db));}return _0x2e601f;}_0x4f4eec=_0x438e11(_0x4f4eec,_0x415971[_0x2b5cf6(0x29a)],_0x4ef61a[_0x2b5cf6(0x42f)]);if('throw'===_0x4f4eec[_0x2b5cf6(0x50c)])return _0x4ef61a['method']='throw',_0x4ef61a[_0x2b5cf6(0x42f)]=_0x4f4eec['arg'],_0x4ef61a['delegate']=null,_0x2e601f;return _0x4f4eec=_0x4f4eec['arg'],_0x4f4eec?_0x4f4eec[_0x2b5cf6(0x3e6)]?(_0x4ef61a[_0x415971[_0x2b5cf6(0x53b)]]=_0x4f4eec['value'],_0x4ef61a[_0x2b5cf6(0x500)]=_0x415971['nextLoc'],_0x2b5cf6(0x26c)!==_0x4ef61a['method']&&(_0x4ef61a[_0x2b5cf6(0x47e)]=_0x2b5cf6(0x500),_0x4ef61a['arg']=void 0x0),_0x4ef61a[_0x2b5cf6(0x290)]=null,_0x2e601f):_0x4f4eec:(_0x4ef61a['method']='throw',_0x4ef61a['arg']=new TypeError('iterator\\x20result\\x20is\\x20not\\x20an\\x20object'),_0x4ef61a[_0x2b5cf6(0x290)]=null,_0x2e601f);}(_0x219670,_0x3bf0ec);if(_0x219670){if(_0x219670===_0x2e601f)continue;return _0x219670;}}if(_0x3d6bd7(0x500)===_0x3bf0ec[_0x3d6bd7(0x47e)])_0x3bf0ec['sent']=_0x3bf0ec[_0x3d6bd7(0x2e5)]=_0x3bf0ec[_0x3d6bd7(0x42f)];else{if(_0x3d6bd7(0x21d)===_0x3bf0ec[_0x3d6bd7(0x47e)]){if('suspendedStart'===_0x346ee7)throw _0x346ee7=_0x3d6bd7(0x240),_0x3bf0ec['arg'];_0x3bf0ec[_0x3d6bd7(0x201)](_0x3bf0ec['arg']);}else _0x3d6bd7(0x26c)===_0x3bf0ec[_0x3d6bd7(0x47e)]&&_0x3bf0ec[_0x3d6bd7(0x413)]('return',_0x3bf0ec[_0x3d6bd7(0x42f)]);}_0x346ee7=_0x3d6bd7(0x223),_0x219670=_0x438e11(_0x5f70f1,_0x326a7d,_0x3bf0ec);if(_0x3d6bd7(0x2fe)===_0x219670[_0x3d6bd7(0x50c)]){if(_0x346ee7=_0x3bf0ec[_0x3d6bd7(0x3e6)]?'completed':_0x3d6bd7(0x499),_0x219670[_0x3d6bd7(0x42f)]===_0x2e601f)continue;return{'value':_0x219670[_0x3d6bd7(0x42f)],'done':_0x3bf0ec[_0x3d6bd7(0x3e6)]};}_0x3d6bd7(0x21d)===_0x219670['type']&&(_0x346ee7='completed',_0x3bf0ec[_0x3d6bd7(0x47e)]='throw',_0x3bf0ec['arg']=_0x219670[_0x3d6bd7(0x42f)]);}}),_0xdf225f;}function _0x438e11(_0xf71ceb,_0x2421fb,_0x119de7){var _0x186f7b=_0x5c588c;try{return{'type':_0x186f7b(0x2fe),'arg':_0xf71ceb[_0x186f7b(0x311)](_0x2421fb,_0x119de7)};}catch(_0x2c8b23){return{'type':_0x186f7b(0x21d),'arg':_0x2c8b23};}}_0x1cf6ba[_0x5c588c(0x398)]=_0x291ae3;var _0x2e601f={};function _0x20fb7f(){}function _0x556fec(){}function _0x156e85(){}var _0x2c4240={},_0x133298=(_0x533e29(_0x2c4240,_0x8f6e32,function(){return this;}),Object[_0x5c588c(0x24d)]),_0x133298=_0x133298&&_0x133298(_0x133298(_0x3a7058([]))),_0x3ab301=(_0x133298&&_0x133298!==_0x3249e2&&_0x435078[_0x5c588c(0x311)](_0x133298,_0x8f6e32)&&(_0x2c4240=_0x133298),_0x156e85[_0x5c588c(0x532)]=_0x20fb7f[_0x5c588c(0x532)]=Object[_0x5c588c(0x3e9)](_0x2c4240));function _0x5bbc10(_0x2aba93){var _0x5bff5e=_0x5c588c;[_0x5bff5e(0x500),_0x5bff5e(0x21d),_0x5bff5e(0x26c)][_0x5bff5e(0x247)](function(_0x5d214d){_0x533e29(_0x2aba93,_0x5d214d,function(_0x1c7ef4){return this['_invoke'](_0x5d214d,_0x1c7ef4);});});}function _0x15ae5d(_0x14f141,_0x563b13){var _0x355791=_0x5c588c,_0x4f1245;this[_0x355791(0x226)]=function(_0x3c097a,_0x1edb24){var _0x32218f=_0x355791;function _0x49214c(){return new _0x563b13(function(_0xdc74ce,_0x1322d2){!function _0x226bb5(_0x5d0dc3,_0x257a6a,_0x32a677,_0x30297a){var _0x3af315=a0_0x1593,_0x1d85fe,_0x5d0dc3=_0x438e11(_0x14f141[_0x5d0dc3],_0x14f141,_0x257a6a);if('throw'!==_0x5d0dc3['type'])return(_0x257a6a=(_0x1d85fe=_0x5d0dc3[_0x3af315(0x42f)])[_0x3af315(0x38a)])&&'object'==_0x40e387(_0x257a6a)&&_0x435078['call'](_0x257a6a,'__await')?_0x563b13[_0x3af315(0x51c)](_0x257a6a[_0x3af315(0x39f)])[_0x3af315(0x39e)](function(_0x3dd567){var _0x524ce3=_0x3af315;_0x226bb5(_0x524ce3(0x500),_0x3dd567,_0x32a677,_0x30297a);},function(_0x4eb35c){var _0x361cb4=_0x3af315;_0x226bb5(_0x361cb4(0x21d),_0x4eb35c,_0x32a677,_0x30297a);}):_0x563b13[_0x3af315(0x51c)](_0x257a6a)[_0x3af315(0x39e)](function(_0x321ee0){var _0x3c964e=_0x3af315;_0x1d85fe[_0x3c964e(0x38a)]=_0x321ee0,_0x32a677(_0x1d85fe);},function(_0x23c1ea){var _0x5498bf=_0x3af315;return _0x226bb5(_0x5498bf(0x21d),_0x23c1ea,_0x32a677,_0x30297a);});_0x30297a(_0x5d0dc3[_0x3af315(0x42f)]);}(_0x3c097a,_0x1edb24,_0xdc74ce,_0x1322d2);});}return _0x4f1245=_0x4f1245?_0x4f1245[_0x32218f(0x39e)](_0x49214c,_0x49214c):_0x49214c();};}function _0x7a42d7(_0x1f7a50){var _0x2ca759=_0x5c588c,_0x42011a={'tryLoc':_0x1f7a50[0x0]};0x1 in _0x1f7a50&&(_0x42011a['catchLoc']=_0x1f7a50[0x1]),0x2 in _0x1f7a50&&(_0x42011a['finallyLoc']=_0x1f7a50[0x2],_0x42011a[_0x2ca759(0x4a9)]=_0x1f7a50[0x3]),this[_0x2ca759(0x1e7)][_0x2ca759(0x51d)](_0x42011a);}function _0x148345(_0x2ca036){var _0x1131b6=_0x5c588c,_0x28960b=_0x2ca036[_0x1131b6(0x42e)]||{};_0x28960b['type']=_0x1131b6(0x2fe),delete _0x28960b[_0x1131b6(0x42f)],_0x2ca036[_0x1131b6(0x42e)]=_0x28960b;}function _0xe43bcf(_0x3726b4){var _0x479902=_0x5c588c;this[_0x479902(0x1e7)]=[{'tryLoc':_0x479902(0x4ac)}],_0x3726b4[_0x479902(0x247)](_0x7a42d7,this),this[_0x479902(0x33e)](!0x0);}function _0x3a7058(_0x3ae540){var _0x40d738=_0x5c588c;if(_0x3ae540){var _0x4900d4,_0x24da41=_0x3ae540[_0x8f6e32];if(_0x24da41)return _0x24da41['call'](_0x3ae540);if(_0x40d738(0x3d0)==typeof _0x3ae540[_0x40d738(0x500)])return _0x3ae540;if(!isNaN(_0x3ae540['length']))return _0x4900d4=-0x1,(_0x24da41=function _0x271e97(){var _0x6b212b=_0x40d738;for(;++_0x4900d4<_0x3ae540[_0x6b212b(0x4f1)];)if(_0x435078['call'](_0x3ae540,_0x4900d4))return _0x271e97[_0x6b212b(0x38a)]=_0x3ae540[_0x4900d4],_0x271e97[_0x6b212b(0x3e6)]=!0x1,_0x271e97;return _0x271e97[_0x6b212b(0x38a)]=void 0x0,_0x271e97[_0x6b212b(0x3e6)]=!0x0,_0x271e97;})[_0x40d738(0x500)]=_0x24da41;}return{'next':_0x5245cd};}function _0x5245cd(){return{'value':void 0x0,'done':!0x0};}return _0x533e29(_0x3ab301,_0x5c588c(0x2c2),_0x556fec[_0x5c588c(0x532)]=_0x156e85),_0x533e29(_0x156e85,_0x5c588c(0x2c2),_0x556fec),_0x556fec['displayName']=_0x533e29(_0x156e85,_0x51a062,_0x5c588c(0x1f1)),_0x1cf6ba[_0x5c588c(0x49f)]=function(_0x152c96){var _0x1889ed=_0x5c588c;return _0x152c96='function'==typeof _0x152c96&&_0x152c96[_0x1889ed(0x2c2)],!!_0x152c96&&(_0x152c96===_0x556fec||_0x1889ed(0x1f1)===(_0x152c96[_0x1889ed(0x3a3)]||_0x152c96[_0x1889ed(0x37c)]));},_0x1cf6ba[_0x5c588c(0x230)]=function(_0x18acf3){var _0x34a244=_0x5c588c;return Object[_0x34a244(0x437)]?Object[_0x34a244(0x437)](_0x18acf3,_0x156e85):(_0x18acf3[_0x34a244(0x515)]=_0x156e85,_0x533e29(_0x18acf3,_0x51a062,_0x34a244(0x1f1))),_0x18acf3[_0x34a244(0x532)]=Object['create'](_0x3ab301),_0x18acf3;},_0x1cf6ba['awrap']=function(_0xb9287a){return{'__await':_0xb9287a};},_0x5bbc10(_0x15ae5d[_0x5c588c(0x532)]),_0x533e29(_0x15ae5d[_0x5c588c(0x532)],_0x56c7d0,function(){return this;}),_0x1cf6ba['AsyncIterator']=_0x15ae5d,_0x1cf6ba[_0x5c588c(0x4fd)]=function(_0xa97d80,_0x103eec,_0x45af82,_0x312a80,_0x53f898){var _0x48ad8f=_0x5c588c;void 0x0===_0x53f898&&(_0x53f898=Promise);var _0x2d5244=new _0x15ae5d(_0x291ae3(_0xa97d80,_0x103eec,_0x45af82,_0x312a80),_0x53f898);return _0x1cf6ba[_0x48ad8f(0x49f)](_0x103eec)?_0x2d5244:_0x2d5244[_0x48ad8f(0x500)]()[_0x48ad8f(0x39e)](function(_0x1c8f28){var _0x3c8bc4=_0x48ad8f;return _0x1c8f28[_0x3c8bc4(0x3e6)]?_0x1c8f28['value']:_0x2d5244[_0x3c8bc4(0x500)]();});},_0x5bbc10(_0x3ab301),_0x533e29(_0x3ab301,_0x51a062,'Generator'),_0x533e29(_0x3ab301,_0x8f6e32,function(){return this;}),_0x533e29(_0x3ab301,_0x5c588c(0x258),function(){var _0xdaaddc=_0x5c588c;return _0xdaaddc(0x531);}),_0x1cf6ba[_0x5c588c(0x378)]=function(_0x3cbc03){var _0x58a5a9,_0x591a7f=[];for(_0x58a5a9 in _0x3cbc03)_0x591a7f['push'](_0x58a5a9);return _0x591a7f['reverse'](),function _0x435214(){var _0x6d544d=a0_0x1593;for(;_0x591a7f[_0x6d544d(0x4f1)];){var _0x9effb9=_0x591a7f[_0x6d544d(0x382)]();if(_0x9effb9 in _0x3cbc03)return _0x435214[_0x6d544d(0x38a)]=_0x9effb9,_0x435214['done']=!0x1,_0x435214;}return _0x435214[_0x6d544d(0x3e6)]=!0x0,_0x435214;};},_0x1cf6ba[_0x5c588c(0x225)]=_0x3a7058,_0xe43bcf[_0x5c588c(0x532)]={'constructor':_0xe43bcf,'reset':function(_0x4f715d){var _0x14334b=_0x5c588c;if(this[_0x14334b(0x4e1)]=0x0,this[_0x14334b(0x500)]=0x0,this[_0x14334b(0x20c)]=this[_0x14334b(0x2e5)]=void 0x0,this[_0x14334b(0x3e6)]=!0x1,this[_0x14334b(0x290)]=null,this[_0x14334b(0x47e)]='next',this['arg']=void 0x0,this['tryEntries'][_0x14334b(0x247)](_0x148345),!_0x4f715d){for(var _0xed6f80 in this)'t'===_0xed6f80['charAt'](0x0)&&_0x435078[_0x14334b(0x311)](this,_0xed6f80)&&!isNaN(+_0xed6f80[_0x14334b(0x28b)](0x1))&&(this[_0xed6f80]=void 0x0);}},'stop':function(){var _0x214cb4=_0x5c588c;this[_0x214cb4(0x3e6)]=!0x0;var _0x52d9e5=this[_0x214cb4(0x1e7)][0x0][_0x214cb4(0x42e)];if('throw'===_0x52d9e5[_0x214cb4(0x50c)])throw _0x52d9e5[_0x214cb4(0x42f)];return this[_0x214cb4(0x200)];},'dispatchException':function(_0x591ddf){var _0x5e4901=_0x5c588c;if(this[_0x5e4901(0x3e6)])throw _0x591ddf;var _0x4f45db=this;function _0x2fbb33(_0x10bfbb,_0x48391b){var _0x51472b=_0x5e4901;return _0x370176[_0x51472b(0x50c)]='throw',_0x370176[_0x51472b(0x42f)]=_0x591ddf,_0x4f45db[_0x51472b(0x500)]=_0x10bfbb,_0x48391b&&(_0x4f45db[_0x51472b(0x47e)]=_0x51472b(0x500),_0x4f45db[_0x51472b(0x42f)]=void 0x0),!!_0x48391b;}for(var _0x59331d=this[_0x5e4901(0x1e7)][_0x5e4901(0x4f1)]-0x1;0x0<=_0x59331d;--_0x59331d){var _0x56f9ca=this[_0x5e4901(0x1e7)][_0x59331d],_0x370176=_0x56f9ca[_0x5e4901(0x42e)];if('root'===_0x56f9ca[_0x5e4901(0x381)])return _0x2fbb33(_0x5e4901(0x30a));if(_0x56f9ca[_0x5e4901(0x381)]<=this['prev']){var _0x45a8d7=_0x435078[_0x5e4901(0x311)](_0x56f9ca,'catchLoc'),_0x3b24bf=_0x435078[_0x5e4901(0x311)](_0x56f9ca,'finallyLoc');if(_0x45a8d7&&_0x3b24bf){if(this[_0x5e4901(0x4e1)]<_0x56f9ca[_0x5e4901(0x325)])return _0x2fbb33(_0x56f9ca[_0x5e4901(0x325)],!0x0);if(this['prev']<_0x56f9ca['finallyLoc'])return _0x2fbb33(_0x56f9ca[_0x5e4901(0x24e)]);}else{if(_0x45a8d7){if(this[_0x5e4901(0x4e1)]<_0x56f9ca[_0x5e4901(0x325)])return _0x2fbb33(_0x56f9ca[_0x5e4901(0x325)],!0x0);}else{if(!_0x3b24bf)throw new Error('try\\x20statement\\x20without\\x20catch\\x20or\\x20finally');if(this[_0x5e4901(0x4e1)]<_0x56f9ca['finallyLoc'])return _0x2fbb33(_0x56f9ca['finallyLoc']);}}}}},'abrupt':function(_0x56ed36,_0x561db8){var _0x57d8b1=_0x5c588c;for(var _0x1b83ed=this['tryEntries'][_0x57d8b1(0x4f1)]-0x1;0x0<=_0x1b83ed;--_0x1b83ed){var _0x559693=this[_0x57d8b1(0x1e7)][_0x1b83ed];if(_0x559693[_0x57d8b1(0x381)]<=this[_0x57d8b1(0x4e1)]&&_0x435078['call'](_0x559693,_0x57d8b1(0x24e))&&this['prev']<_0x559693[_0x57d8b1(0x24e)]){var _0x323966=_0x559693;break;}}var _0x31dc02=(_0x323966=_0x323966&&(_0x57d8b1(0x335)===_0x56ed36||'continue'===_0x56ed36)&&_0x323966[_0x57d8b1(0x381)]<=_0x561db8&&_0x561db8<=_0x323966[_0x57d8b1(0x24e)]?null:_0x323966)?_0x323966[_0x57d8b1(0x42e)]:{};return _0x31dc02[_0x57d8b1(0x50c)]=_0x56ed36,_0x31dc02['arg']=_0x561db8,_0x323966?(this[_0x57d8b1(0x47e)]=_0x57d8b1(0x500),this[_0x57d8b1(0x500)]=_0x323966[_0x57d8b1(0x24e)],_0x2e601f):this[_0x57d8b1(0x4bd)](_0x31dc02);},'complete':function(_0x2f4825,_0x30f25f){var _0x5dad5f=_0x5c588c;if('throw'===_0x2f4825['type'])throw _0x2f4825[_0x5dad5f(0x42f)];return _0x5dad5f(0x335)===_0x2f4825[_0x5dad5f(0x50c)]||'continue'===_0x2f4825[_0x5dad5f(0x50c)]?this[_0x5dad5f(0x500)]=_0x2f4825[_0x5dad5f(0x42f)]:_0x5dad5f(0x26c)===_0x2f4825[_0x5dad5f(0x50c)]?(this[_0x5dad5f(0x200)]=this[_0x5dad5f(0x42f)]=_0x2f4825['arg'],this[_0x5dad5f(0x47e)]='return',this['next']=_0x5dad5f(0x30a)):_0x5dad5f(0x2fe)===_0x2f4825[_0x5dad5f(0x50c)]&&_0x30f25f&&(this[_0x5dad5f(0x500)]=_0x30f25f),_0x2e601f;},'finish':function(_0x2ba9b4){var _0x32fbaf=_0x5c588c;for(var _0x5e9c76=this[_0x32fbaf(0x1e7)][_0x32fbaf(0x4f1)]-0x1;0x0<=_0x5e9c76;--_0x5e9c76){var _0x5565a5=this[_0x32fbaf(0x1e7)][_0x5e9c76];if(_0x5565a5[_0x32fbaf(0x24e)]===_0x2ba9b4)return this[_0x32fbaf(0x4bd)](_0x5565a5[_0x32fbaf(0x42e)],_0x5565a5[_0x32fbaf(0x4a9)]),_0x148345(_0x5565a5),_0x2e601f;}},'catch':function(_0x215f9d){var _0x18ce69=_0x5c588c;for(var _0x37101f=this[_0x18ce69(0x1e7)][_0x18ce69(0x4f1)]-0x1;0x0<=_0x37101f;--_0x37101f){var _0x4418a7,_0x3a1b7e,_0x2ea67a=this[_0x18ce69(0x1e7)][_0x37101f];if(_0x2ea67a['tryLoc']===_0x215f9d)return _0x18ce69(0x21d)===(_0x4418a7=_0x2ea67a[_0x18ce69(0x42e)])[_0x18ce69(0x50c)]&&(_0x3a1b7e=_0x4418a7[_0x18ce69(0x42f)],_0x148345(_0x2ea67a)),_0x3a1b7e;}throw new Error('illegal\\x20catch\\x20attempt');},'delegateYield':function(_0x42863c,_0x5e73cc,_0x37ec2c){var _0x2755d1=_0x5c588c;return this[_0x2755d1(0x290)]={'iterator':_0x3a7058(_0x42863c),'resultName':_0x5e73cc,'nextLoc':_0x37ec2c},_0x2755d1(0x500)===this[_0x2755d1(0x47e)]&&(this[_0x2755d1(0x42f)]=void 0x0),_0x2e601f;}},_0x1cf6ba;}_0x26085d[_0x211884(0x237)]=_0x538fb2,_0x26085d[_0x211884(0x237)][_0x211884(0x4fb)]=!0x0,_0x26085d['exports'][_0x211884(0x54c)]=_0x26085d[_0x211884(0x237)];},0x2ba:_0xa7af5a=>{var _0x293180=a0_0x1593;function _0x4c4ea4(_0x1ea86b){var _0xe63ac7=a0_0x1593;return _0xa7af5a[_0xe63ac7(0x237)]=_0x4c4ea4=_0xe63ac7(0x3d0)==typeof Symbol&&'symbol'==typeof Symbol[_0xe63ac7(0x29a)]?function(_0x23fbef){return typeof _0x23fbef;}:function(_0x2d9276){var _0x399616=_0xe63ac7;return _0x2d9276&&_0x399616(0x3d0)==typeof Symbol&&_0x2d9276[_0x399616(0x2c2)]===Symbol&&_0x2d9276!==Symbol[_0x399616(0x532)]?_0x399616(0x44e):typeof _0x2d9276;},_0xa7af5a[_0xe63ac7(0x237)][_0xe63ac7(0x4fb)]=!0x0,_0xa7af5a[_0xe63ac7(0x237)][_0xe63ac7(0x54c)]=_0xa7af5a[_0xe63ac7(0x237)],_0x4c4ea4(_0x1ea86b);}_0xa7af5a['exports']=_0x4c4ea4,_0xa7af5a[_0x293180(0x237)][_0x293180(0x4fb)]=!0x0,_0xa7af5a[_0x293180(0x237)][_0x293180(0x54c)]=_0xa7af5a[_0x293180(0x237)];},0x2af:(_0x44ccaa,_0x169265,_0x2ebdd7)=>{var _0x50498b=a0_0x1593;_0x2ebdd7=_0x2ebdd7(0x3d)(),_0x44ccaa['exports']=_0x2ebdd7;try{regeneratorRuntime=_0x2ebdd7;}catch(_0x33d90f){'object'==typeof globalThis?globalThis[_0x50498b(0x4e9)]=_0x2ebdd7:Function('r',_0x50498b(0x212))(_0x2ebdd7);}}},_0x55ce50={};function _0x165a0a(_0x595555){var _0x69f8c4=a0_0x1593,_0x4d8375=_0x55ce50[_0x595555];if(void 0x0!==_0x4d8375)return _0x4d8375[_0x69f8c4(0x237)];return _0x4d8375=_0x55ce50[_0x595555]={'exports':{}},(_0x38a18c[_0x595555](_0x4d8375,_0x4d8375['exports'],_0x165a0a),_0x4d8375[_0x69f8c4(0x237)]);}_0x165a0a['n']=_0x43cacc=>{var _0x464277=a0_0x1593,_0x395b2d=_0x43cacc&&_0x43cacc[_0x464277(0x4fb)]?()=>_0x43cacc[_0x464277(0x54c)]:()=>_0x43cacc;return _0x165a0a['d'](_0x395b2d,{'a':_0x395b2d}),_0x395b2d;},_0x165a0a['d']=(_0x2cf797,_0xdffbaa)=>{var _0x13dbdc=a0_0x1593;for(var _0x392600 in _0xdffbaa)_0x165a0a['o'](_0xdffbaa,_0x392600)&&!_0x165a0a['o'](_0x2cf797,_0x392600)&&Object[_0x13dbdc(0x256)](_0x2cf797,_0x392600,{'enumerable':!0x0,'get':_0xdffbaa[_0x392600]});},_0x165a0a['o']=(_0x10deda,_0x4a6183)=>Object['prototype']['hasOwnProperty'][_0x52413b(0x311)](_0x10deda,_0x4a6183),((()=>{'use strict';var _0x99d5a2=_0x52413b;function _0x160316(_0x57d44c,_0x537f90){var _0x11fb93=a0_0x1593;if(!(_0x57d44c instanceof _0x537f90))throw new TypeError(_0x11fb93(0x3c9));}function _0x3a005f(_0x11ba05,_0x55594e){var _0x19292f=a0_0x1593;for(var _0x5cf8fa=0x0;_0x5cf8fa<_0x55594e[_0x19292f(0x4f1)];_0x5cf8fa++){var _0x1bd792=_0x55594e[_0x5cf8fa];_0x1bd792[_0x19292f(0x3ad)]=_0x1bd792['enumerable']||!0x1,_0x1bd792[_0x19292f(0x2f2)]=!0x0,_0x19292f(0x38a)in _0x1bd792&&(_0x1bd792['writable']=!0x0),Object[_0x19292f(0x256)](_0x11ba05,_0x1bd792[_0x19292f(0x543)],_0x1bd792);}}function _0x5a3b91(_0x333810,_0x4fca5d,_0x5c4de0){var _0x21a363=a0_0x1593;return _0x4fca5d&&_0x3a005f(_0x333810[_0x21a363(0x532)],_0x4fca5d),_0x5c4de0&&_0x3a005f(_0x333810,_0x5c4de0),Object[_0x21a363(0x256)](_0x333810,_0x21a363(0x532),{'writable':!0x1}),_0x333810;}var _0x5a306e=0x501,_0xa54871=0x502,_0x332ff6=0x505,_0x127bf2=0x507,_0x36832c=0x508,_0x566fd6=0x509,_0x14f925=0x516,_0x40926f=0x1,_0x3b95c4=0x2,_0xf574bd=0x3,_0x462c41=0x0,_0x4ebb4e=0x100,_0x4beee9=0x200,_0x316080=0x300,_0x1ae667=0x400,_0x17c71b=0x500,_0x3ccddf=0x600,_0x1a4011=0x700,_0x396f7c=0x800,_0x11da1d=0x900,_0x5357b0=0xa00,_0x367f2=0x1,_0x168627=0x2,_0x142076=0x4,_0x2802b6=0x8,_0x42215a=0x10,_0x3db8be=0x20,_0x4c7866=(function(){var _0x3be5b4=a0_0x1593;function _0x5cccce(_0x487370,_0x245cd9,_0x4b1046){var _0x3a56b5=a0_0x1593;_0x160316(this,_0x5cccce),this[_0x3a56b5(0x36f)]=0x0,this[_0x3a56b5(0x483)]=0x0,this[_0x3a56b5(0x48e)]=null,this[_0x3a56b5(0x36c)]=!0x0,this[_0x3a56b5(0x541)]=[],this['underflow']=!0x0,this[_0x3a56b5(0x4b5)]=_0x487370,this[_0x3a56b5(0x4d9)]=0x1e,this[_0x3a56b5(0x373)]=!0x1,this[_0x3a56b5(0x52b)]=0x2,this[_0x3a56b5(0x274)]=!0x1,this[_0x3a56b5(0x2e4)]=!0x1,this[_0x3a56b5(0x319)]=_0x245cd9,this['output']=this[_0x3a56b5(0x255)][_0x3a56b5(0x336)](this),this[_0x3a56b5(0x4c5)]=this[_0x3a56b5(0x4c5)][_0x3a56b5(0x336)](this),(this[_0x3a56b5(0x4c3)]=null)!=_0x4b1046&&(this['player']=_0x4b1046);}return _0x5a3b91(_0x5cccce,[{'key':_0x3be5b4(0x217),'value':function(){var _0x1bfaa8=_0x3be5b4,_0x315f09;null==this['decoderObj']&&(_0x315f09={'output':this[_0x1bfaa8(0x255)],'error':this[_0x1bfaa8(0x4c5)]},this[_0x1bfaa8(0x48e)]=new VideoDecoder(_0x315f09)),this[_0x1bfaa8(0x53c)]&&(this[_0x1bfaa8(0x53c)]=!0x1,setTimeout(this[_0x1bfaa8(0x319)][_0x1bfaa8(0x24f)](),0x0)),this[_0x1bfaa8(0x52b)]=0x2,this[_0x1bfaa8(0x36c)]=!0x0;}},{'key':_0x3be5b4(0x2cd),'value':function(_0x4898e1,_0x25c383){var _0x4009ca=_0x3be5b4;null==this[_0x4009ca(0x48e)]||_0x4009ca(0x468)!=this[_0x4009ca(0x48e)][_0x4009ca(0x234)]&&!this[_0x4009ca(0x36c)]||this[_0x4009ca(0x445)](_0x4898e1,_0x25c383),_0x25c383[_0x4009ca(0x209)]&&this[_0x4009ca(0x49c)]();}},{'key':_0x3be5b4(0x23a),'value':function(_0x3a042f){var _0x274cca=_0x3be5b4;for(var _0x94f198=0x0,_0x3516a7=arguments[_0x274cca(0x4f1)],_0x1054db=new Array(0x1<_0x3516a7?_0x3516a7-0x1:0x0),_0x2593b4=0x1;_0x2593b4<_0x3516a7;_0x2593b4++)_0x1054db[_0x2593b4-0x1]=arguments[_0x2593b4];for(var _0x17b83d=0x0,_0x444519=_0x1054db;_0x17b83d<_0x444519[_0x274cca(0x4f1)];_0x17b83d++)_0x94f198+=_0x444519[_0x17b83d][_0x274cca(0x4f1)];for(var _0x395dc0=new _0x3a042f(_0x94f198),_0x4b4718=0x0,_0x38c4b2=0x0,_0x2b40e5=_0x1054db;_0x38c4b2<_0x2b40e5[_0x274cca(0x4f1)];_0x38c4b2++){var _0x1a97d3=_0x2b40e5[_0x38c4b2];_0x395dc0[_0x274cca(0x2d5)](_0x1a97d3,_0x4b4718),_0x4b4718+=_0x1a97d3[_0x274cca(0x4f1)];}return _0x395dc0;}},{'key':_0x3be5b4(0x2cb),'value':function(_0x25fe69){var _0x16b581=_0x3be5b4;for(var _0x3796c9=null,_0xe3042f=null,_0x4339ac=null,_0x4d9965=!0x1,_0x2d93e5=!0x1,_0x3aa0b8=0x0,_0x43f3af=0x0;_0x43f3af<_0x25fe69[_0x16b581(0x4f1)]-0x4;_0x43f3af++){if(0x0!=_0x25fe69[_0x43f3af]||0x0!=_0x25fe69[_0x43f3af+0x1]||0x0!=_0x25fe69[_0x43f3af+0x2]||0x1!=_0x25fe69[_0x43f3af+0x3]||0x67!=_0x25fe69[_0x43f3af+0x4]&&0x27!=_0x25fe69[_0x43f3af+0x4]||(0x0!=_0x43f3af?(_0x2d93e5=!0x0,_0x3796c9=_0x25fe69[_0x16b581(0x28b)](_0x43f3af),_0x3aa0b8=_0x43f3af):_0x3796c9=_0x25fe69),0x0==_0x25fe69[_0x43f3af]&&0x0==_0x25fe69[_0x43f3af+0x1]&&0x0==_0x25fe69[_0x43f3af+0x2]&&0x1==_0x25fe69[_0x43f3af+0x3]&&(0x9==_0x25fe69[_0x43f3af+0x4]||0x6==_0x25fe69[_0x43f3af+0x4])){if(null==_0x3796c9)continue;null==_0xe3042f&&(_0xe3042f=_0x25fe69[_0x16b581(0x28b)](_0x3aa0b8,_0x43f3af),_0x4d9965=!0x0);}if(0x0==_0x25fe69[_0x43f3af]&&0x0==_0x25fe69[_0x43f3af+0x1]&&0x0==_0x25fe69[_0x43f3af+0x2]&&0x1==_0x25fe69[_0x43f3af+0x3]&&(0x65==_0x25fe69[_0x43f3af+0x4]||0x25==_0x25fe69[_0x43f3af+0x4])){_0x4d9965&&(_0x4339ac=_0x25fe69[_0x16b581(0x28b)](_0x43f3af));break;}}return _0x4d9965?this[_0x16b581(0x23a)](Uint8Array,_0xe3042f,_0x4339ac):_0x2d93e5?_0x3796c9:_0x25fe69;}},{'key':_0x3be5b4(0x4b3),'value':function(_0x54df6c){var _0x36d262=_0x3be5b4;return 0x0!=_0x54df6c[0x0]||0x0!=_0x54df6c[0x1]||0x0!=_0x54df6c[0x2]||0x1!=_0x54df6c[0x3]||0x9!=_0x54df6c[0x4]&&0x6!=_0x54df6c[0x4]?_0x54df6c:_0x54df6c[_0x36d262(0x28b)](0x5);}},{'key':_0x3be5b4(0x4d8),'value':function(_0x3ab890,_0x5eeb40,_0x12e401,_0x4d6ead){var _0x4260e0=_0x3be5b4,_0x5cb76c='';if(0x5==_0x5eeb40)_0x5cb76c=_0x4260e0(0x32b),console['log']('265\\x20hard\\x20decoder');else{if(0x100==_0x5eeb40){for(var _0x539fa4=0x0;_0x539fa4<_0x3ab890[_0x4260e0(0x4f1)];_0x539fa4++)if(0x67===_0x3ab890[_0x539fa4]||0x27===_0x3ab890[_0x539fa4]){for(var _0x14401e=_0x3ab890[_0x4260e0(0x54a)](_0x539fa4+0x1,_0x539fa4+0x4),_0x5cb76c=_0x4260e0(0x366),_0x4a51d5=0x0;_0x4a51d5<0x3;_0x4a51d5++){var _0x32d419=_0x14401e[_0x4a51d5][_0x4260e0(0x258)](0x10);_0x5cb76c+=_0x32d419=_0x32d419[_0x4260e0(0x4f1)]<0x2?'0'+_0x32d419:_0x32d419;}break;}console[_0x4260e0(0x514)](_0x4260e0(0x44d));}else console[_0x4260e0(0x514)](_0x4260e0(0x38e));}var _0x276311={'codec':_0x5cb76c,'hardwareAcceleration':'prefer-hardware','optimizeForLatency':0x1};return 0x5!=_0x5eeb40&&this[_0x4260e0(0x373)]&&(_0x276311[_0x4260e0(0x1ec)]=_0x4260e0(0x545)),_0x276311;}},{'key':_0x3be5b4(0x445),'value':function(_0x3072de,_0x4895a7){var _0x2ea637=_0x3be5b4;this[_0x2ea637(0x4d9)]!=_0x4895a7[_0x2ea637(0x4d9)]&&(this['frameRate']=_0x4895a7['frameRate']),this[_0x2ea637(0x36f)]!=_0x4895a7['width']&&(this[_0x2ea637(0x36f)]=_0x4895a7['width']),this[_0x2ea637(0x483)]!=_0x4895a7[_0x2ea637(0x483)]&&(this['height']=_0x4895a7['height']),_0x4895a7['needSetPreSoft']&&(this[_0x2ea637(0x373)]=_0x4895a7['needSetPreSoft']);var _0x926b73=_0x3072de;if(0x4!=this[_0x2ea637(0x52b)]&&null!=this[_0x2ea637(0x48e)]){if(_0x2ea637(0x468)==this[_0x2ea637(0x48e)][_0x2ea637(0x234)]){var _0x35a30d=new EncodedVideoChunk({'data':_0x926b73,'timestamp':_0x4895a7['timeStamp'],'type':_0x4895a7[_0x2ea637(0x243)]?_0x2ea637(0x543):_0x2ea637(0x369)});this[_0x2ea637(0x48e)][_0x2ea637(0x31f)](_0x35a30d),_0x3072de=_0x926b73=null,_0x4895a7[_0x2ea637(0x3fd)];}else{if(_0x4895a7[_0x2ea637(0x243)]&&_0x2ea637(0x30c)==this['decoderObj'][_0x2ea637(0x234)]){_0x35a30d=this[_0x2ea637(0x4d8)](_0x3072de,_0x4895a7[_0x2ea637(0x272)],_0x4895a7[_0x2ea637(0x36f)],_0x4895a7[_0x2ea637(0x483)]);if(''==_0x35a30d[_0x2ea637(0x2de)])return-0x1;this[_0x2ea637(0x48e)][_0x2ea637(0x4d2)](_0x35a30d),_0x926b73=this[_0x2ea637(0x2cb)](_0x3072de),this[_0x2ea637(0x36c)]=!0x1,_0x35a30d=new EncodedVideoChunk({'data':_0x926b73,'timestamp':_0x4895a7[_0x2ea637(0x37a)],'type':_0x4895a7[_0x2ea637(0x243)]?'key':_0x2ea637(0x369)}),(this['decoderObj'][_0x2ea637(0x31f)](_0x35a30d),_0x926b73=null);}}}}},{'key':_0x3be5b4(0x255),'value':function(_0x23558e){var _0x41bbab=_0x3be5b4;_0x41bbab(0x468)==this[_0x41bbab(0x48e)]['state']?(_0x23558e[_0x41bbab(0x32a)],_0x23558e[_0x41bbab(0x316)],_0x23558e[_0x41bbab(0x4cc)],_0x23558e[_0x41bbab(0x455)],_0x23558e[_0x41bbab(0x436)],_0x23558e['duration'],_0x23558e[_0x41bbab(0x264)],this['ready_frames'][_0x41bbab(0x51d)](_0x23558e),this[_0x41bbab(0x274)]||(this['decoderOutSuccess']=!0x0)):_0x23558e[_0x41bbab(0x493)]();}},{'key':'output2','value':function(_0x16cc73){var _0x1b8693=_0x3be5b4,_0x5d44c7=this;_0x16cc73[_0x1b8693(0x264)],createImageBitmap(_0x16cc73)[_0x1b8693(0x39e)](function(_0x1186b0){var _0x5d79e5=_0x1b8693;_0x16cc73[_0x5d79e5(0x493)](),_0x5d44c7[_0x5d79e5(0x541)]['push'](_0x1186b0);});}},{'key':_0x3be5b4(0x4c5),'value':function(_0x2f2450){var _0x2ffcdb=_0x3be5b4;console[_0x2ffcdb(0x514)](_0x2ffcdb(0x50e)+_0x2f2450[_0x2ffcdb(0x435)]+_0x2ffcdb(0x284)+this[_0x2ffcdb(0x48e)][_0x2ffcdb(0x234)]+_0x2ffcdb(0x277)+this[_0x2ffcdb(0x4d9)]),this[_0x2ffcdb(0x274)]?this['decoderObjNeedReset']=!0x0:(this[_0x2ffcdb(0x319)]['HardDecodeError'](),console[_0x2ffcdb(0x514)](_0x2ffcdb(0x27c),_0x2ffcdb(0x309)));}},{'key':'destroyDecoder','value':function(){var _0x11d226=this;return new Promise(function(_0x217ecd,_0x176e35){var _0x46bbfd=a0_0x1593;_0x11d226[_0x46bbfd(0x29f)]()[_0x46bbfd(0x39e)](function(){var _0x435a5a=_0x46bbfd;null!=_0x11d226[_0x435a5a(0x48e)]&&('closed'!=_0x11d226[_0x435a5a(0x48e)][_0x435a5a(0x234)]&&_0x11d226[_0x435a5a(0x48e)][_0x435a5a(0x493)](),console[_0x435a5a(0x514)](_0x435a5a(0x1db)),_0x11d226[_0x435a5a(0x48e)]=null),_0x11d226[_0x435a5a(0x52b)]=0x4,_0x11d226['decoderOutSuccess']=!0x1,_0x11d226[_0x435a5a(0x36c)]=!0x0,_0x11d226[_0x435a5a(0x53c)]=!0x0,_0x11d226[_0x435a5a(0x373)]=!0x1,_0x11d226[_0x435a5a(0x2e4)]=!0x1,_0x217ecd();},function(){_0x176e35();});});}},{'key':_0x3be5b4(0x3b7),'value':function(){var _0x255f34=this;return new Promise(function(_0x45c248,_0x1d1555){var _0x35310e=a0_0x1593;_0x255f34[_0x35310e(0x409)]()[_0x35310e(0x39e)](function(){var _0x4decee=_0x35310e;_0x255f34[_0x4decee(0x217)](),console[_0x4decee(0x514)](_0x4decee(0x221),_0x4decee(0x4cf)),_0x45c248();},function(){_0x1d1555();});});}},{'key':_0x3be5b4(0x29f),'value':function(){var _0x2c6a8d=this;return new Promise(function(_0x41fb33,_0x422247){var _0x359386=a0_0x1593;for(var _0x39d4ff=_0x2c6a8d[_0x359386(0x541)][_0x359386(0x4f1)],_0x325315=0x0;_0x325315<_0x39d4ff;_0x325315++)_0x2c6a8d[_0x359386(0x541)][_0x359386(0x21b)]()[_0x359386(0x493)]();_0x2c6a8d['ready_frames'][_0x359386(0x21a)](0x0,_0x2c6a8d[_0x359386(0x541)][_0x359386(0x4f1)]),null!=_0x2c6a8d[_0x359386(0x48e)]&&_0x359386(0x468)==_0x2c6a8d[_0x359386(0x48e)][_0x359386(0x234)]&&_0x2c6a8d[_0x359386(0x48e)]['reset'](),_0x41fb33();});}},{'key':'SetStreamEnd','value':function(){var _0x59b11a=_0x3be5b4;return 0x0==this[_0x59b11a(0x48e)][_0x59b11a(0x25c)]&&0x0==this[_0x59b11a(0x541)]['length']&&(this[_0x59b11a(0x48e)][_0x59b11a(0x3fc)](),console[_0x59b11a(0x514)](_0x59b11a(0x3fc))),0x1;}}]),_0x5cccce;}()),_0x13949e={'SR_OK':0x1,'SR_ERR_NOT_SUPPORT':0x80000001,'SR_ERR_SUBPORT':0x80000002,'SR_ERR_ALLOC_MEMORY':0x80000003,'SR_ERR_CALL_ORDER':0x80000004,'SR_ERR_PARAM':0x80000005,'SR_ERR_CAPTURE':0x80000006,'SR_ERR_SUBPORT_FULL':0x80000007,'SR_ERR_SHADER':0x80000008,'SR_ERR_3D_MODEL':0x80000009,'SR_ERR_FONT':0x8000000a,'SR_ERR_MEMORY_LIMIT':0x8000000b,'SR_ERR_WEBGPU_RESOURCE':0x8000000c,'SR_ERR_CANVAS':0x8000000d,'SR_ERR_FREETYPE_INIT':0x8000000e,'SR_ERR_FREETYPE_RESOURCE':0x8000000f},_0x3468da={'SR_DE_NULL':0x0,'SR_DE_FISH_ORIGINAL':0x1,'SR_DE_FISH_PTZ_CEILING':0x2,'SR_DE_FISH_PTZ_FLOOR':0x3,'SR_DE_FISH_PTZ_WALL':0x4,'SR_DE_FISH_PANORAMA_CEILING_360':0x5,'SR_DE_FISH_PANORAMA_CEILING_180':0x6,'SR_DE_FISH_PANORAMA_FLOOR_360':0x7,'SR_DE_FISH_PANORAMA_FLOOR_180':0x8,'SR_DE_FISH_PANORAMA_WALL':0x9,'SR_DE_FISH_SEMISPHERE':0xa,'SR_DE_EAGLEEYE_SEMISPHERE':0xb,'SR_DE_EAGLEEYE_PLANE':0xc,'SR_DE_FISH_CYLINDER_CEILING':0xd,'SR_DE_FISH_CYLINDER_FLOOR':0xe,'SR_DE_FISH_CYLINDER_SPLIT_CEILING':0xf,'SR_DE_FISH_CYLINDER_SPLIT_FLOOR':0x10,'SR_DE_FISH_PLANET':0x11,'SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL':0x12,'SR_DE_FISH_ARCSPHERE_VERTICAL_WALL':0x13,'SR_DE_FISH_ANIMATION_SWITCH_CEILING':0x14,'SR_DE_FISH_ANIMATION_SWITCH_FLOOR':0x15,'SR_DE_PANORAMA_SPHERE':0x16,'SR_DE_PANORAMA_PLANET':0x17},_0x3c8826=0x0,_0x3b5c80=0x1,_0x1e8e38=0x2,_0x2b1fa6=0x3,_0x1d678a=0x4,_0x366953=0x0,_0xba837=0x1,_0x46c232=0x2,_0x30de30=0x1,_0x4d39af=0x2,_0x1ab3fe=0x3,_0x158a35=0x0,_0x3b9975=0x1,_0x17dd0b=0x1,_0x45c70b=0x2;function _0x238f72(_0x1f94be,_0x4c2316,_0x55dd03,_0x41bf55,_0x442097,_0x32a2f9,_0x4bd14b){var _0x31a54b=a0_0x1593;try{var _0xfd0406=_0x1f94be[_0x32a2f9](_0x4bd14b),_0x4cdea7=_0xfd0406['value'];}catch(_0x5cbe4a){return void _0x55dd03(_0x5cbe4a);}_0xfd0406[_0x31a54b(0x3e6)]?_0x4c2316(_0x4cdea7):Promise[_0x31a54b(0x51c)](_0x4cdea7)[_0x31a54b(0x39e)](_0x41bf55,_0x442097);}function _0x30bbb2(_0x27f3d4){return function(){var _0x1d80d6=this,_0x13ed0f=arguments;return new Promise(function(_0xdd49e4,_0x195185){var _0x2a3af2=_0x27f3d4['apply'](_0x1d80d6,_0x13ed0f);function _0x2a8370(_0x1cf860){var _0x56d8ef=a0_0x1593;_0x238f72(_0x2a3af2,_0xdd49e4,_0x195185,_0x2a8370,_0xcdbf4,_0x56d8ef(0x500),_0x1cf860);}function _0xcdbf4(_0x372d44){_0x238f72(_0x2a3af2,_0xdd49e4,_0x195185,_0x2a8370,_0xcdbf4,'throw',_0x372d44);}_0x2a8370(void 0x0);});};}var _0x5342a5,_0x4f76fc,_0x1bf079,_0x125374,_0x151f60,_0x2afdcd,_0x27d008=_0x165a0a(0x2af),_0x148935=_0x165a0a['n'](_0x27d008);function _0x88c779(_0x375065,_0x5b1587,_0x47584d){var _0xec6465=a0_0x1593;_0x5b1587 in _0x375065?Object[_0xec6465(0x256)](_0x375065,_0x5b1587,{'value':_0x47584d,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x375065[_0x5b1587]=_0x47584d;}function _0x49c293(_0x3e9167,_0x4b688c,_0x289973,_0x35cee1){var _0x57eb45=a0_0x1593;return _0x3e9167[_0x57eb45(0x27a)](0x0)<<0x18|_0x4b688c['charCodeAt'](0x0)<<0x10|_0x289973['charCodeAt'](0x0)<<0x8|_0x35cee1[_0x57eb45(0x27a)](0x0);}var _0x5338d8=null,_0x30397f=_0x5a3b91(function _0x2cabee(){var _0x4a2d1a=a0_0x1593;_0x160316(this,_0x2cabee),_0x88c779(this,_0x4a2d1a(0x297),(function(){var _0x46f26a=_0x30bbb2(_0x148935()['mark'](function _0x7f8ef5(_0x28b098,_0x12ede3,_0x510526){var _0x199de3=a0_0x1593,_0x3fe32f;return _0x148935()[_0x199de3(0x398)](function(_0x8885bf){var _0x326aaf=_0x199de3;for(;;)switch(_0x8885bf['prev']=_0x8885bf[_0x326aaf(0x500)]){case 0x0:null==_0x5338d8&&((_0x3fe32f=document[_0x326aaf(0x2d1)](_0x326aaf(0x4e4)))[_0x326aaf(0x50c)]=_0x326aaf(0x51a),_0x3fe32f[_0x326aaf(0x269)]=_0x28b098,_0x3fe32f[_0x326aaf(0x48f)]=function(){var _0x5f423f=_0x326aaf;window[_0x5f423f(0x1cd)]()[_0x5f423f(0x39e)](function(_0x3332e5){_0x5338d8=_0x3332e5,_0x12ede3(_0x510526);});},document[_0x326aaf(0x1d8)][_0x326aaf(0x359)](_0x3fe32f));case 0x1:case'end':return _0x8885bf[_0x326aaf(0x43b)]();}},_0x7f8ef5);}));return function(_0x57b552,_0x96c00c,_0x420f8c){var _0x4557ee=a0_0x1593;return _0x46f26a[_0x4557ee(0x4f6)](this,arguments);};}())),_0x88c779(this,_0x4a2d1a(0x2d0),function(_0x245364){var _0x3ceb1c=_0x4a2d1a;return _0x5338d8[_0x3ceb1c(0x33b)](_0x245364);}),_0x88c779(this,_0x4a2d1a(0x250),function(_0xc8abd8){var _0x22228d=_0x4a2d1a,_0x2183bf=[0x0],_0x2156ed=[0x0],_0x4faa39=[0x0];return _0x5338d8[_0x22228d(0x245)](_0xc8abd8[_0x22228d(0x336)],_0x2183bf,_0x2156ed,_0x4faa39),{'major':_0x2183bf[0x0],'minor':_0x2156ed[0x0],'patch':_0x4faa39[0x0]};}),_0x88c779(this,_0x4a2d1a(0x2bd),function(_0x596592){var _0x451f77=_0x4a2d1a;if(null!=_0x5338d8)return _0x5338d8[_0x451f77(0x444)](_0x596592[_0x451f77(0x336)]);}),_0x88c779(this,'Done_FreeType',function(_0x461db4){var _0x531b17=_0x4a2d1a;if(null!=_0x5338d8)return _0x5338d8[_0x531b17(0x2b4)](_0x461db4[_0x531b17(0x336)]);}),_0x88c779(this,'New_Memory_Face',function(_0x1966f3,_0x309c80,_0x407a37,_0x5f5ca6){var _0x227efd=_0x4a2d1a;if(null!=_0x5338d8)return _0x5338d8['FT_New_Memory_Face'](_0x1966f3[_0x227efd(0x336)],_0x309c80,_0x407a37,_0x5f5ca6['bind']);}),_0x88c779(this,_0x4a2d1a(0x278),function(_0x32d236){var _0xd0ed18=_0x4a2d1a;if(null!=_0x5338d8)return _0x5338d8[_0xd0ed18(0x34e)](_0x32d236['bind']);}),_0x88c779(this,_0x4a2d1a(0x3e2),function(_0x4be041,_0x50855c){var _0x3c5c5b=_0x4a2d1a;if(null!=_0x5338d8)return _0x5338d8[_0x3c5c5b(0x4ec)](_0x4be041[_0x3c5c5b(0x336)],_0x50855c);}),_0x88c779(this,'Load_Char',function(_0x14a803,_0x5a9937){var _0x589e80=_0x4a2d1a,_0x2c062b=0x2<arguments['length']&&void 0x0!==arguments[0x2]?arguments[0x2]:_0x151f60[_0x589e80(0x401)];if(null!=_0x5338d8)return _0x5338d8[_0x589e80(0x537)](_0x14a803[_0x589e80(0x336)],_0x5a9937,_0x2c062b);}),_0x88c779(this,_0x4a2d1a(0x4b0),function(_0xfa7ad0,_0x40f563,_0x4bb0d8,_0x2492ab,_0x349dd2){var _0x2b4145=_0x4a2d1a;if(null!=_0x5338d8)return _0x5338d8['FT_Set_Char_Size'](_0xfa7ad0[_0x2b4145(0x336)],_0x40f563,_0x4bb0d8,_0x2492ab,_0x349dd2);}),_0x88c779(this,'Set_Pixel_Size',function(_0x47a1cc,_0x197740,_0x29f552){var _0x20300e=_0x4a2d1a;if(null!=_0x5338d8)return _0x5338d8[_0x20300e(0x397)](_0x47a1cc[_0x20300e(0x336)],_0x197740,_0x29f552);}),_0x88c779(this,_0x4a2d1a(0x4af),function(_0x57f635){var _0x50b595=_0x4a2d1a,_0x45887b=0x1<arguments[_0x50b595(0x4f1)]&&void 0x0!==arguments[0x1]?arguments[0x1]:_0x2afdcd[_0x50b595(0x4da)];if(null!=_0x5338d8)return _0x5338d8[_0x50b595(0x4cb)](_0x57f635,_0x45887b);}),_0x88c779(this,_0x4a2d1a(0x23c),function(_0x2be896,_0xe07356,_0x46fa75,_0x63996d){var _0x38d24a=_0x4a2d1a,_0x17e511=0x4<arguments[_0x38d24a(0x4f1)]&&void 0x0!==arguments[0x4]?arguments[0x4]:new _0x4f76fc();if(null!=_0x5338d8)return _0x5338d8[_0x38d24a(0x47d)](_0x2be896[_0x38d24a(0x336)],_0xe07356,_0x46fa75,_0x63996d,_0x17e511);}),_0x88c779(this,_0x4a2d1a(0x318),function(_0x5e1d6e,_0x2178f9,_0x252d9f){var _0xb220df=_0x4a2d1a;if(null!=_0x5338d8)return _0x5338d8[_0xb220df(0x387)](_0x5e1d6e,_0x2178f9,_0x252d9f);});}),_0xe651be=((_0x27d008=_0x5342a5=_0x5342a5||{})[_0x27d008['Ok']=0x0]='Ok',_0x27d008[_0x27d008[_0x99d5a2(0x35f)]=0x1]=_0x99d5a2(0x35f),_0x27d008[_0x27d008[_0x99d5a2(0x2eb)]=0x2]=_0x99d5a2(0x2eb),_0x27d008[_0x27d008[_0x99d5a2(0x2d9)]=0x3]='Invalid_File_Format',_0x27d008[_0x27d008[_0x99d5a2(0x291)]=0x4]='Invalid_Version',_0x27d008[_0x27d008[_0x99d5a2(0x244)]=0x5]='Lower_Module_Version',_0x27d008[_0x27d008['Invalid_Argument']=0x6]=_0x99d5a2(0x3f0),_0x27d008[_0x27d008['Unimplemented_Feature']=0x7]=_0x99d5a2(0x322),_0x27d008[_0x27d008[_0x99d5a2(0x4ae)]=0x8]='Invalid_Table',_0x27d008[_0x27d008[_0x99d5a2(0x328)]=0x9]=_0x99d5a2(0x328),_0x27d008[_0x27d008[_0x99d5a2(0x2ff)]=0xa]=_0x99d5a2(0x2ff),_0x27d008[_0x27d008[_0x99d5a2(0x3dc)]=0xb]=_0x99d5a2(0x3dc),_0x27d008[_0x27d008[_0x99d5a2(0x219)]=0xc]='Missing_Property',_0x27d008[_0x27d008[_0x99d5a2(0x48b)]=0x10]=_0x99d5a2(0x48b),_0x27d008[_0x27d008['Invalid_Character_Code']=0x11]=_0x99d5a2(0x2fa),_0x27d008[_0x27d008[_0x99d5a2(0x481)]=0x12]='Invalid_Glyph_Format',_0x27d008[_0x27d008['Cannot_Render_Glyph']=0x13]=_0x99d5a2(0x508),_0x27d008[_0x27d008['Invalid_Outline']=0x14]='Invalid_Outline',_0x27d008[_0x27d008['Invalid_Composite']=0x15]=_0x99d5a2(0x4c1),_0x27d008[_0x27d008[_0x99d5a2(0x4d0)]=0x16]=_0x99d5a2(0x4d0),_0x27d008[_0x27d008[_0x99d5a2(0x261)]=0x17]=_0x99d5a2(0x261),_0x27d008[_0x27d008[_0x99d5a2(0x2ef)]=0x20]=_0x99d5a2(0x2ef),_0x27d008[_0x27d008['Invalid_Library_Handle']=0x21]=_0x99d5a2(0x473),_0x27d008[_0x27d008['Invalid_Driver_Handle']=0x22]='Invalid_Driver_Handle',_0x27d008[_0x27d008[_0x99d5a2(0x463)]=0x23]=_0x99d5a2(0x463),_0x27d008[_0x27d008['Invalid_Size_Handle']=0x24]='Invalid_Size_Handle',_0x27d008[_0x27d008[_0x99d5a2(0x1ce)]=0x25]=_0x99d5a2(0x1ce),_0x27d008[_0x27d008[_0x99d5a2(0x47a)]=0x26]=_0x99d5a2(0x47a),_0x27d008[_0x27d008[_0x99d5a2(0x38c)]=0x27]=_0x99d5a2(0x38c),_0x27d008[_0x27d008[_0x99d5a2(0x421)]=0x28]='Invalid_Stream_Handle',_0x27d008[_0x27d008[_0x99d5a2(0x466)]=0x30]=_0x99d5a2(0x466),_0x27d008[_0x27d008[_0x99d5a2(0x204)]=0x31]=_0x99d5a2(0x204),_0x27d008[_0x27d008[_0x99d5a2(0x426)]=0x40]=_0x99d5a2(0x426),_0x27d008[_0x27d008[_0x99d5a2(0x46e)]=0x41]='Unlisted_Object',_0x27d008[_0x27d008[_0x99d5a2(0x474)]=0x51]='Cannot_Open_Stream',_0x27d008[_0x27d008[_0x99d5a2(0x4ea)]=0x52]=_0x99d5a2(0x4ea),_0x27d008[_0x27d008[_0x99d5a2(0x253)]=0x53]='Invalid_Stream_Skip',_0x27d008[_0x27d008[_0x99d5a2(0x467)]=0x54]='Invalid_Stream_Read',_0x27d008[_0x27d008[_0x99d5a2(0x3c7)]=0x55]=_0x99d5a2(0x3c7),_0x27d008[_0x27d008[_0x99d5a2(0x44f)]=0x56]='Invalid_Frame_Operation',_0x27d008[_0x27d008[_0x99d5a2(0x23e)]=0x57]=_0x99d5a2(0x23e),_0x27d008[_0x27d008[_0x99d5a2(0x1d1)]=0x58]=_0x99d5a2(0x1d1),_0x27d008[_0x27d008[_0x99d5a2(0x411)]=0x60]=_0x99d5a2(0x411),_0x27d008[_0x27d008[_0x99d5a2(0x424)]=0x61]=_0x99d5a2(0x424),_0x27d008[_0x27d008[_0x99d5a2(0x43f)]=0x62]=_0x99d5a2(0x43f),_0x27d008[_0x27d008[_0x99d5a2(0x472)]=0x63]=_0x99d5a2(0x472),_0x27d008[_0x27d008[_0x99d5a2(0x33f)]=0x70]='Too_Many_Caches',_0x27d008[_0x27d008[_0x99d5a2(0x3de)]=0x80]=_0x99d5a2(0x3de),_0x27d008[_0x27d008[_0x99d5a2(0x1e8)]=0x81]='Too_Few_Arguments',_0x27d008[_0x27d008[_0x99d5a2(0x298)]=0x82]=_0x99d5a2(0x298),_0x27d008[_0x27d008['Code_Overflow']=0x83]=_0x99d5a2(0x26e),_0x27d008[_0x27d008['Bad_Argument']=0x84]='Bad_Argument',_0x27d008[_0x27d008[_0x99d5a2(0x25d)]=0x85]='Divide_By_Zero',_0x27d008[_0x27d008['Invalid_Reference']=0x86]=_0x99d5a2(0x282),_0x27d008[_0x27d008['Debug_OpCode']=0x87]=_0x99d5a2(0x385),_0x27d008[_0x27d008[_0x99d5a2(0x27f)]=0x88]=_0x99d5a2(0x27f),_0x27d008[_0x27d008[_0x99d5a2(0x2b1)]=0x89]=_0x99d5a2(0x2b1),_0x27d008[_0x27d008[_0x99d5a2(0x37e)]=0x8a]=_0x99d5a2(0x37e),_0x27d008[_0x27d008[_0x99d5a2(0x2ca)]=0x8b]=_0x99d5a2(0x2ca),_0x27d008[_0x27d008[_0x99d5a2(0x452)]=0x8c]=_0x99d5a2(0x452),_0x27d008[_0x27d008[_0x99d5a2(0x43c)]=0x8d]=_0x99d5a2(0x43c),_0x27d008[_0x27d008['Table_Missing']=0x8e]=_0x99d5a2(0x295),_0x27d008[_0x27d008['Horiz_Header_Missing']=0x8f]=_0x99d5a2(0x346),_0x27d008[_0x27d008[_0x99d5a2(0x494)]=0x90]=_0x99d5a2(0x494),_0x27d008[_0x27d008[_0x99d5a2(0x20f)]=0x91]=_0x99d5a2(0x20f),_0x27d008[_0x27d008['CMap_Table_Missing']=0x92]=_0x99d5a2(0x2a0),_0x27d008[_0x27d008['Hmtx_Table_Missing']=0x93]=_0x99d5a2(0x374),_0x27d008[_0x27d008[_0x99d5a2(0x4f4)]=0x94]=_0x99d5a2(0x4f4),_0x27d008[_0x27d008[_0x99d5a2(0x384)]=0x95]=_0x99d5a2(0x384),_0x27d008[_0x27d008['Invalid_CharMap_Format']=0x96]=_0x99d5a2(0x44c),_0x27d008[_0x27d008[_0x99d5a2(0x35a)]=0x97]='Invalid_PPem',_0x27d008[_0x27d008[_0x99d5a2(0x2d6)]=0x98]=_0x99d5a2(0x2d6),_0x27d008[_0x27d008[_0x99d5a2(0x471)]=0x99]=_0x99d5a2(0x471),_0x27d008[_0x27d008[_0x99d5a2(0x3a2)]=0x9a]='Invalid_Post_Table_Format',_0x27d008[_0x27d008[_0x99d5a2(0x3cf)]=0x9b]=_0x99d5a2(0x3cf),_0x27d008[_0x27d008[_0x99d5a2(0x42a)]=0x9c]='DEF_In_Glyf_Bytecode',_0x27d008[_0x27d008['Missing_Bitmap']=0x9d]=_0x99d5a2(0x456),_0x27d008[_0x27d008['Syntax_Error']=0xa0]=_0x99d5a2(0x31c),_0x27d008[_0x27d008[_0x99d5a2(0x1d7)]=0xa1]=_0x99d5a2(0x1d7),_0x27d008[_0x27d008[_0x99d5a2(0x2f7)]=0xa2]=_0x99d5a2(0x2f7),_0x27d008[_0x27d008[_0x99d5a2(0x24c)]=0xa3]=_0x99d5a2(0x24c),_0x27d008[_0x27d008[_0x99d5a2(0x333)]=0xa4]=_0x99d5a2(0x333),_0x27d008[_0x27d008['Missing_Startfont_Field']=0xb0]=_0x99d5a2(0x239),_0x27d008[_0x27d008[_0x99d5a2(0x3b9)]=0xb1]=_0x99d5a2(0x3b9),_0x27d008[_0x27d008[_0x99d5a2(0x23b)]=0xb2]=_0x99d5a2(0x23b),_0x27d008[_0x27d008[_0x99d5a2(0x1f4)]=0xb3]=_0x99d5a2(0x1f4),_0x27d008[_0x27d008[_0x99d5a2(0x2a5)]=0xb4]=_0x99d5a2(0x2a5),_0x27d008[_0x27d008['Missing_Startchar_Field']=0xb5]=_0x99d5a2(0x2f8),_0x27d008[_0x27d008[_0x99d5a2(0x35d)]=0xb6]=_0x99d5a2(0x35d),_0x27d008[_0x27d008[_0x99d5a2(0x377)]=0xb7]=_0x99d5a2(0x377),_0x27d008[_0x27d008['Bbx_Too_Big']=0xb8]=_0x99d5a2(0x449),_0x27d008[_0x27d008['Corrupted_Font_Header']=0xb9]=_0x99d5a2(0x242),_0x27d008[_0x27d008[_0x99d5a2(0x4d3)]=0xba]=_0x99d5a2(0x4d3),(_0x27d008={'NONE':0x0,0x0:_0x99d5a2(0x1da)})[_0x27d008[_0x99d5a2(0x20b)]=_0x49c293('c','o','m','p')]=_0x99d5a2(0x20b),_0x27d008[_0x27d008['BITMAP']=_0x49c293('b','i','t','s')]=_0x99d5a2(0x293),_0x27d008[_0x27d008['OUTLINE']=_0x49c293('o','u','t','l')]='OUTLINE',_0x27d008[_0x27d008[_0x99d5a2(0x35c)]=_0x49c293('p','l','o','t')]=_0x99d5a2(0x35c),_0x4f76fc=_0x5a3b91(function _0x5bad77(){_0x160316(this,_0x5bad77),this['x']=0x0,this['y']=0x0;}),0x0,_0x1bf079=(function(){var _0x59149e=_0x99d5a2;function _0x357cc6(){var _0x4b32e4=a0_0x1593;_0x160316(this,_0x357cc6),this[_0x4b32e4(0x336)]=[null];}return _0x5a3b91(_0x357cc6,[{'key':'init','value':function(){var _0x2436b6=a0_0x1593,_0x2255c7=bind[_0x2436b6(0x444)](this['bind']);if(_0x2255c7!==_0x5342a5['Ok'])throw new Error(_0x2436b6(0x535)+_0x2255c7[_0x2436b6(0x258)]());}},{'key':_0x59149e(0x3e6),'value':function(){var _0x5ed2d1=_0x59149e,_0x4e4cf2=bind[_0x5ed2d1(0x2b4)](this[_0x5ed2d1(0x336)]);if(_0x4e4cf2!==_0x5342a5['Ok'])throw new Error(_0x5ed2d1(0x1f3)+_0x4e4cf2[_0x5ed2d1(0x258)]());}}]),_0x357cc6;}()),_0x125374=(function(){var _0x22397f=_0x99d5a2;function _0x4b0363(){var _0x2e1c61=a0_0x1593;_0x160316(this,_0x4b0363),this[_0x2e1c61(0x336)]=[null];}return _0x5a3b91(_0x4b0363,[{'key':_0x22397f(0x4a8),'get':function(){if(null===this['bind'][0x0])throw new Error();return this['bind'][0x0];}},{'key':_0x22397f(0x3e4),'get':function(){return this['_bind']['num_faces'];}},{'key':_0x22397f(0x3bf),'get':function(){var _0x297487=_0x22397f;return this['_bind'][_0x297487(0x3bf)];}},{'key':_0x22397f(0x2e2),'get':function(){var _0x504c21=_0x22397f;return this[_0x504c21(0x4a8)]['face_flags'];}},{'key':'style_flags','get':function(){var _0x596e14=_0x22397f;return this[_0x596e14(0x4a8)][_0x596e14(0x403)];}},{'key':_0x22397f(0x211),'get':function(){var _0x5955ba=_0x22397f;return this[_0x5955ba(0x4a8)]['num_glyphs'];}},{'key':_0x22397f(0x30d),'get':function(){var _0x50edb9=_0x22397f;return this[_0x50edb9(0x4a8)][_0x50edb9(0x30d)];}},{'key':_0x22397f(0x521),'get':function(){var _0x42d7f=_0x22397f;return this[_0x42d7f(0x4a8)][_0x42d7f(0x521)];}},{'key':_0x22397f(0x1e0),'get':function(){var _0x35e165=_0x22397f;return this[_0x35e165(0x4a8)][_0x35e165(0x1e0)];}},{'key':_0x22397f(0x2c5),'get':function(){var _0x555a50=_0x22397f;return this[_0x555a50(0x4a8)][_0x555a50(0x2c5)];}},{'key':_0x22397f(0x476),'get':function(){var _0x13fa38=_0x22397f;return this[_0x13fa38(0x4a8)][_0x13fa38(0x476)];}},{'key':_0x22397f(0x301),'get':function(){var _0x3799c9=_0x22397f;return this[_0x3799c9(0x4a8)]['descender'];}},{'key':_0x22397f(0x483),'get':function(){var _0x1d2220=_0x22397f;return this['_bind'][_0x1d2220(0x483)];}},{'key':'max_advance_width','get':function(){var _0x105daa=_0x22397f;return this['_bind'][_0x105daa(0x496)];}},{'key':_0x22397f(0x22c),'get':function(){var _0x4e74f1=_0x22397f;return this[_0x4e74f1(0x4a8)][_0x4e74f1(0x22c)];}},{'key':_0x22397f(0x549),'get':function(){var _0x181e20=_0x22397f;return this[_0x181e20(0x4a8)]['underline_position'];}},{'key':'underline_thickness','get':function(){var _0xa2b222=_0x22397f;return this['_bind'][_0xa2b222(0x28e)];}},{'key':_0x22397f(0x43e),'get':function(){var _0x531177=_0x22397f;return this[_0x531177(0x4a8)][_0x531177(0x43e)];}}]),_0x4b0363;}()),(_0x27d008=_0x151f60=_0x151f60||{})[_0x27d008[_0x99d5a2(0x401)]=0x0]=_0x99d5a2(0x401),_0x27d008[_0x27d008['NO_SCALE']=0x1]=_0x99d5a2(0x4f7),_0x27d008[_0x27d008[_0x99d5a2(0x32e)]=0x2]=_0x99d5a2(0x32e),_0x27d008[_0x27d008[_0x99d5a2(0x2ec)]=0x4]=_0x99d5a2(0x2ec),_0x27d008[_0x27d008[_0x99d5a2(0x3ac)]=0x8]='NO_BITMAP',_0x27d008[_0x27d008[_0x99d5a2(0x233)]=0x10]=_0x99d5a2(0x233),_0x27d008[_0x27d008[_0x99d5a2(0x1d5)]=0x20]=_0x99d5a2(0x1d5),_0x27d008[_0x27d008[_0x99d5a2(0x372)]=0x40]='CROP_BITMAP',_0x27d008[_0x27d008[_0x99d5a2(0x461)]=0x80]='PEDANTIC',_0x27d008[_0x27d008[_0x99d5a2(0x308)]=0x200]=_0x99d5a2(0x308),_0x27d008[_0x27d008[_0x99d5a2(0x25b)]=0x400]=_0x99d5a2(0x25b),_0x27d008[_0x27d008[_0x99d5a2(0x418)]=0x800]='IGNORE_TRANSFORM',_0x27d008[_0x27d008[_0x99d5a2(0x389)]=0x1000]='MONOCHROME',_0x27d008[_0x27d008[_0x99d5a2(0x518)]=0x2000]='LINEAR_DESIGN',_0x27d008[_0x27d008['NO_AUTOHINT']=0x8000]=_0x99d5a2(0x4ca),_0x27d008[_0x27d008[_0x99d5a2(0x30b)]=0x100000]=_0x99d5a2(0x30b),_0x27d008[_0x27d008[_0x99d5a2(0x428)]=0x200000]=_0x99d5a2(0x428),_0x27d008[_0x27d008[_0x99d5a2(0x1f9)]=0x400000]='BITMAP_METRICS_ONLY',_0x27d008[_0x27d008[_0x99d5a2(0x29d)]=0x100]=_0x99d5a2(0x29d),_0x27d008[_0x27d008[_0x99d5a2(0x365)]=0x4000]=_0x99d5a2(0x365),(_0x27d008=_0x2afdcd=_0x2afdcd||{})[_0x27d008['NORMAL']=0x0]=_0x99d5a2(0x4da),_0x27d008[_0x27d008[_0x99d5a2(0x49b)]=0x1]=_0x99d5a2(0x49b),_0x27d008[_0x27d008[_0x99d5a2(0x2b5)]=0x2]=_0x99d5a2(0x2b5),_0x27d008[_0x27d008[_0x99d5a2(0x1f0)]=0x3]='LCD',_0x27d008[_0x27d008[_0x99d5a2(0x315)]=0x4]=_0x99d5a2(0x315),_0x27d008[_0x27d008[_0x99d5a2(0x42c)]=0x5]=_0x99d5a2(0x42c),0x0,_0x99d5a2(0x512)),_0x5971cc=_0x99d5a2(0x443),_0x466d10='\\x0a\\x20\\x20\\x20\\x20varying\\x20\\x20mediump\\x20float\\x20pp;\\x0a\\x20\\x20\\x20\\x20varying\\x20\\x20lowp\\x20vec4\\x20\\x20colorOut;\\x0a\\x20\\x20\\x20\\x20void\\x20main()\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20colorOut;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20mediump\\x20float\\x20fx\\x20=\\x20abs(pp);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if\\x20(fx\\x20>\\x200.2)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_FragColor.a\\x20=\\x20colorOut.a*(1.25\\x20-\\x201.25*fx);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x20\\x0a\\x20\\x20\\x20\\x20}\\x20\\x0a',_0x473777=0.05,_0x3e9a49=0.000001,_0x48e6bf=3.1415926,_0x479a0f=0.78539815,_0x1ec236=0.000001,_0x1096f2=_0x99d5a2(0x294)!=typeof Float32Array?Float32Array:Array;Math['random'],Math['PI'],Math['hypot']||(Math['hypot']=function(){var _0x2f0633=_0x99d5a2;for(var _0x502a4a=0x0,_0x2dc010=arguments[_0x2f0633(0x4f1)];_0x2dc010--;)_0x502a4a+=arguments[_0x2dc010]*arguments[_0x2dc010];return Math[_0x2f0633(0x41c)](_0x502a4a);});function _0x1189d8(){var _0x1dc269=new _0x1096f2(0x10);return _0x1096f2!=Float32Array&&(_0x1dc269[0x1]=0x0,_0x1dc269[0x2]=0x0,_0x1dc269[0x3]=0x0,_0x1dc269[0x4]=0x0,_0x1dc269[0x6]=0x0,_0x1dc269[0x7]=0x0,_0x1dc269[0x8]=0x0,_0x1dc269[0x9]=0x0,_0x1dc269[0xb]=0x0,_0x1dc269[0xc]=0x0,_0x1dc269[0xd]=0x0,_0x1dc269[0xe]=0x0),_0x1dc269[0x0]=0x1,_0x1dc269[0x5]=0x1,_0x1dc269[0xa]=0x1,_0x1dc269[0xf]=0x1,_0x1dc269;}function _0x28ce33(_0x2d7c40,_0x56ab10,_0x209785){var _0x2bb9d0=_0x56ab10[0x0],_0x1439e6=_0x56ab10[0x1],_0x142a16=_0x56ab10[0x2],_0x1ab07e=_0x56ab10[0x3],_0x31345e=_0x56ab10[0x4],_0x39d9f0=_0x56ab10[0x5],_0x15d623=_0x56ab10[0x6],_0x27bf4a=_0x56ab10[0x7],_0x43d798=_0x56ab10[0x8],_0x2bbfd4=_0x56ab10[0x9],_0x9b149f=_0x56ab10[0xa],_0x3f48b3=_0x56ab10[0xb],_0x226daf=_0x56ab10[0xc],_0x54b94b=_0x56ab10[0xd],_0x5098e6=_0x56ab10[0xe],_0x56ab10=_0x56ab10[0xf],_0x490bfd=_0x209785[0x0],_0x1d5c1a=_0x209785[0x1],_0x251250=_0x209785[0x2],_0x17e8d9=_0x209785[0x3];return _0x2d7c40[0x0]=_0x490bfd*_0x2bb9d0+_0x1d5c1a*_0x31345e+_0x251250*_0x43d798+_0x17e8d9*_0x226daf,_0x2d7c40[0x1]=_0x490bfd*_0x1439e6+_0x1d5c1a*_0x39d9f0+_0x251250*_0x2bbfd4+_0x17e8d9*_0x54b94b,_0x2d7c40[0x2]=_0x490bfd*_0x142a16+_0x1d5c1a*_0x15d623+_0x251250*_0x9b149f+_0x17e8d9*_0x5098e6,_0x2d7c40[0x3]=_0x490bfd*_0x1ab07e+_0x1d5c1a*_0x27bf4a+_0x251250*_0x3f48b3+_0x17e8d9*_0x56ab10,_0x490bfd=_0x209785[0x4],_0x1d5c1a=_0x209785[0x5],_0x251250=_0x209785[0x6],_0x17e8d9=_0x209785[0x7],_0x2d7c40[0x4]=_0x490bfd*_0x2bb9d0+_0x1d5c1a*_0x31345e+_0x251250*_0x43d798+_0x17e8d9*_0x226daf,_0x2d7c40[0x5]=_0x490bfd*_0x1439e6+_0x1d5c1a*_0x39d9f0+_0x251250*_0x2bbfd4+_0x17e8d9*_0x54b94b,_0x2d7c40[0x6]=_0x490bfd*_0x142a16+_0x1d5c1a*_0x15d623+_0x251250*_0x9b149f+_0x17e8d9*_0x5098e6,_0x2d7c40[0x7]=_0x490bfd*_0x1ab07e+_0x1d5c1a*_0x27bf4a+_0x251250*_0x3f48b3+_0x17e8d9*_0x56ab10,_0x490bfd=_0x209785[0x8],_0x1d5c1a=_0x209785[0x9],_0x251250=_0x209785[0xa],_0x17e8d9=_0x209785[0xb],_0x2d7c40[0x8]=_0x490bfd*_0x2bb9d0+_0x1d5c1a*_0x31345e+_0x251250*_0x43d798+_0x17e8d9*_0x226daf,_0x2d7c40[0x9]=_0x490bfd*_0x1439e6+_0x1d5c1a*_0x39d9f0+_0x251250*_0x2bbfd4+_0x17e8d9*_0x54b94b,_0x2d7c40[0xa]=_0x490bfd*_0x142a16+_0x1d5c1a*_0x15d623+_0x251250*_0x9b149f+_0x17e8d9*_0x5098e6,_0x2d7c40[0xb]=_0x490bfd*_0x1ab07e+_0x1d5c1a*_0x27bf4a+_0x251250*_0x3f48b3+_0x17e8d9*_0x56ab10,_0x490bfd=_0x209785[0xc],_0x1d5c1a=_0x209785[0xd],_0x251250=_0x209785[0xe],_0x17e8d9=_0x209785[0xf],_0x2d7c40[0xc]=_0x490bfd*_0x2bb9d0+_0x1d5c1a*_0x31345e+_0x251250*_0x43d798+_0x17e8d9*_0x226daf,_0x2d7c40[0xd]=_0x490bfd*_0x1439e6+_0x1d5c1a*_0x39d9f0+_0x251250*_0x2bbfd4+_0x17e8d9*_0x54b94b,_0x2d7c40[0xe]=_0x490bfd*_0x142a16+_0x1d5c1a*_0x15d623+_0x251250*_0x9b149f+_0x17e8d9*_0x5098e6,_0x2d7c40[0xf]=_0x490bfd*_0x1ab07e+_0x1d5c1a*_0x27bf4a+_0x251250*_0x3f48b3+_0x17e8d9*_0x56ab10,_0x2d7c40;}function _0x4e0779(_0x4b7f1b,_0x3660fe,_0x16ba13,_0x269d9a){var _0x2834dd=_0x99d5a2,_0x52c017,_0x10b949,_0x5058ee,_0x2a7f13,_0x2b6f50,_0x1b5b36,_0x488897,_0x87dada,_0x5cae01,_0x11ff8d,_0x326684,_0x3f726e,_0x40cba0,_0x3a8a23,_0x4160d2,_0x55ef08,_0x5564ca,_0x5eb7ed,_0x575c15,_0x1df085,_0x3fc2c9=_0x269d9a[0x0],_0x2f5b6a=_0x269d9a[0x1],_0x269d9a=_0x269d9a[0x2],_0x17af05=Math[_0x2834dd(0x241)](_0x3fc2c9,_0x2f5b6a,_0x269d9a);_0x17af05<_0x1ec236||(_0x3fc2c9*=_0x17af05=0x1/_0x17af05,_0x2f5b6a*=_0x17af05,_0x269d9a*=_0x17af05,_0x17af05=Math['sin'](_0x16ba13),_0x16ba13=Math[_0x2834dd(0x34b)](_0x16ba13),_0x10b949=_0x3660fe[0x0],_0x5058ee=_0x3660fe[0x1],_0x2a7f13=_0x3660fe[0x2],_0x2b6f50=_0x3660fe[0x3],_0x1b5b36=_0x3660fe[0x4],_0x488897=_0x3660fe[0x5],_0x87dada=_0x3660fe[0x6],_0x5cae01=_0x3660fe[0x7],_0x11ff8d=_0x3660fe[0x8],_0x326684=_0x3660fe[0x9],_0x3f726e=_0x3660fe[0xa],_0x40cba0=_0x3660fe[0xb],_0x4160d2=_0x3fc2c9*_0x2f5b6a*(_0x52c017=0x1-_0x16ba13)-_0x269d9a*_0x17af05,_0x55ef08=_0x2f5b6a*_0x2f5b6a*_0x52c017+_0x16ba13,_0x5564ca=_0x269d9a*_0x2f5b6a*_0x52c017+_0x3fc2c9*_0x17af05,_0x5eb7ed=_0x3fc2c9*_0x269d9a*_0x52c017+_0x2f5b6a*_0x17af05,_0x575c15=_0x2f5b6a*_0x269d9a*_0x52c017-_0x3fc2c9*_0x17af05,_0x1df085=_0x269d9a*_0x269d9a*_0x52c017+_0x16ba13,_0x4b7f1b[0x0]=_0x10b949*(_0x16ba13=_0x3fc2c9*_0x3fc2c9*_0x52c017+_0x16ba13)+_0x1b5b36*(_0x3a8a23=_0x2f5b6a*_0x3fc2c9*_0x52c017+_0x269d9a*_0x17af05)+_0x11ff8d*(_0x269d9a=_0x269d9a*_0x3fc2c9*_0x52c017-_0x2f5b6a*_0x17af05),_0x4b7f1b[0x1]=_0x5058ee*_0x16ba13+_0x488897*_0x3a8a23+_0x326684*_0x269d9a,_0x4b7f1b[0x2]=_0x2a7f13*_0x16ba13+_0x87dada*_0x3a8a23+_0x3f726e*_0x269d9a,_0x4b7f1b[0x3]=_0x2b6f50*_0x16ba13+_0x5cae01*_0x3a8a23+_0x40cba0*_0x269d9a,_0x4b7f1b[0x4]=_0x10b949*_0x4160d2+_0x1b5b36*_0x55ef08+_0x11ff8d*_0x5564ca,_0x4b7f1b[0x5]=_0x5058ee*_0x4160d2+_0x488897*_0x55ef08+_0x326684*_0x5564ca,_0x4b7f1b[0x6]=_0x2a7f13*_0x4160d2+_0x87dada*_0x55ef08+_0x3f726e*_0x5564ca,_0x4b7f1b[0x7]=_0x2b6f50*_0x4160d2+_0x5cae01*_0x55ef08+_0x40cba0*_0x5564ca,_0x4b7f1b[0x8]=_0x10b949*_0x5eb7ed+_0x1b5b36*_0x575c15+_0x11ff8d*_0x1df085,_0x4b7f1b[0x9]=_0x5058ee*_0x5eb7ed+_0x488897*_0x575c15+_0x326684*_0x1df085,_0x4b7f1b[0xa]=_0x2a7f13*_0x5eb7ed+_0x87dada*_0x575c15+_0x3f726e*_0x1df085,_0x4b7f1b[0xb]=_0x2b6f50*_0x5eb7ed+_0x5cae01*_0x575c15+_0x40cba0*_0x1df085,_0x3660fe!==_0x4b7f1b&&(_0x4b7f1b[0xc]=_0x3660fe[0xc],_0x4b7f1b[0xd]=_0x3660fe[0xd],_0x4b7f1b[0xe]=_0x3660fe[0xe],_0x4b7f1b[0xf]=_0x3660fe[0xf]));}var _0x1b7aa6=function(_0x52d41e,_0x5c0ec5,_0x20391b,_0x42750a,_0x3b24cb){var _0x171452=_0x99d5a2;return _0x5c0ec5=0x1/Math[_0x171452(0x343)](_0x5c0ec5/0x2),_0x52d41e[0x0]=_0x5c0ec5/_0x20391b,_0x52d41e[0x1]=0x0,_0x52d41e[0x2]=0x0,_0x52d41e[0x3]=0x0,_0x52d41e[0x4]=0x0,_0x52d41e[0x5]=_0x5c0ec5,_0x52d41e[0x6]=0x0,_0x52d41e[0x7]=0x0,_0x52d41e[0x8]=0x0,_0x52d41e[0x9]=0x0,_0x52d41e[0xb]=-0x1,_0x52d41e[0xc]=0x0,_0x52d41e[0xd]=0x0,_0x52d41e[0xf]=0x0,null!=_0x3b24cb&&_0x3b24cb!==0x1/0x0?(_0x52d41e[0xa]=(_0x3b24cb+_0x42750a)*(_0x20391b=0x1/(_0x42750a-_0x3b24cb)),_0x52d41e[0xe]=0x2*_0x3b24cb*_0x42750a*_0x20391b):(_0x52d41e[0xa]=-0x1,_0x52d41e[0xe]=-0x2*_0x42750a),_0x52d41e;},_0x2500fe=function(_0xb3bf13,_0x448f76,_0x14bf99,_0x24a439,_0x455e24,_0x462b21,_0x41a8b5){var _0x5285d6=0x1/(_0x448f76-_0x14bf99),_0x1bf7d7=0x1/(_0x24a439-_0x455e24),_0x5ac5ef=0x1/(_0x462b21-_0x41a8b5);return _0xb3bf13[0x0]=-0x2*_0x5285d6,_0xb3bf13[0x1]=0x0,_0xb3bf13[0x2]=0x0,_0xb3bf13[0x3]=0x0,_0xb3bf13[0x4]=0x0,_0xb3bf13[0x5]=-0x2*_0x1bf7d7,_0xb3bf13[0x6]=0x0,_0xb3bf13[0x7]=0x0,_0xb3bf13[0x8]=0x0,_0xb3bf13[0x9]=0x0,_0xb3bf13[0xa]=0x2*_0x5ac5ef,_0xb3bf13[0xb]=0x0,_0xb3bf13[0xc]=(_0x448f76+_0x14bf99)*_0x5285d6,_0xb3bf13[0xd]=(_0x455e24+_0x24a439)*_0x1bf7d7,_0xb3bf13[0xe]=(_0x41a8b5+_0x462b21)*_0x5ac5ef,_0xb3bf13[0xf]=0x1,_0xb3bf13;};function _0x18c8c9(){var _0x26597c=new _0x1096f2(0x3);return _0x1096f2!=Float32Array&&(_0x26597c[0x0]=0x0,_0x26597c[0x1]=0x0,_0x26597c[0x2]=0x0),_0x26597c;}function _0x56305e(_0x5b84f7,_0x22e570,_0x20f9b9){var _0x573a0f=new _0x1096f2(0x3);return _0x573a0f[0x0]=_0x5b84f7,_0x573a0f[0x1]=_0x22e570,_0x573a0f[0x2]=_0x20f9b9,_0x573a0f;}_0x18c8c9(),(_0x27d008=new _0x1096f2(0x4),_0x1096f2!=Float32Array&&(_0x27d008[0x0]=0x0,_0x27d008[0x1]=0x0,_0x27d008[0x2]=0x0,_0x27d008[0x3]=0x0));function _0x4c98bb(){var _0x12b267=new _0x1096f2(0x4);return _0x1096f2!=Float32Array&&(_0x12b267[0x0]=0x0,_0x12b267[0x1]=0x0,_0x12b267[0x2]=0x0),_0x12b267[0x3]=0x1,_0x12b267;}_0x18c8c9(),_0x56305e(0x1,0x0,0x0),_0x56305e(0x0,0x1,0x0),_0x4c98bb(),_0x4c98bb(),_0x27d008=new _0x1096f2(0x9),_0x1096f2!=Float32Array&&(_0x27d008[0x1]=0x0,_0x27d008[0x2]=0x0,_0x27d008[0x3]=0x0,_0x27d008[0x5]=0x0,_0x27d008[0x6]=0x0,_0x27d008[0x7]=0x0),_0x27d008[0x0]=0x1,_0x27d008[0x4]=0x1,_0x27d008[0x8]=0x1,(_0x27d008=new _0x1096f2(0x2),_0x1096f2!=Float32Array&&(_0x27d008[0x0]=0x0,_0x27d008[0x1]=0x0));var _0x95cd63,_0x53ee33=(function(){var _0x2c4b4d=_0x99d5a2;function _0x415ef1(){var _0x3a66c1=a0_0x1593;_0x160316(this,_0x415ef1),this[_0x3a66c1(0x3ba)]=0.785,this[_0x3a66c1(0x227)]=0x1,this[_0x3a66c1(0x4ef)]=0.02,this['fFar']=0x3e8,this['fTheta']=0x0,this[_0x3a66c1(0x498)]=0x0,this['fBeta']=0x0,this[_0x3a66c1(0x44a)]=0x1,this[_0x3a66c1(0x3d8)]=!0x1,this['matView']=_0x1189d8(),this[_0x3a66c1(0x1d6)]=_0x1189d8(),this[_0x3a66c1(0x337)]=_0x56305e(0x0,0x0,0x0),this['vecCenter']=_0x56305e(0x0,0x0,0x64),this[_0x3a66c1(0x1ef)]=_0x56305e(0x0,0x1,0x0);}return _0x5a3b91(_0x415ef1,[{'key':_0x2c4b4d(0x210),'value':function(_0x660a1a){var _0x5e6f56=_0x2c4b4d;this[_0x5e6f56(0x39c)]=_0x660a1a;}},{'key':'GetYaw','value':function(){var _0x2ba25b=_0x2c4b4d;return this[_0x2ba25b(0x39c)];}},{'key':_0x2c4b4d(0x458),'value':function(_0x531ad9){var _0x37e999=_0x2c4b4d;this[_0x37e999(0x498)]=_0x531ad9;}},{'key':_0x2c4b4d(0x480),'value':function(){return this['fAlpha'];}},{'key':_0x2c4b4d(0x45c),'value':function(_0x3d657e){this['fBeta']=_0x3d657e;}},{'key':_0x2c4b4d(0x351),'value':function(){var _0x237606=_0x2c4b4d;return this[_0x237606(0x273)];}},{'key':_0x2c4b4d(0x26d),'value':function(_0x1df02d){var _0xdc8df5=_0x2c4b4d;this[_0xdc8df5(0x44a)]=_0x1df02d;}},{'key':_0x2c4b4d(0x484),'value':function(){var _0x5cf5ba=_0x2c4b4d;return this[_0x5cf5ba(0x44a)];}},{'key':_0x2c4b4d(0x3a6),'value':function(_0x43f759){var _0xa7cc7b=_0x2c4b4d;this[_0xa7cc7b(0x3ba)]=_0x43f759;}},{'key':'SetAspect','value':function(_0x52e423){var _0x267b63=_0x2c4b4d;this[_0x267b63(0x227)]=_0x52e423;}},{'key':_0x2c4b4d(0x420),'value':function(_0x4b3844){this['fNear']=_0x4b3844;}},{'key':_0x2c4b4d(0x3af),'value':function(_0x1c98cd){var _0xee9d33=_0x2c4b4d;this[_0xee9d33(0x345)]=_0x1c98cd;}},{'key':_0x2c4b4d(0x43a),'value':function(_0x5a92b4){var _0xed8cd3=_0x2c4b4d;this[_0xed8cd3(0x3d8)]=_0x5a92b4;}},{'key':_0x2c4b4d(0x34a),'value':function(_0x481a1c,_0x3d5dc9){var _0x2b5393=_0x2c4b4d,_0xaca978,_0xc4dc36,_0x5c603e,_0x47c201,_0x154893,_0x5c2d3b;_0x481a1c<=0x0||_0x3d5dc9<=0x0||(0x1==this['bOrtho']?_0x2500fe(this[_0x2b5393(0x1d6)],0x0,_0x481a1c,_0x3d5dc9,0x0,this[_0x2b5393(0x4ef)],this[_0x2b5393(0x345)]):(_0xaca978=this['fFov']/_0x48e6bf*0xb4,_0x1b7aa6(this[_0x2b5393(0x1d6)],_0xaca978,_0x481a1c/_0x3d5dc9,this[_0x2b5393(0x4ef)],this[_0x2b5393(0x345)])),this[_0x2b5393(0x337)]=_0x56305e(0x0,0x0,this[_0x2b5393(0x44a)]),this[_0x2b5393(0x32c)]=_0x56305e(0x0,0x0,0x0),this[_0x2b5393(0x1ef)]=_0x56305e(0x0,0x1,0x0),_0xaca978=_0x56305e(0x1,0x0,0x0),_0x481a1c=_0x56305e(0x0,0x1,0x0),_0x3d5dc9=_0x56305e(0x0,0x0,0x1),function(_0x111f03,_0xdc1831,_0x229b70,_0x21b0e4){var _0x463328=_0x2b5393,_0x4b8d6c,_0x257e6f,_0x41eaaf,_0x243a15,_0x1bcdd7=_0xdc1831[0x0],_0x29159f=_0xdc1831[0x1],_0xdc1831=_0xdc1831[0x2],_0xead032=_0x21b0e4[0x0],_0x974d6d=_0x21b0e4[0x1],_0x21b0e4=_0x21b0e4[0x2],_0x51af13=_0x229b70[0x0],_0x55dd27=_0x229b70[0x1],_0x229b70=_0x229b70[0x2];if(Math[_0x463328(0x1e6)](_0x1bcdd7-_0x51af13)<_0x1ec236&&Math[_0x463328(0x1e6)](_0x29159f-_0x55dd27)<_0x1ec236&&Math['abs'](_0xdc1831-_0x229b70)<_0x1ec236)return(_0x243a15=_0x111f03)[0x0]=0x1,_0x243a15[0x1]=0x0,_0x243a15[0x2]=0x0,_0x243a15[0x3]=0x0,_0x243a15[0x4]=0x0,_0x243a15[0x5]=0x1,_0x243a15[0x6]=0x0,_0x243a15[0x7]=0x0,_0x243a15[0x8]=0x0,_0x243a15[0x9]=0x0,_0x243a15[0xa]=0x1,_0x243a15[0xb]=0x0,_0x243a15[0xc]=0x0,_0x243a15[0xd]=0x0,_0x243a15[0xe]=0x0,_0x243a15[0xf]=0x1;_0x243a15=_0xdc1831-_0x229b70,_0x4b8d6c=_0x974d6d*(_0x243a15*=_0x55dd27=0x1/Math['hypot'](_0x229b70=_0x1bcdd7-_0x51af13,_0x51af13=_0x29159f-_0x55dd27,_0x243a15))-_0x21b0e4*(_0x51af13*=_0x55dd27),_0x21b0e4=_0x21b0e4*(_0x229b70*=_0x55dd27)-_0xead032*_0x243a15,_0xead032=_0xead032*_0x51af13-_0x974d6d*_0x229b70,(_0x55dd27=Math[_0x463328(0x241)](_0x4b8d6c,_0x21b0e4,_0xead032))?(_0x4b8d6c*=_0x55dd27=0x1/_0x55dd27,_0x21b0e4*=_0x55dd27,_0xead032*=_0x55dd27):_0xead032=_0x21b0e4=_0x4b8d6c=0x0,_0x974d6d=_0x51af13*_0xead032-_0x243a15*_0x21b0e4,_0x257e6f=_0x243a15*_0x4b8d6c-_0x229b70*_0xead032,_0x41eaaf=_0x229b70*_0x21b0e4-_0x51af13*_0x4b8d6c,(_0x55dd27=Math[_0x463328(0x241)](_0x974d6d,_0x257e6f,_0x41eaaf))?(_0x974d6d*=_0x55dd27=0x1/_0x55dd27,_0x257e6f*=_0x55dd27,_0x41eaaf*=_0x55dd27):_0x41eaaf=_0x257e6f=_0x974d6d=0x0,_0x111f03[0x0]=_0x4b8d6c,_0x111f03[0x1]=_0x974d6d,_0x111f03[0x2]=_0x229b70,_0x111f03[0x3]=0x0,_0x111f03[0x4]=_0x21b0e4,_0x111f03[0x5]=_0x257e6f,_0x111f03[0x6]=_0x51af13,_0x111f03[0x7]=0x0,_0x111f03[0x8]=_0xead032,_0x111f03[0x9]=_0x41eaaf,_0x111f03[0xa]=_0x243a15,_0x111f03[0xb]=0x0,_0x111f03[0xc]=-(_0x4b8d6c*_0x1bcdd7+_0x21b0e4*_0x29159f+_0xead032*_0xdc1831),_0x111f03[0xd]=-(_0x974d6d*_0x1bcdd7+_0x257e6f*_0x29159f+_0x41eaaf*_0xdc1831),_0x111f03[0xe]=-(_0x229b70*_0x1bcdd7+_0x51af13*_0x29159f+_0x243a15*_0xdc1831),_0x111f03[0xf]=0x1;}(_0xc4dc36=_0x1189d8(),this['vecEye'],this['vecCenter'],this[_0x2b5393(0x1ef)]),_0x5c603e=_0x1189d8(),_0x47c201=_0x1189d8(),_0x154893=_0x1189d8(),_0x5c2d3b=_0x1189d8(),_0x4e0779(_0x47c201,_0x5c603e,-this[_0x2b5393(0x498)],_0xaca978),_0x4e0779(_0x154893,_0x47c201,-this[_0x2b5393(0x39c)],_0x481a1c),_0x4e0779(_0x5c2d3b,_0x154893,-this[_0x2b5393(0x273)],_0x3d5dc9),_0x28ce33(this[_0x2b5393(0x1f7)],_0xc4dc36,_0x5c2d3b));}},{'key':_0x2c4b4d(0x522),'value':function(){return this['matView'];}},{'key':_0x2c4b4d(0x25a),'value':function(){var _0x482dca=_0x2c4b4d;return this[_0x482dca(0x1d6)];}}]),_0x415ef1;}()),_0x50f103=(function(){var _0x41470a=_0x99d5a2;function _0x27b1ac(){var _0x5253ad=a0_0x1593;_0x160316(this,_0x27b1ac),this[_0x5253ad(0x42d)]=null,this[_0x5253ad(0x51e)]=null,this[_0x5253ad(0x1e9)]=0x0,this[_0x5253ad(0x52e)]=0x0,this[_0x5253ad(0x53d)]=0x0,this[_0x5253ad(0x502)]=0x0,this[_0x5253ad(0x3b0)]=0x0,this[_0x5253ad(0x1f2)]=!0x1,this[_0x5253ad(0x4a5)]=!0x1,this[_0x5253ad(0x4c4)]=!0x0,this['nSurfaceTexture']=0x0,this[_0x5253ad(0x540)]=0x0,this[_0x5253ad(0x2a7)]=null,this[_0x5253ad(0x232)]=null,this['glLinePosBuffer']=0x0,this[_0x5253ad(0x4fc)]=0x0,this[_0x5253ad(0x350)]=0x0,this['nLineShaderProgram']=0x0,this[_0x5253ad(0x38b)]=null,this[_0x5253ad(0x23d)]=null,this['nMaxFillBlockTriNum']=0x0,this[_0x5253ad(0x383)]=0x0,this[_0x5253ad(0x50b)]=0x0,this[_0x5253ad(0x470)]=0x0,this[_0x5253ad(0x215)]=!0x1,this[_0x5253ad(0x2c3)]=null,this[_0x5253ad(0x53e)]=null,this['FTFace']=null,this[_0x5253ad(0x327)]=null,this['nDrawFontWidth']=0x0,this['nDrawFontHeight']=0x0,this[_0x5253ad(0x2f6)]=0x0,this['pFontColorBuffer']=0x0,this[_0x5253ad(0x3c8)]=0x0,this['nFontBGNum']=0x0,this['pstFontBGLines']=[],this[_0x5253ad(0x2bc)]=!0x1,this[_0x5253ad(0x292)]=null,this[_0x5253ad(0x4d6)]=_0x3468da[_0x5253ad(0x3c1)],this[_0x5253ad(0x29e)]=-0x1,this[_0x5253ad(0x330)]=!0x1,this[_0x5253ad(0x2ea)]=null,this[_0x5253ad(0x2d7)]=null,this[_0x5253ad(0x340)]=0x0,this[_0x5253ad(0x53a)]=0x0,this['nSemiSphereTexSize']=0x0,this['pCylinderPos']=null,this[_0x5253ad(0x4c0)]=null,this['nCylinderPosNum']=0x0,this[_0x5253ad(0x3ff)]=0x0,this[_0x5253ad(0x4f8)]=0x0,this[_0x5253ad(0x2c1)]=0x0,this['fCylinderRadius']=0x0,this[_0x5253ad(0x367)]=!0x1,this['pCamera']=null,this[_0x5253ad(0x3da)]=0x0,this[_0x5253ad(0x2a3)]=0x0,this[_0x5253ad(0x44a)]=0x0,this[_0x5253ad(0x229)]=null,this[_0x5253ad(0x46c)]=null,this[_0x5253ad(0x252)]=null,this[_0x5253ad(0x4d5)]=null,this[_0x5253ad(0x3dd)]=!0x0;}var _0xeda133;return _0x5a3b91(_0x27b1ac,[{'key':_0x41470a(0x2b3),'value':function(_0x463b67,_0x36ef02){var _0x102e79=_0x41470a,_0x183858=this['ctx'];if(null==_0x183858||null==_0x463b67||null==_0x36ef02)return-0x1;var _0x3b91c2=_0x183858[_0x102e79(0x4b9)](_0x183858[_0x102e79(0x45d)]);if(_0x183858[_0x102e79(0x2b9)](_0x3b91c2,_0x463b67),_0x183858[_0x102e79(0x305)](_0x3b91c2),!_0x183858[_0x102e79(0x218)](_0x3b91c2,_0x183858[_0x102e79(0x2aa)]))return console[_0x102e79(0x514)]('Vertex\\x20shader\\x20failed\\x20to\\x20compile:\\x20'+_0x183858[_0x102e79(0x475)](_0x3b91c2)),-0x1;_0x463b67=_0x183858[_0x102e79(0x4b9)](_0x183858[_0x102e79(0x368)]);if(_0x183858[_0x102e79(0x2b9)](_0x463b67,_0x36ef02),_0x183858['compileShader'](_0x463b67),!_0x183858['getShaderParameter'](_0x463b67,_0x183858['COMPILE_STATUS']))return console[_0x102e79(0x514)](_0x102e79(0x347)+_0x183858['getShaderInfoLog'](_0x463b67)),-0x1;return _0x36ef02=_0x183858[_0x102e79(0x527)](),(_0x183858[_0x102e79(0x2f9)](_0x36ef02,_0x3b91c2),_0x183858[_0x102e79(0x2f9)](_0x36ef02,_0x463b67),_0x183858[_0x102e79(0x28f)](_0x36ef02),_0x183858[_0x102e79(0x348)](_0x36ef02,_0x183858[_0x102e79(0x3b4)])?(_0x183858[_0x102e79(0x30f)](_0x3b91c2),_0x183858[_0x102e79(0x30f)](_0x463b67),_0x36ef02):(console['log']('Program\\x20failed\\x20to\\x20compile:\\x20'+_0x183858[_0x102e79(0x4df)](_0x36ef02)),-0x1));}},{'key':_0x41470a(0x3e5),'value':function(_0x505490){var _0x3f8e8b=_0x41470a;return null==_0x505490?_0x13949e['SR_ERR_PARAM']:(this[_0x3f8e8b(0x42d)]=_0x505490,this[_0x3f8e8b(0x51e)]=this[_0x3f8e8b(0x42d)]['getContext'](_0x3f8e8b(0x412)),this[_0x3f8e8b(0x51e)]||(this[_0x3f8e8b(0x51e)]=this['canvas'][_0x3f8e8b(0x2b2)]('webgl')||this[_0x3f8e8b(0x42d)][_0x3f8e8b(0x2b2)](_0x3f8e8b(0x1e4)),this[_0x3f8e8b(0x1f2)]=!0x0,console[_0x3f8e8b(0x514)](_0x3f8e8b(0x2ad))),this[_0x3f8e8b(0x51e)]?_0x13949e[_0x3f8e8b(0x4a6)]:(console['log'](_0x3f8e8b(0x3d2)),_0x13949e[_0x3f8e8b(0x4e3)]));}},{'key':_0x41470a(0x28d),'value':function(_0x4f5373){var _0x143117=_0x41470a;if(null==this['ctx'])return _0x13949e[_0x143117(0x2cf)];if(null==_0x4f5373)return _0x13949e[_0x143117(0x203)];if(0x0==this[_0x143117(0x1e9)]||0x0==this[_0x143117(0x52e)]||0x0==this['texturePosBuffer'])return _0x13949e['SR_ERR_CALL_ORDER'];if(this['frameDisplayWidth']==_0x4f5373[_0x143117(0x455)]&&this[_0x143117(0x3b0)]==_0x4f5373[_0x143117(0x436)]||(this[_0x143117(0x502)]=_0x4f5373['displayWidth'],this['frameDisplayHeight']=_0x4f5373[_0x143117(0x436)]),0x1==this['bRecreateTex']){0x0!=this[_0x143117(0x516)]&&(_0x47f13=this['nSurfaceTexture'],this[_0x143117(0x51e)][_0x143117(0x300)](_0x47f13),this['nSurfaceTexture']=0x0);var _0x47f13=this[_0x143117(0x51e)]['createTexture']();if(_0x47f13<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x310)](this[_0x143117(0x51e)][_0x143117(0x352)],_0x47f13),0x1==this['bAntialias']?this[_0x143117(0x51e)][_0x143117(0x2af)](this[_0x143117(0x51e)][_0x143117(0x352)],this['ctx']['TEXTURE_MIN_FILTER'],this['ctx'][_0x143117(0x440)]):this[_0x143117(0x51e)][_0x143117(0x2af)](this['ctx'][_0x143117(0x352)],this[_0x143117(0x51e)][_0x143117(0x1d4)],this[_0x143117(0x51e)][_0x143117(0x20a)]),this[_0x143117(0x51e)][_0x143117(0x2af)](this[_0x143117(0x51e)][_0x143117(0x352)],this['ctx'][_0x143117(0x4b4)],this[_0x143117(0x51e)][_0x143117(0x20a)]),this[_0x143117(0x51e)][_0x143117(0x2af)](this[_0x143117(0x51e)][_0x143117(0x352)],this[_0x143117(0x51e)][_0x143117(0x4a0)],this['ctx'][_0x143117(0x3e7)]),this[_0x143117(0x51e)][_0x143117(0x2af)](this[_0x143117(0x51e)][_0x143117(0x352)],this['ctx'][_0x143117(0x3b5)],this[_0x143117(0x51e)]['CLAMP_TO_EDGE']),this[_0x143117(0x516)]=_0x47f13,this['bRecreateTex']=!0x1;}this[_0x143117(0x51e)][_0x143117(0x288)](this['videoShaderProgram']),this[_0x143117(0x51e)][_0x143117(0x408)](this['ctx'][_0x143117(0x2f4)],this[_0x143117(0x52e)]),_0x47f13=this[_0x143117(0x51e)][_0x143117(0x1ff)](this[_0x143117(0x1e9)],'xy');if(_0x47f13<0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)]['vertexAttribPointer'](_0x47f13,0x3,this['ctx'][_0x143117(0x4f2)],!0x1,0x0,0x0),this['ctx'][_0x143117(0x2e6)](_0x47f13),this[_0x143117(0x51e)][_0x143117(0x408)](this[_0x143117(0x51e)][_0x143117(0x2f4)],this['texturePosBuffer']),_0x47f13=this[_0x143117(0x51e)][_0x143117(0x1ff)](this[_0x143117(0x1e9)],'uv');if(_0x47f13<0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x3c2)](_0x47f13,0x2,this[_0x143117(0x51e)][_0x143117(0x4f2)],!0x1,0x0,0x0),this[_0x143117(0x51e)]['enableVertexAttribArray'](_0x47f13),this[_0x143117(0x51e)]['bindBuffer'](this[_0x143117(0x51e)][_0x143117(0x2f4)],null);var _0x5c403e=this[_0x143117(0x4d6)];switch(_0x5c403e){case _0x3468da[_0x143117(0x3c1)]:break;case _0x3468da[_0x143117(0x224)]:case _0x3468da[_0x143117(0x2b7)]:case _0x3468da[_0x143117(0x4c2)]:case _0x3468da['SR_DE_FISH_PTZ_WALL']:case _0x3468da[_0x143117(0x208)]:case _0x3468da[_0x143117(0x4f5)]:case _0x3468da[_0x143117(0x2f5)]:case _0x3468da[_0x143117(0x3a8)]:case _0x3468da['SR_DE_FISH_PANORAMA_WALL']:if(null==this[_0x143117(0x292)])return _0x13949e['SR_ERR_CALL_ORDER'];var _0x3d2401=[],_0x3980fd=this[_0x143117(0x292)]['GetRenderParam'](this[_0x143117(0x29e)],_0x3d2401);if(_0x13949e[_0x143117(0x4a6)]!=_0x3980fd)return _0x3980fd;if(_0x3468da[_0x143117(0x224)]==_0x5c403e){_0x3980fd=this[_0x143117(0x51e)][_0x143117(0x2b6)](this['videoShaderProgram'],_0x143117(0x40f));if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x2cc)](_0x3980fd,_0x3d2401['bBlack']),_0x3980fd=this[_0x143117(0x51e)][_0x143117(0x2b6)](this[_0x143117(0x1e9)],_0x143117(0x324));if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x2cc)](_0x3980fd,_0x3d2401[_0x143117(0x324)]);}if(_0x3468da['SR_DE_FISH_PTZ_CEILING']==_0x5c403e||_0x3468da[_0x143117(0x4c2)]==_0x5c403e||_0x3468da['SR_DE_FISH_PTZ_WALL']==_0x5c403e){_0x3980fd=this['ctx'][_0x143117(0x2b6)](this[_0x143117(0x1e9)],'fHAngleCos');if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x271)](_0x3980fd,_0x3d2401['fCosH']),_0x3980fd=this[_0x143117(0x51e)][_0x143117(0x2b6)](this[_0x143117(0x1e9)],_0x143117(0x1e2));if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)]['uniform1f'](_0x3980fd,_0x3d2401[_0x143117(0x2ee)]),_0x3980fd=this[_0x143117(0x51e)][_0x143117(0x2b6)](this[_0x143117(0x1e9)],'fVAngleCos');if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x271)](_0x3980fd,_0x3d2401['fCosV']),_0x3980fd=this[_0x143117(0x51e)][_0x143117(0x2b6)](this[_0x143117(0x1e9)],_0x143117(0x528));if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this['ctx']['uniform1f'](_0x3980fd,_0x3d2401[_0x143117(0x3e0)]),_0x3980fd=this['ctx'][_0x143117(0x2b6)](this['videoShaderProgram'],_0x143117(0x3f4));if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)]['uniform1f'](_0x3980fd,_0x3d2401[_0x143117(0x3f4)]);}if(_0x3468da[_0x143117(0x208)]==_0x5c403e||_0x3468da[_0x143117(0x4f5)]==_0x5c403e||_0x3468da[_0x143117(0x2f5)]==_0x5c403e||_0x3468da[_0x143117(0x3a8)]==_0x5c403e){_0x3980fd=this['ctx']['getUniformLocation'](this[_0x143117(0x1e9)],_0x143117(0x314));if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x271)](_0x3980fd,_0x3d2401[_0x143117(0x314)]);}_0x3980fd=this[_0x143117(0x51e)][_0x143117(0x2b6)](this[_0x143117(0x1e9)],_0x143117(0x1f8));if(_0x3980fd<=0x0)return _0x13949e['SR_ERR_WEBGL_RESOURCE'];this[_0x143117(0x51e)]['uniform1f'](_0x3980fd,_0x3d2401[_0x143117(0x27e)]),_0x3980fd=this['ctx']['getUniformLocation'](this[_0x143117(0x1e9)],_0x143117(0x3aa));if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this['ctx'][_0x143117(0x271)](_0x3980fd,_0x3d2401[_0x143117(0x469)]),_0x3980fd=this[_0x143117(0x51e)][_0x143117(0x2b6)](this[_0x143117(0x1e9)],_0x143117(0x34c));if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x271)](_0x3980fd,_0x3d2401[_0x143117(0x2bb)]),_0x3980fd=this[_0x143117(0x51e)][_0x143117(0x2b6)](this[_0x143117(0x1e9)],_0x143117(0x4ed));if(_0x3980fd<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x271)](_0x3980fd,_0x3d2401[_0x143117(0x2e9)]);break;case _0x3468da[_0x143117(0x2e3)]:this[_0x143117(0x2e1)][_0x143117(0x26d)](this['fScale']),this[_0x143117(0x2e1)][_0x143117(0x458)](3.14-this['fRotateX']),this[_0x143117(0x2e1)][_0x143117(0x210)](-this[_0x143117(0x2a3)]),this[_0x143117(0x2e1)][_0x143117(0x34a)](this[_0x143117(0x42d)]['width'],this['canvas'][_0x143117(0x483)]);var _0x3980fd=this['pCamera'][_0x143117(0x522)](),_0x3d2401=this['pCamera'][_0x143117(0x25a)](),_0x44bf90=this[_0x143117(0x51e)][_0x143117(0x2b6)](this[_0x143117(0x1e9)],'matView');if(_0x44bf90<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x479)](_0x44bf90,!0x1,_0x3980fd),_0x44bf90=this['ctx']['getUniformLocation'](this[_0x143117(0x1e9)],_0x143117(0x1d6));if(_0x44bf90<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x479)](_0x44bf90,!0x1,_0x3d2401);break;case _0x3468da['SR_DE_FISH_CYLINDER_CEILING']:case _0x3468da[_0x143117(0x3a9)]:this[_0x143117(0x2e1)][_0x143117(0x26d)](this['fScale']),this[_0x143117(0x2e1)][_0x143117(0x458)](-this[_0x143117(0x3da)]),this[_0x143117(0x2e1)][_0x143117(0x210)](-this[_0x143117(0x2a3)]),this[_0x143117(0x2e1)][_0x143117(0x34a)](this['canvas'][_0x143117(0x36f)],this['canvas'][_0x143117(0x483)]),(_0x3980fd=this['pCamera'][_0x143117(0x522)](),_0x44bf90=this['pCamera'][_0x143117(0x25a)](),_0x3d2401=this[_0x143117(0x51e)][_0x143117(0x2b6)](this[_0x143117(0x1e9)],_0x143117(0x1f7)));if(_0x3d2401<=0x0)return _0x13949e[_0x143117(0x392)];this[_0x143117(0x51e)][_0x143117(0x479)](_0x3d2401,!0x1,_0x3980fd),_0x3d2401=this[_0x143117(0x51e)][_0x143117(0x2b6)](this['videoShaderProgram'],_0x143117(0x1d6));if(_0x3d2401<=0x0)return _0x13949e[_0x143117(0x392)];this['ctx']['uniformMatrix4fv'](_0x3d2401,!0x1,_0x44bf90);}if(this['canvas'][_0x143117(0x36f)]<=0x0||this[_0x143117(0x42d)][_0x143117(0x483)]<=0x0)return _0x13949e['SR_ERR_CANVAS'];if(this[_0x143117(0x51e)][_0x143117(0x2e8)](0x0,0x0,this['canvas'][_0x143117(0x36f)],this[_0x143117(0x42d)][_0x143117(0x483)]),this['ctx']['clearColor'](0x0,0x0,0x0,0x1),this['ctx'][_0x143117(0x3c3)](this[_0x143117(0x51e)][_0x143117(0x546)]|this['ctx'][_0x143117(0x2ce)]),this[_0x143117(0x367)]&&(this[_0x143117(0x51e)][_0x143117(0x3ce)](this[_0x143117(0x51e)][_0x143117(0x3cb)]),this[_0x143117(0x51e)][_0x143117(0x4ce)](this[_0x143117(0x51e)][_0x143117(0x36a)]),this[_0x143117(0x51e)]['depthMask'](!0x0),0x1==this[_0x143117(0x3dd)]?this[_0x143117(0x51e)][_0x143117(0x3ce)](this[_0x143117(0x51e)][_0x143117(0x238)]):this[_0x143117(0x51e)]['disable'](this[_0x143117(0x51e)]['CULL_FACE'])),this['ctx'][_0x143117(0x27d)](this[_0x143117(0x51e)][_0x143117(0x352)],0x0,this[_0x143117(0x51e)][_0x143117(0x45a)],this[_0x143117(0x51e)][_0x143117(0x45a)],this['ctx'][_0x143117(0x22b)],_0x4f5373),0x1==this[_0x143117(0x4a5)]&&this[_0x143117(0x51e)][_0x143117(0x22a)](this[_0x143117(0x51e)][_0x143117(0x352)]),this[_0x143117(0x1f2)]||this[_0x143117(0x51e)][_0x143117(0x446)](this[_0x143117(0x51e)][_0x143117(0x361)],0x0,0x1,0x0),0x0==this[_0x143117(0x367)])this[_0x143117(0x51e)][_0x143117(0x52a)](this[_0x143117(0x51e)]['TRIANGLE_FAN'],0x0,0x4);else{if(this[_0x143117(0x4d6)]==_0x3468da[_0x143117(0x2e3)]){if(this[_0x143117(0x340)]<=0x0)return _0x13949e[_0x143117(0x2cf)];this[_0x143117(0x51e)]['drawArrays'](this['ctx'][_0x143117(0x526)],0x0,this['nSemiSpherePosNum']);}else{if(this['enDisplayEffect']==_0x3468da[_0x143117(0x4dc)]){if(this[_0x143117(0x312)]<=0x0)return _0x13949e[_0x143117(0x2cf)];this[_0x143117(0x51e)][_0x143117(0x52a)](this[_0x143117(0x51e)][_0x143117(0x526)],0x0,this[_0x143117(0x312)]);}}}return this[_0x143117(0x51e)][_0x143117(0x288)](null),0x0==this[_0x143117(0x330)]&&null!=this[_0x143117(0x292)]&&-0x1!=(_0x47f13=this[_0x143117(0x292)]['GetWndPort']())&&_0x47f13==this['nFECPort']&&this['DrawPTZLines'](),null!=this['pfuncCBIn']&&this['pfuncCBIn'](this[_0x143117(0x252)]),null!=this['pfuncCBOut']&&this['pfuncCBOut'](this[_0x143117(0x4d5)]),_0x13949e[_0x143117(0x4a6)];}},{'key':_0x41470a(0x22f),'value':function(){var _0x21e98b=_0x41470a;if(null==this[_0x21e98b(0x292)])return _0x13949e['SR_ERR_CALL_ORDER'];for(var _0x5c7f1e=this['pFishParamManager'][_0x21e98b(0x40b)](),_0x2db678=0x0,_0x40dedc=[],_0x418a7a=(_0x40dedc['fR']=0x0,_0x40dedc['fG']=0x0,_0x40dedc['fB']=0x0,_0x40dedc['fA']=0x0,_0x13949e[_0x21e98b(0x4a6)]),_0x11b4fb=0x0;_0x11b4fb<0x20;++_0x11b4fb)if(0x0!=this[_0x21e98b(0x292)][_0x21e98b(0x1dd)](_0x11b4fb)){if(_0x2db678=0x2,_0x418a7a=this[_0x21e98b(0x292)][_0x21e98b(0x1f6)](_0x11b4fb,_0x40dedc),_0x13949e[_0x21e98b(0x4a6)]!=_0x418a7a)return _0x418a7a;0x1==this[_0x21e98b(0x292)][_0x21e98b(0x303)](_0x11b4fb)&&(_0x2db678+=0x1);var _0x138fa4=this[_0x21e98b(0x292)][_0x21e98b(0x289)]();if(_0x11b4fb!=_0x138fa4&&_0x46c232==_0x5c7f1e){if(_0x3468da[_0x21e98b(0x224)]==this['pFishParamManager'][_0x21e98b(0x4ad)](_0x138fa4)){var _0x4ac4c6=[],_0x418a7a=this[_0x21e98b(0x292)][_0x21e98b(0x4a4)](_0x11b4fb,_0x4ac4c6,_0x46c232);if(_0x13949e['SR_OK']!=_0x418a7a)return _0x418a7a;if(null!=_0x4ac4c6[_0x21e98b(0x2f3)]&&0x0!=_0x4ac4c6[_0x21e98b(0x216)]&&(_0x418a7a=this[_0x21e98b(0x3ec)](_0x4ac4c6[_0x21e98b(0x2f3)],_0x4ac4c6[_0x21e98b(0x216)],!0x0,_0x40dedc,_0x2db678,!0x1),_0x13949e[_0x21e98b(0x4a6)]!=_0x418a7a))return _0x418a7a;}}else{if(_0x11b4fb!=_0x138fa4&&_0xba837==_0x5c7f1e){_0x4ac4c6=[];if(_0x418a7a=this['pFishParamManager'][_0x21e98b(0x4a4)](_0x11b4fb,_0x4ac4c6,_0xba837),_0x13949e[_0x21e98b(0x4a6)]!=_0x418a7a)return _0x418a7a;if(null!=_0x4ac4c6['pstPoints']&&0x0!=_0x4ac4c6[_0x21e98b(0x216)]&&(_0x418a7a=this[_0x21e98b(0x3ec)](_0x4ac4c6[_0x21e98b(0x2f3)],_0x4ac4c6['nPointNum'],!0x0,_0x40dedc,_0x2db678,!0x1),_0x13949e['SR_OK']!=_0x418a7a))return _0x418a7a;}}}return _0x13949e['SR_OK'];}},{'key':_0x41470a(0x259),'value':function(_0x4ffb5a,_0x516320,_0xdba9c2){var _0x5754c5=_0x41470a;if(null==this[_0x5754c5(0x51e)])return _0x13949e[_0x5754c5(0x2cf)];if(null==_0x4ffb5a||_0x516320<0x1||_0xdba9c2<0x2)return _0x13949e[_0x5754c5(0x203)];for(var _0x9b8d10=0x0,_0x2fc8f5=0x0;_0x2fc8f5<_0x516320;++_0x2fc8f5){if(null==_0x4ffb5a[_0x2fc8f5][_0x5754c5(0x2f3)]||_0x4ffb5a[_0x2fc8f5]['nPointNum']<0x3||!0x0!==_0x4ffb5a[_0x2fc8f5]['bLoop']||null==_0x4ffb5a[_0x2fc8f5][_0x5754c5(0x36d)])return _0x13949e[_0x5754c5(0x203)];_0x9b8d10+=_0x4ffb5a[_0x2fc8f5][_0x5754c5(0x216)];}if(_0x9b8d10!==_0xdba9c2)return _0x13949e['SR_ERR_PARAM'];_0xdba9c2-=0x2*_0x516320;if(_0xdba9c2>this[_0x5754c5(0x453)]&&(this[_0x5754c5(0x38b)]=null,this[_0x5754c5(0x23d)]=null,this['nMaxFillBlockTriNum']=_0xdba9c2),0x0==this[_0x5754c5(0x383)]&&(this[_0x5754c5(0x383)]=this[_0x5754c5(0x51e)]['createBuffer'](),0x0==this['glBlockPosBuffer']))return _0x13949e['SR_ERR_WEBGL_RESOURCE'];if(0x0==this['glBlockClrBuffer']&&(this[_0x5754c5(0x50b)]=this[_0x5754c5(0x51e)][_0x5754c5(0x33d)](),0x0==this['glBlockClrBuffer']))return _0x13949e[_0x5754c5(0x392)];if(null==this['pFillBlockPosVertices']){var _0x55889b=this[_0x5754c5(0x453)];if(this['pFillBlockPosVertices']=new Float32Array(0x3*_0x55889b*0x3),null==this['pFillBlockPosVertices'])return _0x13949e[_0x5754c5(0x37b)];}if(this[_0x5754c5(0x38b)][_0x5754c5(0x542)](0x0),null==this['pFillBlockClrVertices']){_0x55889b=this[_0x5754c5(0x453)];if(this[_0x5754c5(0x23d)]=new Float32Array(0x4*_0x55889b*0x3),null==this['pFillBlockClrVertices'])return _0x13949e['SR_ERR_ALLOC_MEMORY'];}this[_0x5754c5(0x23d)][_0x5754c5(0x542)](0x0);for(var _0x62c238,_0x556e0e,_0x3049d4,_0x40a2cd=0x0,_0x4a74bd=0x0,_0x432cca={},_0x54c665={},_0x127802={},_0x1d4117=0x0;_0x1d4117<_0x516320;++_0x1d4117){_0x62c238=_0x4ffb5a[_0x1d4117][_0x5754c5(0x216)],_0x556e0e=_0x4ffb5a[_0x1d4117]['pstPoints'],_0x3049d4=_0x4ffb5a[_0x1d4117]['pstColor'],_0x432cca['fX']=0x2*_0x556e0e[0x0]['fX']-0x1,_0x432cca['fY']=0x1-0x2*_0x556e0e[0x0]['fY'];for(var _0xf077f4=0x1;_0xf077f4<_0x62c238-0x1;_0xf077f4++)_0x54c665['fX']=0x2*_0x556e0e[_0xf077f4]['fX']-0x1,_0x54c665['fY']=0x1-0x2*_0x556e0e[_0xf077f4]['fY'],_0x127802['fX']=0x2*_0x556e0e[_0xf077f4+0x1]['fX']-0x1,_0x127802['fY']=0x1-0x2*_0x556e0e[_0xf077f4+0x1]['fY'],this[_0x5754c5(0x38b)][_0x40a2cd++]=_0x432cca['fX'],this[_0x5754c5(0x38b)][_0x40a2cd++]=_0x432cca['fY'],this[_0x5754c5(0x38b)][_0x40a2cd++]=0x0,this['pFillBlockClrVertices'][_0x4a74bd++]=_0x3049d4['fR'],this[_0x5754c5(0x23d)][_0x4a74bd++]=_0x3049d4['fG'],this['pFillBlockClrVertices'][_0x4a74bd++]=_0x3049d4['fB'],this[_0x5754c5(0x23d)][_0x4a74bd++]=_0x3049d4['fA'],this[_0x5754c5(0x38b)][_0x40a2cd++]=_0x54c665['fX'],this['pFillBlockPosVertices'][_0x40a2cd++]=_0x54c665['fY'],this[_0x5754c5(0x38b)][_0x40a2cd++]=0x0,this[_0x5754c5(0x23d)][_0x4a74bd++]=_0x3049d4['fR'],this[_0x5754c5(0x23d)][_0x4a74bd++]=_0x3049d4['fG'],this[_0x5754c5(0x23d)][_0x4a74bd++]=_0x3049d4['fB'],this['pFillBlockClrVertices'][_0x4a74bd++]=_0x3049d4['fA'],this[_0x5754c5(0x38b)][_0x40a2cd++]=_0x127802['fX'],this[_0x5754c5(0x38b)][_0x40a2cd++]=_0x127802['fY'],this[_0x5754c5(0x38b)][_0x40a2cd++]=0x0,this[_0x5754c5(0x23d)][_0x4a74bd++]=_0x3049d4['fR'],this[_0x5754c5(0x23d)][_0x4a74bd++]=_0x3049d4['fG'],this['pFillBlockClrVertices'][_0x4a74bd++]=_0x3049d4['fB'],this[_0x5754c5(0x23d)][_0x4a74bd++]=_0x3049d4['fA'];}if(0x0==this[_0x5754c5(0x470)]&&(this[_0x5754c5(0x470)]=this['CompileProgram'](_0x5971cc,_0x466d10),0x0==this[_0x5754c5(0x470)]))return _0x13949e[_0x5754c5(0x392)];return this[_0x5754c5(0x51e)]['enable'](this[_0x5754c5(0x51e)]['BLEND']),this['ctx'][_0x5754c5(0x263)](this['ctx'][_0x5754c5(0x275)],this[_0x5754c5(0x51e)][_0x5754c5(0x231)]),this[_0x5754c5(0x51e)][_0x5754c5(0x408)](this[_0x5754c5(0x51e)]['ARRAY_BUFFER'],this[_0x5754c5(0x383)]),this['ctx'][_0x5754c5(0x416)](this[_0x5754c5(0x51e)][_0x5754c5(0x2f4)],this['pFillBlockPosVertices'],this['ctx'][_0x5754c5(0x33a)]),this['ctx']['bindBuffer'](this['ctx'][_0x5754c5(0x2f4)],null),this[_0x5754c5(0x51e)][_0x5754c5(0x408)](this[_0x5754c5(0x51e)]['ARRAY_BUFFER'],this['glBlockClrBuffer']),this[_0x5754c5(0x51e)]['bufferData'](this[_0x5754c5(0x51e)]['ARRAY_BUFFER'],this[_0x5754c5(0x23d)],this[_0x5754c5(0x51e)][_0x5754c5(0x33a)]),this['ctx']['bindBuffer'](this[_0x5754c5(0x51e)][_0x5754c5(0x2f4)],null),this['ctx'][_0x5754c5(0x288)](this[_0x5754c5(0x470)]),this['ctx']['bindBuffer'](this[_0x5754c5(0x51e)][_0x5754c5(0x2f4)],this[_0x5754c5(0x383)]),(_0x55889b=this[_0x5754c5(0x51e)]['getAttribLocation'](this[_0x5754c5(0x470)],_0x5754c5(0x3ef)),this['ctx'][_0x5754c5(0x2e6)](_0x55889b),this['ctx'][_0x5754c5(0x3c2)](_0x55889b,0x3,this[_0x5754c5(0x51e)]['FLOAT'],!0x1,0x0,0x0),this[_0x5754c5(0x51e)]['bindBuffer'](this[_0x5754c5(0x51e)][_0x5754c5(0x2f4)],null),this['ctx'][_0x5754c5(0x408)](this[_0x5754c5(0x51e)][_0x5754c5(0x2f4)],this['glBlockClrBuffer']),_0x55889b=this['ctx'][_0x5754c5(0x1ff)](this['nBlockShaderProgram'],_0x5754c5(0x35e))),(this[_0x5754c5(0x51e)]['enableVertexAttribArray'](_0x55889b),this[_0x5754c5(0x51e)][_0x5754c5(0x3c2)](_0x55889b,0x4,this[_0x5754c5(0x51e)]['FLOAT'],!0x1,0x0,0x0),this['ctx'][_0x5754c5(0x408)](this[_0x5754c5(0x51e)]['ARRAY_BUFFER'],null),this['ctx'][_0x5754c5(0x52a)](this[_0x5754c5(0x51e)][_0x5754c5(0x526)],0x0,0x3*_0xdba9c2),this[_0x5754c5(0x51e)]['useProgram'](null),this[_0x5754c5(0x51e)][_0x5754c5(0x54d)](this[_0x5754c5(0x51e)]['BLEND']),_0x13949e[_0x5754c5(0x4a6)]);}},{'key':_0x41470a(0x34d),'value':function(_0x28db65,_0x57df95){var _0x2eb24d=_0x41470a;if(null==_0x28db65||_0x57df95<0x1)return _0x13949e['SR_ERR_PARAM'];if(null==this[_0x2eb24d(0x2a7)]||null==this[_0x2eb24d(0x232)])return _0x13949e['SR_ERR_CALL_ORDER'];for(var _0x5593d4,_0x4b76b4,_0x524d66=0x0,_0x407140=0x0,_0x45c10c=0x0,_0xed833=0x0,_0x4eace5=0x0,_0x5a4396=0x0,_0x59928b=0x0,_0x55d38a=0x0,_0x3c5f70=0x0;_0x3c5f70<_0x57df95;++_0x3c5f70){var _0x2a48b3=[],_0x3ab94b=_0x28db65[_0x3c5f70][_0x2eb24d(0x216)];if(!(_0x3ab94b<=0x0)){for(var _0x4ac18a=0x0;_0x4ac18a<_0x3ab94b;++_0x4ac18a){var _0x584e8d={};_0x584e8d['fX']=_0x28db65[_0x3c5f70]['pstPoints'][_0x4ac18a]['fX'],_0x584e8d['fX']=0x2*_0x584e8d['fX']-0x1,_0x584e8d['fY']=_0x28db65[_0x3c5f70]['pstPoints'][_0x4ac18a]['fY'],_0x584e8d['fY']=0x1-0x2*_0x584e8d['fY'],_0x2a48b3[_0x2eb24d(0x51d)](_0x584e8d);}if(this[_0x2eb24d(0x42d)][_0x2eb24d(0x36f)]<=0x0||this[_0x2eb24d(0x42d)][_0x2eb24d(0x483)]<=0x0)return _0x13949e[_0x2eb24d(0x4e3)];if(_0x5593d4=3.5*_0x28db65[_0x3c5f70][_0x2eb24d(0x205)]/this[_0x2eb24d(0x42d)][_0x2eb24d(0x36f)],_0x4b76b4=3.5*_0x28db65[_0x3c5f70][_0x2eb24d(0x205)]/this[_0x2eb24d(0x42d)]['height'],_0x5593d4<=0x0||_0x4b76b4<=0x0)return _0x13949e['SR_ERR_PARAM'];var _0x34199d=_0x28db65[_0x3c5f70][_0x2eb24d(0x36d)];if(null==_0x34199d)return _0x13949e[_0x2eb24d(0x203)];for(var _0x57e7a3=0x0;_0x57e7a3<_0x3ab94b-0x1;++_0x57e7a3)_0x407140=_0x2a48b3[_0x57e7a3+0x1]['fX']-_0x2a48b3[_0x57e7a3]['fX'],_0x45c10c=_0x2a48b3[_0x57e7a3+0x1]['fY']-_0x2a48b3[_0x57e7a3]['fY'],_0x524d66=Math[_0x2eb24d(0x41c)](_0x407140*_0x407140+_0x45c10c*_0x45c10c),Math['abs'](+_0x524d66)<0.000001||(_0x4eace5=_0x4b76b4*_0x407140/_0x524d66/0x2,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3]['fX']+(_0xed833=-_0x5593d4*_0x45c10c/_0x524d66/0x2),this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3]['fY']+_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=-0x1,this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fB'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fA'],this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3+0x1]['fX']-_0xed833,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3+0x1]['fY']-_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fB'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fA'],this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3]['fX']-_0xed833,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3]['fY']-_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fB'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fA'],this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3]['fX']+_0xed833,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3]['fY']+_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=-0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fB'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fA'],this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3+0x1]['fX']+_0xed833,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3+0x1]['fY']+_0x4eace5,this['pLinePosVertices'][_0x59928b++]=-0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fB'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fA'],this['pLinePosVertices'][_0x59928b++]=_0x2a48b3[_0x57e7a3+0x1]['fX']-_0xed833,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x57e7a3+0x1]['fY']-_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fB'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fA'],_0x5a4396+=0x2);0x1==_0x28db65[_0x3c5f70][_0x2eb24d(0x431)]&&0x2<_0x3ab94b&&(_0x407140=_0x2a48b3[_0x3ab94b-0x1]['fX']-_0x2a48b3[0x0]['fX'],_0x45c10c=_0x2a48b3[_0x3ab94b-0x1]['fY']-_0x2a48b3[0x0]['fY'],_0x524d66=Math[_0x2eb24d(0x41c)](_0x407140*_0x407140+_0x45c10c*_0x45c10c),0.000001<Math[_0x2eb24d(0x1e6)](+_0x524d66)&&(_0x4eace5=_0x4b76b4*_0x407140/_0x524d66/0x2,this['pLinePosVertices'][_0x59928b++]=_0x2a48b3[0x0]['fX']+(_0xed833=-_0x5593d4*_0x45c10c/_0x524d66/0x2),this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[0x0]['fY']+_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=-0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fB'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fA'],this['pLinePosVertices'][_0x59928b++]=_0x2a48b3[_0x3ab94b-0x1]['fX']-_0xed833,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x3ab94b-0x1]['fY']-_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fB'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fA'],this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[0x0]['fX']-_0xed833,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[0x0]['fY']-_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=0x1,this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fB'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fA'],this['pLinePosVertices'][_0x59928b++]=_0x2a48b3[0x0]['fX']+_0xed833,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[0x0]['fY']+_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=-0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fG'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fB'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fA'],this['pLinePosVertices'][_0x59928b++]=_0x2a48b3[_0x3ab94b-0x1]['fX']+_0xed833,this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x3ab94b-0x1]['fY']+_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=-0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fG'],this['pLineClrVertices'][_0x55d38a++]=_0x34199d['fB'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fA'],this[_0x2eb24d(0x2a7)][_0x59928b++]=_0x2a48b3[_0x3ab94b-0x1]['fX']-_0xed833,this['pLinePosVertices'][_0x59928b++]=_0x2a48b3[_0x3ab94b-0x1]['fY']-_0x4eace5,this[_0x2eb24d(0x2a7)][_0x59928b++]=0x1,this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fR'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fG'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fB'],this[_0x2eb24d(0x232)][_0x55d38a++]=_0x34199d['fA'],_0x5a4396+=0x2));}}return 0x0==_0x5a4396?_0x13949e[_0x2eb24d(0x203)]:(this[_0x2eb24d(0x350)]=_0x5a4396,_0x13949e['SR_OK']);}},{'key':_0x41470a(0x3ec),'value':function(_0x4a4177,_0x34d8db,_0xccb171,_0x4fa834,_0x405218,_0x5c4f68){var _0xd97f84=_0x41470a,_0x222e90=[],_0x3a1a9f=[];return _0x3a1a9f[_0xd97f84(0x2f3)]=_0x4a4177,_0x3a1a9f[_0xd97f84(0x216)]=_0x34d8db,_0x3a1a9f['bLoop']=_0xccb171,_0x3a1a9f[_0xd97f84(0x36d)]=_0x4fa834,_0x3a1a9f[_0xd97f84(0x205)]=_0x405218,_0x222e90[_0xd97f84(0x51d)](_0x3a1a9f),this[_0xd97f84(0x267)](_0x222e90,0x1,_0x34d8db,_0x5c4f68);}},{'key':_0x41470a(0x267),'value':function(_0xaafb4d,_0x2e3bb7,_0x165451,_0x1094cc){var _0x20ab7d=_0x41470a;if(null==this[_0x20ab7d(0x51e)])return _0x13949e[_0x20ab7d(0x2cf)];if(null==_0xaafb4d||_0x2e3bb7<0x1||_0x165451<0x2)return _0x13949e[_0x20ab7d(0x203)];if(0x0==this[_0x20ab7d(0x37f)]){var _0x528a0a=this[_0x20ab7d(0x2b3)](_0x5971cc,_0x466d10);if(_0x528a0a<=0x0)return _0x13949e['SR_ERR_WEBGL_RESOURCE'];this[_0x20ab7d(0x37f)]=_0x528a0a;}if(0x1==_0x1094cc)return this['DrawFillBlock'](_0xaafb4d,_0x2e3bb7,_0x165451);for(var _0x22b4cb=0x0,_0x2bc3e4=0x0;_0x2bc3e4<_0x2e3bb7;++_0x2bc3e4){if(null==_0xaafb4d[_0x2bc3e4][_0x20ab7d(0x2f3)]||_0xaafb4d[_0x2bc3e4][_0x20ab7d(0x216)]<=0x1||0x400<=_0xaafb4d[_0x2bc3e4][_0x20ab7d(0x216)]||_0xaafb4d[_0x2bc3e4]['nLineWidth']<=0x0||null==_0xaafb4d[_0x2bc3e4][_0x20ab7d(0x36d)])return _0x13949e['SR_ERR_PARAM'];_0x22b4cb+=_0xaafb4d[_0x2bc3e4][_0x20ab7d(0x216)];}if(_0x22b4cb!=_0x165451)return _0x13949e[_0x20ab7d(0x203)];if((_0x22b4cb+=_0x2e3bb7)>this[_0x20ab7d(0x540)]&&(this[_0x20ab7d(0x540)]=_0x22b4cb,this['pLinePosVertices']=null,this[_0x20ab7d(0x232)]=null),null==this['pLinePosVertices']&&(this[_0x20ab7d(0x2a7)]=new Float32Array(0x6*this[_0x20ab7d(0x540)]*0x3),null==this['pLinePosVertices']))return _0x13949e[_0x20ab7d(0x37b)];if(this[_0x20ab7d(0x2a7)][_0x20ab7d(0x542)](0x0),null==this['pLineClrVertices']&&(this[_0x20ab7d(0x232)]=new Float32Array(0x6*this[_0x20ab7d(0x540)]*0x4),null==this[_0x20ab7d(0x232)]))return _0x13949e[_0x20ab7d(0x37b)];if(this[_0x20ab7d(0x232)][_0x20ab7d(0x542)](0x0),0x0==this[_0x20ab7d(0x442)]&&(this[_0x20ab7d(0x442)]=this[_0x20ab7d(0x51e)][_0x20ab7d(0x33d)](),0x0==this['glLinePosBuffer']))return _0x13949e[_0x20ab7d(0x392)];if(0x0==this[_0x20ab7d(0x4fc)]&&(this[_0x20ab7d(0x4fc)]=this[_0x20ab7d(0x51e)]['createBuffer'](),0x0==this[_0x20ab7d(0x4fc)]))return _0x13949e[_0x20ab7d(0x392)];_0x528a0a=this[_0x20ab7d(0x34d)](_0xaafb4d,_0x2e3bb7);if(_0x13949e[_0x20ab7d(0x4a6)]!=_0x528a0a)return _0x528a0a;this[_0x20ab7d(0x51e)][_0x20ab7d(0x3ce)](this[_0x20ab7d(0x51e)]['BLEND']),this['ctx'][_0x20ab7d(0x263)](this[_0x20ab7d(0x51e)]['SRC_ALPHA'],this[_0x20ab7d(0x51e)][_0x20ab7d(0x231)]);var _0x1094cc=this[_0x20ab7d(0x37f)],_0x165451=(this['ctx']['useProgram'](_0x1094cc),this[_0x20ab7d(0x442)]),_0x528a0a=this[_0x20ab7d(0x4fc)],_0x3bbd21=this[_0x20ab7d(0x350)],_0x3023ba=this[_0x20ab7d(0x2a7)],_0x25978a=this[_0x20ab7d(0x232)],_0x165451=(this[_0x20ab7d(0x51e)]['bindBuffer'](this[_0x20ab7d(0x51e)][_0x20ab7d(0x2f4)],_0x165451),this[_0x20ab7d(0x51e)][_0x20ab7d(0x416)](this[_0x20ab7d(0x51e)][_0x20ab7d(0x2f4)],_0x3023ba,this[_0x20ab7d(0x51e)][_0x20ab7d(0x33a)]),this[_0x20ab7d(0x51e)]['getAttribLocation'](_0x1094cc,_0x20ab7d(0x3ef))),_0x3023ba=(this[_0x20ab7d(0x51e)][_0x20ab7d(0x2e6)](_0x165451),this[_0x20ab7d(0x51e)]['vertexAttribPointer'](_0x165451,0x3,this[_0x20ab7d(0x51e)][_0x20ab7d(0x4f2)],!0x1,0x0,0x0),this[_0x20ab7d(0x51e)]['bindBuffer'](this[_0x20ab7d(0x51e)][_0x20ab7d(0x2f4)],_0x528a0a),this[_0x20ab7d(0x51e)][_0x20ab7d(0x416)](this[_0x20ab7d(0x51e)][_0x20ab7d(0x2f4)],_0x25978a,this[_0x20ab7d(0x51e)][_0x20ab7d(0x33a)]),this[_0x20ab7d(0x51e)][_0x20ab7d(0x1ff)](_0x1094cc,_0x20ab7d(0x35e)));return this[_0x20ab7d(0x51e)][_0x20ab7d(0x2e6)](_0x3023ba),this[_0x20ab7d(0x51e)]['vertexAttribPointer'](_0x3023ba,0x4,this[_0x20ab7d(0x51e)][_0x20ab7d(0x4f2)],!0x1,0x0,0x0),this['ctx'][_0x20ab7d(0x408)](this[_0x20ab7d(0x51e)]['ARRAY_BUFFER'],null),this['ctx'][_0x20ab7d(0x2e8)](0x0,0x0,this['canvas'][_0x20ab7d(0x36f)],this['canvas']['height']),this['ctx'][_0x20ab7d(0x52a)](this[_0x20ab7d(0x51e)][_0x20ab7d(0x526)],0x0,0x3*_0x3bbd21),this[_0x20ab7d(0x51e)][_0x20ab7d(0x288)](null),this['ctx'][_0x20ab7d(0x54d)](this[_0x20ab7d(0x51e)]['BLEND']),_0x13949e['SR_OK'];}},{'key':'FreetypeWasmLoadedCB','value':(_0xeda133=_0x30bbb2(_0x148935()[_0x41470a(0x230)](function _0x2b5372(_0x47f994){var _0x375965=_0x41470a,_0x1f3bcb,_0x5ce856,_0x4d82c7,_0x510b2e,_0x23723e,_0x28c851,_0x532f41,_0x55abd6;return _0x148935()[_0x375965(0x398)](function(_0x30bfe0){var _0x56e15d=_0x375965;for(;;)switch(_0x30bfe0[_0x56e15d(0x4e1)]=_0x30bfe0[_0x56e15d(0x500)]){case 0x0:if(null==_0x47f994)return _0x30bfe0[_0x56e15d(0x413)]('return');_0x30bfe0[_0x56e15d(0x500)]=0x2;break;case 0x2:if(null==(_0x5ce856=(_0x1f3bcb=_0x47f994)[_0x56e15d(0x53e)]))return _0x30bfe0[_0x56e15d(0x413)](_0x56e15d(0x26c),_0x13949e[_0x56e15d(0x203)]);_0x30bfe0['next']=0x6;break;case 0x6:if(null==(_0x4d82c7=new _0x1bf079()))return _0x30bfe0[_0x56e15d(0x413)]('return',_0x13949e['SR_ERR_ALLOC_MEMORY']);_0x30bfe0[_0x56e15d(0x500)]=0x9;break;case 0x9:if((_0x510b2e=_0x5ce856[_0x56e15d(0x2bd)](_0x4d82c7))!==_0x5342a5['Ok'])throw new Error(_0x5ce856[_0x56e15d(0x2d0)](_0x510b2e));_0x30bfe0['next']=0xc;break;case 0xc:if(null==_0x1f3bcb['pFontPath']||null==_0x1f3bcb[_0x56e15d(0x2c3)])return _0x30bfe0[_0x56e15d(0x413)]('return',_0x13949e['SR_ERR_CALL_ORDER']);_0x30bfe0[_0x56e15d(0x500)]=0xe;break;case 0xe:return _0x30bfe0['next']=0x10,fetch(_0x1f3bcb[_0x56e15d(0x2c3)]);case 0x10:if(null==(_0x23723e=_0x30bfe0['sent']))return _0x30bfe0['abrupt'](_0x56e15d(0x26c),_0x13949e[_0x56e15d(0x1fd)]);_0x30bfe0[_0x56e15d(0x500)]=0x13;break;case 0x13:return _0x30bfe0[_0x56e15d(0x500)]=0x15,_0x23723e[_0x56e15d(0x505)]();case 0x15:if(null==(_0x28c851=_0x30bfe0[_0x56e15d(0x20c)]))return _0x30bfe0[_0x56e15d(0x413)](_0x56e15d(0x26c),_0x13949e['SR_ERR_FREETYPE_INIT']);_0x30bfe0[_0x56e15d(0x500)]=0x18;break;case 0x18:if(null==(_0x532f41=new Uint8Array(_0x28c851)))return _0x30bfe0[_0x56e15d(0x413)](_0x56e15d(0x26c),_0x13949e[_0x56e15d(0x1fd)]);_0x30bfe0[_0x56e15d(0x500)]=0x1b;break;case 0x1b:if(null==(_0x55abd6=new _0x125374()))return _0x30bfe0[_0x56e15d(0x413)](_0x56e15d(0x26c),_0x13949e[_0x56e15d(0x1fd)]);_0x30bfe0[_0x56e15d(0x500)]=0x1e;break;case 0x1e:if((_0x510b2e=_0x5ce856['New_Memory_Face'](_0x4d82c7,_0x532f41,0x0,_0x55abd6))!==_0x5342a5['Ok'])throw _0x1f3bcb[_0x56e15d(0x53e)]=null,new Error(_0x5ce856['Error_String'](_0x510b2e));_0x30bfe0[_0x56e15d(0x500)]=0x22;break;case 0x22:_0x1f3bcb['FTLibrary']=_0x4d82c7,_0x1f3bcb[_0x56e15d(0x395)]=_0x55abd6;case 0x24:case _0x56e15d(0x30a):return _0x30bfe0[_0x56e15d(0x43b)]();}},_0x2b5372);})),function(_0x39716a){var _0x437f2d=_0x41470a;return _0xeda133[_0x437f2d(0x4f6)](this,arguments);})},{'key':'SR_SetFontPath','value':function(_0x46c401,_0x18051d){var _0x532d8c=_0x41470a;if(null==_0x18051d)return _0x13949e[_0x532d8c(0x203)];if(!this[_0x532d8c(0x215)]){var _0x1f5dff=new _0x30397f();if(null==_0x1f5dff)return _0x13949e[_0x532d8c(0x3ea)];this[_0x532d8c(0x2c3)]=_0x18051d,_0x18051d=this[_0x532d8c(0x488)],((this[_0x532d8c(0x53e)]=_0x1f5dff)[_0x532d8c(0x297)](_0x46c401,_0x18051d,this),this[_0x532d8c(0x215)]=!0x0);}return _0x13949e['SR_OK'];}},{'key':_0x41470a(0x379),'value':function(_0x3e4f00,_0x3689e6,_0x4c723c,_0x28420d,_0x146901,_0x204aaa,_0x1bd6b4){var _0x1071b4=_0x41470a;if(null==_0x3e4f00||null==_0x3689e6||null==_0x4c723c||_0x28420d<=0x1||_0x146901<=0x1)return _0x13949e[_0x1071b4(0x203)];if(0x1==_0x204aaa&&null==_0x1bd6b4)return _0x13949e['SR_ERR_PARAM'];var _0x512635=[],_0x34cf0f=[];return _0x34cf0f[_0x1071b4(0x4c6)]=_0x204aaa,_0x34cf0f[_0x1071b4(0x1de)]=_0x28420d,_0x34cf0f['nFontHeight']=_0x146901,_0x34cf0f[_0x1071b4(0x251)]=_0x1bd6b4,_0x34cf0f[_0x1071b4(0x50f)]=_0x4c723c,_0x34cf0f[_0x1071b4(0x26a)]=_0x3e4f00,_0x34cf0f[_0x1071b4(0x386)]=_0x3689e6,_0x512635[_0x1071b4(0x51d)](_0x34cf0f),this['SR_DrawFontEx'](_0x512635,0x1);}},{'key':'SR_DrawFontEx','value':function(_0x2b650a,_0x4dd772){var _0x884ebc=_0x41470a;if(null==this[_0x884ebc(0x51e)]||null==this[_0x884ebc(0x53e)])return _0x13949e['SR_ERR_CALL_ORDER'];if(_0x4dd772<0x0||null==_0x2b650a)return _0x13949e['SR_ERR_PARAM'];if(this[_0x884ebc(0x391)]==this[_0x884ebc(0x42d)][_0x884ebc(0x36f)]/0x4*0x4&&this['canvas'][_0x884ebc(0x483)]==this[_0x884ebc(0x2f1)]/0x4*0x4||(this[_0x884ebc(0x2a6)]=null,this[_0x884ebc(0x2f6)]=0x0,this[_0x884ebc(0x391)]=this[_0x884ebc(0x42d)]['width']/0x4*0x4,this[_0x884ebc(0x457)]=this[_0x884ebc(0x42d)][_0x884ebc(0x483)]/0x4*0x4),null==this[_0x884ebc(0x2a6)]||0x0==this[_0x884ebc(0x2f6)]){if(this[_0x884ebc(0x2a6)]=new Uint8Array(this[_0x884ebc(0x391)]*this['nDrawFontHeight']*0x4),null==this['pFontColorBuffer'])return _0x13949e[_0x884ebc(0x37b)];if(this[_0x884ebc(0x2a6)][_0x884ebc(0x542)](0x0),this['nFontColorTexture']=this[_0x884ebc(0x51e)][_0x884ebc(0x415)](),0x0==this[_0x884ebc(0x2f6)])return _0x13949e[_0x884ebc(0x392)];this[_0x884ebc(0x51e)][_0x884ebc(0x310)](this[_0x884ebc(0x51e)][_0x884ebc(0x352)],this[_0x884ebc(0x2f6)]),this['ctx'][_0x884ebc(0x2af)](this[_0x884ebc(0x51e)][_0x884ebc(0x352)],this[_0x884ebc(0x51e)][_0x884ebc(0x4b4)],this[_0x884ebc(0x51e)][_0x884ebc(0x20a)]),this[_0x884ebc(0x51e)]['texParameteri'](this['ctx'][_0x884ebc(0x352)],this[_0x884ebc(0x51e)][_0x884ebc(0x1d4)],this['ctx'][_0x884ebc(0x20a)]),this[_0x884ebc(0x51e)][_0x884ebc(0x2af)](this['ctx'][_0x884ebc(0x352)],this[_0x884ebc(0x51e)]['TEXTURE_WRAP_S'],this[_0x884ebc(0x51e)][_0x884ebc(0x3e7)]),this[_0x884ebc(0x51e)][_0x884ebc(0x2af)](this[_0x884ebc(0x51e)][_0x884ebc(0x352)],this[_0x884ebc(0x51e)][_0x884ebc(0x3b5)],this['ctx']['CLAMP_TO_EDGE']);}for(var _0x2c2a19=0x0,_0x2320a4=0x0;_0x2320a4<_0x4dd772;_0x2320a4++)_0x2b650a[_0x2320a4][_0x884ebc(0x513)]&&_0x2c2a19++;if(this['nFontBGNum']<_0x2c2a19){for(var _0xf285ee=0x0;_0xf285ee<this[_0x884ebc(0x31b)];++_0xf285ee)this[_0x884ebc(0x520)][_0xf285ee]['pstPoints']=null,this[_0x884ebc(0x520)][_0xf285ee][_0x884ebc(0x36d)]=null;this['pstFontBGLines']=null,this[_0x884ebc(0x520)]=[];for(var _0x239e34=0x0;_0x239e34<_0x2c2a19;++_0x239e34)this['pstFontBGLines'][_0x239e34]['pstPoints']=[],this['pstFontBGLines'][_0x239e34]['pstColor']=[];this[_0x884ebc(0x31b)]=_0x2c2a19;}for(var _0x2c2a19=0x0,_0x5ce3f0=0x0;_0x5ce3f0<_0x4dd772;++_0x5ce3f0){var _0x4aa3d8=_0x2b650a[_0x5ce3f0][_0x884ebc(0x386)]['fX']*this[_0x884ebc(0x391)],_0x3255b2=_0x2b650a[_0x5ce3f0][_0x884ebc(0x386)]['fY']*this[_0x884ebc(0x457)],_0x58129c=_0x2b650a[_0x5ce3f0]['pString'][_0x884ebc(0x4f1)],_0x19d542=(_0x2b650a[_0x5ce3f0][_0x884ebc(0x1de)]==_0x2b650a[_0x5ce3f0][_0x884ebc(0x2a2)]&&(_0x2b650a[_0x5ce3f0][_0x884ebc(0x2a2)]=_0x2b650a[_0x5ce3f0][_0x884ebc(0x2a2)]-0x1),this[_0x884ebc(0x457)]),_0x49db03=0x0,_0x544a59=0xff*_0x2b650a[_0x5ce3f0][_0x884ebc(0x50f)]['fA'],_0x1c4f2e=0xff*_0x2b650a[_0x5ce3f0][_0x884ebc(0x50f)]['fR'],_0x538032=0xff*_0x2b650a[_0x5ce3f0][_0x884ebc(0x50f)]['fG'],_0x774127=0xff*_0x2b650a[_0x5ce3f0]['pstFontColor']['fB'];if((_0x33fcec=this[_0x884ebc(0x53e)][_0x884ebc(0x4b0)](this[_0x884ebc(0x395)],0x40*this[_0x884ebc(0x391)],0x40*this[_0x884ebc(0x457)],0x12c,0x12c))!==_0x5342a5['Ok'])throw new Error(this['FreetypeLibHandle'][_0x884ebc(0x2d0)](_0x33fcec));for(var _0x54134a=0x0;_0x54134a<_0x58129c;++_0x54134a){var _0x33fcec,_0x8f414e=_0x2b650a[_0x5ce3f0][_0x884ebc(0x26a)]['charCodeAt'](_0x54134a);if((_0x33fcec=this[_0x884ebc(0x53e)][_0x884ebc(0x4cd)](this[_0x884ebc(0x395)],_0x8f414e,_0x151f60['NO_SCALE']))!=_0x5342a5['Ok'])throw new Error(this['FreetypeLibHandle'][_0x884ebc(0x2d0)](_0x33fcec));var _0x4b50f6=this['FTFace'][_0x884ebc(0x43e)];if((_0x33fcec=this[_0x884ebc(0x53e)][_0x884ebc(0x4af)](_0x4b50f6,_0x2afdcd[_0x884ebc(0x4da)]))!==_0x5342a5['Ok'])throw new Error(_0x30397f[_0x884ebc(0x2d0)](_0x33fcec));var _0x50aa40=_0x4b50f6[_0x884ebc(0x504)];_0x4aa3d8+=_0x4b50f6[_0x884ebc(0x2c6)],(_0x8f414e=this['nDrawFontHeight']-_0x4b50f6[_0x884ebc(0x27b)])<_0x19d542&&(_0x19d542=_0x8f414e),_0x49db03<(_0x8f414e=_0x50aa40[_0x884ebc(0x4a1)])&&(_0x49db03=_0x8f414e);for(var _0x3f98a1=0x0;_0x3f98a1<_0x50aa40[_0x884ebc(0x2dd)]*_0x50aa40[_0x884ebc(0x36f)];++_0x3f98a1){var _0x3391d9,_0x14a609=Math[_0x884ebc(0x3f7)](_0x2b650a[_0x5ce3f0]['nFontHeight']-_0x4b50f6[_0x884ebc(0x27b)]+_0x3255b2+_0x3f98a1/_0x50aa40[_0x884ebc(0x36f)]);_0x14a609>=this['nDrawFontHeight']||((_0x14a609=_0x4aa3d8+_0x14a609*this[_0x884ebc(0x391)]+_0x3f98a1%_0x50aa40['width'])<0x0||_0x14a609>=this[_0x884ebc(0x391)]*this['nDrawFontHeight']||0x0<_0x50aa40['buffer'][_0x3f98a1]&&((_0x3391d9=this[_0x884ebc(0x2a6)])[0x4*_0x14a609]=_0x774127,_0x3391d9[0x4*_0x14a609+0x1]=_0x538032,_0x3391d9[0x4*_0x14a609+0x2]=_0x1c4f2e,_0x3391d9[0x4*_0x14a609+0x3]=_0x544a59));}_0x4aa3d8+=_0x50aa40[_0x884ebc(0x36f)];}var _0x224ed7=[];_0x224ed7[_0x884ebc(0x478)]=_0x2b650a[_0x5ce3f0][_0x884ebc(0x386)]['fX'],_0x224ed7[_0x884ebc(0x24a)]=_0x2b650a[_0x5ce3f0][_0x884ebc(0x386)]['fY']+_0x19d542/this[_0x884ebc(0x457)],_0x224ed7['fRight']=_0x4aa3d8/this[_0x884ebc(0x391)],_0x224ed7['fBottom']=_0x49db03/this[_0x884ebc(0x457)]+_0x224ed7[_0x884ebc(0x24a)],_0x224ed7[_0x884ebc(0x478)]-=0.01,_0x224ed7['fTop']-=0.01,_0x224ed7[_0x884ebc(0x2d2)]+=0.01,_0x224ed7[_0x884ebc(0x339)]+=0.01,0x1==_0x2b650a[_0x5ce3f0]['bBackGround']&&(this[_0x884ebc(0x520)][_0x2c2a19][_0x884ebc(0x2f3)]=_0x224ed7,this[_0x884ebc(0x520)][_0x2c2a19][_0x884ebc(0x216)]=0x4,this[_0x884ebc(0x520)][_0x2c2a19][_0x884ebc(0x431)]=!0x0,this['pstFontBGLines'][_0x2c2a19][_0x884ebc(0x36d)]=_0x2b650a[_0x5ce3f0][_0x884ebc(0x251)],_0x2c2a19+=this[_0x884ebc(0x520)][_0x2c2a19]['nLineWidth']=0x1);}0x0!=_0x2c2a19&&this[_0x884ebc(0x267)](this[_0x884ebc(0x520)],_0x2c2a19,0x4*_0x2c2a19,!0x1),this['ctx']['bindTexture'](this[_0x884ebc(0x51e)]['TEXTURE_2D'],this['nFontColorTexture']),this[_0x884ebc(0x51e)][_0x884ebc(0x27d)](this[_0x884ebc(0x51e)]['TEXTURE_2D'],0x0,this['ctx']['RGBA'],this[_0x884ebc(0x391)],this[_0x884ebc(0x457)],0x0,this[_0x884ebc(0x51e)]['RGBA'],this[_0x884ebc(0x51e)][_0x884ebc(0x22b)],this[_0x884ebc(0x2a6)]),0x0==this['nFontShaderProgram']&&(this['nFontShaderProgram']=this[_0x884ebc(0x2b3)](_0x884ebc(0x506),'\\x0a\\x20\\x20\\x20\\x20varying\\x20lowp\\x20vec4\\x20pp;\\x0a\\x20\\x20\\x20\\x20uniform\\x20sampler2D\\x20texture;\\x0a\\x0a\\x20\\x20\\x20\\x20void\\x20main(void)\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20texture2D(texture,\\x20pp.st);\\x0a\\x20\\x20\\x20\\x20}\\x0a')),this[_0x884ebc(0x51e)]['viewport'](0x0,0x0,this[_0x884ebc(0x42d)]['width'],this[_0x884ebc(0x42d)][_0x884ebc(0x483)]),this[_0x884ebc(0x51e)][_0x884ebc(0x3ce)](this[_0x884ebc(0x51e)][_0x884ebc(0x487)]),this[_0x884ebc(0x51e)][_0x884ebc(0x263)](this[_0x884ebc(0x51e)][_0x884ebc(0x275)],this[_0x884ebc(0x51e)][_0x884ebc(0x231)]),this['ctx'][_0x884ebc(0x288)](this[_0x884ebc(0x3c8)]),this[_0x884ebc(0x51e)][_0x884ebc(0x425)](this[_0x884ebc(0x51e)][_0x884ebc(0x30e)]),this[_0x884ebc(0x51e)]['bindTexture'](this[_0x884ebc(0x51e)]['TEXTURE_2D'],this[_0x884ebc(0x2f6)]);var _0x2f820a=this[_0x884ebc(0x51e)]['getUniformLocation'](this[_0x884ebc(0x3c8)],_0x884ebc(0x4ee)),_0x2f820a=(this['ctx'][_0x884ebc(0x2cc)](_0x2f820a,0x0),this[_0x884ebc(0x51e)][_0x884ebc(0x408)](this['ctx']['ARRAY_BUFFER'],this[_0x884ebc(0x52e)]),this[_0x884ebc(0x51e)][_0x884ebc(0x1ff)](this[_0x884ebc(0x3c8)],'position')),_0x2f820a=(this[_0x884ebc(0x51e)][_0x884ebc(0x2e6)](_0x2f820a),this[_0x884ebc(0x51e)][_0x884ebc(0x3c2)](_0x2f820a,0x3,this[_0x884ebc(0x51e)][_0x884ebc(0x4f2)],!0x1,0x0,0x0),this[_0x884ebc(0x51e)][_0x884ebc(0x408)](this[_0x884ebc(0x51e)][_0x884ebc(0x2f4)],this[_0x884ebc(0x53d)]),this['ctx'][_0x884ebc(0x1ff)](this[_0x884ebc(0x3c8)],_0x884ebc(0x34f)));return this[_0x884ebc(0x51e)][_0x884ebc(0x2e6)](_0x2f820a),this[_0x884ebc(0x51e)][_0x884ebc(0x3c2)](_0x2f820a,0x2,this[_0x884ebc(0x51e)][_0x884ebc(0x4f2)],!0x1,0x0,0x0),this['ctx'][_0x884ebc(0x408)](this[_0x884ebc(0x51e)][_0x884ebc(0x2f4)],null),this[_0x884ebc(0x51e)][_0x884ebc(0x52a)](this[_0x884ebc(0x51e)]['TRIANGLES'],0x0,0x6),this[_0x884ebc(0x51e)][_0x884ebc(0x288)](null),this[_0x884ebc(0x51e)][_0x884ebc(0x54d)](this[_0x884ebc(0x51e)][_0x884ebc(0x487)]),_0x13949e[_0x884ebc(0x4a6)];}},{'key':_0x41470a(0x485),'value':function(_0x2ec840){var _0x1e3d1c=_0x41470a;if(null==this[_0x1e3d1c(0x51e)])return _0x13949e['SR_ERR_CALL_ORDER'];var _0x12592a,_0x5c2048,_0x2d3c80=-0x1;if(_0x2ec840==_0x3468da[_0x1e3d1c(0x3c1)])_0x2d3c80=0x0;else{if(-0x1==(_0x2d3c80=null!=this[_0x1e3d1c(0x292)]?this[_0x1e3d1c(0x292)][_0x1e3d1c(0x276)](_0x2ec840):_0x2d3c80))return _0x2d3c80;}switch(this[_0x1e3d1c(0x29e)]=_0x2d3c80,_0x2ec840){case _0x3468da['SR_DE_NULL']:_0x12592a=_0xe651be,this[_0x1e3d1c(0x367)]=!(_0x5c2048=_0x1e3d1c(0x4b8));break;case _0x3468da[_0x1e3d1c(0x224)]:_0x12592a=_0xe651be,_0x5c2048=_0x1e3d1c(0x2c9),this['bFECHandle']=!0x0,this[_0x1e3d1c(0x367)]=!0x1;break;case _0x3468da['SR_DE_FISH_PTZ_CEILING']:_0x12592a=_0xe651be,_0x5c2048='\\x0aprecision\\x20mediump\\x20float;\\x0avarying\\x20vec2\\x20v_uv;\\x0auniform\\x20sampler2D\\x20texture;\\x0auniform\\x20float\\x20fHAngleCos;\\x0auniform\\x20float\\x20fHAngleSin;\\x0auniform\\x20float\\x20fVAngleCos;\\x0auniform\\x20float\\x20fVAngleSin;\\x0auniform\\x20float\\x20fZoom;\\x0a\\x0auniform\\x20float\\x20fRX1;\\x20\\x0auniform\\x20float\\x20fRX2;\\x20\\x0auniform\\x20float\\x20fRY1;\\x20\\x0auniform\\x20float\\x20fRY2;\\x20\\x0a\\x0avoid\\x20main()\\x0a{\\x0a\\x20\\x20\\x20\\x20float\\x20r,g,b;\\x20\\x20\\x0a\\x0a\\x20\\x20\\x20\\x20vec4\\x20origin1;\\x0a\\x20\\x20\\x20\\x20vec4\\x20origin2;\\x0a\\x20\\x20\\x20\\x20vec4\\x20result;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20z1;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20z2;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20dnew;\\x0a\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20w;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20h;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20fCenterX;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20fCenterY;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20fRadius;\\x0a\\x20\\x20\\x20\\x20w\\x20=\\x201.0;\\x0a\\x20\\x20\\x20\\x20h\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x20(fRY2\\x20-\\x20fRY1);\\x0a\\x20\\x20\\x20\\x20fCenterX\\x20=\\x20(fRX1\\x20+\\x20fRX2)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20fCenterY\\x20=\\x20(fRY1\\x20+\\x20fRY2)\\x20/\\x202.0\\x20*\\x20h;\\x0a\\x20\\x20\\x20\\x20fRadius\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x0a\\x0a\\x20\\x20\\x20\\x20origin1.s\\x20=\\x20v_uv.s\\x20-\\x200.5;\\x0a\\x20\\x20\\x20\\x20origin1.t\\x20=\\x200.5\\x20-\\x20v_uv.t;\\x0a\\x20\\x20\\x20\\x20z1\\x20=\\x20fZoom\\x20;\\x0a\\x0a\\x20\\x20\\x20\\x20origin2.s\\x20=\\x20origin1.s\\x20;\\x0a\\x20\\x20\\x20\\x20origin2.t\\x20=\\x20(origin1.t*fVAngleCos\\x20+\\x20z1*fVAngleSin);\\x0a\\x20\\x20\\x20\\x20z2\\x20=\\x20z1*fVAngleCos\\x20-\\x20origin1.t*fVAngleSin;\\x0a\\x0a\\x20\\x20\\x20\\x20dnew\\x20=\\x20sqrt(origin2.s*origin2.s\\x20+\\x20origin2.t*origin2.t)\\x20;\\x0a\\x20\\x20\\x20\\x20float\\x20d\\x20=\\x20sqrt(origin2.s*origin2.s\\x20+\\x20origin2.t*origin2.t\\x20+\\x20z2*z2);\\x0a\\x20\\x20\\x20\\x20float\\x20theta\\x20=\\x20asin(dnew/d);\\x0a\\x20\\x20\\x20\\x20float\\x20tmp\\x20=\\x20theta\\x20/\\x201.5707963\\x20*\\x200.5;\\x0a\\x20\\x20\\x20\\x20origin2.s\\x20=\\x20tmp*origin2.s\\x20/\\x20dnew\\x20;\\x0a\\x20\\x20\\x20\\x20origin2.t\\x20=\\x20tmp*origin2.t\\x20/\\x20dnew\\x20;\\x0a\\x0a\\x20\\x20\\x20\\x20result.s\\x20=\\x20((origin2.s*fHAngleCos\\x20-\\x20origin2.t*fHAngleSin)*fRadius*2.0+fCenterX)/w;\\x0a\\x20\\x20\\x20\\x20result.t\\x20=\\x20(-(origin2.s*fHAngleSin\\x20+\\x20origin2.t*fHAngleCos)*fRadius*2.0+fCenterY)/h;\\x0a\\x0a\\x20\\x20\\x20\\x20r\\x20=\\x20texture2D(texture,\\x20result.st).r;\\x20\\x0a\\x20\\x20\\x20\\x20g\\x20=\\x20texture2D(texture,\\x20result.st).g;\\x20\\x0a\\x20\\x20\\x20\\x20b\\x20=\\x20texture2D(texture,\\x20result.st).b;\\x20\\x0a\\x20\\x20\\x20\\x20if(result.s\\x20>\\x201.0\\x20||\\x20result.t\\x20>\\x201.0\\x20||\\x20result.s\\x20<\\x200.0\\x20||\\x20result.t\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20vec4(r\\x20,g\\x20,b\\x20,\\x201.0);\\x0a}\\x20\\x0a',this[_0x1e3d1c(0x2bc)]=!0x0,this[_0x1e3d1c(0x367)]=!0x1;break;case _0x3468da[_0x1e3d1c(0x4c2)]:_0x12592a=_0xe651be,_0x5c2048=_0x1e3d1c(0x21f),this[_0x1e3d1c(0x2bc)]=!0x0;break;case _0x3468da[_0x1e3d1c(0x4bf)]:_0x12592a=_0xe651be,_0x5c2048='\\x0aprecision\\x20mediump\\x20float;\\x0avarying\\x20vec2\\x20v_uv;\\x0auniform\\x20sampler2D\\x20texture;\\x0auniform\\x20float\\x20fHAngleCos;\\x0auniform\\x20float\\x20fHAngleSin;\\x20\\x20\\x0auniform\\x20float\\x20fVAngleCos;\\x20\\x20\\x0auniform\\x20float\\x20fVAngleSin;\\x20\\x20\\x0auniform\\x20float\\x20fZoom;\\x0a\\x0auniform\\x20float\\x20fRX1;\\x20\\x0auniform\\x20float\\x20fRX2;\\x20\\x0auniform\\x20float\\x20fRY1;\\x20\\x0auniform\\x20float\\x20fRY2;\\x20\\x0a\\x0avoid\\x20main()\\x0a{\\x0a\\x20\\x20\\x20\\x20float\\x20r,g,b;\\x20\\x20\\x0a\\x0a\\x20\\x20\\x20\\x20vec4\\x20origin1;\\x0a\\x20\\x20\\x20\\x20vec4\\x20origin2;\\x0a\\x20\\x20\\x20\\x20vec4\\x20origin3;\\x0a\\x20\\x20\\x20\\x20vec4\\x20result;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20z1;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20z2;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20z3;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20dnew;\\x0a\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20w;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20h;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20fCenterX;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20fCenterY;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20fRadius;\\x0a\\x20\\x20\\x20\\x20w\\x20=\\x201.0;\\x0a\\x20\\x20\\x20\\x20h\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x20(fRY2\\x20-\\x20fRY1);\\x0a\\x20\\x20\\x20\\x20fCenterX\\x20=\\x20(fRX1\\x20+\\x20fRX2)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20///<Բ��ʵ������\\x0a\\x20\\x20\\x20\\x20fCenterY\\x20=\\x20(fRY1\\x20+\\x20fRY2)\\x20/\\x202.0\\x20*\\x20h;\\x0a\\x20\\x20\\x20\\x20fRadius\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20///<�뾶ʵ�ʳ���\\x0a\\x0a\\x20\\x20\\x20\\x20origin1.s\\x20=\\x20v_uv.s\\x20-\\x200.5;\\x0a\\x20\\x20\\x20\\x20origin1.t\\x20=\\x20v_uv.t\\x20-\\x200.5;\\x0a\\x20\\x20\\x20\\x20z1\\x20=\\x20fZoom\\x20;\\x0a\\x0a\\x20\\x20\\x20\\x20origin2.s\\x20=\\x20origin1.s\\x20;\\x0a\\x20\\x20\\x20\\x20origin2.t\\x20=\\x20(origin1.t*fVAngleCos\\x20+\\x20z1*fVAngleSin);\\x0a\\x20\\x20\\x20\\x20z2\\x20=\\x20z1*fVAngleCos\\x20-\\x20origin1.t*fVAngleSin;\\x0a\\x0a\\x20\\x20\\x20\\x20origin3.s\\x20=\\x20origin2.s*fHAngleCos\\x20+\\x20z2*fHAngleSin\\x20;\\x0a\\x20\\x20\\x20\\x20origin3.t\\x20=\\x20origin2.y;\\x0a\\x20\\x20\\x20\\x20z3\\x20=\\x20z2*fHAngleCos\\x20-\\x20origin2.x*fHAngleSin;\\x0a\\x0a\\x20\\x20\\x20\\x20dnew\\x20=\\x20sqrt(origin3.s*origin3.s\\x20+\\x20origin3.t*origin3.t)\\x20;\\x0a\\x20\\x20\\x20\\x20float\\x20d\\x20=\\x20sqrt(origin3.s*origin3.s\\x20+\\x20origin3.t*origin3.t\\x20+\\x20z3*z3);\\x0a\\x20\\x20\\x20\\x20float\\x20theta\\x20=\\x20asin(dnew/d);\\x0a\\x20\\x20\\x20\\x20float\\x20tmp\\x20=\\x20theta\\x20/\\x201.5707963\\x20*\\x200.5;\\x0a\\x20\\x20\\x20\\x20result.s\\x20=\\x20(tmp*origin3.s\\x20/\\x20dnew\\x20*\\x20fRadius\\x20*\\x202.0\\x20+\\x20fCenterX)/w;\\x0a\\x20\\x20\\x20\\x20result.t\\x20=\\x20(tmp*origin3.t\\x20/\\x20dnew\\x20*\\x20fRadius\\x20*\\x202.0\\x20+\\x20fCenterY)/h;\\x0a\\x0a\\x20\\x20\\x20\\x20r\\x20=\\x20texture2D(texture,\\x20result.st).r;\\x20\\x0a\\x20\\x20\\x20\\x20g\\x20=\\x20texture2D(texture,\\x20result.st).g;\\x20\\x0a\\x20\\x20\\x20\\x20b\\x20=\\x20texture2D(texture,\\x20result.st).b;\\x20\\x0a\\x20\\x20\\x20\\x20if(result.s\\x20>\\x201.0\\x20||\\x20result.t\\x20>\\x201.0\\x20||\\x20result.s\\x20<\\x200.0\\x20||\\x20result.t\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20vec4(r\\x20,g\\x20,b\\x20,\\x201.0);\\x0a}\\x20\\x0a',this['bFECHandle']=!0x0,this['b3DPort']=!0x1;break;case _0x3468da[_0x1e3d1c(0x208)]:_0x12592a=_0xe651be,_0x5c2048=_0x1e3d1c(0x388),this[_0x1e3d1c(0x2bc)]=!0x0,this[_0x1e3d1c(0x367)]=!0x1;break;case _0x3468da[_0x1e3d1c(0x4f5)]:_0x12592a=_0xe651be,_0x5c2048=_0x1e3d1c(0x364),this['bFECHandle']=!0x0,this[_0x1e3d1c(0x367)]=!0x1;break;case _0x3468da[_0x1e3d1c(0x2f5)]:_0x12592a=_0xe651be,_0x5c2048=_0x1e3d1c(0x2be),this[_0x1e3d1c(0x2bc)]=!0x0,this['b3DPort']=!0x1;break;case _0x3468da[_0x1e3d1c(0x3a8)]:_0x12592a=_0xe651be,_0x5c2048='\\x0a\\x20\\x20\\x20\\x20precision\\x20highp\\x20float;\\x0a\\x20\\x20\\x20\\x20varying\\x20vec2\\x20v_uv;\\x0a\\x20\\x20\\x20\\x20uniform\\x20sampler2D\\x20texture;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fAngle;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRX1;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRX2;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRY1;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRY2;\\x0a\\x0a\\x20\\x20\\x20\\x20void\\x20main()\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20r,g,b;\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20origin;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20result;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20thetabase;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20d;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20newpp;\\x20\\x20///<180矫正pp纹理坐标的点对应360矫正newpp纹理坐标对应的点\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if\\x20(v_uv.t\\x20\\x20<=\\x200.5)\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20newpp.s\\x20=\\x20\\x20v_uv.s\\x20/\\x202.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20newpp.t\\x20=\\x20\\x20v_uv.t\\x20*\\x202.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20else\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20newpp.s\\x20=\\x20\\x20v_uv.s\\x20/\\x202.0\\x20+\\x200.5;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20newpp.t\\x20=\\x20\\x20(v_uv.t\\x20-\\x200.5)\\x20*\\x202.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20w;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fCenterX;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fCenterY;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fRadius;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20w\\x20=\\x201.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20h\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x20(fRY2\\x20-\\x20fRY1);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fCenterX\\x20=\\x20(fRX1\\x20+\\x20fRX2)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20///<圆心实际坐标\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fCenterY\\x20=\\x20(fRY1\\x20+\\x20fRY2)\\x20/\\x202.0\\x20*\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fRadius\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20\\x20///<半径实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20fMax\\x20=\\x200.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX2\\x20>\\x201.0\\x20||\\x20fRY2\\x20>\\x201.0\\x20||\\x20fRX1\\x20<\\x200.0\\x20||\\x20fRY1\\x20<\\x200.0)\\x20///<如果不是一个完整的圆\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX1\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20-fRX1\\x20*\\x20w;\\x20///<左边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX2\\x20>\\x201.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20(fRX2\\x20-\\x201.0)\\x20*\\x20w;\\x20///<右边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRY1\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20-fRY1\\x20*\\x20h;\\x20///<上边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRY2\\x20>\\x201.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20(fRY2\\x20-\\x201.0)\\x20*\\x20h;\\x20///<下边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20topCut\\x20=\\x20fMax\\x20/\\x20fRadius;\\x20\\x20\\x20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20bottomCut\\x20=\\x200.8;\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20///<为矫正效果,最终矫正图固定切掉下面一部分\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20origin.s\\x20=\\x201.0\\x20-\\x20newpp.s;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20origin.t\\x20=\\x20(bottomCut\\x20-\\x20topCut)\\x20*\\x20(1.0\\x20-\\x20newpp.t)\\x20+\\x20topCut;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20thetabase\\x20=\\x206.2831853\\x20*\\x20origin.s\\x20+\\x20fAngle;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20d\\x20=\\x20fRadius\\x20*\\x20(1.0\\x20-\\x20origin.t);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20result.s\\x20=\\x20(fCenterX\\x20-\\x20d*sin(thetabase))\\x20/\\x20w;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20result.t\\x20=\\x20(fCenterY\\x20+\\x20d*cos(thetabase))\\x20/\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x20texture2D(texture,\\x20result.st).r;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x20texture2D(texture,\\x20result.st).g;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x20texture2D(texture,\\x20result.st).b;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(result.s\\x20>\\x201.0\\x20||\\x20result.t\\x20>\\x201.0\\x20||\\x20result.s\\x20<\\x200.0\\x20||\\x20result.t\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20vec4(r\\x20,g\\x20,b\\x20,\\x201.0);\\x0a\\x20\\x20\\x20\\x20}\\x20\\x0a',this[_0x1e3d1c(0x2bc)]=!0x0,this['b3DPort']=!0x1;break;case _0x3468da[_0x1e3d1c(0x33c)]:_0x12592a=_0xe651be,_0x5c2048=SHADER_PS_RGBA_PANORAMA_WALL,this[_0x1e3d1c(0x2bc)]=!0x0,this['b3DPort']=!0x1;break;case _0x3468da['SR_DE_FISH_SEMISPHERE']:case _0x3468da[_0x1e3d1c(0x4dc)]:case _0x3468da[_0x1e3d1c(0x3a9)]:_0x12592a=_0x1e3d1c(0x332),_0x5c2048=_0x1e3d1c(0x423),this[_0x1e3d1c(0x2bc)]=!0x0,this[_0x1e3d1c(0x367)]=!0x0;}var _0x2d3c80=this[_0x1e3d1c(0x2b3)](_0x12592a,_0x5c2048),_0x2d3c80=(this[_0x1e3d1c(0x1e9)]=_0x2d3c80,null),_0x1a3228=null,_0x4fb145=(0x0==this[_0x1e3d1c(0x367)]?(_0x2d3c80=new Float32Array([-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,0x1,0x0,0x1,-0x1,0x0]),_0x1a3228=new Float32Array([0x0,0x1,0x0,0x0,0x1,0x0,0x1,0x1])):_0x2ec840==_0x3468da[_0x1e3d1c(0x2e3)]&&(this[_0x1e3d1c(0x354)](0x0,0x1,0x0,0x1),_0x2d3c80=this[_0x1e3d1c(0x2ea)],_0x1a3228=this[_0x1e3d1c(0x2d7)]),this[_0x1e3d1c(0x51e)]['createBuffer']()),_0x2d3c80=(this[_0x1e3d1c(0x51e)][_0x1e3d1c(0x408)](this[_0x1e3d1c(0x51e)][_0x1e3d1c(0x2f4)],_0x4fb145),this[_0x1e3d1c(0x51e)][_0x1e3d1c(0x416)](this['ctx'][_0x1e3d1c(0x2f4)],_0x2d3c80,this[_0x1e3d1c(0x51e)]['STATIC_DRAW']),this[_0x1e3d1c(0x52e)]=_0x4fb145,this[_0x1e3d1c(0x51e)][_0x1e3d1c(0x33d)]()),_0x4fb145=(this[_0x1e3d1c(0x51e)][_0x1e3d1c(0x408)](this['ctx'][_0x1e3d1c(0x2f4)],_0x2d3c80),this[_0x1e3d1c(0x51e)][_0x1e3d1c(0x416)](this[_0x1e3d1c(0x51e)]['ARRAY_BUFFER'],_0x1a3228,this['ctx'][_0x1e3d1c(0x33a)]),this[_0x1e3d1c(0x53d)]=_0x2d3c80,this[_0x1e3d1c(0x51e)][_0x1e3d1c(0x408)](this[_0x1e3d1c(0x51e)][_0x1e3d1c(0x2f4)],null),this['InitCamera'](_0x2ec840));return _0x13949e[_0x1e3d1c(0x4a6)]!=_0x4fb145?-0x1:(this[_0x1e3d1c(0x4d6)]=_0x2ec840,this['nFECPort']);}},{'key':_0x41470a(0x41e),'value':function(_0x2a4887){var _0x316efb=_0x41470a;return null==this['ctx']?_0x13949e[_0x316efb(0x2cf)]:(null!=this[_0x316efb(0x292)]&&this[_0x316efb(0x292)][_0x316efb(0x32d)](_0x2a4887),this['bFECHandle']=!0x1,this['enDisplayEffect']=_0x3468da[_0x316efb(0x3c1)],0x0!=this[_0x316efb(0x1e9)]&&null!=this[_0x316efb(0x51e)]&&(this[_0x316efb(0x51e)][_0x316efb(0x482)](this[_0x316efb(0x1e9)]),this['videoShaderProgram']=0x0),0x0!=this[_0x316efb(0x52e)]&&null!=this[_0x316efb(0x51e)]&&(this['ctx'][_0x316efb(0x459)](this['vertexPosBuffer']),this[_0x316efb(0x52e)]=0x0),0x0!=this[_0x316efb(0x53d)]&&null!=this['ctx']&&(this[_0x316efb(0x51e)][_0x316efb(0x459)](this[_0x316efb(0x53d)]),this[_0x316efb(0x53d)]=0x0),this[_0x316efb(0x540)]=0x0,this[_0x316efb(0x2a7)]=null,this[_0x316efb(0x232)]=null,0x0!=this['glLinePosBuffer']&&null!=this[_0x316efb(0x51e)]&&(this[_0x316efb(0x51e)]['deleteBuffer'](this[_0x316efb(0x442)]),this[_0x316efb(0x442)]=0x0),0x0!=this['glLineTexBuffer']&&null!=this[_0x316efb(0x51e)]&&(this[_0x316efb(0x51e)]['deleteBuffer'](this[_0x316efb(0x29c)]),this[_0x316efb(0x29c)]=0x0),(this[_0x316efb(0x350)]=0x0)!=this[_0x316efb(0x37f)]&&null!=this[_0x316efb(0x51e)]&&(this[_0x316efb(0x51e)]['deleteProgram'](this[_0x316efb(0x37f)]),this[_0x316efb(0x37f)]=0x0),this[_0x316efb(0x38b)]=null,this[_0x316efb(0x23d)]=null,(this[_0x316efb(0x453)]=0x0)!=this[_0x316efb(0x383)]&&null!=this[_0x316efb(0x51e)]&&(this[_0x316efb(0x51e)][_0x316efb(0x459)](this[_0x316efb(0x383)]),this['glBlockPosBuffer']=0x0),0x0!=this['glBlockClrBuffer']&&null!=this[_0x316efb(0x51e)]&&(this['ctx'][_0x316efb(0x459)](this[_0x316efb(0x50b)]),this[_0x316efb(0x50b)]=0x0),0x0!=this[_0x316efb(0x470)]&&null!=this[_0x316efb(0x51e)]&&(this[_0x316efb(0x51e)][_0x316efb(0x482)](this[_0x316efb(0x470)]),this[_0x316efb(0x470)]=0x0),null!=this['FreetypeLibHandle']&&null!=this[_0x316efb(0x395)]&&(this[_0x316efb(0x53e)]['Done_Face'](this[_0x316efb(0x395)]),this[_0x316efb(0x395)]=null),null!=this[_0x316efb(0x53e)]&&null!=this[_0x316efb(0x327)]&&(this[_0x316efb(0x53e)][_0x316efb(0x357)](this[_0x316efb(0x327)]),this[_0x316efb(0x327)]=null),this[_0x316efb(0x215)]=!0x1,this[_0x316efb(0x2c3)]=null,this[_0x316efb(0x53e)]=null,this[_0x316efb(0x391)]=0x0,(this['nDrawFontHeight']=0x0)!=this[_0x316efb(0x2f6)]&&null!=this[_0x316efb(0x51e)]&&(this[_0x316efb(0x51e)][_0x316efb(0x300)](this[_0x316efb(0x2f6)]),this[_0x316efb(0x2f6)]=0x0),(this[_0x316efb(0x2a6)]=0x0)!=this[_0x316efb(0x3c8)]&&null!=this['ctx']&&(this['ctx'][_0x316efb(0x482)](this[_0x316efb(0x3c8)]),this[_0x316efb(0x3c8)]=0x0),this['nFontBGNum']=0x0,this[_0x316efb(0x520)]=null,this[_0x316efb(0x2ea)]=null,this[_0x316efb(0x2d7)]=null,this[_0x316efb(0x340)]=0x0,this['nSemiSpherePosSize']=0x0,this[_0x316efb(0x406)]=0x0,this[_0x316efb(0x441)]=null,this[_0x316efb(0x4c0)]=null,this[_0x316efb(0x312)]=0x0,this[_0x316efb(0x3ff)]=0x0,this[_0x316efb(0x4f8)]=0x0,this[_0x316efb(0x2c1)]=0x0,this[_0x316efb(0x338)]=0x0,this[_0x316efb(0x367)]=!0x1,this[_0x316efb(0x2e1)]=null,this[_0x316efb(0x3da)]=0x0,this[_0x316efb(0x2a3)]=0x0,this[_0x316efb(0x44a)]=0x0,this[_0x316efb(0x229)]=null,this[_0x316efb(0x46c)]=null,this[_0x316efb(0x252)]=null,this[_0x316efb(0x4d5)]=null,this[_0x316efb(0x51e)][_0x316efb(0x54d)](this[_0x316efb(0x51e)]['CULL_FACE']),this[_0x316efb(0x51e)][_0x316efb(0x54d)](this[_0x316efb(0x51e)][_0x316efb(0x3cb)]),_0x13949e['SR_OK']);}},{'key':_0x41470a(0x511),'value':function(_0x30a173){var _0x52b312=_0x41470a;return null==_0x30a173?_0x13949e[_0x52b312(0x203)]:null==this[_0x52b312(0x292)]?_0x13949e[_0x52b312(0x2cf)]:this[_0x52b312(0x292)][_0x52b312(0x3e3)](this[_0x52b312(0x29e)],_0x30a173);}},{'key':_0x41470a(0x4f0),'value':function(_0x322778){var _0x1aa028=_0x41470a;return null==_0x322778?_0x13949e[_0x1aa028(0x203)]:null==this[_0x1aa028(0x292)]?_0x13949e[_0x1aa028(0x2cf)]:this['pFishParamManager']['SetFishParam'](this[_0x1aa028(0x29e)],_0x322778);}},{'key':'SR_SetDisplayRect','value':function(_0x2b0089,_0x6076ae,_0x183e35,_0x475f0e){var _0x307de6=_0x41470a;if(null==this[_0x307de6(0x51e)])return _0x13949e[_0x307de6(0x2cf)];var _0x58b1ac,_0x48adad,_0x3d05f0=null;return _0x3d05f0=0x0<this['frameDisplayWidth']&&0x0<this['frameDisplayHeight']?(_0x58b1ac=_0x2b0089/this[_0x307de6(0x502)],_0x48adad=_0x6076ae/this[_0x307de6(0x3b0)],_0x2b0089=(_0x2b0089+_0x183e35)/this[_0x307de6(0x502)],_0x183e35=(_0x6076ae+_0x475f0e)/this[_0x307de6(0x3b0)],new Float32Array([_0x58b1ac,_0x183e35,_0x58b1ac,_0x48adad,_0x2b0089,_0x48adad,_0x2b0089,_0x183e35])):new Float32Array([0x0,0x1,0x0,0x0,0x1,0x0,0x1,0x1]),this[_0x307de6(0x51e)][_0x307de6(0x408)](this[_0x307de6(0x51e)][_0x307de6(0x2f4)],this[_0x307de6(0x53d)]),this[_0x307de6(0x51e)][_0x307de6(0x306)](this[_0x307de6(0x51e)][_0x307de6(0x2f4)],0x0,_0x3d05f0),this['ctx'][_0x307de6(0x408)](this['ctx'][_0x307de6(0x2f4)],null),_0x13949e[_0x307de6(0x4a6)];}},{'key':_0x41470a(0x4b2),'value':function(){var _0x33b71d=_0x41470a;return null==this[_0x33b71d(0x51e)]?_0x13949e[_0x33b71d(0x2cf)]:(this['frameDisplayWidth']=0x0,(this[_0x33b71d(0x3b0)]=0x0)!=this[_0x33b71d(0x516)]&&null!=this[_0x33b71d(0x51e)]&&(this[_0x33b71d(0x51e)][_0x33b71d(0x300)](this['nSurfaceTexture']),this[_0x33b71d(0x516)]=0x0),0x0==this['bFECHandle']?this[_0x33b71d(0x41e)](0x0):-0x1!=this[_0x33b71d(0x29e)]&&this[_0x33b71d(0x41e)](this[_0x33b71d(0x29e)]),this[_0x33b71d(0x1f2)]=!0x1,this[_0x33b71d(0x4a5)]=!0x1,this['bRecreateTex']=!0x0,this[_0x33b71d(0x292)]=null,this[_0x33b71d(0x42d)]=null,this[_0x33b71d(0x51e)]=null,_0x13949e['SR_OK']);}},{'key':'SR_SetCanvasSize','value':function(_0x207390,_0x1713c2){var _0x24221c=_0x41470a;return this[_0x24221c(0x42d)][_0x24221c(0x36f)]=_0x207390,this[_0x24221c(0x42d)][_0x24221c(0x483)]=_0x1713c2,_0x13949e[_0x24221c(0x4a6)];}},{'key':_0x41470a(0x547),'value':function(){var _0x4eca94=_0x41470a;return console[_0x4eca94(0x514)]('canvas\\x20width:'+this[_0x4eca94(0x42d)][_0x4eca94(0x36f)]+_0x4eca94(0x254)+this['canvas'][_0x4eca94(0x483)]),_0x13949e[_0x4eca94(0x4a6)];}},{'key':'SR_SetAntialias','value':function(_0x1679a2){var _0x46f517=_0x41470a;return 0x1==this[_0x46f517(0x1f2)]?_0x13949e[_0x46f517(0x38d)]:(this['bAntialias']!=_0x1679a2&&(this['bRecreateTex']=!0x0,this[_0x46f517(0x4a5)]=_0x1679a2),_0x13949e[_0x46f517(0x4a6)]);}},{'key':_0x41470a(0x2e7),'value':function(_0x317974){var _0x445de9=_0x41470a;return null==this[_0x445de9(0x292)]?_0x13949e[_0x445de9(0x2cf)]:this[_0x445de9(0x292)][_0x445de9(0x524)](_0x317974);}},{'key':_0x41470a(0x32f),'value':function(_0x2131ed){var _0x49d7dd=_0x41470a;return null!=this[_0x49d7dd(0x292)]?_0x13949e['SR_ERR_NOT_SUPPORT']:(this[_0x49d7dd(0x292)]=_0x2131ed,_0x13949e[_0x49d7dd(0x4a6)]);}},{'key':'CreateSemiSphere','value':function(_0x588ab8,_0x1c765f,_0x5931b2,_0x3aff66){var _0x11a651=_0x41470a;if(null!=this[_0x11a651(0x2ea)]||null!=this[_0x11a651(0x2d7)])return _0x13949e['SR_ERR_CALL_ORDER'];this['pSemiSpherePos']=new Float32Array(0xa8c0),this[_0x11a651(0x2d7)]=new Float32Array(0x7080);for(var _0x89f603=(_0x1c765f-_0x588ab8)/(_0x3aff66-_0x5931b2),_0x2dc0d6=(_0x1c765f-_0x588ab8)/0x2*0x1,_0x29f8b8=0x2*_0x48e6bf/0x3c,_0x477a78=_0x48e6bf/0x2/0x28,_0x565c8b=0x0,_0x979fe=0x0,_0x2b59f3=0x0,_0x36fa65=0x0;_0x36fa65<0x3c;++_0x36fa65)for(var _0x1fea2a=0x0;_0x1fea2a<0x28;++_0x1fea2a){var _0x386255,_0x229ce8,_0x52e92e=_0x36fa65*_0x29f8b8,_0x493bfb=(0x0==_0x36fa65&&(_0x565c8b=_0x52e92e),0x3b==_0x36fa65?_0x565c8b:(_0x36fa65+0x1)*_0x29f8b8),_0x528b78=-_0x1fea2a*_0x477a78,_0x4246b9=-(_0x1fea2a+0x1)*_0x477a78;this[_0x11a651(0x2ea)][_0x979fe]=-0x1*Math[_0x11a651(0x34b)](_0x528b78)*Math[_0x11a651(0x34b)](_0x52e92e),this[_0x11a651(0x2ea)][_0x979fe+0x1]=+Math['sin'](_0x528b78),this['pSemiSpherePos'][_0x979fe+0x2]=-0x1*Math[_0x11a651(0x34b)](_0x528b78)*Math['sin'](_0x52e92e),_0x229ce8=0.5-0.5*(0x1+_0x528b78/(_0x48e6bf/0x2))*Math[_0x11a651(0x202)](_0x52e92e),_0x386255=0.5-0.5*(0x1+_0x528b78/(_0x48e6bf/0x2))*Math[_0x11a651(0x34b)](_0x52e92e),this[_0x11a651(0x2d7)][_0x2b59f3++]=0x2*_0x386255*_0x2dc0d6+ +_0x588ab8,this[_0x11a651(0x2d7)][_0x2b59f3++]=(0x2*_0x229ce8*_0x2dc0d6+_0x5931b2*_0x89f603)/_0x89f603,_0x979fe+=0x3,this['pSemiSpherePos'][_0x979fe]=-0x1*Math['cos'](_0x4246b9)*Math[_0x11a651(0x34b)](_0x52e92e),this[_0x11a651(0x2ea)][_0x979fe+0x1]=+Math['sin'](_0x4246b9),this['pSemiSpherePos'][_0x979fe+0x2]=-0x1*Math[_0x11a651(0x34b)](_0x4246b9)*Math[_0x11a651(0x202)](_0x52e92e),_0x229ce8=0.5-0.5*(0x1+_0x4246b9/(_0x48e6bf/0x2))*Math[_0x11a651(0x202)](_0x52e92e),_0x386255=0.5-0.5*(0x1+_0x4246b9/(_0x48e6bf/0x2))*Math[_0x11a651(0x34b)](_0x52e92e),this[_0x11a651(0x2d7)][_0x2b59f3++]=0x2*_0x386255*_0x2dc0d6+ +_0x588ab8,this[_0x11a651(0x2d7)][_0x2b59f3++]=(0x2*_0x229ce8*_0x2dc0d6+_0x5931b2*_0x89f603)/_0x89f603,_0x979fe+=0x3,this[_0x11a651(0x2ea)][_0x979fe]=-0x1*Math[_0x11a651(0x34b)](_0x528b78)*Math[_0x11a651(0x34b)](_0x493bfb),this[_0x11a651(0x2ea)][_0x979fe+0x1]=+Math[_0x11a651(0x202)](_0x528b78),this[_0x11a651(0x2ea)][_0x979fe+0x2]=-0x1*Math[_0x11a651(0x34b)](_0x528b78)*Math['sin'](_0x493bfb),_0x229ce8=0.5-0.5*(0x1+_0x528b78/(_0x48e6bf/0x2))*Math[_0x11a651(0x202)](_0x493bfb),_0x386255=0.5-0.5*(0x1+_0x528b78/(_0x48e6bf/0x2))*Math[_0x11a651(0x34b)](_0x493bfb),this[_0x11a651(0x2d7)][_0x2b59f3++]=0x2*_0x386255*_0x2dc0d6+ +_0x588ab8,this[_0x11a651(0x2d7)][_0x2b59f3++]=(0x2*_0x229ce8*_0x2dc0d6+_0x5931b2*_0x89f603)/_0x89f603,_0x979fe+=0x3,this[_0x11a651(0x2ea)][_0x979fe]=-0x1*Math[_0x11a651(0x34b)](_0x528b78)*Math[_0x11a651(0x34b)](_0x493bfb),this[_0x11a651(0x2ea)][_0x979fe+0x1]=+Math[_0x11a651(0x202)](_0x528b78),this[_0x11a651(0x2ea)][_0x979fe+0x2]=-0x1*Math['cos'](_0x528b78)*Math[_0x11a651(0x202)](_0x493bfb),_0x229ce8=0.5-0.5*(0x1+_0x528b78/(_0x48e6bf/0x2))*Math['sin'](_0x493bfb),_0x386255=0.5-0.5*(0x1+_0x528b78/(_0x48e6bf/0x2))*Math[_0x11a651(0x34b)](_0x493bfb),this[_0x11a651(0x2d7)][_0x2b59f3++]=0x2*_0x386255*_0x2dc0d6+ +_0x588ab8,this[_0x11a651(0x2d7)][_0x2b59f3++]=(0x2*_0x229ce8*_0x2dc0d6+_0x5931b2*_0x89f603)/_0x89f603,_0x979fe+=0x3,this[_0x11a651(0x2ea)][_0x979fe]=-0x1*Math[_0x11a651(0x34b)](_0x4246b9)*Math[_0x11a651(0x34b)](_0x52e92e),this[_0x11a651(0x2ea)][_0x979fe+0x1]=+Math[_0x11a651(0x202)](_0x4246b9),this['pSemiSpherePos'][_0x979fe+0x2]=-0x1*Math['cos'](_0x4246b9)*Math[_0x11a651(0x202)](_0x52e92e),_0x229ce8=0.5-0.5*(0x1+_0x4246b9/(_0x48e6bf/0x2))*Math[_0x11a651(0x202)](_0x52e92e),_0x386255=0.5-0.5*(0x1+_0x4246b9/(_0x48e6bf/0x2))*Math[_0x11a651(0x34b)](_0x52e92e),this[_0x11a651(0x2d7)][_0x2b59f3++]=0x2*_0x386255*_0x2dc0d6+ +_0x588ab8,this[_0x11a651(0x2d7)][_0x2b59f3++]=(0x2*_0x229ce8*_0x2dc0d6+_0x5931b2*_0x89f603)/_0x89f603,_0x979fe+=0x3,this[_0x11a651(0x2ea)][_0x979fe]=-0x1*Math['cos'](_0x4246b9)*Math[_0x11a651(0x34b)](_0x493bfb),this[_0x11a651(0x2ea)][_0x979fe+0x1]=+Math['sin'](_0x4246b9),this[_0x11a651(0x2ea)][_0x979fe+0x2]=-0x1*Math['cos'](_0x4246b9)*Math[_0x11a651(0x202)](_0x493bfb),_0x229ce8=0.5-0.5*(0x1+_0x4246b9/(_0x48e6bf/0x2))*Math[_0x11a651(0x202)](_0x493bfb),_0x386255=0.5-0.5*(0x1+_0x4246b9/(_0x48e6bf/0x2))*Math[_0x11a651(0x34b)](_0x493bfb),this[_0x11a651(0x2d7)][_0x2b59f3++]=0x2*_0x386255*_0x2dc0d6+ +_0x588ab8,this[_0x11a651(0x2d7)][_0x2b59f3++]=(0x2*_0x229ce8*_0x2dc0d6+_0x5931b2*_0x89f603)/_0x89f603,_0x979fe+=0x3;}return this[_0x11a651(0x340)]=_0x979fe/0x3,this['nSemiSpherePosSize']=0x3,this[_0x11a651(0x406)]=0x2,_0x13949e[_0x11a651(0x4a6)];}},{'key':_0x41470a(0x41d),'value':function(_0x47413c){var _0x591aa0=_0x41470a;if(null!=this[_0x591aa0(0x2e1)])return SR_ERR_CALL_ORDER;switch(_0x47413c){case _0x3468da['SR_DE_NULL']:case _0x3468da[_0x591aa0(0x224)]:case _0x3468da[_0x591aa0(0x2b7)]:case _0x3468da['SR_DE_FISH_PTZ_FLOOR']:case _0x3468da['SR_DE_FISH_PTZ_WALL']:case _0x3468da[_0x591aa0(0x208)]:case _0x3468da[_0x591aa0(0x4f5)]:case _0x3468da['SR_DE_FISH_PANORAMA_FLOOR_360']:case _0x3468da['SR_DE_FISH_PANORAMA_FLOOR_180']:case _0x3468da[_0x591aa0(0x33c)]:return _0x13949e[_0x591aa0(0x4a6)];case _0x3468da['SR_DE_FISH_SEMISPHERE']:if(this['pCamera']=new _0x53ee33(),null==this[_0x591aa0(0x2e1)])return _0x13949e[_0x591aa0(0x37b)];this[_0x591aa0(0x2e1)]['SetFov'](_0x479a0f),this[_0x591aa0(0x2e1)][_0x591aa0(0x420)](0.02),this['pCamera'][_0x591aa0(0x3af)](0x3e8),this[_0x591aa0(0x3da)]=1.57,this[_0x591aa0(0x2e1)][_0x591aa0(0x458)](3.14-this[_0x591aa0(0x3da)]),this['fScale']=0x3,this[_0x591aa0(0x2e1)][_0x591aa0(0x26d)](this[_0x591aa0(0x44a)]);break;case _0x3468da[_0x591aa0(0x4dc)]:case _0x3468da[_0x591aa0(0x3a9)]:if(this[_0x591aa0(0x2e1)]=new _0x53ee33(),null==this['pCamera'])return _0x13949e[_0x591aa0(0x37b)];this[_0x591aa0(0x2e1)][_0x591aa0(0x3a6)](_0x479a0f),this[_0x591aa0(0x2e1)][_0x591aa0(0x420)](0.02),this[_0x591aa0(0x2e1)]['SetFar'](0x3e8),this[_0x591aa0(0x3da)]=-0.785,this['pCamera'][_0x591aa0(0x458)](-this[_0x591aa0(0x3da)]),this[_0x591aa0(0x44a)]=0x6,this['pCamera'][_0x591aa0(0x26d)](this[_0x591aa0(0x44a)]);break;case _0x3468da[_0x591aa0(0x3f3)]:case _0x3468da[_0x591aa0(0x4f9)]:if(this['pCamera']=new _0x53ee33(),null==this[_0x591aa0(0x2e1)])return _0x13949e[_0x591aa0(0x37b)];this[_0x591aa0(0x2e1)][_0x591aa0(0x43a)](!0x0),this['pCamera']['SetNear'](0.02),this['pCamera'][_0x591aa0(0x3af)](0x3e8),this[_0x591aa0(0x44a)]=0x3,this[_0x591aa0(0x2e1)][_0x591aa0(0x26d)](this[_0x591aa0(0x44a)]);break;default:return _0x13949e['SR_ERR_NOT_SUPPORT'];}return _0x13949e[_0x591aa0(0x4a6)];}},{'key':'SR_SetViewParam','value':function(_0x1fe8af,_0x595f9f){var _0x46cae3=_0x41470a;if(!this[_0x46cae3(0x367)])return _0x13949e[_0x46cae3(0x38d)];switch(_0x1fe8af){case _0x30de30:this[_0x46cae3(0x3da)]=_0x595f9f;break;case _0x4d39af:this['fRotateY']=_0x595f9f;break;case _0x1ab3fe:if(this['enDisplayEffect']==_0x3468da['SR_DE_FISH_SEMISPHERE']){if(_0x595f9f<-0.8||0x384<_0x595f9f)return _0x13949e['SR_ERR_PARAM'];}else{if((this['enDisplayEffect']==_0x3468da[_0x46cae3(0x3a9)]||this['enDisplayEffect']==_0x3468da[_0x46cae3(0x4dc)])&&(_0x595f9f<0x0||0x384<_0x595f9f))return _0x13949e[_0x46cae3(0x203)];}this[_0x46cae3(0x44a)]=_0x595f9f;break;default:return _0x13949e['SR_ERR_NOT_SUPPORT'];}return _0x13949e['SR_OK'];}},{'key':'SR_GetViewParam','value':function(_0x4441eb){var _0x5ea28a=_0x41470a;if(!this[_0x5ea28a(0x367)])return _0x13949e[_0x5ea28a(0x38d)];var _0x33a1bc=0x0;switch(_0x4441eb){case _0x30de30:_0x33a1bc=this[_0x5ea28a(0x3da)];break;case _0x4d39af:_0x33a1bc=this[_0x5ea28a(0x2a3)];break;case _0x1ab3fe:_0x33a1bc=this[_0x5ea28a(0x44a)];}return _0x33a1bc;}},{'key':_0x41470a(0x1cf),'value':function(_0x46c4c9,_0x3fd11a,_0x1dc6f8){var _0x5c215d=_0x41470a;switch(_0x1dc6f8){case _0x158a35:this[_0x5c215d(0x229)]=_0x46c4c9,this[_0x5c215d(0x252)]=_0x3fd11a;break;case _0x3b9975:this[_0x5c215d(0x46c)]=_0x46c4c9,this[_0x5c215d(0x4d5)]=_0x3fd11a;break;default:return _0x13949e[_0x5c215d(0x38d)];}return _0x13949e[_0x5c215d(0x4a6)];}},{'key':_0x41470a(0x3a7),'value':function(_0x602221,_0x550a34){var _0x2dac91=_0x41470a;switch(_0x602221){case _0x17dd0b:if(this['b3DPort'])return _0x13949e['SR_ERR_NOT_SUPPORT'];break;case _0x45c70b:if(!this[_0x2dac91(0x367)])return _0x13949e['SR_ERR_NOT_SUPPORT'];Math[_0x2dac91(0x1e6)](+_0x550a34)<_0x3e9a49?this[_0x2dac91(0x3dd)]=!0x1:this[_0x2dac91(0x3dd)]=!0x0;break;default:return _0x13949e['SR_ERR_NOT_SUPPORT'];}return _0x13949e['SR_OK'];}},{'key':_0x41470a(0x4a2),'value':function(_0xe205e6,_0x20791a){var _0x1c3566=_0x41470a;return null==this[_0x1c3566(0x292)]?_0x13949e['SR_ERR_CALL_ORDER']:this['pFishParamManager'][_0x1c3566(0x52c)](_0xe205e6,_0x20791a);}},{'key':_0x41470a(0x222),'value':function(_0x29e130,_0x2e3087){var _0x540248=_0x41470a;return null==this['pFishParamManager']?_0x13949e[_0x540248(0x2cf)]:this['pFishParamManager'][_0x540248(0x1f6)](_0x29e130,_0x2e3087);}},{'key':_0x41470a(0x235),'value':function(_0x5a6d67){var _0x55929a=_0x41470a;return null==this[_0x55929a(0x292)]?_0x13949e[_0x55929a(0x2cf)]:this[_0x55929a(0x292)][_0x55929a(0x3ca)](_0x5a6d67);}},{'key':_0x41470a(0x400),'value':function(_0x12abc9,_0x117dd9){var _0x5119f3=_0x41470a;return null==this[_0x5119f3(0x292)]?_0x13949e[_0x5119f3(0x2cf)]:this['pFishParamManager'][_0x5119f3(0x533)](_0x12abc9,_0x117dd9);}}]),_0x27b1ac;}()),_0x56d25f=(function(){var _0x194ca7=_0x99d5a2;function _0x396cfd(){var _0xc5ce7f=a0_0x1593;_0x160316(this,_0x396cfd),this[_0xc5ce7f(0x42d)]=null,this[_0xc5ce7f(0x51e)]=null,this[_0xc5ce7f(0x45f)]=0x0,this[_0xc5ce7f(0x3d7)]=0x0,this['regionSw']=0x0,this[_0xc5ce7f(0x206)]=0x0,this[_0xc5ce7f(0x1fc)]=!0x1,this['bAntialias']=!0x1,this[_0xc5ce7f(0x3fa)]=!0x1;}return _0x5a3b91(_0x396cfd,[{'key':'SR_Init','value':function(_0x4f15ab){var _0x143e71=a0_0x1593;this[_0x143e71(0x42d)]=_0x4f15ab,this['ctx']=this['canvas'][_0x143e71(0x2b2)]('2d'),this[_0x143e71(0x51e)]||console['log'](_0x143e71(0x236));}},{'key':_0x194ca7(0x28d),'value':function(_0x5f4a25){var _0x315fd6=_0x194ca7;this[_0x315fd6(0x1fc)]?this['ctx'][_0x315fd6(0x283)](_0x5f4a25,this['regionSx'],this[_0x315fd6(0x3d7)],this['regionSw'],this[_0x315fd6(0x206)],0x0,0x0,this[_0x315fd6(0x42d)][_0x315fd6(0x36f)],this['canvas'][_0x315fd6(0x483)]):this[_0x315fd6(0x51e)][_0x315fd6(0x283)](_0x5f4a25,0x0,0x0,_0x5f4a25['displayWidth'],_0x5f4a25['displayHeight'],0x0,0x0,this['canvas'][_0x315fd6(0x36f)],this[_0x315fd6(0x42d)][_0x315fd6(0x483)]);}},{'key':_0x194ca7(0x41e),'value':function(_0xfa3fbc){return 0x0;}},{'key':'SR_AddSubPort','value':function(_0x37b347){return 0x0;}},{'key':'SR_SetDisplayRect','value':function(_0x1b52b1,_0x25a882,_0x4089d7,_0x57c4c0){var _0x35e773=_0x194ca7;this['regionSx']=_0x1b52b1,this[_0x35e773(0x3d7)]=_0x25a882,this[_0x35e773(0x214)]=_0x4089d7,this[_0x35e773(0x206)]=_0x57c4c0,this[_0x35e773(0x1fc)]=!0x0;}},{'key':_0x194ca7(0x4b2),'value':function(){var _0x1354c2=_0x194ca7;this['canvas']=null,this[_0x1354c2(0x51e)]=null,this[_0x1354c2(0x45f)]=0x0,this[_0x1354c2(0x3d7)]=0x0,this[_0x1354c2(0x214)]=0x0,this[_0x1354c2(0x206)]=0x0,this[_0x1354c2(0x1fc)]=!0x1;}},{'key':_0x194ca7(0x375),'value':function(_0x2a45c5,_0x4547c6){var _0x457b41=_0x194ca7;this[_0x457b41(0x42d)][_0x457b41(0x36f)]=_0x2a45c5,this[_0x457b41(0x42d)]['height']=_0x4547c6;}},{'key':'SR_GetCanvasSize','value':function(){var _0x383cab=_0x194ca7;console[_0x383cab(0x514)](_0x383cab(0x4bb)+this[_0x383cab(0x42d)][_0x383cab(0x36f)]+_0x383cab(0x254)+this[_0x383cab(0x42d)][_0x383cab(0x483)]);}},{'key':_0x194ca7(0x49d),'value':function(_0x515c7b){var _0x3308cd=_0x194ca7;return _0x515c7b!=this[_0x3308cd(0x4a5)]?(this['bAntialias']=_0x515c7b,this['bRecreateAntia']=!0x0):this['bRecreateAntia']=!0x1,this[_0x3308cd(0x3fa)]&&(this['bAntialias']?(this[_0x3308cd(0x42d)]['width']=0x5*this[_0x3308cd(0x42d)]['width'],this[_0x3308cd(0x42d)][_0x3308cd(0x483)]=0x5*this[_0x3308cd(0x42d)][_0x3308cd(0x483)],this['canvas'][_0x3308cd(0x21e)]['transform']=_0x3308cd(0x262)):(this['canvas'][_0x3308cd(0x36f)]=this[_0x3308cd(0x42d)][_0x3308cd(0x36f)]/0x5,this[_0x3308cd(0x42d)][_0x3308cd(0x483)]=this[_0x3308cd(0x42d)][_0x3308cd(0x483)]/0x5,this[_0x3308cd(0x42d)][_0x3308cd(0x21e)]['transform']=_0x3308cd(0x51f)),this['canvas'][_0x3308cd(0x21e)]['transformOrigin']=_0x3308cd(0x2f0)),0x1;}}]),_0x396cfd;}()),_0x30e60b=(function(){var _0x22f0ab=_0x99d5a2;function _0x92cc8d(){var _0x4f934c=a0_0x1593;_0x160316(this,_0x92cc8d),this[_0x4f934c(0x3ee)]=[],this[_0x4f934c(0x45b)]=[],this[_0x4f934c(0x1ee)]=[],this[_0x4f934c(0x320)]=[],this['pPTZSetColor']=null,this[_0x4f934c(0x43d)]=[],this[_0x4f934c(0x21c)]=[],this[_0x4f934c(0x538)]=[],this[_0x4f934c(0x371)]=[],this['pBasePTZPoints']=[],this[_0x4f934c(0x3ab)]=[],this[_0x4f934c(0x47b)]=[],this[_0x4f934c(0x4bc)]=[],this[_0x4f934c(0x334)]=_0x366953,this[_0x4f934c(0x1f8)]=0x0,this[_0x4f934c(0x3aa)]=0x1,this[_0x4f934c(0x34c)]=0x0,this[_0x4f934c(0x4ed)]=0x1,this[_0x4f934c(0x40f)]=!0x1,this[_0x4f934c(0x22d)]=[],this[_0x4f934c(0x3bb)]=[],this[_0x4f934c(0x270)]=-0x1,this[_0x4f934c(0x344)]=0x0,this[_0x4f934c(0x3ae)]=[],this[_0x4f934c(0x447)]=[],this['nPTZDisplayMode']=_0x46c232;for(var _0xf4bb4d=0x0;_0xf4bb4d<0x20;++_0xf4bb4d){this[_0x4f934c(0x3ee)][_0xf4bb4d]=!0x1,this[_0x4f934c(0x447)][_0xf4bb4d]=!0x1,this['pRenderParam'][_0xf4bb4d]=[],this[_0x4f934c(0x45b)][_0xf4bb4d][_0x4f934c(0x265)]=0x1,this[_0x4f934c(0x45b)][_0xf4bb4d]['fSinH']=0x0,this[_0x4f934c(0x45b)][_0xf4bb4d][_0x4f934c(0x405)]=0x1,this[_0x4f934c(0x45b)][_0xf4bb4d]['fSinV']=0x0,this[_0x4f934c(0x45b)][_0xf4bb4d][_0x4f934c(0x314)]=0x0,this[_0x4f934c(0x45b)][_0xf4bb4d][_0x4f934c(0x3f4)]=0x0,this['pRenderParam'][_0xf4bb4d]['fRX1']=0x0,this['pRenderParam'][_0xf4bb4d][_0x4f934c(0x3aa)]=0x1,this[_0x4f934c(0x45b)][_0xf4bb4d][_0x4f934c(0x34c)]=0x0,this['pRenderParam'][_0xf4bb4d][_0x4f934c(0x4ed)]=0x1,this[_0x4f934c(0x45b)][_0xf4bb4d]['nDisplayEffect']=0x0,this[_0x4f934c(0x45b)][_0xf4bb4d]['bBlack']=!0x1,this[_0x4f934c(0x45b)][_0xf4bb4d][_0x4f934c(0x324)]=!0x1,this[_0x4f934c(0x1ee)][_0xf4bb4d]=[],this[_0x4f934c(0x1ee)][_0xf4bb4d]['nFishParamType']=0x0,this['pFishParam'][_0xf4bb4d][_0x4f934c(0x27e)]=0x0,this[_0x4f934c(0x1ee)][_0xf4bb4d][_0x4f934c(0x469)]=0x1,this[_0x4f934c(0x1ee)][_0xf4bb4d][_0x4f934c(0x2bb)]=0x0,this['pFishParam'][_0xf4bb4d][_0x4f934c(0x2e9)]=0x1,this['pFishParam'][_0xf4bb4d][_0x4f934c(0x40f)]=!0x1,this[_0x4f934c(0x1ee)][_0xf4bb4d]['bCut']=!0x1,this[_0x4f934c(0x1ee)][_0xf4bb4d][_0x4f934c(0x314)]=0x0,this[_0x4f934c(0x1ee)][_0xf4bb4d][_0x4f934c(0x3f4)]=0x0,this['pFishParam'][_0xf4bb4d][_0x4f934c(0x3d6)]=0.5,this['pFishParam'][_0xf4bb4d][_0x4f934c(0x40c)]=0.5,this[_0x4f934c(0x320)][_0xf4bb4d]=[],this[_0x4f934c(0x320)][_0xf4bb4d]['fR']=0x0,this[_0x4f934c(0x320)][_0xf4bb4d]['fG']=0x0,this['stPTZColor'][_0xf4bb4d]['fB']=0x0,this[_0x4f934c(0x320)][_0xf4bb4d]['fA']=0x0,this['nBasePTZPointNum'][_0xf4bb4d]=0x0,this[_0x4f934c(0x21c)][_0xf4bb4d]=0x0,this[_0x4f934c(0x538)][_0xf4bb4d]=0x0,this['nPTZRectNum'][_0xf4bb4d]=0x0,this[_0x4f934c(0x3ab)][_0xf4bb4d]=[],this[_0x4f934c(0x47b)][_0xf4bb4d]=[],this[_0x4f934c(0x3bb)][_0xf4bb4d]=[],this[_0x4f934c(0x22d)][_0xf4bb4d]=[];for(var _0x28d702=0x0;_0x28d702<0x4;++_0x28d702)this['pRectPoints'][_0xf4bb4d][_0x28d702]=[],this[_0x4f934c(0x47b)][_0xf4bb4d][_0x28d702]['fX']=0x0,this['pRectPoints'][_0xf4bb4d][_0x28d702]['fY']=0x0;for(var _0xbb769f=0x0;_0xbb769f<0x400;++_0xbb769f)this[_0x4f934c(0x3bb)][_0xf4bb4d][_0xbb769f]=[],this[_0x4f934c(0x3bb)][_0xf4bb4d][_0xbb769f]['fX']=0x0,this[_0x4f934c(0x3bb)][_0xf4bb4d][_0xbb769f]['fY']=0x0,this[_0x4f934c(0x22d)][_0xf4bb4d][_0xbb769f]=[],this[_0x4f934c(0x22d)][_0xf4bb4d][_0xbb769f]['fX']=0x0,this[_0x4f934c(0x22d)][_0xf4bb4d][_0xbb769f]['fY']=0x0,this[_0x4f934c(0x3ab)][_0xf4bb4d][_0xbb769f]=[],this[_0x4f934c(0x3ab)][_0xf4bb4d][_0xbb769f]['fX']=0x0,this[_0x4f934c(0x3ab)][_0xf4bb4d][_0xbb769f]['fY']=0x0;this[_0x4f934c(0x371)][_0xf4bb4d]=0x0,this[_0x4f934c(0x3ae)][_0xf4bb4d]=[];for(var _0x1897e7=0x0;_0x1897e7<0x64;++_0x1897e7)this[_0x4f934c(0x3ae)][_0xf4bb4d][_0x1897e7]=0x0;}this[_0x4f934c(0x331)]();}return _0x5a3b91(_0x92cc8d,[{'key':_0x22f0ab(0x276),'value':function(_0x56bf04){var _0x87e280=_0x22f0ab;for(var _0x2a3532=-0x1,_0x3e7f70=0x0;_0x3e7f70<0x20;++_0x3e7f70)if(0x0==this[_0x87e280(0x3ee)][_0x3e7f70]){_0x2a3532=_0x3e7f70;break;}if(-0x1!=_0x2a3532){var _0x4f8a2f=this['JudgeDisplayEffect'](_0x56bf04);if(_0x13949e[_0x87e280(0x4a6)]!=_0x4f8a2f)return this[_0x87e280(0x32d)](_0x2a3532),_0x2a3532=-0x1;if(_0x3468da['SR_DE_FISH_PANORAMA_CEILING_360']==_0x56bf04||_0x3468da[_0x87e280(0x4f5)]==_0x56bf04||_0x3468da[_0x87e280(0x2f5)]==_0x56bf04||_0x3468da[_0x87e280(0x3a8)]==_0x56bf04||_0x3468da['SR_DE_FISH_PANORAMA_WALL']==_0x56bf04||_0x3468da[_0x87e280(0x224)]==_0x56bf04){if(-0x1!=this[_0x87e280(0x270)])return this[_0x87e280(0x32d)](_0x2a3532),_0x2a3532=-0x1;this['nWndPort']=_0x2a3532;}if(!(_0x3468da[_0x87e280(0x2b7)]!=_0x56bf04&&_0x3468da[_0x87e280(0x4c2)]!=_0x56bf04&&_0x3468da['SR_DE_FISH_PTZ_WALL']!=_0x56bf04||-0x1==this[_0x87e280(0x270)]||null==this['pRenderParam'][this[_0x87e280(0x270)]]||_0x3468da[_0x87e280(0x4f5)]!=this['pRenderParam'][this[_0x87e280(0x270)]][_0x87e280(0x1fe)]&&_0x3468da[_0x87e280(0x3a8)]!=this[_0x87e280(0x45b)][this[_0x87e280(0x270)]][_0x87e280(0x1fe)]))return this[_0x87e280(0x32d)](_0x2a3532),_0x2a3532=-0x1;if(_0x3468da[_0x87e280(0x4f5)]==_0x56bf04||_0x3468da[_0x87e280(0x3a8)]==_0x56bf04){for(var _0x3cbb7b=0x0;_0x3cbb7b<0x20;++_0x3cbb7b)if(null!=this[_0x87e280(0x45b)][_0x3cbb7b]&&(_0x3468da[_0x87e280(0x2b7)]==this[_0x87e280(0x45b)][_0x3cbb7b][_0x87e280(0x1fe)]||_0x3468da[_0x87e280(0x4c2)]==this['pRenderParam'][_0x3cbb7b]['nDisplayEffect']||_0x3468da[_0x87e280(0x4bf)]==this[_0x87e280(0x45b)][_0x3cbb7b][_0x87e280(0x1fe)]))return this[_0x87e280(0x32d)](_0x2a3532),_0x2a3532=-0x1;}if(_0x3468da['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']==_0x56bf04){for(var _0x31b750=0x0;_0x31b750<0x20;++_0x31b750)if(null!=this['pRenderParam'][_0x31b750]&&_0x3468da[_0x87e280(0x26f)]==this['pRenderParam'][_0x31b750][_0x87e280(0x1fe)])return this[_0x87e280(0x32d)](_0x2a3532),_0x2a3532=-0x1;}if(_0x3468da[_0x87e280(0x26f)]==_0x56bf04){for(var _0x2938a6=0x0;_0x2938a6<0x20;++_0x2938a6)if(null!=this[_0x87e280(0x45b)][_0x2938a6]&&_0x3468da[_0x87e280(0x36e)]==this[_0x87e280(0x45b)][_0x2938a6][_0x87e280(0x1fe)])return this[_0x87e280(0x32d)](_0x2a3532),_0x2a3532=-0x1;}this[_0x87e280(0x45b)][_0x2a3532][_0x87e280(0x265)]=0x1,this[_0x87e280(0x45b)][_0x2a3532][_0x87e280(0x2ee)]=0x0,this[_0x87e280(0x45b)][_0x2a3532][_0x87e280(0x405)]=0x1,this[_0x87e280(0x45b)][_0x2a3532]['fSinH']=0x0,this['pRenderParam'][_0x2a3532][_0x87e280(0x314)]=0x0,this[_0x87e280(0x45b)][_0x2a3532][_0x87e280(0x1f8)]=this[_0x87e280(0x1f8)],this['pRenderParam'][_0x2a3532][_0x87e280(0x3aa)]=this[_0x87e280(0x3aa)],this[_0x87e280(0x45b)][_0x2a3532][_0x87e280(0x34c)]=this[_0x87e280(0x34c)],this['pRenderParam'][_0x2a3532][_0x87e280(0x4ed)]=this['fRY2'],this[_0x87e280(0x45b)][_0x2a3532]['bBlack']=this[_0x87e280(0x40f)],this['pRenderParam'][_0x2a3532][_0x87e280(0x3f4)]=0.035+0.8,this[_0x87e280(0x45b)][_0x2a3532]['nDisplayEffect']=_0x56bf04,this['pFishParam'][_0x2a3532][_0x87e280(0x314)]=this['pRenderParam'][_0x2a3532][_0x87e280(0x314)],this[_0x87e280(0x1ee)][_0x2a3532][_0x87e280(0x3d6)]=0.5,this[_0x87e280(0x1ee)][_0x2a3532][_0x87e280(0x40c)]=0.5,this[_0x87e280(0x1ee)][_0x2a3532][_0x87e280(0x27e)]=this[_0x87e280(0x45b)][_0x2a3532][_0x87e280(0x1f8)],this[_0x87e280(0x1ee)][_0x2a3532][_0x87e280(0x469)]=this['pRenderParam'][_0x2a3532][_0x87e280(0x3aa)],this[_0x87e280(0x1ee)][_0x2a3532][_0x87e280(0x2bb)]=this[_0x87e280(0x45b)][_0x2a3532][_0x87e280(0x34c)],this['pFishParam'][_0x2a3532][_0x87e280(0x2e9)]=this['pRenderParam'][_0x2a3532]['fRY2'],this[_0x87e280(0x1ee)][_0x2a3532]['bBlack']=this['pRenderParam'][_0x2a3532][_0x87e280(0x40f)],this[_0x87e280(0x1ee)][_0x2a3532][_0x87e280(0x3f4)]=(this[_0x87e280(0x45b)][_0x2a3532]['fZoom']-0.8)/0x7,this['bPortAllocated'][_0x2a3532]=!0x0;}return _0x2a3532;}},{'key':_0x22f0ab(0x32d),'value':function(_0x19122a){var _0x44bf54=_0x22f0ab;if(_0x19122a<0x0||0x20<=_0x19122a)return _0x13949e[_0x44bf54(0x203)];this[_0x44bf54(0x270)]==_0x19122a&&(this['nWndPort']=-0x1),this['pRenderParam'][_0x19122a][_0x44bf54(0x265)]=0x1,this['pRenderParam'][_0x19122a][_0x44bf54(0x2ee)]=0x0,this[_0x44bf54(0x45b)][_0x19122a][_0x44bf54(0x405)]=0x1,this['pRenderParam'][_0x19122a][_0x44bf54(0x3e0)]=0x0,this[_0x44bf54(0x45b)][_0x19122a][_0x44bf54(0x314)]=0x0,this[_0x44bf54(0x45b)][_0x19122a][_0x44bf54(0x3f4)]=0x0,this[_0x44bf54(0x45b)][_0x19122a][_0x44bf54(0x1f8)]=0x0,this[_0x44bf54(0x45b)][_0x19122a][_0x44bf54(0x3aa)]=0x1,this['pRenderParam'][_0x19122a][_0x44bf54(0x34c)]=0x0,this[_0x44bf54(0x45b)][_0x19122a][_0x44bf54(0x4ed)]=0x1,this[_0x44bf54(0x45b)][_0x19122a][_0x44bf54(0x1fe)]=0x0,this[_0x44bf54(0x45b)][_0x19122a][_0x44bf54(0x40f)]=!0x1,this[_0x44bf54(0x45b)][_0x19122a][_0x44bf54(0x324)]=!0x1,this[_0x44bf54(0x1ee)][_0x19122a][_0x44bf54(0x260)]=0x0,this[_0x44bf54(0x1ee)][_0x19122a]['fRXLeft']=0x0,this[_0x44bf54(0x1ee)][_0x19122a][_0x44bf54(0x469)]=0x1,this[_0x44bf54(0x1ee)][_0x19122a][_0x44bf54(0x2bb)]=0x0,this[_0x44bf54(0x1ee)][_0x19122a][_0x44bf54(0x2e9)]=0x1,this[_0x44bf54(0x1ee)][_0x19122a]['bBlack']=!0x1,this[_0x44bf54(0x1ee)][_0x19122a][_0x44bf54(0x324)]=!0x1,this['pFishParam'][_0x19122a]['fAngle']=0x0,this[_0x44bf54(0x1ee)][_0x19122a]['fZoom']=0x0,this[_0x44bf54(0x1ee)][_0x19122a][_0x44bf54(0x3d6)]=0.5,this['pFishParam'][_0x19122a][_0x44bf54(0x40c)]=0.5,this['nBasePTZPointNum'][_0x19122a]=0x0,this[_0x44bf54(0x21c)][_0x19122a]=0x0,this[_0x44bf54(0x538)][_0x19122a]=0x0;for(var _0x3f4ea3=this[_0x44bf54(0x4bc)][_0x19122a]=0x0;_0x3f4ea3<0x4;++_0x3f4ea3)this[_0x44bf54(0x47b)][_0x19122a][_0x3f4ea3]['fX']=0x0,this[_0x44bf54(0x47b)][_0x19122a][_0x3f4ea3]['fY']=0x0;for(var _0x3d5dd5=0x0;_0x3d5dd5<0x400;++_0x3d5dd5)this['pBasePTZPoints'][_0x19122a][_0x3d5dd5]['fX']=0x0,this[_0x44bf54(0x3bb)][_0x19122a][_0x3d5dd5]['fY']=0x0,this[_0x44bf54(0x22d)][_0x19122a][_0x3d5dd5]['fX']=0x0,this[_0x44bf54(0x22d)][_0x19122a][_0x3d5dd5]['fY']=0x0,this['pPanoPTZPoints'][_0x19122a][_0x3d5dd5]['fX']=0x0,this['pPanoPTZPoints'][_0x19122a][_0x3d5dd5]['fY']=0x0;if(null!=this[_0x44bf54(0x3eb)]&&(this[_0x44bf54(0x3eb)][_0x19122a]['fA']=0x0,this['pPTZSetColor'][_0x19122a]['fR']=0x0,this[_0x44bf54(0x3eb)][_0x19122a]['fG']=0x0,this[_0x44bf54(0x3eb)][_0x19122a]['fB']=0x0),this['bPTZSelected'][_0x19122a]=!0x1,0x0!=this['nPlaceType']){var _0x188ac5=!0x1;if(null!=this['pRenderParam'][i]){for(var _0x565c4d=0x0;_0x565c4d<0x20;++_0x565c4d)if(null!=this[_0x44bf54(0x45b)][_0x565c4d]&&(_0x3468da[_0x44bf54(0x2b7)]==this['pRenderParam'][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da['SR_DE_FISH_PTZ_FLOOR']==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da[_0x44bf54(0x4bf)]==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da[_0x44bf54(0x208)]==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da['SR_DE_FISH_PANORAMA_CEILING_180']==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da[_0x44bf54(0x2f5)]==this[_0x44bf54(0x45b)][_0x565c4d]['nDisplayEffect']||_0x3468da[_0x44bf54(0x3a8)]==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da[_0x44bf54(0x33c)]==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da[_0x44bf54(0x4dc)]==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da[_0x44bf54(0x3a9)]==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da[_0x44bf54(0x3f3)]==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da[_0x44bf54(0x4f9)]==this['pRenderParam'][_0x565c4d]['nDisplayEffect']||_0x3468da[_0x44bf54(0x36e)]==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)]||_0x3468da['SR_DE_FISH_ARCSPHERE_VERTICAL_WALL']==this[_0x44bf54(0x45b)][_0x565c4d][_0x44bf54(0x1fe)])){_0x188ac5=!0x0;break;}}_0x188ac5||(this['nPlaceType']=0x0);}for(var _0x6f6c24=!0x1,_0x2650a4=0x0;_0x2650a4<0x20;++_0x2650a4)if(null!=this['pRenderParam'][_0x2650a4]){_0x6f6c24=!0x0;break;}_0x6f6c24||(this[_0x44bf54(0x1f8)]=0x0,this[_0x44bf54(0x3aa)]=0x1,this[_0x44bf54(0x34c)]=0x0,this[_0x44bf54(0x4ed)]=0x1,this['bBlack']=!0x1);for(var _0x2d2ee9=this[_0x44bf54(0x371)][_0x19122a]=0x0;_0x2d2ee9<0x64;++_0x2d2ee9)this[_0x44bf54(0x3ae)][_0x19122a][_0x2d2ee9]=0x0;return this[_0x44bf54(0x3ee)][_0x19122a]=!0x1,_0x13949e[_0x44bf54(0x4a6)];}},{'key':'DeInit','value':function(){var _0x19548c=_0x22f0ab;for(var _0xcd4be7=0x0;_0xcd4be7<0x20;++_0xcd4be7){for(var _0x52fa88=0x0;_0x52fa88<0x4;++_0x52fa88)this[_0x19548c(0x47b)][_0xcd4be7][_0x52fa88]=null;for(var _0xcd362f=0x0;_0xcd362f<0x400;++_0xcd362f)this[_0x19548c(0x3bb)][_0xcd4be7][_0xcd362f]=null,this[_0x19548c(0x22d)][_0xcd4be7][_0xcd362f]=null,this[_0x19548c(0x3ab)][_0xcd4be7][_0xcd362f]=null;this[_0x19548c(0x371)][_0xcd4be7]=0x0,this[_0x19548c(0x3ae)][_0xcd4be7]=null,this[_0x19548c(0x3ee)][_0xcd4be7]=!0x1,this[_0x19548c(0x447)][_0xcd4be7]=!0x1,this[_0x19548c(0x45b)][_0xcd4be7]=null,this['pFishParam'][_0xcd4be7]=null,this[_0x19548c(0x320)][_0xcd4be7]=null,this[_0x19548c(0x43d)][_0xcd4be7]=0x0,this['nOriPTZPointNum'][_0xcd4be7]=0x0,this[_0x19548c(0x538)][_0xcd4be7]=0x0,this[_0x19548c(0x4bc)][_0xcd4be7]=0x0,this[_0x19548c(0x3ab)][_0xcd4be7]=null,this[_0x19548c(0x47b)][_0xcd4be7]=null,this[_0x19548c(0x3bb)][_0xcd4be7]=null,this['pOriPTZPoints'][_0xcd4be7]=null;}this[_0x19548c(0x3ee)]=null,this[_0x19548c(0x45b)]=null,this['pFishParam']=null,this[_0x19548c(0x320)]=null,this[_0x19548c(0x3eb)]=null,this['nBasePTZPointNum']=null,this['nOriPTZPointNum']=null,this[_0x19548c(0x538)]=null,this[_0x19548c(0x371)]=null,this[_0x19548c(0x3bb)]=null,this[_0x19548c(0x3ab)]=null,this[_0x19548c(0x47b)]=null,this['nPTZRectNum']=null,this['nPTZDisplayMode']=_0x366953,this['fRX1']=0x0,this['fRX2']=0x1,this['fRY1']=0x0,this[_0x19548c(0x4ed)]=0x1,this[_0x19548c(0x40f)]=!0x1,this[_0x19548c(0x22d)]=null,this[_0x19548c(0x3bb)]=null,this[_0x19548c(0x270)]=-0x1,this[_0x19548c(0x344)]=0x0,this[_0x19548c(0x3ae)]=null,this[_0x19548c(0x447)]=null,this[_0x19548c(0x334)]=_0x46c232;}},{'key':'InitColorList','value':function(){var _0x32ea58=_0x22f0ab;this[_0x32ea58(0x320)][0x0]['fR']=0.5,this[_0x32ea58(0x320)][0x0]['fG']=0.5,this['stPTZColor'][0x0]['fB']=0x0,this[_0x32ea58(0x320)][0x0]['fA']=0x1,this[_0x32ea58(0x320)][0x1]['fR']=0x1,this[_0x32ea58(0x320)][0x1]['fG']=0x0,this['stPTZColor'][0x1]['fB']=0x0,this[_0x32ea58(0x320)][0x1]['fA']=0x1,this[_0x32ea58(0x320)][0x2]['fR']=0x0,this[_0x32ea58(0x320)][0x2]['fG']=0x1,this[_0x32ea58(0x320)][0x2]['fB']=0x0,this[_0x32ea58(0x320)][0x2]['fA']=0x1,this[_0x32ea58(0x320)][0x3]['fR']=0x0,this['stPTZColor'][0x3]['fG']=0x0,this[_0x32ea58(0x320)][0x3]['fB']=0x1,this['stPTZColor'][0x3]['fA']=0x1,this[_0x32ea58(0x320)][0x4]['fR']=0x1,this['stPTZColor'][0x4]['fG']=0x1,this[_0x32ea58(0x320)][0x4]['fB']=0x0,this[_0x32ea58(0x320)][0x4]['fA']=0x1,this[_0x32ea58(0x320)][0x5]['fR']=0.5,this['stPTZColor'][0x5]['fG']=0x0,this[_0x32ea58(0x320)][0x5]['fB']=0x1,this[_0x32ea58(0x320)][0x5]['fA']=0x1,this['stPTZColor'][0x6]['fR']=0x0,this[_0x32ea58(0x320)][0x6]['fG']=0x1,this[_0x32ea58(0x320)][0x6]['fB']=0x1,this[_0x32ea58(0x320)][0x6]['fA']=0x1,this[_0x32ea58(0x320)][0x7]['fR']=0x1,this['stPTZColor'][0x7]['fG']=0.5,this[_0x32ea58(0x320)][0x7]['fB']=0x0,this[_0x32ea58(0x320)][0x7]['fA']=0x1,this[_0x32ea58(0x320)][0x8]['fR']=0x0,this['stPTZColor'][0x8]['fG']=0.5,this[_0x32ea58(0x320)][0x8]['fB']=0.5,this[_0x32ea58(0x320)][0x8]['fA']=0x1;for(var _0x4bf059=0x9;_0x4bf059<0x20;_0x4bf059++)this['stPTZColor'][_0x4bf059]['fR']=+_0x4bf059/0x20,this[_0x32ea58(0x320)][_0x4bf059]['fG']=+_0x4bf059/0x20,this[_0x32ea58(0x320)][_0x4bf059]['fB']=+_0x4bf059/0x20,this[_0x32ea58(0x320)][_0x4bf059]['fA']=0x1;return _0x13949e['SR_OK'];}},{'key':'GetRangePoints','value':function(_0x300580){var _0x1c92d6=_0x22f0ab;if(_0x300580<0x0||0x20<=_0x300580)return _0x13949e['SR_ERR_PARAM'];if(null==this[_0x1c92d6(0x45b)][_0x300580])return _0x13949e[_0x1c92d6(0x2cf)];var _0x31586b=0x0,_0x5c2563=0x0;switch(this[_0x1c92d6(0x21c)][_0x300580]=0x0,this[_0x1c92d6(0x43d)][_0x300580]=0x0,this[_0x1c92d6(0x45b)][_0x300580][_0x1c92d6(0x1fe)]){case _0x3468da['SR_DE_FISH_PTZ_CEILING']:for(_0x5c2563=0x0;_0x5c2563<0x1;_0x5c2563+=0.01)this[_0x1c92d6(0x1eb)](_0x31586b,_0x5c2563,_0x300580);for(_0x5c2563=0.9995,_0x31586b=0x0;_0x31586b<0x1;_0x31586b+=0.02)this[_0x1c92d6(0x1eb)](_0x31586b,_0x5c2563,_0x300580);for(_0x31586b=0.999,_0x5c2563=0.9995;0x0<=_0x5c2563;_0x5c2563-=0.01)this[_0x1c92d6(0x1eb)](_0x31586b,_0x5c2563,_0x300580);for(_0x5c2563=0x0,_0x31586b=0.999;0x0<=_0x31586b;_0x31586b-=0.02)this['GetFishPTZCeiling'](_0x31586b,_0x5c2563,_0x300580);break;case _0x3468da[_0x1c92d6(0x4c2)]:for(_0x5c2563=0x0;_0x5c2563<0x1;_0x5c2563+=0.01)this[_0x1c92d6(0x486)](_0x31586b,_0x5c2563,_0x300580);for(_0x5c2563=0.9995,_0x31586b=0x0;_0x31586b<0x1;_0x31586b+=0.02)this['GetFishPTZFloor'](_0x31586b,_0x5c2563,_0x300580);for(_0x31586b=0.999,_0x5c2563=0.9995;0x0<=_0x5c2563;_0x5c2563-=0.01)this['GetFishPTZFloor'](_0x31586b,_0x5c2563,_0x300580);for(_0x5c2563=0x0,_0x31586b=0.999;0x0<=_0x31586b;_0x31586b-=0.02)this['GetFishPTZFloor'](_0x31586b,_0x5c2563,_0x300580);break;case _0x3468da[_0x1c92d6(0x4bf)]:for(_0x5c2563=0x0;_0x5c2563<0x1;_0x5c2563+=0.01)this['GetFishPTZWALL'](_0x31586b,_0x5c2563,_0x300580);for(_0x5c2563=0.9995,_0x31586b=0x0;_0x31586b<0x1;_0x31586b+=0.02)this[_0x1c92d6(0x25e)](_0x31586b,_0x5c2563,_0x300580);for(_0x31586b=0.999,_0x5c2563=0.9995;0x0<=_0x5c2563;_0x5c2563-=0.01)this[_0x1c92d6(0x25e)](_0x31586b,_0x5c2563,_0x300580);for(_0x5c2563=0x0,_0x31586b=0.999;0x0<=_0x31586b;_0x31586b-=0.02)this[_0x1c92d6(0x25e)](_0x31586b,_0x5c2563,_0x300580);}return _0x13949e[_0x1c92d6(0x4a6)];}},{'key':_0x22f0ab(0x38f),'value':function(_0x1509b5){var _0x4d100a=_0x22f0ab;if(-0x1==this[_0x4d100a(0x270)])return _0x13949e[_0x4d100a(0x2cf)];if(null==this[_0x4d100a(0x3bb)][_0x1509b5]||null==this['pRenderParam'][this[_0x4d100a(0x270)]])return _0x13949e['SR_ERR_CALL_ORDER'];this[_0x4d100a(0x538)][_0x1509b5]=0x0;var _0x6702aa=_0x13949e['SR_OK'],_0x38fa33=this['nWndPort'];switch(this[_0x4d100a(0x45b)][_0x38fa33][_0x4d100a(0x1fe)]){case _0x3468da['SR_DE_FISH_PANORAMA_WALL']:if(_0x6702aa=this[_0x4d100a(0x4e2)](_0x1509b5),_0x13949e[_0x4d100a(0x4a6)]!=_0x6702aa)return _0x6702aa;break;case _0x3468da['SR_DE_FISH_PANORAMA_FLOOR_360']:if(_0x6702aa=this[_0x4d100a(0x490)](_0x1509b5),_0x13949e[_0x4d100a(0x4a6)]!=_0x6702aa)return _0x6702aa;break;case _0x3468da[_0x4d100a(0x208)]:if(_0x6702aa=this[_0x4d100a(0x220)](_0x1509b5),_0x13949e[_0x4d100a(0x4a6)]!=_0x6702aa)return _0x6702aa;break;default:return _0x13949e[_0x4d100a(0x38d)];}return this['CalcPTZFragmentPoints'](_0x1509b5),_0x13949e[_0x4d100a(0x4a6)];}},{'key':'GetRectPoints','value':function(_0x32f114){var _0x248c9f=_0x22f0ab;if(_0x32f114<0x0||0x20<=_0x32f114)return _0x13949e[_0x248c9f(0x203)];if(-0x1==this[_0x248c9f(0x270)])return _0x13949e[_0x248c9f(0x2cf)];if(null==this[_0x248c9f(0x45b)][this[_0x248c9f(0x270)]]||null==this['pFishParam'][_0x32f114])return _0x13949e[_0x248c9f(0x2cf)];var _0xefc3=this[_0x248c9f(0x45b)][this['nWndPort']]['nDisplayEffect'],_0x195b20=_0x13949e['SR_OK'],_0x3c0e67=[];switch(_0x3c0e67['fX']=0x0,_0x3c0e67['fY']=0x0,_0xefc3){case _0x3468da['SR_DE_FISH_PANORAMA_WALL']:if(_0x195b20=this[_0x248c9f(0x3bd)](_0x3c0e67,this[_0x248c9f(0x1ee)][_0x32f114][_0x248c9f(0x3d6)],this[_0x248c9f(0x1ee)][_0x32f114][_0x248c9f(0x40c)]),_0x13949e[_0x248c9f(0x4a6)]!=_0x195b20)return _0x195b20;break;case _0x3468da[_0x248c9f(0x2f5)]:if(_0x195b20=this['GetPointFish2PanoFloor'](_0x3c0e67,this[_0x248c9f(0x1ee)][_0x32f114]['fPTZX'],this[_0x248c9f(0x1ee)][_0x32f114][_0x248c9f(0x40c)]),_0x13949e[_0x248c9f(0x4a6)]!=_0x195b20)return _0x13949e['SR_ERR_NOT_SUPPORT']==_0x195b20&&(this[_0x248c9f(0x47b)][_0x32f114]=null),_0x195b20;break;case _0x3468da['SR_DE_FISH_PANORAMA_CEILING_360']:if(_0x195b20=this[_0x248c9f(0x523)](_0x3c0e67,this[_0x248c9f(0x1ee)][_0x32f114]['fPTZX'],this[_0x248c9f(0x1ee)][_0x32f114][_0x248c9f(0x40c)]),_0x13949e['SR_OK']!=_0x195b20)return _0x13949e[_0x248c9f(0x38d)]==_0x195b20&&(this[_0x248c9f(0x47b)][_0x32f114]=null),_0x195b20;break;case _0x3468da[_0x248c9f(0x224)]:_0x3c0e67['fX']=this[_0x248c9f(0x1ee)][_0x32f114]['fPTZX'],_0x3c0e67['fY']=this[_0x248c9f(0x1ee)][_0x32f114][_0x248c9f(0x40c)];break;default:return _0x13949e[_0x248c9f(0x38d)];}if(null==this[_0x248c9f(0x47b)][_0x32f114]){this['pRectPoints'][_0x32f114]=[];for(var _0x1a8285=0x0;_0x1a8285<0x4;++_0x1a8285)this[_0x248c9f(0x47b)][_0x32f114][_0x1a8285]=[],this[_0x248c9f(0x47b)][_0x32f114][_0x1a8285]['fX']=0x0,this['pRectPoints'][_0x32f114][_0x1a8285]['fY']=0x0;}return this[_0x248c9f(0x47b)][_0x32f114][0x0]['fX']=_0x3c0e67['fX']-_0x473777,this[_0x248c9f(0x47b)][_0x32f114][0x0]['fY']=_0x3c0e67['fY']-_0x473777,this[_0x248c9f(0x47b)][_0x32f114][0x1]['fX']=_0x3c0e67['fX']+_0x473777,this[_0x248c9f(0x47b)][_0x32f114][0x1]['fY']=_0x3c0e67['fY']-_0x473777,this[_0x248c9f(0x47b)][_0x32f114][0x2]['fX']=_0x3c0e67['fX']+_0x473777,this[_0x248c9f(0x47b)][_0x32f114][0x2]['fY']=_0x3c0e67['fY']+_0x473777,this[_0x248c9f(0x47b)][_0x32f114][0x3]['fX']=_0x3c0e67['fX']-_0x473777,this['pRectPoints'][_0x32f114][0x3]['fY']=_0x3c0e67['fY']+_0x473777,this[_0x248c9f(0x4bc)][_0x32f114]=0x4,_0x13949e['SR_OK'];}},{'key':_0x22f0ab(0x1eb),'value':function(_0xc4cf39,_0x3e0af4,_0x5dd1d0){var _0x3866dc=_0x22f0ab,_0x449b7d=[],_0x25a237=(_0x449b7d['fX']=0x0,_0x449b7d['fY']=0x0,[]),_0x128fe1=(_0x25a237['fX']=0x0,_0x25a237['fY']=0x0,[]),_0x8e09c3=(_0x128fe1['fX']=0x0,_0x128fe1['fY']=0x0,[]),_0x124c1c=(this['fRX2']-this[_0x3866dc(0x1f8)])/(this['fRY2']-this['fRY1']),_0x42c2aa=(this[_0x3866dc(0x1f8)]+this[_0x3866dc(0x3aa)])/0x2*0x1,_0x5ab76b=(this[_0x3866dc(0x34c)]+this[_0x3866dc(0x4ed)])/0x2*_0x124c1c,_0x48241c=(this[_0x3866dc(0x3aa)]-this['fRX1'])/0x2*0x1,_0xc4cf39=(_0x449b7d['fX']=_0x3e0af4-0.5,_0x449b7d['fY']=0.5-_0xc4cf39,_0x3e0af4=this['pRenderParam'][_0x5dd1d0]['fZoom'],_0x25a237['fX']=_0x449b7d['fX'],_0x25a237['fY']=_0x449b7d['fY']*this['pRenderParam'][_0x5dd1d0][_0x3866dc(0x405)]+_0x3e0af4*this[_0x3866dc(0x45b)][_0x5dd1d0][_0x3866dc(0x3e0)],_0x3e0af4*this[_0x3866dc(0x45b)][_0x5dd1d0][_0x3866dc(0x405)]-_0x449b7d['fY']*this[_0x3866dc(0x45b)][_0x5dd1d0][_0x3866dc(0x3e0)]),_0x3e0af4=Math[_0x3866dc(0x41c)](_0x25a237['fX']*_0x25a237['fX']+_0x25a237['fY']*_0x25a237['fY']),_0x449b7d=Math[_0x3866dc(0x41c)](_0x25a237['fX']*_0x25a237['fX']+_0x25a237['fY']*_0x25a237['fY']+_0xc4cf39*_0xc4cf39),_0xc4cf39=Math['asin'](_0x3e0af4/_0x449b7d)/1.5707963*0.5,_0x449b7d=(_0x25a237['fX']=_0xc4cf39*_0x25a237['fX']/_0x3e0af4,_0x25a237['fY']=_0xc4cf39*_0x25a237['fY']/_0x3e0af4,_0x128fe1['fX']=_0x25a237['fX']*this[_0x3866dc(0x45b)][_0x5dd1d0][_0x3866dc(0x265)]-_0x25a237['fY']*this[_0x3866dc(0x45b)][_0x5dd1d0][_0x3866dc(0x2ee)],_0x128fe1['fY']=_0x25a237['fX']*this[_0x3866dc(0x45b)][_0x5dd1d0][_0x3866dc(0x2ee)]+_0x25a237['fY']*this[_0x3866dc(0x45b)][_0x5dd1d0][_0x3866dc(0x265)],_0x8e09c3['fX']=0x2*_0x128fe1['fX']*_0x48241c+_0x42c2aa,_0x8e09c3['fY']=0x2*-_0x128fe1['fY']*_0x48241c+_0x5ab76b,this[_0x3866dc(0x43d)][_0x5dd1d0]),_0xc4cf39=(this[_0x3866dc(0x3bb)][_0x5dd1d0][_0x449b7d]['fX']=_0x128fe1['fX']+0.5,this[_0x3866dc(0x3bb)][_0x5dd1d0][_0x449b7d]['fY']=0.5-_0x128fe1['fY'],this[_0x3866dc(0x43d)][_0x5dd1d0]=this[_0x3866dc(0x43d)][_0x5dd1d0]+0x1,this[_0x3866dc(0x1f8)]<=0x0?0x0:+this[_0x3866dc(0x1f8)]),_0x3e0af4=this[_0x3866dc(0x34c)]<=0x0?0x0:this[_0x3866dc(0x34c)]*_0x124c1c,_0x25a237=0x1<=this[_0x3866dc(0x3aa)]?0x1-_0xc4cf39:+this['fRX2']-_0xc4cf39,_0x42c2aa=0x1<=this[_0x3866dc(0x4ed)]?_0x124c1c-_0x3e0af4:this[_0x3866dc(0x4ed)]*_0x124c1c-_0x3e0af4;return _0x8e09c3['fX']=(_0x8e09c3['fX']-_0xc4cf39)/_0x25a237,_0x8e09c3['fY']=(_0x8e09c3['fY']-_0x3e0af4)/_0x42c2aa,_0x8e09c3['fX']<=0x1&&_0x8e09c3['fY']<=0x1&&0x0<=_0x8e09c3['fX']&&0x0<=_0x8e09c3['fY']&&(_0x48241c=this['nOriPTZPointNum'][_0x5dd1d0],this[_0x3866dc(0x22d)][_0x5dd1d0][_0x48241c]['fX']=_0x8e09c3['fX'],this['pOriPTZPoints'][_0x5dd1d0][_0x48241c]['fY']=_0x8e09c3['fY'],this[_0x3866dc(0x21c)][_0x5dd1d0]=this[_0x3866dc(0x21c)][_0x5dd1d0]+0x1),_0x13949e[_0x3866dc(0x4a6)];}},{'key':_0x22f0ab(0x486),'value':function(_0x328e50,_0x36324b,_0x37f64a){var _0x182c99=_0x22f0ab,_0x69f57e=[],_0x874c3c=(_0x69f57e['fX']=0x0,_0x69f57e['fY']=0x0,[]),_0x52b303=(_0x874c3c['fX']=0x0,_0x874c3c['fY']=0x0,[]),_0x5e6c32=(_0x52b303['fX']=0x0,_0x52b303['fY']=0x0,[]),_0x2a6b73=(this[_0x182c99(0x3aa)]-this[_0x182c99(0x1f8)])/(this[_0x182c99(0x4ed)]-this[_0x182c99(0x34c)]),_0x569474=(this[_0x182c99(0x1f8)]+this[_0x182c99(0x3aa)])/0x2*0x1,_0x2ea78=(this[_0x182c99(0x34c)]+this['fRY2'])/0x2*_0x2a6b73,_0x3fe769=(this[_0x182c99(0x3aa)]-this['fRX1'])/0x2*0x1,_0x36324b=(_0x69f57e['fX']=_0x328e50-0.5,_0x69f57e['fY']=_0x36324b-0.5,_0x328e50=this[_0x182c99(0x45b)][_0x37f64a]['fZoom'],_0x874c3c['fX']=_0x69f57e['fX'],_0x874c3c['fY']=_0x69f57e['fY']*this[_0x182c99(0x45b)][_0x37f64a][_0x182c99(0x405)]+_0x328e50*this[_0x182c99(0x45b)][_0x37f64a][_0x182c99(0x3e0)],_0x328e50*this[_0x182c99(0x45b)][_0x37f64a]['fCosV']-_0x69f57e['fY']*this[_0x182c99(0x45b)][_0x37f64a]['fSinV']),_0x328e50=Math[_0x182c99(0x41c)](_0x874c3c['fX']*_0x874c3c['fX']+_0x874c3c['fY']*_0x874c3c['fY']),_0x69f57e=Math['sqrt'](_0x874c3c['fX']*_0x874c3c['fX']+_0x874c3c['fY']*_0x874c3c['fY']+_0x36324b*_0x36324b),_0x36324b=Math[_0x182c99(0x2c8)](_0x328e50/_0x69f57e)/1.5707963*0.5,_0x69f57e=(_0x874c3c['fX']=_0x36324b*_0x874c3c['fX']/_0x328e50,_0x874c3c['fY']=_0x36324b*_0x874c3c['fY']/_0x328e50,_0x52b303['fX']=_0x874c3c['fX']*this['pRenderParam'][_0x37f64a]['fCosH']-_0x874c3c['fY']*this[_0x182c99(0x45b)][_0x37f64a][_0x182c99(0x2ee)],_0x52b303['fY']=_0x874c3c['fX']*this[_0x182c99(0x45b)][_0x37f64a][_0x182c99(0x2ee)]+_0x874c3c['fY']*this['pRenderParam'][_0x37f64a][_0x182c99(0x265)],_0x5e6c32['fX']=0x2*_0x52b303['fX']*_0x3fe769+_0x569474,_0x5e6c32['fY']=0x2*_0x52b303['fY']*_0x3fe769+_0x2ea78,this[_0x182c99(0x43d)][_0x37f64a]),_0x36324b=(this['pBasePTZPoints'][_0x37f64a][_0x69f57e]['fX']=_0x52b303['fX']+0.5,this[_0x182c99(0x3bb)][_0x37f64a][_0x69f57e]['fY']=_0x52b303['fY']+0.5,this[_0x182c99(0x43d)][_0x37f64a]=this[_0x182c99(0x43d)][_0x37f64a]+0x1,this['fRX1']<=0x0?0x0:+this[_0x182c99(0x1f8)]),_0x328e50=this[_0x182c99(0x34c)]<=0x0?0x0:this['fRY1']*_0x2a6b73,_0x874c3c=0x1<=this['fRX2']?0x1-_0x36324b:+this[_0x182c99(0x3aa)]-_0x36324b,_0x569474=0x1<=this[_0x182c99(0x4ed)]?_0x2a6b73-_0x328e50:this[_0x182c99(0x4ed)]*_0x2a6b73-_0x328e50;return _0x5e6c32['fX']=(_0x5e6c32['fX']-_0x36324b)/_0x874c3c,_0x5e6c32['fY']=(_0x5e6c32['fY']-_0x328e50)/_0x569474,_0x5e6c32['fX']<=0x1&&_0x5e6c32['fY']<=0x1&&0x0<=_0x5e6c32['fX']&&0x0<=_0x5e6c32['fY']&&(_0x3fe769=this[_0x182c99(0x21c)][_0x37f64a],this[_0x182c99(0x22d)][_0x37f64a][_0x3fe769]['fX']=_0x5e6c32['fX'],this[_0x182c99(0x22d)][_0x37f64a][_0x3fe769]['fY']=_0x5e6c32['fY'],this[_0x182c99(0x21c)][_0x37f64a]=this[_0x182c99(0x21c)][_0x37f64a]+0x1),_0x13949e[_0x182c99(0x4a6)];}},{'key':_0x22f0ab(0x25e),'value':function(_0x22fa02,_0x2b3be5,_0x7bfbc8){var _0x45b53a=_0x22f0ab,_0x2022f3=[],_0xd1701f=(_0x2022f3['fX']=0x0,_0x2022f3['fY']=0x0,[]),_0x19ab1c=(_0xd1701f['fX']=0x0,_0xd1701f['fY']=0x0,[]),_0x4a0a53=(_0x19ab1c['fX']=0x0,_0x19ab1c['fY']=0x0,[]),_0x243f3a=(this[_0x45b53a(0x3aa)]-this[_0x45b53a(0x1f8)])/(this[_0x45b53a(0x4ed)]-this['fRY1']),_0x1233e0=(this[_0x45b53a(0x1f8)]+this[_0x45b53a(0x3aa)])/0x2*0x1,_0x2b29d7=(this['fRY1']+this[_0x45b53a(0x4ed)])/0x2*_0x243f3a,_0x3fe90d=(this[_0x45b53a(0x3aa)]-this[_0x45b53a(0x1f8)])/0x2*0x1,_0x2b3be5=(_0x2022f3['fX']=_0x2b3be5-0.5,_0x2022f3['fY']=_0x22fa02-0.5,_0x2b3be5=this[_0x45b53a(0x45b)][_0x7bfbc8]['fZoom'],_0xd1701f['fX']=_0x2022f3['fX'],_0xd1701f['fY']=_0x2022f3['fY']*this[_0x45b53a(0x45b)][_0x7bfbc8]['fCosV']+_0x2b3be5*this[_0x45b53a(0x45b)][_0x7bfbc8][_0x45b53a(0x3e0)],_0x22fa02=_0x2b3be5*this['pRenderParam'][_0x7bfbc8]['fCosV']-_0x2022f3['fY']*this['pRenderParam'][_0x7bfbc8][_0x45b53a(0x3e0)],_0x19ab1c['fX']=_0xd1701f['fX']*this[_0x45b53a(0x45b)][_0x7bfbc8][_0x45b53a(0x265)]+_0x22fa02*this[_0x45b53a(0x45b)][_0x7bfbc8][_0x45b53a(0x2ee)],_0x19ab1c['fY']=_0xd1701f['fY'],_0x22fa02*this[_0x45b53a(0x45b)][_0x7bfbc8][_0x45b53a(0x265)]-_0xd1701f['fX']*this['pRenderParam'][_0x7bfbc8]['fSinH']),_0x2022f3=Math[_0x45b53a(0x41c)](_0x19ab1c['fX']*_0x19ab1c['fX']+_0x19ab1c['fY']*_0x19ab1c['fY']),_0x22fa02=Math[_0x45b53a(0x41c)](_0x19ab1c['fX']*_0x19ab1c['fX']+_0x19ab1c['fY']*_0x19ab1c['fY']+_0x2b3be5*_0x2b3be5),_0xd1701f=Math[_0x45b53a(0x2c8)](_0x2022f3/_0x22fa02)/1.5707963*0.5,_0x2b3be5=(_0x4a0a53['fX']=_0xd1701f*_0x19ab1c['fX']/_0x2022f3*_0x3fe90d*0x2+_0x1233e0,_0x4a0a53['fY']=_0xd1701f*_0x19ab1c['fY']/_0x2022f3*_0x3fe90d*0x2+_0x2b29d7,this[_0x45b53a(0x43d)][_0x7bfbc8]),_0x22fa02=(this['pBasePTZPoints'][_0x7bfbc8][_0x2b3be5]['fX']=_0xd1701f*_0x19ab1c['fX']/_0x2022f3+0.5,this[_0x45b53a(0x3bb)][_0x7bfbc8][_0x2b3be5]['fY']=_0xd1701f*_0x19ab1c['fY']/_0x2022f3+0.5,this[_0x45b53a(0x43d)][_0x7bfbc8]=this['nBasePTZPointNum'][_0x7bfbc8]+0x1,this[_0x45b53a(0x1f8)]<=0x0?0x0:+this['fRX1']),_0x1233e0=this['fRY1']<=0x0?0x0:this[_0x45b53a(0x34c)]*_0x243f3a,_0x3fe90d=0x1<=this['fRX2']?0x1-_0x22fa02:+this[_0x45b53a(0x3aa)]-_0x22fa02,_0x2b29d7=0x1<=this[_0x45b53a(0x4ed)]?_0x243f3a-_0x1233e0:this[_0x45b53a(0x4ed)]*_0x243f3a-_0x1233e0;return _0x4a0a53['fX']=(_0x4a0a53['fX']-_0x22fa02)/_0x3fe90d,_0x4a0a53['fY']=(_0x4a0a53['fY']-_0x1233e0)/_0x2b29d7,_0x4a0a53['fX']<=0x1&&_0x4a0a53['fY']<=0x1&&0x0<=_0x4a0a53['fX']&&0x0<=_0x4a0a53['fY']&&(_0x2b3be5=this[_0x45b53a(0x21c)][_0x7bfbc8],this[_0x45b53a(0x22d)][_0x7bfbc8][_0x2b3be5]['fX']=_0x4a0a53['fX'],this[_0x45b53a(0x22d)][_0x7bfbc8][_0x2b3be5]['fY']=_0x4a0a53['fY'],this[_0x45b53a(0x21c)][_0x7bfbc8]=this[_0x45b53a(0x21c)][_0x7bfbc8]+0x1),_0x13949e['SR_OK'];}},{'key':'GetPanoPTZCeiling','value':function(_0x175dcd){var _0x4b76af=_0x22f0ab;if(null==this['pRenderParam'][_0x175dcd]||null==this[_0x4b76af(0x45b)][this[_0x4b76af(0x270)]])return _0x13949e['SR_ERR_CALL_ORDER'];if(null==this[_0x4b76af(0x3bb)][_0x175dcd])return _0x13949e[_0x4b76af(0x2cf)];var _0x2631e9,_0x4d8e0d=this[_0x4b76af(0x43d)][_0x175dcd],_0x330989=(this['fRX2']-this['fRX1'])/(this[_0x4b76af(0x4ed)]-this['fRY1']),_0x475f41=(this['fRX2']-this[_0x4b76af(0x1f8)])/0x2*0x1,_0x3fff26=0x0,_0x583088=((0x1<this[_0x4b76af(0x3aa)]||0x1<this[_0x4b76af(0x4ed)]||this[_0x4b76af(0x34c)]<0x0||this['fRX1']<0x0)&&(this[_0x4b76af(0x1f8)]<0x0&&_0x3fff26<(_0x2631e9=-this['fRX1'])&&(_0x3fff26=_0x2631e9),0x1<this['fRX2']&&_0x3fff26<(_0x2631e9=this[_0x4b76af(0x3aa)]-0x1)&&(_0x3fff26=_0x2631e9),this['fRY1']<0x0&&_0x3fff26<(_0x2631e9=-this[_0x4b76af(0x34c)]*_0x330989)&&(_0x3fff26=_0x2631e9),0x1<this['fRY2']&&_0x3fff26<(_0x2631e9=(this['fRY2']-0x1)*_0x330989)&&(_0x3fff26=_0x2631e9)),_0x3fff26/_0x475f41),_0x5bc94b=[],_0x305081=(_0x5bc94b['fX']=0x0,_0x5bc94b['fY']=0x0,[]);_0x305081['fX']=0x0;for(var _0x54c260,_0xa064c6,_0x57afb4,_0x1b589d,_0x2cfa31=_0x305081['fY']=0x0;_0x2cfa31<_0x4d8e0d;++_0x2cfa31)_0x305081['fX']=this[_0x4b76af(0x3bb)][_0x175dcd][_0x2cfa31]['fX'],_0x305081['fY']=this[_0x4b76af(0x3bb)][_0x175dcd][_0x2cfa31]['fY'],Math[_0x4b76af(0x1e6)](_0x305081['fX']-0.5)<_0x3e9a49&&Math[_0x4b76af(0x1e6)](_0x305081['fY']-0.5)<_0x3e9a49||((_0x57afb4=[])['fX']=0x0,_0x57afb4['fY']=0x0,(_0x54c260=[])['fX']=0x0,_0x54c260['fY']=0x0,_0x57afb4['fX']=_0x305081['fX']-0.5,_0x57afb4['fY']=_0x305081['fY']-0.5,_0x54c260['fX']=-0.5*Math[_0x4b76af(0x202)](this['pRenderParam'][this['nWndPort']][_0x4b76af(0x314)]),_0x54c260['fY']=0.5*Math['cos'](this[_0x4b76af(0x45b)][this[_0x4b76af(0x270)]][_0x4b76af(0x314)]),_0xa064c6=Math['sqrt'](_0x57afb4['fX']*_0x57afb4['fX']+_0x57afb4['fY']*_0x57afb4['fY']),_0x1b589d=Math['sqrt'](_0x54c260['fX']*_0x54c260['fX']+_0x54c260['fY']*_0x54c260['fY']),_0x1b589d=Math[_0x4b76af(0x432)]((_0x57afb4['fX']*_0x54c260['fX']+_0x57afb4['fY']*_0x54c260['fY'])/(_0xa064c6*_0x1b589d)),0x0<_0x57afb4['fX']*_0x54c260['fY']-_0x57afb4['fY']*_0x54c260['fX']&&(_0x1b589d=6.2831852-_0x1b589d),_0x5bc94b['fX']=_0x1b589d/6.2831853,_0x5bc94b['fY']=(0x2*(0.5-_0xa064c6)-_0x583088)/(0.8-_0x583088),0x0<=_0x5bc94b['fY']&&0x0<=_0x5bc94b['fX']&&_0x5bc94b['fY']<=0x1&&_0x5bc94b['fX']<=0x1&&(_0x57afb4=this[_0x4b76af(0x538)][_0x175dcd],this['pPanoPTZPoints'][_0x175dcd][_0x57afb4]['fX']=_0x5bc94b['fX'],this[_0x4b76af(0x3ab)][_0x175dcd][_0x57afb4]['fY']=_0x5bc94b['fY'],this[_0x4b76af(0x538)][_0x175dcd]=this[_0x4b76af(0x538)][_0x175dcd]+0x1));return _0x13949e[_0x4b76af(0x4a6)];}},{'key':'GetPanoPTZFloor','value':function(_0x8dcfbf){var _0x4f4c24=_0x22f0ab;if(null==this['pRenderParam'][_0x8dcfbf]||null==this[_0x4f4c24(0x45b)][this[_0x4f4c24(0x270)]])return _0x13949e['SR_ERR_CALL_ORDER'];if(null==this['pBasePTZPoints'][_0x8dcfbf])return _0x13949e[_0x4f4c24(0x2cf)];var _0x1f3af0,_0x41fad2=this[_0x4f4c24(0x43d)][_0x8dcfbf],_0x124557=(this[_0x4f4c24(0x3aa)]-this[_0x4f4c24(0x1f8)])/(this[_0x4f4c24(0x4ed)]-this[_0x4f4c24(0x34c)]),_0x54b645=(this['fRX2']-this[_0x4f4c24(0x1f8)])/0x2*0x1,_0x3c5ce1=0x0,_0x446175=((0x1<this[_0x4f4c24(0x3aa)]||0x1<this[_0x4f4c24(0x4ed)]||this[_0x4f4c24(0x34c)]<0x0||this[_0x4f4c24(0x1f8)]<0x0)&&(this[_0x4f4c24(0x1f8)]<0x0&&_0x3c5ce1<(_0x1f3af0=-this[_0x4f4c24(0x1f8)])&&(_0x3c5ce1=_0x1f3af0),0x1<this['fRX2']&&_0x3c5ce1<(_0x1f3af0=this['fRX2']-0x1)&&(_0x3c5ce1=_0x1f3af0),this[_0x4f4c24(0x34c)]<0x0&&_0x3c5ce1<(_0x1f3af0=-this[_0x4f4c24(0x34c)]*_0x124557)&&(_0x3c5ce1=_0x1f3af0),0x1<this[_0x4f4c24(0x4ed)]&&_0x3c5ce1<(_0x1f3af0=(this[_0x4f4c24(0x4ed)]-0x1)*_0x124557)&&(_0x3c5ce1=_0x1f3af0)),_0x3c5ce1/_0x54b645),_0xb401bf=[],_0x7470e2=(_0xb401bf['fX']=0x0,_0xb401bf['fY']=0x0,[]);_0x7470e2['fX']=0x0;for(var _0x95d1ca,_0x436efe,_0x452569,_0x56a612,_0x2b996d=_0x7470e2['fY']=0x0;_0x2b996d<_0x41fad2;++_0x2b996d)_0x7470e2['fX']=this['pBasePTZPoints'][_0x8dcfbf][_0x2b996d]['fX'],_0x7470e2['fY']=this['pBasePTZPoints'][_0x8dcfbf][_0x2b996d]['fY'],Math[_0x4f4c24(0x1e6)](_0x7470e2['fX']-0.5)<_0x3e9a49&&Math[_0x4f4c24(0x1e6)](_0x7470e2['fY']-0.5)<_0x3e9a49||((_0x452569=[])['fX']=0x0,_0x452569['fY']=0x0,(_0x95d1ca=[])['fX']=0x0,_0x95d1ca['fY']=0x0,_0x452569['fX']=_0x7470e2['fX']-0.5,_0x452569['fY']=_0x7470e2['fY']-0.5,_0x95d1ca['fX']=-0.5*Math[_0x4f4c24(0x202)](this['pRenderParam'][this['nWndPort']][_0x4f4c24(0x314)]),_0x95d1ca['fY']=0.5*Math[_0x4f4c24(0x34b)](this[_0x4f4c24(0x45b)][this[_0x4f4c24(0x270)]][_0x4f4c24(0x314)]),_0x436efe=Math[_0x4f4c24(0x41c)](_0x452569['fX']*_0x452569['fX']+_0x452569['fY']*_0x452569['fY']),_0x56a612=Math[_0x4f4c24(0x41c)](_0x95d1ca['fX']*_0x95d1ca['fX']+_0x95d1ca['fY']*_0x95d1ca['fY']),_0x56a612=Math['acos']((_0x452569['fX']*_0x95d1ca['fX']+_0x452569['fY']*_0x95d1ca['fY'])/(_0x436efe*_0x56a612)),0x0<_0x452569['fX']*_0x95d1ca['fY']-_0x452569['fY']*_0x95d1ca['fX']&&(_0x56a612=6.2831852-_0x56a612),_0xb401bf['fX']=0x1-_0x56a612/6.2831853,_0xb401bf['fY']=0x1-(0x2*(0.5-_0x436efe)-_0x446175)/(0.8-_0x446175),0x0<=_0xb401bf['fY']&&0x0<=_0xb401bf['fX']&&_0xb401bf['fY']<=0x1&&_0xb401bf['fX']<=0x1&&(_0x452569=this[_0x4f4c24(0x538)][_0x8dcfbf],this['pPanoPTZPoints'][_0x8dcfbf][_0x452569]['fX']=_0xb401bf['fX'],this['pPanoPTZPoints'][_0x8dcfbf][_0x452569]['fY']=_0xb401bf['fY'],this[_0x4f4c24(0x538)][_0x8dcfbf]=this[_0x4f4c24(0x538)][_0x8dcfbf]+0x1));return _0x13949e['SR_OK'];}},{'key':_0x22f0ab(0x4e2),'value':function(_0x40ad31){var _0x265690=_0x22f0ab;if(null==this[_0x265690(0x45b)][_0x40ad31]||null==this['pRenderParam'][this[_0x265690(0x270)]])return _0x13949e[_0x265690(0x2cf)];if(null==this[_0x265690(0x3bb)][_0x40ad31])return _0x13949e[_0x265690(0x2cf)];var _0x2319a0,_0x266be0=this[_0x265690(0x43d)][_0x40ad31],_0x501f9a=(this['fRX2']-this[_0x265690(0x1f8)])/(this[_0x265690(0x4ed)]-this[_0x265690(0x34c)]),_0x550125=(this['fRX2']-this[_0x265690(0x1f8)])/0x2*0x1,_0x4d5753=0x0,_0x1948bd=0x1,_0x579887=0.1,_0x1bd7c9=0.9,_0x1d1cca=(this[_0x265690(0x1f8)]<0x0&&(_0x2319a0=-this['fRX1'],_0x4d5753=_0x2319a0/=0x2*_0x550125),0x1<this[_0x265690(0x3aa)]&&(_0x2319a0=this[_0x265690(0x3aa)]-0x1,_0x1948bd=0x1-(_0x2319a0/=0x2*_0x550125)),this['fRY1']<0x0&&(_0x2319a0=-this[_0x265690(0x34c)]*_0x501f9a,_0x579887=0.1<(_0x2319a0/=0x2*_0x550125)?_0x2319a0:0.1),0x1<this[_0x265690(0x4ed)]&&(_0x2319a0=(this[_0x265690(0x4ed)]-0x1)*_0x501f9a,_0x1bd7c9=0x1-0.9<(_0x2319a0/=0x2*_0x550125)?0x1-_0x2319a0:0.9),[]),_0x90f489=(_0x1d1cca['fX']=0x0,_0x1d1cca['fY']=0x0,[]);_0x90f489['fX']=0x0;for(var _0x47c336=_0x90f489['fY']=0x0;_0x47c336<_0x266be0;++_0x47c336){_0x90f489['fX']=this[_0x265690(0x3bb)][_0x40ad31][_0x47c336]['fX'],_0x90f489['fY']=this[_0x265690(0x3bb)][_0x40ad31][_0x47c336]['fY'];var _0x17b290=0x2*_0x90f489['fX']*_0x550125,_0x14ab03=0x2*_0x90f489['fY']*_0x550125,_0x30823c=Math[_0x265690(0x41c)](_0x550125*_0x550125-(_0x14ab03-_0x550125)*(_0x14ab03-_0x550125));Math[_0x265690(0x1e6)](_0x30823c)<_0x3e9a49||(_0x90f489['fX']=_0x550125*(_0x17b290-_0x550125)/_0x30823c+_0x550125,_0x90f489['fY']=_0x14ab03,_0x1d1cca['fX']=(_0x90f489['fX']-0x2*_0x4d5753*_0x550125)/(0x2*(_0x1948bd-_0x4d5753)*_0x550125),_0x1d1cca['fY']=(_0x90f489['fY']-0x2*_0x579887*_0x550125)/(0x2*(_0x1bd7c9-_0x579887)*_0x550125),0x0<=_0x1d1cca['fY']&&0x0<=_0x1d1cca['fX']&&_0x1d1cca['fY']<=0x1&&_0x1d1cca['fX']<=0x1&&(_0x17b290=this['nPanoPTZPointNum'][_0x40ad31],this[_0x265690(0x3ab)][_0x40ad31][_0x17b290]['fX']=_0x1d1cca['fX'],this['pPanoPTZPoints'][_0x40ad31][_0x17b290]['fY']=_0x1d1cca['fY'],this['nPanoPTZPointNum'][_0x40ad31]=this[_0x265690(0x538)][_0x40ad31]+0x1));}return _0x13949e[_0x265690(0x4a6)];}},{'key':_0x22f0ab(0x1d9),'value':function(_0x70619e,_0x3be3a2,_0x11f844){var _0x48c64e=_0x22f0ab;if(null==_0x70619e||null==this[_0x48c64e(0x45b)][this[_0x48c64e(0x270)]])return _0x13949e[_0x48c64e(0x2cf)];var _0x15aba3=(this[_0x48c64e(0x3aa)]-this['fRX1'])/(this[_0x48c64e(0x4ed)]-this[_0x48c64e(0x34c)]),_0x51f570=(this[_0x48c64e(0x3aa)]-this['fRX1'])/0x2*0x1,_0x40a1ba=0x0,_0x15aba3=((0x1<this[_0x48c64e(0x3aa)]||0x1<this[_0x48c64e(0x4ed)]||this['fRX1']<0x0||this['fRY1']<0x0)&&(this['fRX1']<0x0&&_0x40a1ba<(_0x186799=-this[_0x48c64e(0x1f8)])&&(_0x40a1ba=_0x186799),0x1<this[_0x48c64e(0x3aa)]&&_0x40a1ba<(_0x186799=this[_0x48c64e(0x3aa)]-0x1)&&(_0x40a1ba=_0x186799),this[_0x48c64e(0x34c)]<0x0&&_0x40a1ba<(_0x186799=-this[_0x48c64e(0x34c)]*_0x15aba3)&&(_0x40a1ba=_0x186799),0x1<this[_0x48c64e(0x4ed)]&&_0x40a1ba<(_0x186799=(this[_0x48c64e(0x4ed)]-0x1)*_0x15aba3)&&(_0x40a1ba=_0x186799)),_0x40a1ba/_0x51f570),_0x186799=[];if(Math[_0x48c64e(0x1e6)](_0x3be3a2-0.5)<_0x3e9a49&&Math[_0x48c64e(0x1e6)](_0x11f844-0.5)<_0x3e9a49)return _0x13949e[_0x48c64e(0x38d)];return _0x40a1ba=[],_0x40a1ba['fX']=0x0,_0x40a1ba['fY']=0x0,_0x51f570=[],_0x51f570['fX']=0x0,_0x40a1ba['fX']=_0x3be3a2-0.5,_0x40a1ba['fY']=_0x11f844-0.5,_0x51f570['fX']=-0.5*Math['sin'](this['pRenderParam'][this[_0x48c64e(0x270)]][_0x48c64e(0x314)]),_0x51f570['fY']=0.5*Math[_0x48c64e(0x34b)](this[_0x48c64e(0x45b)][this[_0x48c64e(0x270)]][_0x48c64e(0x314)]),_0x3be3a2=Math[_0x48c64e(0x41c)](_0x40a1ba['fX']*_0x40a1ba['fX']+_0x40a1ba['fY']*_0x40a1ba['fY']),_0x11f844=Math['sqrt'](_0x51f570['fX']*_0x51f570['fX']+_0x51f570['fY']*_0x51f570['fY']),_0x11f844=Math[_0x48c64e(0x432)]((_0x40a1ba['fX']*_0x51f570['fX']+_0x40a1ba['fY']*_0x51f570['fY'])/(_0x3be3a2*_0x11f844)),(0x0<_0x40a1ba['fX']*_0x51f570['fY']-_0x40a1ba['fY']*_0x51f570['fX']&&(_0x11f844=6.2831852-_0x11f844),_0x186799['fX']=_0x11f844/6.2861853,_0x186799['fY']=(0x2*(0.5-_0x3be3a2)-_0x15aba3)/(0.8-_0x15aba3),0x0<=_0x186799['fY']&&0x0<=_0x186799['fX']&&_0x186799['fY']<=0x1&&_0x186799['fX']<=0x1?(_0x70619e['fX']=_0x186799['fX'],_0x70619e['fY']=_0x186799['fY'],_0x13949e[_0x48c64e(0x4a6)]):_0x13949e[_0x48c64e(0x203)]);}},{'key':_0x22f0ab(0x510),'value':function(_0x1260ad,_0x6e91ea,_0x412b2f){var _0x3b1220=_0x22f0ab;if(null==this[_0x3b1220(0x45b)][this[_0x3b1220(0x270)]])return _0x13949e[_0x3b1220(0x2cf)];if(null==_0x1260ad)return _0x13949e[_0x3b1220(0x203)];var _0x346002=(this['fRX2']-this[_0x3b1220(0x1f8)])/(this['fRY2']-this['fRY1']),_0x47c81f=(this[_0x3b1220(0x3aa)]-this['fRX1'])/0x2*0x1,_0x4dcf12=0x0,_0x5ef05d=0x1,_0x48221e=0x0,_0x29a943=0x1,_0x6c8a76=0x0,_0x346002=((0x1<this[_0x3b1220(0x3aa)]||0x1<this[_0x3b1220(0x4ed)]||this[_0x3b1220(0x1f8)]<0x0||this[_0x3b1220(0x34c)]<0x0)&&(this[_0x3b1220(0x1f8)]<0x0&&(_0x6c8a76<(_0x1e9f9f=-this[_0x3b1220(0x1f8)])&&(_0x6c8a76=_0x1e9f9f),_0x4dcf12=_0x1e9f9f/=0x2*_0x47c81f),0x1<this[_0x3b1220(0x3aa)]&&(_0x6c8a76<(_0x1e9f9f=this[_0x3b1220(0x3aa)]-0x1)&&(_0x6c8a76=_0x1e9f9f),_0x5ef05d=0x1-(_0x1e9f9f/=0x2*_0x47c81f)),this['fRY1']<0x0&&(_0x6c8a76<(_0x1e9f9f=-this[_0x3b1220(0x34c)]*_0x346002)&&(_0x6c8a76=_0x1e9f9f),_0x48221e=_0x1e9f9f/=0x2*_0x47c81f),0x1<this[_0x3b1220(0x4ed)]&&(_0x6c8a76<(_0x1e9f9f=(this[_0x3b1220(0x4ed)]-0x1)*_0x346002)&&(_0x6c8a76=_0x1e9f9f),_0x29a943=0x1-(_0x1e9f9f/=0x2*_0x47c81f))),_0x6c8a76/_0x47c81f),_0x1e9f9f=[],_0x6c8a76=[];return _0x1e9f9f['fX']=0x1-_0x6e91ea,_0x1e9f9f['fY']=(0.8-_0x346002)*(0x1-_0x412b2f)+_0x346002,_0x47c81f=6.2831853*_0x1e9f9f['fX']+this['pRenderParam'][this['nWndPort']][_0x3b1220(0x314)],_0x6e91ea=0.5*(0x1-_0x1e9f9f['fY']),_0x6c8a76['fX']=0.5-_0x6e91ea*Math['sin'](_0x47c81f),_0x6c8a76['fY']=0.5+_0x6e91ea*Math[_0x3b1220(0x34b)](_0x47c81f),_0x6c8a76['fX']=(_0x6c8a76['fX']-_0x4dcf12)/(_0x5ef05d-_0x4dcf12),_0x6c8a76['fY']=(_0x6c8a76['fY']-_0x48221e)/(_0x29a943-_0x48221e),_0x1260ad['fX']=_0x6c8a76['fX'],_0x1260ad['fY']=_0x6c8a76['fY'],_0x13949e[_0x3b1220(0x4a6)];}},{'key':_0x22f0ab(0x548),'value':function(_0x42c74f,_0x3186d2,_0x308acc){var _0x3017de=_0x22f0ab;if(null==this[_0x3017de(0x45b)][this[_0x3017de(0x270)]])return _0x13949e[_0x3017de(0x2cf)];if(null==_0x42c74f)return _0x13949e['SR_ERR_PARAM'];var _0x15a2de=(this[_0x3017de(0x3aa)]-this[_0x3017de(0x1f8)])/(this['fRY2']-this[_0x3017de(0x34c)]),_0x5c8031=(this['fRX2']-this[_0x3017de(0x1f8)])/0x2*0x1,_0xbfd907=0x0,_0x23a02c=0x1,_0x405ea8=0.1,_0xf4bbd3=0.9,_0x15a2de=(this['fRX1']<0x0&&(_0x37ddc3=-this['fRX1'],_0xbfd907=_0x37ddc3/=0x2*_0x5c8031),0x1<this[_0x3017de(0x3aa)]&&(_0x37ddc3=this['fRX2']-0x1,_0x23a02c=0x1-(_0x37ddc3/=0x2*_0x5c8031)),this[_0x3017de(0x34c)]<0x0&&(_0x37ddc3=-this[_0x3017de(0x34c)]*_0x15a2de,_0x405ea8=0.1<(_0x37ddc3/=0x2*_0x5c8031)?_0x37ddc3:0.1),0x1<this[_0x3017de(0x4ed)]&&(_0x37ddc3=(this[_0x3017de(0x4ed)]-0x1)*_0x15a2de,_0xf4bbd3=0x1-0.9<(_0x37ddc3/=0x2*_0x5c8031)?0x1-_0x37ddc3:0.9),[]),_0x37ddc3=0x2*_0x3186d2*_0x5c8031,_0x23c0bb=0x2*_0x308acc*_0x5c8031,_0x1fe403=Math[_0x3017de(0x41c)](_0x5c8031*_0x5c8031-(_0x23c0bb-_0x5c8031)*(_0x23c0bb-_0x5c8031));return Math[_0x3017de(0x1e6)](_0x1fe403)<_0x3e9a49?_0x13949e['SR_ERR_PARAM']:(_0x308acc=_0x23c0bb,_0x15a2de['fX']=((_0x3186d2=_0x5c8031*(_0x37ddc3-_0x5c8031)/_0x1fe403+_0x5c8031)-0x2*_0xbfd907*_0x5c8031)/(0x2*(_0x23a02c-_0xbfd907)*_0x5c8031),_0x15a2de['fY']=(_0x308acc-0x2*_0x405ea8*_0x5c8031)/(0x2*(_0xf4bbd3-_0x405ea8)*_0x5c8031),0x0<=_0x15a2de['fY']&&0x0<=_0x15a2de['fX']&&_0x15a2de['fY']<=0x1&&_0x15a2de['fX']<=0x1?(_0x42c74f['fX']=_0x15a2de['fX'],_0x42c74f['fY']=_0x15a2de['fY'],_0x13949e[_0x3017de(0x4a6)]):_0x13949e[_0x3017de(0x203)]);}},{'key':'UpdatePTZPosition','value':function(_0x3b30a6,_0x7f0329,_0x2cae23){var _0x147548=_0x22f0ab;if(null==this['pRenderParam'][_0x3b30a6])return _0x13949e[_0x147548(0x2cf)];var _0x265c03=[],_0x53303d=(_0x265c03[_0x147548(0x1e2)]=0x0,_0x265c03[_0x147548(0x25f)]=0x0,_0x265c03[_0x147548(0x528)]=0x0,_0x265c03[_0x147548(0x299)]=0x0,_0x13949e[_0x147548(0x4a6)]);if(_0x3468da['SR_DE_FISH_PTZ_FLOOR']==this[_0x147548(0x45b)][_0x3b30a6]['nDisplayEffect']||_0x3468da[_0x147548(0x2b7)]==this[_0x147548(0x45b)][_0x3b30a6][_0x147548(0x1fe)]){if((_0x53303d=this[_0x147548(0x207)](_0x7f0329,_0x2cae23,_0x265c03,this[_0x147548(0x45b)][_0x3b30a6][_0x147548(0x1fe)]))!=_0x13949e[_0x147548(0x4a6)])return _0x53303d;}else{if(_0x3468da[_0x147548(0x4bf)]!=this[_0x147548(0x45b)][_0x3b30a6][_0x147548(0x1fe)])return _0x13949e['SR_ERR_NOT_SUPPORT'];if((_0x53303d=this[_0x147548(0x525)](_0x7f0329,_0x2cae23,_0x265c03))!=_0x13949e[_0x147548(0x4a6)])return _0x53303d;}return 0x0==this[_0x147548(0x2ac)](this[_0x147548(0x1f8)],this[_0x147548(0x3aa)],this[_0x147548(0x34c)],this[_0x147548(0x4ed)],_0x265c03,this[_0x147548(0x45b)][_0x3b30a6]['fZoom'],this[_0x147548(0x45b)][_0x3b30a6][_0x147548(0x1fe)])?_0x13949e[_0x147548(0x203)]:(this[_0x147548(0x45b)][_0x3b30a6][_0x147548(0x265)]=_0x265c03[_0x147548(0x25f)],this[_0x147548(0x45b)][_0x3b30a6][_0x147548(0x2ee)]=_0x265c03[_0x147548(0x1e2)],this[_0x147548(0x45b)][_0x3b30a6][_0x147548(0x405)]=_0x265c03[_0x147548(0x299)],this[_0x147548(0x45b)][_0x3b30a6][_0x147548(0x3e0)]=_0x265c03[_0x147548(0x528)],_0x13949e['SR_OK']);}},{'key':'JudgeDisplayEffect','value':function(_0x10e182){var _0xae0cd8=_0x22f0ab,_0x4f9b01=0x0;switch(_0x4f9b01){case 0x0:return _0x4f9b01=this[_0xae0cd8(0x4f3)](_0x10e182),0x4==this['nPlaceType']&&(this['nPlaceType']=0x0),_0x13949e[_0xae0cd8(0x4a6)];case 0x3:return(_0x4f9b01=this[_0xae0cd8(0x4f3)](_0x10e182))==this[_0xae0cd8(0x344)]||0x4==this['nPlaceType']?_0x13949e[_0xae0cd8(0x4a6)]:_0x13949e[_0xae0cd8(0x38d)];case 0x2:case 0x1:return(_0x4f9b01=this['GetPlaceType'](_0x10e182))==this[_0xae0cd8(0x344)]||0x4==_0x4f9b01?_0x13949e['SR_OK']:_0x13949e[_0xae0cd8(0x38d)];default:return _0x13949e[_0xae0cd8(0x38d)];}return _0x13949e['SR_ERR_NOT_SUPPORT'];}},{'key':_0x22f0ab(0x4f3),'value':function(_0x1e0375){var _0x375394=_0x22f0ab;switch(_0x1e0375){case _0x3468da['SR_DE_FISH_PTZ_CEILING']:case _0x3468da[_0x375394(0x208)]:case _0x3468da[_0x375394(0x4f5)]:case _0x3468da['SR_DE_FISH_CYLINDER_CEILING']:case _0x3468da[_0x375394(0x3f3)]:return 0x3;case _0x3468da[_0x375394(0x4c2)]:case _0x3468da[_0x375394(0x2f5)]:case _0x3468da[_0x375394(0x2d3)]:case _0x3468da[_0x375394(0x3a9)]:case _0x3468da['SR_DE_FISH_CYLINDER_SPLIT_FLOOR']:return 0x2;case _0x3468da[_0x375394(0x4bf)]:case _0x3468da[_0x375394(0x33c)]:case _0x3468da['SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL']:case _0x3468da[_0x375394(0x26f)]:return 0x1;case _0x3468da['SR_DE_FISH_SEMISPHERE']:case _0x3468da['SR_DE_FISH_ORIGINAL']:case _0x3468da['SR_DE_FISH_PLANET']:case _0x3468da[_0x375394(0x4c9)]:case _0x3468da[_0x375394(0x4dd)]:return 0x4;default:return 0x0;}return 0x0;}},{'key':_0x22f0ab(0x323),'value':function(_0x4e7581,_0x20c108){var _0x7b4ead=_0x22f0ab;if(_0x4e7581<0x0||0x20<=_0x4e7581)return _0x13949e['SR_ERR_PARAM'];if(null==_0x20c108)return _0x13949e[_0x7b4ead(0x203)];if(null==this[_0x7b4ead(0x45b)][_0x4e7581])return _0x13949e[_0x7b4ead(0x2cf)];var _0x516513=_0x13949e['SR_OK'];switch(_0x20c108[_0x7b4ead(0x260)]){case _0x3b5c80:if((_0x516513=this[_0x7b4ead(0x4e7)](_0x20c108[_0x7b4ead(0x27e)],_0x20c108[_0x7b4ead(0x469)],_0x20c108[_0x7b4ead(0x2bb)],_0x20c108['fRYBottom']))!=_0x13949e[_0x7b4ead(0x4a6)])return _0x516513;this[_0x7b4ead(0x45b)][_0x4e7581]['bCut']=_0x20c108[_0x7b4ead(0x324)],this['bBlack']=_0x20c108[_0x7b4ead(0x40f)];break;case _0x1e8e38:if(_0x3468da[_0x7b4ead(0x208)]!=this[_0x7b4ead(0x45b)][_0x4e7581][_0x7b4ead(0x1fe)]&&_0x3468da[_0x7b4ead(0x4f5)]!=this[_0x7b4ead(0x45b)][_0x4e7581][_0x7b4ead(0x1fe)]&&_0x3468da[_0x7b4ead(0x2f5)]!=this[_0x7b4ead(0x45b)][_0x4e7581][_0x7b4ead(0x1fe)]&&_0x3468da['SR_DE_FISH_PANORAMA_FLOOR_180']!=this[_0x7b4ead(0x45b)][_0x4e7581][_0x7b4ead(0x1fe)])return _0x13949e[_0x7b4ead(0x38d)];if((_0x516513=this[_0x7b4ead(0x2c0)](_0x4e7581,_0x20c108[_0x7b4ead(0x314)]))!=_0x13949e[_0x7b4ead(0x4a6)])return _0x516513;this[_0x7b4ead(0x1ee)][_0x4e7581][_0x7b4ead(0x314)]=_0x20c108['fAngle'];break;case _0x2b1fa6:if(_0x3468da[_0x7b4ead(0x4bf)]!=this['pRenderParam'][_0x4e7581][_0x7b4ead(0x1fe)]&&_0x3468da[_0x7b4ead(0x2b7)]!=this[_0x7b4ead(0x45b)][_0x4e7581][_0x7b4ead(0x1fe)]&&_0x3468da[_0x7b4ead(0x4c2)]!=this['pRenderParam'][_0x4e7581]['nDisplayEffect'])return _0x13949e['SR_ERR_NOT_SUPPORT'];if((_0x516513=this[_0x7b4ead(0x28c)](_0x4e7581,_0x20c108[_0x7b4ead(0x3f4)]))!=_0x13949e[_0x7b4ead(0x4a6)])return _0x516513;this['pFishParam'][_0x4e7581][_0x7b4ead(0x3f4)]=_0x20c108[_0x7b4ead(0x3f4)];break;case _0x1d678a:if(_0x3468da[_0x7b4ead(0x4bf)]!=this[_0x7b4ead(0x45b)][_0x4e7581][_0x7b4ead(0x1fe)]&&_0x3468da[_0x7b4ead(0x2b7)]!=this[_0x7b4ead(0x45b)][_0x4e7581]['nDisplayEffect']&&_0x3468da[_0x7b4ead(0x4c2)]!=this['pRenderParam'][_0x4e7581][_0x7b4ead(0x1fe)])return _0x13949e[_0x7b4ead(0x38d)];if((_0x516513=this[_0x7b4ead(0x1ed)](_0x4e7581,_0x20c108[_0x7b4ead(0x3d6)],_0x20c108[_0x7b4ead(0x40c)],this[_0x7b4ead(0x45b)][_0x4e7581][_0x7b4ead(0x3f4)],!0x0))!=_0x13949e[_0x7b4ead(0x4a6)])return _0x516513;this[_0x7b4ead(0x1ee)][_0x4e7581][_0x7b4ead(0x3d6)]=_0x20c108[_0x7b4ead(0x3d6)],this[_0x7b4ead(0x1ee)][_0x4e7581][_0x7b4ead(0x40c)]=_0x20c108[_0x7b4ead(0x40c)];break;case _0x3c8826:return _0x13949e[_0x7b4ead(0x38d)];}return _0x516513=this['ComputePTZPoints']();}},{'key':_0x22f0ab(0x3e3),'value':function(_0x143d41,_0x429ae0){var _0x5f2252=_0x22f0ab;return _0x143d41<0x0||0x20<=_0x143d41||null==_0x429ae0||null==this[_0x5f2252(0x1ee)][_0x143d41]?_0x13949e[_0x5f2252(0x203)]:(_0x429ae0[_0x5f2252(0x27e)]=this['fRX1'],_0x429ae0[_0x5f2252(0x469)]=this[_0x5f2252(0x3aa)],_0x429ae0[_0x5f2252(0x2bb)]=this['fRY1'],_0x429ae0[_0x5f2252(0x2e9)]=this[_0x5f2252(0x4ed)],_0x429ae0[_0x5f2252(0x40f)]=this['bBlack'],_0x429ae0['bCut']=this[_0x5f2252(0x45b)][_0x143d41][_0x5f2252(0x324)],_0x429ae0[_0x5f2252(0x260)]=this[_0x5f2252(0x1ee)][_0x143d41][_0x5f2252(0x260)],_0x429ae0[_0x5f2252(0x314)]=this[_0x5f2252(0x1ee)][_0x143d41][_0x5f2252(0x314)],_0x429ae0[_0x5f2252(0x3f4)]=this[_0x5f2252(0x1ee)][_0x143d41][_0x5f2252(0x3f4)],_0x429ae0[_0x5f2252(0x3d6)]=this['pFishParam'][_0x143d41][_0x5f2252(0x3d6)],_0x429ae0[_0x5f2252(0x40c)]=this[_0x5f2252(0x1ee)][_0x143d41][_0x5f2252(0x40c)],_0x13949e[_0x5f2252(0x4a6)]);}},{'key':_0x22f0ab(0x503),'value':function(_0x538050,_0x20a220){var _0x140b11=_0x22f0ab;return _0x538050<0x0||0x20<=_0x538050||null==_0x20a220||null==this['pRenderParam'][_0x538050]?_0x13949e['SR_ERR_PARAM']:(_0x20a220[_0x140b11(0x27e)]=this[_0x140b11(0x1f8)],_0x20a220['fRXRight']=this[_0x140b11(0x3aa)],_0x20a220[_0x140b11(0x2bb)]=this[_0x140b11(0x34c)],_0x20a220[_0x140b11(0x2e9)]=this['fRY2'],_0x20a220[_0x140b11(0x40f)]=this[_0x140b11(0x40f)],_0x20a220['fCosH']=this[_0x140b11(0x45b)][_0x538050][_0x140b11(0x265)],_0x20a220[_0x140b11(0x2ee)]=this[_0x140b11(0x45b)][_0x538050][_0x140b11(0x2ee)],_0x20a220[_0x140b11(0x405)]=this['pRenderParam'][_0x538050][_0x140b11(0x405)],_0x20a220[_0x140b11(0x3e0)]=this['pRenderParam'][_0x538050][_0x140b11(0x3e0)],_0x20a220['fAngle']=this[_0x140b11(0x45b)][_0x538050]['fAngle'],_0x20a220[_0x140b11(0x3f4)]=this['pRenderParam'][_0x538050][_0x140b11(0x3f4)],_0x20a220[_0x140b11(0x1fe)]=this[_0x140b11(0x45b)][_0x538050][_0x140b11(0x1fe)],_0x20a220[_0x140b11(0x324)]=this[_0x140b11(0x45b)][_0x538050]['bCut'],_0x13949e[_0x140b11(0x4a6)]);}},{'key':_0x22f0ab(0x4e7),'value':function(_0xc43460,_0x43a0e9,_0xe4dbc8,_0x34708e){var _0x449b89=_0x22f0ab;if(_0xc43460<=-0.5||0.4<=_0xc43460||_0x43a0e9<=0.6||1.5<=_0x43a0e9||_0xe4dbc8<=-0.5||0.4<=_0xe4dbc8||_0x34708e<=0.6||1.5<=_0x34708e||_0xc43460+_0x43a0e9<=0.8||1.2<=_0xc43460+_0x43a0e9||_0xe4dbc8+_0x34708e<=0.8||1.2<=_0xe4dbc8+_0x34708e)return _0x13949e[_0x449b89(0x203)];if(_0xc43460<0x0||0x1<_0x43a0e9||_0xe4dbc8<0x0||0x1<_0x34708e){for(var _0x41e2a6=0x0;_0x41e2a6<0x20;++_0x41e2a6)if(_0x3468da[_0x449b89(0x2b7)]==this['pRenderParam'][_0x41e2a6][_0x449b89(0x1fe)]||_0x3468da[_0x449b89(0x4c2)]==this[_0x449b89(0x45b)][_0x41e2a6][_0x449b89(0x1fe)]||_0x3468da[_0x449b89(0x4bf)]==this[_0x449b89(0x45b)][_0x41e2a6]['nDisplayEffect']){var _0x423ca2=[];if(_0x423ca2[_0x449b89(0x25f)]=this[_0x449b89(0x45b)][_0x41e2a6]['fCosH'],_0x423ca2[_0x449b89(0x1e2)]=this[_0x449b89(0x45b)][_0x41e2a6][_0x449b89(0x2ee)],_0x423ca2[_0x449b89(0x299)]=this[_0x449b89(0x45b)][_0x41e2a6]['fCosV'],_0x423ca2[_0x449b89(0x528)]=this[_0x449b89(0x45b)][_0x41e2a6][_0x449b89(0x3e0)],0x0==this[_0x449b89(0x2ac)](_0xc43460,_0x43a0e9,_0xe4dbc8,_0x34708e,_0x423ca2,this[_0x449b89(0x45b)][_0x41e2a6]['fZoom'],this[_0x449b89(0x45b)][_0x41e2a6][_0x449b89(0x1fe)]))return _0x13949e[_0x449b89(0x203)];}}return this[_0x449b89(0x1f8)]=_0xc43460,this[_0x449b89(0x3aa)]=_0x43a0e9,this[_0x449b89(0x34c)]=_0xe4dbc8,this[_0x449b89(0x4ed)]=_0x34708e,_0x13949e[_0x449b89(0x4a6)];}},{'key':'UpdateWideScanAngle','value':function(_0x3a6b5f,_0x5536f3){var _0x4429f8=_0x22f0ab;return null==this['pRenderParam'][_0x3a6b5f]?_0x13949e[_0x4429f8(0x2cf)]:(_0x3468da[_0x4429f8(0x2f5)]==this[_0x4429f8(0x45b)][_0x3a6b5f][_0x4429f8(0x1fe)]||_0x3468da['SR_DE_FISH_PANORAMA_FLOOR_180']==this[_0x4429f8(0x45b)][_0x3a6b5f][_0x4429f8(0x1fe)]?this['pRenderParam'][_0x3a6b5f]['fAngle']=_0x5536f3:_0x3468da['SR_DE_FISH_PANORAMA_CEILING_360']!=this[_0x4429f8(0x45b)][_0x3a6b5f][_0x4429f8(0x1fe)]&&_0x3468da[_0x4429f8(0x4f5)]!=this[_0x4429f8(0x45b)][_0x3a6b5f][_0x4429f8(0x1fe)]||(this[_0x4429f8(0x45b)][_0x3a6b5f][_0x4429f8(0x314)]=-_0x5536f3),_0x13949e[_0x4429f8(0x4a6)]);}},{'key':_0x22f0ab(0x207),'value':function(_0x2cdf66,_0x2a4fbb,_0x3bfb0f,_0x2f451a){var _0x432c17=_0x22f0ab,_0x52c448=Math['sqrt']((_0x2a4fbb-0.5)*(_0x2a4fbb-0.5)+(_0x2cdf66-0.5)*(_0x2cdf66-0.5));if(0.5<_0x52c448)return _0x13949e['SR_ERR_PARAM'];if(_0x52c448<0.001)return _0x3bfb0f[_0x432c17(0x299)]=0x1,_0x3bfb0f['fVAngleSin']=0x0,_0x3bfb0f[_0x432c17(0x25f)]=0x1,_0x3bfb0f['fHAngleSin']=0x0,_0x13949e[_0x432c17(0x4a6)];if(_0x2f451a==_0x3468da[_0x432c17(0x2b7)]){_0x3bfb0f[_0x432c17(0x25f)]=(0.5-_0x2a4fbb)/_0x52c448,_0x3bfb0f['fHAngleSin']=(0.5-_0x2cdf66)/_0x52c448;var _0x203ee9=_0x52c448*_0x48e6bf;_0x3bfb0f['fVAngleCos']=Math[_0x432c17(0x34b)](_0x203ee9),_0x3bfb0f['fVAngleSin']=Math[_0x432c17(0x202)](_0x203ee9);}else{if(_0x2f451a!=_0x3468da[_0x432c17(0x4c2)])return _0x13949e['SR_ERR_PARAM'];_0x3bfb0f[_0x432c17(0x25f)]=(_0x2a4fbb-0.5)/_0x52c448,_0x3bfb0f[_0x432c17(0x1e2)]=(0.5-_0x2cdf66)/_0x52c448,_0x203ee9=_0x52c448*_0x48e6bf,(_0x3bfb0f[_0x432c17(0x299)]=Math[_0x432c17(0x34b)](_0x203ee9),_0x3bfb0f[_0x432c17(0x528)]=Math['sin'](_0x203ee9));}return _0x13949e[_0x432c17(0x4a6)];}},{'key':_0x22f0ab(0x525),'value':function(_0x298627,_0x1d1ea5,_0x3085db){var _0x3e6163=_0x22f0ab,_0x4c5cd2,_0x4ec552;return 0.25<(_0x1d1ea5-0.5)*(_0x1d1ea5-0.5)+(_0x298627-0.5)*(_0x298627-0.5)?_0x13949e[_0x3e6163(0x203)]:(_0x1d1ea5=(_0x1d1ea5-0.5)/0.5*_0x48e6bf/0x2,_0x4c5cd2=Math[_0x3e6163(0x34b)](_0x1d1ea5),_0x1d1ea5=Math[_0x3e6163(0x202)](_0x1d1ea5),0x1<(_0x298627-0.5)/0.5/_0x4c5cd2||(_0x298627-0.5)/0.5/_0x4c5cd2<-0x1?SR_ERR_PARAM:(_0x298627=(_0x298627-0.5)/0.5/_0x4c5cd2*_0x48e6bf/0x2,_0x4ec552=Math[_0x3e6163(0x34b)](_0x298627),_0x298627=Math['sin'](_0x298627),_0x3085db[_0x3e6163(0x299)]=_0x4c5cd2,_0x3085db[_0x3e6163(0x528)]=_0x1d1ea5,_0x3085db[_0x3e6163(0x25f)]=_0x4ec552,_0x3085db['fHAngleSin']=_0x298627,_0x13949e[_0x3e6163(0x4a6)]));}},{'key':_0x22f0ab(0x2ac),'value':function(_0x24afa7,_0x44f8b6,_0x33e2fb,_0x34afb0,_0x5c6caf,_0x3a99ba,_0x1c89f7){var _0x34b12a=_0x22f0ab;return 0x1!=this['IsOutofImage'](_0x24afa7,_0x44f8b6,_0x33e2fb,_0x34afb0,_0x5c6caf['fHAngleCos'],_0x5c6caf[_0x34b12a(0x1e2)],_0x5c6caf['fVAngleCos'],_0x5c6caf[_0x34b12a(0x528)],_0x3a99ba,0x1,0.5,_0x1c89f7)&&(0x1!=this['IsOutofImage'](_0x24afa7,_0x44f8b6,_0x33e2fb,_0x34afb0,_0x5c6caf[_0x34b12a(0x25f)],_0x5c6caf[_0x34b12a(0x1e2)],_0x5c6caf[_0x34b12a(0x299)],_0x5c6caf['fVAngleSin'],_0x3a99ba,0x0,0.5,_0x1c89f7)&&(0x1!=this[_0x34b12a(0x3f2)](_0x24afa7,_0x44f8b6,_0x33e2fb,_0x34afb0,_0x5c6caf[_0x34b12a(0x25f)],_0x5c6caf[_0x34b12a(0x1e2)],_0x5c6caf['fVAngleCos'],_0x5c6caf[_0x34b12a(0x528)],_0x3a99ba,0.5,0x1,_0x1c89f7)&&(0x1!=this['IsOutofImage'](_0x24afa7,_0x44f8b6,_0x33e2fb,_0x34afb0,_0x5c6caf[_0x34b12a(0x25f)],_0x5c6caf[_0x34b12a(0x1e2)],_0x5c6caf[_0x34b12a(0x299)],_0x5c6caf[_0x34b12a(0x528)],_0x3a99ba,0.5,0x0,_0x1c89f7)&&(0x1!=this[_0x34b12a(0x3f2)](_0x24afa7,_0x44f8b6,_0x33e2fb,_0x34afb0,_0x5c6caf[_0x34b12a(0x25f)],_0x5c6caf[_0x34b12a(0x1e2)],_0x5c6caf[_0x34b12a(0x299)],_0x5c6caf['fVAngleSin'],_0x3a99ba,0x0,0x0,_0x1c89f7)&&(0x1!=this[_0x34b12a(0x3f2)](_0x24afa7,_0x44f8b6,_0x33e2fb,_0x34afb0,_0x5c6caf['fHAngleCos'],_0x5c6caf['fHAngleSin'],_0x5c6caf[_0x34b12a(0x299)],_0x5c6caf['fVAngleSin'],_0x3a99ba,0x0,0x1,_0x1c89f7)&&(0x1!=this[_0x34b12a(0x3f2)](_0x24afa7,_0x44f8b6,_0x33e2fb,_0x34afb0,_0x5c6caf[_0x34b12a(0x25f)],_0x5c6caf[_0x34b12a(0x1e2)],_0x5c6caf[_0x34b12a(0x299)],_0x5c6caf[_0x34b12a(0x528)],_0x3a99ba,0x1,0x1,_0x1c89f7)&&0x1!=this[_0x34b12a(0x3f2)](_0x24afa7,_0x44f8b6,_0x33e2fb,_0x34afb0,_0x5c6caf[_0x34b12a(0x25f)],_0x5c6caf[_0x34b12a(0x1e2)],_0x5c6caf[_0x34b12a(0x299)],_0x5c6caf['fVAngleSin'],_0x3a99ba,0x1,0x0,_0x1c89f7)))))));}},{'key':_0x22f0ab(0x3f2),'value':function(_0x4cc7ca,_0x5c0d8d,_0x43c536,_0x2dfe4c,_0x4a902e,_0x364b79,_0x8c51ef,_0x122369,_0x336385,_0x35ea07,_0x5bed77,_0x59b13c){var _0x14a46d=_0x22f0ab,_0x1719e2,_0x5bb98f,_0x18125f,_0x4fcc36=(_0x5c0d8d-_0x4cc7ca)/(_0x2dfe4c-_0x43c536),_0x2645d3=(_0x4cc7ca+_0x5c0d8d)/0x2*0x1,_0x43c536=(_0x43c536+_0x2dfe4c)/0x2*_0x4fcc36,_0x2dfe4c=(_0x5c0d8d-_0x4cc7ca)/0x2*0x1;if(_0x59b13c==SR_DE_FISH_PTZ_CEILING){if(_0x27bb8a=_0x35ea07-0.5,_0x2cbbf2=(_0x1719e2=0.5-_0x5bed77)*_0x8c51ef+(_0x5bb98f=_0x336385)*_0x122369,(_0x18125f=_0x5bb98f*_0x8c51ef-_0x1719e2*_0x122369)<=0x0)return!0x0;var _0x27bb8a,_0x2cbbf2,_0x25edb6,_0x557a3c=Math[_0x14a46d(0x41c)](_0x27bb8a*_0x27bb8a+_0x2cbbf2*_0x2cbbf2),_0x5c0d8d=Math['sqrt'](_0x27bb8a*_0x27bb8a+_0x2cbbf2*_0x2cbbf2+_0x18125f*_0x18125f),_0x4cc7ca=Math[_0x14a46d(0x2c8)](_0x557a3c/_0x5c0d8d)/1.5707963*0.5,_0x3b5866=(-((_0x27bb8a=_0x4cc7ca*_0x27bb8a/_0x557a3c)*_0x364b79+(_0x2cbbf2=_0x4cc7ca*_0x2cbbf2/_0x557a3c)*_0x4a902e)*_0x2dfe4c*0x2+_0x43c536)/_0x4fcc36;if((_0x25edb6=(_0x27bb8a*_0x4a902e-_0x2cbbf2*_0x364b79)*_0x2dfe4c*0x2+_0x2645d3)<0x0||0x1<_0x25edb6||_0x3b5866<0x0||0x1<_0x3b5866)return!0x0;}if(_0x59b13c==SR_DE_FISH_PTZ_FLOOR){if(_0x27bb8a=_0x35ea07-0.5,_0x2cbbf2=(_0x1719e2=_0x5bed77-0.5)*_0x8c51ef+(_0x5bb98f=_0x336385)*_0x122369,(_0x18125f=_0x5bb98f*_0x8c51ef-_0x1719e2*_0x122369)<=0x0)return!0x0;_0x557a3c=Math[_0x14a46d(0x41c)](_0x27bb8a*_0x27bb8a+_0x2cbbf2*_0x2cbbf2),(_0x5c0d8d=Math['sqrt'](_0x27bb8a*_0x27bb8a+_0x2cbbf2*_0x2cbbf2+_0x18125f*_0x18125f),_0x4cc7ca=Math['asin'](_0x557a3c/_0x5c0d8d)/1.5707963*0.5);if(_0x3b5866=(((_0x27bb8a=_0x4cc7ca*_0x27bb8a/_0x557a3c)*_0x364b79+(_0x2cbbf2=_0x4cc7ca*_0x2cbbf2/_0x557a3c)*_0x4a902e)*_0x2dfe4c*0x2+_0x43c536)/_0x4fcc36,(_0x25edb6=(_0x27bb8a*_0x4a902e-_0x2cbbf2*_0x364b79)*_0x2dfe4c*0x2+_0x2645d3)<0x0||0x1<_0x25edb6||_0x3b5866<0x0||0x1<_0x3b5866)return!0x0;}if(_0x59b13c==SR_DE_FISH_PTZ_WALL){if(_0x25edb6=(_0x27bb8a=_0x35ea07-0.5)*_0x4a902e+(_0x18125f=(_0x5bb98f=_0x336385)*_0x8c51ef-(_0x1719e2=_0x5bed77-0.5)*_0x122369)*_0x364b79,_0x3b5866=_0x2cbbf2=_0x1719e2*_0x8c51ef+_0x5bb98f*_0x122369,(_0x5c0d8d=_0x18125f*_0x4a902e-_0x27bb8a*_0x364b79)<=0x0)return!0x0;_0x557a3c=Math[_0x14a46d(0x41c)](_0x25edb6*_0x25edb6+_0x3b5866*_0x3b5866),(_0x4cc7ca=Math[_0x14a46d(0x41c)](_0x25edb6*_0x25edb6+_0x3b5866*_0x3b5866+_0x5c0d8d*_0x5c0d8d),_0x59b13c=Math['asin'](_0x557a3c/_0x4cc7ca)/1.5707963*0.5);if(_0x3b5866=(_0x59b13c*_0x3b5866/_0x557a3c*_0x2dfe4c*0x2+_0x43c536)/_0x4fcc36,(_0x25edb6=_0x59b13c*_0x25edb6/_0x557a3c*_0x2dfe4c*0x2+_0x2645d3)<0x0||0x1<_0x25edb6||_0x3b5866<0x0||0x1<_0x3b5866)return!0x0;}return!0x1;}},{'key':_0x22f0ab(0x4d7),'value':function(){var _0x18aa5a=_0x22f0ab;if(-0x1==this['nWndPort'])return _0x13949e[_0x18aa5a(0x2cf)];for(var _0x255d41,_0x18cee9=0x0;_0x18cee9<0x20;++_0x18cee9)null==this['pRenderParam'][_0x18cee9]||_0x3468da['SR_DE_FISH_PTZ_CEILING']!=this['pRenderParam'][_0x18cee9][_0x18aa5a(0x1fe)]&&_0x3468da[_0x18aa5a(0x4c2)]!=this['pRenderParam'][_0x18cee9]['nDisplayEffect']&&_0x3468da['SR_DE_FISH_PTZ_WALL']!=this[_0x18aa5a(0x45b)][_0x18cee9][_0x18aa5a(0x1fe)]||(_0x255d41=_0x13949e[_0x18aa5a(0x4a6)],this[_0x18aa5a(0x334)]==_0x46c232?(_0x255d41=this['GetRangePoints'](_0x18cee9),_0x13949e[_0x18aa5a(0x4a6)]==_0x255d41&&(_0x255d41=this[_0x18aa5a(0x38f)](_0x18cee9))):this[_0x18aa5a(0x334)]==_0xba837&&(_0x255d41=this['GetRectPoints'](_0x18cee9)));return _0x13949e[_0x18aa5a(0x4a6)];}},{'key':_0x22f0ab(0x289),'value':function(){var _0x50c128=_0x22f0ab;return this[_0x50c128(0x270)];}},{'key':_0x22f0ab(0x40b),'value':function(){var _0x8fd81f=_0x22f0ab;return this[_0x8fd81f(0x334)];}},{'key':'GetPTZColor','value':function(_0x547ab5,_0x4b15de){var _0x3cb11b=_0x22f0ab;return _0x547ab5<0x0||0x20<=_0x547ab5||null==_0x4b15de?_0x13949e[_0x3cb11b(0x203)]:(_0x4b15de['fA']=this[_0x3cb11b(0x320)][_0x547ab5]['fA'],_0x4b15de['fR']=this['stPTZColor'][_0x547ab5]['fR'],_0x4b15de['fG']=this[_0x3cb11b(0x320)][_0x547ab5]['fG'],_0x4b15de['fB']=this[_0x3cb11b(0x320)][_0x547ab5]['fB'],null!=this['pPTZSetColor']&&(Math[_0x3cb11b(0x1e6)](this[_0x3cb11b(0x3eb)][_0x547ab5]['fA'])<_0x3e9a49||Math[_0x3cb11b(0x1e6)](this[_0x3cb11b(0x3eb)][_0x547ab5]['fR'])<_0x3e9a49||Math['abs'](this[_0x3cb11b(0x3eb)][_0x547ab5]['fG'])<_0x3e9a49||Math[_0x3cb11b(0x1e6)](this[_0x3cb11b(0x3eb)][_0x547ab5]['fB'])<_0x3e9a49)&&(_0x4b15de['fA']=this[_0x3cb11b(0x3eb)][_0x547ab5]['fA'],_0x4b15de['fR']=this[_0x3cb11b(0x3eb)][_0x547ab5]['fR'],_0x4b15de['fG']=this[_0x3cb11b(0x3eb)][_0x547ab5]['fG'],_0x4b15de['fB']=this['pPTZSetColor'][_0x547ab5]['fB']),_0x13949e[_0x3cb11b(0x4a6)]);}},{'key':_0x22f0ab(0x52c),'value':function(_0x44c32e,_0x3b828d){var _0x16bb48=_0x22f0ab;if(_0x44c32e<0x0||0x20<=_0x44c32e)return _0x13949e[_0x16bb48(0x203)];if(null==_0x3b828d)return _0x13949e[_0x16bb48(0x203)];if(null==this[_0x16bb48(0x3eb)]){this[_0x16bb48(0x3eb)]=[];for(var _0x458351=0x0;_0x458351<0x20;++_0x458351)this['pPTZSetColor'][_0x458351]=[],this['pPTZSetColor'][_0x458351]['fR']=0x0,this['pPTZSetColor'][_0x458351]['fG']=0x0,this['pPTZSetColor'][_0x458351]['fB']=0x0,this[_0x16bb48(0x3eb)][_0x458351]['fA']=0x1;}return this[_0x16bb48(0x3eb)][_0x44c32e]['fR']=_0x3b828d['fR'],this[_0x16bb48(0x3eb)][_0x44c32e]['fG']=_0x3b828d['fG'],this[_0x16bb48(0x3eb)][_0x44c32e]['fB']=_0x3b828d['fB'],this[_0x16bb48(0x3eb)][_0x44c32e]['fA']=_0x3b828d['fA'],_0x13949e[_0x16bb48(0x4a6)];}},{'key':_0x22f0ab(0x303),'value':function(_0x206b44){return!(_0x206b44<0x0||0x20<=_0x206b44)&&this['bPTZSelected'][_0x206b44];}},{'key':_0x22f0ab(0x533),'value':function(_0x1ec40c,_0x501f73){var _0x26790e=_0x22f0ab;if(-0x1==this['nWndPort'])return-0x1;if(null==this[_0x26790e(0x45b)][this[_0x26790e(0x270)]])return-0x1;var _0x4c2285=0x20,_0x136752=[];_0x136752['fX']=_0x1ec40c,_0x136752['fY']=_0x501f73;for(var _0xd802d9=0x0;_0xd802d9<0x20;++_0xd802d9)this['bPTZSelected'][_0xd802d9]=!0x1;if(this[_0x26790e(0x334)]==_0x46c232){switch(this['pRenderParam'][this[_0x26790e(0x270)]][_0x26790e(0x1fe)]){case _0x3468da[_0x26790e(0x2f5)]:this[_0x26790e(0x510)](_0x136752,_0x1ec40c,_0x501f73);break;case _0x3468da[_0x26790e(0x208)]:this[_0x26790e(0x1d9)](_0x136752,_0x1ec40c,_0x501f73);break;case _0x3468da[_0x26790e(0x33c)]:this['GetPointPano2FishWall'](_0x136752,_0x1ec40c,_0x501f73);}for(var _0x386aa3=0x0;_0x386aa3<0x20;++_0x386aa3)if(0x0!=this['nOriPTZPointNum'][_0x386aa3]){var _0x31a50a=[],_0x46f960=(_0x31a50a['fX']=this['pOriPTZPoints'][_0x386aa3][0x0]['fX'],_0x31a50a['fY']=this[_0x26790e(0x22d)][_0x386aa3][0x0]['fY'],[]);_0x46f960['fX']=this['pOriPTZPoints'][_0x386aa3][0x0]['fX'],_0x46f960['fY']=this['pOriPTZPoints'][_0x386aa3][0x0]['fY'];for(var _0x494da2=0x1;_0x494da2<this[_0x26790e(0x21c)][_0x386aa3];++_0x494da2)this[_0x26790e(0x285)](_0x31a50a,_0x46f960,this[_0x26790e(0x22d)][_0x386aa3][_0x494da2]);if(_0x136752['fX']<=_0x31a50a['fX']&&_0x136752['fX']>=_0x46f960['fX']&&_0x136752['fY']>=_0x46f960['fY']&&_0x136752['fY']<=_0x31a50a['fY']){_0x4c2285=_0x386aa3;break;}}}else{if(this[_0x26790e(0x334)]!=_0xba837)return-0x1;for(var _0xa00358=0x0;_0xa00358<0x20;++_0xa00358)if(_0x136752['fX']<=this[_0x26790e(0x47b)][_0xa00358][0x2]['fX']&&_0x136752['fX']>=this['pRectPoints'][_0xa00358][0x0]['fX']&&_0x136752['fY']>=this[_0x26790e(0x47b)][_0xa00358][0x0]['fY']&&_0x136752['fY']<=this[_0x26790e(0x47b)][_0xa00358][0x2]['fY']){_0x4c2285=_0xa00358;break;}}return _0x4c2285<0x20?(this[_0x26790e(0x447)][_0x4c2285]=!0x0,_0x4c2285):-0x1;}},{'key':_0x22f0ab(0x3ca),'value':function(_0x8c11fc){var _0x554a23=_0x22f0ab;if(_0x8c11fc<0x0||0x20<=_0x8c11fc)return _0x13949e[_0x554a23(0x203)];for(var _0x548255=0x0;_0x548255<0x20;++_0x548255)this[_0x554a23(0x447)][_0x548255]=!0x1;if(this['nPTZDisplayMode']==_0x46c232){if(0x0==this[_0x554a23(0x21c)][_0x8c11fc])return _0x13949e[_0x554a23(0x203)];this[_0x554a23(0x447)][_0x8c11fc]=!0x0;}else{if(0x0==this[_0x554a23(0x4bc)][_0x8c11fc])return _0x13949e['SR_ERR_PARAM'];this[_0x554a23(0x447)][_0x8c11fc]=!0x0;}return _0x13949e[_0x554a23(0x4a6)];}},{'key':'GetPTZRectange','value':function(_0x56216f,_0x56d46d,_0x1de57b){var _0x20ac8f=_0x22f0ab;return _0x1de57b['fX']<_0x56d46d['fX']&&(_0x56d46d['fX']=_0x1de57b['fX']),_0x1de57b['fY']<_0x56d46d['fY']&&(_0x56d46d['fY']=_0x1de57b['fY']),_0x1de57b['fX']>_0x56216f['fX']&&(_0x56216f['fX']=_0x1de57b['fX']),_0x1de57b['fY']>_0x56216f['fY']&&(_0x56216f['fY']=_0x1de57b['fY']),_0x13949e[_0x20ac8f(0x4a6)];}},{'key':'GetPTZPoints','value':function(_0x42a0d4,_0x346ed6,_0x3f96c9){var _0x4ecd0d=_0x22f0ab;return _0x42a0d4<0x0||0x20<=_0x42a0d4?_0x13949e[_0x4ecd0d(0x203)]:null==this[_0x4ecd0d(0x45b)][this['nWndPort']]?_0x13949e[_0x4ecd0d(0x2cf)]:(_0x46c232==_0x3f96c9?null!=this['pOriPTZPoints'][_0x42a0d4]&&0x0!=this[_0x4ecd0d(0x21c)][_0x42a0d4]&&(_0x346ed6['pstPoints']=this[_0x4ecd0d(0x22d)][_0x42a0d4],_0x346ed6[_0x4ecd0d(0x216)]=this[_0x4ecd0d(0x21c)][_0x42a0d4]):_0xba837==_0x3f96c9&&null!=this['pRectPoints'][_0x42a0d4]&&(_0x346ed6[_0x4ecd0d(0x2f3)]=this[_0x4ecd0d(0x47b)][_0x42a0d4],_0x346ed6[_0x4ecd0d(0x216)]=0x4),_0x13949e[_0x4ecd0d(0x4a6)]);}},{'key':_0x22f0ab(0x524),'value':function(_0x105384){var _0x200023=_0x22f0ab;return this[_0x200023(0x334)]=_0x105384,this[_0x200023(0x4d7)]();}},{'key':_0x22f0ab(0x4ad),'value':function(_0x1e2546){var _0x36542a=_0x22f0ab;return _0x1e2546<0x0||0x20<=_0x1e2546?_0x13949e[_0x36542a(0x203)]:null==this[_0x36542a(0x45b)]?_0x13949e[_0x36542a(0x2cf)]:this['pRenderParam'][_0x1e2546]['nDisplayEffect'];}},{'key':_0x22f0ab(0x3b6),'value':function(_0x5d4b04,_0x4918e4,_0x18c305){var _0x586ca4=_0x22f0ab;if(_0x5d4b04<0x0||0x20<=_0x5d4b04)return _0x13949e[_0x586ca4(0x203)];if(null==this[_0x586ca4(0x3ab)][_0x5d4b04]||0x0==this[_0x586ca4(0x538)][_0x5d4b04])return _0x13949e[_0x586ca4(0x203)];var _0x215c72=this['nPTZFragmentNode'][_0x5d4b04][_0x18c305];if(_0x4918e4['nPointNum']=this[_0x586ca4(0x3ae)][_0x5d4b04][_0x18c305+0x1]-this[_0x586ca4(0x3ae)][_0x5d4b04][_0x18c305],_0x4918e4['nPointNum']<0x0)return _0x13949e[_0x586ca4(0x2cf)];_0x4918e4[_0x586ca4(0x2f3)]=[];for(var _0x1b99ff=0x0;_0x1b99ff<_0x4918e4['nPointNum'];++_0x1b99ff){var _0x24a3cd=[];_0x24a3cd['fX']=this[_0x586ca4(0x3ab)][_0x5d4b04][_0x215c72+_0x1b99ff]['fX'],_0x24a3cd['fY']=this['pPanoPTZPoints'][_0x5d4b04][_0x215c72+_0x1b99ff]['fY'],_0x4918e4['pstPoints'][_0x586ca4(0x51d)](_0x24a3cd);}return _0x13949e['SR_OK'];}},{'key':'GetPTZFragmentNum','value':function(_0x576f06){var _0x29db8c=_0x22f0ab;return _0x576f06<0x0||0x20<=_0x576f06?_0x13949e[_0x29db8c(0x203)]:0x0==this[_0x29db8c(0x371)][_0x576f06]?_0x13949e[_0x29db8c(0x2cf)]:this[_0x29db8c(0x371)][_0x576f06];}},{'key':'CalcPTZFragmentPoints','value':function(_0x51dc93){var _0x43d5bf=_0x22f0ab;if(_0x51dc93<0x0||0x20<=_0x51dc93)return _0x13949e[_0x43d5bf(0x203)];if(null==this['pPanoPTZPoints'][_0x51dc93]||0x0==this[_0x43d5bf(0x538)][_0x51dc93])return _0x13949e[_0x43d5bf(0x2cf)];this['nPTZFragmentNode'][_0x51dc93][0x0]=0x0,this[_0x43d5bf(0x371)][_0x51dc93]=0x1;for(var _0x566de4=0x0,_0x3f224a=0x0;_0x3f224a<this[_0x43d5bf(0x538)][_0x51dc93]-0x1;_0x3f224a++)0.5<Math[_0x43d5bf(0x1e6)](this[_0x43d5bf(0x3ab)][_0x51dc93][_0x3f224a+0x1]['fX']-this[_0x43d5bf(0x3ab)][_0x51dc93][_0x3f224a]['fX'])&&(_0x566de4=this['nPTZFragmentNum'][_0x51dc93],this['nPTZFragmentNode'][_0x51dc93][_0x566de4]=_0x3f224a+0x1,this['nPTZFragmentNum'][_0x51dc93]=this[_0x43d5bf(0x371)][_0x51dc93]+0x1);var _0x401f53=this[_0x43d5bf(0x538)][_0x51dc93];return Math['abs'](this[_0x43d5bf(0x3ab)][_0x51dc93][0x0]['fX']-this[_0x43d5bf(0x3ab)][_0x51dc93][_0x401f53-0x1]['fX'])<0.5&&(this[_0x43d5bf(0x3ab)][_0x51dc93][_0x401f53]['fX']=this['pPanoPTZPoints'][_0x51dc93][0x0]['fX'],this['pPanoPTZPoints'][_0x51dc93][_0x401f53]['fY']=this[_0x43d5bf(0x3ab)][_0x51dc93][0x0]['fY'],this[_0x43d5bf(0x538)][_0x51dc93]=this['nPanoPTZPointNum'][_0x51dc93]+0x1),_0x566de4=this[_0x43d5bf(0x371)][_0x51dc93],this[_0x43d5bf(0x3ae)][_0x51dc93][_0x566de4]=this[_0x43d5bf(0x538)][_0x51dc93],_0x13949e[_0x43d5bf(0x4a6)];}},{'key':_0x22f0ab(0x1dd),'value':function(_0x1bf892){var _0x14fccb=_0x22f0ab;return this[_0x14fccb(0x3ee)][_0x1bf892];}},{'key':_0x22f0ab(0x523),'value':function(_0x175f2a,_0x5d6bc9,_0x2ea935){var _0x4ec4f4=_0x22f0ab;if(null==this['pRenderParam'][this['nWndPort']])return _0x13949e[_0x4ec4f4(0x2cf)];if(null==_0x175f2a)return _0x13949e['SR_ERR_PARAM'];var _0x9d481c=(this['fRX2']-this[_0x4ec4f4(0x1f8)])/(this[_0x4ec4f4(0x4ed)]-this[_0x4ec4f4(0x34c)]),_0x490014=(this['fRX2']-this[_0x4ec4f4(0x1f8)])/0x2*0x1,_0x416e60=0x0,_0x9d481c=((0x1<this[_0x4ec4f4(0x3aa)]||0x1<this[_0x4ec4f4(0x4ed)]||this[_0x4ec4f4(0x1f8)]<0x0||this[_0x4ec4f4(0x34c)]<0x0)&&(this['fRX1']<0x0&&_0x416e60<(_0x877d52=-this[_0x4ec4f4(0x1f8)])&&(_0x416e60=_0x877d52),0x1<this['fRX2']&&_0x416e60<(_0x877d52=this[_0x4ec4f4(0x3aa)]-0x1)&&(_0x416e60=_0x877d52),this[_0x4ec4f4(0x34c)]<0x0&&_0x416e60<(_0x877d52=-this['fRY1']*_0x9d481c)&&(_0x416e60=_0x877d52),0x1<this[_0x4ec4f4(0x4ed)]&&_0x416e60<(_0x877d52=(this[_0x4ec4f4(0x4ed)]-0x1)*_0x9d481c)&&(_0x416e60=_0x877d52)),_0x416e60/_0x490014),_0x877d52=[];if(_0x877d52['fX']=0x0,_0x877d52['fY']=0x0,Math[_0x4ec4f4(0x1e6)](_0x5d6bc9-0.5)<_0x3e9a49&&Math[_0x4ec4f4(0x1e6)](_0x2ea935-0.5)<_0x3e9a49)return _0x13949e['SR_ERR_NOT_SUPPORT'];return _0x416e60=[],_0x490014=[],_0x416e60['fX']=_0x5d6bc9-0.5,_0x416e60['fY']=_0x2ea935-0.5,_0x490014['fX']=-0.5*Math[_0x4ec4f4(0x202)](this[_0x4ec4f4(0x45b)][this[_0x4ec4f4(0x270)]][_0x4ec4f4(0x314)]),_0x490014['fY']=0.5*Math[_0x4ec4f4(0x34b)](this[_0x4ec4f4(0x45b)][this[_0x4ec4f4(0x270)]][_0x4ec4f4(0x314)]),_0x5d6bc9=Math[_0x4ec4f4(0x41c)](_0x416e60['fX']*_0x416e60['fX']+_0x416e60['fY']*_0x416e60['fY']),_0x2ea935=Math[_0x4ec4f4(0x41c)](_0x490014['fX']*_0x490014['fX']+_0x490014['fY']*_0x490014['fY']),_0x2ea935=Math['acos']((_0x416e60['fX']*_0x490014['fX']+_0x416e60['fY']*_0x490014['fY'])/(_0x5d6bc9*_0x2ea935)),(0x0<_0x416e60['fX']*_0x490014['fY']-_0x416e60['fY']*_0x490014['fX']&&(_0x2ea935=6.2831852-_0x2ea935),_0x877d52['fX']=_0x2ea935/6.2831853,_0x877d52['fY']=(0x2*(0.5-_0x5d6bc9)-_0x9d481c)/(0.8-_0x9d481c),0x0<=_0x877d52['fY']&&0x0<=_0x877d52['fX']&&_0x877d52['fY']<=0x1&&_0x877d52['fX']<=0x1?(_0x175f2a['fX']=_0x877d52['fX'],_0x175f2a['fY']=_0x877d52['fY'],_0x13949e['SR_OK']):_0x13949e['SR_ERR_PARAM']);}},{'key':'GetPointFish2PanoFloor','value':function(_0x47c7ab,_0x7bc0a8,_0x2b85f4){var _0x227715=_0x22f0ab;if(null==this['pRenderParam'][this['nWndPort']])return _0x13949e[_0x227715(0x2cf)];if(null==_0x47c7ab)return _0x13949e[_0x227715(0x203)];var _0x451cd7=(this[_0x227715(0x3aa)]-this[_0x227715(0x1f8)])/(this['fRY2']-this[_0x227715(0x34c)]),_0x1b56bb=(this['fRX2']-this[_0x227715(0x1f8)])/0x2*0x1,_0x575d8b=0x0,_0x451cd7=((0x1<this[_0x227715(0x3aa)]||0x1<this[_0x227715(0x4ed)]||this[_0x227715(0x1f8)]<0x0||this[_0x227715(0x34c)]<0x0)&&(this[_0x227715(0x1f8)]<0x0&&_0x575d8b<(_0x1256ad=-this[_0x227715(0x1f8)])&&(_0x575d8b=_0x1256ad),0x1<this[_0x227715(0x3aa)]&&_0x575d8b<(_0x1256ad=this[_0x227715(0x3aa)]-0x1)&&(_0x575d8b=_0x1256ad),this[_0x227715(0x34c)]<0x0&&_0x575d8b<(_0x1256ad=-this[_0x227715(0x34c)]*_0x451cd7)&&(_0x575d8b=_0x1256ad),0x1<this['fRY2']&&_0x575d8b<(_0x1256ad=(this[_0x227715(0x4ed)]-0x1)*_0x451cd7)&&(_0x575d8b=_0x1256ad)),_0x575d8b/_0x1b56bb),_0x1256ad=[];if(_0x1256ad['fX']=0x0,_0x1256ad['fY']=0x0,Math[_0x227715(0x1e6)](_0x7bc0a8-0.5)<_0x3e9a49&&Math[_0x227715(0x1e6)](_0x2b85f4-0.5)<_0x3e9a49)return _0x13949e[_0x227715(0x38d)];return _0x575d8b=[],_0x1b56bb=[],_0x575d8b['fX']=_0x7bc0a8-0.5,_0x575d8b['fY']=_0x2b85f4-0.5,_0x1b56bb['fX']=-0.5*Math['sin'](this['pRenderParam'][this[_0x227715(0x270)]]['fAngle']),_0x1b56bb['fY']=0.5*Math[_0x227715(0x34b)](this['pRenderParam'][this[_0x227715(0x270)]][_0x227715(0x314)]),_0x7bc0a8=Math['sqrt'](_0x575d8b['fX']*_0x575d8b['fX']+_0x575d8b['fY']*_0x575d8b['fY']),_0x2b85f4=Math[_0x227715(0x41c)](_0x1b56bb['fX']*_0x1b56bb['fX']+_0x1b56bb['fY']*_0x1b56bb['fY']),_0x2b85f4=Math[_0x227715(0x432)]((_0x575d8b['fX']*_0x1b56bb['fX']+_0x575d8b['fY']*_0x1b56bb['fY'])/(_0x7bc0a8*_0x2b85f4)),(0x0<_0x575d8b['fX']*_0x1b56bb['fY']-_0x575d8b['fY']*_0x1b56bb['fX']&&(_0x2b85f4=6.2831852-_0x2b85f4),_0x1256ad['fX']=0x1-_0x2b85f4/6.2831853,_0x1256ad['fY']=0x1-(0x2*(0.5-_0x7bc0a8)-_0x451cd7)/(0.8-_0x451cd7),0x0<=_0x1256ad['fY']&&0x0<=_0x1256ad['fX']&&_0x1256ad['fY']<=0x1&&_0x1256ad['fX']<=0x1?(_0x47c7ab['fX']=_0x1256ad['fX'],_0x47c7ab['fY']=_0x1256ad['fY'],_0x13949e[_0x227715(0x4a6)]):_0x13949e[_0x227715(0x203)]);}},{'key':'GetPointFish2PanoWall','value':function(_0x5663f8,_0x1b4776,_0x255510){var _0x2fe0d9=_0x22f0ab;if(null==this['pRenderParam'][this[_0x2fe0d9(0x270)]])return _0x13949e[_0x2fe0d9(0x2cf)];if(null==_0x5663f8)return _0x13949e['SR_ERR_PARAM'];var _0x57e68a=(this['fRX2']-this[_0x2fe0d9(0x1f8)])/(this[_0x2fe0d9(0x4ed)]-this['fRY1']),_0xc2dd78=(this[_0x2fe0d9(0x3aa)]-this[_0x2fe0d9(0x1f8)])/0x2*0x1,_0x51bc6b=0x0,_0x85b815=0x1,_0x2945ea=0.1,_0x4f88ba=0.9,_0x57e68a=(this[_0x2fe0d9(0x1f8)]<0x0&&(_0x1fe26d=-this[_0x2fe0d9(0x1f8)],_0x51bc6b=_0x1fe26d/=0x2*_0xc2dd78),0x1<this[_0x2fe0d9(0x3aa)]&&(_0x1fe26d=this['fRX2']-0x1,_0x85b815=0x1-(_0x1fe26d/=0x2*_0xc2dd78)),this[_0x2fe0d9(0x34c)]<0x0&&(_0x1fe26d=-this[_0x2fe0d9(0x34c)]*_0x57e68a,_0x2945ea=0.1<(_0x1fe26d/=0x2*_0xc2dd78)?_0x1fe26d:0.1),0x1<this[_0x2fe0d9(0x4ed)]&&(_0x1fe26d=(this[_0x2fe0d9(0x4ed)]-0x1)*_0x57e68a,_0x4f88ba=0x1-0.9<(_0x1fe26d/=0x2*_0xc2dd78)?0x1-_0x1fe26d:0.9),[]),_0x1fe26d=(_0x57e68a['fX']=0x0,_0x57e68a['fY']=0x0,0x2*_0x1b4776*_0xc2dd78),_0x40967f=0x2*_0x255510*_0xc2dd78,_0x4dd0bb=Math[_0x2fe0d9(0x41c)](_0xc2dd78*_0xc2dd78-(_0x40967f-_0xc2dd78)*(_0x40967f-_0xc2dd78));return Math[_0x2fe0d9(0x1e6)](_0x4dd0bb)<_0x3e9a49?SR_ERR_PARAM:(_0x255510=_0x40967f,_0x57e68a['fX']=((_0x1b4776=_0xc2dd78*(_0x1fe26d-_0xc2dd78)/_0x4dd0bb+_0xc2dd78)-0x2*_0x51bc6b*_0xc2dd78)/(0x2*(_0x85b815-_0x51bc6b)*_0xc2dd78),_0x57e68a['fY']=(_0x255510-0x2*_0x2945ea*_0xc2dd78)/(0x2*(_0x4f88ba-_0x2945ea)*_0xc2dd78),0x0<=_0x57e68a['fY']&&0x0<=_0x57e68a['fX']&&_0x57e68a['fY']<=0x1&&_0x57e68a['fX']<=0x1?(_0x5663f8['fX']=_0x57e68a['fX'],_0x5663f8['fY']=_0x57e68a['fY'],_0x13949e[_0x2fe0d9(0x4a6)]):_0x13949e['SR_ERR_PARAM']);}}]),_0x92cc8d;}()),_0x174ce8=(function(){var _0x43f8ac=_0x99d5a2;function _0x5bd09b(){var _0x461f55=a0_0x1593;_0x160316(this,_0x5bd09b),this[_0x461f55(0x2c7)]='webgl',this[_0x461f55(0x47f)]=null,this[_0x461f55(0x448)]='',this[_0x461f55(0x422)]=0x0,this[_0x461f55(0x4a7)]=_0x3468da[_0x461f55(0x3c1)],this[_0x461f55(0x407)]=0x0,this[_0x461f55(0x376)]=0x0,this['FECShowMode']=0x0,this[_0x461f55(0x292)],this['InitFECParam']();}return _0x5a3b91(_0x5bd09b,[{'key':_0x43f8ac(0x4e8),'value':function(){var _0x3b847b=_0x43f8ac;this[_0x3b847b(0x4de)]=[];for(var _0xb399a4=0x0;_0xb399a4<0x20;_0xb399a4++)this[_0x3b847b(0x4de)][_0xb399a4]={},this['stFishEyeManager'][_0xb399a4]['pRender']=null,this[_0x3b847b(0x4de)][_0xb399a4][_0x3b847b(0x539)]=0x0,this[_0x3b847b(0x4de)][_0xb399a4][_0x3b847b(0x1e3)]='',this[_0x3b847b(0x4de)][_0xb399a4][_0x3b847b(0x29b)]=0x0,this[_0x3b847b(0x4de)][_0xb399a4][_0x3b847b(0x4fe)]=0x0,this['stFishEyeManager'][_0xb399a4][_0x3b847b(0x477)]=0x0,this[_0x3b847b(0x4de)][_0xb399a4][_0x3b847b(0x26b)]=_0xf574bd,this[_0x3b847b(0x4de)][_0xb399a4][_0x3b847b(0x1e5)]=_0x462c41,this[_0x3b847b(0x4de)][_0xb399a4][_0x3b847b(0x46b)]=_0x3468da[_0x3b847b(0x224)];this[_0x3b847b(0x3c0)]=[];for(var _0x52886b=0x0;_0x52886b<0x20;_0x52886b++)this[_0x3b847b(0x3c0)][_0x52886b]={},this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x3c5)]=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x302)]={},this['stFishParam'][_0x52886b]['stPTZParam']['fPTZPositionX']=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x302)][_0x3b847b(0x54b)]=0x0,this['stFishParam'][_0x52886b]['stCycleParam']={},this['stFishParam'][_0x52886b]['stCycleParam'][_0x3b847b(0x249)]=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x460)][_0x3b847b(0x326)]=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x460)][_0x3b847b(0x489)]=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x460)][_0x3b847b(0x394)]=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x3f4)]=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x1d0)]=0x0,this[_0x3b847b(0x3c0)][_0x52886b]['stPTZColor']={},this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x320)]['nR']=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x320)]['nG']=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x320)]['nB']=0x0,this['stFishParam'][_0x52886b][_0x3b847b(0x320)]['nAlpha']=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x39b)]={},this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x39b)]['fTop']=0x0,this['stFishParam'][_0x52886b]['stPTZSelect'][_0x3b847b(0x339)]=0x0,this['stFishParam'][_0x52886b]['stPTZSelect'][_0x3b847b(0x478)]=0x0,this['stFishParam'][_0x52886b][_0x3b847b(0x39b)][_0x3b847b(0x2d2)]=0x0,this[_0x3b847b(0x3c0)][_0x52886b][_0x3b847b(0x1f5)]=0x0;}},{'key':'FEC_SetCanvasID','value':function(_0x164b33){return 0x1;}},{'key':_0x43f8ac(0x213),'value':function(_0x398d95,_0x21daea){var _0x217218=_0x43f8ac;return this[_0x217218(0x2c7)]=_0x21daea,this[_0x217218(0x448)]=_0x398d95,null==this[_0x217218(0x292)]&&(this[_0x217218(0x292)]=new _0x30e60b()),'2d'===this['renderEngine']||'2D'===this['renderEngine']?(this[_0x217218(0x47f)]=new _0x56d25f(),console[_0x217218(0x514)](_0x217218(0x287))):(this[_0x217218(0x47f)]=new _0x50f103(),this[_0x217218(0x47f)]['SR_SetFishParamManager'](this[_0x217218(0x292)]),console['log'](_0x217218(0x4ff))),this[_0x217218(0x47f)]['SR_Init'](_0x398d95),this[_0x217218(0x422)]=this[_0x217218(0x47f)][_0x217218(0x485)](this['mainFECCorrect']),null==this['stFishEyeManager'][0x0][_0x217218(0x3c4)]&&this[_0x217218(0x4a7)]!==_0x3468da[_0x217218(0x3c1)]&&(this['stFishEyeManager'][0x0][_0x217218(0x3c4)]=this[_0x217218(0x47f)],this[_0x217218(0x4de)][0x0][_0x217218(0x539)]=0x0,this['stFishEyeManager'][0x0][_0x217218(0x1e3)]=this['mainCanvasID'],this[_0x217218(0x4de)][0x0][_0x217218(0x29b)]=0x1,this[_0x217218(0x4de)][0x0][_0x217218(0x4fe)]=0x1,this[_0x217218(0x4de)][0x0]['nValidSubPort']=0x0),-0x1==this['mainSubPort']?(console[_0x217218(0x434)]('%c\\x20SR_AddSubPort\\x20error\\x20subport:%d',_0x217218(0x309),this[_0x217218(0x422)]),0x0):0x1;}},{'key':_0x43f8ac(0x4c7),'value':function(){var _0x484c68=_0x43f8ac;null!=this[_0x484c68(0x47f)]&&(this[_0x484c68(0x47f)][_0x484c68(0x41e)](this[_0x484c68(0x422)]),this['oVideoHandle'][_0x484c68(0x4b2)](),this[_0x484c68(0x47f)]=null);for(var _0x51de8c=0x0;_0x51de8c<0x20;_0x51de8c++)this[_0x484c68(0x4de)][_0x51de8c]['pRender']=null;return this[_0x484c68(0x4de)][_0x484c68(0x21a)](0x0,this[_0x484c68(0x4de)][_0x484c68(0x4f1)]),this[_0x484c68(0x3c0)][_0x484c68(0x21a)](0x0,this[_0x484c68(0x3c0)][_0x484c68(0x4f1)]),this[_0x484c68(0x292)][_0x484c68(0x3db)](),this[_0x484c68(0x292)]=null,0x1;}},{'key':_0x43f8ac(0x46a),'value':function(_0x3f330e){var _0x3ded4f=_0x43f8ac;return null!=this['oVideoHandle']?this[_0x3ded4f(0x47f)][_0x3ded4f(0x28d)](_0x3f330e):0x0;}},{'key':_0x43f8ac(0x355),'value':function(_0x12724d,_0x2631fe,_0x336758,_0x19d2e1){var _0x279ec5=_0x43f8ac;return null!=this[_0x279ec5(0x47f)]?this[_0x279ec5(0x47f)][_0x279ec5(0x414)](_0x12724d,_0x2631fe,_0x336758,_0x19d2e1):0x0;}},{'key':_0x43f8ac(0x4b7),'value':function(_0x310450,_0x3c976b){var _0x577b82=_0x43f8ac;return null!=this[_0x577b82(0x47f)]?this['oVideoHandle'][_0x577b82(0x375)](_0x310450,_0x3c976b):0x0;}},{'key':_0x43f8ac(0x286),'value':function(){var _0x57d180=_0x43f8ac;return null!=this['oVideoHandle']?this[_0x57d180(0x47f)][_0x57d180(0x547)]():0x0;}},{'key':_0x43f8ac(0x41f),'value':function(_0x364b18){var _0x368b02=_0x43f8ac;return null!=this[_0x368b02(0x47f)]?this[_0x368b02(0x47f)][_0x368b02(0x49d)](_0x364b18):0x0;}},{'key':'FEC_ResetCorrectType','value':function(_0x1e2813,_0x35ffd0,_0xd8b532){var _0x207ca8=_0x43f8ac;if(_0xd8b532!=_0x462c41&&_0xd8b532!=_0x4beee9&&_0xd8b532!=_0x316080&&_0xd8b532!=_0x17c71b)return console[_0x207ca8(0x514)](_0x207ca8(0x4db),_0x207ca8(0x4cf),_0xd8b532),0x10;var _0x5cf78a=this[_0x207ca8(0x380)](_0x35ffd0,_0xd8b532);return 0x0==_0x1e2813?(null!=this[_0x207ca8(0x47f)]&&(this[_0x207ca8(0x47f)][_0x207ca8(0x41e)](this[_0x207ca8(0x422)]),this[_0x207ca8(0x422)]=this[_0x207ca8(0x47f)][_0x207ca8(0x485)](_0x5cf78a),null==this[_0x207ca8(0x4de)][_0x1e2813][_0x207ca8(0x3c4)]&&(this[_0x207ca8(0x4de)][_0x1e2813][_0x207ca8(0x3c4)]=this['oVideoHandle'],this[_0x207ca8(0x4de)][_0x1e2813][_0x207ca8(0x539)]=0x0,this[_0x207ca8(0x4de)][_0x1e2813][_0x207ca8(0x1e3)]=this['mainCanvasID'],this['stFishEyeManager'][_0x1e2813]['bUsed']=0x1,this[_0x207ca8(0x4de)][_0x1e2813][_0x207ca8(0x4fe)]=0x1,this['stFishEyeManager'][_0x1e2813][_0x207ca8(0x477)]=this[_0x207ca8(0x422)])),this[_0x207ca8(0x4de)][_0x1e2813][_0x207ca8(0x26b)]=_0x35ffd0,this[_0x207ca8(0x4de)][_0x1e2813]['emCorrectType']=_0xd8b532,this[_0x207ca8(0x4de)][_0x1e2813][_0x207ca8(0x46b)]=_0x5cf78a,this['mainFECCorrect']=_0x5cf78a,_0x17c71b<=this[_0x207ca8(0x4de)][_0x1e2813]['emCorrectType']&&(_0x35ffd0=this[_0x207ca8(0x4de)][_0x1e2813][_0x207ca8(0x3c4)][_0x207ca8(0x3a7)](_0x45c70b,0x0),_0x13949e[_0x207ca8(0x4a6)]!=_0x35ffd0&&console['log'](_0x207ca8(0x307),_0x35ffd0))):null!=this[_0x207ca8(0x4de)][_0x1e2813]['pRender']?(this[_0x207ca8(0x4de)][_0x1e2813]['pRender'][_0x207ca8(0x41e)](this[_0x207ca8(0x4de)][_0x1e2813]['nValidSubPort']),this[_0x207ca8(0x4de)][_0x1e2813][_0x207ca8(0x477)]=this[_0x207ca8(0x4de)][_0x1e2813]['pRender'][_0x207ca8(0x485)](_0x5cf78a)):console['info']('%c\\x20FEC_ResetCorrectType\\x20error\\x20this\\x20canvas\\x20not\\x20play',_0x207ca8(0x4cf)),0x1;}},{'key':_0x43f8ac(0x20d),'value':function(_0x43ad98,_0x541ead){var _0x418bbf=_0x43f8ac;if((_0x3b95c4==_0x43ad98||_0xf574bd==_0x43ad98)&&_0x1ae667==_0x541ead)return this[_0x418bbf(0x407)]=_0x332ff6,-0x1;if(_0x40926f==_0x43ad98&&_0x3ccddf==_0x541ead)return this[_0x418bbf(0x407)]=_0x332ff6,-0x1;if(_0x40926f==_0x43ad98&&_0x1a4011==_0x541ead)return this[_0x418bbf(0x407)]=_0x332ff6,-0x1;if((_0x3b95c4==_0x43ad98||_0xf574bd==_0x43ad98)&&_0x11da1d==_0x541ead)return this[_0x418bbf(0x407)]=_0x332ff6,-0x1;if((_0x3b95c4==_0x43ad98||_0xf574bd==_0x43ad98)&&_0x5357b0==_0x541ead)return this[_0x418bbf(0x407)]=_0x332ff6,-0x1;if(_0x40926f!=_0x43ad98&&_0x3b95c4!=_0x43ad98&&_0xf574bd!=_0x43ad98)return this[_0x418bbf(0x407)]=MP_E_SUPPORT,-0x1;if(0x0!=_0x541ead&&_0x541ead!=_0x4ebb4e&&_0x541ead!=_0x4beee9&&_0x541ead!=_0x316080&&_0x541ead!=_0x1ae667&&_0x541ead!=_0x17c71b&&_0x541ead!=_0x3ccddf&&_0x541ead!=_0x1a4011&&_0x541ead!=_0x396f7c&&_0x541ead!=_0x11da1d&&_0x541ead!=_0x5357b0)return this[_0x418bbf(0x407)]=MP_E_SUPPORT,-0x1;for(var _0x22a23f=0x0,_0x123209=0x1;_0x123209<0x20;_0x123209++){if(this['stFishEyeManager'][_0x123209]['bUsed']&&this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x26b)]!=_0x43ad98)return this['FECErrorCode']=0x517,-0x1;if(this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x29b)]&&this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x1e5)]!=_0x4ebb4e&&this['stFishEyeManager'][_0x123209][_0x418bbf(0x1e5)]!=_0x17c71b&&this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x1e5)]!=_0x3ccddf&&this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x1e5)]!=_0x1a4011&&this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x1e5)]!=_0x396f7c&&this['stFishEyeManager'][_0x123209]['emCorrectType']!=_0x11da1d&&this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x1e5)]!=_0x5357b0&&_0x541ead!=_0x4ebb4e&&_0x541ead!=_0x17c71b&&_0x541ead!=_0x3ccddf&&_0x541ead!=_0x1a4011&&_0x541ead!=_0x396f7c&&_0x541ead!=_0x11da1d&&_0x541ead!=_0x5357b0)return this[_0x418bbf(0x407)]=0x518,-0x1;if(this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x29b)]&&(this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x1e5)]==_0x4ebb4e&&_0x541ead==_0x4beee9||this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x1e5)]==_0x4beee9&&_0x541ead==_0x4ebb4e))return this[_0x418bbf(0x407)]=0x518,-0x1;if(_0x5357b0==_0x541ead&&(this[_0x418bbf(0x3c0)][0x0][_0x418bbf(0x460)][_0x418bbf(0x249)]<=-0.5||0x0<this[_0x418bbf(0x3c0)][0x0][_0x418bbf(0x460)][_0x418bbf(0x249)]||this[_0x418bbf(0x3c0)][0x0][_0x418bbf(0x460)][_0x418bbf(0x326)]<0x1||1.5<=this[_0x418bbf(0x3c0)][0x0][_0x418bbf(0x460)][_0x418bbf(0x326)]||this[_0x418bbf(0x3c0)][0x0]['stCycleParam'][_0x418bbf(0x489)]<=-0.5||0.4<=this['stFishParam'][0x0]['stCycleParam']['fRadiusTop']||this['stFishParam'][0x0][_0x418bbf(0x460)][_0x418bbf(0x394)]<=0.6||1.5<=this[_0x418bbf(0x3c0)][0x0]['stCycleParam']['fRadiusBottom']||this[_0x418bbf(0x3c0)][0x0]['stCycleParam'][_0x418bbf(0x249)]+this['stFishParam'][0x0]['stCycleParam'][_0x418bbf(0x326)]<=0.8||1.2<=this['stFishParam'][0x0][_0x418bbf(0x460)][_0x418bbf(0x249)]+this[_0x418bbf(0x3c0)][0x0][_0x418bbf(0x460)]['fRadiusRight']||this[_0x418bbf(0x3c0)][0x0][_0x418bbf(0x460)][_0x418bbf(0x489)]+this[_0x418bbf(0x3c0)][0x0][_0x418bbf(0x460)][_0x418bbf(0x394)]<=0.8||1.2<=this[_0x418bbf(0x3c0)][0x0][_0x418bbf(0x460)]['fRadiusTop']+this[_0x418bbf(0x3c0)][0x0][_0x418bbf(0x460)][_0x418bbf(0x394)]))return this[_0x418bbf(0x407)]=_0x36832c,-0x1;}for(_0x123209=0x1;_0x123209<0x20;_0x123209++)if(0x0==this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x539)]&&0x0==this['stFishEyeManager'][_0x123209]['bUsed']){this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x539)]=_0x123209,this[_0x418bbf(0x4de)][_0x22a23f][_0x418bbf(0x477)]=-0x1,this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x29b)]=0x1,this['stFishEyeManager'][_0x123209][_0x418bbf(0x26b)]=_0x43ad98,this['stFishEyeManager'][_0x123209][_0x418bbf(0x1e5)]=_0x541ead,_0x22a23f=_0x123209;break;}if(0x20==_0x123209)return this[_0x418bbf(0x407)]=0x504,-0x1;var _0x16209e=this['_ConvertDisplayEffect'](this[_0x418bbf(0x4de)][_0x22a23f][_0x418bbf(0x26b)],this['stFishEyeManager'][_0x22a23f]['emCorrectType']);return _0x3468da[_0x418bbf(0x224)]!=_0x16209e?(0x0==this['stFishEyeManager'][_0x22a23f][_0x418bbf(0x454)]&&(this[_0x418bbf(0x4de)][_0x22a23f][_0x418bbf(0x46b)]=_0x16209e,this[_0x418bbf(0x4de)][_0x22a23f][_0x418bbf(0x454)]=0x0,this['stFishParam'][_0x22a23f][_0x418bbf(0x3f4)]=0.005,this['stFishParam'][_0x22a23f][_0x418bbf(0x302)][_0x418bbf(0x3d1)]=0.5,this[_0x418bbf(0x3c0)][_0x22a23f]['stPTZParam'][_0x418bbf(0x54b)]=0.5,this[_0x418bbf(0x3c0)][_0x22a23f][_0x418bbf(0x1d0)]=0x0),this['FECErrorCode']=0x0,this['subPortNum']++,_0x123209):_0x22a23f<0x20&&0x0==this[_0x418bbf(0x4de)][_0x22a23f][_0x418bbf(0x454)]?(this['stFishEyeManager'][_0x22a23f][_0x418bbf(0x46b)]=_0x16209e,this[_0x418bbf(0x4de)][_0x22a23f][_0x418bbf(0x454)]=0x0,this[_0x418bbf(0x3c0)][_0x22a23f][_0x418bbf(0x3f4)]=0x0,this[_0x418bbf(0x3c0)][_0x22a23f][_0x418bbf(0x302)][_0x418bbf(0x3d1)]=0x0,this[_0x418bbf(0x3c0)][_0x22a23f]['stPTZParam'][_0x418bbf(0x54b)]=0x0,this['stFishParam'][_0x22a23f]['fWideScanOffset']=0x0,this['FECErrorCode']=0x0,this[_0x418bbf(0x376)]++,_0x123209):(this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x3c4)]=null,this['stFishEyeManager'][_0x123209]['nSubPort']=0x0,this[_0x418bbf(0x4de)][_0x123209]['sCanvasID']='',this[_0x418bbf(0x4de)][_0x123209]['bUsed']=0x0,this[_0x418bbf(0x4de)][_0x123209]['bInit']=0x0,this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x477)]=0x0,this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x26b)]=_0xf574bd,this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x1e5)]=_0x462c41,this[_0x418bbf(0x4de)][_0x123209][_0x418bbf(0x46b)]=_0x3468da[_0x418bbf(0x224)],this[_0x418bbf(0x407)]=_0x332ff6,-0x1);}},{'key':_0x43f8ac(0x4e0),'value':function(_0x18dba9){var _0x5df788=_0x43f8ac;return null!==this[_0x5df788(0x4de)][_0x18dba9][_0x5df788(0x3c4)]&&(this[_0x5df788(0x407)]=0x515,returnmpCtrlDefine[_0x5df788(0x519)]),null==this[_0x5df788(0x4de)][_0x18dba9][_0x5df788(0x3c4)]&&(this[_0x5df788(0x4de)][_0x18dba9]['pRender']=new _0x50f103(),this['stFishEyeManager'][_0x18dba9][_0x5df788(0x3c4)]['SR_SetFishParamManager'](this['pFishParamManager'])),1;}},{'key':_0x43f8ac(0x281),'value':function(_0x1ccc70,_0x1725b3){var _0x29e977=_0x43f8ac;if(null==this['stFishEyeManager'][_0x1ccc70][_0x29e977(0x3c4)])return this[_0x29e977(0x407)]=_0x5a306e;if(_0x1ccc70<0x1||0x1f<_0x1ccc70)return this[_0x29e977(0x407)]=0x512;if(0x0==this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x29b)])return this[_0x29e977(0x407)]=_0xa54871;if(null==_0x1725b3)return this[_0x29e977(0x407)]=0x519;if(0x0==this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x539)]||0x0==this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x29b)])return this['FECErrorCode']=_0xa54871;if(0x0!=this[_0x29e977(0x4de)][_0x1ccc70]['bInited']&&null!=this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x1e3)])return _0x1725b3!=this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x1e3)]?this[_0x29e977(0x407)]=0x506:0x1;SR_DE_FISH_ORIGINAL;var _0xdeac49=this[_0x29e977(0x380)](this['stFishEyeManager'][_0x1ccc70][_0x29e977(0x26b)],this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x1e5)]),_0x2db78=this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x3c4)][_0x29e977(0x3e5)](_0x1725b3);return this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x477)]=this['stFishEyeManager'][_0x1ccc70][_0x29e977(0x3c4)][_0x29e977(0x485)](_0xdeac49),_0x13949e['SR_OK']!=_0x2db78||_0x13949e['SR_OK']!=retSASP?(this['stFishEyeManager'][_0x1ccc70][_0x29e977(0x454)]=0x0,this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x1e3)]=null,this[_0x29e977(0x407)]=_0xa54871):(this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x454)]=0x1,this[_0x29e977(0x4de)][_0x1ccc70]['sCanvasID']=_0x1725b3,_0x17c71b<=this['stFishEyeManager'][_0x1ccc70][_0x29e977(0x1e5)]&&(_0xdeac49=this[_0x29e977(0x4de)][_0x1ccc70]['pRender'][_0x29e977(0x3a7)](_0x45c70b,0x0),_0x13949e['SR_OK']!=_0xdeac49&&console[_0x29e977(0x514)](_0x29e977(0x307),_0xdeac49)),0x0<this[_0x29e977(0x501)]&&(this[_0x29e977(0x4de)][_0x1ccc70][_0x29e977(0x3c4)][_0x29e977(0x2e7)](this[_0x29e977(0x501)]),this[_0x29e977(0x501)]=0x0),0x1);}},{'key':_0x43f8ac(0x3ed),'value':function(_0x42bad4,_0x524b3c,_0x578b65){var _0x13d559=_0x43f8ac;return 0x0!=_0x42bad4&&(0x1==this['stFishEyeManager'][_0x42bad4][_0x13d559(0x454)]&&(_0x13949e[_0x13d559(0x4a6)]==this[_0x13d559(0x4de)][_0x42bad4]['pRender'][_0x13d559(0x41e)](this['stFishEyeManager'][_0x42bad4][_0x13d559(0x477)])&&(this[_0x13d559(0x4de)][_0x42bad4][_0x13d559(0x454)]=0x0,this[_0x13d559(0x4de)][_0x42bad4][_0x13d559(0x477)]=-0x1),this['stFishEyeManager'][_0x42bad4][_0x13d559(0x3c4)][_0x13d559(0x4b2)]()),this[_0x13d559(0x4de)][_0x42bad4][_0x13d559(0x3c4)]=null,this[_0x13d559(0x4de)][_0x42bad4][_0x13d559(0x539)]=0x0,this['stFishEyeManager'][_0x42bad4][_0x13d559(0x1e3)]='',this['stFishEyeManager'][_0x42bad4][_0x13d559(0x29b)]=0x0,this[_0x13d559(0x4de)][_0x42bad4]['bInit']=0x0,this[_0x13d559(0x4de)][_0x42bad4]['nValidSubPort']=0x0,this[_0x13d559(0x4de)][_0x42bad4]['emPlaceType']=_0xf574bd,this[_0x13d559(0x4de)][_0x42bad4][_0x13d559(0x1e5)]=_0x462c41,this[_0x13d559(0x4de)][_0x42bad4][_0x13d559(0x46b)]=_0x3468da['SR_DE_FISH_ORIGINAL']),0x1;}},{'key':_0x43f8ac(0x3fb),'value':function(_0x418f60){var _0x329f65=_0x43f8ac;if(0x0!=_0x418f60){if(_0x418f60<0x1||0x1f<_0x418f60)return this[_0x329f65(0x407)]=0x512;if(0x0==this['stFishEyeManager'][_0x418f60][_0x329f65(0x29b)])return this[_0x329f65(0x407)]=_0xa54871;this['stFishParam'][_0x418f60][_0x329f65(0x460)]['fRadiusLeft']=0x0,this[_0x329f65(0x3c0)][_0x418f60][_0x329f65(0x460)]['fRadiusRight']=0x1,this['stFishParam'][_0x418f60][_0x329f65(0x460)][_0x329f65(0x489)]=0x0,this[_0x329f65(0x3c0)][_0x418f60][_0x329f65(0x460)]['fRadiusBottom']=0x1,this['FECErrorCode']=0x0,(this['FECShowMode']=0x0)<this[_0x329f65(0x376)]&&this['subPortNum']--;}return 0x1;}},{'key':_0x43f8ac(0x362),'value':function(_0x4f21ba,_0xa5d4c0){var _0x110f49=_0x43f8ac;if(this['FECErrorCode']=0x0,null==this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x3c4)])return this[_0x110f49(0x407)]=_0x5a306e;if(0x0==this['stFishEyeManager'][_0x4f21ba][_0x110f49(0x29b)])return this[_0x110f49(0x407)]=_0xa54871;if(this['stFishEyeManager'][_0x4f21ba][_0x110f49(0x1e5)]>=_0x17c71b&&this['stFishEyeManager'][_0x4f21ba][_0x110f49(0x1e5)]<=_0x5357b0&&0x1e&_0xa5d4c0[_0x110f49(0x49e)])return this[_0x110f49(0x407)]=_0x566fd6;if(_0x367f2&_0xa5d4c0[_0x110f49(0x49e)]){if(null==_0xa5d4c0[_0x110f49(0x460)])return _0x36832c;for(var _0x12d85b=0x1;_0x12d85b<0x20;_0x12d85b++){if(this[_0x110f49(0x4de)][_0x12d85b][_0x110f49(0x29b)]&&this[_0x110f49(0x4de)][_0x12d85b][_0x110f49(0x539)]&&_0x11da1d==this[_0x110f49(0x4de)][_0x12d85b][_0x110f49(0x1e5)]&&(_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x249)]<=-0.5||0.4<=_0xa5d4c0['stCycleParam'][_0x110f49(0x249)]||_0xa5d4c0['stCycleParam'][_0x110f49(0x326)]<=0.6||1.5<=_0xa5d4c0['stCycleParam'][_0x110f49(0x326)]||_0xa5d4c0[_0x110f49(0x460)]['fRadiusTop']<=-0.5||0x0<_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x489)]||_0xa5d4c0[_0x110f49(0x460)]['fRadiusBottom']<0x1||1.5<=_0xa5d4c0['stCycleParam'][_0x110f49(0x394)]||_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x249)]+_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x326)]<=0.8||1.2<=_0xa5d4c0[_0x110f49(0x460)]['fRadiusLeft']+_0xa5d4c0['stCycleParam'][_0x110f49(0x326)]||_0xa5d4c0['stCycleParam'][_0x110f49(0x489)]+_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x394)]<=0.8||1.2<=_0xa5d4c0['stCycleParam'][_0x110f49(0x489)]+_0xa5d4c0['stCycleParam'][_0x110f49(0x394)]))return this[_0x110f49(0x407)]=_0x36832c;if(this[_0x110f49(0x4de)][_0x12d85b][_0x110f49(0x29b)]&&this[_0x110f49(0x4de)][_0x12d85b][_0x110f49(0x539)]&&_0x5357b0==this[_0x110f49(0x4de)][_0x12d85b][_0x110f49(0x1e5)]&&(_0xa5d4c0[_0x110f49(0x460)]['fRadiusLeft']<=-0.5||0x0<_0xa5d4c0[_0x110f49(0x460)]['fRadiusLeft']||_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x326)]<0x1||1.5<=_0xa5d4c0[_0x110f49(0x460)]['fRadiusRight']||_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x489)]<=-0.5||0.4<=_0xa5d4c0['stCycleParam'][_0x110f49(0x489)]||_0xa5d4c0[_0x110f49(0x460)]['fRadiusBottom']<=0.6||1.5<=_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x394)]||_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x249)]+_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x326)]<=0.8||1.2<=_0xa5d4c0['stCycleParam'][_0x110f49(0x249)]+_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x326)]||_0xa5d4c0[_0x110f49(0x460)]['fRadiusTop']+_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x394)]<=0.8||1.2<=_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x489)]+_0xa5d4c0['stCycleParam'][_0x110f49(0x394)]))return this[_0x110f49(0x407)]=_0x36832c;}}if(0x0==this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x454)]){if(_0x142076&_0xa5d4c0[_0x110f49(0x49e)]){if(_0x4beee9!=this['stFishEyeManager'][_0x4f21ba][_0x110f49(0x1e5)]&&_0x316080!=this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x1e5)]||_0x40926f==this[_0x110f49(0x4de)][_0x4f21ba]['emPlaceType'])return this[_0x110f49(0x407)]=_0x566fd6;for(var _0x4272d5=0x1;_0x4272d5<0x20;_0x4272d5++)if(this[_0x110f49(0x4de)][_0x4272d5]['nSubPort']&&this[_0x110f49(0x4de)][_0x4272d5][_0x110f49(0x29b)]&&this[_0x110f49(0x4de)][_0x4272d5]['emCorrectType']==_0x4ebb4e)return this[_0x110f49(0x407)]=_0x127bf2;this['stFishParam'][_0x4f21ba][_0x110f49(0x1d0)]=_0xa5d4c0[_0x110f49(0x47c)];}if(_0x42215a&_0xa5d4c0[_0x110f49(0x49e)]){if(null==_0xa5d4c0[_0x110f49(0x320)])return _0x36832c;if(0xff<_0xa5d4c0[_0x110f49(0x320)]['nR']||0xff<_0xa5d4c0['stPTZColor']['nG']||0xff<_0xa5d4c0[_0x110f49(0x320)]['nB']||0xff<_0xa5d4c0['stPTZColor'][_0x110f49(0x24b)])return this[_0x110f49(0x407)]=_0x566fd6;this['stFishParam'][_0x4f21ba][_0x110f49(0x320)]['nR']=_0xa5d4c0[_0x110f49(0x320)]['nR'],this[_0x110f49(0x3c0)][_0x4f21ba]['stPTZColor']['nG']=_0xa5d4c0[_0x110f49(0x320)]['nG'],this['stFishParam'][_0x4f21ba][_0x110f49(0x320)]['nB']=_0xa5d4c0['stPTZColor']['nB'],this['stFishParam'][_0x4f21ba][_0x110f49(0x320)]['nAlpha']=_0xa5d4c0[_0x110f49(0x320)]['nAlpha'];}if(_0x2802b6&_0xa5d4c0[_0x110f49(0x49e)]){if(_0x4ebb4e!=this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x1e5)])return this[_0x110f49(0x407)]=_0x566fd6;this[_0x110f49(0x3c0)][_0x4f21ba][_0x110f49(0x302)][_0x110f49(0x3d1)]=_0xa5d4c0[_0x110f49(0x4a3)]['fPTZPositionX'],this[_0x110f49(0x3c0)][_0x4f21ba][_0x110f49(0x302)]['fPTZPositionY']=_0xa5d4c0[_0x110f49(0x4a3)][_0x110f49(0x54b)];}if(_0x168627&_0xa5d4c0[_0x110f49(0x49e)]){if(_0x4ebb4e!=this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x1e5)])return this[_0x110f49(0x407)]=_0x566fd6;this[_0x110f49(0x3c0)][_0x4f21ba][_0x110f49(0x3f4)]=_0xa5d4c0['fPTZZoom'];}if(_0x3db8be&_0xa5d4c0[_0x110f49(0x49e)]){if(null==this[_0x110f49(0x3c0)]['stPTZSelect'])return _0x566fd6;if(_0x4ebb4e!=this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x1e5)])return this['FECErrorCode']=_0x566fd6;this['stFishParam']['stPTZSelect'][_0x110f49(0x24a)]=_0xa5d4c0[_0x110f49(0x39b)]['fTop'],this[_0x110f49(0x3c0)][_0x110f49(0x39b)][_0x110f49(0x339)]=_0xa5d4c0[_0x110f49(0x39b)]['fBottom'],this[_0x110f49(0x3c0)][_0x110f49(0x39b)]['fLeft']=_0xa5d4c0[_0x110f49(0x39b)][_0x110f49(0x478)],this[_0x110f49(0x3c0)][_0x110f49(0x39b)]['fRight']=_0xa5d4c0[_0x110f49(0x39b)][_0x110f49(0x2d2)];}if(_0x367f2&_0xa5d4c0['upDateType']){if(null==_0xa5d4c0[_0x110f49(0x460)])return _0x36832c;if(0x0==this[_0x110f49(0x3cc)](_0xa5d4c0[_0x110f49(0x460)]))return this[_0x110f49(0x407)]=_0x36832c;this[_0x110f49(0x3c0)][0x0][_0x110f49(0x460)][_0x110f49(0x249)]=_0xa5d4c0['stCycleParam'][_0x110f49(0x249)],this[_0x110f49(0x3c0)][0x0][_0x110f49(0x460)][_0x110f49(0x326)]=_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x326)],this[_0x110f49(0x3c0)][0x0]['stCycleParam']['fRadiusTop']=_0xa5d4c0[_0x110f49(0x460)]['fRadiusTop'],this[_0x110f49(0x3c0)][0x0][_0x110f49(0x460)][_0x110f49(0x394)]=_0xa5d4c0['stCycleParam']['fRadiusBottom'];}return 0x1;}if(_0x142076&_0xa5d4c0['upDateType']){if(_0x4beee9!=this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x1e5)]&&_0x316080!=this['stFishEyeManager'][_0x4f21ba][_0x110f49(0x1e5)]||_0x40926f==this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x26b)])return this[_0x110f49(0x407)]=_0x566fd6;for(var _0x130833=0x1;_0x130833<0x20;_0x130833++)if(this[_0x110f49(0x4de)][_0x130833][_0x110f49(0x539)]&&this[_0x110f49(0x4de)][_0x130833][_0x110f49(0x29b)]&&this[_0x110f49(0x4de)][_0x130833][_0x110f49(0x1e5)]==_0x4ebb4e)return this[_0x110f49(0x407)]=_0x127bf2;var _0x20ce2b={};if(_0x20ce2b['nFishParamType']=_0x1e8e38,_0x20ce2b[_0x110f49(0x40f)]=0x0,_0x20ce2b['fAngle']=_0xa5d4c0[_0x110f49(0x47c)],_0x13949e[_0x110f49(0x4a6)]!=this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x3c4)][_0x110f49(0x4f0)](_0x20ce2b))return this[_0x110f49(0x407)]=_0x127bf2;this[_0x110f49(0x3c0)][_0x4f21ba][_0x110f49(0x1d0)]=_0xa5d4c0[_0x110f49(0x47c)];}if(_0x42215a&_0xa5d4c0[_0x110f49(0x49e)]){if(null==_0xa5d4c0[_0x110f49(0x320)])return _0x566fd6;if(0xff<_0xa5d4c0[_0x110f49(0x320)]['nR']||0xff<_0xa5d4c0['stPTZColor']['nG']||0xff<_0xa5d4c0['stPTZColor']['nB']||0xff<_0xa5d4c0[_0x110f49(0x320)]['nAlpha'])return this[_0x110f49(0x407)]=_0x566fd6;_0x20ce2b={},(_0x20ce2b['fR']=float(_0xa5d4c0[_0x110f49(0x320)]['nR']/0xff),_0x20ce2b['fG']=float(_0xa5d4c0[_0x110f49(0x320)]['nG']/0xff),_0x20ce2b['fB']=float(_0xa5d4c0[_0x110f49(0x320)]['nB']/0xff),_0x20ce2b['fA']=float(_0xa5d4c0['stPTZColor'][_0x110f49(0x24b)]/0xff),this['stFishParam'][_0x4f21ba][_0x110f49(0x320)]['nR']=_0xa5d4c0['stPTZColor']['nR'],this['stFishParam'][_0x4f21ba]['stPTZColor']['nG']=_0xa5d4c0[_0x110f49(0x320)]['nG'],this[_0x110f49(0x3c0)][_0x4f21ba][_0x110f49(0x320)]['nB']=_0xa5d4c0['stPTZColor']['nB'],this[_0x110f49(0x3c0)][_0x4f21ba][_0x110f49(0x320)][_0x110f49(0x24b)]=_0xa5d4c0[_0x110f49(0x320)][_0x110f49(0x24b)]);}if(_0x2802b6&_0xa5d4c0['upDateType']){if(_0x4ebb4e!=this['stFishEyeManager'][_0x4f21ba][_0x110f49(0x1e5)])return this[_0x110f49(0x407)]=_0x566fd6;_0x20ce2b={};if(_0x20ce2b['nFishParamType']=_0x1d678a,_0x20ce2b[_0x110f49(0x40f)]=0x0,_0x20ce2b[_0x110f49(0x3d6)]=_0xa5d4c0[_0x110f49(0x4a3)][_0x110f49(0x3d1)],_0x20ce2b[_0x110f49(0x40c)]=_0xa5d4c0[_0x110f49(0x4a3)]['fPTZPositionY'],_0x13949e[_0x110f49(0x4a6)]!=this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x3c4)][_0x110f49(0x4f0)](_0x20ce2b))return this[_0x110f49(0x407)]=_0x127bf2;this[_0x110f49(0x3c0)][_0x4f21ba]['stPTZParam'][_0x110f49(0x3d1)]=_0xa5d4c0[_0x110f49(0x4a3)]['fPTZPositionX'],this[_0x110f49(0x3c0)][_0x4f21ba][_0x110f49(0x302)][_0x110f49(0x54b)]=_0xa5d4c0[_0x110f49(0x4a3)][_0x110f49(0x54b)];}if(_0x168627&_0xa5d4c0[_0x110f49(0x49e)]){if(_0x4ebb4e!=this['stFishEyeManager'][_0x4f21ba]['emCorrectType'])return this[_0x110f49(0x407)]=_0x566fd6;_0x20ce2b={};if(_0x20ce2b[_0x110f49(0x260)]=_0x2b1fa6,_0x20ce2b[_0x110f49(0x40f)]=0x0,_0x20ce2b[_0x110f49(0x3f4)]=_0xa5d4c0[_0x110f49(0x50d)],_0x13949e[_0x110f49(0x4a6)]!=this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x3c4)][_0x110f49(0x4f0)](_0x20ce2b))return this['FECErrorCode']=_0x127bf2;this[_0x110f49(0x3c0)][_0x4f21ba][_0x110f49(0x3f4)]=_0xa5d4c0[_0x110f49(0x50d)];}if(_0x367f2&_0xa5d4c0[_0x110f49(0x49e)]){if(0x0==this['IsValidRadiusParam'](_0xa5d4c0[_0x110f49(0x460)]))return this[_0x110f49(0x407)]=_0x36832c;_0x20ce2b={};if(_0x20ce2b[_0x110f49(0x260)]=_0x3b5c80,_0x20ce2b[_0x110f49(0x40f)]=0x1,_0x20ce2b[_0x110f49(0x27e)]=_0xa5d4c0['stCycleParam']['fRadiusLeft'],_0x20ce2b[_0x110f49(0x469)]=_0xa5d4c0['stCycleParam'][_0x110f49(0x326)],_0x20ce2b['fRYTop']=_0xa5d4c0[_0x110f49(0x460)]['fRadiusTop'],_0x20ce2b[_0x110f49(0x2e9)]=_0xa5d4c0['stCycleParam'][_0x110f49(0x394)],_0x13949e[_0x110f49(0x4a6)]!=this['stFishEyeManager'][_0x4f21ba][_0x110f49(0x3c4)][_0x110f49(0x4f0)](this['stFishEyeManager'][_0x4f21ba][_0x110f49(0x477)],_0x20ce2b))return this[_0x110f49(0x407)]=_0x36832c;this[_0x110f49(0x3c0)][0x0][_0x110f49(0x460)][_0x110f49(0x249)]=_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x249)],this['stFishParam'][0x0][_0x110f49(0x460)][_0x110f49(0x326)]=_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x326)],this[_0x110f49(0x3c0)][0x0][_0x110f49(0x460)][_0x110f49(0x489)]=_0xa5d4c0[_0x110f49(0x460)][_0x110f49(0x489)],this['stFishParam'][0x0][_0x110f49(0x460)]['fRadiusBottom']=_0xa5d4c0['stCycleParam']['fRadiusBottom'];}return _0x3db8be&_0xa5d4c0['upDateType']&&_0x4ebb4e==this[_0x110f49(0x4de)][_0x4f21ba]['emCorrectType']&&_0x13949e[_0x110f49(0x4a6)]!=this[_0x110f49(0x4de)][_0x4f21ba]['pRender']['SR_SetFishParam'](this[_0x110f49(0x4de)][_0x4f21ba][_0x110f49(0x39b)])?this[_0x110f49(0x407)]=0x513:0x1;}},{'key':_0x43f8ac(0x3cc),'value':function(_0x58b8b4){var _0x399f36=_0x43f8ac;return _0x58b8b4[_0x399f36(0x394)]<=_0x58b8b4[_0x399f36(0x489)]||_0x58b8b4[_0x399f36(0x326)]<=_0x58b8b4['fRadiusLeft']?0x0:0x1;}},{'key':'FEC_SetViewParam','value':function(_0x14f9dd,_0x3fd041,_0x3c156d){var _0x417574=_0x43f8ac;return _0x3fd041<_0x30de30||_0x1ab3fe<_0x3fd041?this['FECErrorCode']=_0x14f925:(this[_0x417574(0x407)]=0x0,null==this['stFishEyeManager'][_0x14f9dd]['pRender']?this[_0x417574(0x407)]=_0x5a306e:0x0==this[_0x417574(0x4de)][_0x14f9dd]['bInited']?this[_0x417574(0x407)]=_0xa54871:_0x17c71b<=this['stFishEyeManager'][_0x14f9dd][_0x417574(0x1e5)]?_0x13949e['SR_OK']!=this[_0x417574(0x4de)][_0x14f9dd]['pRender'][_0x417574(0x4c8)](_0x3fd041,_0x3c156d)?this[_0x417574(0x407)]=_0x14f925:0x1:this['FECErrorCode']=_0x566fd6);}},{'key':_0x43f8ac(0x22e),'value':function(_0x29e239,_0x105bcf){var _0x1d32dd=_0x43f8ac;return!(_0x105bcf<0x1||0x3<_0x105bcf||0x0==this['stFishEyeManager'][_0x29e239][_0x1d32dd(0x454)])&&_0x17c71b<=this[_0x1d32dd(0x4de)][_0x29e239][_0x1d32dd(0x1e5)]?this[_0x1d32dd(0x4de)][_0x29e239][_0x1d32dd(0x3c4)][_0x1d32dd(0x2ab)](_0x105bcf):-0x1;}},{'key':_0x43f8ac(0x544),'value':function(_0x16c02c,_0xc338c3,_0x2b49af,_0x96543,_0x4da71b,_0x1c0388,_0x42667f){var _0x4d5b8c=_0x43f8ac;return null==this[_0x4d5b8c(0x4de)][_0x16c02c][_0x4d5b8c(0x3c4)]?this['FECErrorCode']=_0x5a306e:0x0!=_0xc338c3||0x0!=_0x2b49af?_0x14f925:this['stFishEyeManager'][_0x16c02c]['emCorrectType']!=_0x462c41&&this[_0x4d5b8c(0x4de)][_0x16c02c][_0x4d5b8c(0x1e5)]!=_0x4beee9&&this[_0x4d5b8c(0x4de)][_0x16c02c][_0x4d5b8c(0x1e5)]!=_0x316080&&this[_0x4d5b8c(0x4de)][_0x16c02c]['emCorrectType']!=_0x1ae667?_0x332ff6:0x0==this[_0x4d5b8c(0x4de)][_0x16c02c][_0x4d5b8c(0x454)]?this['FECErrorCode']=_0xa54871:_0x96543<0x0||_0x4da71b<0x0||_0x1c0388<0x0||_0x42667f<0x0?_0x14f925:_0x13949e[_0x4d5b8c(0x4a6)]!=this['stFishEyeManager'][_0x16c02c]['pRender']['SR_SetDisplayRect'](_0x96543,_0x4da71b,_0x1c0388,_0x42667f)?this['FECErrorCode']=0x511:0x1;}},{'key':_0x43f8ac(0x40e),'value':function(_0x523b63,_0x1cd530){var _0x5c3e70=_0x43f8ac;return null==this[_0x5c3e70(0x4de)][_0x523b63][_0x5c3e70(0x3c4)]?this[_0x5c3e70(0x407)]=_0x5a306e:0x0==this['stFishEyeManager'][_0x523b63]['bInited']?this[_0x5c3e70(0x407)]=_0xa54871:_0x13949e[_0x5c3e70(0x4a6)]!=this[_0x5c3e70(0x4de)][_0x523b63][_0x5c3e70(0x3c4)][_0x5c3e70(0x3a7)](_0x45c70b,_0x1cd530)?this['FECErrorCode']=0x511:0x1;}},{'key':_0x43f8ac(0x380),'value':function(_0x17f479,_0x25517d){var _0x19f2c6=_0x43f8ac;switch(_0x17f479){case _0x40926f:return _0x4ebb4e==_0x25517d?_0x3468da[_0x19f2c6(0x4bf)]:_0x316080==_0x25517d||_0x1ae667==_0x25517d?_0x3468da['SR_DE_FISH_PANORAMA_WALL']:_0x17c71b==_0x25517d?_0x3468da[_0x19f2c6(0x2e3)]:_0x396f7c==_0x25517d?_0x3468da[_0x19f2c6(0x4dd)]:_0x11da1d==_0x25517d?_0x3468da[_0x19f2c6(0x36e)]:_0x5357b0==_0x25517d?_0x3468da[_0x19f2c6(0x26f)]:_0x3468da[_0x19f2c6(0x224)];case _0x3b95c4:return _0x4ebb4e==_0x25517d?_0x3468da[_0x19f2c6(0x4c2)]:_0x316080==_0x25517d?_0x3468da[_0x19f2c6(0x2f5)]:_0x4beee9==_0x25517d?_0x3468da[_0x19f2c6(0x3a8)]:_0x1ae667==_0x25517d?_0x3468da[_0x19f2c6(0x33c)]:_0x17c71b==_0x25517d?_0x3468da['SR_DE_FISH_SEMISPHERE']:_0x3ccddf==_0x25517d?_0x3468da[_0x19f2c6(0x3a9)]:_0x1a4011==_0x25517d?_0x3468da[_0x19f2c6(0x4f9)]:_0x396f7c==_0x25517d?_0x3468da['SR_DE_FISH_PLANET']:_0x3468da[_0x19f2c6(0x224)];case _0xf574bd:return _0x4ebb4e==_0x25517d?_0x3468da[_0x19f2c6(0x2b7)]:_0x316080==_0x25517d?_0x3468da[_0x19f2c6(0x208)]:_0x4beee9==_0x25517d?_0x3468da['SR_DE_FISH_PANORAMA_CEILING_180']:_0x1ae667==_0x25517d?_0x3468da[_0x19f2c6(0x33c)]:_0x17c71b==_0x25517d?_0x3468da[_0x19f2c6(0x2e3)]:_0x3ccddf==_0x25517d?_0x3468da['SR_DE_FISH_CYLINDER_CEILING']:_0x1a4011==_0x25517d?_0x3468da[_0x19f2c6(0x3f3)]:_0x396f7c==_0x25517d?_0x3468da['SR_DE_FISH_PLANET']:_0x3468da[_0x19f2c6(0x224)];default:return _0x3468da[_0x19f2c6(0x224)];}return _0x3468da[_0x19f2c6(0x224)];}}]),_0x5bd09b;}()),_0x3b510c=(function(){var _0x19c763=_0x99d5a2;function _0x3bf9bf(){var _0x494c7e=a0_0x1593;_0x160316(this,_0x3bf9bf),this[_0x494c7e(0x1d3)]=0x0,this[_0x494c7e(0x2a1)]=0x0,this[_0x494c7e(0x2da)]=0x0,this['lastDate']=0x0,this['preTimerStamp']=0x0;}return _0x5a3b91(_0x3bf9bf,[{'key':_0x19c763(0x3a0),'value':function(){var _0x2e8656=_0x19c763;this[_0x2e8656(0x1d3)]=this[_0x2e8656(0x404)]();}},{'key':'GetCurTime','value':function(){var _0x27eaee=_0x19c763;return this[_0x27eaee(0x2a1)]=0x3c*new Date()[_0x27eaee(0x4e6)]()*0x3c*0x3e8+0x3c*new Date()[_0x27eaee(0x4d1)]()*0x3e8+0x3e8*new Date()[_0x27eaee(0x44b)]()+new Date()['getMilliseconds'](),this[_0x27eaee(0x1df)]=new Date()[_0x27eaee(0x31a)](),this[_0x27eaee(0x2a1)];}},{'key':_0x19c763(0x20e),'value':function(){var _0x1ada06=_0x19c763,_0x22054f=this[_0x1ada06(0x404)]()-this[_0x1ada06(0x1d3)];return this['lastDate']!==new Date()['getDate']()&&(_0x22054f+=0x18*(new Date()[_0x1ada06(0x31a)]()-this[_0x1ada06(0x1df)])*0x3c*0x3c*0x3e8),_0x22054f;}},{'key':_0x19c763(0x257),'value':function(){var _0x3f3041=_0x19c763;this[_0x3f3041(0x1d3)]=0x0,this[_0x3f3041(0x2a1)]=0x0,this[_0x3f3041(0x2da)]=0x0,this['lastDate']=0x0,this[_0x3f3041(0x1fa)]=0x0;}}]),_0x3bf9bf;}());_0x95cd63=new(function(){var _0xea9a0b=_0x99d5a2;function _0x24ab98(){var _0x85f1d5=a0_0x1593,_0x41dda4=0x0<arguments[_0x85f1d5(0x4f1)]&&void 0x0!==arguments[0x0]?arguments[0x0]:null;_0x160316(this,_0x24ab98),this[_0x85f1d5(0x42d)]=null,this[_0x85f1d5(0x2ae)]=0x0,this[_0x85f1d5(0x48d)]=null,this[_0x85f1d5(0x3d5)]=null,this[_0x85f1d5(0x1fb)]=[],this[_0x85f1d5(0x313)]=!0x1,this[_0x85f1d5(0x353)]=0x0,this[_0x85f1d5(0x3bc)]=0x0,this[_0x85f1d5(0x329)]=!0x0,this[_0x85f1d5(0x24f)]=this['RenderFrame'][_0x85f1d5(0x336)](this),this[_0x85f1d5(0x23f)]=0x2,this[_0x85f1d5(0x439)]=0x1,this[_0x85f1d5(0x36b)]=0x1,this[_0x85f1d5(0x3fe)]=0xe,this[_0x85f1d5(0x3b8)]=!0x1,this[_0x85f1d5(0x509)]=!0x0,this[_0x85f1d5(0x2b0)]='',this[_0x85f1d5(0x2fb)]=!0x1,this[_0x85f1d5(0x4fa)]=!0x1,this[_0x85f1d5(0x455)]=0x0,this[_0x85f1d5(0x436)]=0x0,this[_0x85f1d5(0x52d)]=null,this[_0x85f1d5(0x4b1)]=[],this['curFrameInfo']={},this[_0x85f1d5(0x360)][_0x85f1d5(0x37a)]=0x0,this['sx']=0x0,this['sy']=0x0,this['sw']=0x0,this['sh']=0x0,this[_0x85f1d5(0x279)]=!0x1,this[_0x85f1d5(0x1e1)]=!0x1,this['displayRunning']=!0x0,this[_0x85f1d5(0x37d)]=null,this[_0x85f1d5(0x3d4)]=0x0,this[_0x85f1d5(0x39a)]=this[_0x85f1d5(0x455)]*this[_0x85f1d5(0x436)]*0x3/0x2,this['curFrameIsDisplay']=!0x0,(this[_0x85f1d5(0x4c3)]=null)!=_0x41dda4&&(this[_0x85f1d5(0x4c3)]=_0x41dda4),this[_0x85f1d5(0x2c7)]=_0x85f1d5(0x4eb),this[_0x85f1d5(0x3df)]=null;}return _0x5a3b91(_0x24ab98,[{'key':_0xea9a0b(0x462),'value':function(_0x5c1eba,_0x3b6194,_0x3446a3,_0x5be7bc){var _0xeaa69=_0xea9a0b;this[_0xeaa69(0x42d)]=_0x5c1eba,this[_0xeaa69(0x2ae)]=_0x3b6194,this[_0xeaa69(0x2c7)]=_0x5be7bc,this[_0xeaa69(0x3df)]=new _0x174ce8(),this[_0xeaa69(0x3df)][_0xeaa69(0x213)](this[_0xeaa69(0x42d)],this[_0xeaa69(0x2c7)]),this[_0xeaa69(0x3b2)](0x2),null==this['oVideoDecoder']&&(this['oVideoDecoder']=new _0x4c7866(_0x3446a3,this,this[_0xeaa69(0x4c3)]),this['frameBuffers']=this['oVideoDecoder']['ready_frames'],null!==this[_0xeaa69(0x3d5)]&&this['oVideoDecoder']['initDecoder']()),null==this[_0xeaa69(0x37d)]&&(this[_0xeaa69(0x37d)]=new _0x3b510c());}},{'key':_0xea9a0b(0x46f),'value':function(){var _0x339af2=_0xea9a0b;this[_0x339af2(0x4c3)][_0x339af2(0x41b)](),this[_0x339af2(0x4c3)][_0x339af2(0x507)](0x0),this[_0x339af2(0x4c3)][_0x339af2(0x497)]();}},{'key':_0xea9a0b(0x2cd),'value':function(_0x9ae98,_0x302653){var _0x50b2e9=_0xea9a0b,_0x172b73={};_0x172b73['port']=_0x302653[_0x50b2e9(0x3c6)],_0x172b73[_0x50b2e9(0x272)]=_0x302653['codecType'],_0x172b73[_0x50b2e9(0x3fd)]=_0x302653[_0x50b2e9(0x3fd)],_0x172b73[_0x50b2e9(0x495)]=_0x302653[_0x50b2e9(0x495)],_0x172b73[_0x50b2e9(0x36f)]=_0x302653['width'],_0x172b73['height']=_0x302653[_0x50b2e9(0x483)],_0x172b73['timeStamp']=_0x302653[_0x50b2e9(0x37a)],_0x172b73[_0x50b2e9(0x4d9)]=_0x302653['frameRate'],_0x172b73[_0x50b2e9(0x1dc)]=_0x302653[_0x50b2e9(0x1dc)],_0x172b73[_0x50b2e9(0x50a)]=_0x302653['interlace'],_0x172b73[_0x50b2e9(0x2c4)]=_0x302653[_0x50b2e9(0x2c4)],_0x172b73[_0x50b2e9(0x46d)]=_0x302653[_0x50b2e9(0x46d)],_0x172b73['cropRight']=_0x302653[_0x50b2e9(0x2fd)],_0x172b73[_0x50b2e9(0x2ba)]=_0x302653[_0x50b2e9(0x2ba)],_0x172b73[_0x50b2e9(0x268)]=_0x302653['cropBottom'],_0x172b73[_0x50b2e9(0x321)]=_0x302653[_0x50b2e9(0x321)],_0x172b73[_0x50b2e9(0x3e1)]=_0x302653[_0x50b2e9(0x3e1)],_0x172b73['week']=_0x302653[_0x50b2e9(0x451)],_0x172b73[_0x50b2e9(0x3cd)]=_0x302653[_0x50b2e9(0x3cd)],_0x172b73[_0x50b2e9(0x2d4)]=_0x302653['hour'],_0x172b73[_0x50b2e9(0x3f9)]=_0x302653[_0x50b2e9(0x3f9)],_0x172b73[_0x50b2e9(0x430)]=_0x302653[_0x50b2e9(0x430)],_0x172b73[_0x50b2e9(0x465)]=_0x302653[_0x50b2e9(0x465)],this[_0x50b2e9(0x4b1)][_0x50b2e9(0x51d)](_0x172b73),this['oVideoDecoder']['inputData'](_0x9ae98,_0x302653);}},{'key':_0xea9a0b(0x31e),'value':function(){var _0x269949=this;return new Promise(function(_0x5871c6,_0x42657f){var _0x564e7=a0_0x1593;_0x269949[_0x564e7(0x3d5)][_0x564e7(0x3b7)]()[_0x564e7(0x39e)](function(){var _0xe37438=_0x564e7;_0x269949[_0xe37438(0x4b1)][_0xe37438(0x21a)](0x0,_0x269949[_0xe37438(0x4b1)][_0xe37438(0x4f1)]),_0x269949['curFrameInfo']={},_0x269949['renderCurStatus']=0x2,_0x269949[_0xe37438(0x4c3)]?_0x269949['player'][_0xe37438(0x450)]():postMessage({'function':'resetEnd'}),_0x5871c6();},function(){_0x42657f();});});}},{'key':_0xea9a0b(0x341),'value':function(){var _0x46697f=_0xea9a0b;this['initTimer']=!0x1,this[_0x46697f(0x353)]=0x0,this[_0x46697f(0x3bc)]=0x0,this[_0x46697f(0x329)]=!0x0,null!=this[_0x46697f(0x37d)]&&this[_0x46697f(0x37d)]['timerReset'](),this[_0x46697f(0x24f)]=this[_0x46697f(0x24f)]['bind'](this),this[_0x46697f(0x23f)]=0x2,this[_0x46697f(0x31d)]=0x0,this[_0x46697f(0x402)]=null,this[_0x46697f(0x2fb)]=!0x1,this[_0x46697f(0x4fa)]=!0x1,this[_0x46697f(0x279)]=!0x1,this['getCropImageBMP']=!0x1,this[_0x46697f(0x390)]=!0x0,this[_0x46697f(0x52d)]=null,this['displayFrameInfo']['splice'](0x0,this[_0x46697f(0x4b1)][_0x46697f(0x4f1)]),this[_0x46697f(0x360)]={};}},{'key':'_destroyPlayCtrl','value':function(){var _0x22b82e=_0xea9a0b,_0x20110c=this;this['oVideoDecoder'][_0x22b82e(0x409)]()[_0x22b82e(0x39e)](function(){var _0x54c9c9=_0x22b82e;(_0x20110c[_0x54c9c9(0x3d5)]=null)!=_0x20110c[_0x54c9c9(0x3df)]&&(_0x20110c['oVideoRender'][_0x54c9c9(0x4c7)](),_0x20110c[_0x54c9c9(0x3df)]=null),_0x20110c[_0x54c9c9(0x341)](),_0x20110c[_0x54c9c9(0x37d)]=null,console[_0x54c9c9(0x514)](_0x54c9c9(0x3b3)),_0x20110c[_0x54c9c9(0x248)]=!0x1;},function(){var _0x1fc14b=_0x22b82e;console[_0x1fc14b(0x514)](_0x1fc14b(0x296));});}},{'key':_0xea9a0b(0x24f),'value':function(){var _0xaa4da6=_0xea9a0b,_0x51240b,_0x52d931,_0x449d91,_0x475db2=this;switch(this[_0xaa4da6(0x23f)]){case 0x0:this[_0xaa4da6(0x341)](),this[_0xaa4da6(0x31e)]()['then'](function(){setTimeout(function(){var _0x163b8e=a0_0x1593;_0x475db2[_0x163b8e(0x24f)]();},0x1);},function(){});break;case 0x2:this[_0xaa4da6(0x248)]?(this[_0xaa4da6(0x402)]=this[_0xaa4da6(0x304)](),-0x1==this['displayBuf']||0x0==this[_0xaa4da6(0x2ae)]?(null!=this['chosenFrame']&&(this[_0xaa4da6(0x31d)]=this['chosenFrame'][_0xaa4da6(0x264)],this[_0xaa4da6(0x396)](this['chosenFrame'])),requestAnimationFrame(this[_0xaa4da6(0x24f)])):null!=this['chosenFrame']?(this[_0xaa4da6(0x313)]&&!this['resetTimer']||(this[_0xaa4da6(0x37d)][_0xaa4da6(0x3a0)](),this[_0xaa4da6(0x313)]=!0x0,this[_0xaa4da6(0x329)]=!0x1,this[_0xaa4da6(0x353)]=this[_0xaa4da6(0x402)][_0xaa4da6(0x264)],this[_0xaa4da6(0x3bc)]=this[_0xaa4da6(0x402)]['timestamp']),this[_0xaa4da6(0x31d)]=this[_0xaa4da6(0x402)][_0xaa4da6(0x264)],_0x51240b=this[_0xaa4da6(0x31d)]-this['preTimeStamp'],_0x449d91=this[_0xaa4da6(0x31d)]-this[_0xaa4da6(0x3bc)],(0x1388<_0x51240b||_0x51240b<0x0||_0x449d91<0x0)&&(this[_0xaa4da6(0x37d)][_0xaa4da6(0x3a0)](),this['preTimeStamp']=this[_0xaa4da6(0x402)]['timestamp'],this[_0xaa4da6(0x3bc)]=this[_0xaa4da6(0x31d)]),(_0x51240b=(this[_0xaa4da6(0x31d)]-this[_0xaa4da6(0x3bc)])/this[_0xaa4da6(0x439)]-this['oRenderTimer'][_0xaa4da6(0x20e)]())<0xf&&-0xf<_0x51240b?(this['paint'](this[_0xaa4da6(0x402)]),this[_0xaa4da6(0x353)]=this['curTimeStamp'],this[_0xaa4da6(0x24f)]()):_0x51240b<0x0?(setTimeout(this[_0xaa4da6(0x396)](this[_0xaa4da6(0x402)]),0x1),this[_0xaa4da6(0x353)]=this[_0xaa4da6(0x31d)],this[_0xaa4da6(0x24f)]()):_0x52d931=setTimeout(function(){var _0x3b4cff=_0xaa4da6;0x2==_0x475db2[_0x3b4cff(0x23f)]?(_0x475db2[_0x3b4cff(0x396)](_0x475db2[_0x3b4cff(0x402)]),_0x475db2['preTimeStamp']=_0x475db2['curTimeStamp']):_0x475db2[_0x3b4cff(0x390)]=!0x1,_0x475db2[_0x3b4cff(0x24f)](),clearTimeout(_0x52d931);},_0x51240b-0x5)):(_0x449d91=0x5,0x2<this[_0xaa4da6(0x439)]&&(_0x449d91=0x1),setTimeout(function(){var _0xe89497=_0xaa4da6;_0x475db2[_0xe89497(0x24f)]();},_0x449d91))):setTimeout(function(){var _0x4c3ab8=_0xaa4da6;_0x475db2[_0x4c3ab8(0x24f)]();},0x5);break;case 0x3:setTimeout(function(){var _0x13b3c5=_0xaa4da6;_0x475db2[_0x13b3c5(0x410)](),_0x475db2[_0x13b3c5(0x24f)]();},0x5);break;case 0x5:this[_0xaa4da6(0x3b8)]&&(this['chosenFrame']=this['chooseFrame'](),null!=this[_0xaa4da6(0x402)]&&setTimeout(function(){var _0x5c3099=_0xaa4da6;_0x475db2[_0x5c3099(0x396)](_0x475db2[_0x5c3099(0x402)]),_0x475db2[_0x5c3099(0x3b8)]=!0x1;},0x1)),setTimeout(function(){var _0x3e7f51=_0xaa4da6;_0x475db2[_0x3e7f51(0x410)](),_0x475db2['RenderFrame']();},0x5);break;case 0x4:return void this[_0xaa4da6(0x4d4)]();default:return;}}},{'key':_0xea9a0b(0x396),'value':function(_0x7dffa7){var _0x494d32=_0xea9a0b,_0x4baac6,_0x28620e,_0x33d7b9=this;0x4!=this[_0x494d32(0x3d9)]&&null!=_0x7dffa7&&(this[_0x494d32(0x3d4)]===_0x7dffa7['timestamp']&&(this[_0x494d32(0x329)]=!0x0),null!=this[_0x494d32(0x3df)]&&(this[_0x494d32(0x3df)][_0x494d32(0x46a)](_0x7dffa7),null!==this['displayFrameInfoCB']&&this[_0x494d32(0x4e5)](_0x7dffa7['timestamp']),(this[_0x494d32(0x2fb)]||this['getImageBMP']||this[_0x494d32(0x279)]||this[_0x494d32(0x1e1)])&&(this[_0x494d32(0x455)]===_0x7dffa7['displayWidth']&&this[_0x494d32(0x436)]==_0x7dffa7[_0x494d32(0x436)]||(this[_0x494d32(0x455)]=_0x7dffa7['displayWidth'],this['displayHeight']=_0x7dffa7['displayHeight'],this[_0x494d32(0x39a)]=this[_0x494d32(0x455)]*this[_0x494d32(0x436)]*0x3/0x2),_0x4baac6=new Uint8Array(this[_0x494d32(0x39a)]),_0x28620e=_0x7dffa7[_0x494d32(0x32a)],_0x7dffa7['copyTo'](_0x4baac6)[_0x494d32(0x39e)](function(){_0x33d7b9['postImageData'](_0x4baac6,_0x28620e);})),this['firstFrame']&&(null!=this[_0x494d32(0x4c3)]?null!=this['player'][_0x494d32(0x2dc)]&&this[_0x494d32(0x4c3)]['FFCallBackFun']():postMessage({'function':'firstFrameCB','value':!0x0}),this['firstFrame']=!0x1)));}},{'key':_0xea9a0b(0x4e5),'value':function(_0x445787){var _0x372813=_0xea9a0b;if(0x0!=this[_0x372813(0x4b1)]['length']&&this[_0x372813(0x360)][_0x372813(0x37a)]!==_0x445787){for(var _0x3ded74={},_0x34ce27=0x0;_0x34ce27<this[_0x372813(0x4b1)][_0x372813(0x4f1)]&&(_0x3ded74=this[_0x372813(0x4b1)][_0x372813(0x21b)]())['timeStamp']!=_0x445787;_0x34ce27++);this[_0x372813(0x360)][_0x372813(0x3c6)]=_0x3ded74[_0x372813(0x3c6)],this[_0x372813(0x360)]['codecType']=_0x3ded74[_0x372813(0x272)],this[_0x372813(0x360)]['frameType']=_0x3ded74[_0x372813(0x3fd)],this[_0x372813(0x360)][_0x372813(0x495)]=_0x3ded74['frameSize'],this[_0x372813(0x360)][_0x372813(0x36f)]=_0x3ded74[_0x372813(0x36f)],this['curFrameInfo']['height']=_0x3ded74[_0x372813(0x483)],this['curFrameInfo'][_0x372813(0x37a)]=_0x3ded74[_0x372813(0x37a)],this[_0x372813(0x360)]['frameRate']=_0x3ded74[_0x372813(0x4d9)],this[_0x372813(0x360)][_0x372813(0x1dc)]=_0x3ded74[_0x372813(0x1dc)],this['curFrameInfo'][_0x372813(0x50a)]=_0x3ded74[_0x372813(0x50a)],this[_0x372813(0x360)][_0x372813(0x2c4)]=_0x3ded74[_0x372813(0x2c4)],this['curFrameInfo'][_0x372813(0x46d)]=_0x3ded74[_0x372813(0x46d)],this['curFrameInfo'][_0x372813(0x2fd)]=_0x3ded74[_0x372813(0x2fd)],this[_0x372813(0x360)]['cropTop']=_0x3ded74[_0x372813(0x2ba)],this[_0x372813(0x360)][_0x372813(0x268)]=_0x3ded74[_0x372813(0x268)],this[_0x372813(0x360)][_0x372813(0x321)]=_0x3ded74[_0x372813(0x321)],this[_0x372813(0x360)]['month']=_0x3ded74[_0x372813(0x3e1)],this[_0x372813(0x360)][_0x372813(0x451)]=_0x3ded74[_0x372813(0x451)],this[_0x372813(0x360)][_0x372813(0x3cd)]=_0x3ded74[_0x372813(0x3cd)],this[_0x372813(0x360)][_0x372813(0x2d4)]=_0x3ded74[_0x372813(0x2d4)],this[_0x372813(0x360)][_0x372813(0x3f9)]=_0x3ded74[_0x372813(0x3f9)],this[_0x372813(0x360)][_0x372813(0x430)]=_0x3ded74[_0x372813(0x430)],this[_0x372813(0x360)][_0x372813(0x465)]=_0x3ded74[_0x372813(0x465)],this[_0x372813(0x52d)](this['curFrameInfo']);}}},{'key':_0xea9a0b(0x342),'value':function(_0x3b6eb6,_0x3d131d){var _0x262edd=_0xea9a0b;this[_0x262edd(0x4c3)]?(this[_0x262edd(0x2fb)]&&(this[_0x262edd(0x2fb)]=!0x1,this[_0x262edd(0x4c3)][_0x262edd(0x2df)](_0x3b6eb6,this[_0x262edd(0x39a)],this[_0x262edd(0x455)],this[_0x262edd(0x436)],_0x262edd(0x529),_0x3d131d,0x0,0x0,0x0,0x0)),this[_0x262edd(0x4fa)]&&(this['getImageBMP']=!0x1,this[_0x262edd(0x4c3)][_0x262edd(0x2df)](_0x3b6eb6,this['yuvLength'],this[_0x262edd(0x455)],this['displayHeight'],'bmp',_0x3d131d,0x0,0x0,0x0,0x0)),this[_0x262edd(0x279)]&&(this[_0x262edd(0x279)]=!0x1,this['player'][_0x262edd(0x2df)](_0x3b6eb6,this[_0x262edd(0x39a)],this[_0x262edd(0x455)],this['displayHeight'],_0x262edd(0x529),_0x3d131d,this['sx'],this['sy'],this['sw'],this['sh'])),this[_0x262edd(0x1e1)]&&(this[_0x262edd(0x1e1)]=!0x1,this['player']['_GetImage2'](_0x3b6eb6,this['yuvLength'],this[_0x262edd(0x455)],this['displayHeight'],_0x262edd(0x317),_0x3d131d,this['sx'],this['sy'],this['sw'],this['sh']))):(this[_0x262edd(0x2fb)]&&(this['getImageJPEG']=!0x1,postMessage({'function':_0x262edd(0x3f5),'value':_0x3b6eb6[_0x262edd(0x3b1)],'size':this[_0x262edd(0x39a)],'width':this[_0x262edd(0x455)],'height':this['displayHeight'],'type':'jpeg','yuvType':_0x3d131d,'sx':0x0,'sy':0x0,'sw':0x0,'sh':0x0},[_0x3b6eb6[_0x262edd(0x3b1)]])),this['getImageBMP']&&(this[_0x262edd(0x4fa)]=!0x1,postMessage({'function':_0x262edd(0x3f5),'value':_0x3b6eb6[_0x262edd(0x3b1)],'size':this['yuvLength'],'width':this['displayWidth'],'height':this[_0x262edd(0x436)],'type':_0x262edd(0x317),'yuvType':_0x3d131d,'sx':0x0,'sy':0x0,'sw':0x0,'sh':0x0},[_0x3b6eb6[_0x262edd(0x3b1)]])),this[_0x262edd(0x279)]&&(this[_0x262edd(0x279)]=!0x1,postMessage({'function':_0x262edd(0x3f5),'value':_0x3b6eb6['buffer'],'size':this[_0x262edd(0x39a)],'width':this[_0x262edd(0x455)],'height':this['displayHeight'],'type':_0x262edd(0x529),'yuvType':_0x3d131d,'sx':this['sx'],'sy':this['sy'],'sw':this['sw'],'sh':this['sh']},[_0x3b6eb6['buffer']])),this[_0x262edd(0x1e1)]&&(this['getCropImageBMP']=!0x1,postMessage({'function':_0x262edd(0x3f5),'value':_0x3b6eb6['buffer'],'size':this[_0x262edd(0x39a)],'width':this[_0x262edd(0x455)],'height':this[_0x262edd(0x436)],'type':_0x262edd(0x317),'yuvType':_0x3d131d,'sx':this['sx'],'sy':this['sy'],'sw':this['sw'],'sh':this['sh']},[_0x3b6eb6[_0x262edd(0x3b1)]])));}},{'key':_0xea9a0b(0x304),'value':function(){var _0x5b4c7a=_0xea9a0b,_0x3af6b5=this;if(0x1==this[_0x5b4c7a(0x2ae)]){if(this['frameBuffers']['length']<0x2)return null;}else{if(this[_0x5b4c7a(0x1fb)][_0x5b4c7a(0x4f1)]<0x1)return null;}if(!this['curFrameIsDisplay'])return this[_0x5b4c7a(0x390)]=!0x0,this[_0x5b4c7a(0x1fb)][0x0];{if(null!=this[_0x5b4c7a(0x402)]&&(this[_0x5b4c7a(0x1fb)][_0x5b4c7a(0x21b)]()[_0x5b4c7a(0x493)](),this[_0x5b4c7a(0x402)][_0x5b4c7a(0x493)](),this['chosenFrame']=null),!this[_0x5b4c7a(0x3d5)][_0x5b4c7a(0x2e4)])return this['frameBuffers']['length']<0x1?null:this[_0x5b4c7a(0x1fb)][0x0];this['oVideoDecoder'][_0x5b4c7a(0x3b7)]()['then'](function(){var _0x4256dc=_0x5b4c7a;return _0x3af6b5[_0x4256dc(0x3d5)][_0x4256dc(0x2e4)]=!0x1,null;},function(){return null;});}}},{'key':'SetDisplayRegion','value':function(_0x1e036b,_0x5536fe,_0x1ab49a,_0x16bcc0){var _0x2c9369=_0xea9a0b;return null==this['oVideoRender']?0x0:(this['sx']=_0x1e036b,this['sy']=_0x5536fe,this['sw']=_0x1ab49a,this['sh']=_0x16bcc0,this[_0x2c9369(0x3df)][_0x2c9369(0x355)](_0x1e036b,_0x5536fe,_0x1ab49a,_0x16bcc0));}},{'key':'SetCurStatus','value':function(_0x27b202){this['renderCurStatus']=_0x27b202;}},{'key':_0xea9a0b(0x3a4),'value':function(){var _0x4b8a4a=_0xea9a0b,_0x437f9f=this['_GetFastSpeed'](this['nplaySpeed']);return this[_0x4b8a4a(0x48a)](_0x437f9f);}},{'key':_0xea9a0b(0x536),'value':function(){var _0x3d5697=_0xea9a0b,_0xe47372=this[_0x3d5697(0x492)](this[_0x3d5697(0x36b)]);return this[_0x3d5697(0x48a)](_0xe47372);}},{'key':_0xea9a0b(0x1d2),'value':function(_0x118a98){var _0x1a08d4=_0xea9a0b;if(_0x118a98)this[_0x1a08d4(0x3b2)](0x3);else{if(0x3!==this[_0x1a08d4(0x23f)])return-0x1;this['SetCurStatus'](0x2),this[_0x1a08d4(0x329)]=!0x0;}return 0x1;}},{'key':'_refresh','value':function(){var _0x4e609d=_0xea9a0b;0x0!=this[_0x4e609d(0x1fb)][_0x4e609d(0x4f1)]&&this['paint'](this[_0x4e609d(0x1fb)][0x0]);}},{'key':_0xea9a0b(0x419),'value':function(_0x12dbd8){var _0x5884f6=_0xea9a0b;if(_0x12dbd8)this[_0x5884f6(0x3b2)](0x5),this[_0x5884f6(0x3b8)]=!0x0;else{if(0x5!==this[_0x5884f6(0x23f)])return-0x1;this[_0x5884f6(0x3b2)](0x2),this['resetTimer']=!0x0,this[_0x5884f6(0x3b8)]=!0x1,this[_0x5884f6(0x48a)](0x1);}return 0x1;}},{'key':_0xea9a0b(0x4b7),'value':function(_0x2dbc59,_0xce39a4){var _0x4402be=_0xea9a0b;return null!=this[_0x4402be(0x3df)]&&this['oVideoRender'][_0x4402be(0x4b7)](_0x2dbc59,_0xce39a4);}},{'key':_0xea9a0b(0x286),'value':function(){var _0x201fe7=_0xea9a0b;return null!=this[_0x201fe7(0x3df)]&&this[_0x201fe7(0x3df)][_0x201fe7(0x286)]();}},{'key':_0xea9a0b(0x417),'value':function(){var _0x5d0e83=_0xea9a0b;return this[_0x5d0e83(0x31d)];}},{'key':_0xea9a0b(0x48a),'value':function(_0x275baf){var _0x3287b8=_0xea9a0b;switch(_0x275baf){case-0x10:case-0x8:case-0x4:case-0x2:case 0x1:case 0x2:case 0x4:case 0x8:case 0x10:case 0x20:case 0x40:break;default:return-0x1;}return _0x275baf!==this[_0x3287b8(0x36b)]&&(this[_0x3287b8(0x36b)]=_0x275baf,this[_0x3287b8(0x439)]=0x0<_0x275baf?_0x275baf:-0x1/_0x275baf,console[_0x3287b8(0x514)](_0x3287b8(0x349)+this[_0x3287b8(0x439)]),this[_0x3287b8(0x329)]=!0x0,this[_0x3287b8(0x3b8)]=!0x1,0x2!=this[_0x3287b8(0x23f)]&&this[_0x3287b8(0x3b2)](0x2)),0x1;}},{'key':_0xea9a0b(0x3f8),'value':function(_0x145035){var _0x5d2d4d=0x0;switch(_0x145035){case-0x10:_0x5d2d4d=-0x8;break;case-0x8:_0x5d2d4d=-0x4;break;case-0x4:_0x5d2d4d=-0x2;break;case-0x2:_0x5d2d4d=0x1;break;case 0x1:_0x5d2d4d=0x2;break;case 0x2:_0x5d2d4d=0x4;break;case 0x4:_0x5d2d4d=0x8;break;case 0x8:_0x5d2d4d=0x10;break;case 0x10:_0x5d2d4d=0x20;break;case 0x20:_0x5d2d4d=0x40;break;default:_0x5d2d4d=0x0;}return _0x5d2d4d;}},{'key':_0xea9a0b(0x492),'value':function(_0x187aa1){var _0x2748d1=0x0;switch(_0x187aa1){case-0x8:_0x2748d1=-0x10;break;case-0x4:_0x2748d1=-0x8;break;case-0x2:_0x2748d1=-0x4;break;case 0x1:_0x2748d1=-0x2;break;case 0x2:_0x2748d1=0x1;break;case 0x4:_0x2748d1=0x2;break;case 0x8:_0x2748d1=0x4;break;case 0x10:_0x2748d1=0x8;break;case 0x20:_0x2748d1=0x10;break;case 0x40:_0x2748d1=0x20;break;default:_0x2748d1=0x0;}return _0x2748d1;}},{'key':_0xea9a0b(0x2b8),'value':function(_0x36ab92){var _0x5cdd52=_0xea9a0b;return this[_0x5cdd52(0x3fe)]=_0x36ab92,0x1;}},{'key':_0xea9a0b(0x3be),'value':function(){var _0x48423f=_0xea9a0b;return this[_0x48423f(0x2fb)]=!0x0,this['getImageType']=_0x48423f(0x529),0x1;}},{'key':_0xea9a0b(0x40a),'value':function(){var _0xdf5952=_0xea9a0b;return this['getImageBMP']=!0x0,this[_0xdf5952(0x2b0)]=_0xdf5952(0x317),0x1;}},{'key':'GetCropJPEG','value':function(){var _0x13bd51=_0xea9a0b;return this[_0x13bd51(0x279)]=!0x0,this['getImageType']='Cropjpeg',0x1;}},{'key':'GetCropBMP','value':function(){var _0x227fef=_0xea9a0b;return this[_0x227fef(0x1e1)]=!0x0,this[_0x227fef(0x2b0)]='Cropbmp',0x1;}},{'key':_0xea9a0b(0x534),'value':function(_0x28b7b1){var _0x59e2cf=_0xea9a0b;return this[_0x59e2cf(0x3d4)]=_0x28b7b1,0x1;}},{'key':_0xea9a0b(0x49c),'value':function(){var _0x29ca06=_0xea9a0b;return this[_0x29ca06(0x3d5)][_0x29ca06(0x49c)](),0x1;}},{'key':'SetAntialias','value':function(_0x1233e9){var _0x366f21=_0xea9a0b;return null!=this[_0x366f21(0x3df)]?this[_0x366f21(0x3df)][_0x366f21(0x41f)](_0x1233e9):0x0;}},{'key':_0xea9a0b(0x427),'value':function(_0x4999e8,_0x37b739){var _0x368bd9=_0xea9a0b;return this[_0x368bd9(0x52d)]=_0x37b739?_0x4999e8:null,0x1;}},{'key':'FEC_SetCanvasID','value':function(_0x384d1b){var _0x5bb786=_0xea9a0b;return'2d'===this[_0x5bb786(0x2c7)]||'2D'===this[_0x5bb786(0x2c7)]?(console[_0x5bb786(0x514)](_0x5bb786(0x2d8),'color:red'),0x0):null!=this[_0x5bb786(0x3df)]?this[_0x5bb786(0x3df)][_0x5bb786(0x2bf)](_0x384d1b):0x0;}},{'key':'FEC_ResetCorrectType','value':function(_0x536d6d,_0x5449e1,_0x29ecc8){var _0x4ac92b=_0xea9a0b;return'2d'===this[_0x4ac92b(0x2c7)]||'2D'===this[_0x4ac92b(0x2c7)]?(console[_0x4ac92b(0x514)](_0x4ac92b(0x2d8),_0x4ac92b(0x4cf)),0x0):null!=this['oVideoRender']?this['oVideoRender'][_0x4ac92b(0x49a)](_0x536d6d,_0x5449e1,_0x29ecc8):0x0;}},{'key':'FEC_GetPort','value':function(_0x2f4e33,_0x11e80b){var _0x21d93d=_0xea9a0b;return'2d'===this['renderEngine']||'2D'===this['renderEngine']?(console['log'](_0x21d93d(0x2d8),'color:red'),0x0):null!=this['oVideoRender']?this[_0x21d93d(0x3df)]['FEC_GetPort'](_0x2f4e33,_0x11e80b):0x0;}},{'key':_0xea9a0b(0x4e0),'value':function(_0x568f9b){var _0xcefcda=_0xea9a0b;return'2d'===this[_0xcefcda(0x2c7)]||'2D'===this[_0xcefcda(0x2c7)]?(console['log']('%c\\x202D\\x20render\\x20not\\x20support\\x20FEC\\x20correct',_0xcefcda(0x4cf)),0x0):null!=this[_0xcefcda(0x3df)]?this[_0xcefcda(0x3df)][_0xcefcda(0x4e0)](_0x568f9b):0x0;}},{'key':_0xea9a0b(0x362),'value':function(_0x4ba09b,_0x283978){var _0x202c08=_0xea9a0b;return'2d'===this[_0x202c08(0x2c7)]||'2D'===this[_0x202c08(0x2c7)]?(console[_0x202c08(0x514)](_0x202c08(0x2d8),_0x202c08(0x4cf)),0x0):null!=this[_0x202c08(0x3df)]?this['oVideoRender'][_0x202c08(0x362)](_0x4ba09b,_0x283978):0x0;}},{'key':_0xea9a0b(0x4b6),'value':function(_0x34cd97,_0x373ca6,_0x18c2d3){var _0x529723=_0xea9a0b;return'2d'===this[_0x529723(0x2c7)]||'2D'===this[_0x529723(0x2c7)]?(console[_0x529723(0x514)](_0x529723(0x2d8),_0x529723(0x4cf)),0x0):null!=this[_0x529723(0x3df)]?this[_0x529723(0x3df)][_0x529723(0x4b6)](_0x34cd97,_0x373ca6,_0x18c2d3):0x0;}},{'key':_0xea9a0b(0x22e),'value':function(_0x196177,_0x2827e7){var _0x20c1df=_0xea9a0b;return'2d'===this[_0x20c1df(0x2c7)]||'2D'===this[_0x20c1df(0x2c7)]?(console[_0x20c1df(0x514)](_0x20c1df(0x2d8),_0x20c1df(0x4cf)),0x0):null!=this[_0x20c1df(0x3df)]?this[_0x20c1df(0x3df)][_0x20c1df(0x22e)](_0x196177,_0x2827e7):0x0;}},{'key':_0xea9a0b(0x281),'value':function(_0x47c68c,_0x68e551){var _0x595882=_0xea9a0b;return'2d'===this[_0x595882(0x2c7)]||'2D'===this[_0x595882(0x2c7)]?(console['log'](_0x595882(0x2d8),'color:red'),0x0):null!=this[_0x595882(0x3df)]?this[_0x595882(0x3df)]['FEC_SetWnd'](_0x47c68c,_0x68e551):0x0;}},{'key':'FEC_Disable','value':function(_0x16811c,_0xd2488b,_0x4f7c73){var _0x3d73e2=_0xea9a0b;return'2d'===this[_0x3d73e2(0x2c7)]||'2D'===this[_0x3d73e2(0x2c7)]?(console[_0x3d73e2(0x514)]('%c\\x202D\\x20render\\x20not\\x20support\\x20FEC\\x20correct',_0x3d73e2(0x4cf)),0x0):null!=this['oVideoRender']?this[_0x3d73e2(0x3df)][_0x3d73e2(0x3ed)](_0x16811c,_0xd2488b,_0x4f7c73):0x0;}},{'key':'FEC_DelPort','value':function(_0xbdf370){var _0x2a2289=_0xea9a0b;return'2d'===this['renderEngine']||'2D'===this[_0x2a2289(0x2c7)]?(console[_0x2a2289(0x514)](_0x2a2289(0x2d8),'color:red'),0x0):null!=this[_0x2a2289(0x3df)]?this[_0x2a2289(0x3df)][_0x2a2289(0x3fb)](_0xbdf370):0x0;}},{'key':_0xea9a0b(0x544),'value':function(_0x30b6ba,_0x2ff878,_0x11104e,_0x4fd018,_0x85a955,_0x119c7d,_0x568b0b){var _0x5569dd=_0xea9a0b;return'2d'===this[_0x5569dd(0x2c7)]||'2D'===this['renderEngine']?(console[_0x5569dd(0x514)]('%c\\x202D\\x20render\\x20not\\x20support\\x20FEC\\x20correct',_0x5569dd(0x4cf)),0x0):null!=this[_0x5569dd(0x3df)]?this[_0x5569dd(0x3df)][_0x5569dd(0x544)](_0x30b6ba,_0x2ff878,_0x11104e,_0x4fd018,_0x85a955,_0x119c7d,_0x568b0b):0x0;}},{'key':_0xea9a0b(0x40e),'value':function(_0xcbb05,_0x481dd8){var _0x5951c0=_0xea9a0b;return'2d'===this[_0x5951c0(0x2c7)]||'2D'===this['renderEngine']?(console['log'](_0x5951c0(0x2d8),_0x5951c0(0x4cf)),0x0):null!=this['oVideoRender']?this[_0x5951c0(0x3df)][_0x5951c0(0x40e)](_0xcbb05,_0x481dd8):0x0;}}]),_0x24ab98;}())(),self[_0x99d5a2(0x266)]=function(_0x4a7850){var _0x4e129c=_0x99d5a2,_0x7023b=_0x4a7850[_0x4e129c(0x39d)];switch(_0x7023b[_0x4e129c(0x429)]){case _0x4e129c(0x462):_0x95cd63[_0x4e129c(0x462)](_0x7023b[_0x4e129c(0x42d)],_0x7023b[_0x4e129c(0x2ae)],_0x7023b[_0x4e129c(0x4b5)],_0x7023b[_0x4e129c(0x2c7)]);break;case _0x4e129c(0x2cd):var _0x215010=new Uint8Array(_0x7023b[_0x4e129c(0x41a)]),_0x487c62=_0x7023b[_0x4e129c(0x2fc)];_0x95cd63[_0x4e129c(0x2cd)](_0x215010,_0x487c62),0x0;break;case _0x4e129c(0x433):null===_0x95cd63&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x399)}),_0x95cd63['SetDisplayRegion'](_0x7023b['sx'],_0x7023b['sy'],_0x7023b['sw'],_0x7023b['sh']);break;case'stop':null===_0x95cd63&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x399)}),_0x95cd63[_0x4e129c(0x3b2)](0x4);let _0x546ac0=setInterval(()=>{var _0x4f30b8=_0x4e129c;_0x95cd63[_0x4f30b8(0x248)]||(_0x95cd63=null,self[_0x4f30b8(0x4ab)]({'function':'stop'}),clearInterval(_0x546ac0),_0x546ac0=null,self[_0x4f30b8(0x493)](),console['log']('>>>JS\\x2003\\x20destroy\\x20oVideoPlayCtrl\\x20and\\x20worker'));},0x2);break;case'fast':null===_0x95cd63&&self['postMessage']({'function':_0x4e129c(0x399)}),0x1!==_0x95cd63[_0x4e129c(0x3a4)]()&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x4ba)});break;case'slow':null===_0x95cd63&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x399)}),0x1!==_0x95cd63[_0x4e129c(0x536)]()&&self[_0x4e129c(0x4ab)]({'function':'paraError'});break;case _0x4e129c(0x2b8):null===_0x95cd63&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x399)}),0x1!==_0x95cd63[_0x4e129c(0x2b8)](_0x7023b[_0x4e129c(0x38a)])&&self[_0x4e129c(0x4ab)]({'function':'paraError'});break;case'Pause':null===_0x95cd63&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x399)}),0x1!==_0x95cd63['Pause'](_0x7023b[_0x4e129c(0x38a)])&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x4ba)});break;case _0x4e129c(0x419):null===_0x95cd63&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x399)}),0x1!==_0x95cd63[_0x4e129c(0x419)](_0x7023b['value'])&&self['postMessage']({'function':'paraError'});break;case _0x4e129c(0x4b7):null===_0x95cd63&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x399)}),0x1!==_0x95cd63[_0x4e129c(0x4b7)](_0x7023b[_0x4e129c(0x36f)],_0x7023b[_0x4e129c(0x483)])&&self['postMessage']({'function':_0x4e129c(0x4ba)});break;case _0x4e129c(0x286):null===_0x95cd63&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x399)}),0x1!==_0x95cd63[_0x4e129c(0x286)]()&&self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x4ba)});break;case _0x4e129c(0x417):null===_0x95cd63&&self[_0x4e129c(0x4ab)]({'function':'OrderError'}),_0x215010=_0x95cd63[_0x4e129c(0x417)](),0x0!==_0x215010&&self[_0x4e129c(0x4ab)]({'function':'GetPlayedTime','value':_0x215010});break;case _0x4e129c(0x35b):_0x95cd63['SetCurStatus'](0x0);break;case _0x4e129c(0x3be):_0x95cd63['GetJPEG']();break;case _0x4e129c(0x40a):_0x95cd63[_0x4e129c(0x40a)]();break;case _0x4e129c(0x393):_0x95cd63[_0x4e129c(0x393)]();break;case _0x4e129c(0x464):_0x95cd63[_0x4e129c(0x464)]();break;case'SetDecodeFrameType':_0x95cd63[_0x4e129c(0x534)](_0x7023b[_0x4e129c(0x264)]);break;case _0x4e129c(0x2c4):_0x95cd63[_0x4e129c(0x49c)]();break;case _0x4e129c(0x41f):_0x95cd63[_0x4e129c(0x41f)](_0x7023b[_0x4e129c(0x38a)]);break;case _0x4e129c(0x427):_0x95cd63['SetFrameInfoCallBack'](_0x29c143=>{var _0x3a09fa=_0x4e129c;self[_0x3a09fa(0x4ab)]({'function':_0x3a09fa(0x427),'curFrameInfo':_0x29c143});},_0x7023b[_0x4e129c(0x38a)]);case'FEC_SetCanvasID':_0x95cd63['FEC_SetCanvasID'](_0x7023b[_0x4e129c(0x280)]);break;case _0x4e129c(0x3a5):_0x95cd63[_0x4e129c(0x49a)](_0x7023b[_0x4e129c(0x370)],_0x7023b['placeType'],_0x7023b[_0x4e129c(0x2e0)]);break;case _0x4e129c(0x363):_0x95cd63[_0x4e129c(0x20d)](_0x7023b[_0x4e129c(0x3a1)],_0x7023b[_0x4e129c(0x2e0)]);break;case _0x4e129c(0x53f):_0x95cd63[_0x4e129c(0x4e0)](_0x7023b['fishSubPort']);break;case _0x4e129c(0x3f6):_0x95cd63[_0x4e129c(0x362)](_0x7023b[_0x4e129c(0x370)],_0x7023b['param2d']);break;case _0x4e129c(0x2a9):_0x95cd63[_0x4e129c(0x4b6)](_0x7023b['fishSubPort'],_0x7023b[_0x4e129c(0x49e)],_0x7023b[_0x4e129c(0x47c)]);break;case _0x4e129c(0x358):_0x487c62=_0x95cd63[_0x4e129c(0x22e)](_0x7023b[_0x4e129c(0x370)],_0x7023b[_0x4e129c(0x49e)]),self[_0x4e129c(0x4ab)]({'function':_0x4e129c(0x358),'fValue':_0x487c62});break;case'FECSetWnd':_0x95cd63[_0x4e129c(0x281)](_0x7023b['fishSubPort'],_0x7023b['offscrrenCnv']);break;case _0x4e129c(0x530):_0x95cd63[_0x4e129c(0x3ed)](_0x7023b['fishSubPort'],_0x7023b[_0x4e129c(0x28a)],_0x7023b[_0x4e129c(0x4aa)]);break;case _0x4e129c(0x51b):_0x95cd63[_0x4e129c(0x3fb)](_0x7023b[_0x4e129c(0x370)]);break;case _0x4e129c(0x42b):_0x95cd63['FEC_SetDisplayRegion'](_0x7023b[_0x4e129c(0x370)],_0x7023b[_0x4e129c(0x50c)],_0x7023b[_0x4e129c(0x491)],_0x7023b['sx'],_0x7023b['sy'],_0x7023b['sw'],_0x7023b['sh']);break;case'FECSetBackCilling':_0x95cd63[_0x4e129c(0x40e)](_0x7023b['fishSubPort'],_0x7023b[_0x4e129c(0x52f)]);}};})());})()));function a0_0xd9f6(){var _0x382391=['fPTZX','regionSy','bOrtho','curstatus','fRotateX','DeInit','Missing_Module','bCullBack','Invalid_Opcode','oVideoRender','fSinV','month','Get_Char_Index','GetFishParam','num_faces','SR_Init','done','CLAMP_TO_EDGE','Generator\\x20is\\x20already\\x20running','create','SR_ERR_FREETYPE_RESOURCE','pPTZSetColor','SR_DrawLines','FEC_Disable','bPortAllocated','position','Invalid_Argument','9876336DDWcsr','IsOutofImage','SR_DE_FISH_CYLINDER_SPLIT_CEILING','fZoom','imageYUV','FECSetParam','trunc','_GetFastSpeed','minute','bRecreateAntia','FEC_DelPort','flush','frameType','displayBuf','nCylinderPosSize','SR_GetPTZPort','DEFAULT','chosenFrame','style_flags','GetCurTime','fCosV','nSemiSphereTexSize','FECErrorCode','bindBuffer','destroyDecoder','GetBMP','GetPTZDisplayMode','fPTZY','toStringTag','FEC_SetBackCilling','bBlack','_refresh','Raster_Uninitialized','webgl2','abrupt','SR_SetDisplayRect','createTexture','bufferData','GetPlayedTime','IGNORE_TRANSFORM','OneByOne','rawData','JSPlayM4_Stop','sqrt','InitCamera','SR_DelSubPort','SetAntialias','SetNear','Invalid_Stream_Handle','mainSubPort','\\x0a\\x20\\x20\\x20\\x20varying\\x20highp\\x20vec2\\x20v_uv;\\x0a\\x20\\x20\\x20\\x20uniform\\x20sampler2D\\x20texture;\\x0a\\x20\\x20\\x20\\x20void\\x20main(void)\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20texture2D(texture,\\x20v_uv);\\x0a\\x20\\x20\\x20\\x20}\\x0a','Raster_Corrupted','activeTexture','Out_Of_Memory','SetFrameInfoCallBack','COMPUTE_METRICS','command','DEF_In_Glyf_Bytecode','FECSetDisplayRegion','MAX','canvas','completion','arg','second','bLoop','acos','SetDisplayRegion','info','message','displayHeight','setPrototypeOf','@@iterator','playSpeed','SetOrtho','stop','Too_Many_Instruction_Defs','nBasePTZPointNum','glyph','Raster_Overflow','LINEAR_MIPMAP_NEAREST','pCylinderPos','glLinePosBuffer','\\x0a\\x20\\x20\\x20\\x20attribute\\x20vec3\\x20position;\\x0a\\x20\\x20\\x20\\x20attribute\\x20vec4\\x20\\x20\\x20color;\\x0a\\x20\\x20\\x20\\x20varying\\x20\\x20\\x20float\\x20\\x20pp;\\x0a\\x20\\x20\\x20\\x20varying\\x20\\x20\\x20vec4\\x20\\x20colorOut;\\x0a\\x20\\x20\\x20\\x20void\\x20main()\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_Position\\x20=\\x20vec4(position.x,\\x20position.y,\\x200.0,\\x201.0);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20pp\\x20=\\x20position.z;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20colorOut\\x20=\\x20color;\\x0a\\x20\\x20\\x20\\x20}\\x0a','FT_Init_FreeType','decodeProcess','clearBufferfi','bPTZSelected','mainCanvasID','Bbx_Too_Big','fScale','getSeconds','Invalid_CharMap_Format','264\\x20hard\\x20decoder','symbol','Invalid_Frame_Operation','JSPlayM4_ResetEnd','week','Too_Many_Function_Defs','nMaxFillBlockTriNum','bInited','displayWidth','Missing_Bitmap','nDrawFontHeight','SetPitch','deleteBuffer','RGBA','pRenderParam','SetRoll','VERTEX_SHADER','288yOchCO','regionSx','stCycleParam','PEDANTIC','init','Invalid_Face_Handle','GetCropBMP','milliseconds','Too_Many_Drivers','Invalid_Stream_Read','configured','fRXRight','DisplayFrame','emEffect','pfuncCBOut','cropLeft','Unlisted_Object','HardDecodeError','nBlockShaderProgram','Could_Not_Find_Context','Raster_Negative_Height','Invalid_Library_Handle','Cannot_Open_Stream','getShaderInfoLog','ascender','nValidSubPort','fLeft','uniformMatrix4fv','Invalid_CharMap_Handle','pRectPoints','fValue','FT_Get_Kerning','method','oVideoHandle','GetPitch','Invalid_Glyph_Format','deleteProgram','height','GetScale','SR_AddSubPort','GetFishPTZFloor','BLEND','FreetypeWasmLoadedCB','fRadiusTop','_SetPlaySpeed','Invalid_Glyph_Index','23456990eUZFpy','context','decoderObj','onload','GetPanoPTZFloor','regionNum','_GetSlowSpeed','close','Locations_Missing','frameSize','max_advance_width','JSPlayM4_Play','fAlpha','suspendedYield','FEC_ResetCorrectType','LIGHT','SetStreamEnd','SR_SetAntialias','upDateType','isGeneratorFunction','TEXTURE_WRAP_S','row','SR_SetPTZColor','fPTZParam','GetPTZPoints','bAntialias','SR_OK','mainFECCorrect','_bind','afterLoc','clearContext','postMessage','root','GetDisplayEffect','Invalid_Table','Render_Glyph','Set_Char_Size','displayFrameInfo','SR_Destroy','processData1','TEXTURE_MAG_FILTER','sab','FEC_SetViewParam','SetCanvasSize','\\x0avarying\\x20highp\\x20vec2\\x20v_uv;\\x0auniform\\x20sampler2D\\x20texture;\\x0avoid\\x20main(void)\\x20{\\x0a\\x20\\x20gl_FragColor\\x20=\\x20texture2D(texture,\\x20v_uv);\\x0a}\\x0a','createShader','paraError','canvas\\x20width:','nPTZRectNum','complete','4516myHmdm','SR_DE_FISH_PTZ_WALL','pCylinderTex','Invalid_Composite','SR_DE_FISH_PTZ_FLOOR','player','bRecreateTex','reportError','bBackground','ReleaseDisplay','SR_SetViewParam','SR_DE_FISH_SPHERE','NO_AUTOHINT','FT_Render_Glyph','codedHeight','Load_Char','depthFunc','color:red','Too_Many_Hints','getMinutes','configure','Corrupted_Font_Glyphs','_destroyPlayCtrl','pUserOut','enDisplayEffect','ComputePTZPoints','formatVideoDecoderConfigure','frameRate','NORMAL','%c\\x2020230516\\x20hardDecoder\\x20not\\x20support\\x20correctType:%d','SR_DE_FISH_CYLINDER_CEILING','SR_DE_FISH_PLANET','stFishEyeManager','getProgramInfoLog','FEC_Enable','prev','GetPanoPTZWall','SR_ERR_CANVAS','script','respondFrameInfoCB','getHours','UpdateCircyeParam','InitFECParam','regeneratorRuntime','Invalid_Stream_Seek','webgl','FT_Get_Char_Index','fRY2','texture','fNear','SR_SetFishParam','length','FLOAT','GetPlaceType','Post_Table_Missing','SR_DE_FISH_PANORAMA_CEILING_180','apply','NO_SCALE','nCylinderTexSize','SR_DE_FISH_CYLINDER_SPLIT_FLOOR','getImageBMP','__esModule','glLineClrBuffer','async','bInit','webgl\\x20render','next','FECShowMode','frameDisplayWidth','GetRenderParam','bitmap','arrayBuffer','\\x0a\\x20\\x20\\x20\\x20attribute\\x20vec4\\x20\\x20position;\\x0a\\x20\\x20\\x20\\x20attribute\\x20vec4\\x20\\x20texCoord;\\x0a\\x20\\x20\\x20\\x20varying\\x20vec4\\x20\\x20pp;\\x20\\x0a\\x0a\\x20\\x20\\x20\\x20void\\x20main()\\x0a\\x20\\x20\\x20\\x20{\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_Position.x\\x20\\x20=\\x20position.x;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_Position.y\\x20\\x20=\\x20position.y;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_Position.z\\x20\\x20=\\x200.1;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_Position.w\\x20\\x20=\\x201.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20pp\\x20=\\x20texCoord;\\x20\\x0a\\x20\\x20\\x20\\x20}\\x0a','JSPlayM4_SetDecodeEngine','Cannot_Render_Glyph','firstFrame','interlace','glBlockClrBuffer','type','fPTZZoom','hardDecode\\x20reportError:','pstFontColor','GetPointPano2FishFloor','SR_GetFishParam','\\x0aattribute\\x20vec3\\x20xy;\\x0aattribute\\x20vec2\\x20uv;\\x0avarying\\x20highp\\x20vec2\\x20v_uv;\\x0avoid\\x20main(void)\\x20{\\x0a\\x20\\x20gl_Position\\x20=\\x20vec4(xy,\\x201.0);\\x0a\\x20\\x20//\\x20Map\\x20vertex\\x20coordinates\\x20(-1\\x20to\\x20+1)\\x20to\\x20UV\\x20coordinates\\x20(0\\x20to\\x201).\\x0a\\x20\\x20//\\x20UV\\x20coordinates\\x20are\\x20Y-flipped\\x20relative\\x20to\\x20vertex\\x20coordinates.\\x0a\\x20\\x20//v_uv\\x20=\\x20vec2((1.0\\x20+\\x20xy.x)\\x20/\\x202.0,\\x20(1.0\\x20-\\x20xy.y)\\x20/\\x202.0);\\x0a\\x20\\x20v_uv\\x20=\\x20uv;\\x0a}\\x0a','bBackGround','log','__proto__','nSurfaceTexture','5769620COWrYT','LINEAR_DESIGN','FEC_ERR_ENABLED','text/javascript','FECDelPort','resolve','push','ctx','scale(1)','pstFontBGLines','style_name','GetView','GetPointFish2PanoCeiling','SetPTZDisplayMode','ComputeAngleHorizontal','TRIANGLES','createProgram','fVAngleSin','jpeg','drawArrays','decoderCurStatus','SetPTZColor','displayFrameInfoCB','vertexPosBuffer','bValue','FECDisable','[object\\x20Generator]','prototype','GetPTZPort','SetDecodeFrameType','Library:init\\x20','slow','FT_Load_Char','nPanoPTZPointNum','nSubPort','nSemiSpherePosSize','resultName','underflow','texturePosBuffer','FreetypeLibHandle','FECEnable','nMaxPointNum','ready_frames','fill','key','FEC_SetDisplayRegion','prefer-software','COLOR_BUFFER_BIT','SR_GetCanvasSize','GetPointPano2FishWall','underline_position','subarray','fPTZPositionY','default','disable','Module','Invalid_Slot_Handle','SR_SetCallBack','fWideScanOffset','Invalid_Frame_Read','Pause','startTime','TEXTURE_MIN_FILTER','FORCE_AUTOHINT','matProj','Stack_Underflow','body','GetPointPano2FishCeiling','NONE','>>>JS\\x2001\\x20destroy\\x20decoderObj','frameNum','IsPortAllocated','nFontWidth','lastDate','bbox','getCropImageBMP','fHAngleSin','sCanvasID','experimental-webgl','emCorrectType','abs','tryEntries','Too_Few_Arguments','videoShaderProgram','354880YIvBTM','GetFishPTZCeiling','hardwareAcceleration','UpdatePTZPosition','pFishParam','vecUp','LCD','GeneratorFunction','onlySupportedWebGL1','Library:done\\x20','Missing_Fontboundingbox_Field','nCut','GetPTZColor','matView','fRX1','BITMAP_METRICS_ONLY','preTimerStamp','frameBuffers','needRect','SR_ERR_FREETYPE_INIT','nDisplayEffect','getAttribLocation','rval','dispatchException','sin','SR_ERR_PARAM','Too_Many_Extensions','nLineWidth','regionSh','ComputeAngleVertical','SR_DE_FISH_PANORAMA_CEILING_360','nStreamEnd','LINEAR','COMPOSITE','sent','FEC_GetPort','GetTimerWalk','Name_Table_Missing','SetYaw','num_glyphs','regeneratorRuntime\\x20=\\x20r','InitDisplay','regionSw','bInitFreetype','nPointNum','initDecoder','getShaderParameter','Missing_Property','splice','shift','nOriPTZPointNum','throw','style','\\x0aprecision\\x20mediump\\x20float;\\x0avarying\\x20vec2\\x20v_uv;\\x0auniform\\x20sampler2D\\x20texture;\\x20\\x20\\x0auniform\\x20float\\x20fHAngleCos;\\x20\\x20\\x0auniform\\x20float\\x20fHAngleSin;\\x20\\x0auniform\\x20float\\x20fVAngleCos;\\x20\\x20\\x0auniform\\x20float\\x20fVAngleSin;\\x20\\x20\\x0auniform\\x20float\\x20fZoom;\\x0a\\x0auniform\\x20float\\x20fRX1;\\x20\\x0auniform\\x20float\\x20fRX2;\\x20\\x0auniform\\x20float\\x20fRY1;\\x20\\x0auniform\\x20float\\x20fRY2;\\x20\\x0a\\x0avoid\\x20main()\\x0a{\\x0a\\x20\\x20\\x20\\x20float\\x20r,g,b;\\x0a\\x0a\\x20\\x20\\x20\\x20vec4\\x20origin1;\\x0a\\x20\\x20\\x20\\x20vec4\\x20origin2;\\x0a\\x20\\x20\\x20\\x20vec4\\x20result;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20z1;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20z2;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20dnew;\\x0a\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20w;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20h;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20fCenterX;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20fCenterY;\\x0a\\x20\\x20\\x20\\x20float\\x20\\x20fRadius;\\x0a\\x20\\x20\\x20\\x20w\\x20=\\x201.0;\\x0a\\x20\\x20\\x20\\x20h\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x20(fRY2\\x20-\\x20fRY1);\\x0a\\x20\\x20\\x20\\x20fCenterX\\x20=\\x20(fRX1\\x20+\\x20fRX2)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20\\x20///<Բ��ʵ������\\x0a\\x20\\x20\\x20\\x20fCenterY\\x20=\\x20(fRY1\\x20+\\x20fRY2)\\x20/\\x202.0\\x20*\\x20h;\\x0a\\x20\\x20\\x20\\x20fRadius\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20\\x20///<�뾶ʵ�ʳ���\\x0a\\x20\\x20\\x20\\x20origin1.s\\x20=\\x20v_uv.s\\x20-\\x200.5;\\x0a\\x20\\x20\\x20\\x20origin1.t\\x20=\\x20v_uv.t\\x20-\\x200.5;\\x0a\\x20\\x20\\x20\\x20z1\\x20=\\x20fZoom\\x20;\\x0a\\x0a\\x20\\x20\\x20\\x20origin2.s\\x20=\\x20origin1.s\\x20;\\x0a\\x20\\x20\\x20\\x20origin2.t\\x20=\\x20(origin1.t*fVAngleCos\\x20+\\x20z1*fVAngleSin);\\x0a\\x20\\x20\\x20\\x20z2\\x20=\\x20z1*fVAngleCos\\x20-\\x20origin1.t*fVAngleSin;\\x0a\\x0a\\x20\\x20\\x20\\x20dnew\\x20=\\x20sqrt(origin2.s*origin2.s\\x20+\\x20origin2.t*origin2.t)\\x20;\\x0a\\x20\\x20\\x20\\x20float\\x20d\\x20=\\x20sqrt(origin2.s*origin2.s\\x20+\\x20origin2.t*origin2.t\\x20+\\x20z2*z2);\\x0a\\x20\\x20\\x20\\x20float\\x20theta\\x20=\\x20asin(dnew/d);\\x0a\\x20\\x20\\x20\\x20float\\x20tmp\\x20=\\x20theta\\x20/\\x201.5707963\\x20*\\x200.5;\\x0a\\x20\\x20\\x20\\x20origin2.s\\x20=\\x20tmp*origin2.s\\x20/\\x20dnew\\x20;\\x0a\\x20\\x20\\x20\\x20origin2.t\\x20=\\x20tmp*origin2.t\\x20/\\x20dnew\\x20;\\x0a\\x0a\\x20\\x20\\x20\\x20result.s\\x20=\\x20((origin2.s*fHAngleCos\\x20-\\x20origin2.t*fHAngleSin)*fRadius*2.0+fCenterX)/w;\\x0a\\x20\\x20\\x20\\x20result.t\\x20=\\x20((origin2.s*fHAngleSin\\x20+\\x20origin2.t*fHAngleCos)*fRadius*2.0+fCenterY)/h;\\x0a\\x0a\\x20\\x20\\x20\\x20r\\x20=\\x20texture2D(texture,\\x20result.st).r;\\x20\\x0a\\x20\\x20\\x20\\x20g\\x20=\\x20texture2D(texture,\\x20result.st).g;\\x20\\x0a\\x20\\x20\\x20\\x20b\\x20=\\x20texture2D(texture,\\x20result.st).b;\\x20\\x0a\\x20\\x20\\x20\\x20if(result.s\\x20>\\x201.0\\x20||\\x20result.t\\x20>\\x201.0\\x20||\\x20result.s\\x20<\\x200.0\\x20||\\x20result.t\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x200.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20vec4(r\\x20,g\\x20,b\\x20,\\x201.0);\\x0a}\\x20\\x0a','GetPanoPTZCeiling','%c\\x20reset\\x20hard\\x20decoder','SR_GetPTZColor','executing','SR_DE_FISH_ORIGINAL','values','_invoke','fAspect','188hshwen','pfuncCBIn','generateMipmap','UNSIGNED_BYTE','max_advance_height','pOriPTZPoints','FEC_GetViewParam','DrawPTZLines','mark','ONE_MINUS_SRC_ALPHA','pLineClrVertices','VERTICAL_LAYOUT','state','SR_SetPTZPort','your\\x20browser\\x20does\\x20not\\x20support\\x202d\\x20render','exports','CULL_FACE','Missing_Startfont_Field','concatenate','Missing_Size_Field','Get_Kerning','pFillBlockClrVertices','Nested_Frame_Access','renderCurStatus','completed','hypot','Corrupted_Font_Header','isKeyFrame','Lower_Module_Version','FT_Library_Version','hasOwnProperty','forEach','displayRunning','fRadiusLeft','fTop','nAlpha','No_Unicode_Glyph_Name','getPrototypeOf','finallyLoc','RenderFrame','Library_Version','pstBGColor','pUserIn','Invalid_Stream_Skip',',height:','output','defineProperty','timerReset','toString','DrawFillBlock','GetProj','NO_RECURSE','decodeQueueSize','Divide_By_Zero','GetFishPTZWALL','fHAngleCos','nFishParamType','Invalid_Pixel_Size','scale(0.2)','blendFunc','timestamp','fCosH','onmessage','SR_DrawLinesEx','cropBottom','src','pString','emPlaceType','return','SetScale','Code_Overflow','SR_DE_FISH_ARCSPHERE_VERTICAL_WALL','nWndPort','uniform1f','codecType','fBeta','decoderOutSuccess','SRC_ALPHA','GetFECPort',',frameRate:','Done_Face','getCropImageJPEG','charCodeAt','bitmap_top','%cswitch\\x20hardVideoDecoder\\x20to\\x20softVideoDecoder','texImage2D','fRXLeft','ENDF_In_Exec_Stream','canvasID','FEC_SetWnd','Invalid_Reference','drawImage',',state:','GetPTZRectange','GetCanvasSize','2d\\x20render','useProgram','GetWndPort','clearFECCanvas','slice','UpdateRangeParam','SR_Draw','underline_thickness','linkProgram','delegate','Invalid_Version','pFishParamManager','BITMAP','undefined','Table_Missing','stop\\x20failed\\x20','loadWasm','Stack_Overflow','fVAngleCos','iterator','bUsed','glLineTexBuffer','ADVANCE_ONLY','nFECPort','clearDecoderObjBuffer','CMap_Table_Missing','curTime','nFontHeight','fRotateY','@@asyncIterator','Missing_Chars_Field','pFontColorBuffer','pLinePosVertices','4zRxQyx','FECSetViewParam','COMPILE_STATUS','SR_GetViewParam','IsInImage','only\\x20support\\x20webgl1','streamOpenMode','texParameteri','getImageType','Nested_DEFS','getContext','CompileProgram','FT_Done_FreeType','MONO','getUniformLocation','SR_DE_FISH_PTZ_CEILING','SetDisplayBuf','shaderSource','cropTop','fRYTop','bFECHandle','Init_FreeType','\\x0a\\x20\\x20\\x20\\x20precision\\x20highp\\x20float;\\x0a\\x20\\x20\\x20\\x20varying\\x20vec2\\x20v_uv;\\x0a\\x20\\x20\\x20\\x20uniform\\x20sampler2D\\x20texture;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fAngle;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRX1;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRX2;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRY1;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRY2;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20void\\x20main()\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20r,g,b;\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20origin;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20result;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20thetabase;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20d;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20w;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fCenterX;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fCenterY;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fRadius;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20w\\x20=\\x201.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20h\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x20(fRY2\\x20-\\x20fRY1);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fCenterX\\x20=\\x20(fRX1\\x20+\\x20fRX2)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20///<圆心实际坐标\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fCenterY\\x20=\\x20(fRY1\\x20+\\x20fRY2)\\x20/\\x202.0\\x20*\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fRadius\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20///<半径实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20fMax\\x20=\\x200.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX2\\x20>\\x201.0\\x20||\\x20fRY2\\x20>\\x201.0\\x20||\\x20fRX1\\x20<\\x200.0\\x20||\\x20fRY1\\x20<\\x200.0)\\x20///<如果不是一个完整的圆\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX1\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20-fRX1\\x20*\\x20w;\\x20///<左边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX2\\x20>\\x201.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20(fRX2\\x20-\\x201.0)\\x20*\\x20w;\\x20///<右边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRY1\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20-fRY1\\x20*\\x20h;\\x20///<上边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRY2\\x20>\\x201.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20(fRY2\\x20-\\x201.0)\\x20*\\x20h;\\x20///<下边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20topCut\\x20=\\x20fMax\\x20/\\x20fRadius;\\x20\\x20\\x20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20bottomCut\\x20=\\x200.8;\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20///<为矫正效果,最终矫正图固定切掉下面一部分\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20origin.s\\x20=\\x201.0\\x20-\\x20v_uv.s;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20origin.t\\x20=\\x20(bottomCut\\x20-\\x20topCut)\\x20*\\x20(1.0\\x20-\\x20v_uv.t)\\x20+\\x20topCut;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20thetabase\\x20=\\x206.2831853\\x20*\\x20origin.s\\x20+\\x20fAngle;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20d\\x20=\\x20fRadius\\x20*\\x20(1.0\\x20-\\x20origin.t);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20result.s\\x20=\\x20(fCenterX\\x20-\\x20d*sin(thetabase))\\x20/\\x20w;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20result.t\\x20=\\x20(fCenterY\\x20+\\x20d*cos(thetabase))\\x20/\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x20texture2D(texture,\\x20result.st).r;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x20texture2D(texture,\\x20result.st).g;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x20texture2D(texture,\\x20result.st).b;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(result.s\\x20>\\x201.0\\x20||\\x20result.t\\x20>\\x201.0\\x20||\\x20result.s\\x20<\\x200.0\\x20||\\x20result.t\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20vec4(r\\x20,g\\x20,b\\x20,\\x201.0);\\x0a\\x20\\x20\\x20\\x20}\\x0a','FEC_SetCanvasID','UpdateWideScanAngle','fCylinderHeight','constructor','pFontPath','streamEnd','units_per_EM','bitmap_left','renderEngine','asin','\\x0aprecision\\x20mediump\\x20float;\\x0avarying\\x20vec2\\x20v_uv;\\x0auniform\\x20sampler2D\\x20texture;\\x0auniform\\x20float\\x20fRX1;\\x0auniform\\x20float\\x20fRX2;\\x0auniform\\x20float\\x20fRY1;\\x0auniform\\x20float\\x20fRY2;\\x0auniform\\x20int\\x20bBlack;\\x20\\x0auniform\\x20int\\x20bCut;\\x0a\\x0avoid\\x20main()\\x0a{\\x20\\x0a\\x09float\\x20r,g,b;\\x0a\\x09vec4\\x20origin;\\x0a\\x0a\\x09float\\x20\\x20w;\\x0a\\x09float\\x20\\x20h;\\x0a\\x09float\\x20\\x20fCenterX;\\x0a\\x09float\\x20\\x20fCenterY;\\x0a\\x09float\\x20\\x20fRadius;\\x0a\\x09w\\x20=\\x201.0;\\x0a\\x09h\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x20(fRY2\\x20-\\x20fRY1);\\x0a\\x09fCenterX\\x20=\\x20(fRX1\\x20+\\x20fRX2)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20///<圆心实际坐标\\x0a\\x09fCenterY\\x20=\\x20(fRY1\\x20+\\x20fRY2)\\x20/\\x202.0\\x20*\\x20h;\\x0a\\x09fRadius\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20\\x20///<半径实际长度\\x0a\\x09float\\x20\\x20leftCut\\x20=\\x200.0;\\x0a\\x09float\\x20\\x20rightCut\\x20=\\x201.0;\\x0a\\x09float\\x20\\x20topCut\\x20=\\x200.0;\\x0a\\x09float\\x20\\x20bottomCut\\x20=\\x201.0;\\x0a\\x09if(bCut\\x20==\\x201)\\x0a\\x09{\\x0a\\x09\\x09if(fRX1\\x20>\\x200.0)\\x0a\\x09\\x09{\\x0a\\x09\\x09\\x09leftCut\\x20=\\x20fRX1;\\x0a\\x09\\x09}\\x0a\\x09\\x09if(fRX2\\x20<\\x201.0)\\x0a\\x09\\x09{\\x0a\\x09\\x09\\x09rightCut\\x20=\\x20fRX2;\\x0a\\x09\\x09}\\x0a\\x09\\x09if(fRY1\\x20>\\x200.0)\\x0a\\x09\\x09{\\x0a\\x09\\x09\\x09topCut\\x20=\\x20fRY1;\\x0a\\x09\\x09}\\x0a\\x09\\x09if(fRY2\\x20<\\x201.0)\\x0a\\x09\\x09{\\x0a\\x09\\x09\\x09bottomCut\\x20=\\x20fRY2;\\x0a\\x09\\x09}\\x0a\\x09}\\x0a\\x09origin.s\\x20=\\x20v_uv.s\\x20*\\x20(rightCut-leftCut)\\x20+\\x20leftCut;\\x0a\\x09origin.t\\x20=\\x20v_uv.t\\x20*\\x20(bottomCut-topCut)\\x20+\\x20topCut;\\x0a\\x0a\\x09r\\x20=\\x20texture2D(texture,\\x20origin.st).r;\\x20\\x0a\\x09g\\x20=\\x20texture2D(texture,\\x20origin.st).g;\\x20\\x0a\\x09b\\x20=\\x20texture2D(texture,\\x20origin.st).b;\\x20\\x0a\\x0a\\x09if(bBlack\\x20==\\x201)\\x0a\\x09{\\x0a\\x09\\x09float\\x20tmpX,\\x20tmpY;\\x0a\\x09\\x09tmpX\\x20=\\x20origin.s\\x20*\\x20w;\\x20\\x0a\\x09\\x09tmpY\\x20=\\x20origin.t\\x20*\\x20h;\\x20\\x0a\\x09\\x09float\\x20d2\\x20=\\x20(tmpX-fCenterX)*(tmpX-fCenterX)\\x20+\\x20(tmpY-fCenterY)*(tmpY-fCenterY);\\x0a\\x09\\x09if(d2\\x20>\\x20fRadius*fRadius)\\x0a\\x09\\x09{\\x0a\\x09\\x09\\x09r\\x20=\\x200.0;\\x20\\x0a\\x09\\x09\\x09g\\x20=\\x200.0;\\x20\\x0a\\x09\\x09\\x09b\\x20=\\x200.0;\\x20\\x0a\\x09\\x09}\\x0a\\x09}\\x0a\\x0a\\x09gl_FragColor\\x20=\\x20vec4(r\\x20,g\\x20,b\\x20,\\x201.0);\\x0a}\\x0a','Execution_Too_Long','processData','uniform1i','inputData','DEPTH_BUFFER_BIT','SR_ERR_CALL_ORDER','Error_String','createElement','fRight','SR_DE_FISH_PANARAMA_FLOOR_180','hour','set','Invalid_Vert_Metrics','pSemiSphereTex','%c\\x202D\\x20render\\x20not\\x20support\\x20FEC\\x20correct','Invalid_File_Format','timeWalk','The\\x20iterator\\x20does\\x20not\\x20provide\\x20a\\x20\\x27throw\\x27\\x20method','FFCallBackFun','rows','codec','_GetImage2','correctType','pCamera','face_flags','SR_DE_FISH_SEMISPHERE','decoderObjNeedReset','_sent','enableVertexAttribArray','SR_SetPTZDisplayMode','viewport','fRYBottom','pSemiSpherePos','Unknown_File_Format','RENDER','9465953NilOJJ','fSinH','Invalid_Handle','0\\x200','nWndHeight','configurable','pstPoints','ARRAY_BUFFER','SR_DE_FISH_PANORAMA_FLOOR_360','nFontColorTexture','Ignore','Missing_Startchar_Field','attachShader','Invalid_Character_Code','getImageJPEG','rawDataFrameInfo','cropRight','normal','Array_Too_Large','deleteTexture','descender','stPTZParam','IsPTZSelected','chooseFrame','compileShader','bufferSubData','>>>VideoRender.js\\x20SR_SetRenderState\\x20failed\\x20ret：%08x\\x0a','IGNORE_GLOBAL_ADVANCE_WIDTH','color:\\x20red','end','COLOR','unconfigured','family_name','TEXTURE0','deleteShader','bindTexture','call','nCylinderPosNum','initTimer','fAngle','LCD_V','codedWidth','bmp','Outline_Decompose','oVideoRenderHandle','getDate','nFontBGNum','Syntax_Error','curTimeStamp','_resetDecoder','decode','stPTZColor','year','Unimplemented_Feature','SetFishParam','bCut','catchLoc','fRadiusRight','FTLibrary','Invalid_Offset','resetTimer','format','hvc1.1.6.L123.00','vecCenter','FreeFECPort','NO_HINTING','SR_SetFishParamManager','bIsCapturing','InitColorList','\\x0a\\x20\\x20\\x20\\x20attribute\\x20vec4\\x20xy;\\x0a\\x20\\x20\\x20\\x20attribute\\x20vec2\\x20uv;\\x0a\\x20\\x20\\x20\\x20varying\\x20highp\\x20vec2\\x20v_uv;\\x0a\\x0a\\x20\\x20\\x20\\x20uniform\\x20mat4\\x20matProj;\\x0a\\x20\\x20\\x20\\x20uniform\\x20mat4\\x20matView;\\x0a\\x20\\x20\\x20\\x20void\\x20main(void)\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_Position\\x20=\\x20matProj\\x20*\\x20matView\\x20*\\x20xy;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20v_uv\\x20=\\x20uv;\\x0a\\x20\\x20\\x20\\x20}\\x0a','Glyph_Too_Big','nPTZDisplayMode','break','bind','vecEye','fCylinderRadius','fBottom','STATIC_DRAW','FT_Error_String','SR_DE_FISH_PANORAMA_WALL','createBuffer','reset','Too_Many_Caches','nSemiSpherePosNum','_resetRenderTimer','postImageData','tan','nPlaceType','fFar','Horiz_Header_Missing','Fragment\\x20shader\\x20failed\\x20to\\x20compile:\\x20','getProgramParameter','playSpeed:','UpdateCamera','cos','fRY1','ComputeLinePoint','FT_Done_Face','texCoord','nLineTriangleNum','GetRoll','TEXTURE_2D','preTimeStamp','CreateSemiSphere','SetDisplayRect','@@toStringTag','Done_FreeType','FECGetViewParam','appendChild','Invalid_PPem','needReset','PLOTTER','Missing_Encoding_Field','color','Cannot_Open_Resource','curFrameInfo','DEPTH_STENCIL','FEC_SetParam','FECGetPort','\\x0a\\x20\\x20\\x20\\x20precision\\x20highp\\x20float;\\x0a\\x20\\x20\\x20\\x20varying\\x20vec2\\x20v_uv;\\x0a\\x20\\x20\\x20\\x20uniform\\x20sampler2D\\x20texture;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fAngle;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRX1;\\x20\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRX2;\\x20\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRY1;\\x20\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRY2;\\x20\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20void\\x20main()\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20r,g,b;\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20origin;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20result;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20thetabase;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20d;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20newpp;\\x20\\x20///<180矫正pp纹理坐标的点对应360矫正newpp纹理坐标对应的点\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if\\x20(v_uv.t\\x20\\x20<=\\x200.5)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20newpp.s\\x20=\\x20\\x20v_uv.s\\x20/\\x202.0\\x20+\\x200.5;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20newpp.t\\x20=\\x20\\x20v_uv.t\\x20*\\x202.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20else\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20newpp.s\\x20=\\x20\\x20v_uv.s\\x20/\\x202.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20newpp.t\\x20=\\x20\\x20(v_uv.t\\x20-\\x200.5)\\x20*\\x202.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20w;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fCenterX;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fCenterY;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fRadius;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20w\\x20=\\x201.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20h\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x20(fRY2\\x20-\\x20fRY1);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fCenterX\\x20=\\x20(fRX1\\x20+\\x20fRX2)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20\\x20///<圆心实际坐标\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fCenterY\\x20=\\x20(fRY1\\x20+\\x20fRY2)\\x20/\\x202.0\\x20*\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fRadius\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20\\x20///<半径实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20fMax\\x20=\\x200.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX2\\x20>\\x201.0\\x20||\\x20fRY2\\x20>\\x201.0\\x20||\\x20fRX1\\x20<\\x200.0\\x20||\\x20fRY1\\x20<\\x200.0)\\x20///<如果不是一个完整的圆\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX1\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20-fRX1\\x20*\\x20w;\\x20///<左边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX2\\x20>\\x201.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20(fRX2\\x20-\\x201.0)\\x20*\\x20w;\\x20///<右边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRY1\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20-fRY1\\x20*\\x20h;\\x20///<上边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRY2\\x20>\\x201.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20(fRY2\\x20-\\x201.0)\\x20*\\x20h;\\x20///<下边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20topCut\\x20=\\x20fMax\\x20/\\x20fRadius;\\x20\\x20\\x20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20bottomCut\\x20=\\x200.8;\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20///<为矫正效果,最终矫正图固定切掉下面一部分\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20origin.s\\x20=\\x20newpp.s;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20origin.t\\x20=\\x20(bottomCut\\x20-\\x20topCut)\\x20*\\x20newpp.t\\x20+\\x20topCut;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20thetabase\\x20=\\x206.2831853\\x20*\\x20origin.s\\x20+\\x20fAngle;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20d\\x20=\\x20fRadius\\x20*\\x20(1.0\\x20-\\x20origin.t);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20result.s\\x20=\\x20(fCenterX\\x20-\\x20d*sin(thetabase))\\x20/\\x20w;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20result.t\\x20=\\x20(fCenterY\\x20+\\x20d*cos(thetabase))\\x20/\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x20texture2D(texture,\\x20result.st).r;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x20texture2D(texture,\\x20result.st).g;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x20texture2D(texture,\\x20result.st).b;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(result.s\\x20>\\x201.0\\x20||\\x20result.t\\x20>\\x201.0\\x20||\\x20result.s\\x20<\\x200.0\\x20||\\x20result.t\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x200.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x200.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x200.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20vec4(r\\x20,g\\x20,b\\x20,\\x201.0);\\x0a\\x20\\x20\\x20\\x20}\\x0a','SBITS_ONLY','avc1.','b3DPort','FRAGMENT_SHADER','delta','LESS','nplaySpeed','FirstFrame','pstColor','SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL','width','fishSubPort','nPTZFragmentNum','CROP_BITMAP','needSetPreSoft','Hmtx_Table_Missing','SR_SetCanvasSize','subPortNum','Missing_Bbx_Field','keys','SR_DrawFont','timeStamp','SR_ERR_ALLOC_MEMORY','name','oRenderTimer','Invalid_CodeRange','nLineShaderProgram','_ConvertDisplayEffect','tryLoc','pop','glBlockPosBuffer','Invalid_Horiz_Metrics','Debug_OpCode','pstStartPos','FT_Outline_Decompose','\\x0a\\x20\\x20\\x20\\x20precision\\x20highp\\x20float;\\x0a\\x20\\x20\\x20\\x20varying\\x20vec2\\x20v_uv;\\x0a\\x20\\x20\\x20\\x20uniform\\x20sampler2D\\x20texture;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fAngle;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRX1;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRX2;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRY1;\\x0a\\x20\\x20\\x20\\x20uniform\\x20float\\x20fRY2;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20void\\x20main()\\x0a\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20r,g,b;\\x20\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20origin;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20vec4\\x20result;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20thetabase;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20d;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20w;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fCenterX;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fCenterY;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20\\x20fRadius;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20w\\x20=\\x201.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20h\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x20(fRY2\\x20-\\x20fRY1);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fCenterX\\x20=\\x20(fRX1\\x20+\\x20fRX2)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20///<圆心实际坐标\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fCenterY\\x20=\\x20(fRY1\\x20+\\x20fRY2)\\x20/\\x202.0\\x20*\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fRadius\\x20=\\x20(fRX2\\x20-\\x20fRX1)\\x20/\\x202.0\\x20*\\x20w;\\x20\\x20\\x20\\x20///<半径实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20fMax\\x20=\\x200.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX2\\x20>\\x201.0\\x20||\\x20fRY2\\x20>\\x201.0\\x20||\\x20fRX1\\x20<\\x200.0\\x20||\\x20fRY1\\x20<\\x200.0)\\x20///<如果不是一个完整的圆\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX1\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20-fRX1\\x20*\\x20w;\\x20///<左边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRX2\\x20>\\x201.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20(fRX2\\x20-\\x201.0)\\x20*\\x20w;\\x20///<右边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRY1\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20-fRY1\\x20*\\x20h;\\x20///<上边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(fRY2\\x20>\\x201.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20tmp\\x20=\\x20(fRY2\\x20-\\x201.0)\\x20*\\x20h;\\x20///<下边超出图像部分最大实际长度\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(tmp\\x20>\\x20fMax)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20fMax\\x20=\\x20tmp;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20topCut\\x20=\\x20fMax\\x20/\\x20fRadius;\\x20\\x20///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20float\\x20bottomCut\\x20=\\x200.8;\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20///<为矫正效果,最终矫正图固定切掉下面一部分\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20origin.s\\x20=\\x20v_uv.s;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20origin.t\\x20=\\x20(bottomCut\\x20-\\x20topCut)\\x20*\\x20v_uv.t\\x20+\\x20topCut;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20thetabase\\x20=\\x206.2831853\\x20*\\x20origin.s\\x20+\\x20fAngle;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20d\\x20=\\x20fRadius\\x20*\\x20(1.0\\x20-\\x20origin.t);\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20result.s\\x20=\\x20(fCenterX\\x20-\\x20d*sin(thetabase))\\x20/\\x20w;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20result.t\\x20=\\x20(fCenterY\\x20+\\x20d*cos(thetabase))\\x20/\\x20h;\\x0a\\x20\\x20\\x20\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x20texture2D(texture,\\x20result.st).r;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x20texture2D(texture,\\x20result.st).g;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x20texture2D(texture,\\x20result.st).b;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20if(result.s\\x20>\\x201.0\\x20||\\x20result.t\\x20>\\x201.0\\x20||\\x20result.s\\x20<\\x200.0\\x20||\\x20result.t\\x20<\\x200.0)\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20{\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20r\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20g\\x20=\\x200.0;\\x20\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20b\\x20=\\x200.0;\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20}\\x0a\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20gl_FragColor\\x20=\\x20vec4(r,\\x20g,\\x20b,\\x201.0);\\x0a\\x20\\x20\\x20\\x20}\\x0a','MONOCHROME','value','pFillBlockPosVertices','Invalid_Cache_Handle','SR_ERR_NOT_SUPPORT','Support\\x20Error:\\x20hard\\x20decoder\\x20only\\x20support\\x20264\\x20and\\x20265\\x20!!!','TransformPTZRangePoints','curFrameIsDisplay','nDrawFontWidth','SR_ERR_WEBGL_RESOURCE','GetCropJPEG','fRadiusBottom','FTFace','paint','FT_Set_Pixel_Size','wrap','OrderError','yuvLength','stPTZSelect','fTheta','data','then','__await','Init','placeType','Invalid_Post_Table_Format','displayName','fast','FECResetCorrectType','SetFov','SR_SetRenderState','SR_DE_FISH_PANORAMA_FLOOR_180','SR_DE_FISH_CYLINDER_FLOOR','fRX2','pPanoPTZPoints','NO_BITMAP','enumerable','nPTZFragmentNode','SetFar','frameDisplayHeight','buffer','SetCurStatus','>>>JS\\x2002\\x20destroy\\x20oVideoDecoder/oVideoRender','LINK_STATUS','TEXTURE_WRAP_T','GetPTZFragmentPoints','resetDecoder','needForward','Missing_Font_Field','fFov','pBasePTZPoints','baseTimeStamp','GetPointFish2PanoWall','GetJPEG','face_index','stFishParam','SR_DE_NULL','vertexAttribPointer','clear','pRender','nUpDateType','port','Invalid_Stream_Operation','nFontShaderProgram','Cannot\\x20call\\x20a\\x20class\\x20as\\x20a\\x20function','SetPTZPort','DEPTH_TEST','IsValidRadiusParam','day','enable','Invalid_Post_Table','function','fPTZPositionX','your\\x20browser\\x20does\\x20not\\x20support\\x20WebGL','1447476ftHFsH','waitIFrameTimestamp','oVideoDecoder'];a0_0xd9f6=function(){return _0x382391;};return a0_0xd9f6();}","LCD","rawDataFrameInfoBuffer","fast","log","nUser","additionDataBuffer","The iterator does not provide a 'throw' method","vertexPosBuffer","nDisplayEffect","UpdateCamera","reportError","fRadiusLeft","clearBufferfi",">>>>>yff>>> JSPlayM4_GetPort 1","JSPlayM4_SetDisplayCallBack","bindTexture","awrap","pstPoints","frameDisplayHeight","downloadAudioBeforeRenderData","fTop","JSPlayM4_SetFirstFrameCallBack","Invalid_CharMap_Format","getImageType","enable","close","SR_SetPTZDisplayMode","fill","JSPlayM4_GetVolume","ComputeAngleVertical","fRX2","_JSPlayM4_SyncToAudio","pCylinderPos",`
    attribute vec4 xy;
    attribute vec2 uv;
    varying highp vec2 v_uv;

    uniform mat4 matProj;
    uniform mat4 matView;
    void main(void) {
        gl_Position = matProj * matView * xy;
        v_uv = uv;
    }
`,">>>JS JSPlayM4_FEC_SetViewParam JSPlayM4_FEC_SetViewParam this.decodeEngine：","JSPlayM4_DisplayCallBack","SetYaw","BITMAP","PEDANTIC","abrupt","_JSPlayM4_GetFishEye2DParam","SetCanvasSize","JSPlayM4_SetRunTimeInfoCallBackEx","decoderOutSuccess","Divide_By_Zero","glyph","GetRoll","viewport","subarray","AudioBeforeDecode.data","sCanvasID","VERTEX_SHADER","Set_Char_Size","bAntialias","prefer-hardware","iFECCanvasIDLen","FECDelPort","mainFECCorrect","clonedCanvas","JSPlayM4_SyncToAudio","NoHIKHead","canvasWidth","SR_DE_FISH_CYLINDER_CEILING","inputdata malloc failed!!!","SR_ERR_FREETYPE_RESOURCE","addtionCallBackFun","bBlack","download","constructor","pCylinderTex","pJpegData","TEXTURE_MIN_FILTER","download 1 Before Decode AudioData FrameNum:","uniform1f","JSPlayM4_RunTimeInfoCallBack","SBITS_ONLY","hypot","regionSw","getElementById","resizedataURL","Invalid_Horiz_Metrics","iAudioResampleFrameNum","Module","Invalid_Stream_Read","nStreamEnd","splice","viii","interlace","transformOrigin","GetRangePoints","Invalid_Size_Handle","download 3 Before Render AudioData FrameNum:","day","JSPlayM4_IgnoreHeaderAudioDefine","style","iRatio_x","FECViewParamCB","SetDisplayRect","pString","_JSPlayM4_GetSDKVersion","fRY2","Nested_Frame_Access","JSPlayM4_GetSourceBufferRemain","SR_DE_FISH_CYLINDER_FLOOR","LINEAR","Vertex shader failed to compile: ","reverse","FFCallBackFun","3271NcoGeP","FTLibrary","SR_SetFishParam","safari","SR_DE_FISH_CYLINDER_SPLIT_CEILING","arrayBuffer","getAttribLocation","underline_position","SR_GetViewParam","rows","fRotateX","_JSPlayM4_StopSound","SR_SetCanvasSize","_JSPlayM4_SetResampleValue","TRIANGLE_FAN","IGNORE_GLOBAL_ADVANCE_WIDTH","_JSPlayM4_SetDecodeEngine","JSPlayM4_SetPrintLogFlag","JSPlayM4_GetPlayedTimeEx","pFishParamManager","SetPTZPort","fPTZZoom","timeStamp","IsPortAllocated","Stack_Overflow","iRatio_y","Init_FreeType","destroyDecoder","JSPlayM4_SetCanvasSize","ComputePTZPoints","bufferSubData","AsyncIterator","Missing_Startfont_Field","writable","GetFishParam","FECGetPort","_JSPlayM4_FEC_SetDisplayRegion","HEAPU8","runtimeCBFun","top","generateMipmap","fVAngleSin","bBackGround","hardwareAcceleration","postImageData","ADVANCE_ONLY","ComputeAngleHorizontal","upDateType","map","aInputDataBuffer","mark",">>>JS 02 destroy oVideoDecoder/oVideoRender","join","pBmpSizeData","Missing_Size_Field","_JSPlayM4_SetDisplayRegion","SampleRate","parentNode",",height:","decodeFrameType","descender","clonedCanvasParentNode","SR_DE_FISH_PANORAMA_FLOOR_360","fRXLeft","SR_DE_FISH_PTZ_FLOOR","units_per_EM","getPlayTimeCallBackFun","PLOTTER","afterLoc","JSPlayM4_FEC_SetParam",">>>>>yff>>>>> JSPlayM4_OpenStream 5:","needResetCanvasSize","pCamera","set","%c1>your browser is IE ,it does not support play without plugin","%cstart load Decoder.js time:","1018QPxUaK",`>>>VideoRender.js SR_SetRenderState failed ret：%08x
`,"jpegDataCallback","544210lIBlqT","inputDataBufferSize","startTime","%c FEC_ResetCorrectType error this canvas not play","fCylinderRadius","charCodeAt","Missing_Bitmap","setValue","bottom","_JSPlayM4_GetJPEG","_JSPlayM4_SetVolume","month","SetDisRegionRight","document","decoderObjNeedReset","SR_SetCallBack","DeInit","vecCenter",">>>JS OrderError","DrawFillBlock","exports","src","Invalid_Cache_Handle","startTimeStamp",",placeType:","sin","SetPitch","fishPort is 0 ,main canvas doesn't need call FEC_GetPort",",left:","fRight","displayName","init","regionSy","pLinePosVertices","processData","Invalid_Stream_Skip","length","displayHeight","_JSPlayM4_VideoDataToBMP","SR_ERR_WEBGL_RESOURCE","arg","Get_Char_Index","printfFlag","shaderSource","CULL_FACE","dispatchEvent","JSPlayM4_FEC_Disable","GetTimerWalk","switchDecodeFrame","Bad_Argument","FRAGMENT_SHADER","Blob","glLineClrBuffer","Invalid_Handle","_JSPlayM4_Fast","data:application/javascript,","fWideScanOffset","Invalid_Frame_Operation","bSupHardOrSoft","MSBlobBuilder","hasWebWorker","fRadiusBottom","nFontShaderProgram","SR_SetAntialias","Nested_DEFS","fRadiusTop","nplaySpeed","pstColor","Too_Many_Hints","SetAntialias","timestamp","nBlockShaderProgram","GetImage.","FECSetDisplayRegion","SR_DE_FISH_PANARAMA_FLOOR_180","resetDecoder","_JSPlayM4_FEC_SetWnd","Syntax_Error","texCoord","Name_Table_Missing","needWaitIFrame","GeneratorFunction","_JSPlayM4_SetDecCBStream","nFishParamType","_free",",canvasWidth:","iFECRatio_x","GetFishPTZFloor","Init","SR_SetFontPath","getSeconds","JSPlayM4_DecCallBack","key","bIsCapturing","JSPlayM4_SetPlayOrBackSwitchMode","FECEnable","_JSPlayM4_FEC_SetParam","fRadiusRight","curTime","TEXTURE_2D","bmpDownloadFlag","underline_thickness","value","JSPlayM4_ResetBuffer","SR_OK","GetBmp.bmp","getCropImageJPEG","dataLength","CLAMP_TO_EDGE","HardDecodeError","TEXTURE0","configured","aTotalBuffer","output","pFillBlockClrVertices",",inputSize:","firefox","preTimerStamp","nMaxPointNum","Invalid_CharMap_Handle","nLineWidth","depthFunc","completed","stCycleParam","GetPTZColor","SR_DE_FISH_ARCSPHERE_VERTICAL_WALL","FORCE_AUTOHINT","tan","DrawPTZLines","Missing_Font_Field","_stringToBytes","Invalid_PPem","iZoomNum","formatVideoDecoderConfigure","Get_Kerning","I420","_GetImage2","fPTZParam","Invalid_Glyph_Format","year","COMPILE_STATUS","GetPointPano2FishWall","GetWndPort",",top:","cropTop","JSPlayM4_AudioResampleCallBack","_JSPlayM4_GetFrameInfo","_JSPlayM4_SetDisplayCallBack","Execution_Too_Long","Cannot_Open_Stream","%c2>there will decode 265 by softDecoder","GetPTZRectange",`
    attribute vec3 position;
    attribute vec4   color;
    varying   float  pp;
    varying   vec4  colorOut;
    void main()
    {
        gl_Position = vec4(position.x, position.y, 0.0, 1.0);
        pp = position.z;
        colorOut = color;
    }
`,"name","_refresh","pFontColorBuffer","defineProperty","bPTZSelected",",upDateType:","respondFrameInfoCB","fScale","SR_ERR_PARAM","_JSPlayM4_SetANRParam","nOriPTZPointNum","Unknown_File_Format","bitmap_top","normal","IsOutofImage","color:red","SR_Draw","SetFov","fPTZY","BLEND","Glyph_Too_Big","GetFrameData","bWriteAudioResampleData","nPointNum","frameNum","bLoop","bRecreateAntia","fRotateY","_JSPlayM4_GetPort","FEC_SetParam","NONE","bbox","_JSPlayM4_SetDecodeFrameType","pRenderParam",`
    attribute vec4  position;
    attribute vec4  texCoord;
    varying vec4  pp; 

    void main()
    { 
        gl_Position.x  = position.x;
        gl_Position.y  = position.y;
        gl_Position.z  = 0.1;
        gl_Position.w  = 1.0;
        pp = texCoord; 
    }
`,"SR_DE_FISH_ORIGINAL","return","Too_Many_Extensions","_JSPlayM4_GetSourceBufferRemain","param is not number","JSPlayM4_SetDecodeEngine","HEAPF32","edge","copyTo",">>>JS left:","GetCurTime","Unimplemented_Feature","forEach","GetPointPano2FishFloor","SR_DrawLines","color: red","_JSPlayM4_GetBMP","SR_ERR_ALLOC_MEMORY","errorcode:","currentFishSubPort","getHours","JSPlayM4_AudioBeforeRenderCallBack","isConfigSupported","DisplayFrame","MAX","Code_Overflow","curFrameIsDisplay","oRenderTimer","then","0 0","prev","decodeWorker create success!","face_index","_getExplore","JSPlayM4_PlaySound","startWorker","SR_ERR_FREETYPE_INIT","codecType","TEXTURE_MAG_FILTER","_SetPlaySpeed","_JSPlayM4_OpenStream","Stack_Underflow","_JSPlayM4_FEC_SetViewParam","canvas width:","getMinutes","_destroyPlayCtrl","subPortNum","bufferData","IsInImage","download600RawData","week","SetPTZDisplayMode","_JSPlayM4_FreePort","attachShader","regeneratorRuntime",">>>JS JSPlayM4_FEC_SetWnd this.decodeEngine：","nPTZFragmentNum","getDate","Corrupted_Font_Glyphs","Invalid_Pixel_Size","fRY1","_JSPlayM4_SetRunTimeInfoCallBackEx","pPTZSetColor","FT_Get_Kerning","SharedArrayBuffer","InitCamera","keys","COLOR_BUFFER_BIT","timeWalk",">>>>>yff>>>>> JSPlayM4_OpenStream 2:",",hWnd:","Cannot_Render_Glyph","nCylinderTexSize","stPTZSelect","_JSPlayM4_SetDecodeThread","FECErrorCode","_JSPlayM4_GetCanvasSize","Error_String","GetRectPoints","useProgram","getShaderParameter","dataStrVersion",">>>JS JSPlayM4_FEC_DelPort this.decodeEngine：","texParameteri","bInited","bCullBack","experimental-webgl","FT_Set_Pixel_Size","_JSPlayM4_FEC_SetCanvasID",`
    varying lowp vec4 pp;
    uniform sampler2D texture;

    void main(void)
    {
        gl_FragColor = texture2D(texture, pp.st);
    }
`,"setPrototypeOf","GetPlayedTime","_JSPlayM4_SetSecretKey","_JSPlayM4_GetMpOffset","_JSPlayM4_SetSycGroup","JSPlayM4_Play","JSPlayM4_Fast","oVideoRender","texturePosBuffer","emEffect","replaceChild","output2","CalcPTZFragmentPoints","fCosH",">>>JS JSPlayM4_FEC_GetPort this.decodeEngine：","pFontPath","toBlob","GetJPEG","ReleaseDisplay","info","_GetImage","Missing_Encoding_Field","_JSPlayM4_IgnoreHeaderAudioDefine","_JSPlayM4_RenderPrivateData","SetAspect","FT_Done_FreeType","JSPlayM4_SetIFrameDecInterval","nSemiSpherePosNum","regionSx","GetRenderParam","style_flags","port","_JSPlayM4_OneByOne","NORMAL","nCylinderPosNum","GetPTZPoints","Invalid_File_Format","JSPlayM4_GetPort","JSPlayM4_SetDecCBStream","JSPlayM4_Stop","Invalid_Version","LCD_V","slice","fSinV","next","pFishParam","getShaderInfoLog","FEC_SetCanvasID","configurable","oJSPlayerObj","JudgeDisplayEffect","bCut","JSPlayM4_SetDecodeFrameType","offscreen","Invalid_Stream_Operation","JSPlayM4_SetGlobalBaseTime","blendFunc","SetFar","fRYBottom","JSPlayM4_FEC_SetViewParam","Missing_Property","bFECHandle","SetDisRegionLeft",`
    precision highp float;
    varying vec2 v_uv;
    uniform sampler2D texture;
    uniform float fAngle;
    uniform float fRX1;
    uniform float fRX2;
    uniform float fRY1;
    uniform float fRY2;
    
    void main()
    {
    
        float r,g,b; 
    
        vec4 origin;
        vec4 result;
        float  thetabase;
        float  d;
    
        float  w;
        float  h;
        float  fCenterX;
        float  fCenterY;
        float  fRadius;
        w = 1.0;
        h = (fRX2 - fRX1) / (fRY2 - fRY1);
        fCenterX = (fRX1 + fRX2) / 2.0 * w;    ///<圆心实际坐标
        fCenterY = (fRY1 + fRY2) / 2.0 * h;
        fRadius = (fRX2 - fRX1) / 2.0 * w;    ///<半径实际长度
        float fMax = 0.0;
        if(fRX2 > 1.0 || fRY2 > 1.0 || fRX1 < 0.0 || fRY1 < 0.0) ///<如果不是一个完整的圆
        {
            float tmp;
            if(fRX1 < 0.0)
            {
                tmp = -fRX1 * w; ///<左边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRX2 > 1.0)
            {
                tmp = (fRX2 - 1.0) * w; ///<右边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRY1 < 0.0)
            {
                tmp = -fRY1 * h; ///<上边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRY2 > 1.0)
            {
                tmp = (fRY2 - 1.0) * h; ///<下边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
        }
        float topCut = fMax / fRadius;  ///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切
        float bottomCut = 0.8;           ///<为矫正效果,最终矫正图固定切掉下面一部分
        origin.s = v_uv.s;
        origin.t = (bottomCut - topCut) * v_uv.t + topCut;
        thetabase = 6.2831853 * origin.s + fAngle;
        d = fRadius * (1.0 - origin.t);
        result.s = (fCenterX - d*sin(thetabase)) / w;
        result.t = (fCenterY + d*cos(thetabase)) / h;
    
        r = texture2D(texture, result.st).r;
        g = texture2D(texture, result.st).g;
        b = texture2D(texture, result.st).b;
        if(result.s > 1.0 || result.t > 1.0 || result.s < 0.0 || result.t < 0.0)
        {
            r = 0.0; 
            g = 0.0; 
            b = 0.0;
        }
        gl_FragColor = vec4(r, g, b, 1.0);
    }
`,"mainCanvasID","FEC_DelPort",",bottom:","nCut","nFontColorTexture","JSPlayM4_FirstFrameCallBack","concatenate","TransformPTZRangePoints","JSPlayM4_GetMpOffset","yuvType","GetPlaceType","_JSPlayM4_Play","%cEnd load Decoder.js time:","loadWasm","Worker","SetDisRegionTop","stDisplayRect","hvc1.1.6.L123.00","ENDF_In_Exec_Stream","JSPlayM4_GetRawData","RENDER","fFov","FT_Done_Face","_resetDecoder","createShader","SR_AddSubPort","context","SRC_ALPHA","Invalid_Face_Handle","max_advance_height","NO_HINTING","_GetFastSpeed","canvas","data","Invalid_CodeRange","JSPlayM4_FEC_SetCanvasID","InitFECParam","inputDataBuffer","OneByOne",">>>>>yff>>>>> JSPlayM4_Play 2:","uniform1i","MONO","webgl render","stFECDisplayRect","fPTZX","Support Error: hard decoder only support 264 and 265 !!!","decodeWorker","JSPlayM4_GetAdditionData","chosenFrame","_JSPlayM4_SetAudioDisplayBuf","pSemiSpherePos","color","New_Memory_Face","pBasePTZPoints","isGeneratorFunction","GetPointFish2PanoCeiling","Invalid_Driver_Handle","Missing_Fontboundingbox_Field","Outline_Decompose","nDrawFontWidth","UpdateRangeParam","SetDisRegionBottom","getUniformLocation","wrap","Bbx_Too_Big","nextLoc","closed","Invalid_Stream_Handle","JSPlayM4_SetDemuxModel","Psdata","iDataType","stFishEyeManager","_JSPlayM4_Stop",">>>>>yff>>>>> JSPlayM4_Play 2 this.canvasID:",",right:","Fragment shader failed to compile: ",">>>>>yff>>>>> JSPlayM4_SetStreamOpenMode 1 mode:","drawArrays","JSPlayM4_GetFileTime","Locations_Missing","number","_JSPlayM4_GetVolume","NO_BITMAP","STATIC_DRAW","fRX1","63BKMzml","RGBA","SR_GetCanvasSize","fRXRight","_JSPlayM4_ResetEnd","ONE_MINUS_SRC_ALPHA","UpdateCircyeParam","_JSPlayM4_GetBufferValue","SR_SetRenderState","asin","ctx","fVAngleCos","bWriteAudioAfterDecode","completion","RTPRaw.data","@@asyncIterator","catchLoc",",canvasHeight:","imageYUV","Inline worker is not supported","Too_Many_Drivers","_JSPlayM4_SetResetCallBack","WasmPlayerV3.0 input over","second","pstBGColor","pstFontBGLines","firstFrame","SR_DelSubPort","your browser does not support 2d render","delta","try statement without catch or finally","nBmpDataSize","InitColorList","needForward","getProgramInfoLog","_JSPlayM4_GetCropBMP","frameType","text/javascript","IsPTZSelected","UpdateWideScanAngle","matView","transferControlToOffscreen","%c1>your chrome version %d does not support 264/265 hard Decoder,please update the latest version above chromeV107","format","bUsed","JSPlayM4 need reset","push","paint","frameRate","sab","JSPlayM4_Pause","JSPlayM4_SetDecCallBack","_JSPlayM4_SetFrameInfoCallBack","30306rqBNkZ","fBeta","DEFAULT","_JSPlayM4_GetLastError","JSPlayM4_GetBufferValue","end","Post_Table_Missing","TEXTURE_WRAP_S","%c1>your browser support 264/265 hard Decoder","onlySupportedWebGL1","bind","getCropImageBMP","Cropbmp","_JSPlayM4_FEC_Disable","b3DPort","szBasePath","emPlaceType","JSPlayM4_FEC_SetBackCilling","JSPlayM4_InputRawData","fHAngleCos","fPTZPositionX","pBmpData","nAlpha","FEC_SetViewParam","GetPTZPort","SR_DE_FISH_PTZ_WALL","SetScale","Cannot_Open_Resource","hasThread","GetView","Missing_Chars_Field","bSupHardDecHEVC","%c1>your chrome version %d does not support 265 hard Decoder,please update the latest version above chromeV107","bBackground","GetFishPTZCeiling","JSPlayM4_AudioBeforeDecodeCallBack","playSpeed:","HEAP16","FT_Outline_Decompose","Could_Not_Find_Context","needRect","SR_DE_FISH_SEMISPHERE","undefined","FEC_GetPort","Invalid_Character_Code","glLinePosBuffer","FEC_Enable","audioAfDecOUTBuffer","COMPUTE_METRICS","SR_DE_FISH_PANORAMA_WALL","fishPort is 0 ,main canvas doesn't need call FEC_DelPort","FEC_SetBackCilling","getContext","OUTLINE","bRecreateTex","GetPanoPTZWall","fCosV","removeChild","decode","_JSPlayM4_GetPlayedTimeEx",">>>JS JSPlayM4_FEC_SetWnd hwnd error this.decodeEngine：","curFrameInfo","Invalid_Offset","_JSPlayM4_FEC_GetPort","bInit","Invalid_Glyph_Index",`
    varying  mediump float pp;
    varying  lowp vec4  colorOut;
    void main()
    {
        gl_FragColor = colorOut;
        mediump float fx = abs(pp);
        if (fx > 0.2)
        { 
            gl_FragColor.a = colorOut.a*(1.25 - 1.25*fx);
        } 
    } 
`,"JSPlayM4_FEC_DelPort","state","nMaxFillBlockTriNum","HEAP32","pJPEGSizeData","hevcDecodeEngine","nBasePTZPointNum","FTFace","bindBuffer","GetCropJPEG.jpeg","SR_DE_FISH_SPHERE","SetDisplayBuf","waitIFrameTimestamp","isize","Raster_Negative_Height","body","position","SetDisplayRegion","downloadFlag","JSPlayM4_SetDecodeThread"," JSPlayM4_FEC_SetCanvasID canvasID is null :","SetFishParam","pcVideoManager","Lower_Module_Version","Cropjpeg","tryLoc","GetPTZDisplayMode","color: blue","_JSPlayM4_SetPrintLogFlag","pFillBlockPosVertices","onmessage",`
    precision highp float;
    varying vec2 v_uv;
    uniform sampler2D texture;
    uniform float fAngle;
    uniform float fRX1;
    uniform float fRX2;
    uniform float fRY1;
    uniform float fRY2;
    
    void main()
    {
        float r,g,b;  
    
        vec4 origin;
        vec4 result;
        float  thetabase;
        float  d;
    
        float  w;
        float  h;
        float  fCenterX;
        float  fCenterY;
        float  fRadius;
        w = 1.0;
        h = (fRX2 - fRX1) / (fRY2 - fRY1);
        fCenterX = (fRX1 + fRX2) / 2.0 * w;    ///<圆心实际坐标
        fCenterY = (fRY1 + fRY2) / 2.0 * h;
        fRadius = (fRX2 - fRX1) / 2.0 * w;    ///<半径实际长度
        float fMax = 0.0;
        if(fRX2 > 1.0 || fRY2 > 1.0 || fRX1 < 0.0 || fRY1 < 0.0) ///<如果不是一个完整的圆
        {
            float tmp;
            if(fRX1 < 0.0)
            {
                tmp = -fRX1 * w; ///<左边超出图像部分最大实际长度
                if(tmp > fMax)
                   fMax = tmp;
            }
            if(fRX2 > 1.0)
            {
                tmp = (fRX2 - 1.0) * w; ///<右边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRY1 < 0.0)
            {
                tmp = -fRY1 * h; ///<上边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRY2 > 1.0)
            {
                tmp = (fRY2 - 1.0) * h; ///<下边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
        }
        float topCut = fMax / fRadius;   ///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切
        float bottomCut = 0.8;           ///<为矫正效果,最终矫正图固定切掉下面一部分
        origin.s = 1.0 - v_uv.s;
        origin.t = (bottomCut - topCut) * (1.0 - v_uv.t) + topCut;
        thetabase = 6.2831853 * origin.s + fAngle;
        d = fRadius * (1.0 - origin.t);
        result.s = (fCenterX - d*sin(thetabase)) / w;
        result.t = (fCenterY + d*cos(thetabase)) / h;
    
        r = texture2D(texture, result.st).r;
        g = texture2D(texture, result.st).g;
        b = texture2D(texture, result.st).b;
        if(result.s > 1.0 || result.t > 1.0 || result.s < 0.0 || result.t < 0.0)
        {
            r = 0.0; 
            g = 0.0; 
            b = 0.0; 
        }
        gl_FragColor = vec4(r ,g ,b , 1.0);
    }
`,"pFECTotalCanvasIDData","downloadAudioBeforeDecodeData","streamEnd","COLOR","hikHeadBuffer malloc failed","%c reset hard decoder","buffer","pfuncCBOut","disable","GetPointFish2PanoFloor","DEPTH_STENCIL","drawImage","Pause","decodeEngine",`
precision mediump float;
varying vec2 v_uv;
uniform sampler2D texture;
uniform float fHAngleCos;
uniform float fHAngleSin;
uniform float fVAngleCos;
uniform float fVAngleSin;
uniform float fZoom;

uniform float fRX1; 
uniform float fRX2; 
uniform float fRY1; 
uniform float fRY2; 

void main()
{
    float r,g,b;  

    vec4 origin1;
    vec4 origin2;
    vec4 result;
    float  z1;
    float  z2;
    float  dnew;

    float  w;
    float  h;
    float  fCenterX;
    float  fCenterY;
    float  fRadius;
    w = 1.0;
    h = (fRX2 - fRX1) / (fRY2 - fRY1);
    fCenterX = (fRX1 + fRX2) / 2.0 * w;    
    fCenterY = (fRY1 + fRY2) / 2.0 * h;
    fRadius = (fRX2 - fRX1) / 2.0 * w; 

    origin1.s = v_uv.s - 0.5;
    origin1.t = 0.5 - v_uv.t;
    z1 = fZoom ;

    origin2.s = origin1.s ;
    origin2.t = (origin1.t*fVAngleCos + z1*fVAngleSin);
    z2 = z1*fVAngleCos - origin1.t*fVAngleSin;

    dnew = sqrt(origin2.s*origin2.s + origin2.t*origin2.t) ;
    float d = sqrt(origin2.s*origin2.s + origin2.t*origin2.t + z2*z2);
    float theta = asin(dnew/d);
    float tmp = theta / 1.5707963 * 0.5;
    origin2.s = tmp*origin2.s / dnew ;
    origin2.t = tmp*origin2.t / dnew ;

    result.s = ((origin2.s*fHAngleCos - origin2.t*fHAngleSin)*fRadius*2.0+fCenterX)/w;
    result.t = (-(origin2.s*fHAngleSin + origin2.t*fHAngleCos)*fRadius*2.0+fCenterY)/h;

    r = texture2D(texture, result.st).r; 
    g = texture2D(texture, result.st).g; 
    b = texture2D(texture, result.st).b; 
    if(result.s > 1.0 || result.t > 1.0 || result.s < 0.0 || result.t < 0.0)
    {
        r = 0.0; 
        g = 0.0; 
        b = 0.0; 
    }
    gl_FragColor = vec4(r ,g ,b , 1.0);
} 
`,"download 3 Resample Decode AudioData  FrameNum:","UNSIGNED_BYTE","glBlockClrBuffer","postMessage",`
precision mediump float;
varying vec2 v_uv;
uniform sampler2D texture;  
uniform float fHAngleCos;  
uniform float fHAngleSin; 
uniform float fVAngleCos;  
uniform float fVAngleSin;  
uniform float fZoom;

uniform float fRX1; 
uniform float fRX2; 
uniform float fRY1; 
uniform float fRY2; 

void main()
{
    float r,g,b;

    vec4 origin1;
    vec4 origin2;
    vec4 result;
    float  z1;
    float  z2;
    float  dnew;

    float  w;
    float  h;
    float  fCenterX;
    float  fCenterY;
    float  fRadius;
    w = 1.0;
    h = (fRX2 - fRX1) / (fRY2 - fRY1);
    fCenterX = (fRX1 + fRX2) / 2.0 * w;     ///<Բ��ʵ������
    fCenterY = (fRY1 + fRY2) / 2.0 * h;
    fRadius = (fRX2 - fRX1) / 2.0 * w;     ///<�뾶ʵ�ʳ���
    origin1.s = v_uv.s - 0.5;
    origin1.t = v_uv.t - 0.5;
    z1 = fZoom ;

    origin2.s = origin1.s ;
    origin2.t = (origin1.t*fVAngleCos + z1*fVAngleSin);
    z2 = z1*fVAngleCos - origin1.t*fVAngleSin;

    dnew = sqrt(origin2.s*origin2.s + origin2.t*origin2.t) ;
    float d = sqrt(origin2.s*origin2.s + origin2.t*origin2.t + z2*z2);
    float theta = asin(dnew/d);
    float tmp = theta / 1.5707963 * 0.5;
    origin2.s = tmp*origin2.s / dnew ;
    origin2.t = tmp*origin2.t / dnew ;

    result.s = ((origin2.s*fHAngleCos - origin2.t*fHAngleSin)*fRadius*2.0+fCenterX)/w;
    result.t = ((origin2.s*fHAngleSin + origin2.t*fHAngleCos)*fRadius*2.0+fCenterY)/h;

    r = texture2D(texture, result.st).r; 
    g = texture2D(texture, result.st).g; 
    b = texture2D(texture, result.st).b; 
    if(result.s > 1.0 || result.t > 1.0 || result.s < 0.0 || result.t < 0.0)
    {
        r = 0.0;
        g = 0.0; 
        b = 0.0; 
    }
    gl_FragColor = vec4(r ,g ,b , 1.0);
} 
`,"minute","apply","GetFishPTZWALL","GetPanoPTZCeiling","bSupHardDecAVC","Missing_Bbx_Field","IsValidRadiusParam","fAlpha","bInitFreetype",",fValue:","call",",state:","resultName",`
    precision highp float;
    varying vec2 v_uv;
    uniform sampler2D texture;
    uniform float fAngle;
    uniform float fRX1;
    uniform float fRX2;
    uniform float fRY1;
    uniform float fRY2;

    void main()
    {
        float r,g,b;  
        vec4 origin;
        vec4 result;
        float  thetabase;
        float  d;
    
        vec4 newpp;  ///<180矫正pp纹理坐标的点对应360矫正newpp纹理坐标对应的点
        if (v_uv.t  <= 0.5) 
        {
            newpp.s =  v_uv.s / 2.0;
            newpp.t =  v_uv.t * 2.0;
        }
        else
        {
            newpp.s =  v_uv.s / 2.0 + 0.5;
            newpp.t =  (v_uv.t - 0.5) * 2.0;
        }
        float  w;
        float  h;
        float  fCenterX;
        float  fCenterY;
        float  fRadius;
        w = 1.0;
        h = (fRX2 - fRX1) / (fRY2 - fRY1);
        fCenterX = (fRX1 + fRX2) / 2.0 * w;    ///<圆心实际坐标
        fCenterY = (fRY1 + fRY2) / 2.0 * h;
        fRadius = (fRX2 - fRX1) / 2.0 * w;     ///<半径实际长度
        float fMax = 0.0;
        if(fRX2 > 1.0 || fRY2 > 1.0 || fRX1 < 0.0 || fRY1 < 0.0) ///<如果不是一个完整的圆
        {
             float tmp;
            if(fRX1 < 0.0)
            {
                tmp = -fRX1 * w; ///<左边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRX2 > 1.0)
            {
                tmp = (fRX2 - 1.0) * w; ///<右边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRY1 < 0.0)
            {
                tmp = -fRY1 * h; ///<上边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
            if(fRY2 > 1.0)
            {
                tmp = (fRY2 - 1.0) * h; ///<下边超出图像部分最大实际长度
                if(tmp > fMax)
                    fMax = tmp;
            }
        }
        float topCut = fMax / fRadius;   ///<如果不是一个完整的圆,最终矫正图需要切掉上面无图像部分,否则无需切
        float bottomCut = 0.8;           ///<为矫正效果,最终矫正图固定切掉下面一部分
        origin.s = 1.0 - newpp.s;
        origin.t = (bottomCut - topCut) * (1.0 - newpp.t) + topCut;
        thetabase = 6.2831853 * origin.s + fAngle;
        d = fRadius * (1.0 - origin.t);
        result.s = (fCenterX - d*sin(thetabase)) / w;
        result.t = (fCenterY + d*cos(thetabase)) / h;
    
        r = texture2D(texture, result.st).r; 
        g = texture2D(texture, result.st).g;
        b = texture2D(texture, result.st).b;
        if(result.s > 1.0 || result.t > 1.0 || result.s < 0.0 || result.t < 0.0)
        {
            r = 0.0; 
            g = 0.0; 
            b = 0.0; 
        }
        gl_FragColor = vec4(r ,g ,b , 1.0);
    } 
`,"Invalid_Outline","JSPlayM4_ResetEnd","668348lmxozK","bPortAllocated","avcDecodeEngine","bmpDataCallback","nLineShaderProgram","nCylinderPosSize","SetStreamEnd","toStringTag","SR_ERR_NOT_SUPPORT","ready_frames","JSPlayM4_GetBMP","_JSPlayM4_SetIFrameDecInterval","SR_GetFishParam","createEvent","FT_Render_Glyph","frameSize","nPTZDisplayMode","Out_Of_Memory","_JSPlayM4_GetAdditionData","resetEnd","deleteProgram","GetCropJPEG","%c3>SharedArrayBuffer Error , does not support Soft Decdoe!!!!!",">>>>>yff>>>>> JSPlayM4_SetDecodeEngine 1:","oVideoHandle","SR_ERR_CANVAS","glBlockPosBuffer","audioResampleBuffer","TEXTURE_WRAP_T","preTimeStamp","FECDisable","JSPlayM4_GetFrameInfo","SetOrtho","JSPlayM4_SetStreamEnd","nPTZFragmentNode","SR_DE_FISH_CYLINDER_SPLIT_FLOOR","stop failed ","RenderFrame","symbol","ascender","Missing_Startchar_Field","FEC_SetWnd","jpegDownloadFlag","playSpeed","dataTimeStamp","LINK_STATUS","_JSPlayM4_FEC_SetBackCilling","JSPlayM4_ReversePlay","initEvent","addEventListener","GetDisplayEffect","__await","_decoderLoaded","root","shift","canvasID","JSPlayM4_RenderPrivateData","left","pop","_downloadFile","decCallBackFun",">>>JS 01 destroy decoderObj","SR_SetDisplayRect","totalLength:","click","vecEye","%cThe final decodeEngine is %d (0 is soft,1 is hard),codecType:%d","fRYTop",",fishSubPort:","onload","SR_DE_FISH_ARCSPHERE_HORIZONTAL_WALL","appendChild","FECcanvasIDArray","GetPitch","prototype","callBackParameter","iAudioBefDecFrameNum","fSinH","iAudioANRFrameNum","pOriPTZPoints","FECSetWnd","configure","Load_Char","continue","bWriteAudioBefDecData","ComputeLinePoint","setHasThread","Invalid_Opcode","downloadAudioAfterDecodeData","vertexAttribPointer","_JSPlayM4_VideoDataToJpeg","blob:","complete",">>>JS JSPlayM4_FEC_Enable this.decodeEngine：","enDisplayEffect","scale(0.2)","acos","canvasCnv","LINEAR_DESIGN","SetFrameInfoCallBack","JSPlayM4_RTPRawDataCallBack","deleteShader","FEC_ResetCorrectType","slow","stPTZColor","fBottom","GetProj","fHAngleSin","SR_DE_FISH_PANORAMA_CEILING_180","Invalid_Post_Table_Format","JSPlayM4_SetD3DPostProcess","oVideoDecoder","getMilliseconds","fishPort is 0 ,main canvas doesn't need call FEC_Enable","delegate","_JSPlayM4_RenderPrivateDataEx","JSPlayM4_Slow","milliseconds","needSetPreSoft","VERTICAL_LAYOUT","%c1>your browser does not support play without plugin","Ignore","rawDataFrameInfo","texImage2D","this.audioANRBuffer","nSemiSphereTexSize","pUserIn","DEF_In_Glyf_Bytecode","JSPlayM4_RawDataCallBack","mainSubPort","No_Unicode_Glyph_Name","error","texture","script","GetPointFish2PanoWall","jpeg","fNear","JSPlayM4_FEC_Enable","size",">>>>>yff>>>>> JSPlayM4_InputData 2 res:","URL","createObjectURL","yuvLength","nJPEGDataSize","bitPerSample","__esModule","JSPlayM4_GetSDKVersion","done","nPlaceType","NO_RECURSE","displayFrameInfo","iFrameNum","nLineTriangleNum","videoShaderProgram","webgl","suspendedStart","audioANRBuffer","revokeObjectURL","SR_DE_FISH_PLANET","this.playSpeed:","renderEngine","trunc","getImageJPEG","pstStartPos","cos","1017FfAjnz","FT_Set_Char_Size","initDecoder","chooseFrame","Render_Glyph","lastDate","FEC_ERR_ENABLED","face_flags","nWndHeight","nUpDateType","illegal catch attempt","FECResetCorrectType","Invalid_Reference","SR_DE_FISH_PTZ_CEILING","unconfigured",",iZoomNum:","JSPlayM4_StopSound","FECGetViewParam","create","Corrupted_Font_Header","Array_Too_Large","dataType","JSPlayM4_DisplayLostFrames","bmp","num_glyphs","SR_SetViewParam","displayRunning","enumerable","Horiz_Header_Missing","i32","SR_SetFishParamManager","match","catch","getImageBMP","fValue","JSPlayM4_AdditionDataCBFun","nValidSubPort","JSPlayM4_FreePort","compileShader","matProj","OrderError","Done_Face","%c2>there will decode 264 by softDecoder","family_name","nDrawFontHeight","JSPlayM4_GetCropBMP","SetCurStatus","samplesPerSec","throw","webkitURL"];return z=function(){return ce},z()}}($t,$t.exports);var ri=$t.exports,zt=256,ae=512,be=768,E=1536,Q={port:0,start:{x:0,y:0},total:{x:0,y:0},diff:{x:0,y:0},startPTZPosition:{x:0,y:0},lastCorrdsY:0,param2d:{upDateType:4,fValue:0,fPTZParam:{fPTZPositionX:0,fPTZPositionY:0},fPTZZoom:0}},Ge=function(){function H(_e){Re(this,H),this.nWidth=0,this.nHeight=0,this.useHardDev=typeof _e.useHardDev<"u"?_e.useHardDev:!1,this.isHardH264=_e.isHardH264||!0,this.isHardH265=_e.isHardH265||!0,this.isSharedArrayBuffer=_e.isSharedArrayBuffer||!1,this.bGpuSupHardDecHEVC=!1,this.oStreamClient=new c.StreamClient,this.oStorageManager=new Pe("./transform",{staticPath:"https://open.ys7.com/assets/ezuikit_v4.0"}),this.aHead=[],this.pCanvasData=null,this.bPlaySound=-1,this.szStorageUUID="",this.szStreamUUID="",this.g_port=0,this.szId=_e.szId,this.iWidth=_e.iWidth,this.iHeight=_e.iHeight,this.iRate=1,this.decoderVersion="2.0",this.staticPath=_e.staticPath||"https://open.ys7.com/assets/ezuikit_v5.0",this.bPause=!1,this.bPlay=!1,this.bInit=!1,this.portAvailable=!0,this.esCanvas=null,this.b3DZoom=!1,this.oJSPlugin=null,this.bPauseDate=null,this.FECSplitIds="",this.canvasFECSubPort=new Map,this.correctType=null,document.getElementById(_e.szId).style="display:inline-block;width:".concat(_e.iWidth,"px;height:").concat(_e.iHeight,"px;background:#000000;background-size:100% 100%;vertical-align:top;"),this.JS_Init(),this.oStyle=Object.assign({border:"#000000",borderSelect:"#FFCC00",background:"#4C4B4B"},_e.oStyle),typeof _e.szId=="string"?this.oJSPlugin=We("#"+_e.szId):this.oJSPlugin=_e.szId,this.createWindows(),this.esCanvas=new ft(this.szId+"canvas_draw0");var M=this;this.oJSPlugin.find("."+_e.szId+"parent-wnd").eq(0).children().each(function(z){var ce=this;We(ce).bind("mouseenter",function(ie){We("#"+_e.szId+"canvas_draw0").css("pointer-events","all"),M.b3DZoom?(console.log("e",ie),console.log("id:",_e.szId),M.esCanvas=null,We("."+_e.szId+"draw-window").unbind(),M.esCanvas=new ft(_e.szId+"canvas_draw0"),M.esCanvas.setShapeType("Rect"),M.esCanvas.setDrawStyle("#ff0000","",0),M.esCanvas.setDrawStatus(!0,function(Oe){M.fCallback&&M.fCallback(Oe)})):We("#"+_e.szId+"canvas_draw0").css("pointer-events","none")}),We(ce).bind("mouseleave",function(ie){We("#"+_e.szId+"canvas_draw0").css("pointer-events","none")})})}return xt(H,[{key:"createWindows",value:function(M,z){var ce=this;M&&z&&(ce.iWidth=M,ce.iHeight=z);var ie=ce.iWidth,Oe=ce.iHeight,Qe=ce.iWidth-ie-2*2,st=ce.iHeight-Oe-2*2,D=ce.iWidth-ie,Xe=ce.iHeight-Oe,X=1;typeof this.szId=="string"?ce.oJSPlugin=We("#"+this.szId):ce.oJSPlugin=this.szId;var Ce='<div class="'+this.szId+'parent-wnd" style="overflow:hidden;width:100%; height:100%; position: relative;">',ve=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if(ve)for(var Le=0;Le<1;Le++){M=Qe+(Le%X===X-1?ie:0),z=st+(Le+X>=Math.pow(X,2)?Oe:0);var pe=D+(Le%X===X-1?ie:0),ee=Xe+(Le+X>=Math.pow(X,2)?Oe:0);pe=pe*2,ee=ee*2,Ce+='<div style="transform: scale(0.5);-webkit-transform: scale(0.5);-webkit-transform-origin:0 0;text-align:left;transform-origin:0 0; width:'+pe+"px;height:"+ee+'px;"><div style="float:left; background-color: '+this.oStyle.background+'; position: relative; width:100%; height:100%;"><canvas id="'+this.szId+"canvas"+Le+'" class="'+this.szId+'play-window" wid="'+Le+'" width="'+pe+'" height="'+ee+'"></canvas>'+(Le===0?'<img style="display:none;" id="playImg'+Le+'" src="">':"")+'<canvas id="'+this.szId+"canvas_draw"+Le+'"  class="'+this.szId+'draw-window" style="position:absolute; top:0; left:0;" wid="'+Le+'" width='+M+" height="+z+"></canvas></div></div>"}else for(var je=0;je<1;je++){M=Qe+(je%X===X-1?ie:0),z=st+(je+X>=Math.pow(X,2)?Oe:0);var mt=D+(je%X===X-1?ie:0),gt=Xe+(je+X>=Math.pow(X,2)?Oe:0);Ce+='<div id="'+this.szId+"-container-"+je+'" style="float:left; background-color: '+this.oStyle.background+"; position: relative; width: "+mt+"px; height: "+gt+'px;"><canvas id="'+this.szId+'-player" class="'+this.szId+'play-window" wid="'+je+'" width="'+mt+'" height="'+gt+'"></canvas>'+(je===0?'<img style="display:none;" id="playImg'+je+'" src="">':"")+'<canvas id="'+this.szId+"canvas_draw"+je+'"  class="'+this.szId+'draw-window" style="position:absolute; top:0; left:0;" wid="'+je+'" width='+M+" height="+z+"></canvas></div>"}Ce+="</div>",ce.oJSPlugin.html(Ce)}},{key:"JS_Init",value:function(){var M=this,z=this;if(!z.initIng){z.initIng=!0;var z=this;if(this.bPlay)return!1;var ce=new Promise(function(ie,Oe){window["wasmplayer-".concat(M.szId)]&&(z.bInit=!0,ie());var Qe=new ri.JSPlayCtrl("".concat(z.staticPath,"/js/PlayCtrlWasm/").concat(M.isSharedArrayBuffer?"hasWorker":"noWorker","/Decoder.js"),function(st){var D=st.bGpuSupHardDecHEVC;z.bInit=!0,window.JSPlayerModuleLoaded=!0,z.initIng=!1,D==!1?console.log("当前GPU不支持H265硬解"):console.log("当前GPU支持H265硬解")},0,"webgl");window["wasmplayer-".concat(M.szId)]=Qe,ie()});return ce}}},{key:"PlayM4_openStream",value:function(M){var z=window["wasmplayer-".concat(this.szId)],ce=this;new Uint8Array(M.buffer);var ie=z.JSPlayM4_OpenStream(M,40,4*1024*1024),Oe=z.JSPlayM4_SetDecodeEngine((this.isHardH264||this.isHardH265)&&this.useHardDev?1:0);console.log("JSPlayM4_SetDecodeEngine:::",(this.isHardH264||this.isHardH265)&&this.useHardDev?1:0,Oe),z.JSPlayM4_SetFirstFrameCallBack(1,function(){console.log("%cfirst frame display end:"+new Date().getMinutes()+":"+new Date().getSeconds()+"."+new Date().getMilliseconds(),"color:blue")}),z.JSPlayM4_SetRunTimeInfoCallBackEx(1,function(Qe,st,D,Xe,X){ce.EventCallback&&ce.EventCallback.setRunTimeInfoCallBack&&ce.EventCallback.setRunTimeInfoCallBack(Qe,st,D,Xe,X)}),console.log("3.打开流 resO:"+ie)}},{key:"_doPlay",value:function(M,z,ce,ie,Oe){var Qe=this,st=window["wasmplayer-".concat(this.szId)];this.bPlayIng=!0;var D=this;if(D.playURL=z.playURL,D.szUrl=M,document.getElementById(D.szId+"-player")){var Ce=document.getElementById(D.szId+"-container-0"),ve=document.getElementById(this.szId+"-player");console.log(ve),ve.style="position: absolute;",Ce.removeChild(ve);var Le=document.createElement("canvas");document.getElementById(D.szId)?(Le.width=document.getElementById(D.szId).offsetWidth,Le.height=document.getElementById(D.szId).offsetHeight):(Le.width=D.iWidth,Le.height=D.iHeight),Le.id=D.szId+"-player",Ce.appendChild(Le)}else{var Xe=document.getElementById(D.szId+"-container-0"),X=document.createElement("canvas");Xe.appendChild(X),document.getElementById(D.szId)?(X.width=document.getElementById(D.szId).offsetWidth,X.height=document.getElementById(D.szId).offsetHeight):(X.width=D.iWidth,X.height=D.iHeight),X.id=D.szId+"-player"}var pe=new Promise(function(ee,je){Qe.oStreamClient.stopAll(),D.g_port=st.JSPlayM4_GetPort(),console.log("1.获取播放库端口号 g_port:"+D.g_port),Qe.portAvailable=!1,D.EventCallback&&D.EventCallback.openStreamCallback&&(console.log("开始取流-----v2"),D.EventCallback.openStreamCallback()),D.oStreamClient.openStream(M,z,function(mt){if(Qe.oParams=z,mt.errorCode&&mt.errorCode!="1"&&D.EventCallback&&D.EventCallback.pluginErrorHandler&&D.EventCallback.pluginErrorHandler(ce,mt.errorCode,mt),mt.bHead){D.EventCallback&&D.EventCallback.getStreamHeaderCallback&&(console.log("完成取流返回流头"),D.EventCallback.getStreamHeaderCallback()),D.PlayM4_openStream(mt.buf),D.aHead=new Uint8Array(mt.buf),D.secretKey&&st.JSPlayM4_SetSecretKey(D.secretKey);try{var gt=function(ji,Zi){var pi=new RegExp("(^|&)"+ji+"=([^&]*)(&|$)","i"),sn=Zi.match(pi);return sn!=null?unescape(sn[2]):null},Gt=gt("begin",z.playURL),li=parseInt(Gt.slice(0,4)),Oi=parseInt(Gt.slice(4,6)),ge=parseInt(Gt.slice(6,8)),Ji=parseInt(Gt.slice(9,11)),kt=parseInt(Gt.slice(11,13)),Lt=parseInt(Gt.slice(13,15))+3,Tt=st.JSPlayM4_SetGlobalBaseTime(li,Oi,ge,Ji,kt,Lt,0);console.log("设置OSD时间: ",li+":"+Oi+":"+ge+":"+Ji+":"+kt+":"+Lt+":0"),console.log("设置OSD时间res:",Tt)}catch(Ii){console.log("JSPlayM4_SetGlobalBaseTime:",Ii)}D.bPlay=!0,D.bPlayIng=!1;var jt=st.JSPlayM4_SetFrameInfoCallBack(1);if(jt!=1){var Dt=st.JSPlayM4_GetLastError();console.log("resFrameInfoError:"+Dt)}st.JSPlayM4_RenderPrivateData(4,1),Qe.firstFlag=!0,Qe.firstGetData=!0,st.JSPlayM4_FEC_SetCanvasID(Qe.FECSplitIds);var Ft=st.JSPlayM4_Play("".concat(D.szId,"-player"));Qe.canvasFECSubPort.set("".concat(D.szId,"-player"),Z({},Q)),console.log("4.开始播放 resP:"+Ft,"".concat(D.szId,"-player")),ee(Ft)}else{if(Qe.firstGetData&&(Qe.firstGetData=!1,D.EventCallback&&D.EventCallback.getVideoStreamCallback&&D.EventCallback.getVideoStreamCallback()),Qe.firstFlag){var Kt=st.JSPlayM4_GetFrameInfo(),wt=Kt.width,si=Kt.height;Qe.nWidth=wt,Qe.nHeight=si,wt&&(D.EventCallback&&D.EventCallback.appearFirstFrameCallback&&(console.log("出现首帧画面（播放成功）------多线程"),D.EventCallback.appearFirstFrameCallback()),D.EventCallback&&D.EventCallback.averageStreamSuccessCallback&&D.EventCallback.averageStreamSuccessCallback(),console.log("首帧展示",wt,si),Qe.firstFlag=!1)}var ht=new Uint8Array(mt.buf);mt.statusString?D.EventCallback&&D.EventCallback.pluginErrorHandler&&D.EventCallback.pluginErrorHandler(0,1001,mt):mt.type&&mt.type==="exception"&&D.EventCallback&&D.EventCallback.pluginErrorHandler&&D.EventCallback.pluginErrorHandler(0,1002,mt),st.JSPlayM4_InputData(ht,ht.length),ht=null}D.szStorageUUID&&D.oStorageManager.inputData(D.szStorageUUID,mt.buf)},function(){D.bPlay&&D.EventCallback&&D.EventCallback.pluginErrorHandler&&D.EventCallback.pluginErrorHandler(ce,1003),D.bPlayIng=!1,je()}).then(function(mt){D.szStreamUUID=mt,D.oStreamClient.startPlay(mt).then(function(){var gt=st.JSPlayM4_SetStreamOpenMode(1);console.log("2.设置流模式 resSSOM:"+gt)}).catch(function(gt){console.log("err",gt),D.bPlayIng=!1,je(gt.oError)})},function(mt){D.bPlayIng=!1,D._doRelease(),je(mt)})});return pe}},{key:"JSPlayM4_SetDecodeEngine",value:function(M){this.useHard=M}},{key:"JS_Play",value:function(){var M=this,z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{playURL:""},ie=arguments.length>2?arguments[2]:void 0,Oe=arguments.length>3?arguments[3]:void 0,Qe=arguments.length>4?arguments[4]:void 0;return new Promise(function(st,D){var Xe=setInterval(function(){window.JSPlayerModuleLoaded&&(clearInterval(Xe),M._doPlay(z,ce,ie,Oe,Qe).then(function(X){st(X)}).catch(function(X){D(X)}))},50)})}},{key:"JS_SetSecretKey",value:function(M,z){var ce=window["wasmplayer-".concat(this.szId)];console.log("secretKey:::",z),this.secretKey=z;var ie=ce.JSPlayM4_SetSecretKey(z);console.log("resSetSecretKey："+ie)}},{key:"JS_OpenSound",value:function(){var M=window["wasmplayer-".concat(this.szId)],z=M.JSPlayM4_PlaySound();return z===1&&(this.bPlaySound=1),z}},{key:"JS_CloseSound",value:function(){var M=window["wasmplayer-".concat(this.szId)],z=M.JSPlayM4_StopSound();return z===1&&(this.bPlaySound=-1),z}},{key:"JS_Enable3DZoom",value:function(M,z){if(!this.bPlay)return-1;var ce=window["wasmplayer-".concat(this.szId)],ie=ce.JSPlayM4_GetFrameInfo();return this.JSPlayM4_SetDisplayRegion(0,ie.width,0,ie.height),We("."+this.szId+"draw-window").unbind(),this.fCallback=z,this.esCanvas=new ft(this.szId+"canvas_draw0"),this.esCanvas.setShapeType("Rect"),this.esCanvas.setDrawStyle("#ff0000","",0),this.esCanvas.setDrawStatus(!0,function(Oe){z(Oe)}),this.b3DZoom=!0,0}},{key:"JS_Disable3DZoom",value:function(){return this.bPlay?(this.esCanvas.setDrawStatus(!1),this.b3DZoom=!1,0):-1}},{key:"JS_StartSave",value:function(M){var z=this,ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"".concat(new Date().getTime()),ie=new Promise(function(Oe,Qe){z.oStorageManager.startRecord("".concat(ce,".mp4"),z.aHead,2,0,{cbEventHandler:function(D){console.log("录制错误",D),Qe("录制错误 ".concat(D,"}"))},iPackage:0}).then(function(st){z.szStorageUUID=st,Oe()},function(){Qe()})});return ie}},{key:"JS_StopSave",value:function(){var M=this,z=new Promise(function(ce,ie){M.oStorageManager.stopRecord(M.szStorageUUID).then(function(){M.szStorageUUID="",ce()},function(Oe){console.log("iError",Oe),ie(Oe)})});return z}},{key:"_JSPlayM4_GetFrameInfo",value:function(){var M=window["wasmplayer-".concat(this.szId)],z=M.JSPlayM4_GetFrameInfo(),ce=z.width,ie=z.height;console.log("width:"+ce+",height:"+ie);var Oe=z.year,Qe=z.month,st=z.day,D=z.hour,Xe=z.minute,X=z.second,Ce=z.milliseconds;return console.log("OSD时间："+Oe+"-"+Qe+"-"+st+"-"+D+"-"+Xe+"-"+X+"-"+Ce),{width:ce,height:ie,year:Oe,month:Qe,day:st,hour:D,minute:Xe,second:X}}},{key:"_JSPlayM4_SetDisplayRegion",value:function(M,z,ce,ie){var Oe=this,Qe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,st=this;new Promise(function(D,Xe){var X=window["wasmplayer-".concat(Oe.szId)],Ce=X.JSPlayM4_SetDisplayRegion("".concat(Oe.szId,"-player"),st.iWidth*M/st.nWidth,st.iWidth*z/st.nWidth,st.iHeight*ce/st.nHeight,st.iHeight*ie/st.nHeight,!Qe,!1);console.log("oFrameInfo:",st.nWidth,st.nHeight),console.log("canvasInfo:",st.iWidth,st.iHeight),console.log("SetDisplayRegionRes:",Ce,"".concat(Oe.szId,"-player"),st.iWidth*M/st.nWidth,st.iWidth*z/st.nWidth,st.iHeight*ce/st.nHeight,st.iHeight*ie/st.nHeight),D({code:0,data:Ce})})}},{key:"JS_SetFrameInfoCallBack",value:function(M){var z=window["wasmplayer-".concat(this.szId)],ce=z.JSPlayM4_SetFrameInfoCallBack(this.g_port,M);if(ce!=1){var ie=z.JSPlayM4_GetLastError(this.g_port);console.log("resFrameInfoError:"+ie)}console.log("resFCB:"+ce)}},{key:"JS_CapturePicture",value:function(M,z,ce,ie,Oe){var Qe=window["wasmplayer-".concat(this.szId)],st=function(ve){for(var Le=new Uint8Array(ve),pe="",ee=0;ee<Le.length;ee++)pe+=String.fromCharCode(Le[ee]);return"data:image/jpeg;base64,".concat(window.btoa(pe))};function D(Ce){z.indexOf(".jpeg")===-1&&(z+=".jpeg"),ie&&ie({fileName:z,fileUint8Array:Ce,base64:st(Ce)})}!this.bPlay&&this.bPause&&this.tmpCapturePictureData&&reject({code:-1,msg:"暂停状态下无法截图"});var Xe=Qe.JSPlayM4_GetFrameInfo();this.nWidth=Xe.width,this.nHeight=Xe.height;var X=new Promise(function(Ce,ve){var Le=Qe.JSPlayM4_GetJPEG(function(pe,ee){if(pe){var je=new Uint8Array(ee);je.set(pe.subarray(0,ee)),D(pe),ie||Qe._downloadFile(je,"".concat(z||"capturePicture.jpeg")),Ce({code:1,data:{fileName:z,fileUint8Array:pe,base64:st(pe)}})}},0);Le!==1&&ve({code:-1,msg:"截图失败"})});return X}},{key:"JS_GetOSDTime",value:function(){var M=window["wasmplayer-".concat(this.szId)],z=new Promise(function(ce,ie){var Oe=M.JSPlayM4_GetFrameInfo(),Qe=Oe.year,st=Oe.month,D=Oe.day,Xe=Oe.hour,X=Oe.minute,Ce=Oe.second,ve=new Date("".concat(Qe,"-").concat(st,"-").concat(D," ").concat(Xe,":").concat(X,":").concat(Ce)).getTime()/1e3;ce(ve)});return z}},{key:"JS_Resize",value:function(M,z){var ce=window["wasmplayer-".concat(this.szId)];console.log("width:"+M+",height:"+z);var ie=ce.JSPlayM4_SetCanvasSize(M,z);this.iWidth=M,this.iHeight=z,document.getElementById(this.szId).style.height=z+"px",document.getElementById(this.szId).style.width=M+"px";var Oe=document.getElementById(this.szId+"-player");Oe&&(Oe.style.height=z+"px",Oe.style.width=M+"px");var Qe=document.getElementById(this.szId+"-container-0");Qe&&(Qe.style.height=z+"px",Qe.style.width=M+"px");var st=document.getElementById(this.szId+"-drawer0");st&&(st.style.height=z+"px",st.style.width=M+"px"),console.log("resSet:"+ie)}},{key:"JS_GetSDKVersion",value:function(){var M=window["wasmplayer-".concat(this.szId)],z=M.JSPlayM4_GetSDKVersion();return z.toString(16)}},{key:"_doRelease",value:function(){var M=window["wasmplayer-".concat(this.szId)],z=M.JSPlayM4_CloseStream(),ce=M.JSPlayM4_FreePort();ce===1&&(this.portAvailable=!0),console.log("doRelease",z,ce),console.log("stop end"),this.bPlay=!1,this.bPlayIng=!1}},{key:"JS_Stop",value:function(){var M=this,z=this.szStreamUUID,ce=window["wasmplayer-".concat(this.szId)];this.szStorageUUID&&this.JS_StopSave();var ie=function(st){for(var D=new Uint8Array(st),Xe="",X=0;X<D.length;X++)Xe+=String.fromCharCode(D[X]);return"data:image/jpeg;base64,".concat(window.btoa(Xe))},Oe=new Promise(function(Qe,st){ce.JSPlayM4_GetJPEG(function(D,Xe){var X=document.getElementById(M.szId+"-container-0"),Ce=document.getElementById(M.szId+"-player");Ce&&X.removeChild(Ce);var ve=new Uint8Array(Xe);ve.set(D.subarray(0,Xe)),M.tmpCapturePictureData=D,M.correctType===null?X.style.backgroundImage="url(".concat(ie(D),")"):X.style.backgroundImage="",X.style.backgroundSize="100% 100%"},0),setTimeout(function(){var D=M.oStreamClient.stopAll(z);D.then(function(Xe){console.log("防抖 停止取流成功"),M._colseFECAllSubWnd();var X=ce.JSPlayM4_Stop(!1);if(X==1)M._doRelease(),Qe({resS:X});else{var Ce=ce.JSPlayM4_GetLastError();if(Ce==35)var ve=setInterval(function(){X?clearInterval(ve):(X=ce.JSPlayM4_Stop(!1),X==1?(M._doRelease(),Qe({resS:X})):(Ce=ce.JSPlayM4_GetLastError(),console.log("stop error ",Ce)))},50);else console.log("stop - other error, still resolve",Ce,X),M._doRelease(),Qe({resS:X,jsPluginErrorCode:Ce})}}).catch(function(Xe){console.log("停止取流失败_jsPluginErrorCode",Xe),M._doRelease();var X=ce.JSPlayM4_GetLastError();console.log("停止取流失败_jsPluginErrorCode",X),Qe({jsPluginErrorCode:X})}),Qe()},300)});return Oe}},{key:"JS_DestroyWorker",value:function(){var M=window["wasmplayer-".concat(this.szId)];this._colseFECAllSubWnd();var z=document.getElementById(this.szId+"-container-0"),ce=document.getElementById(this.szId+"-player");ce&&z.removeChild(ce),this.pCanvasData!==null&&(M._free(this.pCanvasData),this.pCanvasData=null),this.pCanvasString=null,console.log("stop end")}},{key:"JS_Fast",value:function(M,z){var ce=this.iRate,ie=window["wasmplayer-".concat(this.szId)];if(z)switch(z){case 1:case 2:case 4:ce=z;break;case 3:ce=.5;break;default:ce=this.iRate;break}else switch(this.iRate){case 1:ce=2;break;case 2:ce=4;break;default:ce=this.iRate;break}if(this.oStreamClient.setPlayRate(this.szStreamUUID,ce),this.iRate=ce,console.log("开启倍速播放,多线程倍速，全解",ce),ce==4){var Oe=ie.JSPlayM4_SetDecodeThreadNum(8);console.log("SetDecodeThreadNumRes",Oe)}var Qe=ie.JSPlayM4_Fast();console.log("res",Qe)}},{key:"JS_Slow",value:function(){var M=this.iRate;switch(this.iRate){case 2:M=1;break;case 4:M=2;break;default:M=this.iRate;break}this.oStreamClient.setPlayRate(this.szStreamUUID,M),this.iRate=M,console.log("开启倍速播放",M)}},{key:"JS_Speed",value:function(M){var z=window["wasmplayer-".concat(this.szId)];this.oStreamClient.setPlayRate(this.szStreamUUID,M!==3?M:.5),this.iRate===3&&(M===1&&z.JSPlayM4_Fast(),M===2&&(z.JSPlayM4_Fast(),z.JSPlayM4_Fast()),M===4&&(z.JSPlayM4_Fast(),z.JSPlayM4_Fast(),z.JSPlayM4_Fast())),this.iRate===1&&(M===3&&z.JSPlayM4_Slow(),M===2&&z.JSPlayM4_Fast(),M===4&&(z.JSPlayM4_Fast(),z.JSPlayM4_Fast())),this.iRate===2&&(M===1&&z.JSPlayM4_Slow(),M===3&&(z.JSPlayM4_Slow(),z.JSPlayM4_Slow()),M===4&&z.JSPlayM4_Fast()),this.iRate===4&&(M===1&&(z.JSPlayM4_Slow(),z.JSPlayM4_Slow()),M===2&&z.JSPlayM4_Slow(),M===3&&(z.JSPlayM4_Slow(),z.JSPlayM4_Slow(),z.JSPlayM4_Slow())),M==4&&z.JSPlayM4_SetDecodeThreadNum(8),this.iRate=M,console.log("开启倍速播放",M)}},{key:"JS_Seek",value:function(M,z,ce){var ie=this,Oe=new Promise(function(Qe,st){var D=window["wasmplayer-".concat(ie.szId)],Xe=D.JSPlayM4_ResetBuffer(1);console.log("seek 清理缓存",Xe),ie.oStreamClient.seek(ie.szStreamUUID,z,ce),Qe()});return Oe}},{key:"JSPlayM4_SetPrintLogFlag",value:function(){var M=window["wasmplayer-".concat(this.szId)],z=M.JSPlayM4_SetPrintLogFlag(2);console.log("LogValue:2,resDR:"+z)}},{key:"JSPlayM4_SetDisplayRegion",value:function(M,z,ce,ie){var Oe=this;new Promise(function(Qe,st){var D=window["wasmplayer-".concat(Oe.szId)],Xe=D.JSPlayM4_SetDisplayRegion("".concat(Oe.szId,"-player"),M,z,ce,ie,!1,!0);Qe({code:0,data:Xe})})}},{key:"JS_Pause",value:function(M,z){var ce=this;if(!this.bPlay)return console.log("当前不是播放状态，无法暂停"),new Promise(function(je,mt){mt({code:0,msg:"当前不是播放状态，不需要暂停"})});var ie=this,Oe=window["wasmplayer-".concat(ie.szId)],Qe=Oe.JSPlayM4_GetFrameInfo(),st=Qe.year,D=Qe.month,Xe=Qe.day,X=Qe.hour,Ce=Qe.minute,ve=Qe.second,Le=new Date("".concat(st,"-").concat(D,"-").concat(Xe," ").concat(X,":").concat(Ce,":").concat(ve)).getTime()/1e3,pe=new Date(Le*1e3);ie.bPauseDate=pe.valueOf(),ie.bPauseTime="".concat(st)+(D>9?D:"0".concat(D))+(Xe>9?Xe:"0".concat(Xe))+(X>9?X:"0".concat(X))+(Ce>9?Ce:"0".concat(Ce))+(ve>9?ve:"0".concat(ve)),console.log("this.bPauseDate:::",ie.bPauseDate),console.log("this.bPauseTime:::",ie.bPauseTime);var ee=new Promise(function(je,mt){if(z)ie.JS_Stop().then(function(){ie.bPlay=!1,ie.bPause=!0,ie.bPauseDate=z.valueOf(),je({code:1,msg:"暂停成功",pauseDate:pe})}).catch(function(Gt){mt({code:0,msg:"暂停失败"}),console.log("err",Gt)});else{ie.oStreamClient.stopAll();var gt=Oe.JSPlayM4_Pause(1);gt?(ie.bPlay=!1,ie.bPlayIng=!1,ie.bPause=!0,ie.szStorageUUID&&ce.JS_StopSave(),je({pauseDate:pe})):mt()}});return ee}},{key:"JS_Resume",value:function(M){var z=this,ce=this,ie=window["wasmplayer-".concat(ce.szId)],Oe=new Promise(function(Qe,st){if(M&&(z.bPauseTime?z.bPauseTime=z.bPauseTime.slice(0,14-M.length)+M:z.bPauseTime=M),ce.playURL.indexOf("playback")!==-1&&(ce.playURL=ce.playURL.replace(/begin=[0-9]{8}T[0-9]{6}Z/gi,"begin=".concat(ce.bPauseTime.slice(0,8),"T").concat(ce.bPauseTime.slice(8,14),"Z"))),ce.playURL.indexOf("cloudplayback")!==-1&&(ce.playURL=ce.playURL.replace(/"startTime":[0-9]{13}/gi,'"startTime":'.concat(ce.bPauseDate))),M)ce.JS_Play(ce.szUrl,{playURL:ce.playURL}).then(function(Xe){Qe(Xe)}).catch(function(Xe){st(Xe)});else{var D=ce.szUrl;D.indexOf("playback")!==-1&&(D=D.replace(/begin=[0-9]{8}T[0-9]{6}Z/gi,"begin=".concat(ce.bPauseTime.slice(0,8),"T").concat(ce.bPauseTime.slice(8,14),"Z"))),D.indexOf("cloudplayback")!==-1&&(D=D.replace(/"startTime":[0-9]{13}/gi,'"startTime":'.concat(ce.bPauseDate))),ce.oStreamClient.openStream(D,{playURL:ce.playURL},function(Xe){if(Xe.errorCode&&Xe.errorCode!="1"&&(ce.EventCallback&&ce.EventCallback.pluginErrorHandler&&ce.EventCallback.pluginErrorHandler(ce.g_port,Xe.errorCode,Xe),st()),Xe.bHead){ce.EventCallback&&ce.EventCallback.getStreamHeaderCallback&&ce.EventCallback.getStreamHeaderCallback(),ce.aHead=new Uint8Array(Xe.buf),ce.secretKey&&ie.JSPlayM4_SetSecretKey(ce.secretKey);try{var X=function(Lt,Tt){var jt=new RegExp("(^|&)"+Lt+"=([^&]*)(&|$)","i"),Dt=Tt.match(jt);return Dt!=null?unescape(Dt[2]):null},Ce=X("begin",oParams.playURL),ve=parseInt(Ce.slice(0,4)),Le=parseInt(Ce.slice(4,6)),pe=parseInt(Ce.slice(6,8)),ee=parseInt(Ce.slice(9,11)),je=parseInt(Ce.slice(11,13)),mt=parseInt(Ce.slice(13,15))+3,gt=ie.JSPlayM4_SetGlobalBaseTime(ve,Le,pe,ee,je,mt,0)}catch(kt){console.log("JSPlayM4_SetGlobalBaseTime:",kt)}ce.bPlay=!0,ce.bPlayIng=!1;var Gt=ie.JSPlayM4_SetFrameInfoCallBack(1);Gt!=1&&ie.JSPlayM4_GetLastError(),ie.JSPlayM4_RenderPrivateData(4,1),ce.firstFlag=!0,ce.firstGetData=!0}else{if(ce.firstGetData&&(ce.firstGetData=!1,ce.EventCallback&&ce.EventCallback.getVideoStreamCallback&&ce.EventCallback.getVideoStreamCallback()),ce.firstFlag){var li=ie.JSPlayM4_GetFrameInfo(),Oi=li.width,ge=li.height;ce.nWidth=Oi,ce.nHeight=ge,Oi&&(ce.EventCallback&&ce.EventCallback.appearFirstFrameCallback&&ce.EventCallback.appearFirstFrameCallback(),ce.EventCallback&&ce.EventCallback.averageStreamSuccessCallback&&ce.EventCallback.averageStreamSuccessCallback(),ce.firstFlag=!1)}var Ji=new Uint8Array(Xe.buf);Xe.statusString?ce.EventCallback&&ce.EventCallback.pluginErrorHandler&&ce.EventCallback.pluginErrorHandler(0,1001,Xe):Xe.type&&Xe.type==="exception"&&ce.EventCallback&&ce.EventCallback.pluginErrorHandler&&ce.EventCallback.pluginErrorHandler(0,1002,Xe),ie.JSPlayM4_InputData(Ji,Ji.length),Ji=null}ce.szStorageUUID&&ce.oStorageManager.inputData(ce.szStorageUUID,Xe.buf)},function(){ce.bPlay&&ce.EventCallback&&ce.EventCallback.pluginErrorHandler&&ce.EventCallback.pluginErrorHandler(iWndNum,1003),ce.bPlayIng=!1,st()}).then(function(Xe){ce.szStreamUUID=Xe,ce.oStreamClient.startPlay(Xe).then(function(){var X=ie.JSPlayM4_Pause(0);X?(ce.bPlay=!0,ce.bPlayIng=!0,ce.bPause=!1,ce.bPauseDate=null,Qe(X)):st()}).catch(function(X){ce.bPlayIng=!1,st(X.oError)})},function(Xe){ce.bPlayIng=!1,ce._doRelease(),st(Xe)})}});return Oe}},{key:"JS_FECCorrectType",value:function(M,z){var ce=this;return this.FECSplitIds=z,this.correctType=M,new Promise(function(ie,Oe){var Qe=ce._createSplitVideos(M,z),st=Qe.find(function(D){return D.code===-1});st||Qe.length===0?Oe(Qe):ie(Qe)})}},{key:"JS_FECSetParam2D",value:function(M,z){var ce=window["wasmplayer-".concat(this.szId)];return ce.JSPlayM4_FEC_SetParam(M,z)}},{key:"_createSplitVideos",value:function(M,z){var ce=this,ie="".concat(ce.szId,"-player");z=ie+","+z;var Oe=z?z.split(","):[],Qe=window["wasmplayer-".concat(ce.szId)],st=[];if(M.correctList&&M.correctList.length>0){for(var D=0;D<M.correctList.length;D++)if(!(D===0&&M.correctList[D].hidden)){if(D===0){pe(M.correctList[0]);continue}if(!Oe[D]||!document.getElementById(Oe[D])||document.getElementById(Oe[D]).nodeName!=="CANVAS")return[];var Xe=Qe.JSPlayM4_FEC_GetPort(M.place,M.correctList[D].correctType),X=Qe.JSPlayM4_FEC_Enable(Xe),Ce=Qe.JSPlayM4_FEC_SetWnd(Xe,Oe[D]),ve={upDateType:ce._matchUpDateType(M.correctList[D].correctType),fValue:0,fPTZParam:{fPTZPositionX:M.correctList[D].x||0,fPTZPositionY:M.correctList[D].y||0},fPTZZoom:1e-5},Le=ce.JS_FECSetParam2D(Xe,ve);X===0||Ce===0||Le===0?st.push({code:-1,msg:"失败",port:Xe,id:Oe[D]}):(st.push({code:0,msg:"成功",port:Xe,id:Oe[D]}),ce.canvasFECSubPort.set(Oe[D],Z(Z({},Q),{},{port:Xe,param2d:ve,startPTZPosition:{x:ve.fPTZParam.fPTZPositionX,y:ve.fPTZParam.fPTZPositionY}})),document.getElementById(Oe[D]).setAttribute("data-port",Xe),ce._spliceCanvasMouseEvents(Oe[D],M.correctList[D]))}}else pe(M);function pe(ee){var je={upDateType:ce._matchUpDateType(ee.correctType),fValue:0,fPTZParam:{fPTZPositionX:ee.x||0,fPTZPositionY:ee.y||0},fPTZZoom:1e-5},mt=ce.canvasFECSubPort.get(ie),gt=mt.port;if(gt===void 0)return console.log("this canvas not display"),st;var Gt=Qe.JSPlayM4_FEC_ResetCorrectType(gt,M.place,ee.correctType);if(Gt===1)st.push({code:0,msg:"成功",port:gt,id:ie});else{st.push({code:-1,msg:"失败",port:gt,id:ie});return}ee.correctType<=be?ce.JS_FECSetParam2D(gt,je):ee.viewParam&&setTimeout(function(){typeof ee.viewParam.x=="number"&&typeof ee.viewParam.y=="number"&&(Qe.JSPlayM4_FEC_SetViewParam(gt,2,ee.viewParam.x),Qe.JSPlayM4_FEC_SetViewParam(gt,1,ee.viewParam.y)),typeof ee.viewParam.zoom=="number"&&Qe.JSPlayM4_FEC_SetViewParam(gt,3,ee.viewParam.zoom)},200),ce.canvasFECSubPort.set(ie,Z(Z({},Q),{},{port:gt,param2d:je,startPTZPosition:{x:je.fPTZParam.fPTZPositionX,y:je.fPTZParam.fPTZPositionY}})),ce._spliceCanvasMouseEvents(ie,ee)}return st}},{key:"_matchUpDateType",value:function(M){switch(M){case be:return 4;case zt:return 8}return 2}},{key:"_spliceCanvasMouseEvents",value:function(M,z){if(M===void 0)return;var ce=document.getElementById(M);if(ce===null)return;var ie=this,Oe=window["wasmplayer-".concat(ie.szId)],Qe=ce.getAttribute("id"),st=ie.canvasFECSubPort.get(Qe);if(st.port===void 0)return;var D=ce.width,Xe=ce.height;function X(pe){var ee=[pe.clientX,pe.clientY];st.diff.y=ee[1]-st.start.y;var je=(st.total.y+st.diff.y)/Xe*2*Math.PI,mt=(ee[1]-st.lastCorrdsY)/(Xe*2),gt=Math.atan2(st.startPTZPosition.y-.5,st.startPTZPosition.x-.5),Gt=st.startPTZPosition.x+mt*Math.cos(gt),li=st.startPTZPosition.y+mt*Math.sin(gt);st.diff.x=ee[0]-st.start.x;var Oi=(st.total.x+st.diff.x)/D*2*Math.PI,ge=Math.sqrt(Math.pow(Gt-.5,2)+Math.pow(li-.5,2)),Ji=-Oi,kt=.5+ge*Math.cos(Ji),Lt=.5+ge*Math.sin(Ji);if(z.correctType<=be){switch(z.correctType){case be:st.param2d.upDateType=4;break;case ae:st.param2d.upDateType=4;break;case zt:st.param2d.upDateType=8;var Tt=Math.sqrt(Math.pow(kt-.5,2)+Math.pow(Lt-.5,2));if(Tt>.4)return;break}st.param2d.fValue=Oi,st.param2d.fPTZParam.fPTZPositionX=kt,st.param2d.fPTZParam.fPTZPositionY=Lt,Oe.JSPlayM4_FEC_SetParam(st.port,st.param2d)}else z.correctType===E&&(Oe.JSPlayM4_FEC_SetViewParam(st.port,2,Oi),Oe.JSPlayM4_FEC_SetViewParam(st.port,1,je))}var Ce=function(){};function ve(pe){st.start.x=pe.pageX,st.start.y=pe.pageY,st.lastCorrdsY=pe.pageY,Ce=function(je){X(je)},ce.addEventListener("mousemove",Ce)}ce.addEventListener("mousedown",ve);var Le=function(){Ce!==null&&(ce.removeEventListener("mousemove",Ce),Ce=null,st.total.x+=st.diff.x,st.total.y+=st.diff.y)};ce.addEventListener("mouseup",Le),ce.addEventListener("mouseleave",Le),ce.addEventListener("mouseout",Le)}},{key:"_colseFECAllSubWnd",value:function(){if(this.FECSplitIds&&this.canvasFECSubPort){var M=this.FECSplitIds.split(","),z=hn(M),ce;try{for(z.s();!(ce=z.n()).done;){var ie=ce.value;if(ie){var Oe=this.canvasFECSubPort.get(ie);if(Oe===void 0||Oe.port===void 0)continue;this.canvasFECSubPort.delete(ie);var Qe=window["wasmplayer-".concat(this.szId)];Qe.JSPlayM4_FEC_Disable(Oe.port,!0),Qe.JSPlayM4_FEC_DelPort(Oe.port)}}}catch(st){z.e(st)}finally{z.f()}}}},{key:"FEC_Set3DViewParam",value:function(M){var z=window["wasmplayer-".concat(this.szId)];if(this.FECSplitIds&&this.canvasFECSubPort&&this.correctType){var ce=z.JSPlayM4_FEC_SetViewParam(M.port,M.upDateType,M.fValue);return ce===1?Promise.resolve(!0):Promise.reject(!1)}return Promise.reject(void 0)}},{key:"FEC_Get3DViewParam",value:function(M){var z=this,ce=window["wasmplayer-".concat(this.szId)];return new Promise(function(ie,Oe){var Qe=function(Xe){ie(Xe)};if(z.FECSplitIds&&z.canvasFECSubPort&&z.correctType){var st=ce.JSPlayM4_FEC_GetViewParam(M.port,M.upDateType,Qe);if(st!==1)return Oe(!1)}return Oe(void 0)})}}]),H}();return window.JSPluginV3=Ge,Ge})})(d_);var u_=function(){function J(g,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(g,o.key,o)}}return function(g,t,n){return t&&J(g.prototype,t),n&&J(g,n),g}}();function f_(J,g){if(!(J instanceof g))throw new TypeError("Cannot call a class as a function")}var Dd=function(){var J=void 0;return function(g){return g&&(J=g),J}}();(function(){function J(){if(f_(this,J),Dd())return Dd();if(J.unique!==void 0)return J.unique;J.unique=this,this.oAudioContext=null,this.currentVolume=80,this.bSetVolume=!1,this.gainNode=null,this.iWndNum=-1,this.mVolumes=new Map;var g=window.AudioContext||window.webkitAudioContext;this.oAudioContext=new g,this.writeString=function(t,n,o){for(var c=0;c<o.length;c++)t.setUint8(n+c,o.charCodeAt(c))},this.setBufferToDataview=function(t,n,o){for(var c=0;c<o.length;c++,n++)t.setUint8(n,o[c])},Dd(this)}return u_(J,[{key:"Play",value:function(t,n,o){var c=new ArrayBuffer(44+n),d=new DataView(c),u=o.samplesPerSec,k=o.channels,P=o.bitsPerSample;this.writeString(d,0,"RIFF"),d.setUint32(4,32+n*2,!0),this.writeString(d,8,"WAVE"),this.writeString(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,1,!0),d.setUint16(22,k,!0),d.setUint32(24,u,!0),d.setUint32(28,u*2,!0),d.setUint16(32,k*P/8,!0),d.setUint16(34,P,!0),this.writeString(d,36,"data"),d.setUint32(40,n,!0),this.setBufferToDataview(d,44,t);var S=this;return this.oAudioContext.decodeAudioData(d.buffer,function(R){var b=S.oAudioContext.createBufferSource();if(b==null)return-1;b.buffer=R,b.start(0),(S.gainNode==null||S.bSetVolume)&&(S.gainNode=S.oAudioContext.createGain(),S.bSetVolume=!1),S.gainNode.gain.value=S.currentVolume/100,S.gainNode.connect(S.oAudioContext.destination),b.connect(S.gainNode)},function(R){return console.log("decode error"),-1}),0}},{key:"Stop",value:function(){return this.gainNode!=null&&(this.gainNode.disconnect(),this.gainNode=null),!0}},{key:"SetVolume",value:function(t){return this.bSetVolume=!0,this.currentVolume=t,this.mVolumes.set(this.iWndNum,this.currentVolume),!0}},{key:"SetWndNum",value:function(t){this.iWndNum=t;var n=this.mVolumes.get(t);return n==null&&(n=80),this.currentVolume=n,!0}},{key:"GetVolume",value:function(){var t=this.mVolumes.get(this.iWndNum);return t==null&&(t=80),t}}]),window.AudioRenderer=J,J})();var h_=["attribute vec4 vertexPos;","attribute vec2 texturePos;","varying vec2 textureCoord;","void main()","{","gl_Position = vertexPos;","textureCoord = texturePos;","}"].join(`
`),x_=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","const mat4 YUV2RGB = mat4","(","1.1643828125, 0, 1.59602734375, -.87078515625,","1.1643828125, -.39176171875, -.81296875, .52959375,","1.1643828125, 2.017234375, 0, -1.081390625,","0, 0, 0, 1",");","void main(void) {","highp float y = texture2D(ySampler,  textureCoord).r;","highp float u = texture2D(uSampler,  textureCoord).r;","highp float v = texture2D(vSampler,  textureCoord).r;","gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","}"].join(`
`);(function(J,g){window.SuperRender=g()})(void 0,function(){function J(g){this.canvasElement=document.getElementById(g),this.initContextGL(),this.contextGL&&(this.YUVProgram=this.initProgram(h_,x_),this.initBuffers(),this.initTextures())}return J.prototype.initContextGL=function(){var g=this.canvasElement,t=null;try{t=g.getContext("webgl")||g.getContext("experimental-webgl")}catch{t=null}(!t||typeof t.getParameter!="function")&&(t=null),this.contextGL=t,console.log("WebGL1.0")},J.prototype.initProgram=function(g,t){var n=this.contextGL,o=n.createShader(n.VERTEX_SHADER);n.shaderSource(o,g),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS)||console.log("Vertex shader failed to compile: "+n.getShaderInfoLog(o));var c=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(c,t),n.compileShader(c),n.getShaderParameter(c,n.COMPILE_STATUS)||console.log("Fragment shader failed to compile: "+n.getShaderInfoLog(c));var d=n.createProgram();return n.attachShader(d,o),n.attachShader(d,c),n.linkProgram(d),n.getProgramParameter(d,n.LINK_STATUS)||console.log("Program failed to compile: "+n.getProgramInfoLog(d)),n.deleteShader(o),n.deleteShader(c),d},J.prototype.initBuffers=function(){var g=this.contextGL,t=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,t),g.bufferData(g.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),g.STATIC_DRAW),g.bindBuffer(g.ARRAY_BUFFER,null);var n=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,n),g.bufferData(g.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),g.DYNAMIC_DRAW),g.bindBuffer(g.ARRAY_BUFFER,null),this.vertexPosBuffer=t,this.texturePosBuffer=n},J.prototype.initTexture=function(){var g=this.contextGL,t=g.createTexture();return g.bindTexture(g.TEXTURE_2D,t),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),g.bindTexture(g.TEXTURE_2D,null),t},J.prototype.initTextures=function(){var g=this.contextGL,t=this.YUVProgram;g.useProgram(t);var n=this.initTexture(),o=g.getUniformLocation(t,"ySampler");g.uniform1i(o,0),this.yTextureRef=n;var c=this.initTexture(),d=g.getUniformLocation(t,"uSampler");g.uniform1i(d,1),this.uTextureRef=c;var u=this.initTexture(),k=g.getUniformLocation(t,"vSampler");g.uniform1i(k,2),this.vTextureRef=u,g.useProgram(null)},J.prototype.SR_DisplayFrameData=function(g,t,n,o,c){if(!(g<=0||t<=0)){var d=this.contextGL;if(n==null){d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT);return}var u=this.canvasElement;this.nWindowWidth=u.width,this.nWindowHeight=u.height;var k=this.nWindowWidth,P=this.nWindowHeight;d.clearColor(.8,.8,1,1),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT),d.viewport(0,0,k,P),this.updateFrameData(g,t,n,o,c);var S=this.YUVProgram;d.useProgram(S);var R=this.vertexPosBuffer;d.bindBuffer(d.ARRAY_BUFFER,R);var b=d.getAttribLocation(S,"vertexPos");d.enableVertexAttribArray(b),d.vertexAttribPointer(b,2,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,null);var _=this.texturePosBuffer;d.bindBuffer(d.ARRAY_BUFFER,_);var oe=d.getAttribLocation(S,"texturePos");d.enableVertexAttribArray(oe),d.vertexAttribPointer(oe,2,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,null),d.drawArrays(d.TRIANGLE_STRIP,0,4),d.disableVertexAttribArray(b),d.disableVertexAttribArray(oe),d.useProgram(null)}},J.prototype.updateFrameData=function(g,t,n,o,c){var d=this.contextGL,u=this.yTextureRef,k=this.uTextureRef,P=this.vTextureRef,S=n;if(g==o&&t==c){var R=g*t,b=S.subarray(0,R);d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u),d.texImage2D(d.TEXTURE_2D,0,d.LUMINANCE,g,t,0,d.LUMINANCE,d.UNSIGNED_BYTE,b);var _=g/2*t/2,oe=S.subarray(g*t,g*t+_);d.activeTexture(d.TEXTURE2),d.bindTexture(d.TEXTURE_2D,P),d.texImage2D(d.TEXTURE_2D,0,d.LUMINANCE,g/2,t/2,0,d.LUMINANCE,d.UNSIGNED_BYTE,oe);var de=_,xe=S.subarray(g*t+g*t/4,g*t+g*t/4+de);d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,k),d.texImage2D(d.TEXTURE_2D,0,d.LUMINANCE,g/2,t/2,0,d.LUMINANCE,d.UNSIGNED_BYTE,xe)}else{for(var R=o*c,b=new Uint8Array(R),se=0;se<c;se++)for(var Ae=S.subarray(se*g,se*g+o),qe=0;qe<o;qe++)b[se*o+qe]=Ae[qe];d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u),d.texImage2D(d.TEXTURE_2D,0,d.LUMINANCE,o,c,0,d.LUMINANCE,d.UNSIGNED_BYTE,b),b=null,Ae=null;for(var _=o/2*c/2,oe=new Uint8Array(_),se=0;se<c/2;se++)for(var me=S.subarray(g*t+se*g/2,g*t+se*g/2+o/2),qe=0;qe<o/2;qe++)oe[se*o/2+qe]=me[qe];d.activeTexture(d.TEXTURE2),d.bindTexture(d.TEXTURE_2D,P),d.texImage2D(d.TEXTURE_2D,0,d.LUMINANCE,o/2,c/2,0,d.LUMINANCE,d.UNSIGNED_BYTE,oe),oe=null,me=null;for(var de=_,xe=new Uint8Array(de),se=0;se<c/2;se++)for(var m=S.subarray(g*t*5/4+se*g/2,g*t*5/4+se*g/2+o/2),qe=0;qe<o/2;qe++)xe[se*o/2+qe]=m[qe];d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,k),d.texImage2D(d.TEXTURE_2D,0,d.LUMINANCE,o/2,c/2,0,d.LUMINANCE,d.UNSIGNED_BYTE,xe),xe=null,m=null}},J.prototype.SR_SetDisplayRect=function(g){var t=this.contextGL,n=this.nWindowWidth,o=this.nWindowHeight,c=null;if(g&&n>0&&o>0){var d=g.left/n,u=g.top/o,k=g.right/n,P=g.bottom/o;c=new Float32Array([k,u,d,u,k,P,d,P])}else c=new Float32Array([1,0,0,0,1,1,0,1]);var S=this.texturePosBuffer;t.bindBuffer(t.ARRAY_BUFFER,S),t.bufferSubData(t.ARRAY_BUFFER,0,c),t.bindBuffer(t.ARRAY_BUFFER,null)},J.prototype.SR_Destroy=function(){var g=this.contextGL,t=this.YUVProgram;g.deleteProgram(t);var n=this.vertexPosBuffer,o=this.texturePosBuffer;g.deleteBuffer(n),g.deleteBuffer(o);var c=this.yTextureRef,d=this.uTextureRef,u=this.vTextureRef;g.deleteTexture(c),g.deleteTexture(d),g.deleteTexture(u)},J});var yh="https://openstatic.ys7.com",p_="".concat(yh,"/ezuikit_js/ezuikit_static/v65/v3"),m_="".concat(yh,"/ezuikit_js/ezuikit_static/v65/v1"),Ad=function(g,t){var n=["theme","standard"],o=["pcLive","pcRec","mobileLive","mobileRec","noData","security","voice","simple","mobileCall","miniRec"];if(typeof g>"u")return t.themeData?{templateType:"themeData",templateId:"themeData"}:{templateType:"local",templateId:""};if(typeof g=="string"){if(g.length===32)return{templateType:"remote",templateId:g};if(n.indexOf(g)!==-1)return g==="simple"&&typeof t.header>"u"&&typeof t.footer>"u"?{templateType:"local",templateId:""}:{templateType:"iframe",templateId:g};if(o.indexOf(g)!==-1)return t.url.indexOf("rec")!=-1&&t.template!="simple"&&t.id!="miniRec"?{templateType:"local",templateId:Vr()?"mobileRec":"pcRec"}:{templateType:"local",templateId:g};if(t&&t.isCall)return{templateType:"invalid",templateId:g}}},As=function(){var g=window.navigator.userAgent.toLowerCase(),t={sa:/version.*safari/.test(g),ch:/chrome/.test(g),ff:/gecko/.test(g)&&!/webkit/.test(g)};if(Vr())return!1;if(t.ch){var n=function(){for(var c=window.navigator.userAgent.split(" "),d="",u=0;u<c.length;u++)/chrome/i.test(c[u])&&(d=c[u]);return d?Number(d.split("/")[1].split(".")[0]):!1};return n()>91&&!!window.SharedArrayBuffer}return!1},bh=function(){function J(g){var t=this;Re(this,J),this.isStoping=!1;var n=g.autoplay,o=n===void 0?!0:n;if((g.template||g.themeData)&&(o=!1),this.params=g,this.autoplay=o,this.talkChannelNo=g.talkChannelNo||null,this.eventEmitter=new i_,window.EZUIKit[g.id]={state:{EZUIKitPlayer:{init:window.EZUIKit[g.id]&&window.EZUIKit[g.id].state&&window.EZUIKit[g.id].state.EZUIKitPlayer.init||!1,themeInit:window.EZUIKit[g.id]&&window.EZUIKit[g.id].state&&window.EZUIKit[g.id].state.EZUIKitPlayer.themeInit||!1,talkInit:window.EZUIKit[g.id]&&window.EZUIKit[g.id].state&&window.EZUIKit[g.id].state.EZUIKitPlayer.talkInit||!1}}},Ad(this.params.template,g).templateType!=="iframe"){this.id=g.id,this.width=g.width,this.height=g.height,this.fullScreenWidth=0,this.fullScreenHeight=0,this.isCall=g.isCall||!1,this.isWebConsole=g.isWebConsole||!1,this.callTime=g.callTime||null,this.hangUpCallback=g.hangUpCallback||null,this.isNeedBellRing=g.isNeedBellRing!==!1,this.url=g.url,this.accessToken=g.accessToken,this.deviceSerial=Nn(g.url).deviceSerial,this.channelNo=Nn(g.url).channelNo,this.themeId=Ad(g.template,g).templateId,this.sourceThemeId=Ad(g.template,g).templateId,this.id=g.id,this.audio=!0,this.poster=g.poster,this.speed=1,this.disabledTimeLine=!1,this.disabledPTZ=!1,this.enableSharedArrayBufferGuide=!1,this.capacity=null,this.playTimer=null,this.env={domain:"https://open.ys7.com"},this.isMobile=Vr(),this.support3DZoom=!1,this.use3DZoom=!1,this.is3DZooming=!1,this.useHardDev=typeof g.useHardDev<"u"?g.useHardDev:!1,this.isInspect=g.isInspect||!1,this.inspectRecordingDuration=g.inspectRecordingDuration||4*60*60*1e3,this.inspectVideoWidth=g.inspectVideoWidth||290,this.inspectVideoHeight=g.inspectVideoHeight||170,this._FECCorrectType=null,this._FECSplitIds="",document.getElementById("".concat(this.id,"-wrap"))&&(document.getElementById("".concat(this.id,"-wrap")).innerHTML="",document.getElementById("".concat(this.id,"-wrap")).id=this.id),this.staticPath=m_;var c=!this.useHardDev&&As()||this.useHardDev&&!this._IsSupHardDecAVC()&&!this._IsSupHardDecHEVC()&&As()||this.useHardDev&&(this._IsSupHardDecAVC()||this._IsSupHardDecHEVC()||As());this.isV3=c,c&&(this.staticPath=p_),typeof g.staticPath=="string"&&(g.staticPath.startsWith("http")?this.staticPath=g.staticPath:this.staticPath=window.location.protocol+"//"+window.location.host+g.staticPath,c?this.staticPath+="/v3":this.staticPath+="/v1"),typeof g.audio<"u"&&(this.audio=g.audio),typeof g.env<"u"&&(this.env=Object.assign(this.env,g.env)),typeof g.isMobile<"u"&&(this.isMobile=g.isMobile),typeof g.disabledTimeLine<"u"&&(this.disabledTimeLine=g.disabledTimeLine),typeof g.disabledPTZ<"u"&&(this.disabledPTZ=g.disabledPTZ),typeof g.enableSharedArrayBufferGuide<"u"&&(this.enableSharedArrayBufferGuide=g.enableSharedArrayBufferGuide);var d=function(){if(As())console.log("启用多线程解析视频");else{var k=function(){for(var xe=navigator.userAgent.split(" "),se="",Ae=0;Ae<xe.length;Ae++)/chrome/i.test(xe[Ae])&&(se=xe[Ae]);return se?Number(se.split("/")[1].split(".")[0]):!1};if(!Vr&&91<k&&t.enableSharedArrayBufferGuide){console.log("提示用户开启谷歌实验室特性");var P="".concat(t.id,"-wrap"),S=document.createElement("div"),R=document.createElement("span");R.innerHTML="您当前浏览器可以开启谷歌实验室多线程特性，获取更好播放体验，避免浏览器卡顿及崩溃,详见",S.appendChild(R);var b=document.createElement("a");b.href="https://open.ys7.com/help/384",b.setAttribute("target","_blank"),S.appendChild(b),b.innerHTML="开启说明",S.id="".concat(t.id,"-guide"),S.style="font-size:12px;color:red;",setTimeout(function(){document.getElementById(P)&&document.getElementById(P).insertBefore(S,document.getElementById(t.id))},5e3)}}if(t.pluginStatus=new un(t,t.id),t.videoInitTime=Date.now(),t.videoPlayState=1,window.monitorExtendsInfo={protocol:"ezopen",url:t.url,serial:t.deviceSerial,no:t.channelNo,env:t.env.domain,type:Nn(t.url).type},window.ezuikitMonitor.report({action:1,logInfo:{pluginVersion:c?"v3":"v1",params:g}}),t.initTime=new Date().getTime(),t.autoplay){var _=t.initEZUIKitPlayer(g),oe=t._getRealUrlPromise(g.accessToken,g.url);Promise.all([_,oe]).then(function(de){de[1]?(t.playStartTime=new Date().getTime(),t._pluginPlay(de[1],function(){if(t.videoPlayState===1||t.videoPlayState===4){t.videoPlayState=2;var xe=Date.now();window.ezuikitMonitor.report({action:2,logInfo:{pluginVersion:t.isV3?"v3":"v1",loadTime:xe-t.videoInitTime,loadTimeDesc:{initTime:t.playStartTime-t.videoInitTime,stopTime:0,getWsTime:t.doCreateWsTime-t.playStartTime,createWsTime:xe-t.doCreateWsTime}}})}console.log("自动播放成功")},function(){console.log("自动播放失败")})):console.log("promise of one",de),window.EZUIKit[g.id].state.EZUIKitPlayer.init=!0,document.getElementById("".concat(g.id,"canvas_draw0"))&&(document.getElementById("".concat(g.id,"canvas_draw0")).style.border="none")}).catch(function(de){if(console.log("err",de),t.videoPlayState===1||t.videoPlayState===4){t.videoPlayState=3;var xe=Date.now();window.ezuikitMonitor.report({action:3,logInfo:{pluginVersion:t.isV3?"v3":"v1",loadTime:xe-t.videoInitTime,err:de}})}t.Theme&&t.Theme.setDisabled(!0),t.pluginStatus.loadingClear(),t.isInspect?(t.pluginStatus.loadingSetTextWithBtn({mask:!0,maskStyle:"url(".concat(t.staticPath,"/imgs/bg.svg) no-repeat 100%/cover"),text:de&&de.msg,btnName:"重试",type:1}),t.Theme.jSPlugin.Zoom&&t.Theme.jSPlugin.Zoom.stopZoom(),t.Theme&&t.Theme.inspect&&t.Theme.inspect.InspectEvent&&t.Theme.inspect.InspectEvent.disableEvidenceBtn()):t.pluginStatus.loadingSetText({text:de&&de.msg||"获取播放地址失败",color:"red"})})}else{var _=t.initEZUIKitPlayer(g);_.then(function(xe){console.log("初始化成功",xe),window.EZUIKit[g.id].state.EZUIKitPlayer.init=!0,document.getElementById("".concat(g.id,"canvas_draw0"))&&(document.getElementById("".concat(g.id,"canvas_draw0")).style.border="none"),t.initSuccessTime=new Date().getTime()})}g.plugin&&g.plugin.indexOf("talk")!==-1&&(t.Talk=new tc(t),window.EZUIKit[g.id].state.EZUIKitPlayer.talkInit=!0),t.getDeviceCapacity()};d()}else return new n_.EZUIKitPlayer(g);this.play=Rd(function(u){return t._play(u)},500,!0),this.resume=Rd(function(u){return t._resume(u)},500,!0),this.changePlayUrl=Rd(function(u,k,P){return t._changePlayUrl(u,k,P)},500),window.addEventListener("beforeunload",function(){console.log("退出页面，停止视频流"),t.stop()})}return xt(J,[{key:"_getExplore",value:function(){var t={},n=navigator.userAgent.toLowerCase(),o;if((o=n.match(/rv:([\d.]+)\) like gecko/))||(o=n.match(/msie ([\d\.]+)/))?t.ie=o[1]:(o=n.match(/edge\/([\d\.]+)/))?t.edge=o[1]:(o=n.match(/firefox\/([\d\.]+)/))?t.firefox=o[1]:(o=n.match(/(?:opera|opr).([\d\.]+)/))?t.opera=o[1]:(o=n.match(/chrome\/([\d\.]+)/))?t.chrome=o[1]:(o=n.match(/version\/([\d\.]+).*safari/))&&(t.safari=o[1]),t.chrome){var c=t.chrome,d=c.indexOf("."),u=Number(c.substring(0,d));return u}else t.ie?console.info("%c1>your browser is IE ,it does not support play without plugin","color: red"):t.safari?console.info("%c1>your browser is safari ,it does not support softV2.0 or hard decode","color: red"):t.firefox?console.info("%c1>your browser is Firefox ,it only support soft decode","color: red"):console.info("%c1>your browser does not support play without plugin","color: red");return-1}},{key:"_IsSupHardDecAVC",value:function(t){var n=this._getExplore();return n>=94?(t&&t(!0),!0):(t&&t(!1),!1)}},{key:"_IsSupHardDecHEVC",value:function(t){var n=!1,o=this._getExplore();if(o>=107){var c={codec:"hvc1.1.6.L123.00",hardwareAcceleration:"prefer-hardware"};VideoDecoder.isConfigSupported(c).then(function(d){d.supported?(n=!0,t&&t({bSupHardDecHEVC:n})):t&&t({bSupHardDecHEVC:n})})}else t&&t({bSupHardDecHEVC:n})}},{key:"initEZUIKitPlayer",value:function(t){var n=this,o=t.id,c=t.width,d=c===void 0?600:c,u=t.height,k=u===void 0?400:u;if(!t.width||!t.height){var P=document.getElementById(o).getBoundingClientRect();!t.width&&P.width>0&&(d=P.width),!t.height&&P.height>0&&(k=P.height)}if(!document.getElementById("".concat(o,"-wrap"))){var S=document.createElement("div");S.id="".concat(o,"-wrap"),S.style="display:inline-block;width:".concat(d,"px;position:relative;vertical-align: bottom;"),document.getElementById(o).parentNode.insertBefore(S,document.getElementById(o)),document.getElementById(o).parentNode.removeChild(document.getElementById(o)),this.isInspect&&(S.style.height="".concat(k,"px"),this.width-=this.inspectVideoWidth,this.height-=this.inspectVideoHeight,d=this.width,k=this.height),S.innerHTML="<div id=".concat(o,"></div>"),document.getElementById(o).style="display:inline-block;width:".concat(d,"px;height:").concat(k,"px;"),document.getElementById(o).style.verticalAlign="top"}this.themeId&&(console.log(this.themeId),t.isCall==!0?this.Theme=new Om(this,t.id):t.isInspect==!0?this.Theme=new t_(this):this.Theme=new wm(this,t.id),window.EZUIKit[t.id].state.EZUIKitPlayer.themeInit=!0,typeof this.params.handleThemeChange=="function"&&(this.handleThemeChange=this.params.handleThemeChange));var R=new Vn(this,o);this.Message=R;var b=function(de,xe){console.log("开始初始化decoder：",new Date().getTime());var se=n,Ae;!n.useHardDev&&As()||n.useHardDev&&!n._IsSupHardDecAVC()&&!n._IsSupHardDecHEVC()&&As()||n.useHardDev&&(n._IsSupHardDecAVC()||n._IsSupHardDecHEVC()||As())?Ae=new window.JSPluginV3({szId:o,iType:2,iWidth:d,iHeight:k,iMaxSplit:1,iCurrentSplit:1,szBasePath:"",useHardDev:n.useHardDev,isHardH264:n._IsSupHardDecAVC(),isHardH265:n._IsSupHardDecHEVC(),isSharedArrayBuffer:As(),staticPath:n.staticPath,oStyle:{border:"none",background:"#000000"}}):Ae=new window.JSPluginV1({szId:o,iType:2,iWidth:d,iHeight:k,iMaxSplit:1,iCurrentSplit:1,szBasePath:"",staticPath:n.staticPath,oStyle:{border:"none",background:"#000000"}}),n.pluginStatus.loadingStart(o),n.isCall||n.isInspect?n.pluginStatus.loadingSetText({text:"视频加载中"}):n.themeId=="miniRec"?n.pluginStatus.loadingSetText({text:""}):n.pluginStatus.loadingSetText({text:"初始化播放器完成"});var qe=!1;Ae.EventCallback={openStreamCallback:function(){console.log("开启取流---v1"),n.openStreamTime=new Date().getTime(),qe=!1},getStreamHeaderCallback:function(){console.log("完成取流返回流头"),n.getStreamHeaderTime=new Date().getTime(),qe=!1},getVideoStreamCallback:function(){console.log("返回视频流(首次)"),n.getVideoStreamTime=new Date().getTime(),n.isCall&&n.Theme&&n.Theme.decoderState&&n.Theme.decoderState.state.rejection&&(console.log("挂断/拒绝状态------------stop"),n.stop(function(){n.pluginStatus.loadingClear(),n.pluginStatus.loadingSetTextWithBtn({text:"通话已结束",color:"white",isMobile:n.isMobile,type:2})})),n.isInspect&&n.Theme.decoderState.state.play&&(n.Theme.inspectMode!=="map"&&n.Theme.jSPlugin.Zoom&&setTimeout(function(){n.Theme.jSPlugin.Zoom.startZoom()},1e3),n.Theme&&n.Theme.inspect&&n.Theme.inspect.InspectEvent&&n.Theme.inspect.InspectEvent.enableEvidenceBtn())},appearFirstFrameCallback:function(){console.log("出现首帧画面（播放成功）"),n.appearFirstFrameTime=new Date().getTime()},averageStreamSuccessCallback:function(){n.averageStreamSuccessTime=n.initSuccessTime-n.initTime+(n.gotWsUrlTime-n.startGetWsUrlTime)+(n.appearFirstFrameTime-n.openStreamTime),console.log("平均成功取流的出流耗时:",n.averageStreamSuccessTime)},loadEventHandler:function(){},zoomEventResponse:function(){},windowEventSelect:function(U){},pluginErrorHandler:function(U,le,re){if(!(n.isCall&&n.Theme&&n.Theme.decoderState&&n.Theme.decoderState.state.rejection))if(le===1003)console.log("断流"),n.Theme&&n.Theme.setDecoderState({play:!1}),n.pluginStatus.setPlayStatus({play:!1}),Ae.bPlay||(n.pluginStatus.loadingClear(),n.isCall?n.pluginStatus.loadingSetTextWithBtn({text:"连接断开，请重试",color:"white",btnName:n.isMobile?"重试":"重新加载",isMobile:n.isMobile,type:n.isCall?1:2}):n.isInspect?(n.pluginStatus.loadingSetTextWithBtn({mask:!0,text:"连接断开，请重试",btnName:"重试",type:1}),n.Theme.jSPlugin.Zoom&&n.Theme.jSPlugin.Zoom.stopZoom(),n.Theme&&n.Theme.inspect&&n.Theme.inspect.InspectEvent&&n.Theme.inspect.InspectEvent.disableEvidenceBtn()):n.pluginStatus.loadingSetText({text:"连接断开，请重试",color:"red"})),typeof n.params.handleError=="function"&&n.params.handleError({msg:"连接断开，请重试",retcode:1003,id:n.params.id,type:"handleError"});else if(re.errorCode!=1){var Pe=Date.now();n.videoPlayState===1||n.videoPlayState===4?(n.videoPlayState=3,window.ezuikitMonitor.report({action:3,logInfo:{pluginVersion:n.isV3?"v3":"v1",err:re,loadTime:Pe-n.videoInitTime}})):n.videoPlayState===2&&(n.videoPlayState=5,window.ezuikitMonitor.report({action:5,logInfo:{pluginVersion:n.isV3?"v3":"v1",err:re,loadTime:Pe-n.videoInitTime}})),console.log("errorCode----------",re.errorCode);var fe=n.errorHander.matchErrorInfo(re.errorCode),$e="连接断开，请重试";fe&&fe.msg?$e=fe.msg:fe&&fe.description&&($e=fe.description),n.Theme&&n.Theme.setDecoderState({play:!1}),n.pluginStatus.setPlayStatus({play:!1}),n.pluginStatus.loadingClear(),n.isCall?n.pluginStatus.loadingSetTextWithBtn({text:$e,color:"white",btnName:n.isMobile?"重试":"重新加载",isMobile:n.isMobile}):n.isInspect?(n.Theme.jSPlugin.Zoom&&n.Theme.jSPlugin.Zoom.stopZoom(),n.pluginStatus.loadingSetTextWithBtn({mask:!0,text:$e,btnName:"重试",type:1}),n.Theme&&n.Theme.inspect&&n.Theme.inspect.InspectEvent&&n.Theme.inspect.InspectEvent.disableEvidenceBtn()):n.pluginStatus.loadingSetText({text:$e,color:"red"}),typeof n.params.handleError=="function"&&n.params.handleError({msg:$e,retcode:re.errorCode,id:n.params.id,type:"handleError"})}else n.pluginStatus.loadingClear(),n.Theme&&n.Theme.setDisabled(!1)},windowEventOver:function(U){},windowEventOut:function(U){},windowEventUp:function(U){},windowFullCcreenChange:function(U){},firstFrameDisplay:function(U,le,re){console.log(le,re),Ae.JS_SetCanFullScreen(!1)},performanceLack:function(){},mouseEvent:function(U,le,re){},setRunTimeInfoCallBack:function(U,le,re,Pe,fe){fe===5&&(se.pluginStatus.loadingClear(),se.isInspect?(se.Theme.jSPlugin.Zoom&&se.Theme.jSPlugin.Zoom.stopZoom(),se.pluginStatus.loadingSetTextWithBtn({mask:!0,maskStyle:"url(".concat(n.staticPath,"/imgs/bg.svg) no-repeat 100%/cover"),text:"设备已加密",color:"white",btnName:"重试",type:1})):se.pluginStatus.loadingSetText({text:"设备已加密",color:"red"})),typeof n.params.handleError=="function"&&!qe&&t.handleError({retcode:-1,data:{nRunTimeModule:U,nStrVersion:le,nFrameTimeStamp:re,nFrameNum:Pe,nErrorCode:fe},id:n.params.id,type:"handleRunTimeInfoError"}),qe=!0}},n.env={domain:"https://open.ys7.com"},typeof t.env<"u"&&(n.env=Object.assign(n.env,t.env)),typeof t.handleTalkSuccess<"u"&&(n.handleTalkSuccess=t.handleTalkSuccess),typeof t.handleTalkError<"u"&&(n.handleTalkError=t.handleTalkError),n.errorHander=new ui,n.jSPlugin=Ae;var me=setInterval(function(){window.JSPlayerModuleLoaded&&(clearInterval(me),typeof n.params.handleInitSuccess=="function"&&n.params.handleInitSuccess({retcode:0,id:n.params.id,type:"handleInitSuccess"}),de({meta:{retcode:200,msg:"初始化成功"}}))},50)},_=new Promise(b);return _}},{key:"_getRealUrlPromise",value:function(t,n){var o=this;console.log("开始获取ws播放地址： url => ".concat(n," ").concat(this.accessToken)),this.startGetWsTime=Date.now(),this.startGetWsUrlTime=new Date().getTime();var c=this.env.domain;this.env&&(c=this.env.domain);var d=function(S,R){var b="",_=c+"/api/lapp/live/url/ezopen",oe=new FormData;oe.append("ezopen",n),oe.append("isFlv","false"),oe.append("userAgent",window.navigator.userAgent),oe.append("isHttp","false"),oe.append("accessToken",t),fetch(_,{method:"POST",body:oe}).then(function(de){return de.json()}).then(function(de){if(de.code==200||de.retcode==0){var xe="",se="";de.ext&&de.ext.token?(b+=de.data,se=de.ext.token,xe=de.data):de.data&&de.data.token&&(b+=de.data.url,se=de.data.token,xe=de.data.url);var Ae=n.indexOf("live")!==-1?"live":"playback";Ae==="live"?b=b+"&ssn="+se+"&auth=1&biz=4&cln=100":b=b+"&ssn="+se+"&auth=1&cln=100",console.log(b);var qe=cr("checkCode",b);if(qe&&(typeof o.jSPlugin.decoderVersion<"u"&&o.jSPlugin.decoderVersion==="2.0"?o.validateCode=qe:(console.log("设置密钥",qe),o.validateCode=qe,o.jSPlugin.JS_SetSecretKey(0,qe))),b.indexOf("playback")!==-1){var me=cr("begin",xe)||cr("begin",n),m=cr("end",xe)||cr("end",n);if(me)b=b.replace("&begin="+cr("begin",xe),"&begin="+u(me,"000000")),cr("begin",b)||(b+="&begin="+u(me,"000000"));else{var U=new Date;b=b+"&begin="+U.Format("yyyyMMdd")+"T000000Z"}if(m?(b=b.replace("&end="+cr("end",xe),"&end="+u(m,"235959")),cr("end",b)||(b+="&end="+u(m,"235959"))):b=b+"&end="+u(cr("begin",b).substr(0,8),"235959"),cr("stream",xe)||(b=b.replace("stream","&stream")),n.indexOf(".cloud")!==-1){var le=function(Hi){if(Hi.code==200){var Pi=[];if(Hi.data&&Hi.data.files&&Hi.data.files.length>0){var Ci=Hi.data.files,Qi=new Date().getTime(),at=Hi.data.isAll;if(at){Pi=We(Ci);var pt=JSON.stringify(Pi).replace("\\","");b+="&recSlice="+pt.replace("\\","")+"&r="+Math.random(),S(b)}else{var rt=function ft(){function $t(ri){if(ri.data&&ri.data.files&&ri.data.files.length>0)if(ri.data.isAll==!1)ri.data.files&&(Ci=Ci.concat(ri.data.files)),Qi=ri.data.nextFileTime>0?ri.data.nextFileTime:new Date().getTime(),ft();else{Pi=We(Ci);var zt=JSON.stringify(Pi).replace("\\","");b+="&recSlice="+zt.replace("\\","")+"&r="+Math.random(),S(b)}else{Pi=We(Ci);var zt=JSON.stringify(Pi).replace("\\","");b+="&recSlice="+zt.replace("\\","")+"&r="+Math.random(),S(b)}}F.startTime=Qi,Lr(ot,"POST",F,"",$t)};rt()}}else R({retcode:-1,msg:"未找到录像片段"})}else R({retcode:-1,msg:"未找到录像片段"});function We(ft){var $t=[];return ft.forEach(function(ri,zt){$t.length==0||ri.downloadPath!==$t[$t.length-1].downloadPath?$t.push({downloadPath:ri.downloadPath,ownerId:ri.ownerId,iStorageVersion:ri.iStorageVersion,videoType:ri.videoType,iPlaySpeed:0,startTime:ri.startTime,endTime:ri.endTime}):$t[$t.length-1].endTime=ri.endTime}),$t}},re=k(cr("begin",b)),Pe=k(cr("end",b)),fe=cr("serial",b),$e=cr("chn",b),ot=c+"/api/lapp/video/by/time",F={accessToken:o.accessToken,recType:1,deviceSerial:fe,channelNo:$e,startTime:re,endTime:Pe,version:"2.0"};Lr(ot,"POST",F,"",le)}else if(n.indexOf("alarmId")!==-1){var Ie=function(rt){if(rt.code==200){var We=[];if(rt.data){We=$t([rt.data]);var ft=JSON.stringify(We).replace("\\","");b+="&recSlice="+ft.replace("\\",""),console.log("realUrl",b,rt.data.recType),rt.data.recType==1?b=b.replace("/playback","/cloudplayback"):b=b.replace("/cloudplayback","/playback"),S(b)}}function $t(ri){var zt=[];return ri.forEach(function(ae,be){zt.length==0||ae.downloadPath!==zt[zt.length-1].downloadPath?zt.push({downloadPath:ae.downloadPath,ownerId:ae.ownerId,iStorageVersion:ae.iStorageVersion,videoType:ae.videoType,iPlaySpeed:0,startTime:ae.startTime,endTime:ae.endTime}):zt[zt.length-1].endTime=ae.endTime}),console.log("downloadPathArr",zt),zt}};console.log("进入alarmId回放");var Ve=cr("alarmId",b),re=k(cr("begin",b)),Pe=k(cr("end",b)),fe=cr("serial",b),$e=cr("chn",b),ot=c+"/api/lapp/video/by/id",F={accessToken:o.accessToken,deviceSerial:fe,channelNo:$e,alarmId:Ve};Lr(ot,"POST",F,"",Ie)}else S(b)}else S(b)}else o.Theme&&(o.Theme.setDisabled(!0),o.Theme.setDecoderState({play:!1})),o.pluginStatus.setPlayStatus({play:!1}),o.pluginStatus.loadingClear(),o.isInspect?(o.Theme.jSPlugin.Zoom&&o.Theme.jSPlugin.Zoom.stopZoom(),o.pluginStatus.loadingSetTextWithBtn({mask:!0,maskStyle:"url(".concat(o.staticPath,"/imgs/bg.svg) no-repeat 100%/cover"),text:de.msg,color:"white",btnName:"重试",type:1}),o.Theme&&o.Theme.inspect&&o.Theme.inspect.InspectEvent&&o.Theme.inspect.InspectEvent.disableEvidenceBtn()):o.pluginStatus.loadingSetText({text:de.msg,color:"red"}),typeof o.params.handleError=="function"&&o.params.handleError({retcode:de.code,msg:de.msg,id:o.params.id,type:"handleError"}),R(de)})};return new Promise(function(P,S){return d(P,S)});function u(P,S){var R=/^[0-9]{8}T[0-9]{6}Z$/;if(R.test(P))return P;if(/[0-9]{8,14}/.test(P)){var b=6-(14-P.length),_=S.length,oe=P+S.substring(b,_);return oe.slice(0,8)+"T"+oe.slice(8)+"Z"}throw new Error("回放时间格式有误，请确认")}function k(P){var S=P.slice(0,4),R=P.slice(4,6),b=P.slice(6,8),_=P.slice(9,11),oe=P.slice(11,13),de=P.slice(13,15),xe=S+"-"+R+"-"+b+" "+_+":"+oe+":"+de;return new Date(xe.replace(/-/g,"/")).getTime()}}},{key:"_pluginPlay",value:function(t,n,o){var c=this;if(console.log("执行播放 _pluginPlay",t),!t)return!1;function d(S){var R=S.split("?")[0].replace("/live","").replace("/playback",""),b=(S.indexOf("/live")===-1?S.indexOf("cloudplayback")!==-1?"/cloudplayback?":"/playback?":"/live?")+S.split("?")[1];return b.indexOf("/playback")!==-1&&(b=b.replace("stream=2","stream=1")),{websocketConnectUrl:R,websocketStreamingParam:b}}var u=d(t).websocketConnectUrl;this.env&&this.env.wsUrl&&(u=this.env.wsUrl),this.doCreateWsTime=Date.now(),this.gotWsUrlTime=new Date().getTime();var k={playURL:d(t).websocketStreamingParam};console.log("播放前 stop 阶段 结束"),this.isStoping=!1;var P=Date.now();console.log("执行播放 ... this.jSPlugin.JS_Play at ",P),this.jSPlugin.JS_Play(u,k,0).then(function(){if(console.log("执行播放 ... this.jSPlugin.JS_Play 播放成功",u,k),console.log("执行播放耗时 ",Date.now()-P),c.isStoping){console.log("现在在播放前 stop 阶段，此次应为无效播放成功触发。不执行后续回调， 此次耗时无效");return}if(c.validateCode&&typeof c.jSPlugin.decoderVersion<"u"&&c.jSPlugin.decoderVersion==="2.0"&&c.jSPlugin.JS_SetSecretKey(0,c.validateCode),c.pluginStatus.loadingClear(),c.pluginStatus.setPlayStatus({play:!0,loading:!1}),c.Theme){if(c.Theme.setDecoderState({play:!0}),!c.isCall&&Object.keys(c.Theme.themeData).length>0)var S=Pr.findIndex(c.Theme.themeData.footer.btnList,function(R){return R.iconId==="sound"&&R.isrender===1&&R.defaultActive===1})>-1;c.audio=S}c.audio&&setTimeout(function(){c.openSound()},100),typeof c.params.handleSuccess=="function"&&c.params.handleSuccess({retcode:0,id:c.params.id,type:"handleSuccess"}),n(k)},function(S){console.log("err",S);var R="播放失败，请检查设备及客户端网络",b=-1;if(c.jSPlugin.bPlay)return!1;if(S&&S.errorCode){var _=c.errorHander.matchErrorInfo(S.errorCode);c.Theme&&c.Theme.setDisabled(!0),_&&_.msg?R=_.msg:_&&_.description?R=_.description:R="播放失败，请检查设备及客户端网络",b=S.errorCode}c.isCall?c.Theme&&c.Theme.decoderState&&c.Theme.decoderState.state.rejection||(c.pluginStatus.loadingClear(),c.pluginStatus.loadingSetTextWithBtn({text:R,color:"white",btnName:c.isMobile?"重试":"重新加载",isMobile:c.isMobile})):(c.pluginStatus.loadingClear(),c.isInspect?(c.Theme.jSPlugin.Zoom&&c.Theme.jSPlugin.Zoom.stopZoom(),b===5404?document.getElementById("".concat(c.id,"-no-inspect-box"))||c.Theme&&c.Theme.inspectEnding():c.pluginStatus.loadingSetTextWithBtn({mask:!0,text:R,color:"white",btnName:"重试",type:1}),c.Theme&&c.Theme.inspect&&c.Theme.inspect.InspectEvent&&c.Theme.inspect.InspectEvent.disableEvidenceBtn()):c.pluginStatus.loadingSetText({text:R,color:"red"})),typeof c.params.handleError=="function"&&c.params.handleError({retcode:b,msg:R,id:c.params.id,type:"handleError"}),o()})}},{key:"_play",value:function(t){var n=this;console.log("执行播放 play options.url =>",t),this.pluginStatus.setPlayStatus({play:!1,loading:!0}),this.playStartTime=new Date().getTime(),t&&(typeof t=="string"&&(this.url=t),typeof t.url=="string"&&(this.url=t.url),typeof t.accessToken=="string"&&(this.accessToken=t.accessToken),typeof Nn(this.url).deviceSerial=="string"&&(this.deviceSerial=Nn(this.url).deviceSerial),typeof Nn(this.url).channelNo=="string"&&(this.channelNo=Nn(this.url).channelNo),this.Theme&&(typeof t.url=="string"||typeof t.accessToken=="string")&&this.Theme.getDeviceInfo(function(c){}));var o=new Promise(function(c,d){console.log("执行 播放前 stop"),n.isStoping=!0,n.jSPlugin.JS_Stop(0).then(function(){n.stopTime=Date.now(),console.log("播放前 stop 执行成功 this.url => ".concat(n.url," ").concat(n.accessToken)),n._getRealUrlPromise(n.accessToken,n.url).then(function(u){n._pluginPlay(u,function(k){if(console.log("---------------------播放成功回调"),console.log("this.videoPlayState",n.videoPlayState),n.eventEmitter&&n.eventEmitter.emit("play",{eventType:"play",code:0,target:n,msg:"播放成功"}),n.videoPlayState===1||n.videoPlayState===4){n.videoPlayState=2;var P=Date.now();window.ezuikitMonitor.report({action:2,logInfo:{pluginVersion:n.isV3?"v3":"v1",loadTime:P-n.videoInitTime,loadTimeDesc:{initTime:n.playStartTime-n.videoInitTime,stopTime:n.stopTime-n.playStartTime,getWsTime:n.doCreateWsTime-n.stopTime,createWsTime:P-n.doCreateWsTime}}})}setTimeout(function(){n.pluginStatus.loadingClear(),n.isCall&&n.Theme&&n.Theme.decoderState&&n.Theme.decoderState.state.rejection&&(console.log("挂断/拒绝状态------------stop"),n.stop(function(){n.pluginStatus.loadingClear(),n.pluginStatus.loadingSetTextWithBtn({text:"通话已结束",color:"white",isMobile:n.isMobile,type:2})}))},500),n.jSPlugin&&n._FECSplitIds&&n._FECCorrectType&&n.jSPlugin.JS_FECCorrectType(n._FECCorrectType,n._FECSplitIds),c(!0)},function(){return d(!1)})}).catch(function(u){var k=Date.now();n.videoPlayState===1||n.videoPlayState===4?(n.videoPlayState=3,window.ezuikitMonitor.report({action:3,logInfo:{pluginVersion:n.isV3?"v3":"v1",err:u,loadTime:k-n.videoInitTime}})):n.videoPlayState===2&&(n.videoPlayState=5,window.ezuikitMonitor.report({action:5,logInfo:{pluginVersion:n.isV3?"v3":"v1",err:u,loadTime:k-n.videoInitTime}}));var P=u.msg?u.msg:"播放失败，请检查设备及客户端网络";n.Theme&&n.Theme.setDisabled(!0),n.isCall?n.Theme&&n.Theme.decoderState&&n.Theme.decoderState.state.rejection?u&&u.code==20018?n.pluginStatus.loadingSetTextWithBtn({text:"该用户不拥有该设备",color:"white",isMobile:n.isMobile,type:2}):n.pluginStatus.loadingSetTextWithBtn({text:"通话已结束",color:"white",isMobile:n.isMobile,type:2}):u&&u.code==20018?(n.pluginStatus.loadingSetTextWithBtn({text:"该用户不拥有该设备",color:"white",isMobile:n.isMobile,type:2}),!n.isWebConsole&&n.Theme&&n.Theme.call&&n.Theme.call.userNoDevice()):n.pluginStatus.loadingSetTextWithBtn({text:P,color:"white",btnName:n.isMobile?"重试":"重新加载",isMobile:n.isMobile}):n.isInspect?(n.Theme.jSPlugin.Zoom&&n.Theme.jSPlugin.Zoom.stopZoom(),n.pluginStatus.loadingSetTextWithBtn({mask:!0,maskStyle:"url(".concat(n.staticPath,"/imgs/bg.svg) no-repeat 100%/cover"),text:P,color:"white",btnName:"重试",type:1}),n.Theme&&n.Theme.inspect&&n.Theme.inspect.InspectEvent&&n.Theme.inspect.InspectEvent.disableEvidenceBtn()):n.pluginStatus.loadingSetText({text:P,color:"red"}),typeof n.params.handleError=="function"&&n.params.handleError({retcode:u.oError?u.oError.errorCode:-1,msg:P,id:n.params.id,type:"handleError"}),n.eventEmitter&&n.eventEmitter.emit("play",{eventType:"play",code:u.oError?u.oError.errorCode:-1,target:n,msg:u.msg?u.msg:"播放失败，请检查设备及客户端网络"}),d({retcode:u.oError?u.oError.errorCode:-1,msg:P,id:n.params.id,type:"handleError"})})})});return o}},{key:"stop",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};return this.pluginStatus.setPlayStatus({loading:!0}),this.reSetTheme(),this.jSPlugin.JS_Stop(0).then(function(){console.log("停止成功"),t.pluginStatus.setPlayStatus({play:!1,loading:!1}),t.Theme&&t.Theme.setDecoderState({play:!1}),t.eventEmitter&&t.eventEmitter.emit("stop",{eventType:"stop",code:0,target:t,msg:"停止成功"}),n()})}},{key:"changeVideoLevel",value:function(t){var n=this.url,o=n;typeof t=="number"&&(o=t===1?n.replace(".live",".hd.live"):n.replace(".hd.live",".live"),this.jSPlugin.playURL=t?this.jSPlugin.playURL.replace("stream=2","stream=1"):this.jSPlugin.playURL.replace("stream=1","stream=2"),console.warn("changeVideoLevel","该方法将不在支持传入number类型的参数，建议使用对象类型的参数")),K(t)==="object"&&(typeof t.streamType=="number"&&["sd","hd"].includes(t.level)&&(o=t.level==="hd"?n.replace(".live",".hd.live"):n.replace(".hd.live",".live")),this.jSPlugin.playURL=t.streamType===1?this.jSPlugin.playURL.replace("stream=2","stream=1"):this.jSPlugin.playURL.replace("stream=1","stream=2")),this.url=o;var c=this.changePlayUrl({url:o},function(){},!1);return this.eventEmitter&&this.eventEmitter.emit("changeVideoLevel",{eventType:"changeVideoLevel",code:0,target:this,data:t,msg:"切换清晰度"}),ia(c)?c:new Promise(function(d){d(c)})}},{key:"reSetTheme",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.Theme&&this.Theme.Ptz&&this.Theme.decoderState.state.pantile&&(this.Theme.setDecoderState({pantile:!1}),this.Theme.Ptz.hide()),this.Theme&&this.Theme.decoderState.state.recordvideo&&this.Theme.setDecoderState({recordvideo:!1}),t.indexOf("zoom")>-1&&(this.use3DZoom?(this.is3DZooming=!1,this.close3DZoom()):this.Zoom&&this.Zoom.currentScale>1&&this.Zoom.stopZoom(),this.Theme&&this.Theme.setDecoderState({zoom:!1})),this.Theme&&this.Theme.decoderState.state.talk&&(this.stopTalk(),this.Theme.setDecoderState({talk:!1})),this.Theme&&this.Theme.Rec&&!this.Theme.isMobile&&this.Theme.Rec.datepickerHide(),this.Theme&&this.Theme.Rec&&(this.Theme.changeRecSpeed(1),this.Theme.nextRate=1,this.speed=1,this.Theme.setDecoderState({speed:!1})),this.eventEmitter&&this.eventEmitter.emit("reSetTheme",{eventType:"reSetTheme",code:0,target:this,msg:"重置主题"})}},{key:"_changePlayUrl",value:function(t){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.reSetTheme(["zoom"]),this.getDeviceCapacity({accessToken:t.accessToken||this.accessToken,deviceSerial:t.deviceSerial||this.deviceSerial});var d=this.url,u=P(d,t);t.accessToken&&(this.accessToken=t.accessToken,this.deviceSerial=t.deviceSerial,this.channelNo=t.channelNo),this.url=u,this.videoInitTime=Date.now(),this.videoPlayState=1,window.monitorExtendsInfo={protocol:"ezopen",url:this.url,serial:this.deviceSerial,no:this.channelNo,env:this.env.domain,type:Nn(this.url).type},window.ezuikitMonitor.report({action:4,logInfo:{pluginVersion:this.isV3?"v3":"v1",type:Nn(this.url).type,params:t}}),o(),this.pluginStatus.loadingStart(this.id),this.pluginStatus.loadingSetText({text:"加载中，请稍后"});var k=new Promise(function(S,R){var b={url:u};return t.accessToken&&(b.accessToken=t.accessToken),console.log("切换播放地址 参数 ",b),n.play(b).then(function(){console.log("切换播放地址 play 执行成功 ",n.url,n.accessToken),c&&(t.type?n.Theme&&(t.type=="rec"||t.type=="cloud.rec"?n.Theme.changeTheme(n.isMobile?"mobileRec":"pcRec"):t.type=="miniRec"?n.Theme.changeTheme("miniRec"):(n.Theme.changeTheme(n.isMobile?"mobileLive":"pcLive"),n.Theme.Rec.unSyncTimeLine())):n.Theme&&(n.url.indexOf(".rec")>-1?n.Theme.changeTheme(n.isMobile?"mobileRec":"pcRec"):(n.isCall?n.Theme.changeTheme(n.isMobile?"mobileCall":"webCall"):n.Theme.changeTheme(n.themeId),n.Theme.Rec.unSyncTimeLine()))),t&&t.begin&&t.deviceSerial&&n.Theme&&n.Theme.Rec.setDatepickerDate(t.begin),n.Theme&&n.Theme.setDisabled(!1),n.eventEmitter&&n.eventEmitter.emit("changePlayUrl",{eventType:"changePlayUrl",code:0,target:n,msg:"切换播放地址成功"}),S(u)}).catch(function(_){R(u),n.eventEmitter&&n.eventEmitter.emit("changePlayUrl",{eventType:"changePlayUrl",code:-1,target:n,msg:_&&_.msg?_.msg:"切换播放地址失败"}),_&&_.msg&&(n.Theme&&n.Theme.setDisabled(!0),n.pluginStatus.loadingClear(),n.isInspect?(n.Theme.jSPlugin.Zoom&&n.Theme.jSPlugin.Zoom.stopZoom(),n.pluginStatus.loadingSetTextWithBtn({mask:!0,maskStyle:"url(".concat(n.staticPath,"/imgs/bg.svg) no-repeat 100%/cover"),text:_.msg,color:"white",btnName:"重试",type:1}),n.Theme&&n.Theme.inspect&&n.Theme.inspect.InspectEvent&&n.Theme.inspect.InspectEvent.disableEvidenceBtn()):n.pluginStatus.loadingSetText({text:_.msg,color:"red"}))})});function P(S,R){if(R.url)return R.url;console.log("--------------matchInitUrl",S);var b=S.split("/")[4].split(".")[S.split("/")[4].split(".").length-1].split("?")[0];b==="rec"&&S.indexOf(".cloud.rec")!==-1&&(b="cloud.rec"),R.type&&(b=R.type=="miniRec"?"rec":R.type);var _=S.split("/")[3];R.deviceSerial&&(_=R.deviceSerial);var oe=S.split("/")[4].split(".")[0];R.channelNo&&(oe=R.channelNo);var de=S.split("/")[2].split("@").length===2?S.split("/")[2].split("@")[0]:"";typeof R.validCode<"u"&&(de=R.validCode);var xe=typeof R.hd>"u"?S.indexOf(".hd")!==-1:R.hd,se="ezopen://".concat(de?"".concat(de,"@"):"","open.ys7.com/").concat(_,"/").concat(oe).concat(xe?".hd":"",".").concat(b);return b==="live"||(se="ezopen://".concat(de?"".concat(de,"@"):"","open.ys7.com/").concat(_,"/").concat(oe,".").concat(b),R.begin&&R.end?se+="?begin=".concat(R.begin,"&end=").concat(R.end):R.begin?se+="?begin=".concat(R.begin):cr("begin",S)&&cr("end",S)?se+="?begin=".concat(cr("begin",S),"&end=").concat(cr("end",S)):cr("begin",S)&&(se+="?begin=".concat(cr("begin",S)))),se}return k}},{key:"getOSDTime",value:function(){var t=this,n=new Promise(function(o,c){t.jSPlugin.JS_GetOSDTime(0).then(function(d){t.eventEmitter&&t.eventEmitter.emit("getOSDTime",{eventType:"getOSDTime",code:0,target:t,data:d,msg:"获取OSD时间"}),o({code:0,retcode:0,data:d}),typeof t.params.getOSDTimeCallBack=="function"&&t.params.getOSDTimeCallBack({id:t.id,type:"getOSDTime",code:0,data:d})}).catch(function(d){t.eventEmitter&&t.eventEmitter.emit("getOSDTime",{eventType:"getOSDTime",code:-1,target:t,msg:d||"获取OSD时间失败"}),c({code:-1,retcode:-1,data:d}),typeof t.params.getOSDTimeCallBack=="function"&&t.params.getOSDTimeCallBack({id:t.id,type:"getOSDTime",code:-1,data:-1})})});return n}},{key:"capturePicture",value:function(t){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=this.jSPlugin.JS_CapturePicture(0,t||new Date().getTime(),"JPEG",o,!!o);if(ia(c))return new Promise(function(d,u){c.then(function(k){typeof n.params.capturePictureCallBack=="function"&&n.params.capturePictureCallBack({id:n.id,type:"capturePicture",code:0});var P={id:n.id,code:0,data:k.data,type:"handleCapturePicture"};n.eventEmitter&&n.eventEmitter.emit("capturePicture",{eventType:"capturePicture",code:0,target:n,data:k.data,msg:"截图成功"}),typeof n.params.handleCapturePicture=="function"&&n.params.handleCapturePicture(P),d(P)},function(k){typeof n.params.capturePictureCallBack=="function"&&n.params.capturePictureCallBack({id:n.id,type:"capturePicture",code:-1}),n.eventEmitter&&n.eventEmitter.emit("capturePicture",{eventType:"capturePicture",code:-1,target:n,msg:k||"截图失败"});var P=Object.assign({id:n.id,type:"handleCapturePicture",code:-1},k);typeof n.params.handleCapturePicture=="function"&&n.params.handleCapturePicture(P),u(P)})})}},{key:"startSave",value:function(t){var n=this.jSPlugin.JS_StartSave(0,t),o=this;return ia(n)?(n.then(function(){typeof o.params.startSaveCallBack=="function"&&o.params.startSaveCallBack({id:o.id,type:"startSave",code:0}),o.eventEmitter&&o.eventEmitter.emit("startSave",{eventType:"startSave",code:0,target:o,msg:"开始录像成功"})}).catch(function(){o.eventEmitter&&o.eventEmitter.emit("startSave",{eventType:"startSave",code:-1,target:o,msg:"开始录像失败"}),typeof o.params.startSaveCallBack=="function"&&o.params.startSaveCallBack({id:o.id,type:"startSave",code:-1})}),n):(this.Theme&&this.Theme.setDecoderState({recordvideo:!0}),new Promise(function(c){c(n)}))}},{key:"stopSave",value:function(){var t=this.jSPlugin.JS_StopSave(0),n=this;return ia(t)?(t.then(function(){n.eventEmitter&&n.eventEmitter.emit("stopSave",{eventType:"stopSave",code:0,target:n,msg:"停止录像成功"}),typeof n.params.stopSaveCallBack=="function"&&n.params.stopSaveCallBack({id:n.id,type:"stopSave",code:0})}).catch(function(){n.eventEmitter&&n.eventEmitter.emit("stopSave",{eventType:"stopSave",code:-1,target:n,msg:"停止录像失败"}),typeof n.params.stopSaveCallBack=="function"&&n.params.stopSaveCallBack({id:n.id,type:"stopSave",code:-1})}),t):(this.Theme&&this.Theme.setDecoderState({recordvideo:!1}),new Promise(function(o){o(t)}))}},{key:"openSound",value:function(){var t=this.jSPlugin.JS_OpenSound(0);return console.log("打开声音",t),this.eventEmitter&&this.eventEmitter.emit("openSound",{eventType:"openSound",code:t,target:this,msg:"打开声音"}),ia(t)?t:(this.Theme&&this.Theme.setDecoderState({sound:!0}),typeof this.params.openSoundCallBack=="function"&&this.params.openSoundCallBack({id:this.id,type:"openSound",code:t}),new Promise(function(n){n(t)}))}},{key:"closeSound",value:function(){var t=this.jSPlugin.JS_CloseSound(0);return this.eventEmitter&&this.eventEmitter.emit("closeSound",{eventType:"closeSound",code:t,target:this,msg:"关闭声音"}),ia(t)?t:(this.Theme&&this.Theme.setDecoderState({sound:!1}),typeof this.params.closeSoundCallBack=="function"&&this.params.closeSoundCallBack({id:this.id,type:"closeSound",code:t}),new Promise(function(n){n(t)}))}},{key:"enableZoom",value:function(){var t=this.jSPlugin.JS_EnableZoom(0);return this.eventEmitter&&this.eventEmitter.emit("startZoom",{eventType:"startZoom",code:t,target:this,msg:"开启电子放大"}),ia(t)?t:new Promise(function(n){n(t)})}},{key:"closeZoom",value:function(){var t=this.jSPlugin.JS_DisableZoom(0);return this.eventEmitter&&this.eventEmitter.emit("closeZoom",{eventType:"closeZoom",code:t,target:this,msg:"关闭电子放大"}),ia(t)?t:new Promise(function(n){n(t)})}},{key:"enable3DZoom",value:function(){var t=this;if(!this.use3DZoom)return new Promise(function(d,u){this.eventEmitter&&this.eventEmitter.emit("enable3DZoom",{eventType:"enable3DZoom",code:-1,target:this,msg:"未启用3D定位功能"}),u({code:-1,msg:"未启用3D定位功能"})});function n(d,u){if(!d||!d.startPos||!d.endPos)return-1;var k=d.startPos[0],P=d.startPos[1],S=d.endPos[0],R=d.endPos[1];return u?S>k&&R<P?1:S<k&&R>P?0:-1:S>k&&R>P?1:S<k&&R<P?0:-1}function o(d,u,k){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;if(!d||!u||!k||!k.startPos||!k.endPos)return-1;var S=k.startPos[0],R=k.startPos[1],b=k.endPos[0],_=k.endPos[1],oe=Math.abs(b-S),de=Math.abs(_-R),xe=parseInt((S+b)/2),se=parseInt((R+_)/2),Ae=Math.round(d*u/(oe*de));return console.log("最大缩放倍数：",P),console.log("计算缩放倍数：",d*u/(oe*de)),console.log("下发缩放倍数：",Ae>P?P:Ae),{startPointX:parseInt(S/d*256),startPointY:parseInt(R/u*256),endPointX:parseInt(b/d*256),endPointY:parseInt(_/u*256),zoomRate:Ae>P?P:Ae,targetCenterX:xe,targetCenterY:se,targetWidth:oe,targetHeight:de}}if(this.is3DZooming)return new Promise(function(d,u){this.eventEmitter&&this.eventEmitter.emit("enable3DZoom",{eventType:"enable3DZoom",code:-1,target:this,msg:"3D定位已处于开启状态"}),u({code:-1,msg:"3D定位已处于开启状态"})});if(this.isMobile||(this.Zoom&&this.Zoom.stopZoom(),this.Theme&&this.Theme.setDecoderState({zoom:!1})),this.support3DZoom){this.is3DZooming=!0,this.Theme&&this.Theme.setDecoderState({zoom:!0}),document.getElementById("".concat(this.id,"-zoom-content"))&&(document.getElementById("".concat(this.id,"-zoom-content")).title="3D定位");var c=this.jSPlugin.JS_Enable3DZoom(0,function(d){var u=t.Theme&&t.Theme.decoderState.state.expend&&t.isMobile?t.fullScreenWidth:t.width,k=t.Theme&&t.Theme.decoderState.state.expend&&t.isMobile?t.fullScreenHeight:t.height,P=n(d,t.Theme&&t.Theme.decoderState.state.expend);if(P>-1)try{var S=o(u,k,d,t.capacity&&t.capacity.support_zoomOut_maxTime?t.capacity.support_zoomOut_maxTime:5),R=t.env.domain+"/api/v3/das/device/3d/zoom?accessToken=".concat(t.accessToken,"&deviceSerial=").concat(Nn(t.url).deviceSerial,"&channelNo=").concat(Nn(t.url).channelNo,"&command=").concat(P==0?9:8,"&zoomTimes=").concat(S.zoomRate,"&startPointX=").concat(S.startPointX,"&startPointY=").concat(S.startPointY,"&endPointX=").concat(S.endPointX,"&endPointY=").concat(S.endPointY,"&length=").concat(parseInt(k),"&width=").concat(parseInt(u),"&midPointX=").concat(S.targetCenterX,"&midPointY=").concat(S.targetCenterY,"&lengthX=").concat(S.targetWidth,"&lengthY=").concat(S.targetHeight);fetch(R,{method:"POST"}).then(function(b){return b.json()}).then(function(b){b.code!=200&&t.pluginStatus.loadingSetText({text:b.msg,color:"red",delayClear:2e3})}).catch(function(b){t.pluginStatus.loadingSetText({text:"3D定位失败，请重试",color:"red",delayClear:2e3})})}catch{t.pluginStatus.loadingSetText({text:"3D定位失败，请重试",color:"red",delayClear:2e3})}});return this.Zoom=new gl(this),this.eventEmitter&&this.eventEmitter.emit("enable3DZoom",{eventType:"enable3DZoom",code:c,target:this,msg:"开启3D定位"}),ia(c)?c:new Promise(function(d){d(c)})}else return this.is3DZooming=!1,document.getElementById("".concat(this.id,"-zoom-content"))&&(document.getElementById("".concat(this.id,"-zoom-content")).title="电子放大"),new Promise(function(d,u){this.eventEmitter&&this.eventEmitter.emit("enable3DZoom",{eventType:"enable3DZoom",code:-1,target:this,msg:"当前设备不支持3D定位功能"}),u({code:-1,msg:"当前设备不支持3D定位功能"})})}},{key:"close3DZoom",value:function(){var t=this;if(!this.use3DZoom)return new Promise(function(o,c){t.eventEmitter&&t.eventEmitter.emit("close3DZoom",{eventType:"close3DZoom",code:-1,target:t,msg:"未启用3D定位功能"}),c({code:-1,msg:"未启用3D定位功能"})});if(this.is3DZooming){this.Theme&&this.Theme.setDecoderState({zoom:!1});var n=this.jSPlugin.JS_Disable3DZoom(0);return this.Zoom=new gl(this),this.is3DZooming=!1,this.eventEmitter&&this.eventEmitter.emit("close3DZoom",{eventType:"close3DZoom",code:n,target:this,msg:"关闭3D定位"}),ia(n)?n:new Promise(function(o){o(n)})}else return new Promise(function(o,c){this.eventEmitter&&this.eventEmitter.emit("close3DZoom",{eventType:"close3DZoom",code:-1,target:this,msg:"3D定位已处于关闭状态"}),c({code:-1,msg:"3D定位已处于关闭状态"})})}},{key:"changeZoomType",value:function(t){var n=this;if(t&&this.capacity&&!this.support3DZoom)return this.eventEmitter&&this.eventEmitter.emit("changeZoomType",{eventType:"changeZoomType",code:-1,target:this,msg:"当前设备不支持开启3D定位功能"}),{code:-1,msg:"当前设备不支持开启3D定位功能"};this.is3DZooming?this.close3DZoom():this.Theme&&this.Theme.decoderState.state.zoom&&this.Zoom&&this.Zoom.stopZoom(),this.Theme&&this.Theme.setDecoderState({zoom:!1}),this.use3DZoom=t,this.Zoom=new gl(this),setTimeout(function(){t?document.getElementById("".concat(n.id,"-zoom-content"))&&(document.getElementById("".concat(n.id,"-zoom-content")).title="3D定位"):document.getElementById("".concat(n.id,"-zoom-content"))&&(document.getElementById("".concat(n.id,"-zoom-content")).title="电子放大"),n.isMobile&&t&&n.enable3DZoom(),n.eventEmitter&&n.eventEmitter.emit("changeZoomType",{eventType:"changeZoomType",code:0,target:n,msg:"改变缩放模式"})},500)}},{key:"setPoster",value:function(t){As()?document.getElementById("".concat(this.id))&&(document.getElementById("".concat(this.id)).style.backgroundImage="url(".concat(t,")"),document.getElementById("".concat(this.id)).style.backgroundSize="100% 100%"):document.getElementById("".concat(this.id,"canvas0"))&&(document.getElementById("".concat(this.id,"canvas0")).style.backgroundImage="url(".concat(t,")"),document.getElementById("".concat(this.id,"canvas0")).style.backgroundSize="cover"),this.eventEmitter&&this.eventEmitter.emit("setPoster",{eventType:"setPoster",code:0,target:this,msg:"设置播放器封面"})}},{key:"reSize",value:function(t,n){var o=0,c=0;if(this.params.height=n,this.params.width=t,this.Theme&&this.Theme.isNeedRenderHeader&&document.getElementById("".concat(this.id,"-headControl"))&&(o=parseInt(document.getElementById("".concat(this.id,"-headControl")).style.height,10)),this.Theme&&this.Theme.isNeedRenderTimeLine&&!this.isMobile&&(c=48),n=n-o-c,this.width=t,this.height=n,document.getElementById("".concat(this.id,"-wrap")).style="width:".concat(t,"px;position:relative;display:inline-block;vertical-align: bottom;"),document.getElementById("".concat(this.id)).style.width=t+"px",document.getElementById("".concat(this.id)).style.height=n+"px",this.jSPlugin&&this.jSPlugin.bPlay)this.jSPlugin&&(this.jSPlugin.iHeight=n,this.jSPlugin.iWidth=t),this.jSPlugin.JS_Resize(t,n);else{document.getElementById("".concat(this.id,"-player"))&&(document.getElementById("".concat(this.id,"-player")).width=t,document.getElementById("".concat(this.id,"-player")).height=n,document.getElementById("".concat(this.id,"-player")).style.width=t+"px",document.getElementById("".concat(this.id,"-player")).style.height=n+"px",document.getElementById("".concat(this.id,"-container-0")).style.height=n+"px");var d=1;if(document.getElementById("".concat(this.id,"canvas0"))){var u=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);u&&(d=2),document.getElementById("".concat(this.id,"canvas0")).style.width=t*d+"px",document.getElementById("".concat(this.id,"canvas0")).style.height=n*d+"px",document.getElementById("".concat(this.id,"canvas0")).width=t*d,document.getElementById("".concat(this.id,"canvas0")).height=n*d,document.getElementById("".concat(this.id,"canvas0")).parentNode.style.width=t*d+"px",document.getElementById("".concat(this.id,"canvas0")).parentNode.style.height=n*d+"px",document.getElementById("".concat(this.id,"canvas_draw0")).height=n*d}this.jSPlugin&&(this.jSPlugin.iHeight=n*d,this.jSPlugin.iWidth=t*d)}this.isInspect&&(document.getElementById("".concat(this.id,"-wrap")).style="width:".concat(t,"px; height:").concat(n,"px;position:relative;display:inline-block;vertical-align: bottom;"),this.width-=this.inspectVideoWidth,this.height-=this.inspectVideoHeight,t=this.width,n=this.height,this.width=t,this.height=n,this.Theme.inspect.reSize(t,n)),this.eventEmitter&&this.eventEmitter.emit("reSize",{eventType:"reSize",code:0,target:this,msg:"调整播放器尺寸"})}},{key:"fast",value:function(t){var n=this,o=this.speed;if(t){var c=this.jSPlugin.JS_Speed(t);this.Theme&&(this.Theme.changeRecSpeed(t),this.Theme.nextRate=t)}else{if(o===1)o=2;else if(o===2)o=4;else return console.log("当前已经是最大播放倍数"),typeof this.params.handleError=="function"&&this.params.handleError({msg:"播放速度最大为4倍速度",retcode:1003,id:this.id,type:"handleError"}),new Promise(function(u,k){n.speed=o,k({code:-1,data:{speed:o,result:"播放速度最大为4倍速度"}})});var c=this.jSPlugin.JS_Speed(o);this.Theme&&(this.Theme.changeRecSpeed(o),this.Theme.nextRate=o)}return new Promise(function(d){n.speed=o,n.eventEmitter&&n.eventEmitter.emit("fast",{eventType:"fast",code:0,data:o,target:n,msg:"倍速播放"}),d({code:0,data:{speed:o,result:c}})})}},{key:"slow",value:function(){var t=this,n=this.speed;if(n===4)n=2;else if(n===2)n=1;else return console.log("当前已经是最小播放倍数"),typeof this.params.handleError=="function"&&this.params.handleError({msg:"播放速度最小为1倍速度",retcode:1003,id:this.id,type:"handleError"}),new Promise(function(c,d){t.speed=n,d({code:-1,data:{speed:n,result:"播放速度最小为1倍速度"}})});var o=this.jSPlugin.JS_Speed(n);return new Promise(function(c){t.speed=n,t.eventEmitter&&t.eventEmitter.emit("slow",{eventType:"slow",code:0,data:n,target:t,msg:"倍速播放"}),c({code:0,data:{speed:n,result:o}})})}},{key:"seek",value:function(t,n){var o=this.url,c=(cr("begin",o)||new Date().Format("yyyyMMdd")).substr(0,8);if(n=d(c,"235959"),t.length===6)t=d(c,t);else if(t.length===16){if(t.substr(0,8)!==c)return typeof this.params.handleError=="function"&&(this.eventEmitter&&this.eventEmitter.emit("seek",{eventType:"seek",code:-1,target:this,msg:"seek时间不能跨日期"}),this.params.handleError({msg:"seek时间不能跨日期",retcode:-1,id:this.id,type:"handleError"})),!1}else return typeof this.params.handleError=="function"&&(this.eventEmitter&&this.eventEmitter.emit("seek",{eventType:"seek",code:-2,target:this,msg:"seek时间格式错误"}),this.params.handleError({msg:"seek时间格式错误",retcode:-1,id:this.id,type:"handleError"})),!1;function d(k,P){var S=/^[0-9]{8}T[0-9]{6}Z$/;if(S.test(k))return k;if(/[0-9]{8,14}/.test(k)){var R=6-(14-k.length),b=P.length,_=k+P.substring(R,b);return _.slice(0,8)+"T"+_.slice(8)+"Z"}throw new Error("回放时间格式有误，请确认")}var u=this.jSPlugin.JS_Seek(0,t,n);return console.log("seekRT",u),ia(u)?u:new Promise(function(k){k(u)})}},{key:"fullScreen",value:function(){var t=this,n=so(document.getElementById("".concat(this.id)));n.then(function(c){console.log("全屏promise",window.screen.availWidth),t.jSPlugin.JS_Resize(window.screen.availWidth,window.screen.availHeight),t.eventEmitter&&t.eventEmitter.emit("fullScreen",{eventType:"fullScreen",code:0,target:t,msg:"全局全屏"}),typeof t.params.fullScreenCallBack=="function"&&t.params.fullScreenCallBack({id:t.id,type:"fullScreen",code:0})});var o=function(){var d=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;d||t.jSPlugin.JS_Resize(t.width,t.height),typeof t.params.fullScreenChangeCallBack=="function"&&t.params.fullScreenChangeCallBack({id:t.id,type:"fullScreen",code:d})};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"].forEach(function(c){window.addEventListener(c,function(d){return o()})})}},{key:"cancelFullScreen",value:function(){var t=this,n=_o();n.then(function(o){console.log("取消全屏",o,t.jSPlugin),t.jSPlugin.JS_Resize(t.width,t.height),t.eventEmitter&&t.eventEmitter.emit("cancelFullScreen",{eventType:"cancelFullScreen",code:0,target:t,msg:"退出全局全屏"})})}},{key:"startTalk",value:function(){this.Talk.startTalk()}},{key:"stopTalk",value:function(){this.Talk.stopTalk()}},{key:"destroy",value:function(){this.Theme&&(this.Theme.decoderState.state.play&&this.stop(),this.Theme=null,window.EZUIKit[this.params.id].state.EZUIKitPlayer.themeInit=!1);var t=this.jSPlugin.JS_DestroyWorker(0);return this.eventEmitter&&this.eventEmitter.emit("destroy",{eventType:"destroy",code:0,target:this,msg:"销毁"}),ia(t)?t:new Promise(function(n){n(t)})}},{key:"getDeviceCapacity",value:function(t){var n=this,o=this.env.domain;this.capacity={},this.env&&(o=this.env.domain);var c=o+"/api/lapp/device/capacity",d=function(P){if(n.support3DZoom=!1,document.getElementById("".concat(n.id,"-zoom-content"))&&(document.getElementById("".concat(n.id,"-zoom-content")).title="电子放大"),P.code==200&&P.data){if(n.capacity=P.data,n.isMobile&&n.isCall&&(!n.capacity.support_doorcall_playback||n.capacity.support_doorcall_playback!=1)){if(console.log("小窗口initMiniRec-------------设备能力集失败"),n.isWebConsole)return;setTimeout(function(){document.getElementById("".concat(n.jSPlugin.id,"-wrap"))&&document.getElementById("miniRecbox")&&(document.getElementById("".concat(n.jSPlugin.id,"-wrap")).removeChild(document.getElementById("miniClose")),document.getElementById("".concat(n.jSPlugin.id,"-wrap")).removeChild(document.getElementById("miniRecbox")))},1500)}n.capacity&&n.capacity.support_3d_position=="1"&&n.url.indexOf(".live")>-1&&(n.support3DZoom=!0,n.params.use3DZoom&&(n.use3DZoom=!0,document.getElementById("".concat(n.id,"-zoom-content"))&&(document.getElementById("".concat(n.id,"-zoom-content")).title="3D定位"))),n.eventEmitter&&n.eventEmitter.emit("getDeviceCapacity",{eventType:"getDeviceCapacity",code:0,data:P,target:n,msg:"获取设备能力级"})}},u=t||{accessToken:this.accessToken,deviceSerial:Nn(this.url).deviceSerial};Lr(c,"POST",u,"",d)}},{key:"pause",value:function(t){var n=this;return new Promise(function(o,c){n.jSPlugin.JS_CloseSound(0),n.jSPlugin.JS_Pause(0,t).then(function(d){n.eventEmitter&&n.eventEmitter.emit("pause",{eventType:"pause",code:0,target:n,msg:"暂停"}),n.Theme&&n.Theme.setDecoderState({play:!1,pauseDate:d.pauseDate}),o()}).catch(function(d){n.eventEmitter&&n.eventEmitter.emit("pause",{eventType:"pause",code:-1,target:n,msg:d||"暂停失败"}),console.log(d),c(d)})})}},{key:"_resume",value:function(t){var n=this;return new Promise(function(o,c){n.pluginStatus.setPlayStatus({play:!1,loading:!0}),n.validateCode&&n.validateCode!=""&&n.jSPlugin.JS_SetSecretKey(0,n.validateCode),n.jSPlugin.JS_Resume(t).then(function(d){if(setTimeout(function(){n.url.indexOf(".rec")!==-1&&n.speed!=1&&n.jSPlugin.JS_Speed(n.speed)},500),n.Theme){n.Theme.setDecoderState({play:!0}),n.fast(n.speed);var u=n.Theme.decoderState.state.sound;u&&setTimeout(function(){n.openSound()},500)}n.eventEmitter&&n.eventEmitter.emit("resume",{eventType:"resume",code:0,target:n,msg:"恢复播放"}),o(d)}).catch(function(d){console.log("resume err",d),n.eventEmitter&&n.eventEmitter.emit("resume",{eventType:"resume",code:-1,target:n,msg:d||"恢复播放失败"}),c(d)})})}},{key:"getDefinitionList",value:function(){return this.eventEmitter&&this.eventEmitter.emit("getDefinitionList",{eventType:"getDefinitionList",code:0,data:this.Theme?this.Theme.decoderState.state.hdList:[],target:this,msg:"获取设备支持的清晰度列表"}),this.Theme?this.Theme.decoderState.state.hdList:[]}},{key:"getDefinition",value:function(){return this.eventEmitter&&this.eventEmitter.emit("getDefinition",{eventType:"getDefinition",code:0,data:this.Theme?this.Theme.decoderState.state.hd:!1,target:this,msg:"获取设备支持的清晰度列表"}),this.Theme?this.Theme.decoderState.state.hd:!1}},{key:"setDefinition",value:function(t){var n=this.getDefinitionList().find(function(o){if(typeof t=="string")return o.level===t;if(K(t)==="object")return o.level===t.level});if(!n){this.eventEmitter&&this.eventEmitter.emit("setDefinition",{eventType:"setDefinition",code:-1,target:this,msg:"请输入正确的清晰度"}),console.log("请输入正确的清晰度");return}this.changeVideoLevel(n),this.Theme&&(this.Theme.setDecoderState({hd:n}),this.Theme.resetMobileZoomStatus()),this.Theme&&this.Theme.decoderState.state.recordvideo&&this.Theme.setDecoderState({recordvideo:!1}),this.eventEmitter&&this.eventEmitter.emit("setDefinition",{eventType:"setDefinition",code:0,target:this,msg:"切换清晰度"})}},{key:"getPtzStatus",value:function(){if(this.Theme)return this.eventEmitter&&this.eventEmitter.emit("getPtzStatus",{eventType:"getPtzStatus",code:0,data:this.Theme?this.Theme.Ptz.showPtz:!1,target:this,msg:"获取当前云台状态"}),console.log("当前是否开启云台：",this.Theme.Ptz.showPtz),this.Theme.Ptz.showPtz;this.eventEmitter&&this.eventEmitter.emit("getPtzStatus",{eventType:"getPtzStatus",code:-1,data:this.Theme?this.Theme.Ptz.showPtz:!1,target:this,msg:"未加载Theme模块，无法获取云台状态"})}},{key:"openPtz",value:function(){if(this.Theme){if(this.isMobile&&this.Theme&&!this.Theme.decoderState.state.expend)return console.log("移动端，非全屏状态不展示云台"),this.eventEmitter&&this.eventEmitter.emit("openPtz",{eventType:"openPtz",code:-1,target:this,msg:"移动端，非全屏状态不展示云台"}),!1;console.log("显示云台"),this.Theme.setDecoderState({pantile:!0}),this.Theme.Ptz.show()}else return this.eventEmitter&&this.eventEmitter.emit("openPtz",{eventType:"openPtz",code:-1,target:this,msg:"未加载Theme模块，无法操作云台"}),{code:-1,msg:"未加载Theme模块，无法操作云台"}}},{key:"closePtz",value:function(){if(this.Theme)console.log("隐藏云台"),this.Theme.setDecoderState({pantile:!1}),this.Theme.Ptz.hide();else return this.eventEmitter&&this.eventEmitter.emit("closePtz",{eventType:"closePtz",code:-1,target:this,msg:"未加载Theme模块，无法操作云台"}),{code:-1,msg:"未加载Theme模块，无法操作云台"}}},{key:"isBrowserFullscreen",value:function(){if(this.Theme)return console.log("当前是否为浏览器全屏状态：",this.Theme.decoderState.state.webExpend),this.eventEmitter&&this.eventEmitter.emit("isBrowserFullscreen",{eventType:"isBrowserFullscreen",code:0,target:this,data:this.Theme.decoderState.state.webExpend,msg:"获取浏览器网页全屏状态"}),this.Theme.decoderState.state.webExpend}},{key:"browserFullscreen",value:function(){this.Theme&&(this.Theme.webExpend(),this.Theme.setDecoderState({webExpend:!0}),this.eventEmitter&&this.eventEmitter.emit("browserFullscreen",{eventType:"browserFullscreen",code:0,target:this,msg:"开启网页全屏"}))}},{key:"exitBrowserFullscreen",value:function(t,n){var o=this,c=_o();c.then(function(d){o.jSPlugin.JS_Resize(t||o.width,n||o.height),o.Theme&&(o.Theme.Rec&&o.Theme.Rec.recAutoSize(),o.Theme.setDecoderState({webExpend:!1})),o.eventEmitter&&o.eventEmitter.emit("exitBrowserFullscreen",{eventType:"exitBrowserFullscreen",code:0,target:o,msg:"退出网页全屏"})})}},{key:"getPlayRate",value:function(){return console.log("当前播放速度：",this.speed),this.eventEmitter&&this.eventEmitter.emit("getPlayRate",{eventType:"getPlayRate",code:0,data:this.speed,target:this,msg:"获取当前播放速率"}),this.speed}},{key:"setMiooroFlip",value:function(t){return typeof t!="number"?(this.eventEmitter&&this.eventEmitter.emit("setMiooroFlip",{eventType:"setMiooroFlip",code:-1,target:this,msg:"翻转参数类型错误"}),Promise.reject({code:-1,msg:"翻转参数类型错误"})):(this.eventEmitter&&this.eventEmitter.emit("setMiooroFlip",{eventType:"setMiooroFlip",code:0,target:this,msg:"镜像翻转"}),Tm(this.env.domain,this.accessToken,this.deviceSerial,this.channelNo,t))}},{key:"setFECCorrectType",value:function(t,n){var o=this;if(!this.capacity||this.capacity&&this.capacity.support_fisheye_mode!=="1")return this.eventEmitter&&this.eventEmitter.emit("setFECCorrectType",{eventType:"setFECCorrectType",code:-1,target:this,msg:"设备不支持鱼眼模式"}),Promise.reject({code:-1,msg:"设备不支持鱼眼模式"});if(!this.jSPlugin.JS_FECCorrectType||(this.jSPlugin.isHardH264||this.jSPlugin.isHardH265)&&this.jSPlugin.useHardDev)return this.eventEmitter&&this.eventEmitter.emit("setFECCorrectType",{eventType:"setFECCorrectType",code:-1,target:this,msg:"现只有V3软解支持鱼眼矫正"}),Promise.reject({code:-1,msg:"现只有V3软解支持鱼眼矫正"});var c=t.place===1?l_:t.place===3?s_:[],d=c.find(function(u){return u.type===t.type&&u.place===t.place});return d?d.split>0&&K(n)===void 0?(this.eventEmitter&&this.eventEmitter.emit("setFECCorrectType",{eventType:"setFECCorrectType",code:-1,target:this,msg:"鱼眼矫正类型需要分屏，但是没有传".concat(d.split-1,"个分屏的canvas id")}),Promise.reject({code:-1,msg:"鱼眼矫正类型需要分屏，但是没有传".concat(d.split-1,"个分屏的canvas id")})):(this.jSPlugin.FECSplitIds=n,this.jSPlugin.correctType=d,this._FECCorrectType=d,this._FECSplitIds=n,this.stop().then(function(){return o.play().then(function(u){return d.place===1&&d.correctType===0||d.place===3&&d.correctType===0?o.Theme.resumeFECBtn():o.Theme.disabledFECBtn(),o.eventEmitter&&o.eventEmitter.emit("setFECCorrectType",{eventType:"setFECCorrectType",code:0,target:o,msg:"切换鱼眼矫正类型"}),u})})):(this.eventEmitter&&this.eventEmitter.emit("setFECCorrectType",{eventType:"setFECCorrectType",code:-1,target:this,msg:"鱼眼矫正类型暂时不支持"}),Promise.reject({code:-1,msg:"鱼眼矫正类型暂时不支持"}))}},{key:"setFEC3DViewParam",value:function(t){return!this._FECCorrectType||(this.jSPlugin.isHardH264||this.jSPlugin.isHardH265)&&this.jSPlugin.useHardDev?(this.eventEmitter&&this.eventEmitter.emit("setFEC3DViewParam",{eventType:"setFEC3DViewParam",code:-1,target:this,msg:"现只有V3软解支持鱼眼矫正"}),Promise.reject({code:-1,msg:"现只有V3软解支持鱼眼矫正"})):this.jSPlugin.FEC_Set3DViewParam&&this._FECCorrectType&&(this._FECCorrectType.place===3&&this._FECCorrectType.correctType===kd||this._FECCorrectType.place===1&&this._FECCorrectType.correctType===Id)?(this.eventEmitter&&this.eventEmitter.emit("setFEC3DViewParam",{eventType:"setFEC3DViewParam",code:0,target:this,msg:"设置3D矫正视角参数"}),this.jSPlugin.FEC_Set3DViewParam(t)):(this.eventEmitter&&this.eventEmitter.emit("setFEC3DViewParam",{eventType:"setFEC3DViewParam",code:-1,target:this,msg:"该矫正类型不能设置3D矫正视角参数"}),Promise.reject({code:-1,msg:"该矫正类型不能设置3D矫正视角参数"}))}},{key:"getFEC3DViewParam",value:function(t){return!this._FECCorrectType||(this.jSPlugin.isHardH264||this.jSPlugin.isHardH265)&&this.jSPlugin.useHardDev?(this.eventEmitter&&this.eventEmitter.emit("getFEC3DViewParam",{eventType:"getFEC3DViewParam",code:-1,target:this,msg:"现只有V3软解支持鱼眼矫正获取3D矫正视角参数"}),Promise.reject({code:-1,msg:"现只有V3软解支持鱼眼矫正获取3D矫正视角参数"})):this.jSPlugin.FEC_Set3DViewParam&&this._FECCorrectType&&(this._FECCorrectType.place===3&&this._FECCorrectType.correctType===kd||this._FECCorrectType.place===1&&this._FECCorrectType.correctType===Id)?(this.eventEmitter&&this.eventEmitter.emit("getFEC3DViewParam",{eventType:"getFEC3DViewParam",code:0,target:this,data:this.jSPlugin.FEC_Get3DViewParam(t),msg:"获取3D矫正视角参数"}),this.jSPlugin.FEC_Get3DViewParam(t)):(this.eventEmitter&&this.eventEmitter.emit("getFEC3DViewParam",{eventType:"getFEC3DViewParam",code:-1,target:this,msg:"该矫正类型不能获取3D矫正视角参数"}),Promise.reject({code:-1,msg:"该矫正类型不能获取3D矫正视角参数"}))}}]),J}(),Xr=null;function __(J,g,t,n){return new WebControl({szPluginContainer:J,iServicePortStart:14510,iServicePortEnd:14519,cbConnectSuccess:g,cbConnectError:t,cbConnectClose:n})}function g_(){Xr!=null&&(Xr.JS_DestroyWnd().then(function(){console.log("JS_DestroyWnd")},function(){}),Xr.JS_StopService("window").then(function(){Xr.JS_Disconnect().then(function(){console.log("JS_Disconnect")},function(){})}))}function v_(J){J.responseMsg.eventName,console.log(J.responseMsg)}function y_(){Xr.JS_SetWindowControlCallback({cbIntegrationCallBack:v_}),Xr.JS_StartService("window",{dllPath:"./chain/cloudTransform.dll"}).then(function(){Xr.JS_CreateWnd("playWnd",900,500).then(function(){console.log("JS_CreateWnd success")})})}function b_(){console.log("cbConnectError"),Xr=null,console.error("确认本地进程是否已安装并开启成功！")}function S_(J){console.log("cbConnectClose"),Xr=null}window.onscroll=function(){Xr!=null&&Xr.JS_Resize(900,500)},window.onresize=function(){Xr!=null&&Xr.JS_Resize(900,500)},window.onunload=function(){try{Xr.JS_HideWnd(),g_()}catch(J){console.error(J)}},window.onpagehide=function(){try{Xr.JS_HideWnd()}catch(J){console.error(J)}};var C_=function(){function J(g){var t=this;Re(this,J),_t(this,"changeModel",function(n,o){var c=t;t.switchVideo=parseInt(n),Xr&&Xr.JS_RequestInterface({funcName:"ChangeModel",arguments:encodeURI(JSON.stringify({model:n}))}).then(function(d){n==0?c.play({deviceSerial:o.deviceSerial,channelNo:o.channelNo,validateCode:o.validateCode}):c.play({deviceSerial:o.deviceSerial,channelNo:o.channelNo,validateCode:o.validateCode,startTime:o.startTime,endTime:o.endTime})})}),_t(this,"init",function(n){var o,c=t;if(!n.appKey||!n.accessToken){c.showTips(!1,"请输入appkey和token");return}typeof n.appKey<"u"&&(t.appKey=n.appKey),typeof n.accessToken<"u"&&(t.accessToken=n.accessToken),typeof n.platformId<"u"&&(t.platformId=n.platformId);var d=(o={layout:+c.layout,userName:"",waterMark:""},_t(o,"waterMark","1"),_t(o,"iWndType",0),_t(o,"intelligenceEnable",1),_t(o,"isRecord",1),_t(o,"isSetPos",1),_t(o,"motionDetectEnable",0),_t(o,"playBackAlarmOverlyingEnable",0),_t(o,"response",{code:0,message:null,data:{appKey:n.appKey,ezvizToken:n.accessToken,videoLevel:0,logLevel:3,showMainTool:1,showSubTool:1,waterMark:"1",userName:"openteam",platformId:n.platformId}}),o);console.log("初始化入参",d),window.ezuikitMonitor.report({protocol:"hd",appKey:n.appKey,action:1,logInfo:{argumentsPram:d}}),Xr.JS_RequestInterface({funcName:"Init",arguments:encodeURI(JSON.stringify(d))}).then(function(u){console.log(u.responseMsg),c.showTips(!0,"视频初始化成功！")})}),_t(this,"play",function(n){var o=t;if(!(!n.deviceSerial||!n.channelNo)){typeof n.deviceSerial<"u"&&(t.deviceSerial=n.deviceSerial),typeof n.channelNo<"u"&&(t.channelNo=n.channelNo),typeof n.startTime<"u"&&n.startTime&&(t.startTime=n.startTime+" 00:00:00"),typeof n.endTime<"u"&&n.endTime&&(t.endTime=n.endTime+" 23:59:59"),typeof n.validateCode<"u"&&n.validateCode&&(t.validateCode=n.validateCode);var c={response:{code:0,message:null,data:{deviceSerial:n.deviceSerial,channelCode:n.channelNo,channelNo:+n.channelNo,codeIsEncrypt:0,validateCode:n.validateCode,deviceClass:o.deviceClass,deviceType:"10222",channelId:"2222222222",channelName:"channelNameTest",storeName:"storeName",storeId:"storeid",startTime:t.startTime,endTime:t.endTime}}};o.deviceClass==="1"?(c.response.data.channelCode=o.channelNo,c.response.data.platformId=o.platformId):c.response.data.channelNo=+o.channelNo,t.switchVideo===1&&(t.startTime&&(c.response.data.startTime=t.startTime),t.endTime&&(c.response.data.endTime=t.endTime)),console.log("预览/回放入参",c),Xr.JS_RequestInterface({funcName:t.switchVideo===0?"StartPreview":"StartPlayback",arguments:encodeURI(JSON.stringify(c))}).then(function(d){console.log(d.responseMsg),o.showTips(!0,"预览/回放成功！")}).catch(function(d){console.log("开始播放：",d)})}}),_t(this,"showCBInfo",function(n){t.callbackMessage=t.callbackMessage+JSON.stringify(n)+`

`,console.log(t.callbackMessage)}),_t(this,"showTips",function(n,o){}),_t(this,"hideVideo",function(){Xr.JS_HideWnd()}),_t(this,"showVideo",function(){Xr.JS_ShowWnd()}),_t(this,"GetLayout",function(){var n=null;Xr.JS_RequestInterface({funcName:"GetLayout",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:n}}))}).then(function(o){console.log(JSON.stringify(o.responseMsg)),console.log(o.responseMsg)})}),_t(this,"capturePicture",function(n){var o=null;Xr.JS_RequestInterface({funcName:"CaptureJPGEx",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:o}}))}).then(function(c){console.log(JSON.stringify(c.responseMsg)),console.log(c.responseMsg)})}),_t(this,"stop",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;Xr.JS_RequestInterface({funcName:"StopPlay",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{wndId:parseInt(n)}}}))}).then(function(o){console.log(JSON.stringify(o.responseMsg)),console.log(o.responseMsg)})}),_t(this,"setLayout",function(n){var o=parseInt(n);if(isNaN(o)||o==0||o>=13){console.log("不支持实际布局大于16的窗口数");return}t.layout=o,Xr.JS_RequestInterface({funcName:"SetLayout",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{layout:o}}}))}).then(function(c){console.log(JSON.stringify(c.responseMsg)),console.log(c.responseMsg)})}),_t(this,"setSoundVolumn",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,o=arguments.length>1?arguments[1]:void 0;Xr.JS_RequestInterface({funcName:"SoundVolumn",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{wndId:parseInt(n),volumn:parseInt(o)}}}))}).then(function(c){console.log(JSON.stringify(c.responseMsg)),console.log(c.responseMsg)})}),_t(this,"testMute",function(){var n=parseInt(prompt("请输入窗口ID"));Xr.JS_RequestInterface({funcName:"MuteOnOff",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{wndId:n}}}))}).then(function(o){console.log(JSON.stringify(o.responseMsg)),console.log(o.responseMsg)})}),_t(this,"testSelectWnd",function(){var n=parseInt(prompt("请输入窗口ID"));Xr.JS_RequestInterface({funcName:"SelectPlayWnd",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{wndId:n}}}))}).then(function(o){console.log(JSON.stringify(o.responseMsg)),console.log(o.responseMsg)})}),_t(this,"setVideoLevel",function(n,o){Xr.JS_RequestInterface({funcName:"SetVideoLevel",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{wndId:t.switchVideo==1?0:parseInt(n),level:parseInt(o,10)}}}))}).then(function(c){console.log(JSON.stringify(c.responseMsg)),console.log(c.responseMsg)})}),_t(this,"startTalk",function(n){Xr.JS_RequestInterface({funcName:"StartTalk",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{wndId:parseInt(n)}}}))}).then(function(o){console.log(JSON.stringify(o.responseMsg)),console.log(o.responseMsg)})}),_t(this,"stopTalk",function(n){Xr.JS_RequestInterface({funcName:"StopTalk",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{wndId:parseInt(n)}}}))}).then(function(o){console.log(JSON.stringify(o.responseMsg)),console.log(o.responseMsg)})}),_t(this,"startSave",function(n){Xr.JS_RequestInterface({funcName:"StartRecord",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{wndId:parseInt(n)}}}))}).then(function(o){console.log(JSON.stringify(o.responseMsg)),console.log(o.responseMsg)})}),_t(this,"stopSave",function(n){Xr.JS_RequestInterface({funcName:"StopRecord",arguments:encodeURI(JSON.stringify({response:{code:0,message:null,data:{wndId:parseInt(n)}}}))}).then(function(o){console.log(JSON.stringify(o.responseMsg)),console.log(o.responseMsg)})}),this.appKey="b9a3ad6e8026410095d8252169fa430a",this.accessToken="at.2vtum8873rrcwbrv431qb6pn94dkbv23-8dw2twn355-1u3x014-wrthellzk",this.deviceSerial="C33368372",this.channelNo="1",this.validateCode="",this.deviceClass="0",this.platformId="",this.startTime="",this.endTime="",this.layout=2,this.switchVideo=0,this.tips="调用成功",this.successTip=!1,this.tipsShow=!1,Xr=__("playWnd",y_,b_,S_)}return xt(J,[{key:"alarmMsg",value:function(){var t={request:{body:{alarmTypes:[10800,0,0,0,0],channelId:"066dde0465dd4abaab6afe355baf9d0b",endTime:"1621007999000",startTime:"1620921600000"},callBack:"GetAlarmMsgOrders",majorKey:"",method:"POST",storeId:"",url:"/videoplugin/message/getMessageByTypes"},response:{code:0,message:null,data:[{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620921217e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620920678e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620920586e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620919513e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620919483e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620919333e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620918913e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620918616e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620918305e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620917858e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620917658e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620917244e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620917064e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620916994e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620916668e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620916571e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620916529e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620916343e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620916081e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620915825e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620915676e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620915531e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620915394e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620915197e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620914971e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620914644e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620914533e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620914457e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620914376e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620914284e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620913973e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620913431e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620912834e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620912771e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620912354e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620912275e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620912093e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620912024e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162091189e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620911839e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620911807e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162091176e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620911682e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162091127e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620911184e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910982e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910931e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910851e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910781e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910727e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910677e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910647e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910588e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910544e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910484e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162091041e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162091035e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910278e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910217e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620910124e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909976e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909939e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909847e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909817e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909736e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909664e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909605e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909575e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909346e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909247e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909216e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909149e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090912e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620909028e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908999e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908969e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908909e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090888e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908835e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090875e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090872e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908652e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908612e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908582e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908552e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908456e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908426e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908299e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620908268e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090805e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620907918e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620907758e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620907625e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620907386e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620907292e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620907127e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906864e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906828e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906797e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906747e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906717e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906632e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906501e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906412e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906368e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906329e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906142e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906112e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620906013e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905946e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905823e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905697e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905622e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905571e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905541e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905511e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905481e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905442e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905412e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905382e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905352e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905322e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905262e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620905196e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090515e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904994e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904931e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904813e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090473e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:16209047e5},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904618e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904286e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904173e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904143e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904112e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904053e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620904023e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903854e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903789e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903723e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903643e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903612e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903573e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903505e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903383e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903329e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903299e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903268e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:16209032e5},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620903149e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090312e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620902977e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090286e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090277e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620902639e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620902609e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620902517e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620902373e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090232e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620902253e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620902198e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620902132e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090194e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090185e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620901789e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620901746e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620901685e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620901638e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090152e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620901489e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620901424e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620901271e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620901233e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620901157e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620900915e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620900834e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620900774e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620900744e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090065e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162090044e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620900409e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620900175e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620900134e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620900069e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620900016e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899976e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899908e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899879e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899826e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899756e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899599e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899559e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899467e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899406e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899265e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620899211e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089914e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089911e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089905e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898991e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898926e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898834e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898785e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898746e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898697e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898666e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898507e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898293e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898248e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898218e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898157e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620898088e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089802e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089796e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089785e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897807e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897771e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897719e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089769e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089763e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:16208976e5},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089757e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089754e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897475e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897412e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897369e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897339e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897279e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897237e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897207e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897172e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897142e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897112e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620897024e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896985e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896874e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896843e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896814e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896783e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896736e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896621e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896478e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896447e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896358e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896307e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896277e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896247e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620896214e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089604e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895953e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895921e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895868e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089577e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895704e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089559e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895559e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089548e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895442e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895377e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895347e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895293e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895171e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895136e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620895017e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894926e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894896e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894864e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894834e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894738e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894599e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894539e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894426e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894359e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894297e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894213e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894183e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620894051e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893964e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893934e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893843e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893754e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893676e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893606e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089353e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893452e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893423e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893357e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893288e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893143e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893051e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620893006e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892904e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892824e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892764e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892541e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892479e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892412e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892311e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892281e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892209e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620892063e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891991e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891931e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089187e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089181e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891708e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891655e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891585e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891531e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891501e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891401e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891297e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891257e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891216e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891178e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891128e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620891033e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890973e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162089094e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890879e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890794e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890714e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890616e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890586e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890469e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890414e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890346e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890288e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890179e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890108e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890041e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620890011e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620889937e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620889719e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620889635e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620889481e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620889451e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620889317e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620889227e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620889139e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620889034e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888973e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888902e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888837e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888767e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888737e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888706e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888633e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888571e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888413e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888353e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888323e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888249e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888162e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620888e6},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887859e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887776e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887734e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887692e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887619e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887501e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887355e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162088732e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887289e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887126e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887066e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620887034e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162088697e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886884e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886804e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886728e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886609e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886538e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886478e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886396e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886334e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886246e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886111e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620886011e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885956e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885894e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885696e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885514e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885484e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885414e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885383e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885341e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885306e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885276e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885216e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885186e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885114e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885037e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620885006e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620884975e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620884945e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620884911e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620884851e3},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:162088478e4},{alarmType:10800,alarmName:"移动侦测报警",alarmTime:1620884696e3}],success:!0}};console.log(t),Xr.JS_RequestInterface({funcName:"TransFunctionResult",arguments:encodeURI(JSON.stringify(t))})}}]),J}();it.sessions={},it.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var J=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),g=33;return window.navigator.userAgent.match("Linux")&&(g=35),J>=26&&J<=g?!0:it.extension.isInstalled()}else return!0};var Sh={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return document.querySelector("#janus-extension-installed")!==null},getScreen:function(g){var t=window.setTimeout(function(){var n=new Error("NavigatorUserMediaError");return n.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',g(n)},1e3);this.cache[t]=g,window.postMessage({type:"janusGetScreen",id:t},"*")},init:function(){var g={};this.cache=g,window.addEventListener("message",function(t){if(t.origin==window.location.origin)if(t.data.type=="janusGotScreen"&&g[t.data.id]){var n=g[t.data.id];if(delete g[t.data.id],t.data.sourceId===""){var o=new Error("NavigatorUserMediaError");o.name="You cancelled the request for permission, giving up...",n(o)}else n(null,t.data.sourceId)}else t.data.type=="janusGetScreenPending"&&(console.log("clearing ",t.data.id),window.clearTimeout(t.data.id))})}};it.useDefaultDependencies=function(J){var g=J&&J.fetch||fetch,t=J&&J.Promise||Promise,n=J&&J.WebSocket||WebSocket;return{newWebSocket:function(c,d){return new n(c,d)},extension:J&&J.extension||Sh,isArray:function(c){return Array.isArray(c)},webRTCAdapter:J&&J.adapter||adapter,httpAPICall:function(c,d){var u={method:d.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};d.verb==="POST"&&(u.headers["Content-Type"]="application/json"),d.withCredentials!==void 0&&(u.credentials=d.withCredentials===!0?"include":d.withCredentials?d.withCredentials:"omit"),d.body!==void 0&&(u.body=JSON.stringify(d.body));var k=g(c,u).catch(function(S){return t.reject({message:"Probably a network error, is the server down?",error:S})});if(d.timeout!==void 0){var P=new t(function(S,R){var b=setTimeout(function(){return clearTimeout(b),R({message:"Request timed out",timeout:d.timeout})},d.timeout)});k=t.race([k,P])}return k.then(function(S){if(S.ok){if(K(d.success)===K(it.noop))return S.json().then(function(R){d.success(R)}).catch(function(R){return t.reject({message:"Failed to parse response body",error:R,response:S})})}else return t.reject({message:"API call failed",response:S})}).catch(function(S){K(d.error)===K(it.noop)&&d.error(S.message||"<< internal error >>",S)}),k}}},it.useOldDependencies=function(J){var g=J&&J.jQuery||jQuery,t=J&&J.WebSocket||WebSocket;return{newWebSocket:function(o,c){return new t(o,c)},isArray:function(o){return g.isArray(o)},extension:J&&J.extension||Sh,webRTCAdapter:J&&J.adapter||adapter,httpAPICall:function(o,c){var d=c.body!==void 0?{contentType:"application/json",data:JSON.stringify(c.body)}:{},u=c.withCredentials!==void 0?{xhrFields:{withCredentials:c.withCredentials}}:{};return g.ajax(g.extend(d,u,{url:o,type:c.verb,cache:!1,dataType:"json",async:c.async,timeout:c.timeout,success:function(P){K(c.success)===K(it.noop)&&c.success(P)},error:function(P,S,R){K(c.error)===K(it.noop)&&c.error(S,R)}}))}}},it.noop=function(){},it.dataChanDefaultLabel="JanusDataChannel",it.endOfCandidates=null,it.init=function(J){if(J=J||{},J.callback=typeof J.callback=="function"?J.callback:it.noop,it.initDone===!0)J.callback();else{if((typeof console>"u"||typeof console.log>"u")&&(console={log:function(){}}),it.trace=it.noop,it.debug=it.noop,it.vdebug=it.noop,it.log=it.noop,it.warn=it.noop,it.error=it.noop,J.debug===!0||J.debug==="all")it.trace=console.trace.bind(console),it.debug=console.debug.bind(console),it.vdebug=console.debug.bind(console),it.log=console.log.bind(console),it.warn=console.warn.bind(console),it.error=console.error.bind(console);else if(Array.isArray(J.debug))for(var g in J.debug){var t=J.debug[g];switch(t){case"trace":it.trace=console.trace.bind(console);break;case"debug":it.debug=console.debug.bind(console);break;case"vdebug":it.vdebug=console.debug.bind(console);break;case"log":it.log=console.log.bind(console);break;case"warn":it.warn=console.warn.bind(console);break;case"error":it.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+t+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')");break}}it.log("Initializing library");var n=J.dependencies||it.useDefaultDependencies();it.isArray=n.isArray,it.webRTCAdapter=n.webRTCAdapter,it.httpAPICall=n.httpAPICall,it.newWebSocket=n.newWebSocket,it.extension=n.extension,it.extension.init(),it.listDevices=function(S,R){S=typeof S=="function"?S:it.noop,R==null&&(R={audio:!0,video:!0}),it.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(R).then(function(b){navigator.mediaDevices.enumerateDevices().then(function(_){it.debug(_),S(_);try{var oe=b.getTracks();for(var de in oe){var xe=oe[de];xe!=null&&xe.stop()}}catch{}})}).catch(function(b){it.error(b),S([])}):(it.warn("navigator.mediaDevices unavailable"),S([]))},it.attachMediaStream=function(S,R){if(it.webRTCAdapter.browserDetails.browser==="chrome"){var b=it.webRTCAdapter.browserDetails.version;b>=52?S.srcObject=R:typeof S.src<"u"?S.src=URL.createObjectURL(R):it.error("Error attaching stream to element")}else S.srcObject=R},it.reattachMediaStream=function(S,R){if(it.webRTCAdapter.browserDetails.browser==="chrome"){var b=it.webRTCAdapter.browserDetails.version;b>=52?S.srcObject=R.srcObject:typeof S.src<"u"?S.src=R.src:it.error("Error reattaching stream to element")}else S.srcObject=R.srcObject};var o=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0,c=o?"pagehide":"beforeunload",d=window["on"+c];if(window.addEventListener(c,function(S){it.log("Closing window");for(var R in it.sessions)it.sessions[R]!==null&&it.sessions[R]!==void 0&&it.sessions[R].destroyOnUnload&&(it.log("Destroying session "+R),it.sessions[R].destroy({asyncRequest:!1,notifyDestroyed:!1}));d&&typeof d=="function"&&d()}),it.safariVp8=!1,it.webRTCAdapter.browserDetails.browser==="safari"&&it.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){for(var g in RTCRtpSender.getCapabilities("video").codecs){var u=RTCRtpSender.getCapabilities("video").codecs[g];if(u&&u.mimeType&&u.mimeType.toLowerCase()==="video/vp8"){it.safariVp8=!0;break}}it.safariVp8?it.log("This version of Safari supports VP8"):it.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var k=new RTCPeerConnection({},{});k.createOffer({offerToReceiveVideo:!0}).then(function(S){it.safariVp8=S.sdp.indexOf("VP8")!==-1,it.safariVp8?it.log("This version of Safari supports VP8"):it.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),k.close(),k=null})}if(it.unifiedPlan=!1,it.webRTCAdapter.browserDetails.browser==="firefox"&&it.webRTCAdapter.browserDetails.version>=59)it.unifiedPlan=!0;else if(it.webRTCAdapter.browserDetails.browser==="chrome"&&it.webRTCAdapter.browserDetails.version<72)it.unifiedPlan=!1;else if(!("currentDirection"in RTCRtpTransceiver.prototype))it.unifiedPlan=!1;else{var P=new RTCPeerConnection;try{P.addTransceiver("audio"),it.unifiedPlan=!0}catch{}P.close()}it.initDone=!0,J.callback()}},it.isWebrtcSupported=function(){return window.RTCPeerConnection!==void 0&&window.RTCPeerConnection!==null},it.isGetUserMediaAvailable=function(){return navigator.mediaDevices!==void 0&&navigator.mediaDevices!==null&&navigator.mediaDevices.getUserMedia!==void 0&&navigator.mediaDevices.getUserMedia!==null},it.randomString=function(J){for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<J;n++){var o=Math.floor(Math.random()*g.length);t+=g.substring(o,o+1)}return t};function it(J,g){if(it.initDone===void 0)return J.error("Library not initialized"),{};if(!it.isWebrtcSupported())return J.error("WebRTC not supported by this browser"),{};if(it.log("Library initialized: "+it.initDone),J=J||{},J.success=typeof J.success=="function"?J.success:it.noop,J.error=typeof J.error=="function"?J.error:it.noop,J.destroyed=typeof J.destroyed=="function"?J.destroyed:it.noop,J.server===null||J.server===void 0)return J.error("Invalid server url"),{};var t=!1,n=null,o={},c=null,d=null,u=0,k=J.server;it.isArray(k)?(it.log("Multiple servers provided ("+k.length+"), will use the first that works"),k=null,d=J.server,it.debug(d)):k.indexOf("ws")===0?(t=!0,it.log("Using WebSockets to contact Janus: "+k)):(t=!1,it.log("Using REST API to contact Janus: "+k));var P=J.iceServers;P==null&&(P=[{urls:"stun:stun.l.google.com:19302"}]);var S=J.iceTransportPolicy,R=J.bundlePolicy,b=J.ipv6;b==null&&(b=!1);var _=!1;J.withCredentials!==void 0&&J.withCredentials!==null&&(_=J.withCredentials===!0);var oe=10;J.max_poll_events!==void 0&&J.max_poll_events!==null&&(oe=J.max_poll_events),oe<1&&(oe=1);var de=null;J.token!==void 0&&J.token!==null&&(de=J.token);var xe=null;J.apisecret!==void 0&&J.apisecret!==null&&(xe=J.apisecret),this.destroyOnUnload=!0,J.destroyOnUnload!==void 0&&J.destroyOnUnload!==null&&(this.destroyOnUnload=J.destroyOnUnload===!0);var se=25e3;J.keepAlivePeriod!==void 0&&J.keepAlivePeriod!==null&&(se=J.keepAlivePeriod),isNaN(se)&&(se=25e3);var Ae=6e4;J.longPollTimeout!==void 0&&J.longPollTimeout!==null&&(Ae=J.longPollTimeout),isNaN(Ae)&&(Ae=6e4);function qe(X){var Ce={high:9e5,medium:3e5,low:1e5};return X!=null&&(X.high&&(Ce.high=X.high),X.medium&&(Ce.medium=X.medium),X.low&&(Ce.low=X.low)),Ce}var me=!1,m=null,U={},le=this,re=0,Pe={};F(J),this.getServer=function(){return k},this.isConnected=function(){return me},this.reconnect=function(X){X=X||{},X.success=typeof X.success=="function"?X.success:it.noop,X.error=typeof X.error=="function"?X.error:it.noop,X.reconnect=!0,F(X)},this.getSessionId=function(){return m},this.destroy=function(X){Ie(X)},this.attach=function(X){Ve(X)};function fe(){if(m!=null){if(it.debug("Long poll..."),!me){it.warn("Is the server down? (connected=false)");return}var X=k+"/"+m+"?rid="+new Date().getTime();oe!=null&&(X=X+"&maxev="+oe),de!=null&&(X=X+"&token="+encodeURIComponent(de)),xe!=null&&(X=X+"&apisecret="+encodeURIComponent(xe)),it.httpAPICall(X,{verb:"GET",withCredentials:_,success:$e,timeout:Ae,error:function(ve,Le){if(it.error(ve+":",Le),re++,re>3){me=!1,J.error("Lost connection to the server (is it down?)");return}fe()}})}}function $e(X,Ce){if(re=0,!t&&m!==void 0&&m!==null&&Ce!==!0&&fe(),!t&&it.isArray(X)){for(var ve=0;ve<X.length;ve++)$e(X[ve],!0);return}if(X.rtcgw==="keepalive"){it.vdebug("Got a keepalive on session "+m);return}else if(X.rtcgw==="ack"){it.debug("Got an ack on session "+m),it.debug(X);var Le=X.transaction;if(Le!=null){var pe=Pe[Le];pe!=null&&pe(X),delete Pe[Le]}return}else if(X.rtcgw==="success"){it.debug("Got a success on session "+m),it.debug(X);var Le=X.transaction;if(Le!=null){var pe=Pe[Le];pe!=null&&pe(X),delete Pe[Le]}return}else if(X.rtcgw==="trickle"){var ee=X.sender;if(ee==null){it.warn("Missing sender...");return}var je=U[ee];if(je==null){it.debug("This handle is not attached to this session");return}var mt=X.candidate;it.debug("Got a trickled candidate on session "+m),it.debug(mt);var gt=je.webrtcStuff;gt.pc&&gt.remoteSdp?(it.debug("Adding remote candidate:",mt),!mt||mt.completed===!0?gt.pc.addIceCandidate(it.endOfCandidates):gt.pc.addIceCandidate(mt)):(it.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),gt.candidates||(gt.candidates=[]),gt.candidates.push(mt),it.debug(gt.candidates))}else if(X.rtcgw==="webrtcup"){it.debug("Got a webrtcup event on session "+m),it.debug(X);var ee=X.sender;if(ee==null){it.warn("Missing sender...");return}var je=U[ee];if(je==null){it.debug("This handle is not attached to this session");return}je.webrtcState(!0);return}else if(X.rtcgw==="hangup"){it.debug("Got a hangup event on session "+m),it.debug(X);var ee=X.sender;if(ee==null){it.warn("Missing sender...");return}var je=U[ee];if(je==null){it.debug("This handle is not attached to this session");return}je.webrtcState(!1,X.reason),je.hangup()}else if(X.rtcgw==="detached"){it.debug("Got a detached event on session "+m),it.debug(X);var ee=X.sender;if(ee==null){it.warn("Missing sender...");return}var je=U[ee];if(je==null)return;je.detached=!0,je.ondetached(),je.detach()}else if(X.rtcgw==="media"){it.debug("Got a media event on session "+m),it.debug(X);var ee=X.sender;if(ee==null){it.warn("Missing sender...");return}var je=U[ee];if(je==null){it.debug("This handle is not attached to this session");return}je.mediaState(X.type,X.receiving)}else if(X.rtcgw==="slowlink"){it.debug("Got a slowlink event on session "+m),it.debug(X),console.log("json的所有信息打印-----------------------------------------------",X);var ee=X.sender;if(ee==null){it.warn("Missing sender...");return}var je=U[ee];if(je==null){it.debug("This handle is not attached to this session");return}je.slowLink(X.uplink,X.lost)}else if(X.rtcgw==="error"){it.error("Ooops: "+X.error.code+" "+X.error.reason),it.debug(X);var Le=X.transaction;if(Le!=null){var pe=Pe[Le];pe!=null&&pe(X),delete Pe[Le]}return}else if(X.rtcgw==="event"){it.debug("Got a plugin event on session "+m),it.debug(X);var ee=X.sender;if(ee==null){it.warn("Missing sender...");return}var Gt=X.plugindata;if(Gt==null){it.warn("Missing plugindata...");return}it.debug("  -- Event is coming from "+ee+" ("+Gt.plugin+")");var li=Gt.data;it.debug(li);var je=U[ee];if(je==null){it.warn("This handle is not attached to this session");return}var Oi=X.jsep;Oi!=null&&(it.debug("Handling SDP as well..."),it.debug(Oi));var ge=je.onmessage;ge!=null?(it.debug("Notifying application..."),ge(li,Oi)):it.debug("No provided notification callback")}else if(X.rtcgw==="timeout"){it.error("Timeout on session "+m),it.debug(X),t&&n.close(3504,"Gateway timeout");return}else it.warn("Unknown message/event  '"+X.rtcgw+"' on session "+m),it.debug(X)}function ot(){if(!(k===null||!t||!me)){c=setTimeout(ot,se);var X={rtcgw:"keepalive",session_id:m,transaction:it.randomString(12)};de!=null&&(X.token=de),xe!=null&&(X.apisecret=xe),n.send(JSON.stringify(X))}}function F(X){var Ce=it.randomString(12),ve={rtcgw:"create",transaction:Ce,token:"testtoken"};if(ve=Object.assign({},ve,g),X.reconnect&&(me=!1,ve.rtcgw="claim",ve.session_id=m,n&&(n.onopen=null,n.onerror=null,n.onclose=null,c&&(clearTimeout(c),c=null))),de!=null&&(ve.token=de),xe!=null&&(ve.apisecret=xe),k===null&&it.isArray(d)&&(k=d[u],k.indexOf("ws")===0?(t=!0,it.log("Server #"+(u+1)+": trying WebSockets to contact Janus ("+k+")")):(t=!1,it.log("Server #"+(u+1)+": trying REST API to contact Janus ("+k+")"))),t){n=it.newWebSocket(k,"rtcgw-protocol"),o={error:function(){if(it.error("Error connecting to the Janus WebSockets server... "+k),it.isArray(d)&&!X.reconnect){if(u++,u==d.length){X.error("Error connecting to any of the provided Janus servers: Is the server down?");return}k=null,setTimeout(function(){F(X)},200);return}X.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){Pe[Ce]=function(ee){if(it.debug(ee),ee.rtcgw!=="success"){it.error("Ooops: "+ee.error.code+" "+ee.error.reason),X.error(ee.error.reason);return}c=setTimeout(ot,se),me=!0,m=ee.session_id?ee.session_id:ee.data.id,X.reconnect?it.log("Claimed session: "+m):it.log("Created session: "+m),it.sessions[m]=le,X.success(m)},n.send(JSON.stringify(ve))},message:function(ee){$e(JSON.parse(ee.data))}};for(var Le in o)n.addEventListener(Le,o[Le]);return}it.httpAPICall(k,{verb:"POST",withCredentials:_,body:ve,success:function(ee){if(it.debug(ee),ee.rtcgw!=="success"){it.error("Ooops: "+ee.error.code+" "+ee.error.reason),X.error(ee.error.reason);return}me=!0,m=ee.session_id?ee.session_id:ee.data.id,X.reconnect?it.log("Claimed session: "+m):it.log("Created session: "+m),it.sessions[m]=le,fe(),X.success()},error:function(ee,je){if(it.error(ee+":",je),it.isArray(d)&&!X.reconnect){if(u++,u==d.length){X.error("Error connecting to any of the provided Janus servers: Is the server down?");return}k=null,setTimeout(function(){F(X)},200);return}je===""?X.error(ee+": Is the server down?"):X.error(ee+": "+je)}})}function Ie(X){X=X||{},X.success=typeof X.success=="function"?X.success:it.noop;var Ce=!0;X.asyncRequest!==void 0&&X.asyncRequest!==null&&(Ce=X.asyncRequest===!0);var ve=!0;X.notifyDestroyed!==void 0&&X.notifyDestroyed!==null&&(ve=X.notifyDestroyed===!0);var Le=!1;if(X.cleanupHandles!==void 0&&X.cleanupHandles!==null&&(Le=X.cleanupHandles===!0),it.log("Destroying session "+m+" (async="+Ce+")"),!me){it.warn("Is the server down? (connected=false)"),X.success();return}if(m==null){it.warn("No session to destroy"),X.success(),ve&&J.destroyed();return}if(Le)for(var pe in U)at(pe,{noRequest:!0});var ee={rtcgw:"destroy",transaction:it.randomString(12)};if(de!=null&&(ee.token=de),xe!=null&&(ee.apisecret=xe),t){ee.session_id=m;var je=function(){for(var li in o)n.removeEventListener(li,o[li]);n.removeEventListener("message",mt),n.removeEventListener("error",gt),c&&clearTimeout(c),n.close()},mt=function(li){var Oi=JSON.parse(li.data);Oi.session_id==ee.session_id&&Oi.transaction==ee.transaction&&(je(),X.success(),ve&&J.destroyed())},gt=function(li){je(),X.error("Failed to destroy the server: Is the server down?"),ve&&J.destroyed()};n.addEventListener("message",mt),n.addEventListener("error",gt),n.send(JSON.stringify(ee));return}it.httpAPICall(k+"/"+m,{verb:"POST",async:Ce,withCredentials:_,body:ee,success:function(li){it.log("Destroyed session:"),it.debug(li),m=null,me=!1,li.rtcgw!=="success"&&it.error("Ooops: "+li.error.code+" "+li.error.reason),X.success(),ve&&J.destroyed()},error:function(li,Oi){it.error(li+":",Oi),m=null,me=!1,X.success(),ve&&J.destroyed(),pluginHandlesp}})}function Ve(X){if(X=X||{},X.success=typeof X.success=="function"?X.success:it.noop,X.error=typeof X.error=="function"?X.error:it.noop,X.consentDialog=typeof X.consentDialog=="function"?X.consentDialog:it.noop,X.iceState=typeof X.iceState=="function"?X.iceState:it.noop,X.mediaState=typeof X.mediaState=="function"?X.mediaState:it.noop,X.webrtcState=typeof X.webrtcState=="function"?X.webrtcState:it.noop,X.slowLink=typeof X.slowLink=="function"?X.slowLink:it.noop,X.onmessage=typeof X.onmessage=="function"?X.onmessage:it.noop,X.onlocalstream=typeof X.onlocalstream=="function"?X.onlocalstream:it.noop,X.onremotestream=typeof X.onremotestream=="function"?X.onremotestream:it.noop,X.ondata=typeof X.ondata=="function"?X.ondata:it.noop,X.ondataopen=typeof X.ondataopen=="function"?X.ondataopen:it.noop,X.oncleanup=typeof X.oncleanup=="function"?X.oncleanup:it.noop,X.ondetached=typeof X.ondetached=="function"?X.ondetached:it.noop,!me){it.warn("Is the server down? (connected=false)"),X.error("Is the server down? (connected=false)");return}var Ce=X.plugin;if(Ce==null){it.error("Invalid plugin"),X.error("Invalid plugin");return}var ve=X.opaqueId,Le=X.token?X.token:de,pe=it.randomString(12),ee={rtcgw:"attach",plugin:Ce,opaque_id:ve,transaction:pe};if(Le!=null&&(ee.token=Le),xe!=null&&(ee.apisecret=xe),t){Pe[pe]=function(je){if(it.debug(je),je.rtcgw!=="success"){it.error("Ooops: "+je.error.code+" "+je.error.reason),X.error("Ooops: "+je.error.code+" "+je.error.reason);return}var mt=je.data.id;it.log("Created handle: "+mt);var gt={session:le,plugin:Ce,id:mt,token:Le,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return mt},getPlugin:function(){return Ce},getVolume:function(){return zt(mt,!0)},getRemoteVolume:function(){return zt(mt,!0)},getLocalVolume:function(){return zt(mt,!1)},isAudioMuted:function(){return ae(mt,!1)},muteAudio:function(){return be(mt,!1,!0)},unmuteAudio:function(){return be(mt,!1,!1)},isVideoMuted:function(){return ae(mt,!0)},muteVideo:function(){return be(mt,!0,!0)},unmuteVideo:function(){return be(mt,!0,!1)},getBitrate:function(){return Q(mt)},getNetworkQuality:function(li){E(mt,li)},send:function(li){yi(mt,li)},data:function(li){Ci(mt,li)},dtmf:function(li){Qi(mt,li)},consentDialog:X.consentDialog,iceState:X.iceState,mediaState:X.mediaState,webrtcState:X.webrtcState,slowLink:X.slowLink,onmessage:X.onmessage,createOffer:function(li){rt(mt,!0,li)},createAnswer:function(li){rt(mt,!1,li)},handleRemoteJsep:function(li){We(mt,li)},onlocalstream:X.onlocalstream,onremotestream:X.onremotestream,ondata:X.ondata,ondataopen:X.ondataopen,oncleanup:X.oncleanup,ondetached:X.ondetached,hangup:function(li){H(mt,li===!0)},detach:function(li){at(mt,li)}};U[mt]=gt,X.success(gt)},ee.session_id=m,n.send(JSON.stringify(ee));return}it.httpAPICall(k+"/"+m,{verb:"POST",withCredentials:_,body:ee,success:function(mt){if(it.debug(mt),mt.rtcgw!=="success"){it.error("Ooops: "+mt.error.code+" "+mt.error.reason),X.error("Ooops: "+mt.error.code+" "+mt.error.reason);return}var gt=mt.data.id;it.log("Created handle: "+gt);var Gt={session:le,plugin:Ce,id:gt,token:Le,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return gt},getPlugin:function(){return Ce},getVolume:function(){return zt(gt,!0)},getRemoteVolume:function(){return zt(gt,!0)},getLocalVolume:function(){return zt(gt,!1)},isAudioMuted:function(){return ae(gt,!1)},muteAudio:function(){return be(gt,!1,!0)},unmuteAudio:function(){return be(gt,!1,!1)},isVideoMuted:function(){return ae(gt,!0)},muteVideo:function(){return be(gt,!0,!0)},unmuteVideo:function(){return be(gt,!0,!1)},getBitrate:function(){return Q(gt)},getNetworkQuality:function(Oi){E(gt,Oi)},send:function(Oi){yi(gt,Oi)},data:function(Oi){Ci(gt,Oi)},dtmf:function(Oi){Qi(gt,Oi)},consentDialog:X.consentDialog,iceState:X.iceState,mediaState:X.mediaState,webrtcState:X.webrtcState,slowLink:X.slowLink,onmessage:X.onmessage,createOffer:function(Oi){rt(gt,!0,Oi)},createAnswer:function(Oi){rt(gt,!1,Oi)},handleRemoteJsep:function(Oi){We(gt,Oi)},onlocalstream:X.onlocalstream,onremotestream:X.onremotestream,ondata:X.ondata,ondataopen:X.ondataopen,oncleanup:X.oncleanup,ondetached:X.ondetached,hangup:function(Oi){H(gt,Oi===!0)},detach:function(Oi){at(gt,Oi)}};U[gt]=Gt,X.success(Gt)},error:function(mt,gt){it.error(mt+":",gt)}})}function yi(X,Ce){if(Ce=Ce||{},Ce.success=typeof Ce.success=="function"?Ce.success:it.noop,Ce.error=typeof Ce.error=="function"?Ce.error:it.noop,!me){it.warn("Is the server down? (connected=false)"),Ce.error("Is the server down? (connected=false)");return}var ve=U[X];if(ve==null||ve.webrtcStuff===null||ve.webrtcStuff===void 0){it.warn("Invalid handle"),Ce.error("Invalid handle");return}var Le=Ce.message,pe=Ce.jsep,ee=it.randomString(12),je={rtcgw:"message",body:Le,transaction:ee};if(ve.token!==null&&ve.token!==void 0&&(je.token=ve.token),xe!=null&&(je.apisecret=xe),pe!=null&&(je.jsep=pe),it.debug("Sending message to plugin (handle="+X+"):"),it.debug(je),t){je.session_id=m,je.handle_id=X,Pe[ee]=function(mt){if(it.debug("Message sent!"),it.debug(mt),mt.rtcgw==="success"){var gt=mt.plugindata;if(gt==null){it.warn("Request succeeded, but missing plugindata..."),Ce.success();return}it.log("Synchronous transaction successful ("+gt.plugin+")");var Gt=gt.data;it.debug(Gt),Ce.success(Gt);return}else if(mt.rtcgw!=="ack"){mt.error!==void 0&&mt.error!==null?(it.error("Ooops: "+mt.error.code+" "+mt.error.reason),Ce.error(mt.error.code+" "+mt.error.reason)):(it.error("Unknown error"),Ce.error("Unknown error"));return}Ce.success()},n.send(JSON.stringify(je));return}it.httpAPICall(k+"/"+m+"/"+X,{verb:"POST",withCredentials:_,body:je,success:function(gt){if(it.debug("Message sent!"),it.debug(gt),gt.rtcgw==="success"){var Gt=gt.plugindata;if(Gt==null){it.warn("Request succeeded, but missing plugindata..."),Ce.success();return}it.log("Synchronous transaction successful ("+Gt.plugin+")");var li=Gt.data;it.debug(li),Ce.success(li);return}else if(gt.rtcgw!=="ack"){gt.error!==void 0&&gt.error!==null?(it.error("Ooops: "+gt.error.code+" "+gt.error.reason),Ce.error(gt.error.code+" "+gt.error.reason)):(it.error("Unknown error"),Ce.error("Unknown error"));return}Ce.success()},error:function(gt,Gt){it.error(gt+":",Gt),Ce.error(gt+": "+Gt)}})}function Hi(X,Ce){if(!me){it.warn("Is the server down? (connected=false)");return}var ve=U[X];if(ve==null||ve.webrtcStuff===null||ve.webrtcStuff===void 0){it.warn("Invalid handle");return}var Le={rtcgw:"trickle",candidate:Ce,transaction:it.randomString(12)};if(ve.token!==null&&ve.token!==void 0&&(Le.token=ve.token),xe!=null&&(Le.apisecret=xe),it.vdebug("Sending trickle candidate (handle="+X+"):"),it.vdebug(Le),t){Le.session_id=m,Le.handle_id=X,n.send(JSON.stringify(Le));return}it.httpAPICall(k+"/"+m+"/"+X,{verb:"POST",withCredentials:_,body:Le,success:function(ee){if(it.vdebug("Candidate sent!"),it.vdebug(ee),ee.rtcgw!=="ack"){it.error("Ooops: "+ee.error.code+" "+ee.error.reason);return}},error:function(ee,je){it.error(ee+":",je)}})}function Pi(X,Ce,ve,Le){var pe=U[X];if(pe==null||pe.webrtcStuff===null||pe.webrtcStuff===void 0){it.warn("Invalid handle");return}var ee=pe.webrtcStuff,je=function(li){it.log("Received message on data channel:",li);var Oi=li.target.label;pe.ondata(li.data,Oi)},mt=function(li){it.log("Received state change on data channel:",li);var Oi=li.target.label,ge=ee.dataChannel[Oi]?ee.dataChannel[Oi].readyState:"null";if(it.log("State change on <"+Oi+"> data channel: "+ge),ge==="open"){if(ee.dataChannel[Oi].pending&&ee.dataChannel[Oi].pending.length>0){it.log("Sending pending messages on <"+Oi+">:",ee.dataChannel[Oi].pending.length);for(var Ji in ee.dataChannel[Oi].pending){var kt=ee.dataChannel[Oi].pending[Ji];it.log("Sending string on data channel <"+Oi+">: "+kt),ee.dataChannel[Oi].send(kt)}ee.dataChannel[Oi].pending=[]}pe.ondataopen(Oi)}},gt=function(li){it.error("Got error on data channel:",li)};ve?ee.dataChannel[Ce]=ve:ee.dataChannel[Ce]=ee.pc.createDataChannel(Ce,{ordered:!1}),ee.dataChannel[Ce].onmessage=je,ee.dataChannel[Ce].onopen=mt,ee.dataChannel[Ce].onclose=mt,ee.dataChannel[Ce].onerror=gt,ee.dataChannel[Ce].pending=[],Le&&ee.dataChannel[Ce].pending.push(Le)}function Ci(X,Ce){Ce=Ce||{},Ce.success=typeof Ce.success=="function"?Ce.success:it.noop,Ce.error=typeof Ce.error=="function"?Ce.error:it.noop;var ve=U[X];if(ve==null||ve.webrtcStuff===null||ve.webrtcStuff===void 0){it.warn("Invalid handle"),Ce.error("Invalid handle");return}var Le=ve.webrtcStuff,pe=Ce.text;if(pe==null){it.warn("Invalid text"),Ce.error("Invalid text");return}var ee=Ce.label?Ce.label:it.dataChanDefaultLabel;if(!Le.dataChannel[ee]){Pi(X,ee,!1,pe),Ce.success();return}if(Le.dataChannel[ee].readyState!=="open"){Le.dataChannel[ee].pending.push(pe),Ce.success();return}it.log("Sending string on data channel <"+ee+">: "+pe),Le.dataChannel[ee].send(pe),Ce.success()}function Qi(X,Ce){Ce=Ce||{},Ce.success=typeof Ce.success=="function"?Ce.success:it.noop,Ce.error=typeof Ce.error=="function"?Ce.error:it.noop;var ve=U[X];if(ve==null||ve.webrtcStuff===null||ve.webrtcStuff===void 0){it.warn("Invalid handle"),Ce.error("Invalid handle");return}var Le=ve.webrtcStuff;if(Le.dtmfSender===null||Le.dtmfSender===void 0){if(Le.pc!==void 0&&Le.pc!==null){var pe=Le.pc.getSenders(),ee=pe.find(function(li){return li.track&&li.track.kind==="audio"});if(!ee){it.warn("Invalid DTMF configuration (no audio track)"),Ce.error("Invalid DTMF configuration (no audio track)");return}Le.dtmfSender=ee.dtmf,Le.dtmfSender&&(it.log("Created DTMF Sender"),Le.dtmfSender.ontonechange=function(li){it.debug("Sent DTMF tone: "+li.tone)})}if(Le.dtmfSender===null||Le.dtmfSender===void 0){it.warn("Invalid DTMF configuration"),Ce.error("Invalid DTMF configuration");return}}var je=Ce.dtmf;if(je==null){it.warn("Invalid DTMF parameters"),Ce.error("Invalid DTMF parameters");return}var mt=je.tones;if(mt==null){it.warn("Invalid DTMF string"),Ce.error("Invalid DTMF string");return}var gt=je.duration;gt==null&&(gt=500);var Gt=je.gap;Gt==null&&(Gt=50),it.debug("Sending DTMF string "+mt+" (duration "+gt+"ms, gap "+Gt+"ms)"),Le.dtmfSender.insertDTMF(mt,gt,Gt),Ce.success()}function at(X,Ce){Ce=Ce||{},Ce.success=typeof Ce.success=="function"?Ce.success:it.noop,Ce.error=typeof Ce.error=="function"?Ce.error:it.noop;var ve=!0;Ce.asyncRequest!==void 0&&Ce.asyncRequest!==null&&(ve=Ce.asyncRequest===!0);var Le=!0;Ce.noRequest!==void 0&&Ce.noRequest!==null&&(Le=Ce.noRequest===!0),it.log("Destroying handle "+X+" (async="+ve+")"),H(X);var pe=U[X];if(pe==null||pe.detached){delete U[X],Ce.success();return}if(Le){delete U[X],Ce.success();return}if(!me){it.warn("Is the server down? (connected=false)"),Ce.error("Is the server down? (connected=false)");return}var ee={rtcgw:"detach",transaction:it.randomString(12)};if(pe.token!==null&&pe.token!==void 0&&(ee.token=pe.token),xe!=null&&(ee.apisecret=xe),t){ee.session_id=m,ee.handle_id=X,n.send(JSON.stringify(ee)),delete U[X],Ce.success();return}it.httpAPICall(k+"/"+m+"/"+X,{verb:"POST",async:ve,withCredentials:_,body:ee,success:function(mt){it.log("Destroyed handle:"),it.debug(mt),mt.rtcgw!=="success"&&it.error("Ooops: "+mt.error.code+" "+mt.error.reason),delete U[X],Ce.success()},error:function(mt,gt){it.error(mt+":",gt),delete U[X],Ce.success()}})}function pt(X,Ce,ve,Le,pe){var ee=U[X];if(ee==null||ee.webrtcStuff===null||ee.webrtcStuff===void 0){it.warn("Invalid handle"),Le.error("Invalid handle");return}var je=ee.webrtcStuff;it.debug("streamsDone:",pe),pe&&(it.debug("  -- Audio tracks:",pe.getAudioTracks()),it.debug("  -- Video tracks:",pe.getVideoTracks()));var mt=!1;if(!je.myStream||!ve.update||je.streamExternal)je.myStream=pe,mt=!0;else{if((!ve.update&&M(ve)||ve.update&&(ve.addAudio||ve.replaceAudio))&&pe.getAudioTracks()&&pe.getAudioTracks().length)if(je.myStream.addTrack(pe.getAudioTracks()[0]),it.unifiedPlan){it.log((ve.replaceAudio?"Replacing":"Adding")+" audio track:",pe.getAudioTracks()[0]);var gt=null,Gt=je.pc.getTransceivers();if(Gt&&Gt.length>0)for(var li in Gt){var Oi=Gt[li];if(Oi.sender&&Oi.sender.track&&Oi.sender.track.kind==="audio"||Oi.receiver&&Oi.receiver.track&&Oi.receiver.track.kind==="audio"){gt=Oi;break}}gt&&gt.sender?gt.sender.replaceTrack(pe.getAudioTracks()[0]):je.pc.addTrack(pe.getAudioTracks()[0],pe)}else it.log((ve.replaceAudio?"Replacing":"Adding")+" audio track:",pe.getAudioTracks()[0]),je.pc.addTrack(pe.getAudioTracks()[0],pe);if((!ve.update&&ie(ve)||ve.update&&(ve.addVideo||ve.replaceVideo))&&pe.getVideoTracks()&&pe.getVideoTracks().length)if(je.myStream.addTrack(pe.getVideoTracks()[0]),it.unifiedPlan){it.log((ve.replaceVideo?"Replacing":"Adding")+" video track:",pe.getVideoTracks()[0]);var ge=null,Gt=je.pc.getTransceivers();if(Gt&&Gt.length>0)for(var li in Gt){var Oi=Gt[li];if(Oi.sender&&Oi.sender.track&&Oi.sender.track.kind==="video"||Oi.receiver&&Oi.receiver.track&&Oi.receiver.track.kind==="video"){ge=Oi;break}}ge&&ge.sender?ge.sender.replaceTrack(pe.getVideoTracks()[0]):je.pc.addTrack(pe.getVideoTracks()[0],pe)}else it.log((ve.replaceVideo?"Replacing":"Adding")+" video track:",pe.getVideoTracks()[0]),je.pc.addTrack(pe.getVideoTracks()[0],pe)}if(!je.pc){var Ji={iceServers:P,iceTransportPolicy:S,bundlePolicy:R};it.webRTCAdapter.browserDetails.browser==="chrome"&&(Ji.sdpSemantics=it.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var kt={optional:[{DtlsSrtpKeyAgreement:!0}]};if(b===!0&&kt.optional.push({googIPv6:!0}),Le.rtcConstraints&&K(Le.rtcConstraints)==="object"){it.debug("Adding custom PeerConnection constraints:",Le.rtcConstraints);for(var li in Le.rtcConstraints)kt.optional.push(Le.rtcConstraints[li])}it.webRTCAdapter.browserDetails.browser==="edge"&&(Ji.bundlePolicy="max-bundle"),it.log("Creating PeerConnection"),it.debug(kt),je.pc=new RTCPeerConnection(Ji,kt),it.debug(je.pc),je.pc.getStats&&(je.volume={},je.bitrate.value="0 kbits/sec"),it.log("Preparing local SDP and gathering candidates (trickle="+je.trickle+")"),je.pc.oniceconnectionstatechange=function(si){je.pc&&ee.iceState(je.pc.iceConnectionState)},je.pc.onicecandidate=function(si){if(si.candidate==null||it.webRTCAdapter.browserDetails.browser==="edge"&&si.candidate.candidate.indexOf("endOfCandidates")>0)it.log("End of candidates."),je.iceDone=!0,je.trickle===!0?Hi(X,{completed:!0}):ri(X,Le);else{var ht={candidate:si.candidate.candidate,sdpMid:si.candidate.sdpMid,sdpMLineIndex:si.candidate.sdpMLineIndex};je.trickle===!0&&Hi(X,ht)}},je.pc.ontrack=function(si){it.log("Handling Remote Track"),it.debug(si),si.streams&&(je.remoteStream=si.streams[0],ee.onremotestream(je.remoteStream),!si.track.onended&&(it.log("Adding onended callback to track:",si.track),si.track.onended=function(ht){it.log("Remote track muted/removed:",ht),je.remoteStream&&(je.remoteStream.removeTrack(ht.target),ee.onremotestream(je.remoteStream))},si.track.onmute=si.track.onended,si.track.onunmute=function(ht){it.log("Remote track flowing again:",ht);try{je.remoteStream.addTrack(ht.target),ee.onremotestream(je.remoteStream)}catch(Ii){it.error(Ii)}}))}}if(mt&&pe!==null&&pe!==void 0)if(it.log("Adding local stream"),console.log("callbacks",Le),Le.media.video=="screen"){var Lt=Le.simulcast2===!0;pe.getTracks().forEach(function(si){if(it.log("Adding local track:",si),si.applyConstraints({frameRate:5}),!Lt)je.pc.addTrack(si,pe);else if(si.kind==="audio")je.pc.addTrack(si,pe);else{it.log("Enabling rid-based simulcasting:",si);var ht=qe(Le.simulcastMaxBitrates);je.pc.addTransceiver(si,{direction:"sendrecv",streams:[pe],sendEncodings:[{rid:"h",active:!0,maxBitrate:ht.high},{rid:"m",active:!0,maxBitrate:ht.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:ht.low,scaleResolutionDownBy:4}]})}})}else{var Lt=Le.simulcast2===!0,Tt=pe.getTracks(),jt=Tt[0];if(jt){var Dt=jt.getSettings();console.log("videoTrack",jt),console.log("videosettings",Dt)}var Ft=pe.getAudioTracks(),Kt=Ft[0];if(Kt){var wt=Kt.getSettings();console.log("audiosettings",wt)}Tt.forEach(function(ht){if(ht.applyConstraints({frameRate:{max:Le.frameRate}}),it.log("Adding local track:",ht),Lt){je.pc.addTrack(ht,pe);var Ii=null,ji=je.pc.getSenders();for(var Zi in ji){var pi=ji[Zi];pi&&pi.track&&pi.track.kind==="video"&&(Ii=pi)}var sn=null;Ii&&(sn=Ii.getParameters()),sn&&sn.encodings&&(sn.encodings[0].maxBitrate=1e5,Ii.setParameters(sn).then(function(Ut){console.log("Successed to set parameters!",sn)}).catch(function(Ut){console.log("err",Ut),console.error(Ut)}))}else if(ht.kind==="audio")je.pc.addTrack(ht,pe);else{it.log("Enabling rid-based simulcasting:",ht);var ci=Le.bitrate||1e5;je.pc.addTransceiver(ht,{direction:"sendrecv",streams:[pe],sendEncodings:[{rid:"h",active:!0,maxBitrate:ci}]})}})}D(ve)&&!je.dataChannel[it.dataChanDefaultLabel]&&(it.log("Creating data channel"),Pi(X,it.dataChanDefaultLabel,!1),je.pc.ondatachannel=function(si){it.log("Data channel created by Janus:",si),Pi(X,si.channel.label,si.channel)}),je.myStream&&ee.onlocalstream(je.myStream),Ce==null?ft(X,ve,Le):je.pc.setRemoteDescription(Ce).then(function(){if(it.log("Remote description accepted!"),je.remoteSdp=Ce.sdp,je.candidates&&je.candidates.length>0){for(var si=0;si<je.candidates.length;si++){var ht=je.candidates[si];it.debug("Adding remote candidate:",ht),!ht||ht.completed===!0?je.pc.addIceCandidate(it.endOfCandidates):je.pc.addIceCandidate(ht)}je.candidates=[]}$t(X,ve,Le)},Le.error)}function rt(X,Ce,ve){ve=ve||{},ve.success=typeof ve.success=="function"?ve.success:it.noop,ve.error=typeof ve.error=="function"?ve.error:Ge;var Le=ve.jsep;if(Ce&&Le){it.error("Provided a JSEP to a createOffer"),ve.error("Provided a JSEP to a createOffer");return}else if(!Ce&&(!Le||!Le.type||!Le.sdp)){it.error("A valid JSEP is required for createAnswer"),ve.error("A valid JSEP is required for createAnswer");return}ve.media=ve.media||{audio:!0,video:!0};var pe=ve.media,ee=U[X];if(ee==null||ee.webrtcStuff===null||ee.webrtcStuff===void 0){it.warn("Invalid handle"),ve.error("Invalid handle");return}var je=ee.webrtcStuff;if(je.trickle=Xe(ve.trickle),je.pc===void 0||je.pc===null)pe.update=!1,pe.keepAudio=!1,pe.keepVideo=!1;else if(je.pc!==void 0&&je.pc!==null){if(it.log("Updating existing media session"),pe.update=!0,ve.stream!==null&&ve.stream!==void 0)ve.stream!==je.myStream&&it.log("Renegotiation involves a new external stream");else{if(pe.addAudio){if(pe.keepAudio=!1,pe.replaceAudio=!1,pe.removeAudio=!1,pe.audioSend=!0,je.myStream&&je.myStream.getAudioTracks()&&je.myStream.getAudioTracks().length){it.error("Can't add audio stream, there already is one"),ve.error("Can't add audio stream, there already is one");return}}else pe.removeAudio?(pe.keepAudio=!1,pe.replaceAudio=!1,pe.addAudio=!1,pe.audioSend=!1):pe.replaceAudio&&(pe.keepAudio=!1,pe.addAudio=!1,pe.removeAudio=!1,pe.audioSend=!0);if(je.myStream===null||je.myStream===void 0?(pe.replaceAudio&&(pe.keepAudio=!1,pe.replaceAudio=!1,pe.addAudio=!0,pe.audioSend=!0),M(pe)&&(pe.keepAudio=!1,pe.addAudio=!0)):je.myStream.getAudioTracks()===null||je.myStream.getAudioTracks()===void 0||je.myStream.getAudioTracks().length===0?(pe.replaceAudio&&(pe.keepAudio=!1,pe.replaceAudio=!1,pe.addAudio=!0,pe.audioSend=!0),M(pe)&&(pe.keepVideo=!1,pe.addAudio=!0)):M(pe)&&!pe.removeAudio&&!pe.replaceAudio&&(pe.keepAudio=!0),pe.addVideo){if(pe.keepVideo=!1,pe.replaceVideo=!1,pe.removeVideo=!1,pe.videoSend=!0,je.myStream&&je.myStream.getVideoTracks()&&je.myStream.getVideoTracks().length){it.error("Can't add video stream, there already is one"),ve.error("Can't add video stream, there already is one");return}}else pe.removeVideo?(pe.keepVideo=!1,pe.replaceVideo=!1,pe.addVideo=!1,pe.videoSend=!1):pe.replaceVideo&&(pe.keepVideo=!1,pe.addVideo=!1,pe.removeVideo=!1,pe.videoSend=!0);je.myStream===null||je.myStream===void 0||je.myStream.getVideoTracks()===null||je.myStream.getVideoTracks()===void 0||je.myStream.getVideoTracks().length===0?(pe.replaceVideo&&(pe.keepVideo=!1,pe.replaceVideo=!1,pe.addVideo=!0,pe.videoSend=!0),ie(pe)&&(pe.keepVideo=!1,pe.addVideo=!0)):ie(pe)&&!pe.removeVideo&&!pe.replaceVideo&&(pe.keepVideo=!0),pe.addData&&(pe.data=!0)}if(M(pe)&&pe.keepAudio&&ie(pe)&&pe.keepVideo){ee.consentDialog(!1),pt(X,Le,pe,ve,je.myStream);return}}if(pe.update&&!je.streamExternal){if(pe.removeAudio||pe.replaceAudio){if(je.myStream&&je.myStream.getAudioTracks()&&je.myStream.getAudioTracks().length){var mt=je.myStream.getAudioTracks()[0];it.log("Removing audio track:",mt),je.myStream.removeTrack(mt);try{mt.stop()}catch{}}if(je.pc.getSenders()&&je.pc.getSenders().length){var gt=!0;if(pe.replaceAudio&&it.unifiedPlan&&(gt=!1),gt)for(var Gt in je.pc.getSenders()){var mt=je.pc.getSenders()[Gt];mt&&mt.track&&mt.track.kind==="audio"&&(it.log("Removing audio sender:",mt),je.pc.removeTrack(mt))}}}if(pe.removeVideo||pe.replaceVideo){if(je.myStream&&je.myStream.getVideoTracks()&&je.myStream.getVideoTracks().length){var mt=je.myStream.getVideoTracks()[0];it.log("Removing video track:",mt),je.myStream.removeTrack(mt);try{mt.stop()}catch{}}if(je.pc.getSenders()&&je.pc.getSenders().length){var li=!0;if(pe.replaceVideo&&it.unifiedPlan&&(li=!1),li)for(var Gt in je.pc.getSenders()){var mt=je.pc.getSenders()[Gt];mt&&mt.track&&mt.track.kind==="video"&&(it.log("Removing video sender:",mt),je.pc.removeTrack(mt))}}}}if(ve.stream!==null&&ve.stream!==void 0){var Oi=ve.stream;if(it.log("MediaStream provided by the application"),it.debug(Oi),pe.update&&je.myStream&&je.myStream!==ve.stream&&!je.streamExternal){try{var ge=je.myStream.getTracks();for(var Ji in ge){var kt=ge[Ji];it.log(kt),kt!=null&&kt.stop()}}catch{}je.myStream=null}je.streamExternal=!0,ee.consentDialog(!1),pt(X,Le,pe,ve,Oi);return}if(M(pe)||ie(pe)){if(!it.isGetUserMediaAvailable()){ve.error("getUserMedia not available");return}var Lt={mandatory:{},optional:[]};ee.consentDialog(!0);var Tt=M(pe);Tt===!0&&pe!=null&&pe!=null&&K(pe.audio)==="object"&&(Tt=pe.audio);var jt=ie(pe);if(jt===!0&&pe!=null&&pe!=null){var Dt=ve.simulcast===!0,Ft=ve.simulcast2===!0;if((Dt||Ft)&&!Le&&(pe.video===void 0||pe.video===!1)&&(pe.video="hires"),pe.video&&pe.video!="screen"&&pe.video!="window")if(K(pe.video)==="object")jt=pe.video;else{var Kt=0,wt=0;pe.video==="lowres"?(wt=240,Kt=320):pe.video==="lowres-16:9"?(wt=180,Kt=320):pe.video==="hires"||pe.video==="hires-16:9"||pe.video==="hdres"?(wt=720,Kt=1280):pe.video==="fhdres"?(wt=1080,Kt=1920):pe.video==="4kres"?(wt=2160,Kt=3840):pe.video==="stdres"?(wt=480,Kt=640):pe.video==="stdres-16:9"?(wt=360,Kt=640):(it.log("Default video setting is stdres 4:3"),wt=480,Kt=640),it.log("Adding media constraint:",pe.video),jt={height:{ideal:wt},width:{ideal:Kt}},it.log("Adding video constraint:",jt)}else if(pe.video==="screen"||pe.video==="window"){var si=function(sn,ci){ee.consentDialog(!1),sn?ve.error(sn):pt(X,Le,pe,ve,ci)},ht=function(sn,ci,Ut){it.log("Adding media constraint (screen capture)"),it.debug(sn),navigator.mediaDevices.getUserMedia(sn).then(function(V){Ut?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(w){V.addTrack(w.getAudioTracks()[0]),ci(null,V)}):ci(null,V)}).catch(function(V){ee.consentDialog(!1),ci(V)})};if(pe.screenshareFrameRate||(pe.screenshareFrameRate=3),navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia){navigator.mediaDevices.getDisplayMedia({video:!0}).then(function(pi){ee.consentDialog(!1),M(pe)&&!pe.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(sn){pi.addTrack(sn.getAudioTracks()[0]),pt(X,Le,pe,ve,pi)}):pt(X,Le,pe,ve,pi)},function(pi){ee.consentDialog(!1),ve.error(pi)});return}if(it.webRTCAdapter.browserDetails.browser==="chrome"){var Ii=it.webRTCAdapter.browserDetails.version,ji=33;window.navigator.userAgent.match("Linux")&&(ji=35),Ii>=26&&Ii<=ji?(Lt={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:pe.screenshareFrameRate,maxFrameRate:pe.screenshareFrameRate,chromeMediaSource:"screen"}},audio:M(pe)&&!pe.keepAudio},ht(Lt,si)):it.extension.getScreen(function(pi,sn){if(pi)return ee.consentDialog(!1),ve.error(pi);Lt={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:pe.screenshareFrameRate,maxFrameRate:pe.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}},Lt.video.mandatory.chromeMediaSourceId=sn,ht(Lt,si,M(pe)&&!pe.keepAudio)})}else if(it.webRTCAdapter.browserDetails.browser==="firefox")if(it.webRTCAdapter.browserDetails.version>=33)Lt={video:{mozMediaSource:pe.video,mediaSource:pe.video},audio:M(pe)&&!pe.keepAudio},ht(Lt,function(pi,sn){if(si(pi,sn),!pi)var ci=sn.currentTime,Ut=window.setInterval(function(){sn||window.clearInterval(Ut),sn.currentTime==ci&&(window.clearInterval(Ut),sn.onended&&sn.onended()),ci=sn.currentTime},500)});else{var Zi=new Error("NavigatorUserMediaError");Zi.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",ee.consentDialog(!1),ve.error(Zi);return}return}}(pe==null||pe.video!=="screen")&&navigator.mediaDevices.enumerateDevices().then(function(pi){var sn=pi.some(function(Ne){return Ne.kind==="audioinput"}),ci=st(pe)||pi.some(function(Ne){return Ne.kind==="videoinput"}),Ut=M(pe),V=ie(pe),w=z(pe),N=Oe(pe);if(Ut||V||w||N){var T=Ut?sn:!1,we=V?ci:!1;if(!T&&!we)return ee.consentDialog(!1),ve.error("No capture device found"),!1;if(!T&&w)return ee.consentDialog(!1),ve.error("Audio capture is required, but no capture device found"),!1;if(!we&&N)return ee.consentDialog(!1),ve.error("Video capture is required, but no capture device found"),!1}var Se={audio:sn&&!pe.keepAudio?Tt:!1,video:ci&&!pe.keepVideo?jt:!1};pe.encodings&&(Se=pe.encodings),it.debug("getUserMedia constraints",Se),!Se.audio&&!Se.video?(ee.consentDialog(!1),pt(X,Le,pe,ve,Oi)):(console.log("gumConstraints_________",Se,pe.encodings),navigator.mediaDevices.getUserMedia(pe.encodings?pe.encodings:Se).then(function(Ne){ee.consentDialog(!1),pt(X,Le,pe,ve,Ne)}).catch(function(Ne){ee.consentDialog(!1),ve.error({code:Ne.code,name:Ne.name,message:Ne.message})}))}).catch(function(pi){ee.consentDialog(!1),ve.error("enumerateDevices error",pi)})}else pt(X,Le,pe,ve)}function We(X,Ce){Ce=Ce||{},Ce.success=typeof Ce.success=="function"?Ce.success:it.noop,Ce.error=typeof Ce.error=="function"?Ce.error:Ge;var ve=Ce.jsep,Le=U[X];if(Le==null||Le.webrtcStuff===null||Le.webrtcStuff===void 0){it.warn("Invalid handle"),Ce.error("Invalid handle");return}var pe=Le.webrtcStuff;if(ve!=null){if(pe.pc===null){it.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),Ce.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");return}pe.pc.setRemoteDescription(ve).then(function(){if(it.log("Remote description accepted!"),pe.remoteSdp=ve.sdp,pe.candidates&&pe.candidates.length>0){for(var ee=0;ee<pe.candidates.length;ee++){var je=pe.candidates[ee];it.debug("Adding remote candidate:",je),!je||je.completed===!0?pe.pc.addIceCandidate(it.endOfCandidates):pe.pc.addIceCandidate(je)}pe.candidates=[]}Ce.success()},Ce.error)}else Ce.error("Invalid JSEP")}function ft(X,Ce,ve){ve=ve||{},ve.success=typeof ve.success=="function"?ve.success:it.noop,ve.error=typeof ve.error=="function"?ve.error:it.noop,ve.customizeSdp=typeof ve.customizeSdp=="function"?ve.customizeSdp:it.noop;var Le=U[X];if(Le==null||Le.webrtcStuff===null||Le.webrtcStuff===void 0){it.warn("Invalid handle"),ve.error("Invalid handle");return}var pe=Le.webrtcStuff,ee=ve.simulcast===!0;ee?it.log("Creating offer (iceDone="+pe.iceDone+", simulcast="+ee+")"):it.log("Creating offer (iceDone="+pe.iceDone+")");var je={};if(it.unifiedPlan){var mt=null,gt=null,Gt=pe.pc.getTransceivers();if(Gt&&Gt.length>0)for(var li in Gt){var Oi=Gt[li];if(Oi.sender&&Oi.sender.track&&Oi.sender.track.kind==="audio"||Oi.receiver&&Oi.receiver.track&&Oi.receiver.track.kind==="audio"){mt||(mt=Oi);continue}if(Oi.sender&&Oi.sender.track&&Oi.sender.track.kind==="video"||Oi.receiver&&Oi.receiver.track&&Oi.receiver.track.kind==="video"){gt||(gt=Oi);continue}}var ge=M(Ce),Ji=ce(Ce);!ge&&!Ji?Ce.removeAudio&&mt&&(mt.setDirection?mt.setDirection("inactive"):mt.direction="inactive",it.log("Setting audio transceiver to inactive:",mt)):ge&&Ji?mt&&(mt.setDirection?mt.setDirection("sendrecv"):mt.direction="sendrecv",it.log("Setting audio transceiver to sendrecv:",mt)):ge&&!Ji?mt&&(mt.setDirection?mt.setDirection("sendonly"):mt.direction="sendonly",it.log("Setting audio transceiver to sendonly:",mt)):!ge&&Ji&&(mt?(mt.setDirection?mt.setDirection("recvonly"):mt.direction="recvonly",it.log("Setting audio transceiver to recvonly:",mt)):(mt=pe.pc.addTransceiver("audio",{direction:"recvonly"}),it.log("Adding recvonly audio transceiver:",mt)));var kt=ie(Ce),Lt=Qe(Ce);!kt&&!Lt?Ce.removeVideo&&gt&&(gt.setDirection?gt.setDirection("inactive"):gt.direction="inactive",it.log("Setting video transceiver to inactive:",gt)):kt&&Lt?gt&&(gt.setDirection?gt.setDirection("sendrecv"):gt.direction="sendrecv",it.log("Setting video transceiver to sendrecv:",gt)):kt&&!Lt?gt&&(gt.setDirection?gt.setDirection("sendonly"):gt.direction="sendonly",it.log("Setting video transceiver to sendonly:",gt)):!kt&&Lt&&(gt?(gt.setDirection?gt.setDirection("recvonly"):gt.direction="recvonly",it.log("Setting video transceiver to recvonly:",gt)):(gt=pe.pc.addTransceiver("video",{direction:"recvonly"}),it.log("Adding recvonly video transceiver:",gt)))}else je.offerToReceiveAudio=ce(Ce),je.offerToReceiveVideo=Qe(Ce);var Tt=ve.iceRestart===!0;Tt&&(je.iceRestart=!0),it.debug(je);var jt=ie(Ce);if(jt&&ee&&it.webRTCAdapter.browserDetails.browser==="firefox"){it.log("Enabling Simulcasting for Firefox (RID)");var Dt=pe.pc.getSenders().find(function(wt){return wt.track.kind=="video"});if(Dt){var Ft=Dt.getParameters();Ft||(Ft={});var Kt=qe(ve.simulcastMaxBitrates);Ft.encodings=[{rid:"h",active:!0,maxBitrate:Kt.high},{rid:"m",active:!0,maxBitrate:Kt.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:Kt.low,scaleResolutionDownBy:4}],Dt.setParameters(Ft)}}pe.pc.createOffer(je).then(function(wt){it.debug(wt);var si={type:wt.type,sdp:wt.sdp};if(ve.customizeSdp(si),wt.sdp=si.sdp,it.log("Setting local description"),jt&&ee&&(it.webRTCAdapter.browserDetails.browser==="chrome"||it.webRTCAdapter.browserDetails.browser==="safari"?(it.log("Enabling Simulcasting for Chrome (SDP munging)"),wt.sdp=_e(wt.sdp)):it.webRTCAdapter.browserDetails.browser!=="firefox"&&it.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),pe.mySdp=wt.sdp,pe.pc.setLocalDescription(wt).catch(ve.error),pe.mediaConstraints=je,!pe.iceDone&&!pe.trickle){it.log("Waiting for all candidates...");return}it.log("Offer ready"),it.debug(ve),ve.success(wt)},ve.error)}function $t(X,Ce,ve){ve=ve||{},ve.success=typeof ve.success=="function"?ve.success:it.noop,ve.error=typeof ve.error=="function"?ve.error:it.noop,ve.customizeSdp=typeof ve.customizeSdp=="function"?ve.customizeSdp:it.noop;var Le=U[X];if(Le==null||Le.webrtcStuff===null||Le.webrtcStuff===void 0){it.warn("Invalid handle"),ve.error("Invalid handle");return}var pe=Le.webrtcStuff,ee=ve.simulcast===!0;ee?it.log("Creating answer (iceDone="+pe.iceDone+", simulcast="+ee+")"):it.log("Creating answer (iceDone="+pe.iceDone+")");var je=null;if(it.unifiedPlan){je={};var mt=null,gt=null,Gt=pe.pc.getTransceivers();if(Gt&&Gt.length>0)for(var li in Gt){var Oi=Gt[li];if(Oi.sender&&Oi.sender.track&&Oi.sender.track.kind==="audio"||Oi.receiver&&Oi.receiver.track&&Oi.receiver.track.kind==="audio"){mt||(mt=Oi);continue}if(Oi.sender&&Oi.sender.track&&Oi.sender.track.kind==="video"||Oi.receiver&&Oi.receiver.track&&Oi.receiver.track.kind==="video"){gt||(gt=Oi);continue}}var ge=M(Ce),Ji=ce(Ce);if(!ge&&!Ji){if(Ce.removeAudio&&mt)try{mt.setDirection?mt.setDirection("inactive"):mt.direction="inactive",it.log("Setting audio transceiver to inactive:",mt)}catch(Kt){it.error(Kt)}}else if(ge&&Ji){if(mt)try{mt.setDirection?mt.setDirection("sendrecv"):mt.direction="sendrecv",it.log("Setting audio transceiver to sendrecv:",mt)}catch(Kt){it.error(Kt)}}else if(ge&&!Ji)try{mt&&(mt.setDirection?mt.setDirection("sendonly"):mt.direction="sendonly",it.log("Setting audio transceiver to sendonly:",mt))}catch(Kt){it.error(Kt)}else if(!ge&&Ji)if(mt)try{mt.setDirection?mt.setDirection("recvonly"):mt.direction="recvonly",it.log("Setting audio transceiver to recvonly:",mt)}catch(Kt){it.error(Kt)}else mt=pe.pc.addTransceiver("audio",{direction:"recvonly"}),it.log("Adding recvonly audio transceiver:",mt);var kt=ie(Ce),Lt=Qe(Ce);if(!kt&&!Lt){if(Ce.removeVideo&&gt)try{gt.setDirection?gt.setDirection("inactive"):gt.direction="inactive",it.log("Setting video transceiver to inactive:",gt)}catch(Kt){it.error(Kt)}}else if(kt&&Lt){if(gt)try{gt.setDirection?gt.setDirection("sendrecv"):gt.direction="sendrecv",it.log("Setting video transceiver to sendrecv:",gt)}catch(Kt){it.error(Kt)}}else if(kt&&!Lt){if(gt)try{gt.setDirection?gt.setDirection("sendonly"):gt.direction="sendonly",it.log("Setting video transceiver to sendonly:",gt)}catch(Kt){it.error(Kt)}}else if(!kt&&Lt)if(gt)try{gt.setDirection?gt.setDirection("recvonly"):gt.direction="recvonly",it.log("Setting video transceiver to recvonly:",gt)}catch(Kt){it.error(Kt)}else gt=pe.pc.addTransceiver("video",{direction:"recvonly"}),it.log("Adding recvonly video transceiver:",gt)}else it.webRTCAdapter.browserDetails.browser=="firefox"||it.webRTCAdapter.browserDetails.browser=="edge"?je={offerToReceiveAudio:ce(Ce),offerToReceiveVideo:Qe(Ce)}:je={mandatory:{OfferToReceiveAudio:ce(Ce),OfferToReceiveVideo:Qe(Ce)}};it.debug(je);var Tt=ie(Ce);if(Tt&&ee&&it.webRTCAdapter.browserDetails.browser==="firefox"){it.log("Enabling Simulcasting for Firefox (RID)");var jt=pe.pc.getSenders()[1];it.log(jt);var Dt=jt.getParameters();it.log(Dt);var Ft=qe(ve.simulcastMaxBitrates);jt.setParameters({encodings:[{rid:"high",active:!0,priority:"high",maxBitrate:Ft.high},{rid:"medium",active:!0,priority:"medium",maxBitrate:Ft.medium},{rid:"low",active:!0,priority:"low",maxBitrate:Ft.low}]})}pe.pc.createAnswer(je).then(function(Kt){it.debug(Kt);var wt={type:Kt.type,sdp:Kt.sdp};if(ve.customizeSdp(wt),Kt.sdp=wt.sdp,it.log("Setting local description"),Tt&&ee&&(it.webRTCAdapter.browserDetails.browser==="chrome"?it.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):it.webRTCAdapter.browserDetails.browser!=="firefox"&&it.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),pe.mySdp=Kt.sdp,pe.pc.setLocalDescription(Kt).catch(ve.error),pe.mediaConstraints=je,!pe.iceDone&&!pe.trickle){it.log("Waiting for all candidates...");return}ve.success(Kt)},ve.error)}function ri(X,Ce){Ce=Ce||{},Ce.success=typeof Ce.success=="function"?Ce.success:it.noop,Ce.error=typeof Ce.error=="function"?Ce.error:it.noop;var ve=U[X];if(ve==null||ve.webrtcStuff===null||ve.webrtcStuff===void 0){it.warn("Invalid handle, not sending anything");return}var Le=ve.webrtcStuff;if(it.log("Sending offer/answer SDP..."),Le.mySdp===null||Le.mySdp===void 0){it.warn("Local SDP instance is invalid, not sending anything...");return}Le.mySdp={type:Le.pc.localDescription.type,sdp:Le.pc.localDescription.sdp},Le.trickle===!1&&(Le.mySdp.trickle=!1),it.debug(Ce),Le.sdpSent=!0,Ce.success(Le.mySdp)}function zt(X,Ce){var ve=U[X];if(ve==null||ve.webrtcStuff===null||ve.webrtcStuff===void 0)return it.warn("Invalid handle"),0;var Le=Ce?"remote":"local",pe=ve.webrtcStuff;return pe.volume[Le]||(pe.volume[Le]={value:0}),pe.pc.getStats&&it.webRTCAdapter.browserDetails.browser==="chrome"?Ce&&(pe.remoteStream===null||pe.remoteStream===void 0)?(it.warn("Remote stream unavailable"),0):!Ce&&(pe.myStream===null||pe.myStream===void 0)?(it.warn("Local stream unavailable"),0):pe.volume[Le].timer===null||pe.volume[Le].timer===void 0?(it.log("Starting "+Le+" volume monitor"),pe.volume[Le].timer=setInterval(function(){pe.pc.getStats(function(ee){for(var je=ee.result(),mt=0;mt<je.length;mt++){var gt=je[mt];gt.type=="ssrc"&&(Ce&&gt.stat("audioOutputLevel")?pe.volume[Le].value=parseInt(gt.stat("audioOutputLevel")):!Ce&&gt.stat("audioInputLevel")&&(pe.volume[Le].value=parseInt(gt.stat("audioInputLevel"))))}})},200),0):pe.volume[Le].value:(it.warn("Getting the "+Le+" volume unsupported by browser"),0)}function ae(X,Ce){var ve=U[X];if(ve==null||ve.webrtcStuff===null||ve.webrtcStuff===void 0)return it.warn("Invalid handle"),!0;var Le=ve.webrtcStuff;return Le.pc===null||Le.pc===void 0?(it.warn("Invalid PeerConnection"),!0):Le.myStream===void 0||Le.myStream===null?(it.warn("Invalid local MediaStream"),!0):Ce?Le.myStream.getVideoTracks()===null||Le.myStream.getVideoTracks()===void 0||Le.myStream.getVideoTracks().length===0?(it.warn("No video track"),!0):!Le.myStream.getVideoTracks()[0].enabled:Le.myStream.getAudioTracks()===null||Le.myStream.getAudioTracks()===void 0||Le.myStream.getAudioTracks().length===0?(it.warn("No audio track"),!0):!Le.myStream.getAudioTracks()[0].enabled}function be(X,Ce,ve){var Le=U[X];if(Le==null||Le.webrtcStuff===null||Le.webrtcStuff===void 0)return it.warn("Invalid handle"),!1;var pe=Le.webrtcStuff;return pe.pc===null||pe.pc===void 0?(it.warn("Invalid PeerConnection"),!1):pe.myStream===void 0||pe.myStream===null?(it.warn("Invalid local MediaStream"),!1):Ce?pe.myStream.getVideoTracks()===null||pe.myStream.getVideoTracks()===void 0||pe.myStream.getVideoTracks().length===0?(it.warn("No video track"),!1):(pe.myStream.getVideoTracks()[0].enabled=!ve,!0):pe.myStream.getAudioTracks()===null||pe.myStream.getAudioTracks()===void 0||pe.myStream.getAudioTracks().length===0?(it.warn("No audio track"),!1):(pe.myStream.getAudioTracks()[0].enabled=!ve,!0)}function E(X,Ce){var ve=U[X];if(ve==null||ve.webrtcStuff===null||ve.webrtcStuff===void 0)return it.warn("Invalid handle"),"Invalid handle";var Le=ve.webrtcStuff;if(Le.pc===null||Le.pc===void 0)return"Invalid PeerConnection";if(Le.pc.getStats)Le.pc.getStats().then(function(pe){pe.forEach(function(ee){if(ee){var je=!1;if(((ee.mediaType==="video"||ee.id.toLowerCase().indexOf("video")>-1)&&ee.type==="inbound-rtp"&&ee.id.indexOf("rtcp")<0||ee.type=="ssrc"&&ee.bytesReceived&&(ee.googCodecName==="VP8"||ee.googCodecName===""))&&(je=!0),je)if(Ce&&Ce(ee),Le.bitrate.bsnow=ee.bytesReceived,Le.bitrate.tsnow=ee.timestamp,Le.bitrate.bsbefore===null||Le.bitrate.tsbefore===null)Le.bitrate.bsbefore=Le.bitrate.bsnow,Le.bitrate.tsbefore=Le.bitrate.tsnow;else{var mt=Le.bitrate.tsnow-Le.bitrate.tsbefore;it.webRTCAdapter.browserDetails.browser=="safari"&&(mt=mt/1e3);var gt=Math.round((Le.bitrate.bsnow-Le.bitrate.bsbefore)*8/mt);it.webRTCAdapter.browserDetails.browser==="safari"&&(gt=parseInt(gt/1e3)),Le.bitrate.value=gt+" kbits/sec",Le.bitrate.bsbefore=Le.bitrate.bsnow,Le.bitrate.tsbefore=Le.bitrate.tsnow}}})});else return it.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser"}function Q(X){var Ce=U[X];if(Ce==null||Ce.webrtcStuff===null||Ce.webrtcStuff===void 0)return it.warn("Invalid handle"),"Invalid handle";var ve=Ce.webrtcStuff;return ve.pc===null||ve.pc===void 0?"Invalid PeerConnection":ve.pc.getStats?ve.bitrate.timer===null||ve.bitrate.timer===void 0?(it.log("Starting bitrate timer (via getStats)"),ve.bitrate.timer=setInterval(function(){ve.pc.getStats().then(function(Le){Le.forEach(function(pe){if(pe){var ee=!1;if(((pe.mediaType==="video"||pe.id.toLowerCase().indexOf("video")>-1)&&pe.type==="inbound-rtp"&&pe.id.indexOf("rtcp")<0||pe.type=="ssrc"&&pe.bytesReceived&&(pe.googCodecName==="VP8"||pe.googCodecName===""))&&(ee=!0),ee)if(ve.bitrate.bsnow=pe.bytesReceived,ve.bitrate.tsnow=pe.timestamp,ve.bitrate.bsbefore===null||ve.bitrate.tsbefore===null)ve.bitrate.bsbefore=ve.bitrate.bsnow,ve.bitrate.tsbefore=ve.bitrate.tsnow;else{var je=ve.bitrate.tsnow-ve.bitrate.tsbefore;it.webRTCAdapter.browserDetails.browser=="safari"&&(je=je/1e3);var mt=Math.round((ve.bitrate.bsnow-ve.bitrate.bsbefore)*8/je);it.webRTCAdapter.browserDetails.browser==="safari"&&(mt=parseInt(mt/1e3)),ve.bitrate.value=mt+" kbits/sec",ve.bitrate.bsbefore=ve.bitrate.bsnow,ve.bitrate.tsbefore=ve.bitrate.tsnow}}})})},1e3),"0 kbits/sec"):ve.bitrate.value:(it.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser")}function Ge(X){it.error("WebRTC error:",X)}function H(X,Ce){it.log("Cleaning WebRTC stuff");var ve=U[X];if(ve!=null){var Le=ve.webrtcStuff;if(Le!=null){if(Ce===!0){var pe={rtcgw:"hangup",transaction:it.randomString(12)};ve.token!==null&&ve.token!==void 0&&(pe.token=ve.token),xe!=null&&(pe.apisecret=xe),it.debug("Sending hangup request (handle="+X+"):"),it.debug(pe),t?(pe.session_id=m,pe.handle_id=X,n.send(JSON.stringify(pe))):it.httpAPICall(k+"/"+m+"/"+X,{verb:"POST",withCredentials:_,body:pe})}Le.remoteStream=null,Le.volume&&(Le.volume.local&&Le.volume.local.timer&&clearInterval(Le.volume.local.timer),Le.volume.remote&&Le.volume.remote.timer&&clearInterval(Le.volume.remote.timer)),Le.volume={},Le.bitrate.timer&&clearInterval(Le.bitrate.timer),Le.bitrate.timer=null,Le.bitrate.bsnow=null,Le.bitrate.bsbefore=null,Le.bitrate.tsnow=null,Le.bitrate.tsbefore=null,Le.bitrate.value=null;try{if(!Le.streamExternal&&Le.myStream!==null&&Le.myStream!==void 0){it.log("Stopping local stream tracks");var ee=Le.myStream.getTracks();for(var je in ee){var mt=ee[je];it.log(mt),mt!=null&&mt.stop()}}}catch{}Le.streamExternal=!1,Le.myStream=null;try{Le.pc.close()}catch{}Le.pc=null,Le.candidates=null,Le.mySdp=null,Le.remoteSdp=null,Le.iceDone=!1,Le.dataChannel={},Le.dtmfSender=null}ve.oncleanup()}}function _e(X){for(var Ce=X.split(`\r
`),ve=!1,Le=[-1],pe=[-1],ee=null,je=null,mt=null,gt=null,Gt=-1,li=0;li<Ce.length;li++){var Oi=Ce[li].match(/m=(\w+) */);if(Oi){var ge=Oi[1];if(ge==="video")if(Le[0]<0)ve=!0;else{Gt=li;break}else if(Le[0]>-1){Gt=li;break}continue}if(ve){var Ji=Ce[li].match(/a=ssrc-group:FID (\d+) (\d+)/);if(Ji){Le[0]=Ji[1],pe[0]=Ji[2],Ce.splice(li,1),li--;continue}if(Le[0]){var kt=Ce[li].match("a=ssrc:"+Le[0]+" cname:(.+)");if(kt&&(ee=kt[1]),kt=Ce[li].match("a=ssrc:"+Le[0]+" msid:(.+)"),kt&&(je=kt[1]),kt=Ce[li].match("a=ssrc:"+Le[0]+" mslabel:(.+)"),kt&&(mt=kt[1]),kt=Ce[li].match("a=ssrc:"+Le[0]+" label:(.+)"),kt&&(gt=kt[1]),Ce[li].indexOf("a=ssrc:"+pe[0])===0){Ce.splice(li,1),li--;continue}if(Ce[li].indexOf("a=ssrc:"+Le[0])===0){Ce.splice(li,1),li--;continue}}if(Ce[li].length==0){Ce.splice(li,1),li--;continue}}}if(Le[0]<0){Gt=-1,ve=!1;for(var li=0;li<Ce.length;li++){var Oi=Ce[li].match(/m=(\w+) */);if(Oi){var ge=Oi[1];if(ge==="video")if(Le[0]<0)ve=!0;else{Gt=li;break}else if(Le[0]>-1){Gt=li;break}continue}if(ve){if(Le[0]<0){var Lt=Ce[li].match(/a=ssrc:(\d+)/);if(Lt){Le[0]=Lt[1],Ce.splice(li,1),li--;continue}}else{var kt=Ce[li].match("a=ssrc:"+Le[0]+" cname:(.+)");if(kt&&(ee=kt[1]),kt=Ce[li].match("a=ssrc:"+Le[0]+" msid:(.+)"),kt&&(je=kt[1]),kt=Ce[li].match("a=ssrc:"+Le[0]+" mslabel:(.+)"),kt&&(mt=kt[1]),kt=Ce[li].match("a=ssrc:"+Le[0]+" label:(.+)"),kt&&(gt=kt[1]),Ce[li].indexOf("a=ssrc:"+pe[0])===0){Ce.splice(li,1),li--;continue}if(Ce[li].indexOf("a=ssrc:"+Le[0])===0){Ce.splice(li,1),li--;continue}}if(Ce[li].length==0){Ce.splice(li,1),li--;continue}}}}if(Le[0]<0)return it.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),X;Gt<0&&(Gt=Ce.length),Le[1]=Math.floor(Math.random()*4294967295),Le[2]=Math.floor(Math.random()*4294967295),pe[1]=Math.floor(Math.random()*4294967295),pe[2]=Math.floor(Math.random()*4294967295);for(var li=0;li<Le.length;li++)ee&&(Ce.splice(Gt,0,"a=ssrc:"+Le[li]+" cname:"+ee),Gt++),je&&(Ce.splice(Gt,0,"a=ssrc:"+Le[li]+" msid:"+je),Gt++),mt&&(Ce.splice(Gt,0,"a=ssrc:"+Le[li]+" mslabel:"+mt),Gt++),gt&&(Ce.splice(Gt,0,"a=ssrc:"+Le[li]+" label:"+gt),Gt++),ee&&(Ce.splice(Gt,0,"a=ssrc:"+pe[li]+" cname:"+ee),Gt++),je&&(Ce.splice(Gt,0,"a=ssrc:"+pe[li]+" msid:"+je),Gt++),mt&&(Ce.splice(Gt,0,"a=ssrc:"+pe[li]+" mslabel:"+mt),Gt++),gt&&(Ce.splice(Gt,0,"a=ssrc:"+pe[li]+" label:"+gt),Gt++);return Ce.splice(Gt,0,"a=ssrc-group:FID "+Le[2]+" "+pe[2]),Ce.splice(Gt,0,"a=ssrc-group:FID "+Le[1]+" "+pe[1]),Ce.splice(Gt,0,"a=ssrc-group:FID "+Le[0]+" "+pe[0]),Ce.splice(Gt,0,"a=ssrc-group:SIM "+Le[0]+" "+Le[1]+" "+Le[2]),X=Ce.join(`\r
`),X.endsWith(`\r
`)||(X+=`\r
`),X}function M(X){return it.debug("isAudioSendEnabled:",X),X==null?!0:X.audio===!1?!1:X.audioSend===void 0||X.audioSend===null?!0:X.audioSend===!0}function z(X){return it.debug("isAudioSendRequired:",X),X==null||X.audio===!1||X.audioSend===!1||X.failIfNoAudio===void 0||X.failIfNoAudio===null?!1:X.failIfNoAudio===!0}function ce(X){return it.debug("isAudioRecvEnabled:",X),X==null?!0:X.audio===!1?!1:X.audioRecv===void 0||X.audioRecv===null?!0:X.audioRecv===!0}function ie(X){return it.debug("isVideoSendEnabled:",X),X==null?!0:X.video===!1?!1:X.videoSend===void 0||X.videoSend===null?!0:X.videoSend===!0}function Oe(X){return it.debug("isVideoSendRequired:",X),X==null||X.video===!1||X.videoSend===!1||X.failIfNoVideo===void 0||X.failIfNoVideo===null?!1:X.failIfNoVideo===!0}function Qe(X){return it.debug("isVideoRecvEnabled:",X),X==null?!0:X.video===!1?!1:X.videoRecv===void 0||X.videoRecv===null?!0:X.videoRecv===!0}function st(X){if(it.debug("isScreenSendEnabled:",X),X==null||K(X.video)!=="object"||K(X.video.mandatory)!=="object")return!1;var Ce=X.video.mandatory;return Ce.chromeMediaSource?Ce.chromeMediaSource==="desktop"||Ce.chromeMediaSource==="screen":Ce.mozMediaSource?Ce.mozMediaSource==="window"||Ce.mozMediaSource==="screen":Ce.mediaSource?Ce.mediaSource==="window"||Ce.mediaSource==="screen":!1}function D(X){return it.debug("isDataEnabled:",X),it.webRTCAdapter.browserDetails.browser=="edge"?(it.warn("Edge doesn't support data channels yet"),!1):X==null?!1:X.data===!0}function Xe(X){return it.debug("isTrickleEnabled:",X),X==null?!0:X===!0}}window.Janus=it;var Md={version:"V1.0",apiDomain:"https://open.ys7.com"},ac={},T_=function(g,t){ac[g]||(ac[g]=[]),ac[g].push(t)},Co=function(){var g=Array.prototype.shift.call(arguments),t=ac[g];if(!t||t.length===0)return!1;for(var n=0,o;o=t[n];n++)o.apply(this,arguments)};function La(){var J={};return J.promise=new Promise(function(g,t){J.resolve=g,J.reject=t}),J}var P_=function(){function J(g){Re(this,J),_t(this,"subscribe",function(t){var n=La(),o={cmdType:"subremote",streamtype:t.type,customId:t.clientId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId},c=null;return window["ezuikit-webrtc"].opt.janus.attach({plugin:"rtcgw.plugin.sts",opaqueId:window["ezuikit-webrtc"].opt.opaqueId,success:function(u){console.log("pluginHandle",u),t.type==8?window["ezuikit-webrtc"].opt.subscribeScreenHandle=u:(window["ezuikit-webrtc"].opt["".concat(t.clientId)]=u,t.type==1&&window["ezuikit-webrtc"].opt["".concat(t.clientId)].send({message:{cmdType:"unsubremote",streamtype:2,customId:t.clientId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId},success:function(){},error:function(P){}})),c=u,c.createOffer({media:{videoSend:!1,audioSend:!1,audioRecv:!0,videoRecv:!0,audio:!0,video:!0,data:!1},simulcast:!1,simulcast2:!1,success:function(P){Janus.debug("remoteFeed createOffer Got SDP!"),Janus.debug(P),c.send({message:o,jsep:P})},error:function(P){Janus.error("remoteFeed WebRTC error:",P),n.reject(P)}})},error:function(u){console.error("  -- Error attaching plugin...",u),n.reject(u)},consentDialog:function(u){Janus.debug("Consent dialog should be "+(u?"on":"off")+" now")},iceState:function(u){switch(Janus.log("ICE state changed to "+u),u){case"connected":console.log("ice connect success");break;case"disconnected":console.log("ice connect loss");break}},mediaState:function(u,k){Janus.log("Janus "+(k?"started":"stopped")+" receiving our "+u)},webrtcState:function(u){Janus.log("Janus says our WebRTC PeerConnection is "+(u?"up":"down")+" now")},slowLink:function(u,k){Janus.warn("Janus reports problems "+(u?"sending":"receiving")+" packets on this PeerConnection ("+k+" lost packets)")},onmessage:function(u,k){Janus.debug(" ::: Got a message :::"),Janus.debug(u),k!=null&&(Janus.debug("Handling SDP as well..."),Janus.debug(k),c.handleRemoteJsep({jsep:k})),u.rtcgw==="subremoteack"&&Co("subremoteack",u)},onlocalstream:function(u){},onremotestream:function(u){console.log("remoteStream==================================",u);var k={clientId:t.clientId,stream:u,streamType:t.type};n.resolve(k),Co("remoteStream",k)},ondataopen:function(u){Janus.log("The DataChannel is available!")},ondata:function(u){Janus.debug("We got data from the DataChannel! "+u)},oncleanup:function(){Janus.log(" ::: Got a cleanup notification :::")}}),n.promise}),_t(this,"subscribeStream",function(t){var n=La(),o={cmdType:"resumesubremote",streamtype:t.type,customId:t.clientId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId};return window["ezuikit-webrtc"].opt["".concat(t.clientId)]&&window["ezuikit-webrtc"].opt["".concat(t.clientId)].send({message:o,success:function(){n.resolve("success")},error:function(d){n.reject(d)}}),n.promise}),_t(this,"unsubscribe",function(t){var n=La(),o={cmdType:"unsubremote",streamtype:t.type,customId:t.clientId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId};return t.type==8?window["ezuikit-webrtc"].opt.subscribeScreenHandle.send({message:o,success:function(){window["ezuikit-webrtc"].opt.subscribeScreenHandle.detach({noRequest:!1,success:function(){n.resolve("success")}})},error:function(d){n.reject(d)}}):window["ezuikit-webrtc"].opt["".concat(t.clientId)].send({message:o,success:function(){t.type==3?window["ezuikit-webrtc"].opt["".concat(t.clientId)].detach({noRequest:!1,success:function(){n.resolve("success")}}):n.resolve("success")},error:function(d){n.reject(d)}}),n.promise}),_t(this,"unsubscribeStream",function(t){var n=La(),o={cmdType:"pausesubremote",streamtype:t.type,customId:t.clientId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId};return window["ezuikit-webrtc"].opt["".concat(t.clientId)].send({message:o,success:function(){n.resolve("success")},error:function(d){n.reject(d)}}),n.promise}),_t(this,"listen",function(){return T_.apply(void 0,arguments)}),this.initEZWEBPlayer(g)}return xt(J,[{key:"initEZWEBPlayer",value:function(t){console.log("params",t),window["ezuikit-webrtc"]={opt:{roomParams:{room:0,userId:t.userId,video:1,internalRoomId:null,roomId:t.roomId,clientId:null,rtctoken:t.rtctoken},janus:null,mainHandle:null,sts:null,screenHandle:null,subscribeScreenHandle:null,opaqueId:"sts-"+Janus.randomString(12),localStreamType:null,server:null,accessToken:t.accessToken,stream:"",screenStream:null,apiDomain:Md.apiDomain,cln:{local:{username:"",client_id:""}}},videoParams:{},audioParams:{},cameraId:null,microphoneId:null,bitrate:1e5,frameRate:15,width:320,height:240},Lr("".concat(Md.apiDomain,"/api/v3/rtc/wss"),"POST",{appId:t.appId,roomId:t.roomId,customId:t.userId,accessToken:t.accessToken},{"Content-Type":"application/x-www-form-urlencoded",accessToken:t.accessToken},n);function n(o){if(console.log("data",o),o.meta.code!=200){t.handleError(o.meta);return}var c=o.data;c.clientId;var d=c.domain;c.internalRoomId;var u=c.wssPath;window["ezuikit-webrtc"].opt.server="wss://".concat(d,"/").concat(u),window["ezuikit-webrtc"].opt.roomParams.internalRoomId=o.data.internalRoomId,window["ezuikit-webrtc"].opt.roomParams.clientId=o.data.clientId;var k={token:"token=".concat(t.rtctoken,"&userId=").concat(t.userId,"&roomId=").concat(t.roomId,"&appId=").concat(t.appId),authtype:23};Janus.init({debug:"all",callback:function(){window["ezuikit-webrtc"].opt.janus=new Janus({server:window["ezuikit-webrtc"].opt.server,success:function(R){R&&t.onMessage(R)},error:function(R){t.handleError(R)},destroyed:function(){}},k)}})}}},{key:"getVersion",value:function(){var t=La();return t.resolve(Md.version),t.promise}},{key:"getSupport",value:function(){var t=La(),n={isWebrtcSupport:!0,isH264Support:!0},o=document.createElement("video");return o.canPlayType&&(o.canPlayType("video/mp4;codecs=“avc1.64001E”")?n.isH264Support=!0:n.isH264Support=!1),navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia?(n.isWebrtcSupport=!0,t.resolve(n)):(n.isWebrtcSupport=!1,t.reject(n)),t.promise}},{key:"getMediaList",value:function(){var t=La();return navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(n){t.resolve(n)}):t.reject("no devices"),t.promise}},{key:"getCamerasList",value:function(){var t=La();return navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(n){var o=[];n.map(function(c){c.kind=="videoinput"&&o.push(c)}),t.resolve(o)}):t.reject("no devices"),t.promise}},{key:"getMicrophonesList",value:function(){var t=La();return navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(n){var o=[];n.map(function(c){c.kind=="audioinput"&&o.push(c)}),t.resolve(o)}):t.reject("no devices"),t.promise}},{key:"getSpeakersList",value:function(){var t=La();return navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(n){var o=[];n.map(function(c){c.kind=="audiooutput"&&o.push(c)}),t.resolve(o)}):t.reject("no devices"),t.promise}},{key:"play",value:function(t){var n=La(),o=document.getElementById(t.domId),c=window["ezuikit-webrtc"].opt.cln.local.stream;return Janus.attachMediaStream(o,c),o.play(),document.getElementById(t.domId)?n.resolve("success"):n.reject("no video dom"),n.promise}},{key:"leaveRoom",value:function(t){var n=La(),o={cmdType:"exitRoom",customId:window["ezuikit-webrtc"].opt.roomParams.userId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId};return window["ezuikit-webrtc"].opt.mainHandle.send({message:o,success:function(){window["ezuikit-webrtc"].opt.janus.destroy({success:function(){}}),n.resolve("success")},error:function(d){console.error("  -- Error attaching plugin...",d),n.reject(d)}}),n.promise}},{key:"setCameraDevice",value:function(t){var n=La();return window["ezuikit-webrtc"].cameraId=t.deviceId,window["ezuikit-webrtc"].opt.sts&&window["ezuikit-webrtc"].opt.sts.createOffer({media:{video:{deviceId:t.deviceId},replaceVideo:!0,audio:window["ezuikit-webrtc"].opt.localStreamType!=1},simulcast:!1,simulcast2:!1,bitrate:window["ezuikit-webrtc"].bitrate,frameRate:window["ezuikit-webrtc"].frameRate,success:function(c){console.log("createOffersuccess"),Janus.debug("Got SDP!"),Janus.debug(c),n.resolve("success")},error:function(c){console.log("createOffererror"),Janus.error("WebRTC error:",c),n.reject(c)}}),n.promise}},{key:"setMicrophoneDevice",value:function(t){var n=La();return window["ezuikit-webrtc"].microphoneId=t.deviceId,window["ezuikit-webrtc"].opt.sts&&window["ezuikit-webrtc"].opt.sts.createOffer({media:{audio:{deviceId:t.deviceId},replaceAudio:!0,video:window["ezuikit-webrtc"].opt.localStreamType!=2},simulcast:!1,simulcast2:!1,bitrate:window["ezuikit-webrtc"].bitrate,frameRate:window["ezuikit-webrtc"].frameRate,success:function(c){console.log("createOffersuccess"),Janus.debug("Got SDP!"),Janus.debug(c),n.resolve("success")},error:function(c){console.log("createOffererror"),Janus.error("WebRTC error:",c),n.reject(c)}}),n.promise}},{key:"setVideoProfile",value:function(t){var n=La(),o={video:{width:t.video.width||360,height:t.video.height||640,frameRate:t.video.frameRate},bitrate:t.video.bitrate||5e5,id:t.id};return window["ezuikit-webrtc"].videoParams=o.video,window["ezuikit-webrtc"].bitrate=o.bitrate*1e3,window["ezuikit-webrtc"].frameRate=t.video.frameRate,window["ezuikit-webrtc"].width=t.video.width,window["ezuikit-webrtc"].height=t.video.height,n.resolve("success"),n.promise}},{key:"setAudioProfile",value:function(t){var n={audio:{deviceId:window["ezuikit-webrtc"].cameraId,sampleRate:t.audio.sampleRate||"32000HZ",sampleSize:t.audio.sampleSize||16,channelCount:t.audio.channelCount||1},id:t.id};window["ezuikit-webrtc"].audioParams=n.audio,console.log("window['ezuikit-webrtc'].videoParams",window["ezuikit-webrtc"])}},{key:"joinRoom",value:function(t){var n=La();return window["ezuikit-webrtc"].opt.janus.attach({plugin:"rtcgw.plugin.sts",opaqueId:window["ezuikit-webrtc"].opt.opaqueId,success:function(c){console.log("pluginHandle",c),window["ezuikit-webrtc"].opt.mainHandle=c,Janus.debug("Trying a createOffer too (audio/video sendrecv)");var d={cmdType:"enterRoom",customId:window["ezuikit-webrtc"].opt.roomParams.userId,clientId:window["ezuikit-webrtc"].opt.roomParams.clientId,strroomId:window["ezuikit-webrtc"].opt.roomParams.roomId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId,authtype:23,authentication:window["ezuikit-webrtc"].opt.roomParams.rtctoken};c.send({message:d}),n.resolve(c.id)},error:function(c){console.error("  -- Error attaching plugin...",c),n.reject(c)},consentDialog:function(c){Janus.debug("Consent dialog should be "+(c?"on":"off")+" now")},iceState:function(c){switch(Janus.log("ICE state changed to "+c),c){case"connected":console.log("ice connect success");break;case"disconnected":console.log("ice connect loss");break}},mediaState:function(c,d){Janus.log("Janus "+(d?"started":"stopped")+" receiving our "+c)},webrtcState:function(c){Janus.log("Janus says our WebRTC PeerConnection is "+(c?"up":"down")+" now")},slowLink:function(c,d){Janus.warn("Janus reports problems "+(c?"sending":"receiving")+" packets on this PeerConnection ("+d+" lost packets)")},onmessage:function(c,d){Janus.debug(" ::: Got a message :::"),Janus.debug(c),d!=null&&(Janus.debug("Handling SDP as well..."),Janus.debug(d),window["ezuikit-webrtc"].opt.mainHandle.handleRemoteJsep({jsep:d}));var u=c.result;if(u!=null){if(u==="done")return;u.status}c.rtcgw==="enterRoomack"&&Co("enterRoomack",c),c.rtcgw==="clientJoin"&&Co("clientJoin",c),c.rtcgw==="clientLeave"&&Co("clientLeave",c),c.rtcgw==="stream-added"&&Co("steam-added",c),c.rtcgw==="stream-removed"&&Co("stream-removed",c),c.rtcgw==="audioleve"&&Co("audioleve",c),c.rtcgw==="networkquality"&&Co("networkquality",c),c.rtcgw==="error"&&Co("error",c),c.rtcgw==="audioleve"&&Co("audioleve",c),c.rtcgw==="publishlocalstreamack"&&Co("publishlocalstreamack",c),c.rtcgw==="subremoteack"&&Co("subremoteack",c)},onlocalstream:function(c){console.log("onlocalstream",c),Janus.debug(" ::: Got a local stream :::"),Janus.debug(c),window["ezuikit-webrtc"].opt.cln.local.stream=c},onremotestream:function(c){},ondataopen:function(c){Janus.log("The DataChannel is available!")},ondata:function(c){Janus.debug("We got data from the DataChannel! "+c)},oncleanup:function(){Janus.log(" ::: Got a cleanup notification :::")}}),n.promise}},{key:"getLocalStream",value:function(t){var n=La();return window["ezuikit-webrtc"].opt.cln.local.stream?n.resolve(window["ezuikit-webrtc"].opt.cln.local.stream):n.reject("no stream"),n.promise}},{key:"getScreenStream",value:function(t){var n=La();return window["ezuikit-webrtc"].opt.screenStream?n.resolve(window["ezuikit-webrtc"].opt.screenStream):n.reject("no stream"),n.promise}},{key:"suspendStream",value:function(t){var n=this;n.controlStream(t,"suspend")}},{key:"controlStream",value:function(t,n){var o=La(),c={cmdType:n=="resume"?"resumelocalstream":"pauselocalstream",streamtype:t.type,customId:window["ezuikit-webrtc"].opt.roomParams.userId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId};return t.type==2&&window["ezuikit-webrtc"].opt.cln.local.stream.getTracks().forEach(function(d){d.kind=="audio"&&(n=="resume"?d.enabled=!0:d.enabled=!1)}),t.type==1&&window["ezuikit-webrtc"].opt.cln.local.stream.getTracks().forEach(function(d){d.kind=="video"&&(n=="resume"?d.enabled=!0:d.enabled=!1)}),t.type==8&&(console.log(" window['ezuikit-webrtc'].opt.screenStream.getTracks()",window["ezuikit-webrtc"].opt.screenStream.getTracks()),window["ezuikit-webrtc"].opt.screenStream.getTracks().forEach(function(d){n=="resume"?d.enabled=!0:d.enabled=!1})),t.type==3&&window["ezuikit-webrtc"].opt.cln.local.stream.getTracks().forEach(function(d){n=="resume"?d.enabled=!0:d.enabled=!1}),t.type==8?window["ezuikit-webrtc"].opt.screenHandle.send({message:c,success:function(){o.resolve("success")},error:function(u){o.reject(u)}}):window["ezuikit-webrtc"].opt.sts.send({message:c,success:function(){o.resolve("success")},error:function(u){o.reject(u)}}),o.promise}},{key:"resumeStream",value:function(t){var n=this;n.controlStream(t,"resume")}},{key:"publishStream",value:function(t){var n=La(),o={cmdType:"publishlocalstream",streamtype:t.type,customId:window["ezuikit-webrtc"].opt.roomParams.userId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId};t.type!=8&&(window["ezuikit-webrtc"].opt.localStreamType=t.type),window["ezuikit-webrtc"].videoParams;var c={videoSend:!0,audioSend:!0,audioRecv:!0,videoRecv:!0,data:!1,video:"stdres",audio:!0};switch(t.type){case 1:c={videoSend:!0,audioSend:!0,audioRecv:!0,videoRecv:!0,data:!1,video:{deviceId:window["ezuikit-webrtc"].cameraId,width:window["ezuikit-webrtc"].width,height:window["ezuikit-webrtc"].height},audio:!1};break;case 2:c={videoSend:!0,audioSend:!0,audioRecv:!0,videoRecv:!0,data:!1,video:!1,audio:{deviceId:window["ezuikit-webrtc"].microphoneId}};break;case 3:c={videoSend:!0,audioSend:!0,audioRecv:!0,videoRecv:!0,data:!1,video:{deviceId:window["ezuikit-webrtc"].cameraId,width:window["ezuikit-webrtc"].width,height:window["ezuikit-webrtc"].height},audio:{deviceId:window["ezuikit-webrtc"].microphoneId}};break;case 8:c={audioRecv:!1,videoRecv:!0,data:!1,audioSend:!1,videoSend:!0,video:"screen",screenshareFrameRate:3};break}return console.log("media-----------",c),console.log("window['ezuikit-webrtc'].bitrate",window["ezuikit-webrtc"].bitrate),console.log("window['ezuikit-webrtc'].opt.sts",window["ezuikit-webrtc"].opt.sts),window["ezuikit-webrtc"].opt.sts&&t.type!=8?window["ezuikit-webrtc"].opt.sts.createOffer({media:c,simulcast:!1,simulcast2:!1,bitrate:window["ezuikit-webrtc"].bitrate,frameRate:window["ezuikit-webrtc"].frameRate,success:function(u){console.log("createOffersuccess"),Janus.debug("Got SDP!"),Janus.debug(u),window["ezuikit-webrtc"].opt.sts.send({message:o,jsep:u}),n.resolve("success")},error:function(u){console.log("createOffererror"),Janus.error("WebRTC error:",u),n.reject(u)}}):window["ezuikit-webrtc"].opt.janus.attach({plugin:"rtcgw.plugin.sts",opaqueId:window["ezuikit-webrtc"].opt.opaqueId,success:function(u){console.log("pluginHandle",u),t.type==8?window["ezuikit-webrtc"].opt.screenHandle=u:window["ezuikit-webrtc"].opt.sts=u,Janus.debug("Trying a createOffer too (audio/video sendrecv)"),u.createOffer({media:c,simulcast:!1,simulcast2:!1,bitrate:window["ezuikit-webrtc"].bitrate,frameRate:window["ezuikit-webrtc"].frameRate,success:function(P){console.log("createOffersuccess"),Janus.debug("Got SDP!"),Janus.debug(P),u.send({message:o,jsep:P}),n.resolve("success")},error:function(P){console.log("createOffererror"),Janus.error("WebRTC error:",P),n.reject(P)}})},error:function(u){console.error("  -- Error attaching plugin...",u),n.reject(u)},consentDialog:function(u){Janus.debug("Consent dialog should be "+(u?"on":"off")+" now")},iceState:function(u){switch(Janus.log("ICE state changed to "+u),u){case"connected":console.log("ice connect success");break;case"disconnected":console.log("ice connect loss");break}},mediaState:function(u,k){Janus.log("Janus "+(k?"started":"stopped")+" receiving our "+u)},webrtcState:function(u){Janus.log("Janus says our WebRTC PeerConnection is "+(u?"up":"down")+" now")},slowLink:function(u,k){Janus.warn("Janus reports problems "+(u?"sending":"receiving")+" packets on this PeerConnection ("+k+" lost packets)")},onmessage:function(u,k){console.log("消息回调+++++++++++++++++++++++++++++++++++++++++",u,k),Janus.debug(" ::: Got a message :::"),Janus.debug(u),k!=null&&(Janus.debug("Handling SDP as well..."),Janus.debug(k),t.type==8?window["ezuikit-webrtc"].opt.screenHandle.handleRemoteJsep({jsep:k}):window["ezuikit-webrtc"].opt.sts.handleRemoteJsep({jsep:k}))},onlocalstream:function(u){console.log("onlocalstream",u),Janus.debug(" ::: Got a local stream :::"),Janus.debug(u),t.type==8?(window["ezuikit-webrtc"].opt.screenStream=u,u.getVideoTracks()[0].addEventListener("ended",function(){console.log("停止了屏幕共享-----------------------");var k={cmdType:"unpublishlocalstream",streamtype:8,customId:window["ezuikit-webrtc"].opt.roomParams.userId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId};window["ezuikit-webrtc"].opt.screenHandle&&window["ezuikit-webrtc"].opt.screenHandle.send({message:k,success:function(){window["ezuikit-webrtc"].opt.screenHandle.detach({noRequest:!1}),window["ezuikit-webrtc"].opt.screenHandle=null},error:function(S){}})})):window["ezuikit-webrtc"].opt.cln.local.stream=u},onremotestream:function(u){},ondataopen:function(u){Janus.log("The DataChannel is available!")},ondata:function(u){Janus.debug("We got data from the DataChannel! "+u)},oncleanup:function(){Janus.log(" ::: Got a cleanup notification :::")}}),n.promise}},{key:"unpublishStream",value:function(t){var n=La(),o={cmdType:"unpublishlocalstream",streamtype:3,customId:window["ezuikit-webrtc"].opt.roomParams.userId,roomId:window["ezuikit-webrtc"].opt.roomParams.internalRoomId};return t.type==8?window["ezuikit-webrtc"].opt.screenHandle.send({message:Z(Z({},o),{},{streamtype:8}),success:function(){window["ezuikit-webrtc"].opt.screenHandle.detach({noRequest:!1}),window["ezuikit-webrtc"].opt.screenHandle=null,n.resolve("success")},error:function(d){n.reject(d)}}):window["ezuikit-webrtc"].opt.sts.send({message:o,success:function(){window["ezuikit-webrtc"].opt.sts.detach({noRequest:!1}),window["ezuikit-webrtc"].opt.sts=null,n.resolve("success")},error:function(d){n.reject(d)}}),n.promise}},{key:"ezwebTrigger",value:function(t){var n=window["ezuikit-webrtc"].opt.cln.local.stream,o={stream:n,clientId:"cliendId-".concat(Math.random()*20)};Co("steam-added",o)}},{key:"playRemoteSteam",value:function(t){var n=document.getElementById(t.domId);Janus.attachMediaStream(n,t.stream),n.load();var o=n.play();o!==void 0&&o.then(function(){n.play()}).catch(function(c){})}},{key:"getQuality",value:function(t){window["ezuikit-webrtc"].opt.z3.getNetworkQuality(t.handleId,function(n){console.log("NetworkQuality",n)})}}]),J}(),w_="@ezviz/ezuikit-js",E_=["jzy"],R_="1.2.1",k_="ezuikit javascript for npm",I_="ezuikit.js",D_={test:'echo "Error: no test specified" && exit 1'},A_={type:"git",url:"git+https://github.com/Hikvision-Ezviz/EZUIKit-JavaScript-npm.git"},M_=["ezuikit_static/","ezuikit.js","README.md","CHANGELOG.md"],B_=["video","ezuikit"],L_="yujianbo",F_="ISC",O_={url:"https://github.com/Hikvision-Ezviz/EZUIKit-JavaScript-npm/issues"},z_="https://github.com/Hikvision-Ezviz/EZUIKit-JavaScript-npm#readme",N_={name:w_,maintainers:E_,version:R_,description:k_,main:I_,scripts:D_,repository:A_,files:M_,keywords:B_,author:L_,license:F_,bugs:O_,homepage:z_};class io{static get JS_ERROR(){return"js_error"}static get RESOURCE_ERROR(){return"resource_error"}static get VUE_ERROR(){return"vue_error"}static get PROMISE_ERROR(){return"promise_error"}static get AJAX_ERROR(){return"ajax_error"}static get CONSOLE_INFO(){return"console_info"}static get CONSOLE_WARN(){return"console_warn"}static get CONSOLE_ERROR(){return"console_error"}static get CROSS_SCRIPT_ERROR(){return"cross_srcipt_error"}static get UNKNOW_ERROR(){return"unknow_error"}static get PERFORMANCE(){return"performance"}static get BUSINESS(){return"business"}}class xs{static get ERROR(){return"Error"}static get WARN(){return"Warning"}static get INFO(){return"Info"}}class Ch{static get FETCH(){return"fetch"}static get DEFAULT(){return"default"}}var j_=function(){var J=typeof self<"u"?self:this,g=J||{},t={navigator:typeof J.navigator<"u"?J.navigator:{},infoMap:{engine:["WebKit","Trident","Gecko","Presto"],browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Arora","Lunascape","QupZilla","Coc Coc","Kindle","Iceweasel","Konqueror","Iceape","SeaMonkey","Epiphany","360","360SE","360EE","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi"],os:["Windows","Linux","Mac OS","Android","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"],device:["Mobile","Tablet","iPad"]}},n=function(){return{getMatchMap:function(c){return{Trident:c.indexOf("Trident")>-1||c.indexOf("NET CLR")>-1,Presto:c.indexOf("Presto")>-1,WebKit:c.indexOf("AppleWebKit")>-1,Gecko:c.indexOf("Gecko/")>-1,Safari:c.indexOf("Safari")>-1,Chrome:c.indexOf("Chrome")>-1||c.indexOf("CriOS")>-1,IE:c.indexOf("MSIE")>-1||c.indexOf("Trident")>-1,Edge:c.indexOf("Edge")>-1,Firefox:c.indexOf("Firefox")>-1||c.indexOf("FxiOS")>-1,"Firefox Focus":c.indexOf("Focus")>-1,Chromium:c.indexOf("Chromium")>-1,Opera:c.indexOf("Opera")>-1||c.indexOf("OPR")>-1,Vivaldi:c.indexOf("Vivaldi")>-1,Yandex:c.indexOf("YaBrowser")>-1,Arora:c.indexOf("Arora")>-1,Lunascape:c.indexOf("Lunascape")>-1,QupZilla:c.indexOf("QupZilla")>-1,"Coc Coc":c.indexOf("coc_coc_browser")>-1,Kindle:c.indexOf("Kindle")>-1||c.indexOf("Silk/")>-1,Iceweasel:c.indexOf("Iceweasel")>-1,Konqueror:c.indexOf("Konqueror")>-1,Iceape:c.indexOf("Iceape")>-1,SeaMonkey:c.indexOf("SeaMonkey")>-1,Epiphany:c.indexOf("Epiphany")>-1,360:c.indexOf("QihooBrowser")>-1||c.indexOf("QHBrowser")>-1,"360EE":c.indexOf("360EE")>-1,"360SE":c.indexOf("360SE")>-1,UC:c.indexOf("UC")>-1||c.indexOf(" UBrowser")>-1,QQBrowser:c.indexOf("QQBrowser")>-1,QQ:c.indexOf("QQ/")>-1,Baidu:c.indexOf("Baidu")>-1||c.indexOf("BIDUBrowser")>-1,Maxthon:c.indexOf("Maxthon")>-1,Sogou:c.indexOf("MetaSr")>-1||c.indexOf("Sogou")>-1,LBBROWSER:c.indexOf("LBBROWSER")>-1,"2345Explorer":c.indexOf("2345Explorer")>-1,TheWorld:c.indexOf("TheWorld")>-1,XiaoMi:c.indexOf("MiuiBrowser")>-1,Quark:c.indexOf("Quark")>-1,Qiyu:c.indexOf("Qiyu")>-1,Wechat:c.indexOf("MicroMessenger")>-1,Taobao:c.indexOf("AliApp(TB")>-1,Alipay:c.indexOf("AliApp(AP")>-1,Weibo:c.indexOf("Weibo")>-1,Douban:c.indexOf("com.douban.frodo")>-1,Suning:c.indexOf("SNEBUY-APP")>-1,iQiYi:c.indexOf("IqiyiApp")>-1,Windows:c.indexOf("Windows")>-1,Linux:c.indexOf("Linux")>-1||c.indexOf("X11")>-1,"Mac OS":c.indexOf("Macintosh")>-1,Android:c.indexOf("Android")>-1||c.indexOf("Adr")>-1,Ubuntu:c.indexOf("Ubuntu")>-1,FreeBSD:c.indexOf("FreeBSD")>-1,Debian:c.indexOf("Debian")>-1,"Windows Phone":c.indexOf("IEMobile")>-1||c.indexOf("Windows Phone")>-1,BlackBerry:c.indexOf("BlackBerry")>-1||c.indexOf("RIM")>-1,MeeGo:c.indexOf("MeeGo")>-1,Symbian:c.indexOf("Symbian")>-1,iOS:c.indexOf("like Mac OS X")>-1,"Chrome OS":c.indexOf("CrOS")>-1,WebOS:c.indexOf("hpwOS")>-1,Mobile:c.indexOf("Mobi")>-1||c.indexOf("iPh")>-1||c.indexOf("480")>-1,Tablet:c.indexOf("Tablet")>-1||c.indexOf("Nexus 7")>-1,iPad:c.indexOf("iPad")>-1}},matchInfoMap:function(c){var d=t.navigator.userAgent||{},u=n.getMatchMap(d);for(var k in t.infoMap)for(var P=0;P<t.infoMap[k].length;P++){var S=t.infoMap[k][P];u[S]&&(c[k]=S)}},getOS:function(){var c=this;return n.matchInfoMap(c),c.os},getOSVersion:function(){var c=this,d=t.navigator.userAgent||{};c.osVersion="";var u={Windows:function(){var k=d.replace(/^.*Windows NT ([\d.]+);.*$/,"$1"),P={6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"};return P[k]||k},Android:function(){return d.replace(/^.*Android ([\d.]+);.*$/,"$1")},iOS:function(){return d.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Debian:function(){return d.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function(){return d.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},"Mac OS":function(){return d.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,".")},WebOS:function(){return d.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")}};return u[c.os]&&(c.osVersion=u[c.os](),c.osVersion==d&&(c.osVersion="")),c.osVersion},getOrientationStatu:function(){var c="",d=window.matchMedia("(orientation: portrait)");return d.matches?c="竖屏":c="横屏",c},getDeviceType:function(){var c=this;return c.device="PC",n.matchInfoMap(c),c.device},getNetwork:function(){var c=navigator&&navigator.connection&&navigator.connection.effectiveType;return c},getLanguage:function(){var c=this;return c.language=function(){var d=t.navigator.browserLanguage||t.navigator.language,u=d.split("-");return u[1]&&(u[1]=u[1].toUpperCase()),u.join("_")}(),c.language},createFingerprint:function(c){var d;function u(oe){var de,xe,se,Ae="";for(oe+="",de=0,xe=oe.length;de<xe;de++)se=oe.charCodeAt(de).toString(16),Ae+=se.length<2?"0"+se:se;return Ae}var k=document.createElement("canvas"),P=k.getContext("2d"),S=c||window.location.host;P.textBaseline="top",P.font="14px 'Arial'",P.textBaseline="tencent",P.fillStyle="#f60",P.fillRect(125,1,62,20),P.fillStyle="#069",P.fillText(S,2,15),P.fillStyle="rgba(102, 204, 0, 0.7)",P.fillText(S,4,17);var R=k.toDataURL().replace("data:image/png;base64,",""),b=atob(R),_=u(b.slice(-16,-12));return d=_,d},getBrowserInfo:function(){var c=this;n.matchInfoMap(c);var d=t.navigator.userAgent||{},u=function(_,oe){var de=t.navigator.mimeTypes;for(var xe in de)if(de[xe][_]==oe)return!0;return!1},k=n.getMatchMap(d),P=!1;if(g.chrome){var S=d.replace(/^.*Chrome\/([\d]+).*$/,"$1");S>36&&g.showModalDialog?P=!0:S>45&&(P=u("type","application/vnd.chromium.remoting-viewer"))}if(k.Baidu&&k.Opera&&(k.Baidu=!1),k.Mobile&&(k.Mobile=!(d.indexOf("iPad")>-1)),P&&(u("type","application/gameplugin")||t.navigator&&typeof t.navigator.connection.saveData>"u"?k["360SE"]=!0:k["360EE"]=!0),k.IE||k.Edge){var R=window.screenTop-window.screenY;switch(R){case 71:break;case 74:break;case 99:break;case 102:k["360EE"]=!0;break;case 75:break;case 74:break;case 105:break;case 104:k["360SE"]=!0;break}}var b={Safari:function(){return d.replace(/^.*Version\/([\d.]+).*$/,"$1")},Chrome:function(){return d.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},IE:function(){return d.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},Edge:function(){return d.replace(/^.*Edge\/([\d.]+).*$/,"$1")},Firefox:function(){return d.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function(){return d.replace(/^.*Focus\/([\d.]+).*$/,"$1")},Chromium:function(){return d.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},Opera:function(){return d.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1")},Vivaldi:function(){return d.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Yandex:function(){return d.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},Arora:function(){return d.replace(/^.*Arora\/([\d.]+).*$/,"$1")},Lunascape:function(){return d.replace(/^.*Lunascape[\/\s]([\d.]+).*$/,"$1")},QupZilla:function(){return d.replace(/^.*QupZilla[\/\s]([\d.]+).*$/,"$1")},"Coc Coc":function(){return d.replace(/^.*coc_coc_browser\/([\d.]+).*$/,"$1")},Kindle:function(){return d.replace(/^.*Version\/([\d.]+).*$/,"$1")},Iceweasel:function(){return d.replace(/^.*Iceweasel\/([\d.]+).*$/,"$1")},Konqueror:function(){return d.replace(/^.*Konqueror\/([\d.]+).*$/,"$1")},Iceape:function(){return d.replace(/^.*Iceape\/([\d.]+).*$/,"$1")},SeaMonkey:function(){return d.replace(/^.*SeaMonkey\/([\d.]+).*$/,"$1")},Epiphany:function(){return d.replace(/^.*Epiphany\/([\d.]+).*$/,"$1")},360:function(){return d.replace(/^.*QihooBrowser\/([\d.]+).*$/,"$1")},"360SE":function(){var _={63:"10.0",55:"9.1",45:"8.1",42:"8.0",31:"7.0",21:"6.3"},oe=d.replace(/^.*Chrome\/([\d]+).*$/,"$1");return _[oe]||""},"360EE":function(){var _={69:"11.0",63:"9.5",55:"9.0",50:"8.7",30:"7.5"},oe=d.replace(/^.*Chrome\/([\d]+).*$/,"$1");return _[oe]||""},Maxthon:function(){return d.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function(){return d.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function(){return d.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function(){return d.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1")},UC:function(){return d.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},Sogou:function(){return d.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},LBBROWSER:function(){var _={57:"6.5",49:"6.0",46:"5.9",42:"5.3",39:"5.2",34:"5.0",29:"4.5",21:"4.0"},oe=navigator.userAgent.replace(/^.*Chrome\/([\d]+).*$/,"$1");return _[oe]||""},"2345Explorer":function(){return d.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1")},TheWorld:function(){return d.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},XiaoMi:function(){return d.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},Quark:function(){return d.replace(/^.*Quark\/([\d.]+).*$/,"$1")},Qiyu:function(){return d.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},Wechat:function(){return d.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},Taobao:function(){return d.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function(){return d.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function(){return d.replace(/^.*weibo__([\d.]+).*$/,"$1")},Douban:function(){return d.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},Suning:function(){return d.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function(){return d.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")}};return c.browserVersion="",b[c.browser]&&(c.browserVersion=b[c.browser](),c.browserVersion==d&&(c.browserVersion="")),c.browser=="Edge"&&(c.engine="EdgeHTML"),c.browser=="Chrome"&&parseInt(c.browserVersion)>27&&(c.engine="Blink"),c.browser=="Opera"&&parseInt(c.browserVersion)>12&&(c.engine="Blink"),c.browser=="Yandex"&&(c.engine="Blink"),c.browser+"（版本: "+c.browserVersion+"&nbsp;&nbsp;内核: "+c.engine+"）"}}}(),o=function(){return{DeviceInfoObj:function(c){c=c||{domain:""};var d={deviceType:n.getDeviceType(),OS:n.getOS(),OSVersion:n.getOSVersion(),screenHeight:g.screen.height,screenWidth:g.screen.width,language:n.getLanguage(),netWork:n.getNetwork(),orientation:n.getOrientationStatu(),browserInfo:n.getBrowserInfo(),fingerprint:n.createFingerprint(c.domain),userAgent:t.navigator.userAgent};if(!c.info||c.info.length==0)return d;var u={};for(var k in d)c.info.forEach(function(P){P.toLowerCase()==k.toLowerCase()&&(P=k,u[P]=d[P])});return u}}}();return{getDeviceInfo:function(c){return o.DeviceInfoObj(c)}}}(),Bd={type(J){return Object.prototype.toString.call(J).replace(/\[object\s|\]/g,"")},isFunction(J){return this.type(J)==="Function"},isArray(J){return this.type(J)==="Array"},isNull(J){return J==null||J==""||J==null},objectIsNull(J){return JSON.stringify(J)==="{}"},isObject(J){return this.type(J)==="Object"}};class Th{toReport(g,t){try{let o=JSON.stringify(t);var n=new XMLHttpRequest;n.open("POST",g,!0),n.setRequestHeader("Content-Type","application/json"),n.send(o)}catch(o){console.log(o)}}}class U_{toReport(g,t){try{let n=JSON.stringify(t);fetch(g,{headers:{"Content-Type":"application/json"},method:"POST",body:n,mode:"same-origin",keepalive:!0})}catch(n){new Th().toReport(g,t),console.log("fetch请求异常",n)}}}class H_{toReport(g,t){try{var n=new Image;n.src=g+"?st="+new Date().getTime()+"&"+this.formatParams(t)}catch(o){console.log(o)}}formatParams(g){var t=[];for(var n in g)t.push(encodeURIComponent(n)+"="+encodeURIComponent(g[n]));return t.join("&")}}class V_{toReport(g,t){try{t.st=new Date().getTime(),navigator.sendBeacon&&navigator.sendBeacon(g,this.formatParamsByURLSearchParams(t))}catch(n){console.log(n)}}formatParamsByFormData(g){const t=new FormData;for(var n in g)t.append(n,g[n]);return t}formatParamsByURLSearchParams(g){const t=new URLSearchParams;for(var n in g)typeof g[n]=="object"&&(g[n]=JSON.stringify(g[n])),t.append(n,g[n]);return t}formatParams(g){var t=[];for(var n in g)t.push(encodeURIComponent(n)+"="+encodeURIComponent(g[n]));return t.join("&")}}class G_{constructor(g){this.url=g}report(g,t){if(t=t||{isFetch:!1,isXHR:!1,isImg:!1,isNavigator:!1},!this.checkUrl(this.url)){console.log("上报信息url地址格式不正确,url=",this.url);return}this.sendInfo(g,t)}sendInfo(g,t={}){let n=new U_,o=new H_,c=new Th,d=new V_;if(t.isImg){o.toReport(this.url,g);return}if(t.isFetch){n.toReport(this.url,g);return}if(t.isXHR){c.toReport(this.url,g);return}if(t.isNavigator){d.toReport(this.url,g);return}if(!!!(t.isFetch&&t.isImg&&t.isXHR&&t.isNavigator)){d.toReport(this.url,g);return}}checkUrl(g){if(!g)return!1;var t=/^[hH][tT][tT][pP]([sS]?):\/\//;return t.test(g)}}var Ld={isStop:!0,queues:[],add:function(J,g){this.queues.push({reportUrl:J,data:g})},fire:function(){if(!this.queues||this.queues.length===0){this.isStop=!0;return}this.isStop=!1;let J=this.queues[0];J.reportUrl&&new G_(J.reportUrl).report(J.data),this.queues.splice(0,1),this.fire()}};class Ms{constructor(g){this.category=io.UNKNOW_ERROR,this.level=xs.INFO,this.msg="",this.url="",this.line="",this.col="",this.errorObj="",this.reportUrl=g.reportUrl,this.extendsInfo=g.extendsInfo}recordError(){this.handleRecordError(),Ld.isStop&&Ld.fire()}handleRecordError(){try{if(!this.msg)return;if(this.reportUrl&&this.url&&this.url.toLowerCase().indexOf(this.reportUrl.toLowerCase())>=0){console.log("统计错误接口异常",this.msg);return}let g=this.handleErrorInfo();Ld.add(this.reportUrl,g)}catch(g){console.log(g)}}handleErrorInfo(){let t=this.getExtendsInfo(),n="",o=0;switch(this.category){case io.BUSINESS:if(this.msg.textKey)n=JSON.stringify(this.msg),o=1,t.textKey=this.msg.textKey,this.msg.h&&(t.h=this.msg.h),this.msg.text&&(t.text=this.msg.text);else return t=Object.assign({},t,this.msg),t.l=window.location.href,t;break;case io.PERFORMANCE:n=JSON.stringify(this.msg),o=1e3,t.clientInfo=this.getDeviceInfo();break;case io.AJAX_ERROR:n=JSON.stringify(this.msg),o=100;break;case io.RESOURCE_ERROR:const c={msg:this.msg,url:encodeURIComponent(this.url)};n=JSON.stringify(c),o=101;break;case io.JS_ERROR:n="错误类别: "+this.category+`\r
`,n+="日志信息: "+this.msg+`\r
`,n+="url: "+encodeURIComponent(this.url)+`\r
`,n+="错误行号: "+this.line+`\r
`,n+="错误列号: "+this.col+`\r
`,this.errorObj&&this.errorObj.stack&&(n+="错误栈: "+this.errorObj.stack+`\r
`),o=102;break;default:n=this.msg,o=106;break}return t.logInfo=n,t.l=window.location.pathname,t.action=o,t}getExtendsInfo(){try{let t={},n=this.extendsInfo||{},o;Bd.isFunction(n.getDynamic)&&(o=n.getDynamic()),Bd.isObject(o)&&(n={...n,...o});for(var g in n)Bd.isFunction(n[g])||(t[g]=n[g]);return t}catch(t){return console.log("call getExtendsInfo error",t),{}}}getDeviceInfo(){try{let g=j_.getDeviceInfo();return JSON.stringify(g)}catch(g){return console.log(g),""}}}function oc(J,g){if(!J)return!0;if(typeof J=="string"){if(g.startsWith("/")){if(window.location.hostname.endsWith(J))return!0}else if(new URL(g).hostname.endsWith(J))return!0;return!1}if(typeof J=="object"&&J instanceof Array){let t=!1;return J.forEach(n=>{typeof n=="string"&&(g.startsWith("/")?window.location.hostname.endsWith(n)&&(t=!0):new URL(g).hostname.endsWith(n)&&(t=!0))}),t}return!1}class W_{constructor(g){this.params=g}handleError(g){switch(g){case Ch.FETCH:new Ph(this.params).handleError();break;case Ch.DEFAULT:new wh(this.params).handleError();break;default:new Ph(this.params).handleError(),new wh(this.params).handleError();break}}}const Z_=J=>typeof J=="string";class Ph extends Ms{constructor(g){super(g),this.ajaxDomain=g.ajaxDomain}handleError(){if(!window.fetch)return;this.level=xs.WARN,this.category=io.AJAX_ERROR;let g=this,t=window.fetch;window.fetch=function(){let n=arguments,o=new Date().getTime(),c=null;return t.apply(this,arguments).then(function(d){try{const u=d.headers?d.headers.get("content-type"):"";if(Z_(u)&&u.includes("application/json")){const P=d.clone();c=P.status;let R=new Date().getTime()-o;P.json().then(function(b){const _={fetchStart:o,url:n[0],requestOptions:n[1],status:c,responseBody:b,loadTime:R};g.msg=_,oc(g.ajaxDomain,_.url)&&g.recordError()})}else{const P=d.clone();c=P.status;let R=new Date().getTime()-o;P.text().then(function(b){try{b=JSON.parse(b)}catch{console.log("JSON.parse 失败")}const _={fetchStart:o,url:n[0],requestOptions:n[1],status:c,responseBody:b,loadTime:R};g.msg=_,oc(g.ajaxDomain,_.url)&&g.recordError()})}}catch(u){console.log("获取响应数据上报异常"),console.log(u)}return d}).catch(function(d){console.log("获取响应数据上报异常"),console.log(d)})}}}class wh extends Ms{constructor(g){super(g),this.ajaxDomain=g.ajaxDomain}handleError(){if(!window.XMLHttpRequest)return;this.level=xs.WARN,this.category=io.AJAX_ERROR;let g=this,t=XMLHttpRequest.prototype.open,n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(o,c,d){return this._url=typeof c=="string"?c:c.href,this._method=o,t.call(this,o,this._url,typeof d=="boolean"?d:!0)},XMLHttpRequest.prototype.send=function(){let o=new Date().getTime();return this.addEventListener&&this.addEventListener("readystatechange",function(){if(this.readyState===4)if(this.status>=200&&this.status<300){let d=new Date().getTime()-o;const u={method:this._method},k={fetchStart:o,url:this._url,requestOptions:u,responseBody:this.response,status:this.status,loadTime:d};g.msg=k,oc(g.ajaxDomain,k.url)&&g.recordError()}else{let d=new Date().getTime()-o;const u={method:this._method},k={fetchStart:o,url:this._url,requestOptions:u,status:this.status,loadTime:d};g.msg=k,oc(g.ajaxDomain,k.url)&&g.recordError()}}),n.apply(this,arguments)}}}class Y_ extends Ms{constructor(g){super(g)}handleError(){this.registerInfo(),this.registerWarn(),this.registerError()}registerInfo(){let g=this;console.tInfo=function(){g.handleLog(xs.INFO,io.CONSOLE_INFO,arguments)}}registerWarn(){let g=this;console.tWarn=function(){g.handleLog(xs.WARN,io.CONSOLE_WARN,arguments)}}registerError(){let g=this;console.tError=function(){g.handleLog(xs.ERROR,io.CONSOLE_ERROR,arguments)}}handleLog(g,t,n){try{this.level=g;let o=[...n];this.msg=o.join(`\r
`),this.url=location.href,this.category=t,this.recordError()}catch(o){console.log("console统计错误异常",g,o)}}}(function(){window.console||(window.console={}),["tInfo","tWarn","tError"].forEach((g,t)=>{console[g]||(console[g]=function(){})})})();class X_ extends Ms{constructor(g){super(g)}handleError(){window.onerror=(g,t,n,o,c)=>{console.log("monitor onerror");try{this.level=xs.WARN,this.category=io.JS_ERROR,this.msg=g,this.url=t,this.line=n,this.col=o,this.errorObj=c,this.recordError()}catch(d){console.log("js错误异常",d)}}}}class q_ extends Ms{constructor(g){super(g)}handleError(){window.addEventListener("unhandledrejection",g=>{try{if(!g||!g.reason)return;g.reason.config&&g.reason.config.url&&(this.url=g.reason.config.url),this.level=xs.WARN,this.category=io.PROMISE_ERROR,this.msg=g.reason,this.recordError()}catch(t){console.log(t)}},!0)}}class J_ extends Ms{constructor(g){super(g)}handleError(){window.addEventListener("error",g=>{console.log("monitor addEventListener error");try{if(!g)return;this.category=io.RESOURCE_ERROR;let n=g.target||g.srcElement;var t=n instanceof HTMLScriptElement||n instanceof HTMLLinkElement||n instanceof HTMLImageElement;if(!t)return;this.level=n.tagName.toUpperCase()==="IMG"?xs.WARN:xs.ERROR,this.msg="加载 "+n.tagName+" 资源错误",this.url=n.src||n.href,this.errorObj=n,this.recordError()}catch(n){console.log("资源加载收集异常",n)}},!0)}}var t0,vl,Eh,sc,Rh=-1,z0=function(J){addEventListener("pageshow",function(g){g.persisted&&(Rh=g.timeStamp,J(g))},!0)},Fd=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},lc=function(){var J=Fd();return J&&J.activationStart||0},ps=function(J,g){var t=Fd(),n="navigate";return Rh>=0?n="back-forward-cache":t&&(document.prerendering||lc()>0?n="prerender":document.wasDiscarded?n="restore":t.type&&(n=t.type.replace(/_/g,"-"))),{name:J,value:g===void 0?-1:g,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},cc=function(J,g,t){try{if(PerformanceObserver.supportedEntryTypes.includes(J)){var n=new PerformanceObserver(function(o){Promise.resolve().then(function(){g(o.getEntries())})});return n.observe(Object.assign({type:J,buffered:!0},t||{})),n}}catch{}},ms=function(J,g,t,n){var o,c;return function(d){g.value>=0&&(d||n)&&((c=g.value-(o||0))||o===void 0)&&(o=g.value,g.delta=c,g.rating=function(u,k){return u>k[1]?"poor":u>k[0]?"needs-improvement":"good"}(g.value,t),J(g))}},Od=function(J){requestAnimationFrame(function(){return requestAnimationFrame(function(){return J()})})},zd=function(J){var g=function(t){t.type!=="pagehide"&&document.visibilityState!=="hidden"||J(t)};addEventListener("visibilitychange",g,!0),addEventListener("pagehide",g,!0)},Nd=function(J){var g=!1;return function(t){g||(J(t),g=!0)}},N0=-1,kh=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},dc=function(J){document.visibilityState==="hidden"&&N0>-1&&(N0=J.type==="visibilitychange"?J.timeStamp:0,K_())},Ih=function(){addEventListener("visibilitychange",dc,!0),addEventListener("prerenderingchange",dc,!0)},K_=function(){removeEventListener("visibilitychange",dc,!0),removeEventListener("prerenderingchange",dc,!0)},jd=function(){return N0<0&&(N0=kh(),Ih(),z0(function(){setTimeout(function(){N0=kh(),Ih()},0)})),{get firstHiddenTime(){return N0}}},uc=function(J){document.prerendering?addEventListener("prerenderingchange",function(){return J()},!0):J()},Dh=[1800,3e3],Ah=function(J,g){g=g||{},uc(function(){var t,n=jd(),o=ps("FCP"),c=cc("paint",function(d){d.forEach(function(u){u.name==="first-contentful-paint"&&(c.disconnect(),u.startTime<n.firstHiddenTime&&(o.value=Math.max(u.startTime-lc(),0),o.entries.push(u),t(!0)))})});c&&(t=ms(J,o,Dh,g.reportAllChanges),z0(function(d){o=ps("FCP"),t=ms(J,o,Dh,g.reportAllChanges),Od(function(){o.value=performance.now()-d.timeStamp,t(!0)})}))})},Mh=[.1,.25],$_=function(J,g){g=g||{},Ah(Nd(function(){var t,n=ps("CLS",0),o=0,c=[],d=function(k){k.forEach(function(P){if(!P.hadRecentInput){var S=c[0],R=c[c.length-1];o&&P.startTime-R.startTime<1e3&&P.startTime-S.startTime<5e3?(o+=P.value,c.push(P)):(o=P.value,c=[P])}}),o>n.value&&(n.value=o,n.entries=c,t())},u=cc("layout-shift",d);u&&(t=ms(J,n,Mh,g.reportAllChanges),zd(function(){d(u.takeRecords()),t(!0)}),z0(function(){o=0,n=ps("CLS",0),t=ms(J,n,Mh,g.reportAllChanges),Od(function(){return t()})}),setTimeout(t,0))}))},yl={passive:!0,capture:!0},Q_=new Date,Bh=function(J,g){t0||(t0=g,vl=J,Eh=new Date,Fh(removeEventListener),Lh())},Lh=function(){if(vl>=0&&vl<Eh-Q_){var J={entryType:"first-input",name:t0.type,target:t0.target,cancelable:t0.cancelable,startTime:t0.timeStamp,processingStart:t0.timeStamp+vl};sc.forEach(function(g){g(J)}),sc=[]}},e4=function(J){if(J.cancelable){var g=(J.timeStamp>1e12?new Date:performance.now())-J.timeStamp;J.type=="pointerdown"?function(t,n){var o=function(){Bh(t,n),d()},c=function(){d()},d=function(){removeEventListener("pointerup",o,yl),removeEventListener("pointercancel",c,yl)};addEventListener("pointerup",o,yl),addEventListener("pointercancel",c,yl)}(g,J):Bh(g,J)}},Fh=function(J){["mousedown","keydown","touchstart","pointerdown"].forEach(function(g){return J(g,e4,yl)})},Oh=[100,300],t4=function(J,g){g=g||{},uc(function(){var t,n=jd(),o=ps("FID"),c=function(k){k.startTime<n.firstHiddenTime&&(o.value=k.processingStart-k.startTime,o.entries.push(k),t(!0))},d=function(k){k.forEach(c)},u=cc("first-input",d);t=ms(J,o,Oh,g.reportAllChanges),u&&zd(Nd(function(){d(u.takeRecords()),u.disconnect()})),u&&z0(function(){var k;o=ps("FID"),t=ms(J,o,Oh,g.reportAllChanges),sc=[],vl=-1,t0=null,Fh(addEventListener),k=c,sc.push(k),Lh()})})},zh=[2500,4e3],Ud={},i4=function(J,g){g=g||{},uc(function(){var t,n=jd(),o=ps("LCP"),c=function(k){var P=k[k.length-1];P&&P.startTime<n.firstHiddenTime&&(o.value=Math.max(P.startTime-lc(),0),o.entries=[P],t())},d=cc("largest-contentful-paint",c);if(d){t=ms(J,o,zh,g.reportAllChanges);var u=Nd(function(){Ud[o.id]||(c(d.takeRecords()),d.disconnect(),Ud[o.id]=!0,t(!0))});["keydown","click"].forEach(function(k){addEventListener(k,u,!0)}),zd(u),z0(function(k){o=ps("LCP"),t=ms(J,o,zh,g.reportAllChanges),Od(function(){o.value=performance.now()-k.timeStamp,Ud[o.id]=!0,t(!0)})})}})},Nh=[800,1800],n4=function J(g){document.prerendering?uc(function(){return J(g)}):document.readyState!=="complete"?addEventListener("load",function(){return J(g)},!0):setTimeout(g,0)},r4=function(J,g){g=g||{};var t=ps("TTFB"),n=ms(J,t,Nh,g.reportAllChanges);n4(function(){var o=Fd();if(o){var c=o.responseStart;if(c<=0||c>performance.now())return;t.value=Math.max(c-lc(),0),t.entries=[o],n(!0),z0(function(){t=ps("TTFB",0),(n=ms(J,t,Nh,g.reportAllChanges))(!0)})}})};class a4 extends Ms{constructor(g){super(g||{}),this.category=io.PERFORMANCE,this.reportUrl=g.reportUrl||"",this.performanceData={},this.saveData=this.saveData.bind(this),Ah(this.saveData),t4(this.saveData),i4(this.saveData),$_(this.saveData),r4(this.saveData)}saveData(g){this.performanceData[g.name]=g.value,g.name==="LCP"&&this.record(this.performanceData)}record(g){this.msg=g,this.recordError()}}const o4="textkey",jh="common_a",s4=/((<(A|B|BUTTON|DIV|H1|H2|H3|H4|H5|H6|P|IMG|SPAN|TABLE|TD|TEXTAREA|VIDEO)([^<>])*>)([^<>])+(<\/(A|B|BUTTON|DIV|H1|H2|H3|H4|H5|H6|P|IMG|SPAN|TABLE|TD|TEXTAREA|VIDEO)>)|(<(IMG|VIDEO)(.)+>))/i,Uh=20;function Hh(J){var g=J.nodeName,t="";if(J.hasAttribute("data-monitor")&&J.getAttribute("data-monitor"))return t=J.getAttribute("data-monitor"),`${t}`.slice(0,Uh);var n=J.outerHTML.match(s4);if(n&&n.length>0)switch(g){case"IMG":t=J.getAttribute("alt");break;default:t=n[0].match(/>[^<>]+<\//)?n[0].match(/>[^<>]+<\//)[0]:"",t=t.replace(/[^A-Za-z0-9\u4e00-\u9fa5]/g,"");break}return`${t}`.slice(0,Uh)}class l4 extends Ms{constructor(g){super(g||{}),this.category=io.BUSINESS,this.reportUrl=g.reportUrl||"";const t=g.keyName||o4,n=this;window.addEventListener("click",function(o){let c=o.target;if(!c)return!1;let d=c.getAttribute(t),u=c.getAttribute("link")||c.getAttribute("href");if(d||u){const k={textKey:d||jh};u&&(k.h=u);const P=Hh(c);P&&(k.text=P),n.record(k)}else{for(;!d&&!u&&c.parentNode;)c=c.parentNode,c.getAttribute&&(d=c.getAttribute(t),u=c.getAttribute("link")||c.getAttribute("href"));if(d||u){const k={textKey:d||jh};u&&(k.h=u);const P=Hh(c);P&&(k.text=P),n.record(k)}}})}record(g){this.msg=g,this.recordError()}}class c4 extends Ms{constructor(g){super(g||{}),this.category=io.BUSINESS,this.reportUrl=g.reportUrl||""}record(g){this.msg=g,this.recordError()}}Date.prototype.format=function(J){let g={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(J)&&(J=J.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(J)&&(J=J.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+t[this.getDay()+""]));for(let n in g)new RegExp("("+n+")").test(J)&&(J=J.replace(RegExp.$1,RegExp.$1.length==1?g[n]:("00"+g[n]).substr((""+g[n]).length)));return J};class d4{constructor(g){this.jsError=!0,this.promiseError=!0,this.resourceError=!0,this.ajaxError=!0,this.ajaxDomain=null,this.isReportHref=!1,this.consoleError=!1,g=g||{},this.jsError=g.jsError!==!1,this.promiseError=g.promiseError!==!1,this.resourceError=g.resourceError!==!1,this.consoleError=g.consoleError===!0,this.ajaxError=g.ajaxError!==!1,this.ajaxDomain=g.ajaxDomain||this.ajaxDomain,this.isReportHref=g.isReportHref||this.isReportHref,this.business=g.business!==!1,this.reportUrl=g.url,this.performace=g.performace!==!1,this.extendsInfo=g.extendsInfo||{};let t={reportUrl:this.reportUrl,extendsInfo:this.extendsInfo};if(this.jsError&&new X_(t).handleError(),this.promiseError&&new q_(t).handleError(),this.resourceError&&new J_(t).handleError(),this.ajaxError){let n=Object.assign({},t,{ajaxDomain:this.ajaxDomain});new W_(n).handleError()}this.consoleError&&new Y_(t).handleError(),this.performace&&new a4(t),this.business&&new l4(t),this.manual=new c4(t)}report(g){return!1==="object"?(console.log("输入参数不正确"),!1):(this.manual&&this.manual.record(g),this)}}var u4="https://log.ys7.com/statistics.do/opensdk_ezuikit";window.monitorExtendsInfo={},window.ezuikitMonitor=new d4({ajaxDomain:["open.ys7.com",".ezvizlife.com"],url:u4,extendsInfo:{v:N_.version,getDynamic:function(){return window.monitorExtendsInfo}}});var Vh={Core:Zn,HLS:Xo,FLV:Qs,EZUIKitPlayer:bh,EZUIKitHD:C_,EZWebRtc:P_};return window.EZUIKit=Vh,Vh})})(rd,rd.exports);var Ib=rd.exports;const Db=kb(Ib);function Hp(s,x){return function(){return s.apply(x,arguments)}}const{toString:Ab}=Object.prototype,{getPrototypeOf:jf}=Object,yd=(s=>x=>{const I=Ab.call(x);return s[I]||(s[I]=I.slice(8,-1).toLowerCase())})(Object.create(null)),Es=s=>(s=s.toLowerCase(),x=>yd(x)===s),bd=s=>x=>typeof x===s,{isArray:ml}=Array,Kl=bd("undefined");function Mb(s){return s!==null&&!Kl(s)&&s.constructor!==null&&!Kl(s.constructor)&&Yo(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Vp=Es("ArrayBuffer");function Bb(s){let x;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?x=ArrayBuffer.isView(s):x=s&&s.buffer&&Vp(s.buffer),x}const Lb=bd("string"),Yo=bd("function"),Gp=bd("number"),Sd=s=>s!==null&&typeof s=="object",Fb=s=>s===!0||s===!1,qc=s=>{if(yd(s)!=="object")return!1;const x=jf(s);return(x===null||x===Object.prototype||Object.getPrototypeOf(x)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Ob=Es("Date"),zb=Es("File"),Nb=Es("Blob"),jb=Es("FileList"),Ub=s=>Sd(s)&&Yo(s.pipe),Hb=s=>{let x;return s&&(typeof FormData=="function"&&s instanceof FormData||Yo(s.append)&&((x=yd(s))==="formdata"||x==="object"&&Yo(s.toString)&&s.toString()==="[object FormData]"))},Vb=Es("URLSearchParams"),Gb=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $l(s,x,{allOwnKeys:I=!1}={}){if(s===null||typeof s>"u")return;let Z,K;if(typeof s!="object"&&(s=[s]),ml(s))for(Z=0,K=s.length;Z<K;Z++)x.call(null,s[Z],Z,s);else{const Re=I?Object.getOwnPropertyNames(s):Object.keys(s),nt=Re.length;let xt;for(Z=0;Z<nt;Z++)xt=Re[Z],x.call(null,s[xt],xt,s)}}function Wp(s,x){x=x.toLowerCase();const I=Object.keys(s);let Z=I.length,K;for(;Z-- >0;)if(K=I[Z],x===K.toLowerCase())return K;return null}const Zp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yp=s=>!Kl(s)&&s!==Zp;function xf(){const{caseless:s}=Yp(this)&&this||{},x={},I=(Z,K)=>{const Re=s&&Wp(x,K)||K;qc(x[Re])&&qc(Z)?x[Re]=xf(x[Re],Z):qc(Z)?x[Re]=xf({},Z):ml(Z)?x[Re]=Z.slice():x[Re]=Z};for(let Z=0,K=arguments.length;Z<K;Z++)arguments[Z]&&$l(arguments[Z],I);return x}const Wb=(s,x,I,{allOwnKeys:Z}={})=>($l(x,(K,Re)=>{I&&Yo(K)?s[Re]=Hp(K,I):s[Re]=K},{allOwnKeys:Z}),s),Zb=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Yb=(s,x,I,Z)=>{s.prototype=Object.create(x.prototype,Z),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:x.prototype}),I&&Object.assign(s.prototype,I)},Xb=(s,x,I,Z)=>{let K,Re,nt;const xt={};if(x=x||{},s==null)return x;do{for(K=Object.getOwnPropertyNames(s),Re=K.length;Re-- >0;)nt=K[Re],(!Z||Z(nt,s,x))&&!xt[nt]&&(x[nt]=s[nt],xt[nt]=!0);s=I!==!1&&jf(s)}while(s&&(!I||I(s,x))&&s!==Object.prototype);return x},qb=(s,x,I)=>{s=String(s),(I===void 0||I>s.length)&&(I=s.length),I-=x.length;const Z=s.indexOf(x,I);return Z!==-1&&Z===I},Jb=s=>{if(!s)return null;if(ml(s))return s;let x=s.length;if(!Gp(x))return null;const I=new Array(x);for(;x-- >0;)I[x]=s[x];return I},Kb=(s=>x=>s&&x instanceof s)(typeof Uint8Array<"u"&&jf(Uint8Array)),$b=(s,x)=>{const Z=(s&&s[Symbol.iterator]).call(s);let K;for(;(K=Z.next())&&!K.done;){const Re=K.value;x.call(s,Re[0],Re[1])}},Qb=(s,x)=>{let I;const Z=[];for(;(I=s.exec(x))!==null;)Z.push(I);return Z},eS=Es("HTMLFormElement"),tS=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(I,Z,K){return Z.toUpperCase()+K}),Sx=(({hasOwnProperty:s})=>(x,I)=>s.call(x,I))(Object.prototype),iS=Es("RegExp"),Xp=(s,x)=>{const I=Object.getOwnPropertyDescriptors(s),Z={};$l(I,(K,Re)=>{let nt;(nt=x(K,Re,s))!==!1&&(Z[Re]=nt||K)}),Object.defineProperties(s,Z)},nS=s=>{Xp(s,(x,I)=>{if(Yo(s)&&["arguments","caller","callee"].indexOf(I)!==-1)return!1;const Z=s[I];if(Yo(Z)){if(x.enumerable=!1,"writable"in x){x.writable=!1;return}x.set||(x.set=()=>{throw Error("Can not rewrite read-only method '"+I+"'")})}})},rS=(s,x)=>{const I={},Z=K=>{K.forEach(Re=>{I[Re]=!0})};return ml(s)?Z(s):Z(String(s).split(x)),I},aS=()=>{},oS=(s,x)=>(s=+s,Number.isFinite(s)?s:x),Zu="abcdefghijklmnopqrstuvwxyz",Cx="0123456789",qp={DIGIT:Cx,ALPHA:Zu,ALPHA_DIGIT:Zu+Zu.toUpperCase()+Cx},sS=(s=16,x=qp.ALPHA_DIGIT)=>{let I="";const{length:Z}=x;for(;s--;)I+=x[Math.random()*Z|0];return I};function lS(s){return!!(s&&Yo(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const cS=s=>{const x=new Array(10),I=(Z,K)=>{if(Sd(Z)){if(x.indexOf(Z)>=0)return;if(!("toJSON"in Z)){x[K]=Z;const Re=ml(Z)?[]:{};return $l(Z,(nt,xt)=>{const _t=I(nt,K+1);!Kl(_t)&&(Re[xt]=_t)}),x[K]=void 0,Re}}return Z};return I(s,0)},dS=Es("AsyncFunction"),uS=s=>s&&(Sd(s)||Yo(s))&&Yo(s.then)&&Yo(s.catch),_n={isArray:ml,isArrayBuffer:Vp,isBuffer:Mb,isFormData:Hb,isArrayBufferView:Bb,isString:Lb,isNumber:Gp,isBoolean:Fb,isObject:Sd,isPlainObject:qc,isUndefined:Kl,isDate:Ob,isFile:zb,isBlob:Nb,isRegExp:iS,isFunction:Yo,isStream:Ub,isURLSearchParams:Vb,isTypedArray:Kb,isFileList:jb,forEach:$l,merge:xf,extend:Wb,trim:Gb,stripBOM:Zb,inherits:Yb,toFlatObject:Xb,kindOf:yd,kindOfTest:Es,endsWith:qb,toArray:Jb,forEachEntry:$b,matchAll:Qb,isHTMLForm:eS,hasOwnProperty:Sx,hasOwnProp:Sx,reduceDescriptors:Xp,freezeMethods:nS,toObjectSet:rS,toCamelCase:tS,noop:aS,toFiniteNumber:oS,findKey:Wp,global:Zp,isContextDefined:Yp,ALPHABET:qp,generateString:sS,isSpecCompliantForm:lS,toJSONObject:cS,isAsyncFn:dS,isThenable:uS};function Kr(s,x,I,Z,K){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",x&&(this.code=x),I&&(this.config=I),Z&&(this.request=Z),K&&(this.response=K)}_n.inherits(Kr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_n.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Jp=Kr.prototype,Kp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Kp[s]={value:s}});Object.defineProperties(Kr,Kp);Object.defineProperty(Jp,"isAxiosError",{value:!0});Kr.from=(s,x,I,Z,K,Re)=>{const nt=Object.create(Jp);return _n.toFlatObject(s,nt,function(_t){return _t!==Error.prototype},xt=>xt!=="isAxiosError"),Kr.call(nt,s.message,x,I,Z,K),nt.cause=s,nt.name=s.name,Re&&Object.assign(nt,Re),nt};const fS=null;function pf(s){return _n.isPlainObject(s)||_n.isArray(s)}function $p(s){return _n.endsWith(s,"[]")?s.slice(0,-2):s}function Tx(s,x,I){return s?s.concat(x).map(function(K,Re){return K=$p(K),!I&&Re?"["+K+"]":K}).join(I?".":""):x}function hS(s){return _n.isArray(s)&&!s.some(pf)}const xS=_n.toFlatObject(_n,{},null,function(x){return/^is[A-Z]/.test(x)});function Cd(s,x,I){if(!_n.isObject(s))throw new TypeError("target must be an object");x=x||new FormData,I=_n.toFlatObject(I,{metaTokens:!0,dots:!1,indexes:!1},!1,function(hn,Gn){return!_n.isUndefined(Gn[hn])});const Z=I.metaTokens,K=I.visitor||Wt,Re=I.dots,nt=I.indexes,_t=(I.Blob||typeof Blob<"u"&&Blob)&&_n.isSpecCompliantForm(x);if(!_n.isFunction(K))throw new TypeError("visitor must be a function");function Jt(ln){if(ln===null)return"";if(_n.isDate(ln))return ln.toISOString();if(!_t&&_n.isBlob(ln))throw new Kr("Blob is not supported. Use a Buffer instead.");return _n.isArrayBuffer(ln)||_n.isTypedArray(ln)?_t&&typeof Blob=="function"?new Blob([ln]):Buffer.from(ln):ln}function Wt(ln,hn,Gn){let Fn=ln;if(ln&&!Gn&&typeof ln=="object"){if(_n.endsWith(hn,"{}"))hn=Z?hn:hn.slice(0,-2),ln=JSON.stringify(ln);else if(_n.isArray(ln)&&hS(ln)||(_n.isFileList(ln)||_n.endsWith(hn,"[]"))&&(Fn=_n.toArray(ln)))return hn=$p(hn),Fn.forEach(function(vr,qn){!(_n.isUndefined(vr)||vr===null)&&x.append(nt===!0?Tx([hn],qn,Re):nt===null?hn:hn+"[]",Jt(vr))}),!1}return pf(ln)?!0:(x.append(Tx(Gn,hn,Re),Jt(ln)),!1)}const ei=[],Mi=Object.assign(xS,{defaultVisitor:Wt,convertValue:Jt,isVisitable:pf});function tn(ln,hn){if(!_n.isUndefined(ln)){if(ei.indexOf(ln)!==-1)throw Error("Circular reference detected in "+hn.join("."));ei.push(ln),_n.forEach(ln,function(Fn,Zn){(!(_n.isUndefined(Fn)||Fn===null)&&K.call(x,Fn,_n.isString(Zn)?Zn.trim():Zn,hn,Mi))===!0&&tn(Fn,hn?hn.concat(Zn):[Zn])}),ei.pop()}}if(!_n.isObject(s))throw new TypeError("data must be an object");return tn(s),x}function Px(s){const x={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(Z){return x[Z]})}function Uf(s,x){this._pairs=[],s&&Cd(s,this,x)}const Qp=Uf.prototype;Qp.append=function(x,I){this._pairs.push([x,I])};Qp.toString=function(x){const I=x?function(Z){return x.call(this,Z,Px)}:Px;return this._pairs.map(function(K){return I(K[0])+"="+I(K[1])},"").join("&")};function pS(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function em(s,x,I){if(!x)return s;const Z=I&&I.encode||pS,K=I&&I.serialize;let Re;if(K?Re=K(x,I):Re=_n.isURLSearchParams(x)?x.toString():new Uf(x,I).toString(Z),Re){const nt=s.indexOf("#");nt!==-1&&(s=s.slice(0,nt)),s+=(s.indexOf("?")===-1?"?":"&")+Re}return s}class mS{constructor(){this.handlers=[]}use(x,I,Z){return this.handlers.push({fulfilled:x,rejected:I,synchronous:Z?Z.synchronous:!1,runWhen:Z?Z.runWhen:null}),this.handlers.length-1}eject(x){this.handlers[x]&&(this.handlers[x]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(x){_n.forEach(this.handlers,function(Z){Z!==null&&x(Z)})}}const wx=mS,tm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_S=typeof URLSearchParams<"u"?URLSearchParams:Uf,gS=typeof FormData<"u"?FormData:null,vS=typeof Blob<"u"?Blob:null,yS={isBrowser:!0,classes:{URLSearchParams:_S,FormData:gS,Blob:vS},protocols:["http","https","file","blob","url","data"]},im=typeof window<"u"&&typeof document<"u",bS=(s=>im&&["ReactNative","NativeScript","NS"].indexOf(s)<0)(typeof navigator<"u"&&navigator.product),SS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",CS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:im,hasStandardBrowserEnv:bS,hasStandardBrowserWebWorkerEnv:SS},Symbol.toStringTag,{value:"Module"})),Ps={...CS,...yS};function TS(s,x){return Cd(s,new Ps.classes.URLSearchParams,Object.assign({visitor:function(I,Z,K,Re){return Ps.isNode&&_n.isBuffer(I)?(this.append(Z,I.toString("base64")),!1):Re.defaultVisitor.apply(this,arguments)}},x))}function PS(s){return _n.matchAll(/\w+|\[(\w*)]/g,s).map(x=>x[0]==="[]"?"":x[1]||x[0])}function wS(s){const x={},I=Object.keys(s);let Z;const K=I.length;let Re;for(Z=0;Z<K;Z++)Re=I[Z],x[Re]=s[Re];return x}function nm(s){function x(I,Z,K,Re){let nt=I[Re++];const xt=Number.isFinite(+nt),_t=Re>=I.length;return nt=!nt&&_n.isArray(K)?K.length:nt,_t?(_n.hasOwnProp(K,nt)?K[nt]=[K[nt],Z]:K[nt]=Z,!xt):((!K[nt]||!_n.isObject(K[nt]))&&(K[nt]=[]),x(I,Z,K[nt],Re)&&_n.isArray(K[nt])&&(K[nt]=wS(K[nt])),!xt)}if(_n.isFormData(s)&&_n.isFunction(s.entries)){const I={};return _n.forEachEntry(s,(Z,K)=>{x(PS(Z),K,I,0)}),I}return null}function ES(s,x,I){if(_n.isString(s))try{return(x||JSON.parse)(s),_n.trim(s)}catch(Z){if(Z.name!=="SyntaxError")throw Z}return(I||JSON.stringify)(s)}const Hf={transitional:tm,adapter:["xhr","http"],transformRequest:[function(x,I){const Z=I.getContentType()||"",K=Z.indexOf("application/json")>-1,Re=_n.isObject(x);if(Re&&_n.isHTMLForm(x)&&(x=new FormData(x)),_n.isFormData(x))return K&&K?JSON.stringify(nm(x)):x;if(_n.isArrayBuffer(x)||_n.isBuffer(x)||_n.isStream(x)||_n.isFile(x)||_n.isBlob(x))return x;if(_n.isArrayBufferView(x))return x.buffer;if(_n.isURLSearchParams(x))return I.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),x.toString();let xt;if(Re){if(Z.indexOf("application/x-www-form-urlencoded")>-1)return TS(x,this.formSerializer).toString();if((xt=_n.isFileList(x))||Z.indexOf("multipart/form-data")>-1){const _t=this.env&&this.env.FormData;return Cd(xt?{"files[]":x}:x,_t&&new _t,this.formSerializer)}}return Re||K?(I.setContentType("application/json",!1),ES(x)):x}],transformResponse:[function(x){const I=this.transitional||Hf.transitional,Z=I&&I.forcedJSONParsing,K=this.responseType==="json";if(x&&_n.isString(x)&&(Z&&!this.responseType||K)){const nt=!(I&&I.silentJSONParsing)&&K;try{return JSON.parse(x)}catch(xt){if(nt)throw xt.name==="SyntaxError"?Kr.from(xt,Kr.ERR_BAD_RESPONSE,this,null,this.response):xt}}return x}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ps.classes.FormData,Blob:Ps.classes.Blob},validateStatus:function(x){return x>=200&&x<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_n.forEach(["delete","get","head","post","put","patch"],s=>{Hf.headers[s]={}});const Vf=Hf,RS=_n.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kS=s=>{const x={};let I,Z,K;return s&&s.split(`
`).forEach(function(nt){K=nt.indexOf(":"),I=nt.substring(0,K).trim().toLowerCase(),Z=nt.substring(K+1).trim(),!(!I||x[I]&&RS[I])&&(I==="set-cookie"?x[I]?x[I].push(Z):x[I]=[Z]:x[I]=x[I]?x[I]+", "+Z:Z)}),x},Ex=Symbol("internals");function Ol(s){return s&&String(s).trim().toLowerCase()}function Jc(s){return s===!1||s==null?s:_n.isArray(s)?s.map(Jc):String(s)}function IS(s){const x=Object.create(null),I=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Z;for(;Z=I.exec(s);)x[Z[1]]=Z[2];return x}const DS=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Yu(s,x,I,Z,K){if(_n.isFunction(Z))return Z.call(this,x,I);if(K&&(x=I),!!_n.isString(x)){if(_n.isString(Z))return x.indexOf(Z)!==-1;if(_n.isRegExp(Z))return Z.test(x)}}function AS(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(x,I,Z)=>I.toUpperCase()+Z)}function MS(s,x){const I=_n.toCamelCase(" "+x);["get","set","has"].forEach(Z=>{Object.defineProperty(s,Z+I,{value:function(K,Re,nt){return this[Z].call(this,x,K,Re,nt)},configurable:!0})})}class Td{constructor(x){x&&this.set(x)}set(x,I,Z){const K=this;function Re(xt,_t,Jt){const Wt=Ol(_t);if(!Wt)throw new Error("header name must be a non-empty string");const ei=_n.findKey(K,Wt);(!ei||K[ei]===void 0||Jt===!0||Jt===void 0&&K[ei]!==!1)&&(K[ei||_t]=Jc(xt))}const nt=(xt,_t)=>_n.forEach(xt,(Jt,Wt)=>Re(Jt,Wt,_t));return _n.isPlainObject(x)||x instanceof this.constructor?nt(x,I):_n.isString(x)&&(x=x.trim())&&!DS(x)?nt(kS(x),I):x!=null&&Re(I,x,Z),this}get(x,I){if(x=Ol(x),x){const Z=_n.findKey(this,x);if(Z){const K=this[Z];if(!I)return K;if(I===!0)return IS(K);if(_n.isFunction(I))return I.call(this,K,Z);if(_n.isRegExp(I))return I.exec(K);throw new TypeError("parser must be boolean|regexp|function")}}}has(x,I){if(x=Ol(x),x){const Z=_n.findKey(this,x);return!!(Z&&this[Z]!==void 0&&(!I||Yu(this,this[Z],Z,I)))}return!1}delete(x,I){const Z=this;let K=!1;function Re(nt){if(nt=Ol(nt),nt){const xt=_n.findKey(Z,nt);xt&&(!I||Yu(Z,Z[xt],xt,I))&&(delete Z[xt],K=!0)}}return _n.isArray(x)?x.forEach(Re):Re(x),K}clear(x){const I=Object.keys(this);let Z=I.length,K=!1;for(;Z--;){const Re=I[Z];(!x||Yu(this,this[Re],Re,x,!0))&&(delete this[Re],K=!0)}return K}normalize(x){const I=this,Z={};return _n.forEach(this,(K,Re)=>{const nt=_n.findKey(Z,Re);if(nt){I[nt]=Jc(K),delete I[Re];return}const xt=x?AS(Re):String(Re).trim();xt!==Re&&delete I[Re],I[xt]=Jc(K),Z[xt]=!0}),this}concat(...x){return this.constructor.concat(this,...x)}toJSON(x){const I=Object.create(null);return _n.forEach(this,(Z,K)=>{Z!=null&&Z!==!1&&(I[K]=x&&_n.isArray(Z)?Z.join(", "):Z)}),I}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([x,I])=>x+": "+I).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(x){return x instanceof this?x:new this(x)}static concat(x,...I){const Z=new this(x);return I.forEach(K=>Z.set(K)),Z}static accessor(x){const Z=(this[Ex]=this[Ex]={accessors:{}}).accessors,K=this.prototype;function Re(nt){const xt=Ol(nt);Z[xt]||(MS(K,nt),Z[xt]=!0)}return _n.isArray(x)?x.forEach(Re):Re(x),this}}Td.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_n.reduceDescriptors(Td.prototype,({value:s},x)=>{let I=x[0].toUpperCase()+x.slice(1);return{get:()=>s,set(Z){this[I]=Z}}});_n.freezeMethods(Td);const Ks=Td;function Xu(s,x){const I=this||Vf,Z=x||I,K=Ks.from(Z.headers);let Re=Z.data;return _n.forEach(s,function(xt){Re=xt.call(I,Re,K.normalize(),x?x.status:void 0)}),K.normalize(),Re}function rm(s){return!!(s&&s.__CANCEL__)}function Ql(s,x,I){Kr.call(this,s??"canceled",Kr.ERR_CANCELED,x,I),this.name="CanceledError"}_n.inherits(Ql,Kr,{__CANCEL__:!0});function BS(s,x,I){const Z=I.config.validateStatus;!I.status||!Z||Z(I.status)?s(I):x(new Kr("Request failed with status code "+I.status,[Kr.ERR_BAD_REQUEST,Kr.ERR_BAD_RESPONSE][Math.floor(I.status/100)-4],I.config,I.request,I))}const LS=Ps.hasStandardBrowserEnv?{write(s,x,I,Z,K,Re){const nt=[s+"="+encodeURIComponent(x)];_n.isNumber(I)&&nt.push("expires="+new Date(I).toGMTString()),_n.isString(Z)&&nt.push("path="+Z),_n.isString(K)&&nt.push("domain="+K),Re===!0&&nt.push("secure"),document.cookie=nt.join("; ")},read(s){const x=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return x?decodeURIComponent(x[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function FS(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function OS(s,x){return x?s.replace(/\/?\/$/,"")+"/"+x.replace(/^\/+/,""):s}function am(s,x){return s&&!FS(x)?OS(s,x):x}const zS=Ps.hasStandardBrowserEnv?function(){const x=/(msie|trident)/i.test(navigator.userAgent),I=document.createElement("a");let Z;function K(Re){let nt=Re;return x&&(I.setAttribute("href",nt),nt=I.href),I.setAttribute("href",nt),{href:I.href,protocol:I.protocol?I.protocol.replace(/:$/,""):"",host:I.host,search:I.search?I.search.replace(/^\?/,""):"",hash:I.hash?I.hash.replace(/^#/,""):"",hostname:I.hostname,port:I.port,pathname:I.pathname.charAt(0)==="/"?I.pathname:"/"+I.pathname}}return Z=K(window.location.href),function(nt){const xt=_n.isString(nt)?K(nt):nt;return xt.protocol===Z.protocol&&xt.host===Z.host}}():function(){return function(){return!0}}();function NS(s){const x=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return x&&x[1]||""}function jS(s,x){s=s||10;const I=new Array(s),Z=new Array(s);let K=0,Re=0,nt;return x=x!==void 0?x:1e3,function(_t){const Jt=Date.now(),Wt=Z[Re];nt||(nt=Jt),I[K]=_t,Z[K]=Jt;let ei=Re,Mi=0;for(;ei!==K;)Mi+=I[ei++],ei=ei%s;if(K=(K+1)%s,K===Re&&(Re=(Re+1)%s),Jt-nt<x)return;const tn=Wt&&Jt-Wt;return tn?Math.round(Mi*1e3/tn):void 0}}function Rx(s,x){let I=0;const Z=jS(50,250);return K=>{const Re=K.loaded,nt=K.lengthComputable?K.total:void 0,xt=Re-I,_t=Z(xt),Jt=Re<=nt;I=Re;const Wt={loaded:Re,total:nt,progress:nt?Re/nt:void 0,bytes:xt,rate:_t||void 0,estimated:_t&&nt&&Jt?(nt-Re)/_t:void 0,event:K};Wt[x?"download":"upload"]=!0,s(Wt)}}const US=typeof XMLHttpRequest<"u",HS=US&&function(s){return new Promise(function(I,Z){let K=s.data;const Re=Ks.from(s.headers).normalize();let{responseType:nt,withXSRFToken:xt}=s,_t;function Jt(){s.cancelToken&&s.cancelToken.unsubscribe(_t),s.signal&&s.signal.removeEventListener("abort",_t)}let Wt;if(_n.isFormData(K)){if(Ps.hasStandardBrowserEnv||Ps.hasStandardBrowserWebWorkerEnv)Re.setContentType(!1);else if((Wt=Re.getContentType())!==!1){const[hn,...Gn]=Wt?Wt.split(";").map(Fn=>Fn.trim()).filter(Boolean):[];Re.setContentType([hn||"multipart/form-data",...Gn].join("; "))}}let ei=new XMLHttpRequest;if(s.auth){const hn=s.auth.username||"",Gn=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";Re.set("Authorization","Basic "+btoa(hn+":"+Gn))}const Mi=am(s.baseURL,s.url);ei.open(s.method.toUpperCase(),em(Mi,s.params,s.paramsSerializer),!0),ei.timeout=s.timeout;function tn(){if(!ei)return;const hn=Ks.from("getAllResponseHeaders"in ei&&ei.getAllResponseHeaders()),Fn={data:!nt||nt==="text"||nt==="json"?ei.responseText:ei.response,status:ei.status,statusText:ei.statusText,headers:hn,config:s,request:ei};BS(function(vr){I(vr),Jt()},function(vr){Z(vr),Jt()},Fn),ei=null}if("onloadend"in ei?ei.onloadend=tn:ei.onreadystatechange=function(){!ei||ei.readyState!==4||ei.status===0&&!(ei.responseURL&&ei.responseURL.indexOf("file:")===0)||setTimeout(tn)},ei.onabort=function(){ei&&(Z(new Kr("Request aborted",Kr.ECONNABORTED,s,ei)),ei=null)},ei.onerror=function(){Z(new Kr("Network Error",Kr.ERR_NETWORK,s,ei)),ei=null},ei.ontimeout=function(){let Gn=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const Fn=s.transitional||tm;s.timeoutErrorMessage&&(Gn=s.timeoutErrorMessage),Z(new Kr(Gn,Fn.clarifyTimeoutError?Kr.ETIMEDOUT:Kr.ECONNABORTED,s,ei)),ei=null},Ps.hasStandardBrowserEnv&&(xt&&_n.isFunction(xt)&&(xt=xt(s)),xt||xt!==!1&&zS(Mi))){const hn=s.xsrfHeaderName&&s.xsrfCookieName&&LS.read(s.xsrfCookieName);hn&&Re.set(s.xsrfHeaderName,hn)}K===void 0&&Re.setContentType(null),"setRequestHeader"in ei&&_n.forEach(Re.toJSON(),function(Gn,Fn){ei.setRequestHeader(Fn,Gn)}),_n.isUndefined(s.withCredentials)||(ei.withCredentials=!!s.withCredentials),nt&&nt!=="json"&&(ei.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&ei.addEventListener("progress",Rx(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&ei.upload&&ei.upload.addEventListener("progress",Rx(s.onUploadProgress)),(s.cancelToken||s.signal)&&(_t=hn=>{ei&&(Z(!hn||hn.type?new Ql(null,s,ei):hn),ei.abort(),ei=null)},s.cancelToken&&s.cancelToken.subscribe(_t),s.signal&&(s.signal.aborted?_t():s.signal.addEventListener("abort",_t)));const ln=NS(Mi);if(ln&&Ps.protocols.indexOf(ln)===-1){Z(new Kr("Unsupported protocol "+ln+":",Kr.ERR_BAD_REQUEST,s));return}ei.send(K||null)})},mf={http:fS,xhr:HS};_n.forEach(mf,(s,x)=>{if(s){try{Object.defineProperty(s,"name",{value:x})}catch{}Object.defineProperty(s,"adapterName",{value:x})}});const kx=s=>`- ${s}`,VS=s=>_n.isFunction(s)||s===null||s===!1,om={getAdapter:s=>{s=_n.isArray(s)?s:[s];const{length:x}=s;let I,Z;const K={};for(let Re=0;Re<x;Re++){I=s[Re];let nt;if(Z=I,!VS(I)&&(Z=mf[(nt=String(I)).toLowerCase()],Z===void 0))throw new Kr(`Unknown adapter '${nt}'`);if(Z)break;K[nt||"#"+Re]=Z}if(!Z){const Re=Object.entries(K).map(([xt,_t])=>`adapter ${xt} `+(_t===!1?"is not supported by the environment":"is not available in the build"));let nt=x?Re.length>1?`since :
`+Re.map(kx).join(`
`):" "+kx(Re[0]):"as no adapter specified";throw new Kr("There is no suitable adapter to dispatch the request "+nt,"ERR_NOT_SUPPORT")}return Z},adapters:mf};function qu(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ql(null,s)}function Ix(s){return qu(s),s.headers=Ks.from(s.headers),s.data=Xu.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),om.getAdapter(s.adapter||Vf.adapter)(s).then(function(Z){return qu(s),Z.data=Xu.call(s,s.transformResponse,Z),Z.headers=Ks.from(Z.headers),Z},function(Z){return rm(Z)||(qu(s),Z&&Z.response&&(Z.response.data=Xu.call(s,s.transformResponse,Z.response),Z.response.headers=Ks.from(Z.response.headers))),Promise.reject(Z)})}const Dx=s=>s instanceof Ks?s.toJSON():s;function ul(s,x){x=x||{};const I={};function Z(Jt,Wt,ei){return _n.isPlainObject(Jt)&&_n.isPlainObject(Wt)?_n.merge.call({caseless:ei},Jt,Wt):_n.isPlainObject(Wt)?_n.merge({},Wt):_n.isArray(Wt)?Wt.slice():Wt}function K(Jt,Wt,ei){if(_n.isUndefined(Wt)){if(!_n.isUndefined(Jt))return Z(void 0,Jt,ei)}else return Z(Jt,Wt,ei)}function Re(Jt,Wt){if(!_n.isUndefined(Wt))return Z(void 0,Wt)}function nt(Jt,Wt){if(_n.isUndefined(Wt)){if(!_n.isUndefined(Jt))return Z(void 0,Jt)}else return Z(void 0,Wt)}function xt(Jt,Wt,ei){if(ei in x)return Z(Jt,Wt);if(ei in s)return Z(void 0,Jt)}const _t={url:Re,method:Re,data:Re,baseURL:nt,transformRequest:nt,transformResponse:nt,paramsSerializer:nt,timeout:nt,timeoutMessage:nt,withCredentials:nt,withXSRFToken:nt,adapter:nt,responseType:nt,xsrfCookieName:nt,xsrfHeaderName:nt,onUploadProgress:nt,onDownloadProgress:nt,decompress:nt,maxContentLength:nt,maxBodyLength:nt,beforeRedirect:nt,transport:nt,httpAgent:nt,httpsAgent:nt,cancelToken:nt,socketPath:nt,responseEncoding:nt,validateStatus:xt,headers:(Jt,Wt)=>K(Dx(Jt),Dx(Wt),!0)};return _n.forEach(Object.keys(Object.assign({},s,x)),function(Wt){const ei=_t[Wt]||K,Mi=ei(s[Wt],x[Wt],Wt);_n.isUndefined(Mi)&&ei!==xt||(I[Wt]=Mi)}),I}const sm="1.6.3",Gf={};["object","boolean","number","function","string","symbol"].forEach((s,x)=>{Gf[s]=function(Z){return typeof Z===s||"a"+(x<1?"n ":" ")+s}});const Ax={};Gf.transitional=function(x,I,Z){function K(Re,nt){return"[Axios v"+sm+"] Transitional option '"+Re+"'"+nt+(Z?". "+Z:"")}return(Re,nt,xt)=>{if(x===!1)throw new Kr(K(nt," has been removed"+(I?" in "+I:"")),Kr.ERR_DEPRECATED);return I&&!Ax[nt]&&(Ax[nt]=!0,console.warn(K(nt," has been deprecated since v"+I+" and will be removed in the near future"))),x?x(Re,nt,xt):!0}};function GS(s,x,I){if(typeof s!="object")throw new Kr("options must be an object",Kr.ERR_BAD_OPTION_VALUE);const Z=Object.keys(s);let K=Z.length;for(;K-- >0;){const Re=Z[K],nt=x[Re];if(nt){const xt=s[Re],_t=xt===void 0||nt(xt,Re,s);if(_t!==!0)throw new Kr("option "+Re+" must be "+_t,Kr.ERR_BAD_OPTION_VALUE);continue}if(I!==!0)throw new Kr("Unknown option "+Re,Kr.ERR_BAD_OPTION)}}const _f={assertOptions:GS,validators:Gf},u0=_f.validators;class ad{constructor(x){this.defaults=x,this.interceptors={request:new wx,response:new wx}}request(x,I){typeof x=="string"?(I=I||{},I.url=x):I=x||{},I=ul(this.defaults,I);const{transitional:Z,paramsSerializer:K,headers:Re}=I;Z!==void 0&&_f.assertOptions(Z,{silentJSONParsing:u0.transitional(u0.boolean),forcedJSONParsing:u0.transitional(u0.boolean),clarifyTimeoutError:u0.transitional(u0.boolean)},!1),K!=null&&(_n.isFunction(K)?I.paramsSerializer={serialize:K}:_f.assertOptions(K,{encode:u0.function,serialize:u0.function},!0)),I.method=(I.method||this.defaults.method||"get").toLowerCase();let nt=Re&&_n.merge(Re.common,Re[I.method]);Re&&_n.forEach(["delete","get","head","post","put","patch","common"],ln=>{delete Re[ln]}),I.headers=Ks.concat(nt,Re);const xt=[];let _t=!0;this.interceptors.request.forEach(function(hn){typeof hn.runWhen=="function"&&hn.runWhen(I)===!1||(_t=_t&&hn.synchronous,xt.unshift(hn.fulfilled,hn.rejected))});const Jt=[];this.interceptors.response.forEach(function(hn){Jt.push(hn.fulfilled,hn.rejected)});let Wt,ei=0,Mi;if(!_t){const ln=[Ix.bind(this),void 0];for(ln.unshift.apply(ln,xt),ln.push.apply(ln,Jt),Mi=ln.length,Wt=Promise.resolve(I);ei<Mi;)Wt=Wt.then(ln[ei++],ln[ei++]);return Wt}Mi=xt.length;let tn=I;for(ei=0;ei<Mi;){const ln=xt[ei++],hn=xt[ei++];try{tn=ln(tn)}catch(Gn){hn.call(this,Gn);break}}try{Wt=Ix.call(this,tn)}catch(ln){return Promise.reject(ln)}for(ei=0,Mi=Jt.length;ei<Mi;)Wt=Wt.then(Jt[ei++],Jt[ei++]);return Wt}getUri(x){x=ul(this.defaults,x);const I=am(x.baseURL,x.url);return em(I,x.params,x.paramsSerializer)}}_n.forEach(["delete","get","head","options"],function(x){ad.prototype[x]=function(I,Z){return this.request(ul(Z||{},{method:x,url:I,data:(Z||{}).data}))}});_n.forEach(["post","put","patch"],function(x){function I(Z){return function(Re,nt,xt){return this.request(ul(xt||{},{method:x,headers:Z?{"Content-Type":"multipart/form-data"}:{},url:Re,data:nt}))}}ad.prototype[x]=I(),ad.prototype[x+"Form"]=I(!0)});const Kc=ad;class Wf{constructor(x){if(typeof x!="function")throw new TypeError("executor must be a function.");let I;this.promise=new Promise(function(Re){I=Re});const Z=this;this.promise.then(K=>{if(!Z._listeners)return;let Re=Z._listeners.length;for(;Re-- >0;)Z._listeners[Re](K);Z._listeners=null}),this.promise.then=K=>{let Re;const nt=new Promise(xt=>{Z.subscribe(xt),Re=xt}).then(K);return nt.cancel=function(){Z.unsubscribe(Re)},nt},x(function(Re,nt,xt){Z.reason||(Z.reason=new Ql(Re,nt,xt),I(Z.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(x){if(this.reason){x(this.reason);return}this._listeners?this._listeners.push(x):this._listeners=[x]}unsubscribe(x){if(!this._listeners)return;const I=this._listeners.indexOf(x);I!==-1&&this._listeners.splice(I,1)}static source(){let x;return{token:new Wf(function(K){x=K}),cancel:x}}}const WS=Wf;function ZS(s){return function(I){return s.apply(null,I)}}function YS(s){return _n.isObject(s)&&s.isAxiosError===!0}const gf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gf).forEach(([s,x])=>{gf[x]=s});const XS=gf;function lm(s){const x=new Kc(s),I=Hp(Kc.prototype.request,x);return _n.extend(I,Kc.prototype,x,{allOwnKeys:!0}),_n.extend(I,x,null,{allOwnKeys:!0}),I.create=function(K){return lm(ul(s,K))},I}const Ha=lm(Vf);Ha.Axios=Kc;Ha.CanceledError=Ql;Ha.CancelToken=WS;Ha.isCancel=rm;Ha.VERSION=sm;Ha.toFormData=Cd;Ha.AxiosError=Kr;Ha.Cancel=Ha.CanceledError;Ha.all=function(x){return Promise.all(x)};Ha.spread=ZS;Ha.isAxiosError=YS;Ha.mergeConfig=ul;Ha.AxiosHeaders=Ks;Ha.formToJSON=s=>nm(_n.isHTMLForm(s)?new FormData(s):s);Ha.getAdapter=om.getAdapter;Ha.HttpStatusCode=XS;Ha.default=Ha;const Mx=Ha,Zf=s=>(G8("data-v-e87458e7"),s=s(),W8(),s),qS={style:{background:"#000",width:"100vw","min-height":"100vh","padding-top":"30px"}},JS={class:"top"},KS={style:{display:"flex"}},$S=Zf(()=>Jr("img",{src:wb,alt:"",class:"avator"},null,-1)),QS=Zf(()=>Jr("div",null,[Jr("img",{src:Eb,alt:"",width:"28px"})],-1)),e7={class:"content"},t7={key:0,class:"img1Container"},i7=["src","onClick"],n7={class:"title"},r7={class:"title_title"},a7={class:"title_detail"},o7={key:1,class:"img2Container"},s7=["src","onClick"],l7={class:"title"},c7={class:"title_title"},d7={class:"title_detail"},u7={class:"phoneContainer"},f7={class:"phone"},h7={class:"videoModal"},x7=Zf(()=>Jr("div",{id:"playWind1",class:"player"},null,-1)),p7={__name:"HomeView",setup(s){const x=K0(!0),I=K0(),Z=K0("未登录"),K=K0(),Re=localStorage.getItem("phoneNumber");Z.value=Re??"未登录",Re!=null&&(x.value=!1),Z.value=Re??"未登录",Re!==void 0&&(x.value=!1);const nt=()=>{x.value=!0,I.value=Z.value=="未登录"?"":Z.value},xt=()=>{const Mi=`https://fc.mayizuanqian.com/getVideos?phone=${Z.value}`;Mx.get(Mi).then(tn=>{console.log(tn),K.value=tn.data.data}).catch(tn=>{})};xt();const _t=()=>{const Mi=`https://fc.mayizuanqian.com/getVideos?phone=${I.value}`;Mx.get(Mi).then(tn=>{console.log(tn.data),tn.data.code=="0"?(Z.value=I.value,localStorage.setItem("phoneNumber",I.value),x.value=!1,xt()):(alert("手机号不存在"),tn.data.data.message=="手机号不合法"?alert("手机号不合法,请重新输入"):console.log(tn.data)),K.value=tn.data.data}).catch(tn=>{})},Jt=K0(!1),Wt=Mi=>{Jt.value=!0;var tn=document.documentElement.clientWidth,ln=document.documentElement.clientWidth*9/16;let hn;const Gn=(Fn,Zn,vr)=>(hn=new Db.EZUIKitPlayer({id:Fn,useHardDev:!0,width:tn,height:ln,template:"c064bc45dd0b4d27ba16d7835199f85d",url:Zn,accessToken:vr}),hn);document.getElementById("playWind1"),window.EZOPENDemo1=Gn("playWind1",Mi.url,Mi.accessToken)},ei=()=>{Jt.value=!1};return(Mi,tn)=>($0(),Ml(rs,null,[Jr("div",qS,[Jr("div",JS,[Jr("div",null,[Jr("div",KS,[$S,Jr("div",{class:"tip",onClick:nt},Al(Z.value),1)])]),QS]),Jr("div",e7,[($0(!0),Ml(rs,null,h6(K.value,(ln,hn)=>($0(),Ml("div",{key:hn,style:cd({width:(hn===0?100:43)+"vw"})},[hn==0?($0(),Ml("div",t7,[Jr("img",{src:ln.imageUlr,alt:"",class:"img1",onClick:Gn=>Wt(ln)},null,8,i7),Jr("div",n7,[Jr("div",null,[Jr("div",r7,Al(ln.channelName),1),Jr("div",a7,Al(ln.shootTime),1)]),Jr("div",null,[Jr("img",{src:bx,alt:"",class:"jiantou",onClick:Wt})])])])):($0(),Ml("div",o7,[Jr("img",{src:ln.imageUlr,alt:"",class:"img1",onClick:Gn=>Wt(ln)},null,8,s7),Jr("div",l7,[Jr("div",null,[Jr("div",c7,Al(ln.channelName),1),Jr("div",d7,Al(ln.shootTime),1)]),Jr("div",null,[Jr("img",{src:bx,alt:"",class:"jiantou",onClick:Wt})])])]))],4))),128))])]),Fu(Jr("div",u7,[Jr("div",f7,[Fu(Jr("input",{type:"text",placeholder:"请输入手机号","onUpdate:modelValue":tn[0]||(tn[0]=ln=>I.value=ln)},null,512),[[x9,I.value]]),Jr("input",{type:"submit",value:"登录",onClick:_t})])],512),[[X2,x.value]]),Fu(Jr("div",h7,[Jr("div",null,[Jr("div",null,[Jr("img",{src:Rb,class:"close",alt:"",onClick:ei})]),x7])],512),[[X2,Jt.value]])],64))}},m7=Up(p7,[["__scopeId","data-v-e87458e7"]]),_7=vb({history:F9("/"),routes:[{path:"/",name:"home",component:m7},{path:"/about",name:"about",component:()=>Pb(()=>import("./AboutView-l5ef_5Mw.js"),__vite__mapDeps([0,1]))}]}),cm=_9(Sb);cm.use(_7);cm.mount("#app");export{Up as _,Jr as a,Ml as c,$0 as o};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AboutView-l5ef_5Mw.js","assets/AboutView-ug8e6cRs.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}