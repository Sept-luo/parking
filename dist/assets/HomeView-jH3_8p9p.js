import{_ as I,o as t,c as e,a as s,r as m,u as $,b as z,v as S,d as j,e as _,f as b,t as u,g as N,h as p,F as f,i as v}from"./index-COnIRHXX.js";import{I as V}from"./IconPoint-alNaNu80.js";const B="/assets/avator-nUHq_lbQ.jpg",D={},L={t:"1704313781359",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9354",width:"248",height:"248"},A=s("path",{d:"M372.134088 1004.846981a509.94041 509.94041 0 0 1-159.298198-76.821527l2.164315-103.514738a93.088793 93.088793 0 0 0-74.238313-93.088794l-101.536602-20.991523A509.428422 509.428422 0 0 1 0.011636 537.983409l82.243949-62.834935a93.088793 93.088793 0 0 0 26.507034-116.104998l-46.89348-92.390627A514.152678 514.152678 0 0 1 172.225904 128.415991l100.419536 25.133974a93.088793 93.088793 0 0 0 107.284834-51.664281l43.007023-94.252403a515.246472 515.246472 0 0 1 88.434354-7.610009c30.137497 0 59.669917 2.606486 88.411081 7.610009l43.007023 94.252403a93.088793 93.088793 0 0 0 107.284834 51.664281l100.396264-25.133974a514.152678 514.152678 0 0 1 110.356765 138.236858l-46.870208 92.390627a93.088793 93.088793 0 0 0 26.483762 116.104998l82.243949 62.834935a509.428422 509.428422 0 0 1-39.213654 172.44699l-101.51333 20.968251a93.088793 93.088793 0 0 0-74.238312 93.088793l2.141042 103.538011a509.94041 509.94041 0 0 1-159.298198 76.798255l-79.684007-66.279221a93.088793 93.088793 0 0 0-119.060567 0l-79.684007 66.302493zM511.348378 721.461421a209.449785 209.449785 0 1 0 0-418.89957 209.449785 209.449785 0 0 0 0 418.89957z",fill:"currentColor",stroke:"currentColor","p-id":"9355"},null,-1),E=[A];function F(w,c){return t(),e("svg",L,E)}const M=I(D,[["render",F]]),O={"data-theme":"cupcake",class:"bg-base-100"},P={class:"navbar shadow-sm"},q={class:"flex-none"},H={class:"btn btn-sm",onclick:"alert('目前仅开通成都市');"},R={class:"flex-1"},T=s("div",{class:"avatar"},[s("div",{class:"size-10 rounded-full"},[s("img",{src:B,alt:""})])],-1),U={class:"flex-none gap-2"},Q={class:"dropdown dropdown-end"},G={tabindex:"0",role:"button",class:"btn btn-ghost btn-circle avatar"},J={class:"btn btn-circle"},K={tabindex:"0",class:"mt-3 z-[1] p-2 shadow menu menu-lg dropdown-content bg-base-100 rounded-box w-52"},W=s("span",{class:"badge"},"New",-1),X=s("span",{class:"badge"},"看监控",-1),Y={key:0},Z={class:"flex justify-center"},ss={key:0,class:"loading loading-spinner loading-lg"},ts={class:"grid card-compact grid-flow-row-dense grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mx-3 mt-2"},es=["src"],os={class:"card-body"},as={class:"card-title text-sm"},ns=s("p",{class:"text-xs"},"距离机场约9分钟车程",-1),cs={class:"card-actions justify-end"},ls=["onClick"],_s={__name:"HomeView",setup(w){const c=m(),g=m(!0),l=$(),i=z(),k=S();function h(){l.push({name:"Profile"})}function x(){l.push({name:"CameraList"})}function y(){k.logout(),i.commit("SET_USER_INFO",null),localStorage.removeItem("userInfo"),window.location.reload()}j(()=>{});const C=async o=>{l.push({name:"Detail",params:{id:o.id}})};return(async()=>{const o=i.state.userInfo,d=o?o.token:null,a=await(await fetch("https://fc.mayizuanqian.com/get_parking_lot",{headers:d?{Authorization:`${d}`}:{}})).json();a.code===0?c.value=[...a.data,...a.data,...a.data]:alert(a.message),g.value=!1})(),(o,d)=>(t(),e("div",O,[s("div",P,[s("div",q,[s("button",H,[_("成都 "),b(V,{class:"size-5"})])]),s("div",R,[T,s("div",{class:"badge badge-secondary badge-lg ml-0",onClick:h},u(o.$store.state.userInfo&&o.$store.state.userInfo.phone||"请登录"),1)]),s("div",U,[s("div",Q,[s("div",G,[s("button",J,[b(M,{class:"text-primary-500 size-6"})])]),s("ul",K,[s("li",null,[s("button",{class:"justify-between",onClick:h},[_(" 个人中心 "),W]),s("button",{class:"justify-between",onClick:x},[_(" 订单 "),X])]),N(i).state.userInfo?(t(),e("li",Y,[s("button",{onClick:y},"退出登录")])):p("",!0)])])])]),s("div",Z,[g.value?(t(),e("span",ss)):p("",!0),s("div",ts,[(t(!0),e(f,null,v(c.value,(n,a)=>(t(),e("div",{key:a,class:"card w-full shadow-xl"},[s("figure",null,[s("img",{src:n.scene_imgs[0].url,alt:"Shoes"},null,8,es)]),s("div",os,[s("h2",as,u(n.title)+" ",1),ns,s("div",cs,[(t(!0),e(f,null,v(n.tag,r=>(t(),e("div",{key:r,class:"badge badge-accent badge-outline badge-sm"},u(r.title),1))),128)),s("button",{class:"btn btn-block btn-primary",onClick:r=>C(n)},"查看",8,ls)])])]))),128))])])]))}};export{_s as default};
