import{_ as k,o,c as a,a as s,r as y,u as C,b as I,v as $,d as z,e as _,f as g,t as u,g as S,h as j,F as m,i as b}from"./index-SnPr8iwx.js";import{I as N}from"./IconPoint-z3uPNr_r.js";const V="/assets/avator-nUHq_lbQ.jpg",B={},D={t:"1704313781359",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9354",width:"248",height:"248"},A=s("path",{d:"M372.134088 1004.846981a509.94041 509.94041 0 0 1-159.298198-76.821527l2.164315-103.514738a93.088793 93.088793 0 0 0-74.238313-93.088794l-101.536602-20.991523A509.428422 509.428422 0 0 1 0.011636 537.983409l82.243949-62.834935a93.088793 93.088793 0 0 0 26.507034-116.104998l-46.89348-92.390627A514.152678 514.152678 0 0 1 172.225904 128.415991l100.419536 25.133974a93.088793 93.088793 0 0 0 107.284834-51.664281l43.007023-94.252403a515.246472 515.246472 0 0 1 88.434354-7.610009c30.137497 0 59.669917 2.606486 88.411081 7.610009l43.007023 94.252403a93.088793 93.088793 0 0 0 107.284834 51.664281l100.396264-25.133974a514.152678 514.152678 0 0 1 110.356765 138.236858l-46.870208 92.390627a93.088793 93.088793 0 0 0 26.483762 116.104998l82.243949 62.834935a509.428422 509.428422 0 0 1-39.213654 172.44699l-101.51333 20.968251a93.088793 93.088793 0 0 0-74.238312 93.088793l2.141042 103.538011a509.94041 509.94041 0 0 1-159.298198 76.798255l-79.684007-66.279221a93.088793 93.088793 0 0 0-119.060567 0l-79.684007 66.302493zM511.348378 721.461421a209.449785 209.449785 0 1 0 0-418.89957 209.449785 209.449785 0 0 0 0 418.89957z",fill:"currentColor",stroke:"currentColor","p-id":"9355"},null,-1),E=[A];function F(f,c){return o(),a("svg",D,E)}const L=k(B,[["render",F]]),M={"data-theme":"cupcake",class:"bg-base-100"},O={class:"navbar shadow-sm"},P={class:"flex-none"},q={class:"btn btn-sm",onclick:"alert('目前仅开通成都市');"},H={class:"flex-1"},R=s("div",{class:"avatar"},[s("div",{class:"size-10 rounded-full"},[s("img",{src:V,alt:""})])],-1),T={class:"flex-none gap-2"},U={class:"dropdown dropdown-end"},Q={tabindex:"0",role:"button",class:"btn btn-ghost btn-circle avatar"},G={class:"btn btn-circle"},J={tabindex:"0",class:"mt-3 z-[1] p-2 shadow menu menu-lg dropdown-content bg-base-100 rounded-box w-52"},K=s("span",{class:"badge"},"New",-1),W=s("span",{class:"badge"},"看监控",-1),X={key:0},Y={class:"flex justify-center"},Z={class:"grid card-compact grid-flow-row-dense grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mx-3 mt-2"},ss=["src"],ts={class:"card-body"},es={class:"card-title text-sm"},os=s("p",{class:"text-xs"},"距离机场约9分钟车程",-1),as={class:"card-actions justify-end"},ns=["onClick"],rs={__name:"HomeView",setup(f){const c=y(),l=C(),i=I(),p=$();function h(){l.push({name:"Profile"})}function v(){l.push({name:"CameraList"})}function w(){p.logout(),i.commit("SET_USER_INFO",null),localStorage.removeItem("userInfo"),window.location.reload()}z(()=>{});const x=async t=>{l.push({name:"Detail",params:{id:t.id}})};return(async()=>{const t=i.state.userInfo,r=t?t.token:null,e=await(await fetch("https://fc.mayizuanqian.com/get_parking_lot",{headers:r?{Authorization:`${r}`}:{}})).json();e.code===0?c.value=[...e.data,...e.data,...e.data]:alert(e.message)})(),(t,r)=>(o(),a("div",M,[s("div",O,[s("div",P,[s("button",q,[_("成都 "),g(N,{class:"size-5"})])]),s("div",H,[R,s("div",{class:"badge badge-secondary badge-lg ml-0",onClick:h},u(t.$store.state.userInfo&&t.$store.state.userInfo.phone||"请登录"),1)]),s("div",T,[s("div",U,[s("div",Q,[s("button",G,[g(L,{class:"text-primary-500 size-6"})])]),s("ul",J,[s("li",null,[s("button",{class:"justify-between",onClick:h},[_(" 个人中心 "),K]),s("button",{class:"justify-between",onClick:v},[_(" 订单 "),W])]),S(i).state.userInfo?(o(),a("li",X,[s("button",{onClick:w},"退出登录")])):j("",!0)])])])]),s("div",Y,[s("div",Z,[(o(!0),a(m,null,b(c.value,(n,e)=>(o(),a("div",{key:e,class:"card w-full shadow-xl"},[s("figure",null,[s("img",{src:n.scene_imgs[0].url,alt:"Shoes"},null,8,ss)]),s("div",ts,[s("h2",es,u(n.title)+" ",1),os,s("div",as,[(o(!0),a(m,null,b(n.tag,d=>(o(),a("div",{key:d,class:"badge badge-accent badge-outline badge-sm"},u(d.title),1))),128)),s("button",{class:"btn btn-block btn-primary",onClick:d=>x(n)},"查看",8,ns)])])]))),128))])])]))}};export{rs as default};
